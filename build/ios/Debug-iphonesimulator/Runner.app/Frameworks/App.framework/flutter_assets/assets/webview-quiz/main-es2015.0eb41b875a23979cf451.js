(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.r(e),n.d(e,"Component",function(){return s}),n.d(e,"ComponentContainer",function(){return a}),n.d(e,"Provider",function(){return o});var i=n("mrSG"),r=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var r=Object(i.__values)(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var o=Object(i.__read)(s.value,2),a=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t;return Object(i.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(i.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,s=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var c=Object(i.__values)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=Object(i.__read)(u.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var s=this.instances.get(i);return s&&t(s,i),function(){r.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,s=this.onInitCallbacks.get(e);if(s)try{for(var o=Object(i.__values)(s),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(t,e)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:r}),this.instances.set(n,s),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(o){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/d8p":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("EY2u");function s(t=-1){return e=>0===t?Object(r.b)():e.lift(new o(t<0?-1:t-1,e))}class o{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new a(t,this.count,this.source))}}class a extends i.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}},"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends i.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("qUr0")},"1G5W":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("l7GE"),r=n("ZUHj");function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.notifier=t}call(t,e){const n=new a(t),i=Object(r.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class a extends i.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1kSV":function(t,e,n){"use strict";n.d(e,"a",function(){return gt}),n.d(e,"b",function(){return Et}),n.d(e,"c",function(){return mt}),n.d(e,"d",function(){return Ft}),n.d(e,"e",function(){return jt});var i=n("fXoL"),r=n("ofXK"),s=n("HDdC"),o=n("EY2u"),a=n("LRne"),c=n("XNiG"),u=n("xgIS"),l=n("PqYM"),h=n("DH7j"),d=n("yCtX"),p=n("l7GE"),f=n("ZUHj");function _(...t){if(1===t.length){if(!Object(h.a)(t[0]))return t[0];t=t[0]}return Object(d.a)(t,void 0).lift(new g)}class g{call(t,e){return e.subscribe(new m(t))}}class m extends p.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],i=Object(f.a)(this,e,e,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(t,e,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("2Vo4"),n("itXk"),n("5yfJ");var v=n("7o/Q"),y=n("Lhse");function b(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(d.a)(t,void 0).lift(new E(e))}class E{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new O(t,this.resultSelector))}}class O extends v.a{constructor(t,e,n=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=n}_next(t){const e=this.iterators;Object(h.a)(t)?e.push(new C(t)):e.push("function"==typeof t[y.a]?new S(t[y.a]()):new T(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe(e,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let i=!1;const r=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(i=!0),o.done)return void n.complete();r.push(o.value)}this.resultSelector?this._tryresultSelector(r):n.next(r),i&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class S{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class C{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[y.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class T extends p.a{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[y.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,n,i,r){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return Object(f.a)(this,this.observable,this,e)}}var w=n("VRyK"),D=n("GyhO"),P=n("1G5W"),A=n("pLZG"),I=n("IzEk"),M=n("lJxs"),x=(n("JX91"),n("/uUt"),n("eIep")),R=n("vkgz"),k=n("zp1y"),L=n("3E0/"),j=n("5+tZ"),N=n("w1tV"),U=n("3Pt+");const B=["*"],F=["dialog"];function q(t){return null!=t}function V(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const W={animation:!0,transitionTimerDelayMs:5};let G=(()=>{class t{constructor(){this.animation=W.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const K=()=>{},{transitionTimerDelayMs:z}=W,$=new Map,H=(t,e,n,i)=>{let r=i.context||{};const h=$.get(e);if(h)switch(i.runningTransition){case"continue":return o.a;case"stop":t.run(()=>h.transition$.complete()),r=Object.assign(h.context,r),$.delete(e)}const d=n(e,i.animation,r)||K;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>d()),Object(a.a)(void 0).pipe(function(t){return e=>new s.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const p=new c.a,f=new c.a,g=p.pipe(function(...t){return e=>Object(D.a)(e,Object(a.a)(...t))}(!0));$.set(e,{transition$:p,complete:()=>{f.next(),f.complete()},context:r});const m=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Object(u.a)(e,"transitionend").pipe(Object(P.a)(g),Object(A.a)(({target:t})=>t===e));_(Object(l.a)(m+z).pipe(Object(P.a)(g)),n,f).pipe(Object(P.a)(g)).subscribe(()=>{$.delete(e),t.run(()=>{d(),p.next(),p.complete()})})}),p.asObservable()};let Q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({}),t})();var tt=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const et=(t,e)=>!!e&&e.some(e=>e.contains(t)),nt=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),it="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const rt=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function st(t){const e=Array.from(t.querySelectorAll(rt)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const ot=/\s+/,at=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(i=this.offset(e,!1)),i.top+=e.clientTop,i.left+=e.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,i){const[r="top",s="center"]=n.split("-"),o=i?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,p=0;switch(r){case"top":d=o.top-(e.offsetHeight+c+u);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(e.offsetWidth+l+h);break;case"right":p=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-e.offsetWidth;break;case"center":"top"===r||"bottom"===r?p=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=e.getBoundingClientRect(),_=document.documentElement,g=window.innerHeight||_.clientHeight,m=window.innerWidth||_.clientWidth;return f.left>=0&&f.top>=0&&f.right<=m&&f.bottom<=g}};new Date(1882,10,12),new Date(2174,10,25);let ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b,U.c]]}),t})(),ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({}),t})(),lt=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(i.cc(G))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.cc)(G))},token:t,providedIn:"root"}),t})();class ht{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class dt{constructor(t,e,n,i,r,s,o){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=i,this._ngZone=r,this._componentFactoryResolver=s,this._applicationRef=o,this._windowRef=null,this._contentRef=null}open(t,e,n=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));const{nativeElement:i}=this._windowRef.location,r=this._ngZone.onStable.pipe(Object(I.a)(1),Object(j.a)(()=>H(this._ngZone,i,({classList:t})=>t.add("show"),{animation:n,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:r}}close(t=!1){return this._windowRef?H(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:t,runningTransition:"stop"}).pipe(Object(R.a)(()=>{var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Object(a.a)(void 0)}_getContentRef(t,e){if(t){if(t instanceof i.M){const n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new ht([n.rootNodes],n)}return new ht([[this._renderer.createText(`${t}`)]])}return new ht([])}}const pt=()=>{};let ft=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):pt}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${i+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(i.cc(r.c))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.cc)(r.c))},token:t,providedIn:"root"}),t})(),_t=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Object(I.a)(1)).subscribe(()=>{H(this._zone,this._el.nativeElement,(t,e)=>{e&&V(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return H(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.A))},t.\u0275cmp=i.Kb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Fb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),i.Ib("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class gt{close(t){}dismiss(t){}}class mt{constructor(t,e,n,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=i,this._closed=new c.a,this._dismissed=new c.a,this._hidden=new c.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Object(P.a)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Object(P.a)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(a.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),b(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var vt=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let yt=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new c.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.n,this.shown=new c.a,this.hidden=new c.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Object(I.a)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=b(H(this._zone,t,()=>t.classList.remove("show"),e),H(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};b(H(this._zone,this._elRef.nativeElement,(t,e)=>{e&&V(t),t.classList.add("show")},t),H(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Object(u.a)(t,"keydown").pipe(Object(P.a)(this._closed$),Object(A.a)(t=>t.which===tt.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(vt.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Object(u.a)(this._dialogEl.nativeElement,"mousedown").pipe(Object(P.a)(this._closed$),Object(R.a)(()=>e=!1),Object(x.a)(()=>Object(u.a)(t,"mouseup").pipe(Object(P.a)(this._closed$),Object(I.a)(1))),Object(A.a)(({target:e})=>t===e)).subscribe(()=>{e=!0}),Object(u.a)(t,"click").pipe(Object(P.a)(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(vt.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=st(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&H(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(r.c),i.Qb(i.l),i.Qb(i.A))},t.\u0275cmp=i.Kb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&i.Mc(F,3),2&t){let t;i.zc(t=i.gc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Eb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),i.Fb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),i.Ib("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:B,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(i.nc(),i.Vb(0,"div",0,1),i.Vb(2,"div",2),i.mc(3),i.Ub(),i.Ub()),2&t&&i.Fb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),bt=(()=>{class t{constructor(t,e,n,r,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new c.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Object(u.a)(e,"focusin").pipe(Object(P.a)(n),Object(M.a)(t=>t.target));Object(u.a)(e,"keydown").pipe(Object(P.a)(n),Object(A.a)(t=>t.which===tt.Tab),Object(k.a)(t)).subscribe(([t,n])=>{const[i,r]=st(e);n!==i&&n!==e||!t.shiftKey||(r.focus(),t.preventDefault()),n!==r||t.shiftKey||(i.focus(),t.preventDefault())}),i&&Object(u.a)(e,"click").pipe(Object(P.a)(n),Object(k.a)(t),Object(M.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,i){const r=i.container instanceof HTMLElement?i.container:q(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!r)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const c=new gt,u=this._getContentRef(t,i.injector||e,n,c,i);let l=!1!==i.backdrop?this._attachBackdrop(t,r):void 0,h=this._attachWindowComponent(t,r,u),d=new mt(h,u,l,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,i),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(_t).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let i=t.resolveComponentFactory(yt).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{q(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{q(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,s){return n?n instanceof i.M?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,s):new ht([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new ht([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new ht([[e]])}_createFromComponent(t,e,n,r,s){const o=t.resolveComponentFactory(n),a=i.s.create({providers:[{provide:gt,useValue:r}],parent:e}),c=o.create(a),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new ht([[u]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(i.cc(i.g),i.cc(i.s),i.cc(r.c),i.cc(ft),i.cc(i.F),i.cc(i.A))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.cc)(i.g),Object(i.cc)(i.o),Object(i.cc)(r.c),Object(i.cc)(ft),Object(i.cc)(i.F),Object(i.cc)(i.A))},token:t,providedIn:"root"}),t})(),Et=(()=>{class t{constructor(t,e,n,i){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=i}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(i.cc(i.j),i.cc(i.s),i.cc(bt),i.cc(lt))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.cc)(i.j),Object(i.cc)(i.o),Object(i.cc)(bt),Object(i.cc)(lt))},token:t,providedIn:"root"}),t})(),Ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({providers:[Et]}),t})(),St=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})();class Tt{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const wt={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Dt=t=>t>0?Object(L.a)(t):t=>t;let Pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),It=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),Mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})(),Rt=(()=>{class t{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(i.cc(G))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.cc)(G))},token:t,providedIn:"root"}),t})(),kt=0,Lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,e){2&t&&(i.Yb("id",e.id),i.Fb("tooltip"+(e.tooltipClass?" "+e.tooltipClass:"")),i.Ib("fade",e.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:B,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(i.nc(),i.Rb(0,"div",0),i.Vb(1,"div",1),i.mc(2),i.Ub())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{bottom:.4rem;top:auto}"],encapsulation:2,changeDetection:0}),t})(),jt=(()=>{class t{constructor(t,e,n,r,s,o,a,c,u,l){this._elementRef=t,this._renderer=e,this._ngZone=a,this._document=c,this._changeDetector=u,this.shown=new i.n,this.hidden=new i.n,this._ngbTooltipWindowId="ngb-tooltip-"+kt++,this._windowRef=null,this.animation=o.animation,this.autoClose=o.autoClose,this.placement=o.placement,this.triggers=o.triggers,this.container=o.container,this.disableTooltip=o.disableTooltip,this.tooltipClass=o.tooltipClass,this.openDelay=o.openDelay,this.closeDelay=o.closeDelay,this._popupService=new dt(Lt,n,s,e,this._ngZone,r,l),this._zoneSubscription=a.onStable.subscribe(()=>{this._windowRef&&function(t,e,n,i,r){let s=Array.isArray(n)?n:n.split(ot);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,c=t=>{const[e,n]=t.split("-"),i=[];return i.push(`bs-tooltip-${e}`),n&&i.push(`bs-tooltip-${e}-${n}`),i.forEach(t=>{a.add(t)}),i};o.forEach(t=>{a.remove(`bs-tooltip-${t}`)});let u=s.findIndex(t=>"auto"===t);u>=0&&o.forEach(function(t){null==s.find(e=>-1!==e.search("^"+t))&&s.splice(u++,1,t)});const l=e.style;l.position="absolute",l.top="0",l.left="0",l["will-change"]="transform";let h=null,d=!1;for(h of s){let n=c(h);if(at.positionElements(t,e,h,i)){d=!0;break}n.forEach(t=>{a.remove(t)})}d||(h=s[0],c(h),at.positionElements(t,e,h,i))}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:e,transition$:n}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=e,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(t,e,n,i,r,s,o,a){var c;n&&t.runOutsideAngular((c=()=>{const c=Object(u.a)(e,"keydown").pipe(Object(P.a)(r),Object(A.a)(t=>t.which===tt.Escape),Object(R.a)(t=>t.preventDefault())),l=Object(u.a)(e,"mousedown").pipe(Object(M.a)(t=>{const e=t.target;return 2!==t.button&&!et(e,o)&&("inside"===n?et(e,s)&&nt(e,a):"outside"===n?!et(e,s):nt(e,a)||!et(e,s))}),Object(P.a)(r)),h=Object(u.a)(e,"mouseup").pipe(Object(k.a)(l),Object(A.a)(([t,e])=>e),Object(L.a)(0),Object(P.a)(r));_([c.pipe(Object(M.a)(t=>0)),h.pipe(Object(M.a)(t=>1))]).subscribe(e=>t.run(()=>i(e)))},it?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),n.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(t,e,n,i,r,o,a=0,c=0){const u=function(t,e=wt){const n=(t||"").trim();if(0===n.length)return[];const i=n.split(/\s+/).map(t=>t.split(":")).map(t=>{let n=e[t[0]]||t;return new Tt(n[0],n[1])}),r=i.filter(t=>t.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(n);if(1===u.length&&u[0].isManual())return()=>{};const l=function(t,e,n,i){return new s.a(r=>{const s=[],o=()=>r.next(!0),a=()=>r.next(!1),c=()=>r.next(!i());return n.forEach(n=>{n.open===n.close?s.push(t.listen(e,n.open,c)):s.push(t.listen(e,n.open,o),t.listen(e,n.close,a))}),()=>{s.forEach(t=>t())}})}(t,e,u,i).pipe(function(t,e,n){return i=>{let r=null;const s=i.pipe(Object(M.a)(t=>({open:t})),Object(A.a)(t=>{const e=n();return e===t.open||r&&r.open!==e?(r&&r.open!==t.open&&(r=null),!1):(r=t,!0)}),Object(N.a)()),o=s.pipe(Object(A.a)(t=>t.open),Dt(t)),a=s.pipe(Object(A.a)(t=>!t.open),Dt(e));return Object(w.a)(o,a).pipe(Object(A.a)(t=>t===r&&(r=null,t.open!==n())),Object(M.a)(t=>t.open))}}(a,c,i)).subscribe(t=>t?r():o());return()=>l.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.E),i.Qb(i.s),i.Qb(i.j),i.Qb(i.R),i.Qb(Rt),i.Qb(i.A),i.Qb(r.c),i.Qb(i.h),i.Qb(i.g))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.Bb]}),t})(),Nt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({}),t})();new i.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[r.b]]}),t})();const Bt=[Q,Y,X,Z,J,ct,ut,Ot,St,Ct,Pt,At,It,Mt,xt,Nt,Ut];let Ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[Bt,Q,Y,X,Z,J,ct,ut,Ot,St,Ct,Pt,At,It,Mt,xt,Nt,Ut]}),t})()},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("XNiG"),r=n("9ppp");class s extends i.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"3E0/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("D0XW"),r=n("7o/Q"),s=n("WMd4");function o(t,e=i.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new a(r,e))}class a{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))}}class c extends r.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(c.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new u(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(s.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(s.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.time=t,this.notification=e}}},"3Kre":function(t,e,n){"use strict";var i,r=n("mrSG"),s=n("zIRd"),o=(n("fSjL"),n("q/0M")),a=n("qOnz"),c=n("/6Yf"),u="https://www.googletagmanager.com/gtag/js",l=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),h=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),d=new o.Logger("@firebase/analytics");function p(t,e,n,i,s,o){return Object(r.__awaiter)(this,void 0,void 0,function(){var a,c,u,h;return Object(r.__generator)(this,function(r){switch(r.label){case 0:a=i[s],r.label=1;case 1:return r.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return r.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=r.sent(),(u=c.find(function(t){return t.measurementId===s}))?[4,e[u.appId]]:[3,6];case 5:r.sent(),r.label=6;case 6:return[3,8];case 7:return h=r.sent(),d.error(h),[3,8];case 8:return t(l.CONFIG,s,o),[2]}})})}function f(t,e,n,i,s){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,c,u,h,p,f;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),o=[],s&&s.send_to?(a=s.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=r.sent(),u=function(t){var n=c.find(function(e){return e.measurementId===t}),i=n&&e[n.appId];if(!i)return o=[],"break";o.push(i)},h=0,p=a;h<p.length&&"break"!==u(p[h]);h++);r.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return r.sent(),t(l.EVENT,i,s||{}),[3,5];case 4:return f=r.sent(),d.error(f),[3,5];case 5:return[2]}})})}var _=((i={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",i["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",i["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",i["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",i["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",i["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",i["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",i["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',i["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',i),g=new a.ErrorFactory("analytics","Analytics",_),m=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function v(t){var e;return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,s,o,a,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=t.appId,i={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(s,i)];case 1:if(200===(o=r.sent()).status||304===o.status)return[3,6];a="",r.label=2;case 2:return r.trys.push([2,4,,5]),[4,o.json()];case 3:return c=r.sent(),(null===(e=c.error)||void 0===e?void 0:e.message)&&(a=c.error.message),[3,5];case 4:return r.sent(),[3,5];case 5:throw g.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var u})})}function y(t,e,n,i){var s=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===i&&(i=m),Object(r.__awaiter)(this,void 0,void 0,function(){var e,c,u,l,h,p,f;return Object(r.__generator)(this,function(r){switch(r.label){case 0:e=t.appId,c=t.measurementId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,b(n,s)];case 2:return r.sent(),[3,4];case 3:if(u=r.sent(),c)return d.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:c}];throw u;case 4:return r.trys.push([4,6,,7]),[4,v(t)];case 5:return l=r.sent(),i.deleteThrottleMetadata(e),[2,l];case 6:if(!function(t){if(!(t instanceof a.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h=r.sent())){if(i.deleteThrottleMetadata(e),c)return d.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:e,measurementId:c}];throw h}return p=503===Number(h.customData.httpStatus)?Object(a.calculateBackoffMillis)(o,i.intervalMillis,30):Object(a.calculateBackoffMillis)(o,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+p,backoffCount:o+1},i.setThrottleMetadata(e,f),d.debug("Calling attemptFetch again in "+p+" millis"),[2,y(t,f,n,i)];case 7:return[2]}})})}function b(t,e){return new Promise(function(n,i){var r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(function(){clearTimeout(s),i(g.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var E,O,S,C=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),T={},w=[],D={},P="dataLayer",A="gtag",I=!1;(S=s.default).INTERNAL.registerComponent(new c.Component("analytics",function(t){return function(t,e){!function(){var t=[];if(Object(a.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(a.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=g.create("invalid-analytics-context",{errorInfo:e});d.warn(n.message)}}();var n=t.options.appId;if(!n)throw g.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw g.create("no-api-key");d.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=T[n])throw g.create("already-exists",{id:n});if(!I){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(P);var i=function(t,e,n,i,s){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[i].push(arguments)};return window[s]&&"function"==typeof window[s]&&(o=window[s]),window[s]=function(t,e,n,i){return function(s,o,a){return Object(r.__awaiter)(this,void 0,void 0,function(){var c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),s!==l.EVENT?[3,2]:[4,f(t,e,n,o,a)];case 1:return r.sent(),[3,5];case 2:return s!==l.CONFIG?[3,4]:[4,p(t,e,n,i,o,a)];case 3:return r.sent(),[3,5];case 4:t(l.SET,o),r.label=5;case 5:return[3,7];case 6:return c=r.sent(),d.error(c),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}(T,w,D,P,A);O=i.wrappedGtag,E=i.gtagCore,I=!0}return T[n]=function(t,e,n,i,s,o){return Object(r.__awaiter)(this,void 0,void 0,function(){var c,h,p,f,_,v,b;return Object(r.__generator)(this,function(E){switch(E.label){case 0:return(c=function(t,e,n){return void 0===e&&(e=m),Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,s,o,a,c,u=this;return Object(r.__generator)(this,function(l){if(s=(n=t.options).apiKey,o=n.measurementId,!(i=n.appId))throw g.create("no-app-id");if(!s){if(o)return[2,{measurementId:o,appId:i}];throw g.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new C,setTimeout(function(){return Object(r.__awaiter)(u,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return c.abort(),[2]})})},6e4),[2,y({appId:i,apiKey:s,measurementId:o},a,c,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&d.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return d.error(t)}),e.push(c),h=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(e){switch(e.label){case 0:return Object(a.isIndexedDBAvailable)()?[3,1]:(d.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),d.warn(g.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?i.getId():void 0}),[4,Promise.all([c,h])];case 1:return p=E.sent(),f=p[0],_=p[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var i=n[e];if(i.src&&i.src.includes(u))return i}return null}()||function(t,e){var n=document.createElement("script");n.src=u+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,f.measurementId),s("js",new Date),(b={}).origin="firebase",b.update=!0,v=b,null!=_&&(v.firebase_id=_),s(l.CONFIG,f.measurementId,v),[2,f.measurementId]}})})}(t,w,D,e,E,P),{app:t,logEvent:function(t,e,i){(function(t,e,n,i,s){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a;return Object(r.__generator)(this,function(c){switch(c.label){case 0:return s&&s.global?(t(l.EVENT,n,i),[2]):[3,1];case 1:return[4,e];case 2:o=c.sent(),a=Object(r.__assign)(Object(r.__assign)({},i),{send_to:o}),t(l.EVENT,n,a),c.label=3;case 3:return[2]}})})})(O,T[n],t,e,i).catch(function(t){return d.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i&&i.global?(t(l.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:s=r.sent(),t(l.CONFIG,s,{update:!0,screen_name:n}),r.label=3;case 3:return[2]}})})})(O,T[n],t,e).catch(function(t){return d.error(t)})},setUserId:function(t,e){(function(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i&&i.global?(t(l.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:s=r.sent(),t(l.CONFIG,s,{update:!0,user_id:n}),r.label=3;case 3:return[2]}})})})(O,T[n],t,e).catch(function(t){return d.error(t)})},setUserProperties:function(t,e){(function(t,e,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var s,o,a,c,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(!i||!i.global)return[3,1];for(s={},o=0,a=Object.keys(n);o<a.length;o++)s["user_properties."+(c=a[o])]=n[c];return t(l.SET,s),[2,Promise.resolve()];case 1:return[4,e];case 2:u=r.sent(),t(l.CONFIG,u,{update:!0,user_properties:n}),r.label=3;case 3:return[2]}})})})(O,T[n],t,e).catch(function(t){return d.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(r.__awaiter)(this,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return[4,t];case 1:return n=i.sent(),window["ga-disable-"+n]=!e,[2]}})})})(T[n],t).catch(function(t){return d.error(t)})},INTERNAL:{delete:function(){return delete T[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(t){if(I)throw g.create("already-initialized");t.dataLayerName&&(P=t.dataLayerName),t.gtagName&&(A=t.gtagName)},EventName:h,isSupported:function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:if(Object(a.isBrowserExtension)())return[2,!1];if(!Object(a.areCookiesEnabled)())return[2,!1];if(!Object(a.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}})),S.INTERNAL.registerComponent(new c.Component("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw g.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),S.registerVersion("@firebase/analytics","0.6.18")},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return et}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return A}),n.d(e,"g",function(){return G}),n.d(e,"h",function(){return Q}),n.d(e,"i",function(){return H}),n.d(e,"j",function(){return J});var i=n("fXoL"),r=n("ofXK"),s=n("Cfvw"),o=n("cp0P"),a=n("lJxs");class c{}const u=new i.r("NgValueAccessor"),l={provide:u,useExisting:Object(i.V)(()=>h),multi:!0};let h=(()=>{class t extends c{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.E),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.fc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[i.Cb([l]),i.Ab]}),t})();const d={provide:u,useExisting:Object(i.V)(()=>f),multi:!0},p=new i.r("CompositionEventMode");let f=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(r.E)()?Object(r.E)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.E),i.Qb(i.l),i.Qb(p,8))},t.\u0275dir=i.Lb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.fc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i.Cb([d])]}),t})();const _=new i.r("NgValidators"),g=new i.r("NgAsyncValidators");function m(t){return null!=t}function v(t){const e=Object(i.ub)(t)?Object(s.a)(t):t;return Object(i.tb)(e),e}function y(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function b(t,e){return e.map(e=>e(t))}function E(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function O(t){return null!=t?function(t){if(!t)return null;const e=t.filter(m);return 0==e.length?null:function(t){return y(b(t,e))}}(E(t)):null}function S(t){return null!=t?function(t){if(!t)return null;const e=t.filter(m);return 0==e.length?null:function(t){const n=b(t,e).map(v);return Object(o.a)(n).pipe(Object(a.a)(y))}}(E(t)):null}function C(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let T=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=O(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t}),t})(),w=(()=>{class t extends T{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return D(e||t)},t.\u0275dir=i.Lb({type:t,features:[i.Ab]}),t})();const D=i.Xb(w);class P extends T{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let A=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(P,2))},t.\u0275dir=i.Lb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Ib("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.Ab]}),t})();function I(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function M(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function x(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function R(t){return(N(t)?t.validators:t)||null}function k(t){return Array.isArray(t)?O(t):t||null}function L(t,e){return(N(e)?e.asyncValidators:t)||null}function j(t){return Array.isArray(t)?S(t):t||null}function N(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class U{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=k(this._rawValidators),this._composedAsyncValidatorFn=j(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=k(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=j(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=v(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof F?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof q&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.n,this.statusChanges=new i.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){N(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class B extends U{constructor(t=null,e,n){super(R(e),L(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){x(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){x(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class F extends U{constructor(t,e,n){super(R(e),L(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof B?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class q extends U{constructor(t,e,n){super(R(e),L(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof B?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const V={provide:P,useExisting:Object(i.V)(()=>G)},W=(()=>Promise.resolve(null))();let G=(()=>{class t extends P{constructor(t,e,n,r){super(),this.control=new B,this._registered=!1,this.update=new i.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{t.constructor===f?n=t:Object.getPrototypeOf(t.constructor)===c?i=t:r=t}),r||i||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const i=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(C(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(C(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);{const n=()=>t.updateValueAndValidity();I(e._rawValidators,n),I(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&M(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&M(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){W.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;W.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(w,9),i.Qb(_,10),i.Qb(g,10),i.Qb(u,10))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Cb([V]),i.Ab,i.Bb]}),t})(),K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({}),t})();const z={provide:u,useExisting:Object(i.V)(()=>H),multi:!0};function $(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let H=(()=>{class t extends c{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=$(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.E),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.fc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Cb([z]),i.Ab]}),t})(),Q=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue($(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.E),i.Qb(H,9))},t.\u0275dir=i.Lb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Y={provide:u,useExisting:Object(i.V)(()=>Z),multi:!0};function X(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Z=(()=>{class t extends c{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.E),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.fc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Cb([Y]),i.Ab]}),t})(),J=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(X(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(X(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.E),i.Qb(Z,9))},t.\u0275dir=i.Lb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[[K]]}),t})(),et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({imports:[tt]}),t})()},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("ZUHj"),r=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(c((n,i)=>Object(a.a)(t(n,i)).pipe(Object(o.a)((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends r.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new s.a(this,e,n),o=this.destination;o.add(r);const a=Object(i.a)(this,t,void 0,void 0,r);a!==r&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");class r extends i.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5yfJ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("KqfI");const s=new i.a(r.a)},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),i=n("/6Yf"),r=n("qOnz"),s=n("mrSG"),o=n("q/0M"),a="";function c(t){a=t}var u,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(r.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(r.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(r.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},p=d("localStorage"),f=d("sessionStorage"),_=new o.Logger("@firebase/database"),g=(u=1,function(){return u++}),m=function(t){var e=Object(r.stringToByteArray)(t),n=new r.Sha1;n.update(e);var i=n.digest();return r.base64.encodeByteArray(i)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var s=t[i];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?n+=v.apply(null,s):n+="object"==typeof s?Object(r.stringify)(s):s,n+=" "}return n},y=null,b=!0,E=function(t,e){Object(r.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(_.logLevel=o.LogLevel.VERBOSE,y=_.log.bind(_),e&&f.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,f.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===y&&!0===f.get("logging_enabled")&&E(!0)),y){var n=v.apply(null,t);y(n)}},S=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,Object(s.__spreadArray)([t],Object(s.__read)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,Object(s.__spreadArray)([],Object(s.__read)(t)));_.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,Object(s.__spreadArray)([],Object(s.__read)(t)));throw _.error(n),new Error(n)},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,Object(s.__spreadArray)([],Object(s.__read)(t)));_.warn(n)},D=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},P="[MIN_NAME]",A="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===P||e===A)return-1;if(e===P||t===A)return 1;var n=U(t),i=U(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},M=function(t,e){return t===e?0:t<e?-1:1},x=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(r.stringify)(e))},R=function(t){if("object"!=typeof t||null===t)return Object(r.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",s=0;s<e.length;s++)0!==s&&(i+=","),i+=Object(r.stringify)(e[s]),i+=":",i+=R(t[e[s]]);return i+"}"},k=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j=function(t){var e,n,i,s,o;Object(r.assert)(!D(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(s=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-s)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),u="";for(o=0;o<64;o+=8){var l=parseInt(c.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},N=new RegExp("^-?(0*)\\d{1,10}$"),U=function(t){if(N.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},B=function(t){try{t()}catch(e){setTimeout(function(){throw w("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},F=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,i){setTimeout(function(){e.appCheck?e.getToken(t).then(n,i):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){w('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),V=function(){function t(t,e,n){var i=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return i.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,i){setTimeout(function(){e.auth_?e.getToken(t).then(n,i):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';w(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),W=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=!1),void 0===s&&(s=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function z(t,e,n){var i;if(Object(r.assert)("string"==typeof e,"typeof type must == string"),Object(r.assert)("object"==typeof n,"typeof params must == object"),"websocket"===e)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var s=[];return L(n,function(t,e){s.push(t+"="+e)}),i+s.join("&")}var $=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(r.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(r.deepCopy)(this.counters_)},t}(),H={},Q={};function Y(t){var e=t.toString();return H[e]||(H[e]=new $),H[e]}var X=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&B(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),Z=function(){function t(t,e,n,i,r,s,o){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(t),this.stats_=Y(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),z(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new X(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(r.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new J(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(s.__read)(t,5),r=i[0],o=i[1],a=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===r)n.id=o,n.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(s.__read)(t,2),r=i[0],o=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&G.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(r.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(r.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(r.base64Encode)(e),i=k(n,1840),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(r.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(r.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),J=function(){function t(e,n,i,s){if(this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(r.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){O("frame writing exception"),c.stack&&O(c.stack),O(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||O("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},t.prototype.addTag=function(t,e){var n=this;Object(r.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}},Math.floor(1))},t}(),tt=null;"undefined"!=typeof MozWebSocket?tt=MozWebSocket:"undefined"!=typeof WebSocket&&(tt=WebSocket);var et=function(){function t(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=Y(n),this.connURL=t.connectionURL_(n,o,a,r),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,i){var s={v:"5"};return!Object(r.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&G.test(location.hostname)&&(s.r="f"),e&&(s.s=e),n&&(s.ls=n),i&&(s.ac=i),z(t,"websocket",s)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(Object(r.isNodeSdk)()){var i={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var s=process.env,o=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new tt(this.connURL,[],i)}else this.mySock=new tt(this.connURL,[],i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var c=u.message||u.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tt&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(r.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(r.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(r.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=k(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),nt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Z,et]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,r=et&&et.isAvailable(),o=r&&!et.previouslyFailed();if(e.webSocketOnly&&(r||w("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[et];else{var a=this.transports_=[];try{for(var c=Object(s.__values)(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),it=function(){function t(t,e,n,i,r,s,o,a,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new nt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=F(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=x("t",t),n=x("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=x("t",t),n=x("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=x("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&w("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),F(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),rt=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),st=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(r.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=Object(s.__spreadArray)([],Object(s.__read)(this.listeners_[t])),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){Object(r.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ot=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(r.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(r.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(st),at=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ct(){return new at("")}function ut(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function lt(t){return t.pieces_.length-t.pieceNum_}function ht(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function dt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function ft(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function _t(t,e){for(var n=[],i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof at)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new at(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function mt(t,e){var n=ut(t),i=ut(e);if(null===n)return e;if(n===i)return mt(ht(t),ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function vt(t,e){for(var n=pt(t,0),i=pt(e,0),r=0;r<n.length&&r<i.length;r++){var s=I(n[r],i[r]);if(0!==s)return s}return n.length===i.length?0:n.length<i.length?-1:1}function yt(t,e){if(lt(t)!==lt(e))return!1;for(var n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function bt(t,e){var n=t.pieceNum_,i=e.pieceNum_;if(lt(t)>lt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var Et=function(){return function(t,e){this.errorPrefix_=e,this.parts_=pt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(r.stringLength)(this.parts_[n]);Ot(this)}}();function Ot(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+St(t))}function St(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Ct,Tt,wt=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return Object(s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(r.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(st),Dt=function(t){function e(n,i,s,o,a,c,u,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=i,h.onDataUpdate_=s,h.onConnectStatus_=o,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=S("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(r.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return wt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ot.getInstance().on("online",h.onOnline_,h),h}return Object(s.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,s={r:i,a:t,b:e};this.log_(Object(r.stringify)(s)),Object(r.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[i]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new r.Deferred,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:function(t){var r=t.d;"ok"===t.s?(e.onDataUpdate_(i.p,r,!1,null),n.resolve(r)):n.reject(r)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[o];void 0!==t&&s===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,i){this.initConnection_();var s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Object(r.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(r.assert)(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(i){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);var o={p:r};t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,function(o){var a=o.d,c=o.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(s))===t&&(n.log_("listen response",o),"ok"!==c&&n.removeListen_(r,s),t.onComplete&&t.onComplete(c,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(r.contains)(t,"w")){var n=Object(r.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e._queryParams.getIndex().toString()+'"',s=e._path.toString();w("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+s+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(r.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(r.isValidFormat)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,i=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,i)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Object(r.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){this.initConnection_();var s={p:e,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(r.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(r.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(r.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,a,c,u,l,h,d,p,f,_,g=this;return Object(s.__generator)(this,function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,u=null,this.realtime_={close:l=function(){u?u.close():(c=!0,i())},sendRequest:function(t){Object(r.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=s.__read.apply(void 0,[m.sent(),2]),p=d[0],f=d[1],c?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=f&&f.token,u=new it(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,function(t){w(t+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},a)),[3,4];case 3:return _=m.sent(),this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&w(_),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(r.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return R(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new at(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){O("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth(),this.tryAppCheck();try{for(var r=Object(s.__values)(this.listens.values()),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var c=(n=void 0,Object(s.__values)(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(r.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+a.replace(/\./g,"-")]=1,Object(r.isMobileCordova)()?t["framework.cordova"]=1:Object(r.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ot.getInstance().currentlyOnline();return Object(r.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(rt),Pt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),At=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Pt(P,t),i=new Pt(P,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return Pt.MIN},t}(),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Ct},set:function(t){Ct=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(r.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Pt.MIN},e.prototype.maxPost=function(){return new Pt(A,Ct)},e.prototype.makePost=function(t,e){return Object(r.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Pt(t,Ct)},e.prototype.toString=function(){return".key"},e}(At),Mt=new It,xt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Rt=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Lt.EMPTY_NODE,this.right=null!=s?s:Lt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Lt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Lt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Rt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Lt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new xt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new xt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new kt,t}();function jt(t,e){return I(t.name,e.name)}function Nt(t,e){return I(t,e)}var Ut,Bt,Ft,qt,Vt,Wt=function(t){return"number"==typeof t?"number:"+j(t):"string:"+t},Gt=function(t){if(t.isLeafNode()){var e=t.val();Object(r.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(r.contains)(e,".sv"),"Priority must be a string or number.")}else Object(r.assert)(t===Tt||t.isEmpty(),"priority of unexpected type.");Object(r.assert)(t===Tt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Kt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(r.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Gt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ut},set:function(t){Ut=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return gt(e)?this:".priority"===ut(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=ut(e);return null===i?n:n.isEmpty()&&".priority"!==i?this:(Object(r.assert)(".priority"!==i||1===lt(e),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ht(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Wt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(r.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(i);return Object(r.assert)(s>=0,"Unknown leaf type: "+n),Object(r.assert)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),zt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?I(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Pt.MIN},e.prototype.maxPost=function(){return new Pt(A,new Kt("[PRIORITY-POST]",Ft))},e.prototype.makePost=function(t,e){var n=Bt(t);return new Pt(e,new Kt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(At)),$t=Math.log(2),Ht=function(){function t(t){this.count=parseInt(Math.log(t+1)/$t,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Qt=function(t,e,n,i){t.sort(e);var r=function(e,i){var s,o,a=i-e;if(0===a)return null;if(1===a)return s=t[e],o=n?n(s):s,new Rt(o,s.node,Rt.BLACK,null,null);var c=parseInt(a/2,10)+e,u=r(e,c),l=r(c+1,i);return s=t[c],o=n?n(s):s,new Rt(o,s.node,Rt.BLACK,u,l)},s=function(e){for(var i=null,s=null,o=t.length,a=function(e,i){var s=o-e,a=o;o-=e;var u=r(s+1,a),l=t[s],h=n?n(l):l;c(new Rt(h,l.node,i,null,u))},c=function(t){i?(i.left=t,i=t):(s=t,i=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Rt.BLACK):(a(h,Rt.BLACK),a(h,Rt.RED))}return s}(new Ht(t.length));return new Lt(i||e,s)},Yt={},Xt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(r.assert)(Yt&&zt,"ChildrenNode.ts has not been loaded"),qt=qt||new t({".priority":Yt},{".priority":zt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(r.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lt?e:null},t.prototype.hasIndex=function(t){return Object(r.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(r.assert)(e!==Mt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,o=[],a=!1,c=n.getIterator(Pt.Wrap),u=c.getNext();u;)a=a||e.isDefinedOn(u.node),o.push(u),u=c.getNext();i=a?Qt(o,e.getCompare()):Yt;var l=e.toString(),h=Object(s.__assign)({},this.indexSet_);h[l]=e;var d=Object(s.__assign)({},this.indexes_);return d[l]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(Object(r.map)(this.indexes_,function(t,s){var o=Object(r.safeGet)(i.indexSet_,s);if(Object(r.assert)(o,"Missing index implementation for "+s),t===Yt){if(o.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Pt.Wrap),u=c.getNext();u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Qt(a,o.getCompare())}return Yt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Pt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(r.map)(this.indexes_,function(t){if(t===Yt)return t;var i=n.get(e.name);return i?t.remove(new Pt(e.name,i)):t}),this.indexSet_)},t}(),Zt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Gt(this.priorityNode_),this.children_.isEmpty()&&Object(r.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Vt||(Vt=new t(new Lt(Nt),null,Xt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Vt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Vt:e},t.prototype.getChild=function(t){var e=ut(t);return null===e?this:this.getImmediateChild(e).getChild(ht(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(r.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new Pt(e,n),s=void 0,o=void 0;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));var a=s.isEmpty()?Vt:this.priorityNode_;return new t(s,a,o)},t.prototype.updateChild=function(t,e){var n=ut(t);if(null===n)return e;Object(r.assert)(".priority"!==ut(t)||1===lt(t),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(ht(t),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,s=!0;if(this.forEachChild(zt,function(o,a){n[o]=a.val(e),i++,s&&t.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){var o=[];for(var a in n)o[a]=n[a];return o}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Wt(this.getPriority().val())+":"),this.forEachChild(zt,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Pt(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Pt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Pt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,Pt.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,Pt.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Jt?-1:0},t.prototype.withIndex=function(e){if(e===Mt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Mt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(zt),i=e.getIterator(zt),r=n.getNext(),s=i.getNext();r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=n.getNext(),s=i.getNext()}return null===r&&null===s}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Mt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Jt=new(function(t){function e(){return t.call(this,new Lt(Nt),Zt.EMPTY_NODE,Xt.Default)||this}return Object(s.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Zt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Zt));function te(t,e){if(void 0===e&&(e=null),null===t)return Zt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(r.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Kt(t,te(e));if(t instanceof Array){var n=Zt.EMPTY_NODE;return L(t,function(e,i){if(Object(r.contains)(t,e)&&"."!==e.substring(0,1)){var s=te(i);!s.isLeafNode()&&s.isEmpty()||(n=n.updateImmediateChild(e,s))}}),n.updatePriority(te(e))}var i=[],s=!1;if(L(t,function(t,e){if("."!==t.substring(0,1)){var n=te(e);n.isEmpty()||(s=s||!n.getPriority().isEmpty(),i.push(new Pt(t,n)))}}),0===i.length)return Zt.EMPTY_NODE;var o=Qt(i,jt,function(t){return t.name},Nt);if(s){var a=Qt(i,zt.getCompare());return new Zt(o,te(e),new Xt({".priority":a},{".priority":zt}))}return new Zt(o,te(e),Xt.Default)}Object.defineProperties(Pt,{MIN:{value:new Pt(P,Zt.EMPTY_NODE)},MAX:{value:new Pt(A,Jt)}}),It.__EMPTY_NODE=Zt.EMPTY_NODE,Kt.__childrenNodeConstructor=Zt,Tt=Jt,Ft=Jt,Bt=te;var ee,ne,ie=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(r.assert)(!gt(e)&&".priority"!==ut(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(s.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?I(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=te(t),i=Zt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Pt(e,i)},e.prototype.maxPost=function(){var t=Zt.EMPTY_NODE.updateChild(this.indexPath_,Jt);return new Pt(A,t)},e.prototype.toString=function(){return pt(this.indexPath_,0).join("/")},e}(At),re=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Pt.MIN},e.prototype.maxPost=function(){return Pt.MAX},e.prototype.makePost=function(t,e){var n=te(t);return new Pt(e,n)},e.prototype.toString=function(){return".value"},e}(At)),se="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oe=(ee=0,ne=[],function(t){var e,n=t===ee;ee=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=se.charAt(t%64),t=Math.floor(t/64);Object(r.assert)(0===t,"Cannot push at time == 0");var s=i.join("");if(n){for(e=11;e>=0&&63===ne[e];e--)ne[e]=0;ne[e]++}else for(e=0;e<12;e++)ne[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)s+=se.charAt(ne[e]);return Object(r.assert)(20===s.length,"nextPushId: Length should be 20."),s}),ae=function(t){if("2147483647"===t)return"-";var e=U(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);if(n.length<786)return n.push("-"),n.join("");for(var r=n.length-1;r>=0&&"z"===n[r];)r--;if(-1===r)return A;var s=se.charAt(se.indexOf(n[r])+1);return n[r]=s,n.slice(0,r+1).join("")},ce=function(t){if("-2147483648"===t)return P;var e=U(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=se.charAt(se.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ue(t){return{type:"value",snapshotNode:t}}function le(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function he(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function de(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var pe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,s,o){Object(r.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(he(e,a)):Object(r.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(le(e,n)):o.trackChildChange(de(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(zt,function(t,i){e.hasChild(t)||n.trackChildChange(he(t,i))}),e.isLeafNode()||e.forEachChild(zt,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(de(e,i,r))}else n.trackChildChange(le(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Zt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),fe=function(){function t(e){this.indexedFilter_=new pe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,s){return this.matches(new Pt(e,n))||(n=Zt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Zt.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Zt.EMPTY_NODE);var r=this;return e.forEachChild(zt,function(t,e){r.matches(new Pt(t,e))||(i=i.updateImmediateChild(t,Zt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),_e=function(){function t(t){this.rangedFilter_=new fe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,s){return this.rangedFilter_.matches(new Pt(e,n))||(n=Zt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,s):this.fullLimitUpdateChild_(t,e,n,r,s)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Zt.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;r.hasNext()&&s<this.limit_;){var o=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(o.name,o.node),s++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Zt.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();s=0;for(var h=!1;r.hasNext();)o=r.getNext(),!h&&u(a,o)<=0&&(h=!0),h&&s<this.limit_&&u(o,c)<=0?s++:i=i.updateImmediateChild(o.name,Zt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,s){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var c=t;Object(r.assert)(c.numChildren()===this.limit_,"");var u=new Pt(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),p=i.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===e||c.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:o(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=s&&s.trackChildChange(de(e,n,d)),c.updateImmediateChild(e,n);null!=s&&s.trackChildChange(he(e,d));var _=c.updateImmediateChild(e,Zt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=s&&s.trackChildChange(le(p.name,p.node)),_.updateImmediateChild(p.name,p.node)):_}return n.isEmpty()?t:h&&o(l,u)>=0?(null!=s&&(s.trackChildChange(he(l.name,l.node)),s.trackChildChange(le(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,Zt.EMPTY_NODE)):t},t}(),ge=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(r.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(r.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(r.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(r.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(r.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===zt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function me(t,e,n){var i=t.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function ve(t,e,n){var i=t.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function ye(t,e){var n=t.copy();return n.index_=e,n}function be(t){var e,n={};return t.isDefault()||(t.index_===zt?e="$priority":t.index_===re?e="$value":t.index_===Mt?e="$key":(Object(r.assert)(t.index_ instanceof ie,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(r.stringify)(e),t.startSet_&&(n.startAt=Object(r.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(r.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(r.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(r.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Ee(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==zt&&(e.i=t.index_.toString()),e}var Oe=function(t){function e(e,n,i,r){var s=t.call(this)||this;return s.repoInfo_=e,s.onDataUpdate_=n,s.authTokenProvider_=i,s.appCheckTokenProvider_=r,s.log_=S("p:rest:"),s.listens_={},s}return Object(s.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(r.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,i,s){var o=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,i),u={};this.listens_[c]=u;var l=be(t._queryParams);this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,i),Object(r.safeGet)(o.listens_,c)===u&&s(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.get=function(t){var e=this,n=be(t._queryParams),i=t._path.toString(),s=new r.Deferred;return this.restRequest_(i+".json",n,function(t,n){var r=n;404===t&&(r=null,t=null),null===t?(e.onDataUpdate_(i,r,!1,null),s.resolve(r)):s.reject(new Error(r))}),s.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(o){var a=Object(s.__read)(o,2),c=a[0],u=a[1];c&&c.accessToken&&(e.auth=c.accessToken),u&&u.token&&(e.ac=u.token);var l=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+Object(r.querystring)(e);i.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){i.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(r.jsonEval)(h.responseText)}catch(e){w("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&w("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(rt),Se=function(){function t(){this.rootNode_=Zt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ce(){return{value:null,children:new Map}}function Te(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var i=ut(e);t.children.has(i)||t.children.set(i,Ce()),Te(t.children.get(i),e=ht(e),n)}}function we(t,e){if(gt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(zt,function(e,n){Te(t,new at(e),n)}),we(t,e)}if(t.children.size>0){var i=ut(e);return e=ht(e),t.children.has(i)&&we(t.children.get(i),e)&&t.children.delete(i),0===t.children.size}return!0}function De(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,i){De(i,new at(e.toString()+"/"+t),n)})}var Pe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(s.__assign)({},t);return this.last_&&L(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ae=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pe(t);var n=1e4+2e4*Math.random();F(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;L(e,function(e,s){s>0&&Object(r.contains)(t.statsToReport_,e)&&(n[e]=s,i=!0)}),i&&this.server_.reportStats(n),F(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ie=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Me(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var xe,Re=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ie.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(gt(this.path)){if(null!=this.affectedTree.value)return Object(r.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new at(e));return new t(ct(),n,this.revert)}return Object(r.assert)(ut(this.path)===e,"operationForChild called for unrelated child."),new t(ht(this.path),this.affectedTree,this.revert)},t}(),ke=function(){function t(t,e){this.source=t,this.path=e,this.type=Ie.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return gt(this.path)?new t(this.source,ct()):new t(this.source,ht(this.path))},t}(),Le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ie.OVERWRITE}return t.prototype.operationForChild=function(e){return gt(this.path)?new t(this.source,ct(),this.snap.getImmediateChild(e)):new t(this.source,ht(this.path),this.snap)},t}(),je=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ie.MERGE}return t.prototype.operationForChild=function(e){if(gt(this.path)){var n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new Le(this.source,ct(),n.value):new t(this.source,ct(),n)}return Object(r.assert)(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ht(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ne=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(gt(t))return this.isFullyInitialized()&&!this.filtered_;var e=ut(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Ue=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function Be(t,e,n,i,s,o){var a=i.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(r.assertionError)("Should only compare child_ events.");var i=new Pt(e.childName,e.snapshotNode),s=new Pt(n.childName,n.snapshotNode);return t.index_.compare(i,s)}(t,e,n)}),a.forEach(function(n){var i=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,o);s.forEach(function(r){r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))})})}function Fe(t,e){return{eventCache:t,serverCache:e}}function qe(t,e,n,i){return Fe(new Ne(e,n,i),t.serverCache)}function Ve(t,e,n,i){return Fe(t.eventCache,new Ne(e,n,i))}function We(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ge(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ke=function(){function t(t,e){void 0===e&&(xe||(xe=new Lt(M)),e=xe),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return L(e,function(t,e){n=n.set(new at(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ct(),value:this.value};if(gt(t))return null;var n=ut(t),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(ht(t),e);return null!=r?{path:_t(new at(n),r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(gt(e))return this;var n=ut(e),i=this.children.get(n);return null!==i?i.subtree(ht(e)):new t(null)},t.prototype.set=function(e,n){if(gt(e))return new t(n,this.children);var i=ut(e),r=(this.children.get(i)||new t(null)).set(ht(e),n),s=this.children.insert(i,r);return new t(this.value,s)},t.prototype.remove=function(e){if(gt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ut(e),i=this.children.get(n);if(i){var r=i.remove(ht(e)),s=void 0;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?new t(null):new t(this.value,s)}return this},t.prototype.get=function(t){if(gt(t))return this.value;var e=ut(t),n=this.children.get(e);return n?n.get(ht(t)):null},t.prototype.setTree=function(e,n){if(gt(e))return n;var i,r=ut(e),s=(this.children.get(r)||new t(null)).setTree(ht(e),n);return i=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(ct(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(_t(t,i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ct(),e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(gt(t))return null;var r=ut(t),s=this.children.get(r);return s?s.findOnPath_(ht(t),_t(e,r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ct(),e)},t.prototype.foreachOnPath_=function(e,n,i){if(gt(e))return this;this.value&&i(n,this.value);var r=ut(e),s=this.children.get(r);return s?s.foreachOnPath_(ht(e),_t(n,r),i):new t(null)},t.prototype.foreach=function(t){this.foreach_(ct(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(_t(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),ze=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Ke(null))},t}();function $e(t,e,n){if(gt(e))return new ze(new Ke(n));var i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,s=i.value,o=mt(r,e);return s=s.updateChild(o,n),new ze(t.writeTree_.set(r,s))}var a=new Ke(n),c=t.writeTree_.setTree(e,a);return new ze(c)}function He(t,e,n){var i=t;return L(n,function(t,n){i=$e(i,_t(e,t),n)}),i}function Qe(t,e){if(gt(e))return ze.empty();var n=t.writeTree_.setTree(e,new Ke(null));return new ze(n)}function Ye(t,e){return null!=Xe(t,e)}function Xe(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(mt(n.path,e)):null}function Ze(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(zt,function(t,n){e.push(new Pt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Pt(t,n.value))}),e}function Je(t,e){if(gt(e))return t;var n=Xe(t,e);return new ze(null!=n?new Ke(n):t.writeTree_.subtree(e))}function tn(t){return t.writeTree_.isEmpty()}function en(t,e){return nn(ct(),t.writeTree_,e)}function nn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var i=null;return e.children.inorderTraversal(function(e,s){".priority"===e?(Object(r.assert)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):n=nn(_t(t,e),s,n)}),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(_t(t,".priority"),i)),n}function rn(t,e){return _n(e,t)}function sn(t,e){if(t.snap)return bt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&bt(_t(t.path,n),e))return!0;return!1}function on(t){return t.visible}function an(t,e,n){for(var i=ze.empty(),s=0;s<t.length;++s){var o=t[s];if(e(o)){var a=o.path,c=void 0;if(o.snap)bt(n,a)?i=$e(i,c=mt(n,a),o.snap):bt(a,n)&&(c=mt(a,n),i=$e(i,ct(),o.snap.getChild(c)));else{if(!o.children)throw Object(r.assertionError)("WriteRecord should have .snap or .children");if(bt(n,a))i=He(i,c=mt(n,a),o.children);else if(bt(a,n))if(gt(c=mt(a,n)))i=He(i,ct(),o.children);else{var u=Object(r.safeGet)(o.children,ut(c));if(u){var l=u.getChild(ht(c));i=$e(i,ct(),l)}}}}}return i}function cn(t,e,n,i,r){if(i||r){var s=Je(t.visibleWrites,e);return!r&&tn(s)?n:r||null!=n||Ye(s,ct())?en(an(t.allWrites,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(bt(t.path,e)||bt(e,t.path))},e),n||Zt.EMPTY_NODE):null}var o=Xe(t.visibleWrites,e);if(null!=o)return o;var a=Je(t.visibleWrites,e);return tn(a)?n:null!=n||Ye(a,ct())?en(a,n||Zt.EMPTY_NODE):null}function un(t,e,n,i){return cn(t.writeTree,t.treePath,e,n,i)}function ln(t,e){return function(t,e,n){var i=Zt.EMPTY_NODE,r=Xe(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(zt,function(t,e){i=i.updateImmediateChild(t,e)}),i;if(n){var s=Je(t.visibleWrites,e);return n.forEachChild(zt,function(t,e){var n=en(Je(s,new at(t)),e);i=i.updateImmediateChild(t,n)}),Ze(s).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}return Ze(Je(t.visibleWrites,e)).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}(t.writeTree,t.treePath,e)}function hn(t,e,n,i){return function(t,e,n,i,s){Object(r.assert)(i||s,"Either existingEventSnap or existingServerSnap must exist");var o=_t(e,n);if(Ye(t.visibleWrites,o))return null;var a=Je(t.visibleWrites,o);return tn(a)?s.getChild(n):en(a,s.getChild(n))}(t.writeTree,t.treePath,e,n,i)}function dn(t,e){return function(t,e){return Xe(t.visibleWrites,e)}(t.writeTree,_t(t.treePath,e))}function pn(t,e,n){return function(t,e,n,i){var r=_t(e,n),s=Xe(t.visibleWrites,r);return null!=s?s:i.isCompleteForChild(n)?en(Je(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function fn(t,e){return _n(_t(t.treePath,e),t.writeTree)}function _n(t,e){return{treePath:t,writeTree:e}}var gn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(r.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(r.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var s=i.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(n,de(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(n,he(n,i.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(n,le(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw Object(r.assertionError)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,de(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),mn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),vn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ne(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ge(this.viewCache_),r=function(t,e,n,i,r,s){return function(t,e,n,i,r,s,o){var a,c=Je(t.visibleWrites,e),u=Xe(c,ct());if(null!=u)a=u;else{if(null==n)return[];a=en(c,n)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o),p=d.getNext();p&&l.length<1;)0!==h(p,i)&&l.push(p),p=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,r,s)}(this.writes_,i,e,0,n,t);return 0===r.length?null:r[0]},t}();function yn(t,e,n,i,s,o){var a=e.eventCache;if(null!=dn(i,n))return e;var c=void 0,u=void 0;if(gt(n))if(Object(r.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Ge(e),h=ln(i,l instanceof Zt?l:Zt.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var d=un(i,Ge(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{var p=ut(n);if(".priority"===p){Object(r.assert)(1===lt(n),"Can't have a priority with additional path components");var f=a.getNode(),_=hn(i,n,f,u=e.serverCache.getNode());c=null!=_?t.filter.updatePriority(f,_):a.getNode()}else{var g=ht(n),m=void 0;if(a.isCompleteForChild(p)){u=e.serverCache.getNode();var v=hn(i,n,a.getNode(),u);m=null!=v?a.getNode().getImmediateChild(p).updateChild(g,v):a.getNode().getImmediateChild(p)}else m=pn(i,p,e.serverCache);c=null!=m?t.filter.updateChild(a.getNode(),p,m,g,s,o):a.getNode()}}return qe(e,c,a.isFullyInitialized()||gt(n),t.filter.filtersNodes())}function bn(t,e,n,i,r,s,o,a){var c,u=e.serverCache,l=o?t.filter:t.filter.getIndexedFilter();if(gt(n))c=l.updateFullNode(u.getNode(),i,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,i);c=l.updateFullNode(u.getNode(),h,null)}else{var d=ut(n);if(!u.isCompleteForPath(n)&&lt(n)>1)return e;var p=ht(n),f=u.getNode().getImmediateChild(d).updateChild(p,i);c=".priority"===d?l.updatePriority(u.getNode(),f):l.updateChild(u.getNode(),d,f,p,mn,null)}var _=Ve(e,c,u.isFullyInitialized()||gt(n),l.filtersNodes());return yn(t,_,n,r,new vn(r,_,s),a)}function En(t,e,n,i,r,s,o){var a,c,u=e.eventCache,l=new vn(r,e,s);if(gt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),a=qe(e,c,!0,t.filter.filtersNodes());else{var h=ut(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),i),a=qe(e,c,u.isFullyInitialized(),u.isFiltered());else{var d=ht(n),p=u.getNode().getImmediateChild(h),f=void 0;if(gt(d))f=i;else{var _=l.getCompleteChild(h);f=null!=_?".priority"===dt(d)&&_.getChild(ft(d)).isEmpty()?_:_.updateChild(d,i):Zt.EMPTY_NODE}a=p.equals(f)?e:qe(e,t.filter.updateChild(u.getNode(),h,f,d,l,o),u.isFullyInitialized(),t.filter.filtersNodes())}}return a}function On(t,e){return t.eventCache.isCompleteForChild(e)}function Sn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Cn(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,u=e;c=gt(n)?i:new Ke(null).setTree(n,i);var l=e.serverCache.getNode();return c.children.inorderTraversal(function(n,i){if(l.hasChild(n)){var c=Sn(0,e.serverCache.getNode().getImmediateChild(n),i);u=bn(t,u,new at(n),c,r,s,o,a)}}),c.children.inorderTraversal(function(n,i){var c=!e.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!l.hasChild(n)&&!c){var h=Sn(0,e.serverCache.getNode().getImmediateChild(n),i);u=bn(t,u,new at(n),h,r,s,o,a)}}),u}var Tn,wn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,i=this.query_._queryParams,r=new pe(i.getIndex()),s=(n=i).loadsAllData()?new pe(n.getIndex()):n.hasLimit()?new _e(n):new fe(n);this.processor_=function(t){return{filter:t}}(s);var o=e.serverCache,a=e.eventCache,c=r.updateFullNode(Zt.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Zt.EMPTY_NODE,a.getNode(),null),l=new Ne(c,o.isFullyInitialized(),r.filtersNodes()),h=new Ne(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Fe(h,l),this.eventGenerator_=new Ue(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Dn(t,e){var n=Ge(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(ut(e)).isEmpty())?n.getChild(e):null}function Pn(t){return 0===t.eventRegistrations_.length}function An(t,e,n){var i=[];if(n){Object(r.assert)(null==e,"A cancel should cancel all event registrations.");var s=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,s);e&&i.push(e)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}else o.push(c)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function In(t,e,n,i){e.type===Ie.MERGE&&null!==e.source.queryId&&(Object(r.assert)(Ge(t.viewCache_),"We should always have a full cache before handling merges"),Object(r.assert)(We(t.viewCache_),"Missing event cache, even though we have a server cache"));var s,o,a=t.viewCache_,c=function(t,e,n,i,s){var o,a,c=new gn;if(n.type===Ie.OVERWRITE){var u=n;u.source.fromUser?o=En(t,e,u.path,u.snap,i,s,c):(Object(r.assert)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!gt(u.path),o=bn(t,e,u.path,u.snap,i,s,a,c))}else if(n.type===Ie.MERGE){var l=n;l.source.fromUser?o=function(t,e,n,i,r,s,o){var a=e;return i.foreach(function(i,c){var u=_t(n,i);On(e,ut(u))&&(a=En(t,a,u,c,r,s,o))}),i.foreach(function(i,c){var u=_t(n,i);On(e,ut(u))||(a=En(t,a,u,c,r,s,o))}),a}(t,e,l.path,l.children,i,s,c):(Object(r.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=Cn(t,e,l.path,l.children,i,s,a,c))}else if(n.type===Ie.ACK_USER_WRITE){var h=n;o=h.revert?function(t,e,n,i,s,o){var a;if(null!=dn(i,n))return e;var c=new vn(i,e,s),u=e.eventCache.getNode(),l=void 0;if(gt(n)||".priority"===ut(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=un(i,Ge(e));else{var d=e.serverCache.getNode();Object(r.assert)(d instanceof Zt,"serverChildren would be complete if leaf node"),h=ln(i,d)}l=t.filter.updateFullNode(u,h=h,o)}else{var p=ut(n),f=pn(i,p,e.serverCache);null==f&&e.serverCache.isCompleteForChild(p)&&(f=u.getImmediateChild(p)),(l=null!=f?t.filter.updateChild(u,p,f,ht(n),c,o):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(u,p,Zt.EMPTY_NODE,ht(n),c,o):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=un(i,Ge(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,o))}return a=e.serverCache.isFullyInitialized()||null!=dn(i,ct()),qe(e,l,a,t.filter.filtersNodes())}(t,e,h.path,i,s,c):function(t,e,n,i,r,s,o){if(null!=dn(r,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(gt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return bn(t,e,n,c.getNode().getChild(n),r,s,a,o);if(gt(n)){var u=new Ke(null);return c.getNode().forEachChild(Mt,function(t,e){u=u.set(new at(t),e)}),Cn(t,e,n,u,r,s,a,o)}return e}var l=new Ke(null);return i.foreach(function(t,e){var i=_t(n,t);c.isCompleteForPath(i)&&(l=l.set(t,c.getNode().getChild(i)))}),Cn(t,e,n,l,r,s,a,o)}(t,e,h.path,h.affectedTree,i,s,c)}else{if(n.type!==Ie.LISTEN_COMPLETE)throw Object(r.assertionError)("Unknown operation type: "+n.type);o=function(t,e,n,i,r){var s=e.serverCache;return yn(t,Ve(e,s.getNode(),s.isFullyInitialized()||gt(n),s.isFiltered()),n,i,mn,r)}(t,e,n.path,i,c)}var d=c.getChanges();return function(t,e,n){var i=e.eventCache;if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=We(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(ue(We(e)))}}(e,o,d),{viewCache:o,changes:d}}(t.processor_,a,e,n,i);return s=t.processor_,o=c.viewCache,Object(r.assert)(o.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Object(r.assert)(o.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Object(r.assert)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Mn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function Mn(t,e,n,i){return function(t,e,n,i){var r=[],s=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&s.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),Be(t,r,"child_removed",e,i,n),Be(t,r,"child_added",e,i,n),Be(t,r,"child_moved",s,i,n),Be(t,r,"child_changed",e,i,n),Be(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}var xn,Rn=function(){return function(){this.views=new Map}}();function kn(t,e,n,i){var o,a,c=e.source.queryId;if(null!==c){var u=t.views.get(c);return Object(r.assert)(null!=u,"SyncTree gave us an op for an invalid query."),In(u,e,n,i)}var l=[];try{for(var h=Object(s.__values)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(In(u=d.value,e,n,i))}catch(p){o={error:p}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return l}function Ln(t,e,n,i,r){var s=t.views.get(e._queryIdentifier);if(!s){var o=un(n,r?i:null),a=!1;o?a=!0:i instanceof Zt?(o=ln(n,i),a=!1):(o=Zt.EMPTY_NODE,a=!1);var c=Fe(new Ne(o,a,!1),new Ne(i,r,!1));return new wn(e,c)}return s}function jn(t){var e,n,i=[];try{for(var r=Object(s.__values)(t.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.query._queryParams.loadsAllData()||i.push(a)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function Nn(t,e){var n,i,r=null;try{for(var o=Object(s.__values)(t.views.values()),a=o.next();!a.done;a=o.next())r=r||Dn(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}function Un(t,e){return e._queryParams.loadsAllData()?qn(t):t.views.get(e._queryIdentifier)}function Bn(t,e){return null!=Un(t,e)}function Fn(t){return null!=qn(t)}function qn(t){var e,n;try{for(var i=Object(s.__values)(t.views.values()),r=i.next();!r.done;r=i.next()){var o=r.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null}var Vn=1,Wn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Ke(null),this.pendingWriteTree_={visibleWrites:ze.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Gn(t,e,n,i,s){return function(t,e,n,i,s){Object(r.assert)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=$e(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,s),s?Yn(t,new Le({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Kn(t,e,n){void 0===n&&(n=!1);var i=function(t,e){for(var n=0;n<t.allWrites.length;n++){var i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(r.assert)(n>=0,"removeWrite called with nonexistent writeId.");var i=t.allWrites[n];t.allWrites.splice(n,1);for(var s=i.visible,o=!1,a=t.allWrites.length-1;s&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&sn(c,i.path)?s=!1:bt(i.path,c.path)&&(o=!0)),a--}return!!s&&(o?(function(t){t.visibleWrites=an(t.allWrites,on,ct()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=Qe(t.visibleWrites,i.path):L(i.children,function(e){t.visibleWrites=Qe(t.visibleWrites,_t(i.path,e))}),!0))}(t.pendingWriteTree_,e)){var s=new Ke(null);return null!=i.snap?s=s.set(ct(),!0):L(i.children,function(t){s=s.set(new at(t),!0)}),Yn(t,new Re(i.path,s,n))}return[]}function zn(t,e,n){return Yn(t,new Le({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function $n(t,e,n,i){var o=e._path,a=t.syncPointTree_.get(o),c=[];if(a&&("default"===e._queryIdentifier||Bn(a,e))){var u=function(t,e,n,i){var o,a,c=e._queryIdentifier,u=[],l=[],h=Fn(t);if("default"===c)try{for(var d=Object(s.__values)(t.views.entries()),p=d.next();!p.done;p=d.next()){var f,_=Object(s.__read)(p.value,2),g=_[0];l=l.concat(An(f=_[1],n,i)),Pn(f)&&(t.views.delete(g),f.query._queryParams.loadsAllData()||u.push(f.query))}}catch(m){o={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}else(f=t.views.get(c))&&(l=l.concat(An(f,n,i)),Pn(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||u.push(f.query)));return h&&!Fn(t)&&u.push(new(Object(r.assert)(Tn,"Reference.ts has not been loaded"),Tn)(e._repo,e._path)),{removed:u,events:l}}(a,e,n,i);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(o));var l=u.removed;c=u.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(o,function(t,e){return Fn(e)});if(h&&!d){var p=t.syncPointTree_.subtree(o);if(!p.isEmpty())for(var f=function(t){return t.fold(function(t,e,n){if(e&&Fn(e))return[qn(e)];var i=[];return e&&(i=jn(e)),L(n,function(t,e){i=i.concat(e)}),i})}(p),_=0;_<f.length;++_){var g=f[_],m=g.query,v=Jn(t,g);t.listenProvider_.startListening(si(m),ti(t,m),v.hashFn,v.onComplete)}}!d&&l.length>0&&!i&&(h?t.listenProvider_.stopListening(si(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(ei(e));t.listenProvider_.stopListening(si(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!i._queryParams.loadsAllData()){var r=ei(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}(t,l)}return c}function Hn(t,e,n){var i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,function(t,e){var n=mt(t,i);s=s||Nn(e,n),o=o||Fn(e)});var a,c=t.syncPointTree_.get(i);c?(o=o||Fn(c),s=s||Nn(c,ct())):(c=new Rn,t.syncPointTree_=t.syncPointTree_.set(i,c)),null!=s?a=!0:(a=!1,s=Zt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=Nn(e,ct());n&&(s=s.updateImmediateChild(t,n))}));var u=Bn(c,e);if(!u&&!e._queryParams.loadsAllData()){var l=ei(e);Object(r.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Vn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,i,r,s){var o=Ln(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function(t,e){t.eventRegistrations_.push(e)}(o,n),function(t,e){var n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(zt,function(t,e){i.push(le(t,e))}),n.isFullyInitialized()&&i.push(ue(n.getNode())),Mn(t,i,n.getNode(),e)}(o,n)}(c,e,n,rn(t.pendingWriteTree_,i),s,a);if(!u&&!o){var p=Un(c,e);d=d.concat(function(t,e,n){var i=e._path,s=ti(t,e),o=Jn(t,n),a=t.listenProvider_.startListening(si(e),s,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(i);if(s)Object(r.assert)(!Fn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold(function(t,e,n){if(!gt(t)&&e&&Fn(e))return[qn(e).query];var i=[];return e&&(i=i.concat(jn(e).map(function(t){return t.query}))),L(n,function(t,e){i=i.concat(e)}),i}),l=0;l<u.length;++l){var h=u[l];t.listenProvider_.stopListening(si(h),ti(t,h))}return a}(t,e,p))}return d}function Qn(t,e,n){var i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,function(t,n){var i=Nn(n,mt(t,e));if(i)return i});return cn(i,e,r,n,!0)}function Yn(t,e){return Xn(e,t.syncPointTree_,null,rn(t.pendingWriteTree_,ct()))}function Xn(t,e,n,i){if(gt(t.path))return Zn(t,e,n,i);var r=e.get(ct());null==n&&null!=r&&(n=Nn(r,ct()));var s=[],o=ut(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){var u=n?n.getImmediateChild(o):null,l=fn(i,o);s=s.concat(Xn(a,c,u,l))}return r&&(s=s.concat(kn(r,t,i,n))),s}function Zn(t,e,n,i){var r=e.get(ct());null==n&&null!=r&&(n=Nn(r,ct()));var s=[];return e.children.inorderTraversal(function(e,r){var o=n?n.getImmediateChild(e):null,a=fn(i,e),c=t.operationForChild(e);c&&(s=s.concat(Zn(c,r,o,a)))}),r&&(s=s.concat(kn(r,t,i,n))),s}function Jn(t,e){var n=e.query,i=ti(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Zt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return i?function(t,e,n){var i=ni(t,n);if(i){var r=ii(i),s=r.path,o=r.queryId,a=mt(s,e);return ri(t,s,new ke(Me(o),a))}return[]}(t,n._path,i):function(t,e){return Yn(t,new ke({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}(e,n);return $n(t,n,null,r)}}}function ti(t,e){var n=ei(e);return t.queryToTagMap.get(n)}function ei(t){return t._path.toString()+"$"+t._queryIdentifier}function ni(t,e){return t.tagToQueryMap.get(e)}function ii(t){var e=t.indexOf("$");return Object(r.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function ri(t,e,n){var i=t.syncPointTree_.get(e);return Object(r.assert)(i,"Missing sync point for query tag that we're tracking"),kn(i,n,rn(t.pendingWriteTree_,e),null)}function si(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(r.assert)(xn,"Reference.ts has not been loaded"),xn)(t._repo,t._path):t}var oi=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ai=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=_t(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Qn(this.syncTree_,this.path_)},t}(),ci=function(t,e,n){return t&&"object"==typeof t?(Object(r.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ui(t[".sv"],e,n):"object"==typeof t[".sv"]?li(t[".sv"],e):void Object(r.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ui=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(r.assert)(!1,"Unexpected server value: "+t)}},li=function(t,e,n){t.hasOwnProperty("increment")||Object(r.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!=typeof i&&Object(r.assert)(!1,"Unexpected increment value: "+i);var s=e.node();if(Object(r.assert)(null!=s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;var o=s.getValue();return"number"!=typeof o?i:o+i},hi=function(t,e,n,i){return pi(e,new ai(n,t),i)},di=function(t,e,n){return pi(t,new oi(e),n)};function pi(t,e,n){var i,r=t.getPriority().val(),s=ci(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t,a=ci(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Kt(a,te(s)):t}var c=t;return i=c,s!==c.getPriority().val()&&(i=i.updatePriority(new Kt(s))),c.forEachChild(zt,function(t,r){var s=pi(r,e.getImmediateChild(t),n);s!==r&&(i=i.updateImmediateChild(t,s))}),i}var fi=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function _i(t,e){for(var n=e instanceof at?e:new at(e),i=t,s=ut(n);null!==s;){var o=Object(r.safeGet)(i.node.children,s)||{children:{},childCount:0};i=new fi(s,i,o),s=ut(n=ht(n))}return i}function gi(t){return t.node.value}function mi(t,e){t.node.value=e,Oi(t)}function vi(t){return t.node.childCount>0}function yi(t,e){L(t.node.children,function(n,i){e(new fi(n,t,i))})}function bi(t,e,n,i){n&&!i&&e(t),yi(t,function(t){bi(t,e,!0,i)}),n&&i&&e(t)}function Ei(t){return new at(null===t.parent?t.name:Ei(t.parent)+"/"+t.name)}function Oi(t){null!==t.parent&&function(t,e,n){var i=function(t){return void 0===gi(t)&&!vi(t)}(n),s=Object(r.contains)(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Oi(t)):i||s||(t.node.children[e]=n.node,t.node.childCount++,Oi(t))}(t.parent,t.name,t)}var Si=/[\[\].#$\/\u0000-\u001F\u007F]/,Ci=/[\[\].#$\u0000-\u001F\u007F]/,Ti=function(t){return"string"==typeof t&&0!==t.length&&!Si.test(t)},wi=function(t){return"string"==typeof t&&0!==t.length&&!Ci.test(t)},Di=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!D(t)||t&&"object"==typeof t&&Object(r.contains)(t,".sv")},Pi=function(t,e,n,i){i&&void 0===e||Ai(Object(r.errorPrefix)(t,"value"),e,n)},Ai=function(t,e,n){var i=n instanceof at?new Et(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+St(i));if("function"==typeof e)throw new Error(t+"contains a function "+St(i)+" with contents = "+e.toString());if(D(e))throw new Error(t+"contains "+e.toString()+" "+St(i));if("string"==typeof e&&e.length>10485760/3&&Object(r.stringLength)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+St(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var s=!1,o=!1;if(L(e,function(e,n){if(".value"===e)s=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Ti(e)))throw new Error(t+" contains an invalid key ("+e+") "+St(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(r.stringLength)(e),Ot(t)}(i,e),Ai(t,n,i),c=(a=i).parts_.pop(),a.byteLength_-=Object(r.stringLength)(c),a.parts_.length>0&&(a.byteLength_-=1)}),s&&o)throw new Error(t+' contains ".value" child '+St(i)+" in addition to actual children.")}},Ii=function(t,e,n,i){if(!i||void 0!==e){var s=Object(r.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");var o=[];L(e,function(t,e){var i=new at(t);if(Ai(s,e,_t(n,i)),".priority"===dt(i)&&!Di(e))throw new Error(s+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(i)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=pt(i=e[n]),s=0;s<r.length;s++)if(".priority"===r[s]&&s===r.length-1);else if(!Ti(r[s]))throw new Error(t+"contains an invalid key ("+r[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(vt);var o=null;for(n=0;n<e.length;n++){if(i=e[n],null!==o&&bt(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(s,o)}},Mi=function(t,e,n){if(!n||void 0!==e){if(D(e))throw new Error(Object(r.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Di(e))throw new Error(Object(r.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xi=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(r.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ri=function(t,e,n,i){if(!(i&&void 0===n||Ti(n)))throw new Error(Object(r.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ki=function(t,e,n,i){if(!(i&&void 0===n||wi(n)))throw new Error(Object(r.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Li=function(t,e){if(".info"===ut(e))throw new Error(t+" failed = Can't modify data under /.info/")},ji=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ti(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wi(t)}(n))throw new Error(Object(r.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ni=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(r.errorPrefix)(t,e)+"must be a boolean.")},Ui=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Bi(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],s=r.getPath();null===n||yt(s,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function Fi(t,e,n){Bi(t,n),Vi(t,function(t){return yt(t,e)})}function qi(t,e,n){Bi(t,n),Vi(t,function(t){return bt(t,e)||bt(e,t)})}function Vi(t,e){t.recursionDepth_++;for(var n=!0,i=0;i<t.eventLists_.length;i++){var r=t.eventLists_[i];r&&(e(r.path)?(Wi(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Wi(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var i=n.getEventRunner();y&&O("event: "+n.toString()),B(i)}}}var Gi=function(){function t(t,e,n,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ui,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ce(),this.transactionQueueTree_=new fi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Ki(t){var e=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function zi(t){return(e=(e={timestamp:Ki(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function $i(t,e,n,i,s){t.dataUpdateCount++;var o=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(s)if(i){var c=Object(r.map)(n,function(t){return te(t)});a=function(t,e,n,i){var r=ni(t,i);if(r){var s=ii(r),o=s.path,a=s.queryId,c=mt(o,e),u=Ke.fromObject(n);return ri(t,o,new je(Me(a),c,u))}return[]}(t.serverSyncTree_,o,c,s)}else{var u=te(n);a=function(t,e,n,i){var r=ni(t,i);if(null!=r){var s=ii(r),o=s.path,a=s.queryId,c=mt(o,e);return ri(t,o,new Le(Me(a),c,n))}return[]}(t.serverSyncTree_,o,u,s)}else if(i){var l=Object(r.map)(n,function(t){return te(t)});a=function(t,e,n){var i=Ke.fromObject(n);return Yn(t,new je({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,o,l)}else{var h=te(n);a=zn(t.serverSyncTree_,o,h)}var d=o;a.length>0&&(d=or(t,o)),qi(t.eventQueue_,d,a)}function Hi(t,e){Qi(t,"connected",e),!1===e&&function(t){nr(t,"onDisconnectEvents");var e=zi(t),n=Ce();De(t.onDisconnect_,ct(),function(i,r){var s=hi(i,r,t.serverSyncTree_,e);Te(n,i,s)});var i=[];De(n,ct(),function(e,n){i=i.concat(zn(t.serverSyncTree_,e,n));var r=hr(t,e);or(t,r)}),t.onDisconnect_=Ce(),qi(t.eventQueue_,ct(),i)}(t)}function Qi(t,e,n){var i=new at("/.info/"+e),r=te(n);t.infoData_.updateSnapshot(i,r);var s=zn(t.infoSyncTree_,i,r);qi(t.eventQueue_,i,s)}function Yi(t){return t.nextWriteId_++}function Xi(t,e,n,i,r){nr(t,"set",{path:e.toString(),value:n,priority:i});var s=zi(t),o=te(n,i),a=Qn(t.serverSyncTree_,e),c=di(o,a,s),u=Yi(t),l=Gn(t.serverSyncTree_,e,c,u,!0);Bi(t.eventQueue_,l),t.server_.put(e.toString(),o.val(!0),function(n,i){var s="ok"===n;s||w("set at "+e+" failed: "+n);var o=Kn(t.serverSyncTree_,u,!s);qi(t.eventQueue_,e,o),ir(0,r,n,i)});var h=hr(t,e);or(t,h),qi(t.eventQueue_,h,[])}function Zi(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(i,r){"ok"===i&&we(t.onDisconnect_,e),ir(0,n,i,r)})}function Ji(t,e,n,i){var r=te(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),function(n,s){"ok"===n&&Te(t.onDisconnect_,e,r),ir(0,i,n,s)})}function tr(t,e,n){var i;i=".info"===ut(e._path)?$n(t.infoSyncTree_,e,n):$n(t.serverSyncTree_,e,n),Fi(t.eventQueue_,e._path,i)}function er(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),O.apply(void 0,Object(s.__spreadArray)([i],Object(s.__read)(e)))}function ir(t,e,n,i){e&&B(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),r=t;i&&(r+=": "+i);var s=new Error(r);s.code=t,e(s)}})}function rr(t,e,n){return Qn(t.serverSyncTree_,e,n)||Zt.EMPTY_NODE}function sr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||lr(t,e),gi(e)){var n=cr(t,e);Object(r.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var i=n.map(function(t){return t.currentWriteId}),s=rr(t,e,i),o=s,a=s.hash(),c=0;c<n.length;c++){var u=n[c];Object(r.assert)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=mt(e,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var h=o.val(!0),d=e;t.server_.put(d.toString(),h,function(i){nr(t,"transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var s=[],o=function(e){n[e].status=2,r=r.concat(Kn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&s.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)o(a);for(lr(t,_i(t.transactionQueueTree_,e)),sr(t,t.transactionQueueTree_),qi(t.eventQueue_,e,r),a=0;a<s.length;a++)B(s[a])}else{if("datastale"===i)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(w("transaction at "+d.toString()+" failed: "+i),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=i;or(t,e)}},a)}(t,Ei(e),n)}else vi(e)&&yi(e,function(e){sr(t,e)})}function or(t,e){var n=ar(t,e),i=Ei(n);return function(t,e,n){if(0!==e.length){for(var i=[],s=[],o=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var c,u=e[a],l=mt(n,u.path),h=!1;if(Object(r.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,s=s.concat(Kn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,c="maxretry",s=s.concat(Kn(t.serverSyncTree_,u.currentWriteId,!0));else{var d=rr(t,u.path,o);u.currentInputSnapshot=d;var p=e[a].update(d.val());if(void 0!==p){Ai("transaction failed: Data returned ",p,u.path);var f=te(p);"object"==typeof p&&null!=p&&Object(r.contains)(p,".priority")||(f=f.updatePriority(d.getPriority()));var _=u.currentWriteId,g=zi(t),m=di(f,d,g);u.currentOutputSnapshotRaw=f,u.currentOutputSnapshotResolved=m,u.currentWriteId=Yi(t),o.splice(o.indexOf(_),1),s=(s=s.concat(Gn(t.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Kn(t.serverSyncTree_,_,!0))}else h=!0,c="nodata",s=s.concat(Kn(t.serverSyncTree_,u.currentWriteId,!0))}qi(t.eventQueue_,n,s),s=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(lr(t,t.transactionQueueTree_),c=0;c<i.length;c++)B(i[c]);sr(t,t.transactionQueueTree_)}}(t,cr(t,n),i),i}function ar(t,e){var n,i=t.transactionQueueTree_;for(n=ut(e);null!==n&&void 0===gi(i);)i=_i(i,n),n=ut(e=ht(e));return i}function cr(t,e){var n=[];return ur(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function ur(t,e,n){var i=gi(e);if(i)for(var r=0;r<i.length;r++)n.push(i[r]);yi(e,function(e){ur(t,e,n)})}function lr(t,e){var n=gi(e);if(n){for(var i=0,r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,mi(e,n.length>0?n:void 0)}yi(e,function(e){lr(t,e)})}function hr(t,e){var n=Ei(ar(t,e)),i=_i(t.transactionQueueTree_,e);return function(t,e,n){for(var i=t.parent;null!==i;){if(e(i))return!0;i=i.parent}}(i,function(e){dr(t,e)}),dr(t,i),bi(i,function(e){dr(t,e)}),n}function dr(t,e){var n=gi(e);if(n){for(var i=[],s=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(r.assert)(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Object(r.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Kn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?mi(e,void 0):n.length=o+1,qi(t.eventQueue_,Ei(e),s),a=0;a<i.length;a++)B(i[a])}}var pr=function(t,e){var n=fr(t),i=n.namespace;return"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&w("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new K(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new at(n.pathString)}},fr=function(t){var e="",n="",i="",r="",o="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(t.substring(h,d)));var p=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=Object(s.__values)(t.split("&")),o=r.next();!o.done;o=r.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?i[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):w("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=e.length;var f=e.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=i}"ns"in p&&(o=p.ns)}return{host:e,port:u,domain:n,subdomain:i,secure:a,scheme:c,pathString:r,namespace:o}},_r=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(r.stringify)(this.snapshot.exportVal())},t}(),gr=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),mr=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(r.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),vr=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new r.Deferred;return Zi(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Li("OnDisconnect.remove",this._path);var t=new r.Deferred;return Ji(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Li("OnDisconnect.set",this._path),Pi("OnDisconnect.set",t,this._path,!1);var e=new r.Deferred;return Ji(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Li("OnDisconnect.setWithPriority",this._path),Pi("OnDisconnect.setWithPriority",t,this._path,!1),Mi("OnDisconnect.setWithPriority",e,!1);var n=new r.Deferred;return function(t,e,n,i,r){var s=te(n,i);t.server_.onDisconnectPut(e.toString(),s.val(!0),function(n,i){"ok"===n&&Te(t.onDisconnect_,e,s),ir(0,r,n,i)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Li("OnDisconnect.update",this._path),Ii("OnDisconnect.update",t,this._path,!1);var e=new r.Deferred;return function(t,e,n,i){if(Object(r.isEmpty)(n))return O("onDisconnect().update() called with empty data.  Don't do anything."),void ir(0,i,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(r,s){"ok"===r&&L(n,function(n,i){var r=te(i);Te(t.onDisconnect_,_t(e,n),r)}),ir(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),yr=function(){function t(t,e,n,i){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return gt(this._path)?null:dt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Sr(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Ee(this._queryParams),e=R(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Ee(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(r.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,i=yt(this._path,e._path);return n&&i&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function br(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Er(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Mt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==P)throw new Error(i);if("string"!=typeof e)throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==A)throw new Error(i);if("string"!=typeof n)throw new Error(s)}}else if(t.getIndex()===zt){if(null!=e&&!Di(e)||null!=n&&!Di(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(r.assert)(t.getIndex()instanceof ie||t.getIndex()===re,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Or(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Sr=function(t){function e(e,n){return t.call(this,e,n,new ge,!1)||this}return Object(s.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=ft(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(yr),Cr=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new at(e),i=Dr(this.ref,e);return new t(this._node.getChild(n),i,zt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(i,r){return e(new t(r,Dr(n.ref,i),zt))})},t.prototype.hasChild=function(t){var e=new at(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Tr(t,e){return(t=Object(r.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Dr(t._root,e):t._root}function wr(t,e){(t=Object(r.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=pr(e,t._repo.repoInfo_.nodeAdmin);ji("refFromURL",n);var i=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||i.host===t._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),Tr(t,n.path.toString())}function Dr(t,e){var n;return null===ut((t=Object(r.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ki("child","path",n,!1)):ki("child","path",e,!1),new Sr(t._repo,_t(t._path,e))}function Pr(t,e){t=Object(r.getModularInstance)(t),Li("push",t._path),Pi("push",e,t._path,!0);var n,i=Ki(t._repo),s=oe(i),o=Dr(t,s),a=Dr(t,s);return n=null!=e?Ir(a,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function Ar(t){return Li("remove",t._path),Ir(t,null)}function Ir(t,e){t=Object(r.getModularInstance)(t),Li("set",t._path),Pi("set",e,t._path,!1);var n=new r.Deferred;return Xi(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Mr(t,e){t=Object(r.getModularInstance)(t),Li("setPriority",t._path),Mi("setPriority",e,!1);var n=new r.Deferred;return Xi(t._repo,_t(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function xr(t,e,n){if(Li("setWithPriority",t._path),Pi("setWithPriority",e,t._path,!1),Mi("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var i=new r.Deferred;return Xi(t._repo,t._path,e,n,i.wrapCallback(function(){})),i.promise}function Rr(t,e){Ii("update",e,t._path,!1);var n=new r.Deferred;return function(t,e,n,i){nr(t,"update",{path:e.toString(),value:n});var s=!0,o=zi(t),a={};if(L(n,function(n,i){s=!1,a[n]=hi(_t(e,n),te(i),t.serverSyncTree_,o)}),s)O("update() called with empty data.  Don't do anything."),ir(0,i,"ok",void 0);else{var c=Yi(t),u=function(t,e,n,i){!function(t,e,n,i){Object(r.assert)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=He(t.visibleWrites,e,n),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i);var s=Ke.fromObject(n);return Yn(t,new je({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,s))}(t.serverSyncTree_,e,a,c);Bi(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(n,r){var s="ok"===n;s||w("update at "+e+" failed: "+n);var o=Kn(t.serverSyncTree_,c,!s),a=o.length>0?or(t,e):e;qi(t.eventQueue_,a,o),ir(0,i,n,r)}),L(n,function(n){var i=hr(t,_t(e,n));or(t,i)}),qi(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var kr=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new _r("value",this,new Cr(t.snapshotNode,new Sr(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new gr(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Lr=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new gr(this,t,e):null},t.prototype.createEvent=function(t,e){Object(r.assert)(null!=t.childName,"Child events should have a childName.");var n=Dr(new Sr(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new _r(t.type,this,new Cr(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function jr(t,e,n,i,r){var s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){var o=n,a=function(e,n){tr(t._repo,t,u),o(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new mr(n,s||void 0),u="value"===e?new kr(c):new Lr(e,c);return function(t,e,n){var i;i=".info"===ut(e._path)?Hn(t.infoSyncTree_,e,n):Hn(t.serverSyncTree_,e,n),Fi(t.eventQueue_,e._path,i)}(t._repo,t,u),function(){return tr(t._repo,t,u)}}function Nr(t,e,n,i){return jr(t,"value",e,n,i)}function Ur(t,e,n,i){return jr(t,"child_added",e,n,i)}function Br(t,e,n,i){return jr(t,"child_changed",e,n,i)}function Fr(t,e,n,i){return jr(t,"child_moved",e,n,i)}function qr(t,e,n,i){return jr(t,"child_removed",e,n,i)}function Vr(t,e,n){var i=null,r=n?new mr(n):null;"value"===e?i=new kr(r):e&&(i=new Lr(e,r)),tr(t._repo,t,i)}var Wr=function(){return function(){}}(),Gr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.__extends)(e,t),e.prototype._apply=function(t){Pi("endAt",this._value,t._path,!0);var e=ve(t._queryParams,this._value,this._key);if(Or(e),Er(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yr(t._repo,t._path,e,t._orderByCalled)},e}(Wr);function Kr(t,e){return Ri("endAt","key",e,!0),new Gr(t,e)}var zr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.__extends)(e,t),e.prototype._apply=function(t){Pi("endBefore",this._value,t._path,!1);var e,n,i,r,s=(n=this._value,i=this._key,(e=t._queryParams).index_===Mt?("string"==typeof n&&(n=ce(n)),r=ve(e,n,i)):r=ve(e,n,null==i?P:ce(i)),r.endBeforeSet_=!0,r);if(Or(s),Er(s),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yr(t._repo,t._path,s,t._orderByCalled)},e}(Wr);function $r(t,e){return Ri("endBefore","key",e,!0),new zr(t,e)}var Hr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.__extends)(e,t),e.prototype._apply=function(t){Pi("startAt",this._value,t._path,!0);var e=me(t._queryParams,this._value,this._key);if(Or(e),Er(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yr(t._repo,t._path,e,t._orderByCalled)},e}(Wr);function Qr(t,e){return void 0===t&&(t=null),Ri("startAt","key",e,!0),new Hr(t,e)}var Yr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.__extends)(e,t),e.prototype._apply=function(t){Pi("startAfter",this._value,t._path,!1);var e,n,i,r,s=(n=this._value,i=this._key,(e=t._queryParams).index_===Mt?("string"==typeof n&&(n=ae(n)),r=me(e,n,i)):r=me(e,n,null==i?A:ae(i)),r.startAfterSet_=!0,r);if(Or(s),Er(s),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yr(t._repo,t._path,s,t._orderByCalled)},e}(Wr);function Xr(t,e){return Ri("startAfter","key",e,!0),new Yr(t,e)}var Zr=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yr(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Wr);function Jr(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Zr(t)}var ts=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yr(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Wr);function es(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ts(t)}var ns=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(s.__extends)(e,t),e.prototype._apply=function(t){br(t,"orderByChild");var e=new at(this._path);if(gt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ie(e),i=ye(t._queryParams,n);return Er(i),new yr(t._repo,t._path,i,!0)},e}(Wr);function is(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ki("orderByChild","path",t,!1),new ns(t)}var rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.__extends)(e,t),e.prototype._apply=function(t){br(t,"orderByKey");var e=ye(t._queryParams,Mt);return Er(e),new yr(t._repo,t._path,e,!0)},e}(Wr);function ss(){return new rs}var os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.__extends)(e,t),e.prototype._apply=function(t){br(t,"orderByPriority");var e=ye(t._queryParams,zt);return Er(e),new yr(t._repo,t._path,e,!0)},e}(Wr);function as(){return new os}var cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.__extends)(e,t),e.prototype._apply=function(t){br(t,"orderByValue");var e=ye(t._queryParams,re);return Er(e),new yr(t._repo,t._path,e,!0)},e}(Wr);function us(){return new cs}var ls=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.__extends)(e,t),e.prototype._apply=function(t){if(Pi("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Gr(this._value,this._key)._apply(new Hr(this._value,this._key)._apply(t))},e}(Wr);function hs(t,e){return Ri("equalTo","key",e,!0),new ls(t,e)}function ds(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=Object(r.getModularInstance)(t);try{for(var c=Object(s.__values)(i),u=c.next();!u.done;u=c.next()){var l=u.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){Object(r.assert)(!Tn,"__referenceConstructor has already been defined"),Tn=t}(Sr),function(t){Object(r.assert)(!xn,"__referenceConstructor has already been defined"),xn=t}(Sr);var ps={},fs=!1;function _s(t,e,n,i,r){var s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",t.options.projectId),s=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=pr(s,r),c=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,c=(a=pr(s="http://"+u+"?ns="+c.namespace,r)).repoInfo):o=!a.repoInfo.secure;var l=r&&o?new W(W.OWNER):new V(t.name,t.options,e);ji("Invalid Firebase Database URL",a),gt(a.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,i){var r=ps[e.name];r||(ps[e.name]=r={});var s=r[t.toURLString()];return s&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Gi(t,fs,n,i),r[t.toURLString()]=s,s}(c,t,l,new q(t.name,n));return new gs(h,t)}var gs=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Y(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Oe(t.repoInfo_,function(e,n,i,r){$i(t,e,n,i,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return Hi(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(r.stringify)(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}t.persistentConnection_=new Dt(t.repoInfo_,e,function(e,n,i,r){$i(t,e,n,i,r)},function(e){Hi(t,e)},function(e){!function(t,e){L(e,function(e,n){Qi(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var i,s;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(i=function(){return new Ae(t.stats_,t.server_)},s=t.repoInfo_.toString(),Q[s]||(Q[s]=i()),Q[s]),t.infoData_=new Se,t.infoSyncTree_=new Wn({startListening:function(e,n,i,r){var s=[],o=t.infoData_.getNode(e._path);return o.isEmpty()||(s=zn(t.infoSyncTree_,e._path,o),setTimeout(function(){r("ok")},0)),s},stopListening:function(){}}),Qi(t,"connected",!1),t.serverSyncTree_=new Wn({startListening:function(e,n,i,r){return t.server_.listen(e,i,n,function(n,i){var s=r(n,i);qi(t.eventQueue_,e._path,s)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Sr(this._repo,ct())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=ps[e=this.app.name])&&n[t.key]===t||T("Database "+e+"("+t.repoInfo_+") has already been deleted."),er(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&T("Cannot call "+t+" on a deleted database.")},t}();function ms(t){(t=Object(r.getModularInstance)(t))._checkNotDeleted("goOffline"),er(t._repo)}function vs(t){var e;(t=Object(r.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var ys={".sv":"timestamp"},bs=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Es(t,e,n){var i;if(t=Object(r.getModularInstance)(t),Li("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var s=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,o=new r.Deferred,a=Nr(t,function(){});return function(e,n,i,s,a,c){nr(e,"transaction on "+n);var u={path:n,update:i,onComplete:function(e,n,i){var r=null;e?o.reject(e):(r=new Cr(i,new Sr(t._repo,t._path),zt),o.resolve(new bs(n,r)))},status:null,order:g(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=rr(e,n,void 0);u.currentInputSnapshot=l;var h=u.update(l.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Ai("transaction failed: Data returned ",h,u.path),u.status=0;var d=_i(e.transactionQueueTree_,n),p=gi(d)||[];p.push(u),mi(d,p);var f=void 0;"object"==typeof h&&null!==h&&Object(r.contains)(h,".priority")?(f=Object(r.safeGet)(h,".priority"),Object(r.assert)(Di(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Qn(e.serverSyncTree_,n)||Zt.EMPTY_NODE).getPriority().val();var _=zi(e),m=te(h,f),v=di(m,l,_);u.currentOutputSnapshotRaw=m,u.currentOutputSnapshotResolved=v,u.currentWriteId=Yi(e);var y=Gn(e.serverSyncTree_,n,v,u.currentWriteId,u.applyLocally);qi(e.eventQueue_,n,y),sr(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,s),o.promise}var Os=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(r.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(r.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(r.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(r.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(r.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(r.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(r.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(r.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var i=this._delegate.setWithPriority(t,e);return n&&i.then(function(){return n(null)},function(t){return n(t)}),i},t.prototype.update=function(t,e){if(Object(r.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,w("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(r.validateCallback)("OnDisconnect.update","onComplete",e,!0);var s=this._delegate.update(t);return e&&s.then(function(){return e(null)},function(t){return e(t)}),s},t}(),Ss=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(r.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Cs=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(r.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(r.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(r.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(r.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(r.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),ki("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(r.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),ki("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(r.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(r.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(r.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(i){return e(new t(n._database,i))})},t.prototype.hasChildren=function(){return Object(r.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(r.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(r.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ws(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Ts=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,i,s){var o,a=this;Object(r.validateArgCount)("Query.on",2,4,arguments.length),Object(r.validateCallback)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",i,s),u=function(t,e){n.call(c.context,new Cs(a.database,t),e)};u.userCallback=n,u.context=c.context;var l=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(e){case"value":return Nr(this._delegate,u,l),n;case"child_added":return Ur(this._delegate,u,l),n;case"child_removed":return qr(this._delegate,u,l),n;case"child_changed":return Br(this._delegate,u,l),n;case"child_moved":return Fr(this._delegate,u,l),n;default:throw new Error(Object(r.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(r.validateArgCount)("Query.off",0,3,arguments.length),xi("Query.off",t,!0),Object(r.validateCallback)("Query.off","callback",e,!0),Object(r.validateContextObject)("Query.off","context",n,!0),e){var i=function(){};i.userCallback=e,i.context=n,Vr(this._delegate,t,i)}else Vr(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var r=mt(t,n);i=i||Nn(e,r)});var r=t.syncPointTree_.get(n);r?i=i||Nn(r,ct()):(r=new Rn,t.syncPointTree_=t.syncPointTree_.set(n,r));var s=null!=i,o=s?new Ne(i,!0,!1):null;return We(Ln(r,e,rn(t.pendingWriteTree_,e._path),s?o.getNode():Zt.EMPTY_NODE,s).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var i=te(n).withIndex(e._queryParams.getIndex()),r=zn(t.serverSyncTree_,e._path,i);return Fi(t.eventQueue_,e._path,r),Promise.resolve(i)},function(n){return nr(t,"get for query "+Object(r.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(r.getModularInstance)(t))._repo,t).then(function(e){return new Cr(e,new Sr(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Cs(t.database,e)})},t.prototype.once=function(e,n,i,s){var o=this;Object(r.validateArgCount)("Query.once",1,4,arguments.length),Object(r.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",i,s),c=new r.Deferred,u=function(t,e){var i=new Cs(o.database,t);n&&n.call(a.context,i,e),c.resolve(i)};u.userCallback=n,u.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Nr(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Ur(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":qr(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Br(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Fr(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(r.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(r.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,ds(this._delegate,Jr(e)))},t.prototype.limitToLast=function(e){return Object(r.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,ds(this._delegate,es(e)))},t.prototype.orderByChild=function(e){return Object(r.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,ds(this._delegate,is(e)))},t.prototype.orderByKey=function(){return Object(r.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,ds(this._delegate,ss()))},t.prototype.orderByPriority=function(){return Object(r.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,ds(this._delegate,as()))},t.prototype.orderByValue=function(){return Object(r.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,ds(this._delegate,us()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(r.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,ds(this._delegate,Qr(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(r.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,ds(this._delegate,Xr(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(r.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,ds(this._delegate,Kr(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(r.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,ds(this._delegate,$r(e,n)))},t.prototype.equalTo=function(e,n){return Object(r.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,ds(this._delegate,hs(e,n)))},t.prototype.toString=function(){return Object(r.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(r.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(r.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:void 0,context:void 0};if(e&&n)i.cancel=e,Object(r.validateCallback)(t,"cancel",i.cancel,!0),i.context=n,Object(r.validateContextObject)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(Object(r.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new ws(this.database,new Sr(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),ws=function(t){function e(e,n){var i=t.call(this,e,new yr(n._repo,n._path,new ge,!1))||this;return i.database=e,i._delegate=n,i}return Object(s.__extends)(e,t),e.prototype.getKey=function(){return Object(r.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(r.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Dr(this._delegate,t))},e.prototype.getParent=function(){Object(r.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(r.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(r.validateArgCount)("Reference.set",1,2,arguments.length),Object(r.validateCallback)("Reference.set","onComplete",e,!0);var n=Ir(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(r.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,w("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Li("Reference.update",this._delegate._path),Object(r.validateCallback)("Reference.update","onComplete",e,!0);var s=Rr(this._delegate,t);return e&&s.then(function(){return e(null)},function(t){return e(t)}),s},e.prototype.setWithPriority=function(t,e,n){Object(r.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(r.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var i=xr(this._delegate,t,e);return n&&i.then(function(){return n(null)},function(t){return n(t)}),i},e.prototype.remove=function(t){Object(r.validateArgCount)("Reference.remove",0,1,arguments.length),Object(r.validateCallback)("Reference.remove","onComplete",t,!0);var e=Ar(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var i=this;Object(r.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(r.validateCallback)("Reference.transaction","transactionUpdate",t,!1),Object(r.validateCallback)("Reference.transaction","onComplete",e,!0),Ni("Reference.transaction","applyLocally",n,!0);var s=Es(this._delegate,t,{applyLocally:n}).then(function(t){return new Ss(t.committed,new Cs(i.database,t.snapshot))});return e&&s.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),s},e.prototype.setPriority=function(t,e){Object(r.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(r.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Mr(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var i=this;Object(r.validateArgCount)("Reference.push",0,2,arguments.length),Object(r.validateCallback)("Reference.push","onComplete",n,!0);var s=Pr(this._delegate,t),o=s.then(function(t){return new e(i.database,t)});n&&o.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,s);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a},e.prototype.onDisconnect=function(){return Li("Reference.onDisconnect",this._delegate._path),new Os(new vr(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Ts),Ds=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){void 0===i&&(i={}),(t=Object(r.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var s=t._repoInternal,o=void 0;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new W(W.OWNER);else if(i.mockUserToken){var a="string"==typeof i.mockUserToken?i.mockUserToken:Object(r.createMockUserToken)(i.mockUserToken,t.app.options.projectId);o=new W(a)}!function(t,e,n,i){t.repoInfo_=new K(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(s,e,n,o)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(r.validateArgCount)("database.ref",0,1,arguments.length),t instanceof ws){var e=wr(this._delegate,t.toString());return new ws(this,e)}return e=Tr(this._delegate,t),new ws(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(r.validateArgCount)(e,1,1,arguments.length);var n=wr(this._delegate,t);return new ws(this,n)},t.prototype.goOffline=function(){return Object(r.validateArgCount)("database.goOffline",0,0,arguments.length),ms(this._delegate)},t.prototype.goOnline=function(){return Object(r.validateArgCount)("database.goOnline",0,0,arguments.length),vs(this._delegate)},t.ServerValue={TIMESTAMP:ys,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Ps=Object.freeze({__proto__:null,forceLongPolling:function(){et.forceDisallow(),Z.forceAllow()},forceWebSockets:function(){Z.forceDisallow()},isWebSocketsAvailable:function(){return et.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Pe(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var i=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);L(n,function(t,e){for(var n=t,r=t.length;r<i+2;r++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,s=t.namespace,o=t.nodeAdmin,a=void 0!==o&&o;c(t.version);var u=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return u.setComponent(new i.Component("auth-internal",function(){return r},"PRIVATE")),{instance:new Ds(_s(e,u,void 0,n,a),e),namespace:s}}}),As=Dt;Dt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Dt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Is=Object.freeze({__proto__:null,DataConnection:As,RealTimeConnection:it,hijackHash:function(t){var e=Dt.prototype.put;return Dt.prototype.put=function(n,i,r,s){void 0!==s&&(s=t()),e.call(this,n,i,r,s)},function(){Dt.prototype.put=e}},ConnectionTarget:K,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){fs=t}(t)}}),Ms=Ds.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ds(_s(i,r,s,n),i)},"PUBLIC").setServiceProps({Reference:ws,Query:Ts,Database:Ds,DataSnapshot:Cs,enableLogging:E,INTERNAL:Ps,ServerValue:Ms,TEST_ACCESS:Is}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),Object(r.isNodeSdk)()&&(t.exports=n)}(e.default)}).call(this,n("3UD+")(t))},"7+OI":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",function(){return d});let i=1;const r=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,r.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("n6bG"),r=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const i=new u(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9jGm":function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return h});var i=n("l7P3"),r=(n("VRyK"),n("HDdC"));n("XNiG"),n("NXyV"),n("WMd4"),n("mCNh"),n("LRne"),n("7o/Q"),n("dkDA"),n("lJxs"),n("JIr8");var s=n("pLZG");n("OQgR"),n("5+tZ"),n("l7GE"),n("51Dv"),n("ZUHj"),n("Cfvw"),n("kgNN"),n("IzEk"),n("bOdf"),n("nYR2"),n("zp1y");var o=n("fXoL");const a={dispatch:!0,useEffectsErrorHandler:!0};function c(t,e){const n=t(),i=Object.assign(Object.assign({},a),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:i}),n}function u(t={}){return function(e,n){var i,r;i=e,r=Object.assign(Object.assign(Object.assign({},a),t),{propertyName:n}),function(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}(i)?i.constructor["__@ngrx/effects__"].push(r):Object.defineProperty(i.constructor,"__@ngrx/effects__",{value:[r]})}}let l=(()=>{class t extends r.a{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(o.cc(i.b))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac}),t})();function h(...t){return Object(s.a)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}new o.r("@ngrx/effects Internal Root Guard"),new o.r("@ngrx/effects User Provided Effects"),new o.r("@ngrx/effects Internal Root Effects"),new o.r("@ngrx/effects Root Effects"),new o.r("@ngrx/effects Internal Feature Effects"),new o.r("@ngrx/effects Feature Effects"),new o.r("@ngrx/effects Effects Error Handler"),Object(i.g)("@ngrx/effects/init")},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Amjd:function(t,e,n){!function(t){"use strict";var e="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],i=["none","copy","move","link"],r=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}();function s(t){return t&&t.tagName}function o(t,e,n){void 0===n&&(n=!0),document.addEventListener(t,e,!!r&&{passive:n})}function a(t,e){document.removeEventListener(t,e)}function c(t,e,n,i){void 0===i&&(i=!1);var s=r?{passive:!0,capture:i}:i;return t.addEventListener(e,n,s),{off:function(){t.removeEventListener(e,n,s)}}}function u(t){return 0===t.length?0:t.reduce(function(t,e){return e+t},0)/t.length}function l(t,e){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return!0;return!1}function h(t,e,n){for(var i=[],r=[],s=0;s<e.touches.length;s++){var o=e.touches[s];i.push(o[t+"X"]),r.push(o[t+"Y"])}n.x=u(i),n.y=u(r)}var d=["","-webkit-"];function p(t,e,n,i,r){void 0===r&&(r=!0);var s=e.x,o=e.y;i&&(s+=i.x,o+=i.y),r&&(s-=parseInt(t.offsetWidth,10)/2,o-=parseInt(t.offsetHeight,10)/2);for(var a="translate3d("+s+"px,"+o+"px, 0)",c=0;c<d.length;c++)t.style[d[c]+"transform"]=a+" "+n[c]}var f=function(){function t(t,e){this.t=t,this.i=e,this.s=i[0]}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.s},set:function(t){0!==this.t.mode&&n.indexOf(t)>-1&&(this.s=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(t){2===this.t.mode&&n.indexOf(t)>-1&&(this.t.effectAllowed=t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.t.mode){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[t]=e,-1===this.t.types.indexOf(t)&&this.t.types.push(t)}},t.prototype.getData=function(t){if(1===this.t.mode||2===this.t.mode)return this.t.data[t]||""},t.prototype.clearData=function(t){if(2===this.t.mode){if(t&&this.t.data[t]){delete this.t.data[t];var e=this.t.types.indexOf(t);return void(e>-1&&this.t.types.splice(e,1))}this.t.data={},this.t.types=[]}},t.prototype.setDragImage=function(t,e,n){2===this.t.mode&&this.i(t,e,n)},t}();function _(t,e){return t?t===n[0]?i[0]:0===t.indexOf(n[1])||t===n[7]?i[1]:0===t.indexOf(n[4])?i[3]:t===n[6]?i[2]:i[1]:3===e.nodeType&&"A"===e.tagName?i[3]:i[1]}function g(t,e,n,i,r,s,o){void 0===s&&(s=!0),void 0===o&&(o=null);var a=function(t,e,n,i,r,s,o){void 0===o&&(o=null);var a=e.changedTouches[0],c=new Event(n,{bubbles:!0,cancelable:i});c.dataTransfer=s,c.relatedTarget=o,c.screenX=a.screenX,c.screenY=a.screenY,c.clientX=a.clientX,c.clientY=a.clientY,c.pageX=a.pageX,c.pageY=a.pageY;var u=t.getBoundingClientRect();return c.offsetX=c.clientX-u.left,c.offsetY=c.clientY-u.top,c}(e,n,t,s,document,r,o),c=!e.dispatchEvent(a);return i.mode=0,c}function m(t,e){if(!t||t===n[7])return e;if(e===i[1]){if(0===t.indexOf(i[1]))return i[1]}else if(e===i[3]){if(0===t.indexOf(i[3])||t.indexOf("Link")>-1)return i[3]}else if(e===i[2]&&(0===t.indexOf(i[2])||t.indexOf("Move")>-1))return i[2];return i[0]}var v,y=function(){function t(t,e,n,i){this.h=t,this.o=e,this.u=n,this.l=i,this.v=0,this.p=null,this.g=null,this.m=t,this.I=t.changedTouches[0],this.j=this.C.bind(this),this.S=this.k.bind(this),o("touchmove",this.j,!1),o("touchend",this.S,!1),o("touchcancel",this.S,!1)}return t.prototype.A=function(){var t=this;this.v=1,this.O=i[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var e=this.u;if(this.N=new f(this.D,function(n,i,r){e=n,"number"!=typeof i&&"number"!=typeof r||(t.P={x:i||0,y:r||0})}),this.D.mode=2,this.N.dropEffect=i[0],g("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;h("page",this.m,this.F);var n,r=this.o.dragImageSetup(e);if(this.L=(n=r,d.map(function(t){var e=n.style[t+"transform"];return e&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.zIndex="999999",r.classList.add("dnd-poly-drag-image"),r.classList.add("dnd-poly-icon"),this._=r,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var s=getComputedStyle(e);this.P={x:0-parseInt(s.marginLeft,10),y:0-parseInt(s.marginTop,10)}}else{var o=e.getBoundingClientRect();s=getComputedStyle(e),this.P={x:o.left-this.I.clientX-parseInt(s.marginLeft,10)+o.width/2,y:o.top-this.I.clientY-parseInt(s.marginTop,10)+o.height/2}}return p(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval(function(){t.X||(t.X=!0,t.Y(),t.X=!1)},this.o.iterationInterval),!0},t.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),a("touchmove",this.j),a("touchend",this.S),a("touchcancel",this.S),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},t.prototype.C=function(t){var e=this;if(!1!==l(t,this.I.identifier)){if(this.m=t,0===this.v){var n=void 0;if(this.o.dragStartConditionOverride)try{n=this.o.dragStartConditionOverride(t)}catch(t){n=!1}else n=1===t.touches.length;return n?void(!0===this.A()&&(this.h.preventDefault(),t.preventDefault())):void this.T()}if(t.preventDefault(),h("client",t,this.M),h("page",t,this.F),this.o.dragImageTranslateOverride)try{var i=!1;if(this.o.dragImageTranslateOverride(t,{x:this.M.x,y:this.M.y},this.p,function(t,n){e._&&(i=!0,e.M.x+=t,e.M.y+=n,e.F.x+=t,e.F.y+=n,p(e._,e.F,e.L,e.P,e.o.dragImageCenterOnTouch))}),i)return}catch(t){}p(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},t.prototype.k=function(t){if(!1!==l(t,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}0!==this.v?(t.preventDefault(),this.v="touchcancel"===t.type?3:2):this.T()}},t.prototype.Y=function(){var t=this,n=this.O;this.D.mode=3,this.N.dropEffect=i[0];var r=g("drag",this.u,this.m,this.D,this.N);if(r&&(this.O=i[0]),r||2===this.v||3===this.v)return this.q(this.v)?void function(t,e,n,i){var r=getComputedStyle(t);if("hidden"!==r.visibility&&"none"!==r.display){e.classList.add("dnd-poly-snapback");var s=getComputedStyle(e),o=parseFloat(s.transitionDuration);if(isNaN(o)||0===o)i();else{var a=t.getBoundingClientRect(),c={x:a.left,y:a.top};c.x+=document.body.scrollLeft||document.documentElement.scrollLeft,c.y+=document.body.scrollTop||document.documentElement.scrollTop,c.x-=parseInt(r.marginLeft,10),c.y-=parseInt(r.marginTop,10);var u=parseFloat(s.transitionDelay),l=Math.round(1e3*(o+u));p(e,c,n,void 0,!1),setTimeout(i,l)}}else i()}(this.u,this._,this.L,function(){t.B()}):void this.B();var o=this.o.elementFromPoint(this.M.x,this.M.y),a=this.g;o!==this.p&&o!==this.g&&(this.p=o,null!==this.g&&(this.D.mode=3,this.N.dropEffect=i[0],g("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=_(this.D.effectAllowed,this.u),g("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.O=m(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),a!==this.g&&s(a)&&(this.D.mode=3,this.N.dropEffect=i[0],g("dragleave",a,this.m,this.D,this.N,!1,this.g)),s(this.g)&&(this.D.mode=3,this.N.dropEffect=_(this.D.effectAllowed,this.u),this.O=!1===g("dragover",this.g,this.m,this.D,this.N)?i[0]:m(this.N.effectAllowed,this.N.dropEffect)),n!==this.O&&this._.classList.remove(e+n),this._.classList.add(e+this.O)},t.prototype.q=function(t){var e=this.O===i[0]||null===this.g||3===t;return e?s(this.g)&&(this.D.mode=3,this.N.dropEffect=i[0],g("dragleave",this.g,this.m,this.D,this.N,!1)):s(this.g)&&(this.D.mode=1,this.N.dropEffect=this.O,this.O=!0===g("drop",this.g,this.m,this.D,this.N)?this.N.dropEffect:i[0]),e},t.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.O,g("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},t}(),b={iterationInterval:150,tryFindDraggableTarget:function(t){var e=t.target;do{if(!1!==e.draggable){if(!0===e.draggable)return e;if(e.getAttribute&&"true"===e.getAttribute("draggable"))return e}}while((e=e.parentNode)&&e!==document.body)},dragImageSetup:function(t){var e=t.cloneNode(!0);return function t(e,n){if(1===e.nodeType){for(var i=getComputedStyle(e),r=0;r<i.length;r++){var s=i[r];n.style.setProperty(s,i.getPropertyValue(s),i.getPropertyPriority(s))}if(n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName){var o=e,a=n,c=o.getContext("2d").getImageData(0,0,o.width,o.height);a.getContext("2d").putImageData(c,0,0)}}if(e.hasChildNodes())for(r=0;r<e.childNodes.length;r++)t(e.childNodes[r],n.childNodes[r])}(t,e),e},elementFromPoint:function(t,e){return document.elementFromPoint(t,e)}};function E(t){if(!v){var e=b.tryFindDraggableTarget(t);if(e)try{v=new y(t,b,e,S)}catch(e){throw S(b,t,3),e}}}function O(t){var e=t.target,n=function(t){r.off(),s.off(),o.off(),a.off(),e&&e.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(i)};e&&e.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var i=window.setTimeout(function(){r.off(),s.off(),o.off(),a.off(),E(t)},b.holdToDrag),r=c(e,"touchend",n),s=c(e,"touchcancel",n),o=c(e,"touchmove",n),a=c(window,"scroll",n,!0)}function S(t,e,n){if(0===n&&t.defaultActionOverride)try{t.defaultActionOverride(e)}catch(t){}v=null}t.polyfill=function(t){if(t&&Object.keys(t).forEach(function(e){b[e]=t[e]}),!b.forceApply){var e=(n={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},i=!!window.chrome||/chrome/i.test(navigator.userAgent),n.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||i&&"ontouchstart"in document.documentElement),n);if(e.userAgentSupportingNativeDnD&&e.draggable&&e.dragEvents)return!1}var n,i;return o("touchstart",b.holdToDrag?O:E,!1),!0},Object.defineProperty(t,"__esModule",{value:!0})}(e)},Aqzh:function(t,e,n){t.exports=function(){"use strict";var t=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var n=Object.prototype.toString.call(t);return"[object RegExp]"===n||"[object Date]"===n||function(t){return t.$$typeof===e}(t)}(t)},e="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s(Array.isArray(t)?[]:{},t,e):t}function i(t,e,i){return t.concat(e).map(function(t){return n(t,i)})}function r(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}(t))}function s(e,o,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t;var c=Array.isArray(o);return c===Array.isArray(e)?c?a.arrayMerge(e,o,a):function(t,e,i){var o={};return i.isMergeableObject(t)&&r(t).forEach(function(e){o[e]=n(t[e],i)}),r(e).forEach(function(r){o[r]=i.isMergeableObject(e[r])&&t[r]?function(t,e){if(!e.customMerge)return s;var n=e.customMerge(t);return"function"==typeof n?n:s}(r,i)(t[r],e[r],i):n(e[r],i)}),o}(e,o,a):n(o,a)}return s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return s(t,n,e)},{})},s}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("HDdC"),r=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>{const r=t[o.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(u.a)(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new s.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[c.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},CqXF:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t){return e=>e.lift(new s(t))}class s{constructor(t){this.value=t}call(t,e){return e.subscribe(new o(t,this.value))}}class o extends i.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("3N8a");const r=new(n("IjjT").a)(i.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var i=n("XNiG"),r=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("HDdC");const r=new i.a(t=>t.complete());function s(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("LRne"),r=n("bHdf");function s(...t){return Object(r.a)(1)(Object(i.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("7o/Q"),r=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HlzF:function(t,e,n){var i;!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var t=this||r;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||r;if(t=parseFloat(t),e.ctx||d(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,r.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),s=0;s<i.length;s++){var o=e._howls[n]._soundById(i[s]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||r;e.ctx||d(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,r.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),s=0;s<i.length;s++){var o=e._howls[n]._soundById(i[s]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},stop:function(){for(var t=this||r,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||r,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||r)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||r;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(e){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||r,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(l){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator?t._navigator.userAgent:"",s=i.match(/OPR\/([0-6].)/g),o=s&&parseInt(s[0].split("/")[1],10)<33,a=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),c=i.match(/Version\/(.*?) /),u=a&&c&&parseInt(c[1],10)<15;return t._codecs={mp3:!(o||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||r;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,t._releaseHtml5Audio(i)}catch(n){t.noAudio=!0;break}for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var s=t._howls[r]._getSoundIds(),o=0;o<s.length;o++){var a=t._howls[r]._soundById(s[o]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}t._autoResume();var c=t.ctx.createBufferSource();c.buffer=t._scratchBuffer,c.connect(t.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),c.onended=function(){c.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),t}},_obtainHtml5Audio:function(){var t=this||r;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var e=this||r;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&r.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&r.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var r=new n,s=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(t){var e=this;return r.ctx||d(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=r.usingWebAudio&&!e._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=null;if(r.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var n,i;if(this._format&&this._format[e])n=this._format[e];else{if("string"!=typeof(i=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(i))||(n=/\.([^.]+)$/.exec(i.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&r.codecs(n)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new o(this),this._webAudio&&c(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,i=null;if("number"==typeof t)i=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var s=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(s++,i=n._sounds[o]._id);1===s?t=null:i=null}}var a=i?n._soundById(i):n._inactiveSound();if(!a)return null;if(i&&!t&&(t=a._sprite||"__default"),"loaded"!==n._state){a._sprite=t,a._ended=!1;var c=a._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(i&&!a._paused)return e||n._loadQueue("play"),a._id;n._webAudio&&r._autoResume();var u=Math.max(0,a._seek>0?a._seek:n._sprite[t][0]/1e3),l=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-u),h=1e3*l/Math.abs(a._rate),d=n._sprite[t][0]/1e3,p=(n._sprite[t][0]+n._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;var f=function(){a._paused=!1,a._seek=u,a._start=d,a._stop=p,a._loop=!(!a._loop&&!n._sprite[t][2])};if(!(u>=p)){var _=a._node;if(n._webAudio){var g=function(){n._playLock=!1,f(),n._refreshBuffer(a),_.gain.setValueAtTime(a._muted||n._muted?0:a._volume,r.ctx.currentTime),a._playStart=r.ctx.currentTime,void 0===_.bufferSource.start?_.bufferSource.noteGrainOn(0,u,a._loop?86400:l):_.bufferSource.start(0,u,a._loop?86400:l),h!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),h)),e||setTimeout(function(){n._emit("play",a._id),n._loadQueue()},0)};"running"===r.state&&"interrupted"!==r.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(a._id))}else{var m=function(){_.currentTime=u,_.muted=a._muted||n._muted||r._muted||_.muted,_.volume=a._volume*r.volume(),_.playbackRate=a._rate;try{var i=_.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(n._playLock=!0,f(),i.then(function(){n._playLock=!1,_._unlocked=!0,e?n._loadQueue():n._emit("play",a._id)}).catch(function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0})):e||(n._playLock=!1,f(),n._emit("play",a._id)),_.playbackRate=a._rate,_.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),h):(n._endTimers[a._id]=function(){n._ended(a),_.removeEventListener("ended",n._endTimers[a._id],!1)},_.addEventListener("ended",n._endTimers[a._id],!1))}catch(s){n._emit("playerror",a._id,s)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=n._src,_.load());var v=window&&window.ejecta||!_.readyState&&r._navigator.isCocoonJS;if(_.readyState>=3||v)m();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",m(),_.removeEventListener(r._canPlayEvent,y,!1)};_.addEventListener(r._canPlayEvent,y,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),i=0;i<n.length;i++){e._clearTimer(n[i]);var r=e._soundById(n[i]);if(r&&!r._paused&&(r._seek=e.seek(n[i]),r._rateSeek=0,r._paused=!0,e._stopFade(n[i]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var i=n._getSoundIds(t),r=0;r<i.length;r++){n._clearTimer(i[r]);var s=n._soundById(i[r]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,n._stopFade(i[r]),s._node&&(n._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),n._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&n._clearSound(s._node))),e||n._emit("stop",s._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var i=n._getSoundIds(e),s=0;s<i.length;s++){var o=n._soundById(i[s]);o&&(o._muted=t,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,r.ctx.currentTime):o._node&&(o._node.muted=!!r._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n,i=this,s=arguments;if(0===s.length)return i._volume;if(1===s.length||2===s.length&&void 0===s[1]){var o=i._getSoundIds(),a=o.indexOf(s[0]);a>=0?e=parseInt(s[0],10):t=parseFloat(s[0])}else s.length>=2&&(t=parseFloat(s[0]),e=parseInt(s[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(n=e?i._soundById(e):i._sounds[0])?n._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,s)}}),i;void 0===e&&(i._volume=t),e=i._getSoundIds(e);for(var c=0;c<e.length;c++)(n=i._soundById(e[c]))&&(n._volume=t,s[2]||i._stopFade(e[c]),i._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,r.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*r.volume()),i._emit("volume",n._id));return i},fade:function(t,e,n,i){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(t,e,n,i)}}),s;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),s.volume(t,i);for(var o=s._getSoundIds(i),a=0;a<o.length;a++){var c=s._soundById(o[a]);if(c){if(i||s._stopFade(o[a]),s._webAudio&&!c._muted){var u=r.ctx.currentTime,l=u+n/1e3;c._volume=t,c._node.gain.setValueAtTime(t,u),c._node.gain.linearRampToValueAtTime(e,l)}s._startFadeInterval(c,t,e,n,o[a],void 0===i)}}return s},_startFadeInterval:function(t,e,n,i,r,s){var o=this,a=e,c=n-e,u=Math.abs(c/.01),l=Math.max(4,u>0?i/u:i),h=Date.now();t._fadeTo=n,t._interval=setInterval(function(){var r=(Date.now()-h)/i;h=Date.now(),a+=c*r,a=Math.round(100*a)/100,a=c<0?Math.max(n,a):Math.min(n,a),o._webAudio?t._volume=a:o.volume(a,t._id,!0),s&&(o._volume=a),(n<e&&a<=n||n>e&&a>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,o.volume(n,t._id),o._emit("fade",t._id))},l)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,n,i=this,r=arguments;if(0===r.length)return i._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=i._soundById(parseInt(r[0],10)))&&n._loop;i._loop=t=r[0]}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var s=i._getSoundIds(e),o=0;o<s.length;o++)(n=i._soundById(s[o]))&&(n._loop=t,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,i.playing(s[o])&&(i.pause(s[o],!0),i.play(s[o],!0)))));return i},rate:function(){var t,e,n,i=this,s=arguments;if(0===s.length)e=i._sounds[0]._id;else if(1===s.length){var o=i._getSoundIds(),a=o.indexOf(s[0]);a>=0?e=parseInt(s[0],10):t=parseFloat(s[0])}else 2===s.length&&(t=parseFloat(s[0]),e=parseInt(s[1],10));if("number"!=typeof t)return(n=i._soundById(e))?n._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,s)}}),i;void 0===e&&(i._rate=t),e=i._getSoundIds(e);for(var c=0;c<e.length;c++)if(n=i._soundById(e[c])){i.playing(e[c])&&(n._rateSeek=i.seek(e[c]),n._playStart=i._webAudio?r.ctx.currentTime:n._playStart),n._rate=t,i._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,r.ctx.currentTime):n._node&&(n._node.playbackRate=t);var u=i.seek(e[c]),l=(i._sprite[n._sprite][0]+i._sprite[n._sprite][1])/1e3-u,h=1e3*l/Math.abs(n._rate);!i._endTimers[e[c]]&&n._paused||(i._clearTimer(e[c]),i._endTimers[e[c]]=setTimeout(i._ended.bind(i,n),h)),i._emit("rate",n._id)}return i},seek:function(){var t,e,n=this,i=arguments;if(0===i.length)n._sounds.length&&(e=n._sounds[0]._id);else if(1===i.length){var s=n._getSoundIds(),o=s.indexOf(i[0]);o>=0?e=parseInt(i[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(i[0]))}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(void 0===e)return 0;if("number"==typeof t&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var a=n._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var c=n.playing(e)?r.ctx.currentTime-a._playStart:0,u=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(u+c*Math.abs(a._rate))}return a._node.currentTime}var l=n.playing(e);l&&n.pause(e,!0),a._seek=t,a._ended=!1,n._clearTimer(e),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=t);var h=function(){l&&n.play(e,!0),n._emit("seek",e)};if(l&&!n._webAudio){var d=function(){n._playLock?setTimeout(d,0):h()};setTimeout(d,0)}else h()}return n},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this._duration,n=this._soundById(t);return n&&(e=this._sprite[n._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(r._canPlayEvent,e[n]._loadFn,!1),e[n]._node.removeEventListener("ended",e[n]._endFn,!1),r._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var i=r._howls.indexOf(t);i>=0&&r._howls.splice(i,1);var s=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===t._src||t._src.indexOf(r._howls[n]._src)>=0){s=!1;break}return a&&s&&delete a[t._src],r.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,i){return"function"==typeof e&&this["_on"+t].push(i?{id:n,fn:e,once:i}:{id:n,fn:e}),this},off:function(t,e,n){var i=this["_on"+t],r=0;if("number"==typeof e&&(n=e,e=null),e||n)for(r=0;r<i.length;r++){var s=n===i[r].id;if(e===i[r].fn&&s||!e&&s){i.splice(r,1);break}}else if(t)this["_on"+t]=[];else{var o=Object.keys(this);for(r=0;r<o.length;r++)0===o[r].indexOf("_on")&&Array.isArray(this[o[r]])&&(this[o[r]]=[])}return this},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var i=this["_on"+t],r=i.length-1;r>=0;r--)i[r].id&&i[r].id!==e&&"load"!==t||(setTimeout((function(t){t.call(this,e,n)}).bind(this,i[r].fn),0),i[r].once&&this.off(t,i[r].fn,i[r].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var n=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&n&&this.stop(t._id,!0).play(t._id),this._webAudio&&n){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=r.ctx.currentTime;var i=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),i)}return this._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),r._autoSuspend()),this._webAudio||n||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new o(this)},_drain:function(){var t=this._pool,e=0,n=0;if(!(this._sounds.length<t)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&e++;for(n=this._sounds.length-1;n>=0;n--){if(e<=t)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=r.ctx.createBufferSource(),t._node.bufferSource.buffer=a[this._src],t._node.bufferSource.connect(t._panner?t._panner:t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,r.ctx.currentTime),this},_cleanBuffer:function(t){var e=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=r._scratchBuffer}catch(n){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=r._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),this._node.gain.setValueAtTime(e,r.ctx.currentTime),this._node.paused=!0,this._node.connect(r.masterGain)):r.noAudio||(this._node=r._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(r._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=e*r.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(r._canPlayEvent,this._loadFn,!1)},_endListener:function(){var t=this._parent;t._duration===1/0&&(t._duration=Math.ceil(10*this._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var a={},c=function(t){var e=t._src;if(a[e])return t._duration=a[e].duration,void h(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);l(i.buffer,t)}else{var s=new XMLHttpRequest;s.open(t._xhr.method,e,!0),s.withCredentials=t._xhr.withCredentials,s.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(e){s.setRequestHeader(e,t._xhr.headers[e])}),s.onload=function(){var e=(s.status+"")[0];"0"===e||"2"===e||"3"===e?l(s.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".")},s.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete a[e],t.load())},u(s)}},u=function(t){try{t.send()}catch(e){t.onerror()}},l=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},i=function(t){t&&e._sounds.length>0?(a[e._src]=t,h(e,t)):n()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(t).then(i).catch(n):r.ctx.decodeAudioData(t,i,n)},h=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},d=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(s){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),e=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var i=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!i&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};void 0===(i=(function(){return{Howler:r,Howl:s}}).apply(e,[]))||(t.exports=i),e.Howler=r,e.Howl=s,"undefined"!=typeof global?(global.HowlerGlobal=n,global.Howler=r,global.Howl=s,global.Sound=o):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=r,window.Howl=s,window.Sound=o)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,n){return this.ctx&&this.ctx.listener?"number"!=typeof t?this._pos:(this._pos=[t,e="number"!=typeof e?this._pos[1]:e,n="number"!=typeof n?this._pos[2]:n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this):this},HowlerGlobal.prototype.orientation=function(t,e,n,i,r,s){if(!this.ctx||!this.ctx.listener)return this;var o=this._orientation;return"number"!=typeof t?o:(this._orientation=[t,e="number"!=typeof e?o[1]:e,n="number"!=typeof n?o[2]:n,i="number"!=typeof i?o[3]:i,r="number"!=typeof r?o[4]:r,s="number"!=typeof s?o[5]:s],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,n,i,r,s),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(t,n)}}),i;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return i._stereo;i._stereo=t,i._pos=[t,0,0]}for(var s=i._getSoundIds(n),o=0;o<s.length;o++){var a=i._soundById(s[o]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,r),"spatial"===r?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",a._id)}}return i},Howl.prototype.pos=function(t,n,i,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(t,n,i,r)}}),s;if(n="number"!=typeof n?0:n,i="number"!=typeof i?-.5:i,void 0===r){if("number"!=typeof t)return s._pos;s._pos=[t,n,i]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var c=s._soundById(o[a]);if(c){if("number"!=typeof t)return c._pos;c._pos=[t,n,i],c._node&&(c._panner&&!c._panner.pan||e(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setPosition(t,n,i)),s._emit("pos",c._id)}}return s},Howl.prototype.orientation=function(t,n,i,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(t,n,i,r)}}),s;if(n="number"!=typeof n?s._orientation[1]:n,i="number"!=typeof i?s._orientation[2]:i,void 0===r){if("number"!=typeof t)return s._orientation;s._orientation=[t,n,i]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var c=s._soundById(o[a]);if(c){if("number"!=typeof t)return c._orientation;c._orientation=[t,n,i],c._node&&(c._panner||(c._pos||(c._pos=s._pos||[0,0,-.5]),e(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setOrientation(t,n,i)),s._emit("orientation",c._id)}}return s},Howl.prototype.pannerAttr=function(){var t,n,i,r=this,s=arguments;if(!r._webAudio)return r;if(0===s.length)return r._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(i=r._soundById(parseInt(s[0],10)))?i._pannerAttr:r._pannerAttr;t=s[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:r._panningModel})}else 2===s.length&&(t=s[0],n=parseInt(s[1],10));for(var o=r._getSoundIds(n),a=0;a<o.length;a++)if(i=r._soundById(o[a])){var c=i._pannerAttr;c={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:c.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:c.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:c.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:c.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:c.panningModel};var u=i._panner;u?(u.coneInnerAngle=c.coneInnerAngle,u.coneOuterAngle=c.coneOuterAngle,u.coneOuterGain=c.coneOuterGain,u.distanceModel=c.distanceModel,u.maxDistance=c.maxDistance,u.refDistance=c.refDistance,u.rolloffFactor=c.rolloffFactor,u.panningModel=c.panningModel):(i._pos||(i._pos=r._pos||[0,0,-.5]),e(i,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()},"I/3d":function(t,e,n){"use strict";n.d(e,"a",function(){return R});var i=n("fXoL"),r=n("D0XW"),s=n("HDdC"),o=n("Cfvw"),a=n("LRne"),c=n("JX91"),u=n("Zy1z"),l=n("lJxs"),h=n("Kqap"),d=n("/uUt"),p=n("pLZG"),f=n("pxpQ"),_=n("spgP"),g=n("ofXK"),m=n("Jgta"),v=(n("xo5E"),n("UbJi"));function y(t,e){return function(t,e=r.a){return new s.a(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function b(t,e){return y(t,e).pipe(Object(l.a)(t=>({payload:t,type:"query"})))}function E(t,e){return b(t,e).pipe(Object(c.a)(void 0),Object(u.a)(),Object(l.a)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function O(t,e,n){return E(t,n).pipe(Object(h.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return S(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return S(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return S(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(d.a)(),Object(l.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function S(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function C(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class T{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=E(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(l.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(c.a)(void 0),Object(u.a)(),Object(p.a)(([t,e])=>e.length>0||!t),Object(l.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(h.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=C(t);return O(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(f.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new w(this.ref.doc(t),this.afs)}}class w{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=x(n,e);return new T(i,r,this.afs)}snapshotChanges(){return y(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(c.a)(void 0),Object(u.a)(),Object(l.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(l.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(o.a)(this.ref.get(t)).pipe(Object(f.b)(this.afs.schedulers.insideAngular))}}class D{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?E(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(p.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):E(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(h.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=C(t);return O(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(f.b)(this.afs.schedulers.insideAngular))}}const P=new i.r("angularfire2.enableFirestorePersistence"),A=new i.r("angularfire2.firestore.persistenceSettings"),I=new i.r("angularfire2.firestore.settings"),M=new i.r("angularfire2.firestore.use-emulator");function x(t,e=(t=>t)){return{query:e(t),ref:t}}let R=(()=>{class t{constructor(t,e,n,i,r,s,c,u,l){this.schedulers=new _.d(s),this.keepUnstableUntilFirst=Object(_.h)(this.schedulers);const h=Object(_.g)(t,s,e);!m.a.auth&&l&&Object(_.j)();const d=u;[this.firestore,this.persistenceEnabled$]=Object(_.f)(`${h.name}.firestore`,"AngularFirestore",h,()=>{const t=s.runOutsideAngular(()=>h.firestore());if(i&&t.settings(i),d&&t.useEmulator(...d),n&&!Object(g.B)(r)){const e=()=>{try{return Object(o.a)(t.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(a.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(a.a)(!1)]},[i,d,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=x(n,e),s=this.schedulers.ngZone.run(()=>i);return new T(s,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new D(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new w(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.cc(_.b),i.cc(_.a,8),i.cc(P,8),i.cc(I,8),i.cc(i.C),i.cc(i.A),i.cc(A,8),i.cc(M,8),i.cc(v.b,8))},t.\u0275prov=i.Mb({factory:function(){return new t(i.cc(_.b),i.cc(_.a,8),i.cc(P,8),i.cc(I,8),i.cc(i.C),i.cc(i.A),i.cc(A,8),i.cc(M,8),i.cc(v.b,8))},token:t,providedIn:"any"}),t})()},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new r.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("l7GE"),r=n("51Dv"),s=n("ZUHj");function o(t){return function(e){const n=new a(t),i=e.lift(n);return n.caught=i}}class a{constructor(t){this.selector=t}call(t,e){return e.subscribe(new c(t,this.selector,this.caught))}}class c extends i.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this,void 0,void 0);this.add(i);const o=Object(s.a)(this,n,void 0,void 0,i);o!==i&&this.add(o)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("GyhO"),r=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(r.a)(e)?(t.pop(),n=>Object(i.a)(t,n,e)):e=>Object(i.a)(t,e)}},JZFu:function(t,e,n){"use strict";n.d(e,"a",function(){return r.default});var i,r=n("zIRd"),s=(n("t6oF"),n("6Uf2"),n("xo5E"),n("pqa8")),o=n("qOnz"),a=n("q/0M");n("x7I3"),(i=s.f).prototype.loadBundle=s.k,i.prototype.namedQuery=s.s;var c=n("mrSG"),u=n("/6Yf"),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(n,i,r){var s=t.call(this,i)||this;return Object.setPrototypeOf(s,e.prototype),s.code=n,s.details=r,s}return Object(c.__extends)(e,t),e}(Error),d=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t;return Object(c.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function p(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}var f,_,g,m=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return p(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?p(t,function(t){return e.decode(t)}):t},t}(),v=function(){function t(t,e,n,i,r,s){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=s,this.serializer=new m,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new d(e,n),this.cancelAllRequests=new Promise(function(t){o.deleteService=function(){return t()}});try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(c){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(i){return n.call(t,i,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(c.__awaiter)(this,void 0,void 0,function(){var i,r,s;return Object(c.__generator)(this,function(o){switch(o.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(i=o.sent())&&(n["X-Firebase-AppCheck"]=i),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return r=o.sent(),[3,5];case 4:return o.sent(),[2,{status:0,json:null}];case 5:s=null,o.label=6;case 6:return o.trys.push([6,8,,9]),[4,r.json()];case 7:return s=o.sent(),[3,9];case 8:return o.sent(),[3,9];case 9:return[2,{status:r.status,json:s}]}})})},t.prototype.getAppCheckToken=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t;return Object(c.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return Object(c.__awaiter)(this,void 0,void 0,function(){var i,r,s,o,a,u,d,p,f,_;return Object(c.__generator)(this,function(c){switch(c.label){case 0:return i=this._url(t),e=this.serializer.encode(e),r={data:e},s={},[4,this.contextProvider.getContext()];case 1:return(o=c.sent()).authToken&&(s.Authorization="Bearer "+o.authToken),o.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=o.instanceIdToken),a=function(t){var e,n=new Promise(function(n,i){e=setTimeout(function(){i(new h("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),u=a.timer,d=a.promise,[4,Promise.race([y(u,this.postJSON(i,r,s)),d,y(u,this.cancelAllRequests)])];case 2:if(!(p=c.sent()))throw new h("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=i,s=void 0;try{var o=e&&e.error;if(o){var a=o.status;if("string"==typeof a){if(!l[a])return new h("internal","internal");i=l[a],r=a}var c=o.message;"string"==typeof c&&(r=c),void 0!==(s=o.details)&&(s=n.decode(s))}}catch(u){}return"ok"===i?null:new h(i,r,s)}(p.status,p.json,this.serializer))throw f;if(!p.json)throw new h("internal","Response is not valid JSON object.");if(void 0===(_=p.json.data)&&(_=p.json.result),void 0===_)throw new h("internal","Response is missing data field.");return[2,{data:this.serializer.decode(_)}]}})})},t}();function y(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return[4,e];case 1:return n=i.sent(),clearTimeout(t),[2,n]}})})}f=r.default,_=fetch.bind(self),g={Functions:v},f.INTERNAL.registerComponent(new u.Component("functions",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),o=t.getProvider("messaging");return new v(i,r,o,s,n,_)},"PUBLIC").setServiceProps(g).setMultipleInstances(!0)),r.default.registerVersion("@firebase/functions","0.6.15"),n("fSjL");var b,E=n("nbvr"),O=((b={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',b["only-available-in-window"]="This method is available in a Window context.",b["only-available-in-sw"]="This method is available in a service worker context.",b["permission-default"]="The notification permission was not granted and dismissed instead.",b["permission-blocked"]="The notification permission was not granted and blocked instead.",b["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",b["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",b["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",b["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",b["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",b["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",b["token-update-no-token"]="FCM returned no token when updating the user to push.",b["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",b["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",b["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",b["invalid-vapid-key"]="The public VAPID key must be a string.",b["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",b),S=new o.ErrorFactory("messaging","Messaging",O),C="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",T=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function w(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(c.__spreadArray)([],Object(c.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function D(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}function P(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!i.sent().map(function(t){return t.name}).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return e=null,[4,Object(E.openDb)("fcm_token_details_db",5,function(i){return Object(c.__awaiter)(n,void 0,void 0,function(){var n,r,s,o;return Object(c.__generator)(this,function(a){switch(a.label){case 0:return i.oldVersion<2?[2]:i.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=i.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return r=a.sent(),[4,n.clear()];case 2:if(a.sent(),!r)return[2];if(2===i.oldVersion){if(!(s=r).auth||!s.p256dh||!s.endpoint)return[2];e={token:s.fcmToken,createTime:null!==(o=s.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:"string"==typeof s.vapidKey?s.vapidKey:w(s.vapidKey)}}}else(3===i.oldVersion||4===i.oldVersion)&&(e={token:(s=r).fcmToken,createTime:s.createTime,subscriptionOptions:{auth:w(s.auth),p256dh:w(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:w(s.vapidKey)}});return[2]}})})})];case 3:return i.sent().close(),[4,Object(E.deleteDb)("fcm_token_details_db")];case 4:return i.sent(),[4,Object(E.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(E.deleteDb)("undefined")];case 6:return i.sent(),[2,A(e)?e:null]}})})}function A(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var I="firebase-messaging-store",M=null;function x(){return M||(M=Object(E.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(I)}})),M}function R(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return e=j(t),[4,x()];case 1:return[4,r.sent().transaction(I).objectStore(I).get(e)];case 2:return(n=r.sent())?[2,n]:[3,3];case 3:return[4,P(t.appConfig.senderId)];case 4:return(i=r.sent())?[4,k(t,i)]:[3,6];case 5:return r.sent(),[2,i];case 6:return[2]}})})}function k(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(c.__generator)(this,function(s){switch(s.label){case 0:return n=j(t),[4,x()];case 1:return i=s.sent(),[4,(r=i.transaction(I,"readwrite")).objectStore(I).put(e,n)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2,e]}})})}function L(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return e=j(t),[4,x()];case 1:return n=r.sent(),[4,(i=n.transaction(I,"readwrite")).objectStore(I).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function j(t){return t.appConfig.appId}function N(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i,r,s,o;return Object(c.__generator)(this,function(a){switch(a.label){case 0:return[4,q(t)];case 1:n=a.sent(),i=V(e),r={method:"POST",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(F(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return s=a.sent(),[3,6];case 5:throw o=a.sent(),S.create("token-subscribe-failed",{errorInfo:o});case 6:if(s.error)throw S.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw S.create("token-subscribe-no-token");return[2,s.token]}})})}function U(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i,r,s,o;return Object(c.__generator)(this,function(a){switch(a.label){case 0:return[4,q(t)];case 1:n=a.sent(),i=V(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(F(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return s=a.sent(),[3,6];case 5:throw o=a.sent(),S.create("token-update-failed",{errorInfo:o});case 6:if(s.error)throw S.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw S.create("token-update-no-token");return[2,s.token]}})})}function B(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i,r,s;return Object(c.__generator)(this,function(o){switch(o.label){case 0:return[4,q(t)];case 1:n=o.sent(),i={method:"DELETE",headers:n},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(F(t.appConfig)+"/"+e,i)];case 3:return[4,o.sent().json()];case 4:if((r=o.sent()).error)throw S.create("token-unsubscribe-failed",{errorInfo:r.error.message});return[3,6];case 5:throw s=o.sent(),S.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}})})}function F(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function q(t){var e=t.appConfig,n=t.installations;return Object(c.__awaiter)(this,void 0,void 0,function(){var t;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return t=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function V(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==C&&(n.web.applicationPubKey=e),n}function W(t,e,n){return Object(c.__awaiter)(this,void 0,void 0,function(){var i,r,s,o;return Object(c.__generator)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw S.create("permission-blocked");return[4,$(e,n)];case 1:return i=a.sent(),[4,R(t)];case 2:return r=a.sent(),s={vapidKey:n,swScope:e.scope,endpoint:i.endpoint,auth:w(i.getKey("auth")),p256dh:w(i.getKey("p256dh"))},r?[3,3]:[2,z(t,s)];case 3:if(l=(u=s).endpoint===(c=r.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,B(t,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,z(t,s)];case 8:return Date.now()>=r.createTime+6048e5?[2,K({token:r.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,r.token];case 9:return[2]}var c,u,l})})}function G(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return[4,R(t)];case 1:return(n=r.sent())?[4,B(t,n.token)]:[3,4];case 2:return r.sent(),[4,L(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(i=r.sent())?[2,i.unsubscribe()]:[2,!0]}})})}function K(t,e,n){return Object(c.__awaiter)(this,void 0,void 0,function(){var i,r,s;return Object(c.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,5]),[4,U(e,t)];case 1:return i=o.sent(),r=Object(c.__assign)(Object(c.__assign)({},t),{token:i,createTime:Date.now()}),[4,k(e,r)];case 2:return o.sent(),[2,i];case 3:return s=o.sent(),[4,G(e,n)];case 4:throw o.sent(),s;case 5:return[2]}})})}function z(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return[4,N(t,e)];case 1:return n=r.sent(),i={token:n,createTime:Date.now(),subscriptionOptions:e},[4,k(t,i)];case 2:return r.sent(),[2,i.token]}})})}function $(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=i.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:D(e)})]}})})}function H(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function Q(t){return new Promise(function(e){setTimeout(e,t)})}var Y=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw S.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(c.__awaiter)(this,void 0,void 0,function(){var n;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,R(this.firebaseDependencies)];case 1:n=i.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:C,i.label=2;case 2:return[2,W(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return G(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw S.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw S.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw S.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw S.create("only-available-in-window")},t.prototype.onMessage=function(){throw S.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw S.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n,i,r;return Object(c.__generator)(this,function(s){switch(s.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,tt()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=s.sent())?[2,J(n,e)]:(i=!1,e.notification?[4,et(X(e))]:[3,3]);case 2:s.sent(),i=!0,s.label=3;case 3:return!0===i&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=function(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var i=e.notification.body;i&&(t.notification.body=i);var r=e.notification.image;r&&(t.notification.image=r)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var i=e.fcmOptions.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,Q(1e3)]);case 4:return s.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(c.__awaiter)(this,void 0,void 0,function(){var i;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,G(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,R(this.firebaseDependencies)];case 3:return i=r.sent(),[4,G(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,W(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:C)];case 5:return r.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(c.__awaiter)(this,void 0,void 0,function(){var i,r,s,o,a;return Object(c.__generator)(this,function(c){switch(c.label){case 0:return(i=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n,i;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(i=t.notification)||void 0===i?void 0:i.click_action)||(H(t.data)?self.location.origin:null)}(i))?(s=new URL(r,self.location.href),o=new URL(self.location.origin),s.host!==o.host?[2]:[4,Z(s)]):[2]):[2];case 1:return(a=c.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=c.sent(),[4,Q(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(i.messageType=T.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,a.postMessage(i)]):[2]}})})},t}();function X(t){var e,n=Object(c.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Z(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n,i,r,s,o,a;return Object(c.__generator)(this,function(u){switch(u.label){case 0:return[4,tt()];case 1:e=u.sent();try{for(n=Object(c.__values)(e),i=n.next();!i.done;i=n.next())if(r=i.value,s=new URL(r.url,self.location.href),t.host===s.host)return[2,r]}catch(l){o={error:l}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(o)throw o.error}}return[2,null]}})})}function J(t,e){var n,i;e.isFirebaseMessaging=!0,e.messageType=T.PUSH_RECEIVED;try{for(var r=Object(c.__values)(t),s=r.next();!s.done;s=r.next())s.value.postMessage(e)}catch(o){n={error:o}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}function tt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function et(t){var e,n=t.actions,i=Notification.maxActions;return n&&i&&n.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var nt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===T.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),H(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw S.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,W(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=C),[2]})})},t.prototype.updateSwReg=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw S.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),S.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,G(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t;return Object(c.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw S.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw S.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw S.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw S.create("invalid-sw-registration");if(this.swRegistration)throw S.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw S.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw S.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return n=function(t){switch(t){case T.NOTIFICATION_CLICKED:return"notification_open";case T.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function it(t){return S.create("missing-app-config-values",{valueName:t})}var rt={isSupported:st};function st(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}r.default.INTERNAL.registerComponent(new u.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw it("App Configuration Object");if(!t.name)throw it("App Name");var i=t.options;try{for(var r=Object(c.__values)(["projectId","apiKey","appId","messagingSenderId"]),s=r.next();!s.done;s=r.next()){var o=s.value;if(!i[o])throw it(o)}}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!st())throw S.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Y(n):new nt(n)},"PUBLIC").setServiceProps(rt));var ot=function(t){function e(n,i){var r=t.call(this,at(n),"Firebase Storage: "+i+" ("+at(n)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,e.prototype),r}return Object(c.__extends)(e,t),e.prototype._codeEquals=function(t){return at(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(o.FirebaseError);function at(t){return"storage/"+t}function ct(){return new ot("unknown","An unknown error occurred, please check the error payload for server response.")}function ut(){return new ot("canceled","User canceled the upload/download.")}function lt(){return new ot("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ht(t){return new ot("invalid-argument",t)}function dt(){return new ot("app-deleted","The Firebase app was deleted.")}function pt(t){return new ot("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ft(t,e){return new ot("invalid-format","String does not match format '"+t+"': "+e)}function _t(t){throw new ot("internal-error","Internal error: "+t)}var gt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},mt=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function vt(t,e){switch(t){case gt.RAW:return new mt(yt(e));case gt.BASE64:case gt.BASE64URL:return new mt(bt(t,e));case gt.DATA_URL:return new mt((n=new Et(e)).base64?bt(gt.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw ft(gt.DATA_URL,"Malformed data URL.")}return yt(e)}(n.rest),new Et(e).contentType)}var n;throw ct()}function yt(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,s=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&s)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function bt(t,e){switch(t){case gt.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw ft(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case gt.BASE64URL:var r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw ft(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(u){throw ft(t,"Invalid character found")}for(var a=new Uint8Array(o.length),c=0;c<o.length;c++)a[c]=o.charCodeAt(c);return a}var Et=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw ft(gt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Ot={STATE_CHANGED:"state_changed"},St={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ct(t){switch(t){case"running":case"pausing":case"canceling":return St.RUNNING;case"paused":return St.PAUSED;case"success":return St.SUCCESS;case"canceled":return St.CANCELED;case"error":default:return St.ERROR}}var Tt=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),wt=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Tt.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Tt.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Tt.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw _t("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw _t("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw _t("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw _t("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Dt=function(){function t(){}return t.prototype.createConnection=function(){return new wt},t}(),Pt=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var i;try{i=t.makeFromUrl(e,n)}catch(r){return new t(e,"")}if(""===i.path)return i;throw new ot("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var i=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var o=n.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<a.length;c++){var u=a[c],l=u.regex.exec(e);if(l){var h=l[u.indices.path];h||(h=""),i=new t(l[u.indices.bucket],h),u.postModify(i);break}}if(null==i)throw function(t){return new ot("invalid-url","Invalid URL '"+t+"'.")}(e);return i},t}(),At=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function It(t){return"string"==typeof t||t instanceof String}function Mt(t){return xt()&&t instanceof Blob}function xt(){return"undefined"!=typeof Blob}function Rt(t,e,n,i){if(i<e)throw ht("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(i>n)throw ht("Invalid value for '"+t+"'. Expected "+n+" or less.")}function kt(t,e){var n=e.match(/^(\w+):\/\/.+/),i=e;return null==(null==n?void 0:n[1])&&(i="https://"+e),i+"/v0"+t}function Lt(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}var jt=function(){function t(t,e,n,i,r,s,o,a,c,u,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,s=t.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(c){s(c)}else null!==o?((i=ct()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,i):i)):s(i=n.canceled?t.appDelete_?dt():ut():new ot("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Nt(!1,null,!0)):this.backoffId_=function(e,n,i){var r=1,s=null,o=!1,a=0;function u(){return 2===a}var l=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function d(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new Nt(!1,null,!0));else{var i=t.pool_.createConnection();t.pendingConnection_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&i.removeUploadProgressListener(r),t.pendingConnection_=null;var n=i.getErrorCode()===Tt.NO_ERROR,s=i.getStatus();if(n&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new Nt(o,i))}else{var a=i.getErrorCode()===Tt.ABORT;e(!1,new Nt(!1,null,a))}})}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(p,u())},e)}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)h.call.apply(h,Object(c.__spreadArray)([null,t],e));else{var i;u()||o?h.call.apply(h,Object(c.__spreadArray)([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),d(i))}}var f=!1;function _(t){f||(f=!0,l||(null!==s?(t||(a=2),clearTimeout(s),d(0)):t||(a=1)))}return d(0),setTimeout(function(){o=!0,_(!0)},i),_}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),Nt=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function Ut(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ut();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(xt())return new Blob(t);throw new ot("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ft=function(){function t(t,e){var n=0,i="";Mt(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Mt(this.data_)){var i=(s=e,o=n,(r=this.data_).webkitSlice?r.webkitSlice(s,o):r.mozSlice?r.mozSlice(s,o):r.slice?r.slice(s,o):null);return null===i?null:new t(i)}var r,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(xt()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t(Bt.apply(null,i))}var r=e.map(function(t){return It(t)?vt(gt.RAW,t).data:t.data_}),s=0;r.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}();function qt(t){var e,n;try{e=JSON.parse(t)}catch(i){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Vt(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Wt(t,e){return e}var Gt=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||Wt}}(),Kt=null;function zt(){if(Kt)return Kt;var t=[];t.push(new Gt("bucket")),t.push(new Gt("generation")),t.push(new Gt("metageneration")),t.push(new Gt("name","fullPath",!0));var e=new Gt("name");e.xform=function(t,e){return function(t){return!It(t)||t.length<2?t:Vt(t)}(e)},t.push(e);var n=new Gt("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Gt("timeCreated")),t.push(new Gt("updated")),t.push(new Gt("md5Hash",null,!0)),t.push(new Gt("cacheControl",null,!0)),t.push(new Gt("contentDisposition",null,!0)),t.push(new Gt("contentEncoding",null,!0)),t.push(new Gt("contentLanguage",null,!0)),t.push(new Gt("contentType",null,!0)),t.push(new Gt("metadata","customMetadata",!0)),Kt=t}function $t(t,e,n){var i=qt(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,s=0;s<r;s++){var o=n[s];i[o.local]=o.xform(i,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Pt(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(i,t),i}(t,i,n)}function Ht(t,e){for(var n={},i=e.length,r=0;r<i;r++){var s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Qt=function(){return function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Yt(t){if(!t)throw ct()}function Xt(t,e){return function(n,i){var r=$t(t,i,e);return Yt(null!==r),r}}function Zt(t){return function(e,n){var i;return(i=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new ot("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ot("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new ot("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new ot("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,i}}function Jt(t){var e=Zt(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new ot("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function te(t,e,n){var i=kt(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,s=new Qt(i,"GET",Xt(t,n),r);return s.errorHandler=Jt(e),s}function ee(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var ne=function(){return function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}();function ie(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){Yt(!1)}return Yt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var re=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}}();function se(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var oe=function(){function t(t,e,n){var i=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=zt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){i._request=void 0,i._chunkMultiplier=1,t._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=t,i._transition("error"))},this._metadataErrorHandler=function(t){i._request=void 0,t._codeEquals("canceled")?i.completeTransitions_():(i._error=t,i._transition("error"))},this._promise=new Promise(function(t,e){i._resolve=t,i._reject=e,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var i=n[0],r=n[1];switch(e._state){case"running":t(i,r);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var i=function(t,e,n,i,r){var s=e.bucketOnlyServerUrl(),o=ee(e,i,r),a={name:o.fullPath},c=kt(s,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ht(o,n),h=new Qt(c,"POST",function(t){var e;ie(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Yt(!1)}return Yt(It(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=Zt(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,i){var r=function(t,e,n,i){var r=new Qt(n,"POST",function(t){var e=ie(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){Yt(!1)}n||Yt(!1);var r=Number(n);return Yt(!isNaN(r)),new ne(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=Zt(e),r}(t._ref.storage,t._ref._location,e,t._blob),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new ne(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(r,s){var o;try{o=function(t,e,n,i,r,s,o,a){var c=new ne(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new ot("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;r>0&&(l=Math.min(l,r));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},p=i.slice(h,h+l);if(null===p)throw lt();var f=new Qt(n,"POST",function(t,n){var r,o=ie(t,["active","final"]),a=c.current+l,u=i.size();return r="final"===o?Xt(e,s)(t,n):null,new ne(a,u,"final"===o,r)},e.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=a||null,f.errorHandler=Zt(t),f}(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(c){return t._error=c,void t._transition("error")}var a=t._ref.storage._makeRequest(o,r,s);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var i=te(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var i=function(t,e,n,i,r){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var c=ee(e,i,r),u=Ht(c,n),l=Ft.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===l)throw lt();var h={name:c.fullPath},d=kt(s,t.host),p=t.maxUploadRetryTime,f=new Qt(d,"POST",Xt(t,n),p);return f.urlParams=h,f.headers=o,f.body=l.uploadData(),f.errorHandler=Zt(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=ut(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Ct(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){var r=this,s=new re(e,n,i);return this._addObserver(s),function(){r._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Ct(this._state)){case St.SUCCESS:se(this._resolve.bind(null,this.snapshot))();break;case St.CANCELED:case St.ERROR:se(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Ct(this._state)){case St.RUNNING:case St.PAUSED:t.next&&se(t.next.bind(t,this.snapshot))();break;case St.SUCCESS:t.complete&&se(t.complete.bind(t))();break;case St.CANCELED:case St.ERROR:t.error&&se(t.error.bind(t,this._error))();break;default:t.error&&se(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ae=function(){function t(t,e){this._service=t,this._location=e instanceof Pt?e:Pt.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Pt(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Vt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Pt(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw pt(t)},t}();function ce(t){var e={prefixes:[],items:[]};return ue(t,e).then(function(){return e})}function ue(t,e,n){return Object(c.__awaiter)(this,void 0,void 0,function(){var i,r,s;return Object(c.__generator)(this,function(o){switch(o.label){case 0:return[4,le(t,{pageToken:n})];case 1:return i=o.sent(),(r=e.prefixes).push.apply(r,i.prefixes),(s=e.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,ue(t,e,i.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function le(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Rt("options.maxResults",1,1e3,e.maxResults),i=function(t,e,n,i,r){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);var o=kt(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new Qt(o,"GET",function(t,e){return function(n,i){var r=function(t,e,n){var i=qt(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,s=n.prefixes;r<s.length;r++){var o=s[r].replace(/\/$/,""),a=t._makeStorageReference(new Pt(e,o));i.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t._makeStorageReference(new Pt(e,u[c].name)),i.items.push(a);return i}(t,e,i)}(t,e,i);return Yt(null!==r),r}}(t,e.bucket),a);return c.urlParams=s,c.errorHandler=Zt(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}})})}function he(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new Pt(t._location.bucket,n);return new ae(t.storage,i)}function de(t){return/^[A-Za-z]+:\/\//.test(t)}function pe(t,e){if(t instanceof ge){var n=t;if(null==n._bucket)throw new ot("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new ae(n,n._bucket);return null!=e?pe(i,e):i}return void 0!==e?he(t,e):t}function fe(t,e){if(e&&de(e)){if(t instanceof ge)return new ae(t,e);throw ht("To use ref(service, url), the first argument must be a Storage instance.")}return pe(t,e)}function _e(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:Pt.makeFromBucketSpec(n,t)}var ge=function(){function t(t,e,n,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Pt.makeFromBucketSpec(r,this._host):_e(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?Pt.makeFromBucketSpec(this._url,t):_e(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Rt("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Rt("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t;return Object(c.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new ae(this,t)},t.prototype._makeRequest=function(t,e,n){var i=this;if(this._deleted)return new At(dt());var r=function(t,e,n,i,r,s){var o=Lt(t.urlParams),a=t.url+o,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,i),new jt(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return i._requests.delete(r)},function(){return i._requests.delete(r)}),r},t.prototype.makeRequestWithTokens=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function me(t,e){return fe(t=Object(o.getModularInstance)(t),e)}var ve=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),ye=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ve(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new ve(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,i){var r=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new ve(t,r,r._ref))}:{next:e.next?function(t){return e.next(new ve(t,r,r._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,i||void 0)},t}(),be=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Ee(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Ee(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Ee=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return he(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new ye(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new oe(t,new Ft(e),n)}(t=Object(o.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=gt.RAW),this._throwIfRoot("putString");var i=vt(e,t),r=Object(c.__assign)({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new ye(new oe(this._delegate,new Ft(i.data,!0),r),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,ce(t=Object(o.getModularInstance)(t))).then(function(t){return new be(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return le(t=Object(o.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new be(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=te(t.storage,t._location,zt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(o.getModularInstance)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,i){var r=kt(e.fullServerUrl(),t.host),s=Ht(n,i),o=t.maxOperationRetryTime,a=new Qt(r,"PATCH",Xt(t,i),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=Jt(e),a}(t.storage,t._location,e,zt()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}(t=Object(o.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var i=kt(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,s=new Qt(i,"GET",function(t,e){return function(n,i){var r=$t(t,i,e);return Yt(null!==r),function(t,e,n){var i=qt(e);if(null===i)return null;if(!It(i.downloadTokens))return null;var r=i.downloadTokens;if(0===r.length)return null;var s=encodeURIComponent;return r.split(",").map(function(e){var i=t.fullPath;return kt("/b/"+s(t.bucket)+"/o/"+s(i),n)+Lt({alt:"media",token:e})})[0]}(r,i,t.host)}}(t,n),r);return s.errorHandler=Jt(e),s}(t.storage,t._location,zt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new ot("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(o.getModularInstance)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=kt(e.fullServerUrl(),t.host),i=new Qt(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=Jt(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(o.getModularInstance)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw pt(t)},t}(),Oe=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(de(t))throw ht("ref() expected a child path but got a URL, use refFromURL instead.");return new Ee(me(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!de(t))throw ht("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Pt.makeFromUrl(t,this._delegate.host)}catch(e){throw ht("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ee(me(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){void 0===i&&(i={}),function(t,e,n,i){void 0===i&&(i={}),t.host="http://"+e+":"+n;var r=i.mockUserToken;r&&(t._overrideAuthToken="string"==typeof r?r:Object(o.createMockUserToken)(r,t.app.options.projectId))}(t,e,n,i)}(this._delegate,t,e,n)},t}();function Se(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Oe(i,new ge(i,s,o,new Dt,n,r.default.SDK_VERSION))}!function(t){var e={TaskState:St,TaskEvent:Ot,StringFormat:gt,Storage:ge,Reference:Ee};t.INTERNAL.registerComponent(new u.Component("storage",Se,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.0")}(r.default);var Ce,Te,we,De=((Ce={})["trace started"]="Trace {$traceName} was started before.",Ce["trace stopped"]="Trace {$traceName} is not running.",Ce["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ce["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ce["no window"]="Window is not available.",Ce["no app id"]="App id is not available.",Ce["no project id"]="Project id is not available.",Ce["no api key"]="Api key is not available.",Ce["invalid cc log"]="Attempted to queue invalid cc event",Ce["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ce["RC response not ok"]="RC response is not ok",Ce["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ce["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ce["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ce["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ce),Pe=new o.ErrorFactory("performance","Performance",De),Ae=new a.Logger("Performance");Ae.logLevel=a.LogLevel.INFO;var Ie,Me=function(){function t(t){if(this.window=t,!t)throw Pe.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(o.isIndexedDBAvailable)()||(Ae.info("IndexedDB is not supported by current browswer"),!1):(Ae.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,i=t.getEntries();n<i.length;n++)e(i[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Te&&(Te=new t(we)),Te},t}();function xe(t,e){var n=t.length-e.length;if(n<0||n>1)throw Pe.create("invalid String merger input");for(var i=[],r=0;r<t.length;r++)i.push(t.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}var Re,ke=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=xe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=xe("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Pe.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Pe.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Pe.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===Ie&&(Ie=new t),Ie},t}();function Le(){return Re}var je=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),Ne=["firebase_","google_","ga_"],Ue=new RegExp("^[a-zA-Z]\\w*$");function Be(){var t=Me.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Fe(){switch(Me.getInstance().document.visibilityState){case"visible":return je.VISIBLE;case"hidden":return je.HIDDEN;default:return je.UNKNOWN}}function qe(){var t=Me.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Ve(t){if(!t)return t;var e=ke.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=We(e.tracesSamplingRate),e.logNetworkAfterSampling=We(e.networkRequestsSamplingRate),t}function We(t){return Math.random()<=t}var Ge,Ke=1;function ze(){return Ke=2,Ge=Ge||function(){var t=Me.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return(t=ke.getInstance().installationsService.getId()).then(function(t){Re=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=Me.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(i){return}}}}();return e?(Ve(e),Promise.resolve()):function(t){return(e=ke.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+ke.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+ke.getInstance().getApiKey(),i=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:ke.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(i).then(function(t){if(t.ok)return t.json();throw Pe.create("RC response not ok")})}).catch(function(){Ae.info("Could not fetch config, will use default configs")});var e}(t).then(Ve).then(function(t){return function(t){var e=Me.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*ke.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return $e()},function(){return $e()})}function $e(){Ke=3}var He,Qe=3,Ye=[],Xe=!1;function Ze(t){setTimeout(function(){var t,e;if(0!==Qe)return Ye.length?(e=(t=Ye.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=ke.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||Ae.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),i=1e4;isNaN(n)||(i=Math.max(n,i));var r=t.logResponseDetails;Array.isArray(r)&&r.length>0&&"RETRY_REQUEST_LATER"===r[0].responseAction&&(Ye=Object(c.__spreadArray)(Object(c.__spreadArray)([],e),Ye),Ae.info("Retry transport request later.")),Qe=3,Ze(i)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ke.getInstance().logSource,log_event:e},t).catch(function(){Ye=Object(c.__spreadArray)(Object(c.__spreadArray)([],t),Ye),Qe--,Ae.info("Tries left: "+Qe+"."),Ze(1e4)})):Ze(1e4)},t)}function Je(t){if(!t.eventTime||!t.message)throw Pe.create("invalid cc log");Ye=Object(c.__spreadArray)(Object(c.__spreadArray)([],Ye),[t])}function tn(t,e){He||(He=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Je({message:t.apply(void 0,e),eventTime:Date.now()})}}(rn)),He(t,e)}function en(t){var e=ke.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&Me.getInstance().requiredApisAvailable()&&(t.isAuto&&Fe()!==je.VISIBLE||(3===Ke?nn(t):ze().then(function(){return nn(t)},function(){return nn(t)})))}function nn(t){if(Le()){var e=ke.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return tn(t,1)},0)}}function rn(t,e){return 0===e?(i={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},r={application_info:sn(),network_request_metric:i},JSON.stringify(r)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var i={application_info:sn(),trace_metric:e};return JSON.stringify(i)}(t);var n,i,r}function sn(){return{google_app_id:ke.getInstance().getAppId(),app_instance_id:Le(),web_app_info:{sdk_version:"0.4.18",page_url:Me.getInstance().getUrl(),service_worker_status:Be(),visibility_state:Fe(),effective_connection_type:qe()},application_process_state:0}}var on=["_fp","_fcp","_fid"],an=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=Me.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Pe.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Pe.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),en(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Pe.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Pe.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(c.__assign)({},n.attributes)),n&&n.metrics)for(var i=0,r=Object.keys(n.metrics);i<r.length;i++){var s=r[i];isNaN(Number(n.metrics[s]))||(this.counters[s]=Number(Math.floor(n.metrics[s])))}en(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(s=this.name,0===(r=t).length||r.length>100||!(s&&s.startsWith("_wt_")&&on.indexOf(r)>-1)&&r.startsWith("_"))throw Pe.create("invalid custom metric name",{customMetricName:t});var n,i,r,s;this.counters[t]=(n=e,(i=Math.floor(n))<n&&Ae.info("Metric value should be an Integer, setting the value as : "+i+"."),i)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,i=!(0===(n=t).length||n.length>40||Ne.some(function(t){return n.startsWith(t)})||!n.match(Ue)),r=function(t){return 0!==t.length&&t.length<=100}(e);if(i&&r)this.customAttributes[t]=e;else{if(!i)throw Pe.create("invalid attribute name",{attributeName:t});if(!r)throw Pe.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(c.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,i){var r=Me.getInstance().getUrl();if(r){var s=new t("_wt_"+r,!0),o=Math.floor(1e3*Me.getInstance().getTimeOrigin());if(s.setStartTime(o),e&&e[0]&&(s.setDuration(Math.floor(1e3*e[0].duration)),s.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),s.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),s.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&s.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find(function(t){return"first-contentful-paint"===t.name});c&&c.startTime&&s.putMetric("_fcp",Math.floor(1e3*c.startTime)),i&&s.putMetric("_fid",Math.floor(1e3*i))}en(s)}},t.createUserTimingTrace=function(e){en(new t(e,!1,e))},t}();function cn(t){var e=t;if(e&&void 0!==e.responseStart){var n=Me.getInstance().getTimeOrigin(),i=Math.floor(1e3*(e.startTime+n)),r=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,s=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=ke.getInstance();if(e.instrumentationEnabled){var n=t.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];n!==i&&n!==r&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return tn(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:i,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:s})}}function un(){Le()&&(setTimeout(function(){return function(){var t=Me.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout(function(){an.createOobTrace(e,n),i=void 0},5e3);t.onFirstInputDelay(function(t){i&&(clearTimeout(i),an.createOobTrace(e,n,t))})}else an.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=Me.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)cn(n[e]);t.setupObserver("resource",cn)}()},0),setTimeout(function(){return function(){for(var t=Me.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)ln(n[e]);t.setupObserver("measure",ln)}()},0))}function ln(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&an.createUserTimingTrace(e)}var hn=function(){function t(t){this.app=t,Me.getInstance().requiredApisAvailable()&&Object(o.validateIndexedDBOpenable)().then(function(t){t&&(Xe||(Ze(5500),Xe=!0),ze().then(un,un))}).catch(function(t){Ae.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new an(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return ke.getInstance().instrumentationEnabled},set:function(t){ke.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return ke.getInstance().dataCollectionEnabled},set:function(t){ke.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new u.Component("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw Pe.create("FB not default");if("undefined"==typeof window)throw Pe.create("no window");return function(t){we=t}(window),ke.getInstance().firebaseAppInstance=t,ke.getInstance().installationsService=e,new hn(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.18")}(r.default),n("3Kre");var dn,pn=function(){function t(t,e,n,i){this.client=t,this.storage=e,this.storageCache=n,this.logger=i}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,i=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+i+"."),i},t.prototype.fetch=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n,i,r,s;return Object(c.__generator)(this,function(o){switch(o.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=o.sent(),n=e[0],(i=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return r=o.sent(),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===r.status&&s.push(this.storage.setLastSuccessfulFetchResponse(r)),[4,Promise.all(s)];case 3:return o.sent(),[2,r]}})})},t}(),fn=((dn={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",dn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",dn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",dn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",dn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",dn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",dn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",dn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",dn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",dn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',dn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',dn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",dn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",dn),_n=new o.ErrorFactory("remoteconfig","Remote Config",fn),gn=function(){function t(t,e,n,i,r,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=i,this.apiKey=r,this.appId=s}return t.prototype.fetch=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n,i,r,s,o,a,u,l,h,d,p,f,_,g,m;return Object(c.__generator)(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=c.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,r={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===v&&(v=navigator),v.languages&&v.languages[0]||v.language)},s={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(r)},o=fetch(i,s),a=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),c.label=2;case 2:return c.trys.push([2,5,,6]),[4,Promise.race([o,a])];case 3:return c.sent(),[4,o];case 4:return u=c.sent(),[3,6];case 5:throw l=c.sent(),h="fetch-client-network","AbortError"===l.name&&(h="fetch-timeout"),_n.create(h,{originalErrorMessage:l.message});case 6:if(d=u.status,p=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];g=void 0,c.label=7;case 7:return c.trys.push([7,9,,10]),[4,u.json()];case 8:return g=c.sent(),[3,10];case 9:throw m=c.sent(),_n.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:f=g.entries,_=g.state,c.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?d=500:"NO_CHANGE"===_?d=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(f={}),304!==d&&200!==d)throw _n.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:p,config:f}]}var v})})},t}(),mn=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),vn=["1","true","t","yes","y","on"],yn=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&vn.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),bn=function(){function t(t,e,n,i,r){this.app=t,this._client=e,this._storageCache=n,this._storage=i,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=a.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=a.LogLevel.SILENT;break;default:this._logger.logLevel=a.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e,n;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(c.__generator)(this,function(r){switch(r.label){case 0:t=new mn,setTimeout(function(){return Object(c.__awaiter)(i,void 0,void 0,function(){return Object(c.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return r.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return r.sent(),[3,6];case 4:return e=r.sent(),n=(s=e)instanceof o.FirebaseError&&-1!==s.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw r.sent(),e;case 6:return[2]}var s})})},t.prototype.fetchAndActivate=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(c.__assign)(Object(c.__assign)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new yn("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new yn("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new yn("static"))},t}();function En(t,e){var n=t.target.error||void 0;return _n.create(e,{originalErrorMessage:n&&n.message})}var On=function(){function t(t,e,n,i){void 0===i&&(i=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(En(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,r){var s=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),o=n.createCompositeKey(t);try{var a=s.get(o);a.onerror=function(t){r(En(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(c){r(_n.create("storage-get",{originalErrorMessage:c&&c.message}))}})]}})})},t.prototype.set=function(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i=this;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return n=r.sent(),[2,new Promise(function(r,s){var o=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=i.createCompositeKey(t);try{var c=o.put({compositeKey:a,value:e});c.onerror=function(t){s(En(t,"storage-set"))},c.onsuccess=function(){r()}}catch(u){s(_n.create("storage-set",{originalErrorMessage:u&&u.message}))}})]}})})},t.prototype.delete=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,r){var s=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),o=n.createCompositeKey(t);try{var a=s.delete(o);a.onerror=function(t){r(En(t,"storage-delete"))},a.onsuccess=function(){i()}}catch(c){r(_n.create("storage-delete",{originalErrorMessage:c&&c.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Sn=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,r,s;return Object(c.__generator)(this,function(o){switch(o.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(i=o.sent())&&(this.lastFetchStatus=i),[4,e];case 2:return(r=o.sent())&&(this.lastSuccessfulFetchTimestampMillis=r),[4,n];case 3:return(s=o.sent())&&(this.activeConfig=s),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function Cn(t,e){return new Promise(function(n,i){var r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(function(){clearTimeout(s),i(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Tn,wn=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,i=e.backoffCount;return Object(c.__awaiter)(this,void 0,void 0,function(){var e,r,s;return Object(c.__generator)(this,function(a){switch(a.label){case 0:return[4,Cn(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof o.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r=a.sent()))throw r;return s={throttleEndTimeMillis:Date.now()+Object(o.calculateBackoffMillis)(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(s)];case 6:return a.sent(),[2,this.attemptFetch(t,s)];case 7:return[2]}})})},t}();(Tn=r.default).INTERNAL.registerComponent(new u.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw _n.create("registration-window");var s=i.options,o=s.projectId,c=s.apiKey,u=s.appId;if(!o)throw _n.create("registration-project-id");if(!c)throw _n.create("registration-api-key");if(!u)throw _n.create("registration-app-id");var l=new On(u,i.name,n=n||"firebase"),h=new Sn(l),d=new a.Logger("@firebase/remote-config");d.logLevel=a.LogLevel.ERROR;var p=new gn(r,Tn.SDK_VERSION,n,o,c,u),f=new wn(p,l),_=new pn(f,l,h,d),g=new bn(i,_,h,l,d);return g.ensureInitialized(),g},"PUBLIC").setMultipleInstances(!0)),Tn.registerVersion("@firebase/remote-config","0.1.43"),n("X8/r"),r.default.registerVersion("firebase","8.10.0","app"),r.default.SDK_VERSION="8.10.0",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.default.registerVersion("firebase","8.10.0")},Jgta:function(t,e,n){"use strict";var i=n("zIRd");n.d(e,"a",function(){return i.default}),i.default.registerVersion("firebase","8.10.0","app"),i.default.SDK_VERSION="8.10.0"},KDNa:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ConfigLibModule}),__webpack_require__.d(__webpack_exports__,"b",function(){return DeviceType}),__webpack_require__.d(__webpack_exports__,"c",function(){return LibAppConfigService}),__webpack_require__.d(__webpack_exports__,"d",function(){return QuizControlState}),__webpack_require__.d(__webpack_exports__,"e",function(){return SanitizeHtmlPipe}),__webpack_require__.d(__webpack_exports__,"f",function(){return UtilityLibModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ofXK"),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("tk/3"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("sYmb"),firebase__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("JZFu"),moment__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("VDUF"),moment__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__),lodash__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("LvDl"),lodash__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("XNiG"),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("Cfvw"),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("VRyK"),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("LRne"),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("xgIS"),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("NXyV"),rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("l5mm"),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("2Vo4"),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("z6cu"),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("5yfJ"),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("PqYM"),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("cp0P"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("CqXF"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("/d8p"),rxjs_operators__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("nYR2"),rxjs_operators__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("Zy1z"),rxjs_operators__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("dkDA"),rxjs_operators__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("kgNN"),rxjs_operators__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("5+tZ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("vkgz"),rxjs_operators__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("w1tV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("/uUt"),rxjs_operators__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("JX91"),rxjs_operators__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("zp1y"),rxjs_operators__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("MtjB"),rxjs_operators__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("3E0/"),rxjs_operators__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("f29J"),_angular_router__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("tyNb"),angular_google_tag_manager__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("egL7"),_angular_animations__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("R0Ic"),_ngrx_store__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("l7P3"),_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("R0sL"),_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("9jGm"),ngrx_store_localstorage__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("zzrz"),tslib__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("mrSG"),_angular_fire_analytics__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__("h+eY"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__("1kSV"),_angular_forms__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__("3Pt+"),_angular_fire_firestore__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__("I/3d");let RemoteConfigService=(()=>{class t{constructor(){}get remoteConfig(){return firebase__WEBPACK_IMPORTED_MODULE_4__.a.remoteConfig()}activeSignUp(){return this.remoteConfig.defaultConfig={activate_sign_up:JSON.stringify({signin_web_active:!0,signin_android_active:!0,signin_ios_active:!0,deactivate_msg:"currently we are expericing a heavy traffic and would start the new Registration very soon."})},this.remoteConfig.fetchAndActivate()}signInWithOTP(){return this.remoteConfig.defaultConfig={active_sign_in_with_otp:JSON.stringify({status:!0,deactivate_msg:"currently we are expericing a heavy traffic and would start the new SignIn with OTP very soon."})},this.remoteConfig.fetchAndActivate()}bookChapterPreview(){return this.remoteConfig.defaultConfig={onboarding_book_chapter_preview:JSON.stringify({preview_subjects:!1,show_subjects:!1,show_chapter:!1})},this.remoteConfig.fetchAndActivate()}profileImageSize(){return this.remoteConfig.defaultConfig={child_profile_image_size_kb:1e3},this.remoteConfig.fetchAndActivate()}advancePayment(){return this.remoteConfig.defaultConfig={advance_payment:JSON.stringify({status:!1,rulesExpire:[],rulesAdvance:[]})},this.remoteConfig.fetchAndActivate()}recommendedPlan(){return this.remoteConfig.defaultConfig={recommended_plan:JSON.stringify({studictrial:"studicannualnonref",studicmonthly:"studicannualnonref",studichalf:"studicannualnonref",studicannualnonref:"studicannualnonref18m"})},this.remoteConfig.fetchAndActivate()}confidenceRanges(){return this.remoteConfig.defaultConfig={confidence_range:JSON.stringify({low:[0,.3],medium:[.31,.6],high:[.61,100]})},this.remoteConfig.fetchAndActivate()}showBooksForPrint(){return this.remoteConfig.defaultConfig={print_test_books:JSON.stringify([""])},this.remoteConfig.fetchAndActivate()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),LibCommonUtilityService=(()=>{class t{constructor(t,e){this.translate=t,this.remoteConfigService=e,this.confidenceLabels=["low","medium","high","high"]}findAncestorElement(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}getConfidenceLabels(){return this.confidenceLabels}getConfRing(t,e,n,i){let r;return console.log(t,e,n,i,"accessedOn, completedInSchool, confidence, exclude"),n>=0&&null!==t?(console.log("enter in if when confi is greater than 0 in lib common utility"),r="icon-"+this.getConfidence(n)):e?(console.log("enter in else if when completedInschool === lib common utility"),r="icon-completed-in-school"):(console.log("enter in else when no studied === lib common utility"),r="icon-not-studied"),i&&(r+=" icon-exclude"),r}getConfidenceTooltipData(t){const e={low:this.translate.instant("browsebook.chapters.lowConf"),medium:this.translate.instant("browsebook.chapters.mediumConf"),high:this.translate.instant("browsebook.chapters.highConf"),"not-studied":this.translate.instant("browsebook.chapters.notAssessedConf"),"completed-in-school":this.translate.instant("browsebook.chapters.completedConf")},n={low:this.translate.instant("browsebook.chapters.lowConfTooltip"),medium:this.translate.instant("browsebook.chapters.mediumConfTooltip"),high:this.translate.instant("browsebook.chapters.highConfTooltip"),"not-studied":this.translate.instant("browsebook.chapters.notAssessedConfTooltip"),"completed-in-school":this.translate.instant("browsebook.chapters.completedConfTooltip")};return{header:e[t],text:n[t]}}getConfidence(t){let e;this.remoteConfigService.confidenceRanges();const n=this.remoteConfigService.remoteConfig.getValue("confidence_range").asString();console.log(n,"getconfidenceRange in lib common utlity service"),e=JSON.parse(n);for(let i in e){const[n,r]=e[i];if(t>=n&&t<=r)return i}}convertJSONtoFORMDATA(t){let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.f;return Object.keys(t).forEach(n=>e=e.append(n,t[n])),e}flattenBookNodes(t,e,n){return e&&e.length&&e.forEach(e=>{this.flattenBookNodes(t,e.node,e.id),t.push({nodeId:e.id,nodeLabel:e.label,nodeType:e.type,parentNodeId:n,duration:e.duration?Math.ceil(e.duration/60):0})}),t}flattenCurriculumNodes(t){let e=[];return t&&t.length&&t.forEach(t=>{e.push({nodeId:t.gradeId,nodeLabel:t.gradeTitle,nodeType:"grades",parentNodeId:""}),t.subjects.forEach(n=>{e.push({nodeId:n.subjectId,nodeLabel:n.subjectTitle,nodeType:"subjects",parentNodeId:t.gradeId}),n.books.forEach(t=>{e.push({nodeId:t.bookId,nodeLabel:t.title,nodeType:"book",parentNodeId:n.subjectId})})})}),console.log("flattenCurriculumNodes",e),e}shuffleQuestionList(t){if(t.length>1){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return[...t]}return t}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(RemoteConfigService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),LibTimeUtilityService=(()=>{class t{constructor(){this.date={time:t=>this.getCurrentDateTime(t)}}getCurrentDate(t){const e=new Date;return t?this.date[t](e):(console.log(e),e)}getCurrentDateTime(t){return t.getTime()}getLastDayOfWeek(t){const e=new Date(t);return new Date(e.setDate(e.getDate()-(e.getDay()-1)+5))}getFirstDayOfWeek(t){const e=new Date(t);return new Date(e.setDate(e.getDate()-6))}getWeekCount(t,e){t=new Date(t);const n=this.getLastDayOfWeek(t),i=this.getFirstDayOfWeek(n);e=new Date(e);const r=this.getLastDayOfWeek(e),s=this.getFirstDayOfWeek(r),o=this.differenceInTime(s,i);return Math.floor(o.days/7+1)}getTotalWeek(t,e){t=new Date(t);const n=new Date(t.setDate(t.getDate()-(t.getDay()-1)+5)),i=new Date(new Date(n).setDate(new Date(n).getDate()-6));e=new Date(e);const r=new Date(e.setDate(e.getDate()-(e.getDay()-1)+5)),s=new Date(new Date(r).setDate(new Date(r).getDate()-6)),o=this.differenceInTime(s,i);return Math.floor(o.days/7+1)}getStartWeekDate(t){t=new Date(t);const e=this.getLastDayOfWeek(t);return this.getFirstDayOfWeek(e)}getDateLabel(t){let e=new Date(t).toLocaleDateString("default",{weekday:"short"}),n=new Date(t).getDate(),i=new Date(t).toLocaleDateString("default",{month:"short"});return new Date(t).getFullYear(),`${e}, ${n}-${i}`}twoDateCompareStatus(t,e){return t.getTime()===e.getTime()?0:t.getTime()<e.getTime()?1:2}differenceInTime(t,e){const n=Math.abs(t.getTime()-e.getTime())/1e3;return{days:Math.floor((t.getTime()-e.getTime())/864e5),hours:Math.floor(n/3600)%24,minutes:Math.floor(n/60)%60,seconds:Math.floor(n%60)}}incrementDate(t,e){return new Date(new Date(t).setDate(t.getDate()+e))}decrementDate(t,e){return new Date(new Date(t).setDate(t.getDate()-e))}formatDate(t,e){return new _angular_common__WEBPACK_IMPORTED_MODULE_1__.d("en-US").transform(t,e)}getStartOfTheMonth(t){return new Date(t.getFullYear(),t.getMonth(),1)}getEndOfTheMonth(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}convertSecToTime(t,e){const n=Math.floor(t/60/60),i=Math.floor(t/60)-60*n,r=t%60;return{format:lodash__WEBPACK_IMPORTED_MODULE_6__([n,i,r]).compact().value().join(e||"."),totalHours:n,totalMinutes:Math.floor(t/60),minutes:i,seconds:r}}getFormattedDate(t){if(!t)return"";const e=moment__WEBPACK_IMPORTED_MODULE_5__(),n=e.clone().startOf("day"),i=e.clone().subtract(1,"days").startOf("day"),r=e.clone().subtract(1,"weeks").startOf("isoWeek"),s=e.clone().subtract(1,"months").startOf("month"),o=e.clone().subtract(1,"years").startOf("day"),a=e.clone().add(1,"days").startOf("day"),c=e.clone().add(1,"weeks").startOf("isoWeek"),u=e.clone().add(1,"months").startOf("month"),l=e.clone().add(1,"years").startOf("day");if(!t)return null;{const h=moment__WEBPACK_IMPORTED_MODULE_5__(new Date(t)),d=moment__WEBPACK_IMPORTED_MODULE_5__(h).diff(e)>0;if(h.isSame(n,"d"))return"Today";if(h.isSame(i,"d"))return"Yesterday";if(h.isSame(a,"d"))return"Tomorrow";if(h.isSame(e,"isoWeek")&&!d)return"Earlier this week";if(h.isSame(e,"isoWeek")&&d)return"Later this week";if(h.isSame(r,"isoWeek"))return"Last week";if(h.isSame(c,"isoWeek"))return"Next week";if(h.isSame(e,"month")&&!d)return"earlier this Month";if(h.isSame(e,"month")&&d)return"Later this Month";if(h.isSame(s,"month"))return"Last Month";if(h.isSame(u,"month"))return"Next Month";if(h.isSame(e,"year"))return h.format("MMM");if(h.isBetween(o,e))return"Last "+h.format("MMM");if(h.isBetween(e,l))return"Next "+h.format("MMM");if(h>=moment__WEBPACK_IMPORTED_MODULE_5__(l))return"Get a time machine";if(h<=moment__WEBPACK_IMPORTED_MODULE_5__(o))return""}}getMomentFormattedDate(t,e){return moment__WEBPACK_IMPORTED_MODULE_5__(t).format(e)}isSameDate(t,e){return t.getDate()==e.getDate()&&t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()}formatTimeInHoursAndMinutes(t){let e=Math.floor(t/60);const n=t%60;let i;if(0!==n&&30!==n){const t=Math.floor(n/30);i=1===t?0:30,e=1===t?e+1:e}else i=n;const r=e+i/60;let s=e>=1?`${e} hour`:"";s=e>1?`${s}s`:s;let o,a=s;return a=0!==i?`${a} ${i} minutes`:a,o=r%e==0?s:0!==e?`${e} 1/2 hours`:"1/2 hour",{timeString:a.trim(),timeDecimal:r,timeMinutes:60*r,timeInHours:o}}compareTwoDays(t,e){t.setHours(0,0,0,0),e.setHours(0,0,0,0);const n=t.getTime(),i=e.getTime();return n===i?0:n<i?1:2}setZeroHours(t){return new Date(t).setHours(0,0,0,0)}differenceInTwoDays(t,e){t=new Date(this.setZeroHours(t)),e=new Date(this.setZeroHours(e));const n=Math.abs(t.getTime()-e.getTime())/1e3;return{days:Math.floor((t.getTime()-e.getTime())/864e5),hours:Math.floor(n/3600)%24,minutes:Math.floor(n/60)%60,seconds:Math.floor(n%60)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();const LIB_APP_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("LIB_APP_CONFIG"),GTM_ID=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("googleTagManagerId"),GTM_ID_VALUE="GTM-NHKK69W",ENVIRONMENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("ENVIRONMENT"),APP_VERSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("APP_VERSION"),APP_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("APP_CONFIG"),SCREEN_RESOLUTION_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("SCREEN_RESOLUTION_CONFIG"),INTRO_SCREEN_DYNAMIC_COMPONENTS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("INTRO_SCREEN_DYNAMIC_COMPONENTS"),COMPONENTS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("COMPONENTS"),UTITLITY_APP_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("UTITLITY_APP_CONFIG");let LibUtilityConfigService=(()=>{class t{constructor(t){this.appConfig=t}getAppConfig(){return this.appConfig.default}getSubjectTheme(t){const e=this.getAppConfig().theme.subject;let n=e.default;return e.hasOwnProperty(t)&&(n=e[t]),n}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UTITLITY_APP_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();var global={ttlState:24},sentry=!1,theme={subject:{"sub-af6ba448-e9e1-4dd3-bc2e-772e1181b56e":"blue-theme","sub-1a92d675-3730-4df5-a2eb-0ad64a159a93":"orange-theme","sub-e71b1a16-85ea-4e12-bb4f-5cb58a98cc54":"purple-theme","sub-ae8fce9e-0bfc-4c9c-9562-9d5823788a6b":"pink-theme","sub-30160d4e-0ed9-48b6-9ab1-c733fbccfa07":"yellow-theme","sub-d4e48d9c-07ba-4e20-9884-18267769843b":"green-theme","sub-b8908fdc-a31f-4a0a-997e-033e1db1760d":"turquoise-blue-theme","sub-87bf8b45-0ef3-409e-9e62-fc3c83b1a24a":"turquoise-blue1-theme","sub-b544faca-dbb4-4777-8396-c2124e80362b":"turquoise-blue2-theme","sub-86aef7d4-54f7-46f8-95b8-3c7540e9cb7a":"turquoise-blue2-theme","sub-48ae28de-2d3a-4373-aaca-f855765a70c6":"orchid-purple-theme","sub-fa9b4e4a-d64d-47d0-bb74-2ba0c7723f9a":"orchid-purple1-theme","sub-ecea33ab-b799-4268-a83d-32e68575b4bd":"orchid-purple1-theme","sub-552d6a1b-a761-4e7a-9e98-b9d51b36a420":"orchid-purple2-theme","sub-bb9e7451-4661-4021-9317-ec89e570f699":"watermelon-pink-theme","sub-9c46340c-98c2-41c8-8df7-1c0ae6b1cee1":"watermelon-pink1-theme","sub-795e8cb9-8d13-486f-a498-65502c456a3b":"economics-theme","sub-3743422b-46d1-42eb-93b8-20e9b4e79a71":"SocialStudies-theme","sub-de52e516-6002-4140-8558-c62df87a7c8c":"biology-theme","sub-dcae372d-dc9e-490e-b14c-55f2f7bd2c3d":"physics-theme","sub-16234be5-8402-4cb4-8ada-b63422f6ea1a":"chemistry-theme",default:"default-theme",geography:"green-theme",maths:"orange-theme",science:"purple-theme",gk:"default-theme",english:"default-theme"}},subjectName={subject:{"sub-af6ba448-e9e1-4dd3-bc2e-772e1181b56e":"Geography","sub-1a92d675-3730-4df5-a2eb-0ad64a159a93":"History","sub-e71b1a16-85ea-4e12-bb4f-5cb58a98cc54":"Political Science","sub-ae8fce9e-0bfc-4c9c-9562-9d5823788a6b":"Mathematics","sub-30160d4e-0ed9-48b6-9ab1-c733fbccfa07":"Science","sub-d4e48d9c-07ba-4e20-9884-18267769843b":"Environmental Science","sub-b8908fdc-a31f-4a0a-997e-033e1db1760d":"English Literature","sub-87bf8b45-0ef3-409e-9e62-fc3c83b1a24a":"English Reader","sub-b544faca-dbb4-4777-8396-c2124e80362b":"English Grammar","sub-86aef7d4-54f7-46f8-95b8-3c7540e9cb7a":"English Language","sub-48ae28de-2d3a-4373-aaca-f855765a70c6":"Hindi Literature","sub-fa9b4e4a-d64d-47d0-bb74-2ba0c7723f9a":"Hindi Grammar","sub-ecea33ab-b799-4268-a83d-32e68575b4bd":"Hindi Language","sub-552d6a1b-a761-4e7a-9e98-b9d51b36a420":"Hindi Reader","sub-bb9e7451-4661-4021-9317-ec89e570f699":"Sanskrit Literature","sub-9c46340c-98c2-41c8-8df7-1c0ae6b1cee1":"Sanskrit Grammar","sub-795e8cb9-8d13-486f-a498-65502c456a3b":"Economics","sub-3743422b-46d1-42eb-93b8-20e9b4e79a71":"Social Studies","sub-de52e516-6002-4140-8558-c62df87a7c8c":"Biology","sub-dcae372d-dc9e-490e-b14c-55f2f7bd2c3d":"Physics","sub-16234be5-8402-4cb4-8ada-b63422f6ea1a":"Chemistry"}},revise={config:{}},practise={config:{}},intent={config:[{id:1,intentType:"mock",label:"MOCK TEST",icon:"printed",source:["assignment","browsebook"],category:"ASSIGN",module:"browseBook/subjects",description:"Test your confidence with digital evaluation",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:2,intentType:"digital",label:"DIGITAL TEST",icon:"digital",source:["assignment","browsebook"],category:"ASSIGN",module:"browseBook/subjects",description:"Test your confidence with digital evaluation",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:4,intentType:"task",label:"TASK",module:"assignment/create-task-assignment",icon:"task",source:["assignment"],category:"ASSIGN",description:"Never forget what you need to get done",actionControls:{pending:{mark_complete:!1,pri:"Mark as Completed",sec:"",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:5,intentType:"studyplan",label:"STUDI PLAN",icon:"studyplan",source:["browsebook"],category:"CREATE",description:"Create your studyplan instantly",module:"lessonPlayer",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}}]},studyPlan={config:[{id:2,intentType:"study-plan",label:"Deadline",icon:"study-plan-move",source:["study-plan-progress"],category:"Modify",description:"Give yourself more or less time to finish portion.",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:3,intentType:"study-plan",label:"Portion",icon:"study-plan-update",source:["study-plan-progress"],category:"Modify",description:"Add or remove topics from the portion",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:4,intentType:"study-plan",label:"Plan: PlanTitle",icon:"study-plan-pause",source:["study-plan-progress"],category:"Pause",description:"Stop scheduling daily STUDi tasks for a few days",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:5,intentType:"study-plan",label:"RESUME PLAN",icon:"current",source:["study-plan-progress"],category:"EDIT",description:"Resume plan now",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:6,intentType:"study-plan",label:"ACTIVATE PLAN",icon:"current",source:["study-plan-progress"],category:"",description:"Activate plan now",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:7,intentType:"study-plan",label:"STUDI PLAN",icon:"studyplan",source:["active-plan"],category:"CREATE",description:"Make your own Studi Schedule",module:"active-plan",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:8,intentType:"study-plan",label:"Reorder Chapters",icon:"study-plan-reorder",source:["manage-study-plan-subject"],category:"EDIT",description:"Arrange chapters as you like",module:"manage-study-plan-subject",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:9,intentType:"study-plan",label:"CURRENT PLAN",icon:"current",source:["manage-study-plan-paused-plan"],category:"ACTIVATE",description:"You have paused this plan",module:"manage-study-plan-paused-plan",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}}]},createSPSteps={config:[{component:"",instruction:"Let's tap on a subject to select chapters from it. Then we can come back here and pick another subject.",isMaximized:!0,label:"Step 1 Of 4",mLabel:"Select Portion",btnLabel:"Next Step",nextStep:!0,prevStep:!1,stepData:[],stepId:1},{component:"",instruction:"Let's tap on a subject to select chapters from it. Then we can come back here and pick another subject.",isMaximized:!0,label:"Step 1 Of 4",mLabel:"Select Portion",btnLabel:"Next Step",nextStep:!0,prevStep:!1,stepData:[],stepId:1},{component:"",instruction:"Spend more time to get better at tougher subjects. Instead of two revisions do three.",isMaximized:!0,label:"Step 2 Of 4",mLabel:"Pay Extra Attention",btnLabel:"Next Step",nextStep:!0,prevStep:!0,stepData:[],stepId:2},{component:"test-setting",instruction:"What date would you like us to finish the portion by?",isMaximized:!0,label:"Step 3 Of 4",mLabel:"Set Deadline",btnLabel:"Next Step",nextStep:!0,prevStep:!0,stepData:[],stepId:3},{component:"",instruction:"Does everything look good? Great. Let's activate the plan, so that we can start studying it.",isMaximized:!0,label:"Step 4 Of 4",mLabel:"Review Goal",btnLabel:"Activate Plan",nextStep:!0,prevStep:!0,stepData:[],stepId:4}]},config={global,sentry,theme,subjectName,revise,practise,intent,studyPlan,createSPSteps},appConfig=Object.freeze({__proto__:null,global,sentry,theme,subjectName,revise,practise,intent,studyPlan,createSPSteps,default:config});let SanitizeHtmlPipe=(()=>{class t{constructor(){}transform(t){return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb({name:"sanitizeHtml",type:t,pure:!1}),t})();const \u02750=appConfig;let UtilityLibModule=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({providers:[LibCommonUtilityService,LibTimeUtilityService,LibUtilityConfigService,{provide:UTITLITY_APP_CONFIG,useValue:\u02750}],imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.a]]}),t})(),BrowserCapabilitiesService=(()=>{class t{constructor(){}browserPreRequisite(){return this.checkOtherCapabilities().then(t=>{const e={canvas:Modernizr.canvas,cookies:Modernizr.cookies,history:Modernizr.history,json:Modernizr.json,lowbandwidth:Modernizr.lowbandwidth,svg:Modernizr.svg,unicode:Modernizr.unicode,unicoderange:Modernizr.unicoderange,webworkers:Modernizr.webworkers},n=Object.assign(Object.assign({},Object.assign({},...t)),e);console.log("BrowserCapabilitiesService -> browserPreRequisite -> result",n)})}checkOtherCapabilities(){return Promise.all([this.checkIndexedDb(),this.checkAudio(),this.checkVideo()])}checkIndexedDb(){return new Promise(t=>{Modernizr.on("indexeddb",function(e){t({indexeddb:e.valueOf()})})})}checkAudio(){return new Promise(t=>{Modernizr.on("audio",function(e){t({audio:e.valueOf()})})})}checkVideo(){return new Promise(t=>{Modernizr.on("video",function(e){t({video:e.valueOf()})})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),SharedModuleEventHandlerService=(()=>{class t{constructor(){this.listeners={},this.eventsSubject=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a,this.events=Object(rxjs__WEBPACK_IMPORTED_MODULE_8__.a)(this.eventsSubject),this.events.subscribe(({name:t,args:e})=>{if(this.listeners[t])for(const n of this.listeners[t])n(...e)})}on(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}off(t){this.listeners[t]=null}destroyLisners(t){this.listeners[t]&&delete this.listeners[t]}broadcast(t,...e){this.eventsSubject.next({name:t,args:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),SharedModuleEventHandlerModule=(()=>{class t{static forRoot(){return{ngModule:t,providers:[SharedModuleEventHandlerService]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({}),t})();var sharedModuleEventHandlerType=function(t){return t.NEXT_LESSON="NEXT_LESSON",t.CONTROL_NAVIGATION="CONTROL_NAVIGATION",t.LESSON_OBJECTIVE_TOGGLE="LESSON_OBJECTIVE_TOGGLE",t.LESSON_OVERVIEW_TOGGLE="LESSON_OVERVIEW_TOGGLE",t.CONTINUE_FLOW="CONTINUE_FLOW",t.PAUSE_VIDEO="PAUSE_VIDEO",t.PLAY_VIDEO="PLAY_VIDEO",t.CUE_POINT_LOADER="CUE_POINT_LOADER",t.INTENT_NEXT="INTENT_NEXT",t.ASSIGN_INTENT="ASSIGN_INTENT",t.SUBJECT_SELECT="SUBJECT_SELECT",t.REVIEW_ATTEMPTED="REVIEW_ATTEMPTED",t.PREVIOUS="PREVIOUS",t.BACK_CONFIRM_ALERT="BACK_CONFIRM_ALERT",t.VIDEO_PLAYER_BANDWIDTH="VIDEO_PLAYER_BANDWIDTH",t}({});let NetworkConnectionStatusService=(()=>{class t{constructor(t){this.sharedModuleEventHandlerService=t,this.LATENCY_THRESHOLD=6e3,this.fastnetCallInProgress=!1,this.httpcallsDict={},this.checkAfterTime=1e3,this.lowInternetCounter=0,this.status=Object(rxjs__WEBPACK_IMPORTED_MODULE_9__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(navigator.onLine),Object(rxjs__WEBPACK_IMPORTED_MODULE_11__.a)(window,"online").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(!0)),Object(rxjs__WEBPACK_IMPORTED_MODULE_11__.a)(window,"offline").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(!1))),console.log(this.status),this.isInternetFast=this.initIsInternetFast(),this.videoBufferHandler()}initIsInternetFast(){return console.log("initIsInternetFast",this.httpcallsDict),Object(rxjs__WEBPACK_IMPORTED_MODULE_12__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_13__.a)(this.checkAfterTime)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.a)()).subscribe(()=>{this.checkDelayedCalls()}),new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(!0)}videoBufferHandler(){setTimeout(()=>{this.lowInternetCounter=0},6e3),this.sharedModuleEventHandlerService.on(sharedModuleEventHandlerType.VIDEO_PLAYER_BANDWIDTH,t=>{this.checkVideoPlayerSpeed(t.bandwidth,t.bandwidthSegments)})}addHttpCall(t){this.httpcallsDict[t.url+t.method]=Date.now()}removeHttpCall(t){delete this.httpcallsDict[t.url+t.method]}checkDelayedCalls(){if(this.httpcallsDict){const t=Date.now();let e=0;Object.keys(this.httpcallsDict).forEach(n=>{t-this.httpcallsDict[n]>this.LATENCY_THRESHOLD?this.checkInternetSpeed():e++}),Object.keys(this.httpcallsDict).length<=e&&this.isInternetFast.next(!0)}}testObserver(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)("").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.a)(()=>{console.log("this is testObserver finalize")}))}printSubscribe(){this.status.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.a)(()=>{console.log("this is status finalize")})).subscribe(t=>{console.log("this is status",t)}),this.isInternetFast.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.a)(()=>{console.log("this is isInternetFast finalize")})).subscribe(t=>{console.log("this is isInternetFast",t)})}checkVideoPlayerSpeed(t,e){t<e[360]?this.lowInternetCounter+=1:this.lowInternetCounter=0,this.isInternetFast.next(!(this.lowInternetCounter>=3))}checkInternetSpeed(){this.status&&!this.fastnetCallInProgress&&(this.fastnetCallInProgress=!0,isFastNet(t=>{this.fastnetCallInProgress=!1,console.log("Received latency data: "+JSON.stringify(t)),this.isInternetFast.next(t.isFast),this.checkAfterTime=t.isFast?3e3:7e3},{timesToTest:2,threshold:this.LATENCY_THRESHOLD,image:"https://www.google.com/images/phd/px.gif",allowEarlyExit:!0,verbose:!0}))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(SharedModuleEventHandlerService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(SharedModuleEventHandlerService))},token:t,providedIn:"root"}),t})();var DeviceType=function(t){return t.android="android",t.ios="ios",t.flutter="flutter",t}({}),QuizAttemptState=function(t){return t.correct="correct",t.incorrect="incorrect",t}({}),QuizControlState=function(t){return t.onQLoad="onQLoad",t.onAttempt="onAttempt",t.onQRetry="Wrong Answer",t.onFinal="fb_final",t.nextSubQ="nextSubQ",t}({}),RouteEnums=function(t){return t.HOME="/menu",t.STUDY_PLAN="/study-plan/my-lesson",t.STUDY_PLAN_SCHEDULED_LESSONS="/study-plan/schedule",t.STUDY_PLAN_MANAGE_MY_PLANS="/study-plan/my-plans",t.STUDY_PLAN_MANAGE_PROGRESS="/study-plan/progress",t.STUDY_PLAN_MANAGE_PORTION_BOOK="/study-plan/portion-book",t.STUDY_PLAN_CREATE_LANDING="/study-plan/create/(comp:init/1/0)",t.STUDY_PLAN_CREATE_SELECT_PORTION="/study-plan/create/(comp:1)",t.STUDY_PLAN_CREATE_EXTRA_ATTENTION="/study-plan/create/(comp:2)",t.STUDY_PLAN_CREATE_SELECT_DATE="/study-plan/create/(comp:3)",t.STUDY_PLAN_CREATE_ACTIVATE_PLAN="/study-plan/create/(comp:5)",t.STUDY_PLAN_DEADLINE_MISSED="/study-plan/deadline-missed",t.STUDY_PLAN_PAUSED_PLAN="/study-plan/paused-plan",t.BROWSEBOOKS_LANDING="/browseBook/subjects",t.BROWSEBOOKS="/browseBook/subjects/(comp:d)",t.BROWSEBOOKS_BOOK_OPEN="/browseBook/chapters/(comp:d)",t.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK="/browseBook/subjects/browsebook/1/(comp:creation/0)",t.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS="/browseBook/chapters/browsebook/1/(comp:creation/1)",t.BROWSEBOOKS_ORAL_TEST_FILL_DETAILS="/browseBook/chapters/browsebook/1/(comp:setting/2)",t.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK="/browseBook/subjects/browsebook/2/(comp:creation/0)",t.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS="/browseBook/chapters/browsebook/2/(comp:creation/1)",t.BROWSEBOOKS_DIGITAL_TEST_FILL_DETAILS="/browseBook/chapters/browsebook/2/(comp:setting/2)",t.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK="/browseBook/subjects/browsebook/2/(comp:creation/0)",t.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS="/browseBook/chapters/browsebook/2/(comp:creation/1)",t.BROWSEBOOKS_MOCK_TEST_FILL_DETAILS="/browseBook/chapters/browsebook/2/(comp:setting/2)",t.ASSIGNMENTS_LANDING="/assignment/list",t.ASSIGNMENTS="/assignment/list/(comp:d)",t.ASSIGNMENTS_COMPLETED_TASKS="/assignment/task-completed/(comp:d)",t.ASSIGNMENTS_PREVIEW="/assignment/preview",t.ASSIGNMENTS_CREATE_TASK="/assignment/create-task-assignment/assignment/4",t.ASSIGNMENTS_ORAL_TEST_SELECT_BOOK="/browseBook/subjects/assignment/1/(comp:creation/0)",t.ASSIGNMENTS_ORAL_TEST_SELECT_TOPICS="/browseBook/chapters/assignment/1/(comp:creation/1)",t.ASSIGNMENTS_ORAL_TEST_FILL_DETAILS="/browseBook/chapters/assignment/1/(comp:setting/2)",t.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK="/browseBook/subjects/assignment/2/(comp:creation/0)",t.ASSIGNMENTS_DIGITAL_TEST_SELECT_TOPICS="/browseBook/chapters/assignment/2/(comp:creation/1)",t.ASSIGNMENTS_DIGITAL_TEST_FILL_DETAILS="/browseBook/chapters/assignment/2/(comp:setting/2)",t.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK="/browseBook/subjects/assignment/2/(comp:creation/0)",t.ASSIGNMENTS_MOCK_TEST_SELECT_TOPICS="/browseBook/chapters/assignment/2/(comp:creation/1)",t.ASSIGNMENTS_MOCK_TEST_FILL_DETAILS="/browseBook/chapters/assignment/2/(comp:setting/2)",t.ASSIGNMENTS_TASK="/assignment/create-task-assignment/assignment/4",t.LESSON_PLAYER_PRACTICE_BROWSEBOOK="/lesson/player?player=practice&module=browseBook",t.LESSON_PLAYER_REVISE_BROWSEBOOK="/lesson/player?player=revise&module=browseBook",t.LESSON_PLAYER_BIG_IDEA_BROWSEBOOK="/lesson/player?player=bigidea&module=browseBook",t.LESSON_PLAYER_SPACED_PRACTICE_1_BROWSEBOOK="/lesson/player?player=spacedpractice1&module=browseBook",t.LESSON_PLAYER_SPACED_PRACTICE_2_BROWSEBOOK="/lesson/player?player=spacedpractice2&module=browseBook",t.LESSON_PLAYER_DIGITAL_TEST_ASSIGNMENTS="/lesson/player?player=test&module=assignment",t.LESSON_PLAYER_DIGITAL_TEST_STUDY_PLAN="/lesson/player?player=test&module=studyPlan",t.LESSON_PLAYER_MOCK_TEST_ASSIGNMENTS="/lesson/player?player=test&module=assignment",t.LESSON_PLAYER_MOCK_TEST_STUDY_PLAN="/lesson/player?player=test&module=studyPlan",t.LESSON_PLAYER_ORAL_TEST_ASSIGNMENTS="/lesson/player?player=oral&module=assignment",t.LESSON_PLAYER_ORAL_TEST_STUDY_PLAN="/lesson/player?player=oral&module=studyPlan",t.LESSON_PLAYER_BIG_IDEA_STUDY_PLAN="/lesson/player?player=bigidea&module=studyPlan",t.LESSON_PLAYER_REVISE_STUDY_PLAN="/lesson/player?player=revise&module=studyPlan",t.LESSON_PLAYER_PRACTICE_STUDY_PLAN="/lesson/player?player=practice&module=studyPlan",t.LESSON_PLAYER_SPACED_PRACTICE_1_STUDY_PLAN="/lesson/player?player=spacedpractice1&module=studyPlan",t.LESSON_PLAYER_SPACED_PRACTICE_2_STUDY_PLAN="/lesson/player?player=spacedpractice2&module=studyPlan",t.LESSON_PLAYER_SUMMARY_STUDY_PLAN="/lesson/player?player=summary&module=studyPlan",t.AUTH_SIGN_IN_USERNAME_PARENT="/authentication/sign-in/(step:enter-username)",t.AUTH_SIGN_IN_PASSWORD_PARENT="/authentication/sign-in/(step:enter-password)",t.AUTH_SIGN_IN_USERNAME_CHILD="/authentication/sign-in/(step:enter-username/child)",t.AUTH_SIGN_IN_PASSWORD_CHILD="/authentication/sign-in/(step:enter-password/child)",t.AUTH_TERMS_AND_CONDITIONS="/authentication/terms-and-conditions",t.AUTH_REGISTRATION="/authentication/register",t.AUTH_REGISTRATION_CHILD_DETAILS="/authentication/register/child-details",t.AUTH_REGISTRATION_CONTACT_DETAILS="/authentication/register/contact-details",t.AUTH_REGISTRATION_OTP_VALIDATION="/authentication/register/otp-validation",t.AUTH_CREATE_PASSWORD="/parent/create-password",t.SUBSCRIPTION_DASHBOARD="/parent/dashboard",t.SUBSCRIPTION_REGISTER_CHILD="/parent/register-child",t.SUBSCRIPTION_PLANS="/parent/plans",t.SUBSCRIPTION_ORDER_SUMMARY="/parent/order-summary",t.SUBSCRIPTION_ACKNOWLEDGEMENT="/parent/acknowledgement",t.SUBSCRIPTION_REDIRECT_PAYMENT="/parent/redirect-payment",t}({}),ApiStatusEnum=function(t){return t[t.SUCCESS=200]="SUCCESS",t[t.BAD_REQUEST=400]="BAD_REQUEST",t}({}),ApiUrlsEnum=function(t){return t.SIGN_IN="auth-api/0/api/1/sso/token",t}({}),LessonTypesEnum=function(t){return t.BIG_IDEA="bigIdea",t.PRACTICE="practice",t.REVISE="revise",t.SPACED_PRACTICE_1="spacedPractice1",t.SPACED_PRACTICE_2="spacedPractice2",t.DIGITAL_TEST="digital_test",t.ORAL_TEST="oral_test",t.MOCK_TEST="mock_test",t.SUMMARY="summary",t}({}),LessonPlayerIntroScreenActionsEnum=function(t){return t.START="start",t.EXIT="exit",t.NEXT="next",t}({}),LessonPlayerStateEnum=function(t){return t.OPEN="open",t.SESSION_START="session_start",t.SESSION_END="session_end",t.CLOSE="close",t}({}),QuestionPlayerStateEnum=function(t){return t.ATTEMPT="attempt",t.SKIP="skipped",t.RETRY="retry",t.QUIZ_END="quiz_end",t.ABANDONED="abandoned",t.REVIEW_ATTEMPT="review_attempt",t}({}),AssetPlayerStateEnum=function(t){return t.PLAY="play",t.PAUSE="pause",t.RESUME="resume",t.END="end",t.PULSE="pulse",t.REPLAY="replay",t}({}),ContentTypesEnum=function(t){return t.QUIZ="quiz",t.ASSET="asset",t.SUMMARY="summary",t.CARD="card",t}({}),LessonPlayerPageNamesEnum=function(t){return t.REVIEW="review",t.QUIZ="quiz",t.SUMMARY="summary",t.CARD="card",t.VIDEO="video",t}({}),RingTypes=function(t){return t.GOALS_RING="goals",t.LESSONS_RING="lessons",t.DURATION_RING="duration",t.TICK="tick",t}({}),RingUnits=function(t){return t.GOALS_RING="stars",t.LESSONS_RING="tasks",t.DURATION_RING="mins",t}({}),RingJsonPaths=function(t){return t.GOALS_RING="assets/lottie_jsons/inner.json",t.LESSONS_RING="assets/lottie_jsons/middle.json",t.DURATION_RING="assets/lottie_jsons/outer.json",t.TRACK="assets/lottie_jsons/tracks.json",t.TICK="assets/lottie_jsons/tick.json",t}({}),ApiRequestEnum=function(t){return t.RESOURCE="res",t.API="api",t}({}),AuthTypeEnum=function(t){return t[t.NO_AUTH=0]="NO_AUTH",t[t.AUTH=1]="AUTH",t}({}),QuestionTypeEnum=function(t){return t.SUBJECTIVE="SUBJECTIVE",t}({});let ApiUrlService=(()=>{class t{constructor(){this.apiVersion=1}uploadAttachmentData(t,e){return`/activity/1/res/v1/notes/${t}/attachment/${e}`}fetchImageData(t,e){return`/activity/1/res/v1/notes/${t}/attachment/${e}`}fetchAttachmentData(t,e){return`/activity/1/api/v1/notes/${t}/attachment/${e}`}deleteAttachmentById(t,e){return`/activity/1/api/v1/notes/${e}/attachment/${t}`}fetchDraftNoteId(){return"/activity/1/api/v1/notes"}getLoginUrl(){return"/auth-api/0/api/1/sso/token"}getLogoutUrl(t){return`/auth-api/1/api/1/sso/revoke/${t}`}getClientIdUrl(){return"/auth-api/0/api/1/sso/clientid"}postsetStatus(t){return`/activity/1/api/v1/assignment/${t}`}setSeenStatus(){return"/activity/1/api/v1/assignment/bulk"}getCreateTaskUrl(){return"/activity/1/api/v1/assignment"}getActivePlan(){return"/dummy-api/activeplan"}getScheduleLessonListUrl(){return"/tutor/1/api/v1/study/lesson/dates"}getConfig(t){return`assets/static_json/assignment/config/${t}.json`}getTaskByPage(t,e,n){return"today"===t&&(t="todo"),`/activity/1/api/v1/assignment?type=${t}&pageNo=${e}&limit=${n}`}getCompletedTaskByPage(t,e,n,i,r){return`/activity/1/api/v1/assignment?type=${t}&pageNo=${e}&limit=${n}&from=${i}&to=${r}`}uploadFile(){return"/activity/1/api/v1/assignment/attachment"}fetchTaskAttachment(){return"/activity/1/api/v1/assignment/attachment"}getTaskId(){return"/activity/1/api/v1/assignment"}deleteTaskData(t){return`/activity/1/api/v1/assignment/${t}`}deleteTaskAttachment(t,e){return`/activity/1/api/v1/assignment/${t}/attachment/${e}`}uploadTaskFile(t,e){return`/activity/1/res/v1/assignments/${t}/${e}`}getTaskById(t){return`/activity/1/api/v1/assignment/${t}`}getAllReportNames(){return"/report/1/res/v1/weekly/0/lookup.json"}getReportData(t){return`/report/1/res/v1/weekly/0/${t}`}getLast7DaysChartData(t){return`/report/1/res/v1/library/daily/${t}`}editNoteUrl(t){return`/activity/1/api/v1/notes/${t}`}deleteNoteUrl(t){return`/activity/1/api/v1/notes/${t}`}addNoteUrl(){return"/activity/1/api/v1/notes"}addNoteUrlWithId(t){return`/activity/1/api/v1/notes/${t}`}getBrowseBookNodeUrl(){return console.log("getBrowseBookNodeUrl api url service"),"/activity/1/api/v1/library/books"}getNotes(t){return`/activity/1/api/v1/notes/context?tpId=${t}&notes=true`}getBrowseBookResourceUrl(t){return`/content/1/res/v1/library/${t}`}getBrowseBookProgressUrl(t){return`/activity/1/res/v1/library/${t}/summary.json`}getBrowseBookUserActivityUrl(t){return`/activity/1/res/v1/library/${t}/book.json`}getBrowseBookPutHighlightUrl(t){return`/activity/1/api/v1/library/${t}/highlights`}getBrowseBookPutNodeActivitiesUrl(t,e){return"excluded"==e&&(e="exclude"),`/activity/1/api/v1/library/${t}/${e}`}getBrowseBookConfigUrl(t){return`assets/static_json/browse-book/config/${t}.json`}getLessonRevisePlayerUrl(t,e){return`/content/${AuthTypeEnum.AUTH}/${e}/v${this.apiVersion}/library/${t}/revise/concepts`}getBigIdeaPlayerUrl(t,e){return`/content/${AuthTypeEnum.AUTH}/${e}/v${this.apiVersion}/library/${t}/bigIdea/concepts`}logQuestionDataUrl(t){return`/ledger/1/api/v1/library/${t}/events`}getVideoPathUrl(t){return`/content/${AuthTypeEnum.AUTH}/api/v${this.apiVersion}/library/assets/${t}`}getLessonRevisePlayerResourceUrl(t,e,n,i,r){const s=["video","summary","quiz","studinote"].includes(n)?ApiRequestEnum.RESOURCE:ApiRequestEnum.API;let o;return console.log("playerType",r,n,s),o=r&&"practice"===r?`/content/${AuthTypeEnum.AUTH}/${s}/v${this.apiVersion}/library/${t}/practice/concept/${e}`:r&&"test"===r||r&&"oral_test"===r?`/content/${AuthTypeEnum.AUTH}/${s}/v${this.apiVersion}/library/${t}/test/concept/${e}`:r&&"studinotes"===r?`/content/${AuthTypeEnum.AUTH}/${s}/v${this.apiVersion}/library/${t}/studinotes/concept/${e}`:r&&"studinote"===r?`/content/${AuthTypeEnum.AUTH}/${s}/v${this.apiVersion}/bookshelf`:`/content/${AuthTypeEnum.AUTH}/${s}/v${this.apiVersion}/library/${t}/revise/concept/${e}`,{video:`${o}/assets/${i}`,quiz:`${o}/question/${i}`,summary:`${o}/notes/${i}`,studinote:`${o}/notes/${i}`}[n]}getLessonRevisePlayerResourceLocalUrl(t,e,n,i,r){const s=["video","summary","quiz"].includes(n)?ApiRequestEnum.RESOURCE:ApiRequestEnum.API;let o;return console.log("playerType",r,n,s),o=r&&"practice"===r||r&&"test"===r?`/dummy-api/student/content/${AuthTypeEnum.AUTH}/${s}/v${this.apiVersion}/library/${t}/practice/concept/${e}`:`/content/${AuthTypeEnum.AUTH}/${s}/v${this.apiVersion}/library/${t}/bigIdea/concept/${e}/remedial/asset-cc71547d-1a7d-4efc-9023-296673d56892`,{video:`${o}/assets/${i}`,quiz:`${o}/question/${i}`,summary:`${o}/notes/${i}`}[n]}getPractiseConfigUrl(t,e){return`/activity/${AuthTypeEnum.AUTH}/${e}/v${this.apiVersion}/library/${t}/practice`}getPractiseState(){return`/content/${AuthTypeEnum.AUTH}/api/v${this.apiVersion}/confidence`}getTestConfigUr(t,e){return`/activity/${AuthTypeEnum.AUTH}/${e}/v${this.apiVersion}/library/${t}/test`}getAssignmentUrl(){return"/dummy-api/assignment"}getTestQuestions(t,e){return`/content/${AuthTypeEnum.AUTH}/${e}/v${this.apiVersion}/library/${t}/practice/blueprint/1`}getTestDummyQuestions(t,e){return`/dummy-api/student/content/${AuthTypeEnum.AUTH}/${e}/v${this.apiVersion}/library/${t}/practice/blueprint/1`}getTestDumState(){return`/dummy-api/student/content/${AuthTypeEnum.AUTH}/api/v${this.apiVersion}/confidence`}getTestState(){return`/content/${AuthTypeEnum.AUTH}/api/v${this.apiVersion}/confidence`}getRuleForPlayer(t){return`assets/static_json/lesson-player/rules/${t}.json`}getCardData(t,e){return`/activity/1/api/v1/bookshelf/${t}/studinotes/${e}`}getHighlighterUrl(t,e){return`/activity/1/api/v1/bookshelf/${t}/studinotes/card/${e}`}worlSheetPdfUrl(t,e,n){return`/content/${AuthTypeEnum.AUTH}/res/v${this.apiVersion}/library/${t}/resource/concept/${e}/${n}`}setHighlighterUrl(t,e){return`/activity/1/api/v1/bookshelf/${t}/studinotes/card/${e}/highlights`}setHiddenUrl(t,e){return`/activity/1/api/v1/bookshelf/${t}/studinotes/card/${e}/hidden`}setCommentUrl(t,e){return`/activity/1/api/v1/bookshelf/${t}/studinotes/card/${e}/comments`}setStickerUrl(t,e){return`/activity/1/api/v1/bookshelf/${t}/studinotes/card/${e}/sticker`}getLocalVideo(t){return`/dummy-api/${t}`}getVideo(t){return t}getIntentStepConfigUrl(){return"assets/static_json/intent/config/step.json"}createAssignment(){return"/activity/1/api/v1/assignment"}createQuizUrl(t){return`/activity/1/api/v1/library/${t}/practice`}LogDataUrl(t,e){return`/ledger/1/api/v1/${e}/${t}/events`}practiseSummaryUrl(t){return`/activity/1/api/v1/library/${t}/practice`}practiseSummary_url(t){return`/activity/1/api/v1/library/${t}/practice/summary`}testSummaryUrl(t){return`/activity/1/api/v1/library/${t}/test`}testSummary_url(t){return`/activity/1/api/v1/library/${t}/test/summary`}getLessonPayerModuleDataUrl(t){return`/activity/1/api/v1/${t.moduleName}/${t.moduleId}/${t.lessonType}/${t.lessonId}`}startLessonPlayerModuleSessionUrl(t,e){return`/ledger/1/api/v1/${e}/${t}/event`}errorLockingUrl(t,e){return`/ledger/1/api/v1/${e}/${t}/events`}getMyLessonUrl(t){return`/tutor/1/api/v1/study/plan/${t}/dashBoard`}getMyLessonConfigUrl(t){return`assets/static_json/my-lesson/config/${t}.json`}getActiveStudyPlanUrl(t,e,n,i){return i?`/tutor/1/api/v1/study/plans?start=${t}&length=${e}&sortDir=desc&filterTerms=source:${i}&filterTerms=status:${n}`:`/tutor/1/api/v1/study/plans?start=${t}&length=${e}&sortDir=desc&filterTerms=status:${n}`}getStudyPlanLessonAcknowledgeUrl(t){return`/tutor/1/api/v1/study/plan/${t.planId}/lesson/${t.lessonId}/end`}getPausePlanUrl(t){return`/tutor/1/api/v1/study/plan/${t}/pause`}getResumePlanUrl(t){return`/tutor/1/api/v1/study/plan/${t}/resume`}getBookPortionUrl(t,e){return`/tutor/1/api/v1/study/plan/${t}/portion?bookId=${e}`}getBookNodeActivity(t){return`/activity/1/res/v1/library/${t}/book.json`}getDiscardPortionApiUrl(t){return`/tutor/1/api/v1/study/plan/${t}/discard/portion`}getCompletedTopicsUrl(t,e){return`/tutor/1/api/v1/study/plan/${t}/book/${e}/completedTopics`}getAnalyticsConfig(){return"assets/static_json/analytics.config.json"}printPdfUrl(t,e){return`/activity/1/res/api/v1/print/${t}/${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),CoreService=(()=>{class t{constructor(t,e,n,i,r){this.appConfig=t,this.appVersion=e,this._router=n,this.http=i,this.apiUrlService=r,this.reportSeenState=!1,this.headerState=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a("header-expand"),this.subjectTheme=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a("default-theme"),this.nextLesson=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(null),this.$schoolInfo=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(null),this.dashboardAPIError=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(null),this._onBoardingRegistrationType="user"}get env(){const t=window.location.hostname,e={localhost:"predev","predev.devstudi.com":"predev","qa-learn.devstudi.com":"qa","learn.tatastudi.com":"prod"};return e[t]?e[t]:e["predev.devstudi.com"]}getAppConfig(){return this.appConfig.default}getAppVersion(){return this.appVersion}setSubjectTheme(t){console.log("\ud83d\ude80 ~ file: core.service.ts ~ line 76 ~ CoreService ~ setSubjectTheme ~ subjectId",t);const e=this.getAppConfig().theme.subject;console.log("\ud83d\ude80 ~ file: core.service.ts ~ line 78 ~ CoreService ~ setSubjectTheme ~ subjectThemeList",e);let n=e.default;e.hasOwnProperty(t)&&(n=e[t]),this.subjectTheme.next(n)}getHeaderState(){return this.headerState.asObservable()}setHeaderState(t){this.headerState.next(t)}getSchoolInfo(){return this.$schoolInfo.asObservable()}setReportSeenState(t){this.reportSeenState=t}getReportSeenState(){return this.reportSeenState}setSchoolInfo(t){var e,n,i,r,s;let o;if(console.log("setting info5",t),null===(e=null==t?void 0:t.userSettings)||void 0===e?void 0:e.info5){o=t.userSettings.info5;const e={grade:(null===(n=null==o?void 0:o.grade)||void 0===n?void 0:n.name)?null===(i=null==o?void 0:o.grade)||void 0===i?void 0:i.name:"",board:(null===(r=null==o?void 0:o.board)||void 0===r?void 0:r.name)?null===(s=null==o?void 0:o.board)||void 0===s?void 0:s.name:""};this.$schoolInfo.next(e)}}nextLessonAsbroadcaster(t){this.nextLesson.next(t)}nextLessonAsSubscriber(){return this.nextLesson.asObservable()}isStudyPlanCreated(){return"yes"==localStorage.getItem("isPlanCreated")&&(localStorage.setItem("isPlanCreated",""),this._router.navigate(["/study-plan/my-lesson"]),!0)}isOralTestCreated(){"yes"==localStorage.getItem("isOralTest")&&(console.log("Core Service Yes"),localStorage.setItem("isOralTest",""),this._router.navigate(["/assignment/preview"]))}getSubjectTheme(){return this.subjectTheme.asObservable()}getPlans(t,e,n,i){return this.http.get(this.apiUrlService.getActiveStudyPlanUrl(t,e,n,i)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getDashboardAPI(t,e){return this.http.put(this.apiUrlService.getMyLessonUrl(t),e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}setLessonFromActionCard(t){this.lesson=t}getLessonFromActionCard(){return this.lesson}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(APP_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(APP_VERSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_router__WEBPACK_IMPORTED_MODULE_41__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(APP_CONFIG),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(APP_VERSION),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_router__WEBPACK_IMPORTED_MODULE_41__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(ApiUrlService))},token:t,providedIn:"root"}),t})();const depthAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("routeAnimation",[]),depthAnimationComp=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("compAnimation",[]),opacityAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("opacityAnimation",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.e)("* => *",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter, :leave",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({position:"absolute",top:0,left:0,right:0}),{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.b)([Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":leave",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0}))],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1}))],{optional:!0})])])]),quizAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("quizAnimation",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.e)("* => *",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({height:"!",width:"!"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter, :leave",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({position:"absolute",transform:"translate(0, 0)",height:"70vh"}),{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.b)([Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":leave",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.3}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease-out",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0,transform:"translate(50vw, 0)"}))],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5,transform:"translate(-50vw, 0)"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease-in",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1,transform:"translate(0, 0)"}))],{optional:!0})])])]),rightLeftAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("rightLeftAnimation",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.e)("* => *",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({height:"!"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter, :leave",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({position:"absolute","padding-top":isMobile()?"40px":"65px",top:0,left:0,right:0,bottom:0}),{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.b)([Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":leave",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5,transform:"translate(0, 0)"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0,transform:"translate(-50vw, 0)"}))],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5,transform:"translate(50vw, 0)"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1,transform:"translate(0, 0)"}))],{optional:!0})])])]);function isMobile(){let t=!1;return navigator.maxTouchPoints>0&&(t=!0),t}const signInMessagesConstant={requiredUsername:"Username cannot be empty!",validateUsername:"Invalid number, Input should be 10 digits long",requiredMobileUsername:"Mobile number cannot be empty!",requiredPassword:"Password cannot be empty!",requiredGRecaptcha:"Please verify google recaptcha!",invalidPassword:"Invalid password! Please recheck and try again.",requiredOtp:"Otp cannot be empty!",defaultError:"something went wrong please try again later!"},quizURL={mcq:"assets/quizEngine/mcq.json","mcq-freeFlow":"assets/quizEngine/q2.json",scq:"assets/quizEngine/scq.json","scq-freeFlow":"assets/quizEngine/q2.json",sorting:"assets/quizEngine/sorting.json",composite:"assets/quizEngine/composite.json",compositeStep:"assets/quizEngine/composite-step.json",match:"assets/quizEngine/matching.json",subjective:"assets/quizEngine/subjective.json",fib:"assets/quizEngine/fib.json",fibdnd:"assets/quizEngine/fibdnd.json"},quizStyleURL={mcq:"assets/quizEngine/mcq-style.json","mcq-freeFlow":"assets/quizEngine/mcq-freeFlow.json",scq:"assets/quizEngine/scq-style.json","scq-freeFlow":"assets/quizEngine/scq-freeFlow.json",sorting:"assets/quizEngine/sorting-style.json","sorting-freeFlow":"assets/quizEngine/sorting-freeFlow.json",composite:"assets/quizEngine/composite-style.json",compositeStep:"assets/quizEngine/composite-style.json","composite-freeFlow":"assets/quizEngine/composite-freeFlow.json",match:"assets/quizEngine/match-style.json","match-freeFlow":"assets/quizEngine/match-freeFlow.json",subjective:"assets/quizEngine/subjective-style.json","subjective-freeFlow":"assets/quizEngine/subjective-freeFlow.json",fib:"assets/quizEngine/fib-style.json"};var GtmEventsEnum=function(t){return t.TRG_PAGE_VIEW="trg_page_view",t.TRG_MODULE_OPEN="trg_module_open",t.TRG_MODULE_CLOSED="trg_module_closed",t.TRG_SP_CLICK="trg_sp_click",t.TRG_BOOK_OPEN="trg_book_open",t.TRG_BOOK_CLOSED="trg_book_closed",t.TRG_FILTER_APPLIED="trg_filter_applied",t.TRG_ASSET_PULSE="trg_asset_pulse",t.TRG_ASSET_PROGRESS_PERCENT="trg_asset_progress_percent",t.TRG_SP_OPEN="trg_sp_open",t.TRG_SP_REVIEW_PLAN_OPEN="trg_sp_review_plan_open",t.TRG_SP_DAILY_TIME_UPDATE_CLICK="trg_sp_daily_time_update_click",t.TRG_SP_PORTION_UPDATE_CLICK="trg_sp_portion_update_click",t.TRG_SP_SUBJECT_PORTION_OPEN="trg_sp_subject_portion_open",t.TRG_SP_FULL_SCHEDULE_OPEN="trg_sp_full_schedule_open",t.TRG_SP_MANAGE_CREATE_OPEN="trg_sp_manage_create_open",t.TRG_SP_PAUSE="trg_sp_pause",t.TRG_SP_TASK_MARK_COMPLETED="trg_sp_task_mark_completed",t.TRG_SP_CREATED="trg_sp_created",t.TRG_SP_DAILY_TIME_UPDATED="trg_sp_daily_time_updated",t.TRG_SP_PORTION_UPDATED="trg_sp_portion_updated",t.TRG_BIGIDEA_OPEN="trg_bigIdea_open",t.TRG_BIGIDEA_SESSION_STARTED="trg_bigIdea_session_started",t.TRG_BIGIDEA_SESSION_ABANDONED="trg_bigIdea_session_abandoned",t.TRG_BIGIDEA_SESSION_ENDED="trg_bigIdea_session_ended",t.TRG_BIGIDEA_CLOSE="trg_bigIdea_close",t.TRG_BIGIDEA_ASSET_PLAYED="trg_bigIdea_asset_played",t.TRG_BIGIDEA_ASSET_PAUSED="trg_bigIdea_asset_paused",t.TRG_BIGIDEA_ASSET_RESUME="trg_bigIdea_asset_resume",t.TRG_BIGIDEA_ASSET_END="trg_bigIdea_asset_end",t.TRG_BIGIDEA_ASSET_REPLAY="trg_bigIdea_asset_replay",t.TRG_REVISE_OPEN="trg_revise_open",t.TRG_REVISE_SESSION_STARTED="trg_revise_session_started",t.TRG_REVISE_SESSION_ABANDONED="trg_revise_session_abandonded",t.TRG_REVISE_SESSION_ENDED="trg_revise_session_ended",t.TRG_REVISE_CLOSED="trg_revise_closed",t.TRG_REVISE_QUIZ_STARTED="trg_revise_quiz_started",t.TRG_REVISE_QUIZ_QUESTION_ATTEMPT="trg_revise_quiz_question_attempt",t.TRG_REVISE_QUIZ_QUESTION_SKIP="trg_revise_quiz_question_skip",t.TRG_REVISE_QUIZ_ENDED="trg_revise_quiz_ended",t.TRG_REVISE_ASSET_PLAYED="trg_revise_asset_played",t.TRG_REVISE_ASSET_PAUSED="trg_revise_asset_paused",t.TRG_REVISE_ASSET_RESUME="trg_revise_asset_resume",t.TRG_REVISE_ASSET_END="trg_revise_asset_end",t.TRG_REVISE_ASSET_REPLAY="trg_revise_asset_replay",t.TRG_PRACTICE_OPEN="trg_practice_open",t.TRG_PRACTICE_SESSION_STARTED="trg_practice_session_started",t.TRG_PRACTICE_SESSION_ABANDONED="trg_practice_session_abandoned",t.TRG_PRACTICE_SESSION_ENDED="trg_practice_session_ended",t.TRG_PRACTICE_CLOSED="trg_practice_closed",t.TRG_PRACTICE_QUEST_ATTEMPTED="trg_practice_quest_attempted",t.TRG_PRACTICE_QUEST_RETRY="trg_practice_quest_retry",t.TRG_PRACTICE_QUEST_SKIPPED="trg_practice_quest_skipped",t.TRG_DT_CLICK="trg_dt_click",t.TRG_DT_CREATED="trg_dt_created",t.TRG_DT_OPEN="trg_dt_open",t.TRG_DT_STARTED="trg_dt_started",t.TRG_DT_ABANDONED="trg_dt_abandoned",t.TRG_DT_QUESTION_ATTEMPTED="trg_dt_question_attempted",t.TRG_DT_QUESTION_SKIPPED="trg_dt_question_skipped",t.TRG_DT_SUBMITED="trg_dt_submited",t.TRG_DT_REVIEW_ATTEMPT="trg_dt_review_attempt",t.TRG_OT_CLICK="trg_ot_click",t.TRG_OT_CREATED="trg_ot_created",t.TRG_OT_OPEN="trg_ot_open",t.TRG_OT_STARTED="trg_ot_started",t.TRG_OT_ABANDONED="trg_ot_abandoned",t.TRG_OT_QUESTION_ATTEMPTED="trg_ot_question_attempted",t.TRG_OT_QUESTION_SKIPPED="trg_ot_question_skipped",t.TRG_OT_SUBMITED="trg_ot_submited",t.TRG_OT_REVIEW_ATTEMPT="trg_ot_review_attempt",t.TRG_SUMMARY_OPEN="trg_summary_open",t.TRG_SUMMARY_ABANDON="trg_summary_abandon",t.TRG_SUMMARY_END="trg_summary_end",t.TRG_SUMMARY_CLOSE="trg_summary_close",t.TRG_TASK_CLICK="trg_task_click",t.TRG_TASK_CREATED="trg_task_created",t.TRG_TASK_OPEN="trg_task_open",t.TRG_TASK_COMPLETED="trg_task_completed",t.TRG_STUDENT_PROFILE_CREATED="trg_student_profile_created",t.TRG_SUBSCRIPTION_CANCELLED="trg_subscription_cancelled",t.TRG_PURCHASE_SUCCESS="trg_purchase_success",t.TRG_PRODUCT_IMPRESSION="trg_product_impression",t.TRG_PRODUCT_CLICK="trg_product_click",t.TRG_PRODUCT_DETAIL_VIEW="trg_product_detail_view",t.TRG_CHECKOUT="trg_checkout",t.TRG_LOGIN_SUCCESS="trg_login_success",t.TRG_LOGIN_FAILED="trg_login_failed",t.TRG_LOGOUT="trg_logout",t.TRG_REGISTRATION_CHILD_DETAILS="trg_register_child_details",t.TRG_REGISTRATION_CONTACT_DETAILS="trg_register_contact_details",t.TRG_REGISTRATION_SUCCESS="trg_register_success",t.TRG_REGISTRATION_FAILED="trg_register_failed",t.TRG_CREATE_PASSWORD="trg_create_password",t.AF_SIGN_UP_CLICKED="af_sign_up_clicked",t.AF_15_DAYS_TRIAL_CLICKED="af_15_days_trial_clicked",t.AF_REG_MOBILE_NUM_ENTERED="af_reg_mobile_num_entered",t.AF_REG_MOBILE_ALREADY_EXIST="af_reg_mobile_already_exist",t.AF_REG_OTP_GENERATED="af_reg_otp_generated",t.AF_REG_OTP_VALIDATED="af_reg_otp_validated",t.AF_REG_PASSWORD_SUCCESS="af_reg_password_success",t.AF_REG_BEGIN_ONBOARDING="af_reg_begin_onboarding",t.AF_REG_BOARD_SELECTED="af_reg_board_selected",t.AF_REG_GRADE_SELECTED="af_reg_grade_selected",t.AF_REG_GRADE_SELECTED_PROMO_FLOW_A="af_reg_grade_selected_promo_flow_a",t.AF_REG_START_15_DAYS_TRIAL_CLICKED="af_reg_start_15_days_trial_clicked",t.AF_REG_ONBOARDING_COMPLETED="af_reg_onboarding_completed",t}({}),GtmModuleNamesEnum=function(t){return t.STUDY_PLAN="Study plan",t.BROWSEBOOKS="Browsebooks",t.ASSIGNMENTS="Assignments",t}({}),GtmUserTypeEnum=function(t){return t.STUDENT="student",t.PARENT="parent",t}({});const PageDataConstants={[RouteEnums.HOME]:{site_section:"Home",page_name:"Home"},[RouteEnums.STUDY_PLAN]:{site_section:GtmModuleNamesEnum.STUDY_PLAN,page_name:"My lessons"},[RouteEnums.STUDY_PLAN_SCHEDULED_LESSONS]:{site_section:GtmModuleNamesEnum.STUDY_PLAN,page_name:"Scheduled lessons"},[RouteEnums.STUDY_PLAN_MANAGE_MY_PLANS]:{site_section:"Manage study plan",page_name:"My plans"},[RouteEnums.STUDY_PLAN_MANAGE_PROGRESS]:{site_section:"Manage study plan",page_name:"Plan progress"},[RouteEnums.STUDY_PLAN_MANAGE_PORTION_BOOK]:{site_section:"Manage study plan",page_name:"Portion book"},[RouteEnums.STUDY_PLAN_CREATE_SELECT_PORTION]:{site_section:"Create study plan",page_name:"Select Portion"},[RouteEnums.STUDY_PLAN_CREATE_EXTRA_ATTENTION]:{site_section:"Create study plan",page_name:"Extra attention"},[RouteEnums.STUDY_PLAN_CREATE_SELECT_DATE]:{site_section:"Create study plan",page_name:"Select date"},[RouteEnums.STUDY_PLAN_CREATE_ACTIVATE_PLAN]:{site_section:"Create study plan",page_name:"Activate plan"},[RouteEnums.STUDY_PLAN_DEADLINE_MISSED]:{site_section:GtmModuleNamesEnum.STUDY_PLAN,page_name:"Deadline missed"},[RouteEnums.STUDY_PLAN_PAUSED_PLAN]:{site_section:GtmModuleNamesEnum.STUDY_PLAN,page_name:"Paused plan"},[RouteEnums.BROWSEBOOKS]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"books"},[RouteEnums.BROWSEBOOKS_BOOK_OPEN]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Book open"},[RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select book for oral test"},[RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select topics for oral test"},[RouteEnums.BROWSEBOOKS_ORAL_TEST_FILL_DETAILS]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Fill test details for oral test"},[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select book for digital test"},[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select topics for digital test"},[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_FILL_DETAILS]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Fill test details for digital test"},[RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select book for mock test"},[RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select topics for mock test"},[RouteEnums.BROWSEBOOKS_MOCK_TEST_FILL_DETAILS]:{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Fill test details for mock test"},[RouteEnums.ASSIGNMENTS]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Assignment list"},[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Completed tasks"},[RouteEnums.ASSIGNMENTS_PREVIEW]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Preview"},[RouteEnums.ASSIGNMENTS_CREATE_TASK]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Create task"},[RouteEnums.ASSIGNMENTS_ORAL_TEST_SELECT_BOOK]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select book for oral test"},[RouteEnums.ASSIGNMENTS_ORAL_TEST_SELECT_TOPICS]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select topics for oral test"},[RouteEnums.ASSIGNMENTS_ORAL_TEST_FILL_DETAILS]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Fill test details for oral test"},[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select book for digital test"},[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_TOPICS]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select topics for digital test"},[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_FILL_DETAILS]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Fill test details for digital test"},[RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select book for mock test"},[RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_TOPICS]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select topics for mock test"},[RouteEnums.ASSIGNMENTS_MOCK_TEST_FILL_DETAILS]:{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Fill test details for mock test"},[RouteEnums.AUTH_SIGN_IN_USERNAME_PARENT]:{site_section:"Sign In",page_name:"Enter Username"},[RouteEnums.AUTH_SIGN_IN_PASSWORD_PARENT]:{site_section:"Sign In",page_name:"Enter Password"},[RouteEnums.AUTH_SIGN_IN_USERNAME_CHILD]:{site_section:"Sign In",page_name:"Enter Username"},[RouteEnums.AUTH_SIGN_IN_PASSWORD_CHILD]:{site_section:"Sign In",page_name:"Enter Password"},[RouteEnums.AUTH_TERMS_AND_CONDITIONS]:{site_section:"Sign In",page_name:"Terms and conditions"},[RouteEnums.AUTH_REGISTRATION_CHILD_DETAILS]:{site_section:"Registration",page_name:"Enter Child Details"},[RouteEnums.AUTH_REGISTRATION_CONTACT_DETAILS]:{site_section:"Registration",page_name:"Enter Contact Details"},[RouteEnums.AUTH_REGISTRATION_OTP_VALIDATION]:{site_section:"Registration",page_name:"OTP Validation"},[RouteEnums.AUTH_CREATE_PASSWORD]:{site_section:"Registration or Forgot Password",page_name:"Create Password"},[RouteEnums.SUBSCRIPTION_DASHBOARD]:{site_section:"Subscriptions",page_name:"Dashboard"},[RouteEnums.SUBSCRIPTION_REGISTER_CHILD]:{site_section:"Subscriptions",page_name:"Register Child"},[RouteEnums.SUBSCRIPTION_PLANS]:{site_section:"Subscriptions",page_name:"Plans"},[RouteEnums.SUBSCRIPTION_ORDER_SUMMARY]:{site_section:"Subscriptions",page_name:"Order Summary"},[RouteEnums.SUBSCRIPTION_ACKNOWLEDGEMENT]:{site_section:"Subscriptions",page_name:"Acknowledgement"},[RouteEnums.SUBSCRIPTION_REDIRECT_PAYMENT]:{site_section:"Subscriptions",page_name:"Redirect Payment"}},RoutePairWiseEventsConstants={[RouteEnums.HOME]:{[RouteEnums.STUDY_PLAN]:[Object.assign({event:GtmEventsEnum.TRG_MODULE_CLOSED,module_name:GtmModuleNamesEnum.STUDY_PLAN},PageDataConstants[RouteEnums.STUDY_PLAN])],[RouteEnums.BROWSEBOOKS]:[Object.assign({event:GtmEventsEnum.TRG_MODULE_CLOSED,module_name:GtmModuleNamesEnum.BROWSEBOOKS},PageDataConstants[RouteEnums.BROWSEBOOKS])],[RouteEnums.ASSIGNMENTS]:[Object.assign({event:GtmEventsEnum.TRG_MODULE_CLOSED,module_name:GtmModuleNamesEnum.ASSIGNMENTS},PageDataConstants[RouteEnums.ASSIGNMENTS])]},[RouteEnums.STUDY_PLAN]:{[RouteEnums.HOME]:[Object.assign({event:GtmEventsEnum.TRG_MODULE_OPEN,module_name:GtmModuleNamesEnum.STUDY_PLAN},PageDataConstants[RouteEnums.HOME])]},[RouteEnums.BROWSEBOOKS_LANDING]:{[RouteEnums.HOME]:[Object.assign({event:GtmEventsEnum.TRG_MODULE_OPEN,module_name:GtmModuleNamesEnum.BROWSEBOOKS},PageDataConstants[RouteEnums.HOME])]},[RouteEnums.ASSIGNMENTS_LANDING]:{[RouteEnums.HOME]:[Object.assign({event:GtmEventsEnum.TRG_MODULE_OPEN,module_name:GtmModuleNamesEnum.ASSIGNMENTS},PageDataConstants[RouteEnums.HOME])]},[RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK]:{[RouteEnums.BROWSEBOOKS]:[Object.assign({event:GtmEventsEnum.TRG_OT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS])]},[RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS]:{[RouteEnums.BROWSEBOOKS_BOOK_OPEN]:[Object.assign({event:GtmEventsEnum.TRG_OT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS_BOOK_OPEN])]},[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK]:{[RouteEnums.BROWSEBOOKS]:[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS])]},[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS]:{[RouteEnums.BROWSEBOOKS_BOOK_OPEN]:[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS_BOOK_OPEN])]},[RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK]:{[RouteEnums.BROWSEBOOKS]:[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS])]},[RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS]:{[RouteEnums.BROWSEBOOKS_BOOK_OPEN]:[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS_BOOK_OPEN])]},[RouteEnums.ASSIGNMENTS_ORAL_TEST_SELECT_BOOK]:{[RouteEnums.ASSIGNMENTS]:[Object.assign({event:GtmEventsEnum.TRG_OT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS])],[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS]:[Object.assign({event:GtmEventsEnum.TRG_OT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS])]},[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK]:{[RouteEnums.ASSIGNMENTS]:[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS])],[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS]:[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS])]},[RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK]:{[RouteEnums.ASSIGNMENTS]:[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS])],[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS]:[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS])]},[RouteEnums.ASSIGNMENTS_TASK]:{[RouteEnums.ASSIGNMENTS]:[Object.assign({event:GtmEventsEnum.TRG_TASK_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS])],[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS]:[Object.assign({event:GtmEventsEnum.TRG_TASK_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS])]},[RouteEnums.STUDY_PLAN_CREATE_LANDING]:{[RouteEnums.BROWSEBOOKS]:[Object.assign({event:GtmEventsEnum.TRG_SP_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS])],[RouteEnums.BROWSEBOOKS_BOOK_OPEN]:[Object.assign({event:GtmEventsEnum.TRG_SP_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS_BOOK_OPEN])],[RouteEnums.STUDY_PLAN_MANAGE_MY_PLANS]:[Object.assign({event:GtmEventsEnum.TRG_SP_CLICK},PageDataConstants[RouteEnums.STUDY_PLAN_MANAGE_MY_PLANS])],[RouteEnums.HOME]:[Object.assign({event:GtmEventsEnum.TRG_SP_CLICK},PageDataConstants[RouteEnums.HOME])]}},LessonPlayerEventsConstants={[LessonTypesEnum.BIG_IDEA]:[{event:GtmEventsEnum.TRG_BIGIDEA_OPEN},{event:GtmEventsEnum.TRG_BIGIDEA_SESSION_ABANDONED},{event:GtmEventsEnum.TRG_BIGIDEA_SESSION_ENDED,content_type:ContentTypesEnum.SUMMARY},{event:GtmEventsEnum.TRG_BIGIDEA_CLOSE,content_type:ContentTypesEnum.SUMMARY},{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_REPLAY,content_type:ContentTypesEnum.ASSET}],[LessonTypesEnum.PRACTICE]:[{event:GtmEventsEnum.TRG_PRACTICE_OPEN},{event:GtmEventsEnum.TRG_PRACTICE_SESSION_ABANDONED}],[LessonTypesEnum.REVISE]:[{event:GtmEventsEnum.TRG_REVISE_OPEN},{event:GtmEventsEnum.TRG_REVISE_SESSION_ABANDONED}],[LessonTypesEnum.DIGITAL_TEST]:[{event:GtmEventsEnum.TRG_DT_OPEN},{event:GtmEventsEnum.TRG_DT_ABANDONED}],[LessonTypesEnum.MOCK_TEST]:[{event:GtmEventsEnum.TRG_DT_OPEN},{event:GtmEventsEnum.TRG_DT_ABANDONED}],[LessonTypesEnum.ORAL_TEST]:[{event:GtmEventsEnum.TRG_OT_OPEN},{event:GtmEventsEnum.TRG_OT_ABANDONED}],[LessonTypesEnum.SUMMARY]:[{},{event:GtmEventsEnum.TRG_SUMMARY_ABANDON}]},LessonPlayerIntroEventsConstants={[LessonTypesEnum.REVISE]:{[LessonPlayerStateEnum.SESSION_START]:{event:GtmEventsEnum.TRG_REVISE_SESSION_STARTED,content_type:ContentTypesEnum.ASSET},[LessonPlayerStateEnum.CLOSE]:{event:GtmEventsEnum.TRG_REVISE_CLOSED,content_type:ContentTypesEnum.SUMMARY}},[LessonTypesEnum.PRACTICE]:{[LessonPlayerStateEnum.CLOSE]:{event:GtmEventsEnum.TRG_PRACTICE_CLOSED}},[LessonTypesEnum.DIGITAL_TEST]:{[LessonPlayerStateEnum.SESSION_START]:{event:GtmEventsEnum.TRG_DT_STARTED}},[LessonTypesEnum.MOCK_TEST]:{[LessonPlayerStateEnum.SESSION_START]:{event:GtmEventsEnum.TRG_DT_STARTED}},[LessonTypesEnum.ORAL_TEST]:{[LessonPlayerStateEnum.SESSION_START]:{event:GtmEventsEnum.TRG_OT_STARTED}}},QuestionPlayerEventsConstants={[LessonTypesEnum.REVISE]:{[QuestionPlayerStateEnum.ATTEMPT]:{event:GtmEventsEnum.TRG_REVISE_QUIZ_QUESTION_ATTEMPT,content_type:ContentTypesEnum.QUIZ},[QuestionPlayerStateEnum.SKIP]:{event:GtmEventsEnum.TRG_REVISE_QUIZ_QUESTION_SKIP,content_type:ContentTypesEnum.QUIZ},[QuestionPlayerStateEnum.QUIZ_END]:{event:GtmEventsEnum.TRG_REVISE_QUIZ_ENDED,content_type:ContentTypesEnum.QUIZ}},[LessonTypesEnum.PRACTICE]:{[QuestionPlayerStateEnum.ATTEMPT]:{event:GtmEventsEnum.TRG_PRACTICE_QUEST_ATTEMPTED},[QuestionPlayerStateEnum.SKIP]:{event:GtmEventsEnum.TRG_PRACTICE_QUEST_SKIPPED},[QuestionPlayerStateEnum.RETRY]:{event:GtmEventsEnum.TRG_PRACTICE_QUEST_RETRY}},[LessonTypesEnum.DIGITAL_TEST]:{[QuestionPlayerStateEnum.ATTEMPT]:{event:GtmEventsEnum.TRG_DT_QUESTION_ATTEMPTED},[QuestionPlayerStateEnum.SKIP]:{event:GtmEventsEnum.TRG_DT_QUESTION_SKIPPED},[QuestionPlayerStateEnum.QUIZ_END]:{event:GtmEventsEnum.TRG_DT_SUBMITED},[QuestionPlayerStateEnum.REVIEW_ATTEMPT]:{event:GtmEventsEnum.TRG_DT_REVIEW_ATTEMPT}},[LessonTypesEnum.MOCK_TEST]:{[QuestionPlayerStateEnum.ATTEMPT]:{event:GtmEventsEnum.TRG_DT_QUESTION_ATTEMPTED},[QuestionPlayerStateEnum.SKIP]:{event:GtmEventsEnum.TRG_DT_QUESTION_SKIPPED},[QuestionPlayerStateEnum.QUIZ_END]:{event:GtmEventsEnum.TRG_DT_SUBMITED},[QuestionPlayerStateEnum.REVIEW_ATTEMPT]:{event:GtmEventsEnum.TRG_DT_REVIEW_ATTEMPT}},[LessonTypesEnum.ORAL_TEST]:{[QuestionPlayerStateEnum.ATTEMPT]:{event:GtmEventsEnum.TRG_OT_QUESTION_ATTEMPTED},[QuestionPlayerStateEnum.SKIP]:{event:GtmEventsEnum.TRG_OT_QUESTION_SKIPPED},[QuestionPlayerStateEnum.QUIZ_END]:{event:GtmEventsEnum.TRG_OT_SUBMITED},[QuestionPlayerStateEnum.REVIEW_ATTEMPT]:{event:GtmEventsEnum.TRG_OT_REVIEW_ATTEMPT}}},AssetPlayerEventsConstants={[LessonTypesEnum.REVISE]:{[AssetPlayerStateEnum.PLAY]:{event:GtmEventsEnum.TRG_REVISE_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PAUSE]:{event:GtmEventsEnum.TRG_REVISE_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.RESUME]:{event:GtmEventsEnum.TRG_REVISE_ASSET_RESUME,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.END]:{event:GtmEventsEnum.TRG_REVISE_ASSET_END,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PULSE]:{event:GtmEventsEnum.TRG_ASSET_PULSE},[AssetPlayerStateEnum.REPLAY]:{event:GtmEventsEnum.TRG_REVISE_ASSET_REPLAY}},[LessonTypesEnum.BIG_IDEA]:{[AssetPlayerStateEnum.PLAY]:{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PAUSE]:{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.RESUME]:{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_RESUME,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.END]:{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_END,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PULSE]:{event:GtmEventsEnum.TRG_ASSET_PULSE}},[LessonTypesEnum.PRACTICE]:{[AssetPlayerStateEnum.PLAY]:{event:GtmEventsEnum.TRG_REVISE_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PAUSE]:{event:GtmEventsEnum.TRG_REVISE_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.RESUME]:{event:GtmEventsEnum.TRG_REVISE_ASSET_RESUME,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.END]:{event:GtmEventsEnum.TRG_REVISE_ASSET_END,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PULSE]:{event:GtmEventsEnum.TRG_ASSET_PULSE}},[LessonTypesEnum.DIGITAL_TEST]:{[AssetPlayerStateEnum.PLAY]:{event:GtmEventsEnum.TRG_REVISE_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PAUSE]:{event:GtmEventsEnum.TRG_REVISE_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.RESUME]:{event:GtmEventsEnum.TRG_REVISE_ASSET_RESUME,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.END]:{event:GtmEventsEnum.TRG_REVISE_ASSET_END,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PULSE]:{event:GtmEventsEnum.TRG_ASSET_PULSE}},[LessonTypesEnum.MOCK_TEST]:{[AssetPlayerStateEnum.PLAY]:{event:GtmEventsEnum.TRG_REVISE_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PAUSE]:{event:GtmEventsEnum.TRG_REVISE_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.RESUME]:{event:GtmEventsEnum.TRG_REVISE_ASSET_RESUME,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.END]:{event:GtmEventsEnum.TRG_REVISE_ASSET_END,content_type:ContentTypesEnum.ASSET},[AssetPlayerStateEnum.PULSE]:{event:GtmEventsEnum.TRG_ASSET_PULSE}}},TestTypesConstants=["digital_test","oral_test","mock_test"],LessonControlContext={[LessonTypesEnum.REVISE]:{1:{revise_type:"begin revise"},2:{revise_type:"revise again"},3:{revise_type:"revise again"},4:{revise_type:"begin revise"}},[LessonTypesEnum.PRACTICE]:{1:{practice_type:"begin practice"},2:{practice_type:"practice again"},3:{practice_type:"practice again"},4:{practice_type:"begin practice"}},[LessonTypesEnum.SPACED_PRACTICE_1]:{1:{practice_type:"begin practice"},2:{practice_type:"practice again"},3:{practice_type:"practice again"},4:{practice_type:"begin practice"}},[LessonTypesEnum.SPACED_PRACTICE_2]:{1:{practice_type:"begin practice"},2:{practice_type:"practice again"},3:{practice_type:"practice again"},4:{practice_type:"begin practice"}},[LessonTypesEnum.DIGITAL_TEST]:{1:{test_type:"begin test"},2:{test_type:"redo test"},3:{test_type:"redo test"},4:{test_type:"begin test"}},[LessonTypesEnum.MOCK_TEST]:{1:{test_type:"begin test"},2:{test_type:"redo test"},3:{test_type:"redo test"},4:{test_type:"begin test"}},[LessonTypesEnum.ORAL_TEST]:{1:{test_type:"begin test"},2:{test_type:"redo test"},3:{test_type:"redo test"},4:{test_type:"begin test"}}},LessonPlayerModuleConstants={[RouteEnums.LESSON_PLAYER_BIG_IDEA_BROWSEBOOK]:{module:GtmModuleNamesEnum.BROWSEBOOKS},[RouteEnums.LESSON_PLAYER_REVISE_BROWSEBOOK]:{module:GtmModuleNamesEnum.BROWSEBOOKS},[RouteEnums.LESSON_PLAYER_PRACTICE_BROWSEBOOK]:{module:GtmModuleNamesEnum.BROWSEBOOKS},[RouteEnums.LESSON_PLAYER_SPACED_PRACTICE_1_BROWSEBOOK]:{module:GtmModuleNamesEnum.BROWSEBOOKS},[RouteEnums.LESSON_PLAYER_SPACED_PRACTICE_2_BROWSEBOOK]:{module:GtmModuleNamesEnum.BROWSEBOOKS},[RouteEnums.LESSON_PLAYER_BIG_IDEA_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN},[RouteEnums.LESSON_PLAYER_REVISE_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN},[RouteEnums.LESSON_PLAYER_PRACTICE_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN},[RouteEnums.LESSON_PLAYER_SPACED_PRACTICE_1_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN},[RouteEnums.LESSON_PLAYER_SPACED_PRACTICE_2_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN},[RouteEnums.LESSON_PLAYER_SUMMARY_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN},[RouteEnums.LESSON_PLAYER_DIGITAL_TEST_ASSIGNMENTS]:{module:GtmModuleNamesEnum.ASSIGNMENTS},[RouteEnums.LESSON_PLAYER_DIGITAL_TEST_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN},[RouteEnums.LESSON_PLAYER_MOCK_TEST_ASSIGNMENTS]:{module:GtmModuleNamesEnum.ASSIGNMENTS},[RouteEnums.LESSON_PLAYER_MOCK_TEST_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN},[RouteEnums.LESSON_PLAYER_ORAL_TEST_ASSIGNMENTS]:{module:GtmModuleNamesEnum.ASSIGNMENTS},[RouteEnums.LESSON_PLAYER_ORAL_TEST_STUDY_PLAN]:{module:GtmModuleNamesEnum.STUDY_PLAN}},LessonPlayerOpenPageNamesConstants={[LessonTypesEnum.BIG_IDEA]:LessonPlayerPageNamesEnum.VIDEO,[LessonTypesEnum.DIGITAL_TEST]:LessonPlayerPageNamesEnum.REVIEW,[LessonTypesEnum.MOCK_TEST]:LessonPlayerPageNamesEnum.REVIEW,[LessonTypesEnum.ORAL_TEST]:LessonPlayerPageNamesEnum.REVIEW,[LessonTypesEnum.PRACTICE]:LessonPlayerPageNamesEnum.REVIEW,[LessonTypesEnum.REVISE]:LessonPlayerPageNamesEnum.REVIEW,[LessonTypesEnum.SPACED_PRACTICE_1]:LessonPlayerPageNamesEnum.REVIEW,[LessonTypesEnum.SPACED_PRACTICE_2]:LessonPlayerPageNamesEnum.REVIEW,[LessonTypesEnum.SUMMARY]:LessonPlayerPageNamesEnum.CARD},TaskCompletionCriteriaConstants={0:"Mark as Complete",1:"Assignment Viewed"},TestDifficultyLevelConstants={1:"low",2:"medium",3:"high"},TestTypesEventsConstants={4:GtmEventsEnum.TRG_DT_CREATED,5:GtmEventsEnum.TRG_OT_CREATED},CreateStudyPlanEventsConstants={create:GtmEventsEnum.TRG_SP_CREATED,portion_update:GtmEventsEnum.TRG_SP_PORTION_UPDATED,date_update:GtmEventsEnum.TRG_SP_DAILY_TIME_UPDATED},PracticeTypesConstants=["practice","spacedPractice1","spacedPractice2"],BookOpenClosedRoutesConstants={[RouteEnums.BROWSEBOOKS]:{[RouteEnums.BROWSEBOOKS_BOOK_OPEN]:{event:GtmEventsEnum.TRG_BOOK_CLOSED},[RouteEnums.BROWSEBOOKS_ORAL_TEST_FILL_DETAILS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED},[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_FILL_DETAILS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED},[RouteEnums.BROWSEBOOKS_MOCK_TEST_FILL_DETAILS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.BROWSEBOOKS_BOOK_OPEN]:{[RouteEnums.BROWSEBOOKS]:{event:GtmEventsEnum.TRG_BOOK_OPEN},[RouteEnums.STUDY_PLAN_CREATE_SELECT_PORTION]:{event:GtmEventsEnum.TRG_BOOK_OPEN}},[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK]:{[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS]:{[RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK]:{event:GtmEventsEnum.TRG_BOOK_OPEN}},[RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK]:{[RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS]:{[RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK]:{event:GtmEventsEnum.TRG_BOOK_OPEN}},[RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK]:{[RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS]:{[RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK]:{event:GtmEventsEnum.TRG_BOOK_OPEN}},[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK]:{[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_TOPICS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_TOPICS]:{[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK]:{event:GtmEventsEnum.TRG_BOOK_OPEN}},[RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK]:{[RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_TOPICS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_TOPICS]:{[RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK]:{event:GtmEventsEnum.TRG_BOOK_OPEN}},[RouteEnums.STUDY_PLAN_CREATE_LANDING]:{[RouteEnums.BROWSEBOOKS_BOOK_OPEN]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.ASSIGNMENTS_PREVIEW]:{[RouteEnums.BROWSEBOOKS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.ASSIGNMENTS_LANDING]:{[RouteEnums.ASSIGNMENTS_DIGITAL_TEST_FILL_DETAILS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}},[RouteEnums.ASSIGNMENTS_LANDING]:{[RouteEnums.ASSIGNMENTS_MOCK_TEST_FILL_DETAILS]:{event:GtmEventsEnum.TRG_BOOK_CLOSED}}},StudyPlanOpenClosedRoutesConstants={[RouteEnums.STUDY_PLAN]:{[RouteEnums.HOME]:{event:GtmEventsEnum.TRG_SP_OPEN},[RouteEnums.STUDY_PLAN_MANAGE_MY_PLANS]:{event:GtmEventsEnum.TRG_SP_OPEN},[RouteEnums.STUDY_PLAN_PAUSED_PLAN]:{event:GtmEventsEnum.TRG_SP_OPEN}}};let GtmService=(()=>{class t{constructor(t){this.googleTagManagerService=t,this.routesReplayHolder=[],this.sessionStarted=!1,this.quizStarted=!1,this.selectedLessonControlContext={},this.isVideoPaused=!1,this.reviseInProgress=!1,this.subTopics={},this.isReviewAttempted=!1,this.videoAssetDuration=0,this.previousAssetPercentage=0,this.questionLoadedindex=0,this.isSessionCompleted=!1}setDataLayer(t){this.dataLayerObj=t}pushTag(t){if(t.event){const e=Object.assign(Object.assign({},this.dataLayerObj),t);delete e.openUrl,delete e.resourceId,delete e.duration,this.googleTagManagerService.pushTag(e)}}firePageViewEvents(t){if(t!==this.prevUrl){const e=PageDataConstants[t];if(e){const n=Object.assign({event:GtmEventsEnum.TRG_PAGE_VIEW},e);this.pushTag(n),this.prevUrl=t}}}fireRoutePairWiseEvents(t,e){const n=RoutePairWiseEventsConstants[t];if(n){const t=n[e];null==t||t.map(t=>this.pushTag(t))}this.routeHolder={currentUrl:t,previousUrl:e},this.routesReplayHolder.unshift(t,e),this.routesReplayHolder=this.routesReplayHolder.splice(0,4)}onApiInterceptorEvent(t,e,n){}fireErrorEvent(t){this.pushTag(t)}onLessonPlayerOpened(t){var e,n,i,r,s;this.lessonType=null==t?void 0:t.lessonType,this.flushLessonControlData(),this.lessonType=null==t?void 0:t.lessonType,this.lessonType!==LessonTypesEnum.SPACED_PRACTICE_1&&this.lessonType!==LessonTypesEnum.SPACED_PRACTICE_2||(this.lessonType=LessonTypesEnum.PRACTICE),this.lessonBookId=null===(e=null==t?void 0:t.book)||void 0===e?void 0:e.id;const o=LessonPlayerModuleConstants[this.routeHolder.currentUrl];if(o?(this.module=o.module,this.lessonPlayerSiteSection=`${o.module} > ${this.lessonType}`):(this.lessonPlayerSiteSection=null,this.module=null),this.lessonInfo={Subject:null===(n=null==t?void 0:t.subjects)||void 0===n?void 0:n.label,Lesson:null===(i=null==t?void 0:t.chapter)||void 0===i?void 0:i.label,Topic:this.getTopicLabels(null==t?void 0:t.tp),resourceId:null==t?void 0:t.resourceId,duration:(null==t?void 0:t.duration)?null==t?void 0:t.duration:null==t?void 0:t.lessonDuration,sub_topic:this.storeAndGetSubTopicLabels(null==t?void 0:t.tqs)},this.lessonInfoCopy=Object.assign({},this.lessonInfo),this.module===GtmModuleNamesEnum.STUDY_PLAN&&(TestTypesConstants.includes(this.lessonType)&&(this.lessonInfo.resourceId=t.lessonId),this.checkStudyPlanData(),this.lessonInfo=Object.assign(Object.assign({},this.lessonInfo),this.studyPlanData),this.lessonInfo.sp_task_type=this.lessonType),TestTypesConstants.includes(this.lessonType)&&!this.lessonInfo.Lesson?this.lessonInfo.Lesson=this.getChaptersFromPortionForTest(t):this.testDifficulty="",LessonControlContext[this.lessonType]&&(this.selectedLessonControlContext[this.lessonType]=LessonControlContext[this.lessonType][null==t?void 0:t.lessonState]),this.lessonPlayerPageData={site_section:this.lessonPlayerSiteSection,page_name:LessonPlayerOpenPageNamesConstants[this.lessonType]},(null===(r=this.routeHolder)||void 0===r?void 0:r.previousUrl)&&LessonPlayerEventsConstants[this.lessonType]){const t=Object.assign(Object.assign(Object.assign(Object.assign({},this.lessonInfo),LessonPlayerEventsConstants[this.lessonType][0]),this.lessonPlayerPageData),this.selectedLessonControlContext[this.lessonType]);TestTypesConstants.includes(this.lessonType)&&(t.test_ID=this.lessonInfo.resourceId,t.duration_selected=this.lessonInfo.duration,t.difficulty_level=this.testDifficulty),this.pushTag(t)}this.lessonPlayerUrl=null===(s=this.routeHolder)||void 0===s?void 0:s.currentUrl,this.sessionStarted=!1,this.quizStarted=!1,this.lessonType===LessonTypesEnum.BIG_IDEA&&(this.lessonsPreviousStats={goalsAchieved:null==t?void 0:t.lessonStarAchieved,lessonScore:null==t?void 0:t.lessonScore,lessonStatus:null==t?void 0:t.lessonStatus,timeSpent:null==t?void 0:t.lessonTimeSpent},this.onBigIdeaSessionStarted())}getChaptersFromPortionForTest(t){var e,n,i;return this.getListWithSeperator(null===(i=null===(n=null===(e=null==t?void 0:t.lessonPortion)||void 0===e?void 0:e.portion)||void 0===n?void 0:n.node)||void 0===i?void 0:i.map(t=>null==t?void 0:t.label))}getTopicLabels(t){return Array.isArray(t)?this.getListWithSeperator(t.map(t=>null==t?void 0:t.label)):null==t?void 0:t.label}storeAndGetSubTopicLabels(t){return this.subTopics={},this.getListWithSeperator(null==t?void 0:t.map(t=>(this.subTopics[null==t?void 0:t.id]=null==t?void 0:t.label,null==t?void 0:t.label)))}getListWithSeperator(t){return null==t?void 0:t.toString().replace(/,/g,"|*|")}getTqLable(t){return this.previousTqId=t,this.subTopics[t]}fireLessonPlayerPageViewEvent(t){if(this.lessonPlayerSiteSection){this.lessonPlayerPageData={site_section:this.lessonPlayerSiteSection,page_name:t};const e=Object.assign({event:GtmEventsEnum.TRG_PAGE_VIEW},this.lessonPlayerPageData);this.pushTag(e)}}onLessonPlayerReviewPageView(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.REVIEW),this.contentType={content_type:ContentTypesEnum.SUMMARY}}onLessonPlayerVideoPageView(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.VIDEO),this.contentType={content_type:ContentTypesEnum.ASSET}}onLessonPlayerQuizPageView(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.QUIZ),this.contentType={content_type:ContentTypesEnum.QUIZ}}onLessonPlayerSummaryPageView(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.SUMMARY),this.contentType={content_type:ContentTypesEnum.SUMMARY}}onLessonPlayerSummaryCardPageView(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.CARD),this.contentType={content_type:ContentTypesEnum.CARD}}onLessonPlayerAbandoned(t,e){const n=this.getAbandonedSessionData(t,this.lessonType);let i,r={};this.lessonType===LessonTypesEnum.BIG_IDEA&&this.contentType.content_type===ContentTypesEnum.ASSET?r=Object.assign({},this.assetProgressData):this.lessonType===LessonTypesEnum.REVISE?this.contentType.content_type===ContentTypesEnum.QUIZ?r.test_time_spent=n.test_time_spent:this.contentType.content_type===ContentTypesEnum.ASSET&&(r=Object.assign({},this.assetProgressData)):PracticeTypesConstants.includes(this.lessonType)?r=Object.assign(Object.assign({question_Number:this.questionLoadedindex},this.questionLoadedData),this.computePracticeAbandonedData(t)):TestTypesConstants.includes(this.lessonType)&&(r=Object.assign({},n)),LessonPlayerEventsConstants[this.lessonType]&&(i=LessonPlayerEventsConstants[this.lessonType][1]);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),this.contentType),r);TestTypesConstants.includes(this.lessonType)?(s.test_ID=this.lessonInfo.resourceId,s.duration_selected=this.lessonInfo.duration,s.difficulty_level=this.testDifficulty,delete s.content_type):PracticeTypesConstants.includes(this.lessonType)&&delete s.content_type,this.pushTag(s),e?(this.sessionStarted=!1,this.quizStarted=!1,this.selectedLessonControlContext={},this.isVideoPaused=!1,this.questionAttemptedTagObj=null,this.isReviewAttempted=!1,this.isSessionCompleted=!1):this.flushLessonControlData()}computePracticeAbandonedData(t){let e=0,n=0,i=0,r=0,s=0;return null==t||t.map((t,o)=>{var a;const c=t.state;c&&(null===(a=null==c?void 0:c.attemptedOption)||void 0===a?void 0:a.length)>0?(e=2===c.qState?e+1:e,n=0===c.qState?n+1:n,i=1===c.qState?i+1:i,s+=null==c?void 0:c.timeTaken):r+=1}),{correct_questions:e,incorrect_questions:n,partially_correct_questions:i,unattempted_questions:r,attempted_questions:(null==t?void 0:t.length)-r,test_time_spent:Math.round(s),total_questions:null==t?void 0:t.length}}getAbandonedSessionData(t,e){let n=0,i=0,r=0,s=0,o=0,a=0,c=0,u=0;return t.map(t=>{var l,h;if((null==t?void 0:t.flagQuestion)&&(a+=1),c=(null==t?void 0:t.marks)>-1?c+(null==t?void 0:t.marks):c,null==t?void 0:t.state){const a=t.state;if((null===(l=null==a?void 0:a.attemptedOption)||void 0===l?void 0:l.length)>0&&e===LessonTypesEnum.ORAL_TEST){const t=this.computeObtainedMarksForOralTest(a);u+=t.marks_obtained,i+=1,r=2===t.qState?r+1:r,s=0===t.qState?s+1:s,o=1===t.qState?o+1:o}else(null===(h=null==a?void 0:a.attemptedOption)||void 0===h?void 0:h.length)>0&&(u+=null==a?void 0:a.obtainMarks,i+=1,r=(null==a?void 0:a.obtainMarks)===(null==a?void 0:a.marks)?r+1:r,s=0===(null==a?void 0:a.obtainMarks)?s+1:s,o=(null==a?void 0:a.obtainMarks)>0&&(null==a?void 0:a.obtainMarks)<(null==a?void 0:a.marks)?o+1:o);n+=null==a?void 0:a.timeTaken}}),{test_time_spent:Math.round(n),total_marks:c,marks_obtained:u,flagged_questions:a,attemptedQuestions:i,unattampted_questions:(null==t?void 0:t.length)-i,correct_questions:r,partially_correct_questions:o,incorrect_questions:s,total_questions:null==t?void 0:t.length}}computeObtainedMarksForOralTest(t){var e;const n=null===(e=null==t?void 0:t.attemptedOption[0])||void 0===e?void 0:e.options[0];return 0===n?{marks_obtained:0,qState:n}:1===n?{marks_obtained:(null==t?void 0:t.marks)/2,qState:n}:2===n?{marks_obtained:null==t?void 0:t.marks,qState:n}:void 0}onQuestionLoaded(t,e){var n;this.questionLoadedData={question_ID:null==e?void 0:e.questionID,question_type:null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.type},this.questionLoadedindex=t+1}onBigIdeaSessionStarted(){const t=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_BIGIDEA_SESSION_STARTED},this.lessonPlayerPageData),this.lessonInfo),{content_type:ContentTypesEnum.ASSET});this.pushTag(t)}onBigIdeaSessionEnded(){if(LessonPlayerEventsConstants[this.lessonType]){const t=Object.assign(Object.assign(Object.assign(Object.assign({},LessonPlayerEventsConstants[this.lessonType][2]),this.lessonPlayerPageData),this.lessonInfo),this.contentType);this.module===GtmModuleNamesEnum.STUDY_PLAN?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=t,this.fireSessionCompletedEvent()):(this.isSessionCompleted=!1,this.pushTag(t))}}onBigIdeaClosed(){if(LessonPlayerEventsConstants[this.lessonType]){const t=Object.assign(Object.assign(Object.assign(Object.assign({},LessonPlayerEventsConstants[this.lessonType][3]),this.lessonPlayerPageData),this.lessonInfo),this.contentType);this.pushTag(t)}this.flushLessonControlData()}onBigIdeaAssetReplay(){if(LessonPlayerEventsConstants[this.lessonType]){const t=Object.assign(Object.assign(Object.assign(Object.assign({},LessonPlayerEventsConstants[this.lessonType][4]),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);this.pushTag(t)}}onTaskOpen(t){if(t){const e=Object.assign(Object.assign({event:GtmEventsEnum.TRG_TASK_OPEN},PageDataConstants[RouteEnums.ASSIGNMENTS]),this.formatTask(t));this.pushTag(e)}}onTaskCompleted(t){if(t){const e=Object.assign(Object.assign({event:GtmEventsEnum.TRG_TASK_COMPLETED},PageDataConstants[RouteEnums.ASSIGNMENTS_PREVIEW]),this.formatTask(t));this.pushTag(e)}}onTaskCreated(t){if(t){const e=Object.assign(Object.assign({event:GtmEventsEnum.TRG_TASK_CREATED},PageDataConstants[RouteEnums.ASSIGNMENTS_CREATE_TASK]),this.formatTask(t));this.pushTag(e)}}formatTask(t){var e,n,i,r;console.log(t,"taskData====>");let s="false";const o=null===(n=null===(e=t.data)||void 0===e?void 0:e.attachments)||void 0===n?void 0:n.map(t=>{var e;return null===(e=null==t?void 0:t.fileName)||void 0===e?void 0:e.split(".").pop()});return o.length>0&&(s=`true - ${this.getListWithSeperator(o)}`),{Subject:t.subjectTitle,duration_selected:t.duration,attachment:s,task_completion_criterion:TaskCompletionCriteriaConstants[null===(r=null===(i=t.data)||void 0===i?void 0:i.completionCriteria)||void 0===r?void 0:r.type]}}onIntroScreenActionTriggered(t){LessonPlayerIntroEventsConstants[this.lessonType]&&t?t.action!==LessonPlayerIntroScreenActionsEnum.START||this.sessionStarted?t.action===LessonPlayerIntroScreenActionsEnum.START&&this.sessionStarted?(this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.SESSION_END],LessonPlayerStateEnum.SESSION_END),this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.SESSION_START],LessonPlayerStateEnum.SESSION_START)):t.action!==LessonPlayerIntroScreenActionsEnum.EXIT&&t.action!==LessonPlayerIntroScreenActionsEnum.NEXT||!this.sessionStarted?t.action!==LessonPlayerIntroScreenActionsEnum.EXIT&&t.action!==LessonPlayerIntroScreenActionsEnum.NEXT||this.sessionStarted||(this.sessionStarted=!1,this.quizStarted=!1,this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.CLOSE],LessonPlayerStateEnum.CLOSE),this.flushLessonControlData()):(this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.SESSION_END],LessonPlayerStateEnum.SESSION_END),this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.CLOSE],LessonPlayerStateEnum.CLOSE),this.flushLessonControlData()):this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.SESSION_START],LessonPlayerStateEnum.SESSION_START):this.flushLessonControlData()}flushLessonControlData(){TestTypesConstants.includes(this.lessonType)||(this.testDifficulty=null),this.lessonType=null,this.lessonInfo=null,this.lessonPlayerUrl=null,this.sessionStarted=!1,this.quizStarted=!1,this.selectedLessonControlContext={},this.lessonPlayerSiteSection=null,this.contentType=null,this.isVideoPaused=!1,this.reviseInProgress=!1,this.subTopics={},this.previousTqId=null,this.lessonPlayerPageData=null,this.questionAttemptedTagObj=null,this.isReviewAttempted=!1,this.videoAssetDuration=0,this.previousAssetPercentage=0,this.assetProgressData=null,this.isSessionCompleted=!1,this.lessonsCurrentStats=null,this.lessonsPreviousStats=null,this.lessonBookId=null,this.studyPlanProgress=null,this.lessonsPreviousStats=null}fireIntroScreenEvents(t,e){if(t){const n=Object.assign(Object.assign(Object.assign(Object.assign({},t),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);TestTypesConstants.includes(this.lessonType)&&(n.test_ID=this.lessonInfo.resourceId,n.duration_selected=this.lessonInfo.duration,n.difficulty_level=this.testDifficulty),this.lessonType!==LessonTypesEnum.BIG_IDEA&&this.lessonType!==LessonTypesEnum.REVISE||(n.content_type=ContentTypesEnum.ASSET),this.pushTag(n),e===LessonPlayerStateEnum.SESSION_START&&(this.sessionStarted=!0)}}onPracticeSessionStarted(t){var e,n;const i=Object.assign(Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRACTICE_SESSION_STARTED},this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),{question_ID:null===(e=t[0])||void 0===e?void 0:e.id,question_type:null===(n=t[0])||void 0===n?void 0:n.type});i.page_name=ContentTypesEnum.QUIZ,this.pushTag(i),this.sessionStarted=!0}onPraciceSessionEnded(t,e,n){var i,r,s;const o=this.computeCompletedQuestionsData(e),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRACTICE_SESSION_ENDED},this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),{question_ID:null===(i=e[e.length-1])||void 0===i?void 0:i.id,question_type:null===(r=e[e.length-1])||void 0===r?void 0:r.type,question_Number:e.length}),o.computedQuestionsData),{test_time_spent:null===(s=t.sessionData)||void 0===s?void 0:s.timeSpent});this.module===GtmModuleNamesEnum.STUDY_PLAN&&n?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=a,this.studyPlanProgress=this.getStudyPlanProgress(n),this.fireSessionCompletedEvent()):(this.isSessionCompleted=!1,this.pushTag(a)),this.sessionStarted=!1}onReviseQuizStarted(){if(!this.quizStarted){const t=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_REVISE_QUIZ_STARTED,content_type:ContentTypesEnum.QUIZ},this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);t.page_name=ContentTypesEnum.QUIZ,this.pushTag(t),this.quizStarted=!0}}onReviseSessionEnded(){if(this.reviseInProgress){const t=Object.assign(Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_REVISE_SESSION_ENDED},this.contentType),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);this.module===GtmModuleNamesEnum.STUDY_PLAN?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=t,this.fireSessionCompletedEvent()):(this.isSessionCompleted=!1,this.pushTag(t)),this.sessionStarted=!1,this.reviseInProgress=!1}}onLessonCompleted(t){this.isSessionCompleted||this.reviseInProgress?(this.lessonsCurrentStats=t,this.fireSessionCompletedEvent()):this.lessonsPreviousStats||(this.lessonsPreviousStats=t,this.lessonsCurrentStats=null)}updateBooksOnSessionComplete(t){this.studyPlanProgress=this.getStudyPlanProgress(t)}fireSessionCompletedEvent(){var t;if(this.lessonsCurrentStats&&this.lessonSessionEndTagData&&this.studyPlanProgress){const e={sp_achieved_bonus_stars:this.lessonsPreviousStats?this.lessonsCurrentStats.goalsAchieved-(null===(t=this.lessonsPreviousStats)||void 0===t?void 0:t.goalsAchieved):this.lessonsCurrentStats.goalsAchieved,sp_daily_time_progress:Math.round(this.lessonsCurrentStats.timeSpent),sp_overall_time_progress:`${this.studyPlanProgress.overAllTimeProgress}%`,sp_overall_portion_progress:`${this.studyPlanProgress.overAllPortionProgress}%`,sp_subject_portion_progress:`${this.studyPlanProgress.subjectProgress}%`,sp_daily_completed_tasks:1},n=Object.assign(Object.assign({},this.lessonSessionEndTagData),e);this.pushTag(n),this.lessonSessionEndTagData=null,this.lessonsPreviousStats=this.lessonsCurrentStats,this.lessonsCurrentStats=null,this.isSessionCompleted=!1,this.studyPlanProgress=null}}getPercentage(t,e){return Math.round(t/e*100)}setBooksAndSessionsData(t){var e,n,i,r;this.studyPlanProgress=this.getStudyPlanProgress(t.books),this.lessonsCurrentStats={goalsAchieved:null===(e=t.sessionData)||void 0===e?void 0:e.goalsAchieved,lessonScore:null===(n=t.sessionData)||void 0===n?void 0:n.lessonScore,lessonStatus:null===(i=t.sessionData)||void 0===i?void 0:i.lessonStatus,timeSpent:null===(r=t.sessionData)||void 0===r?void 0:r.timeSpent}}getStudyPlanProgress(t){let e=0,n=0,i=0,r=0,s=0;return null==t||t.map(t=>{this.lessonBookId===(null==t?void 0:t.id)&&(s=this.getPercentage(null==t?void 0:t.lessonsCompleted,null==t?void 0:t.totalLessons)),e+=null==t?void 0:t.totalLessons,n+=null==t?void 0:t.lessonsCompleted,i+=null==t?void 0:t.totalDuration,r+=null==t?void 0:t.timeSpent}),{overAllPortionProgress:this.getPercentage(n,e),overAllTimeProgress:this.getPercentage(r,i),subjectProgress:s}}onQuestionAttempted(t,e,n,i){if(QuestionPlayerEventsConstants[this.lessonType]&&e&&t&&!this.isReviewAttempted){const r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.ATTEMPT]),this.lessonPlayerPageData),this.lessonInfo),this.formatQuestionData(t,e[0],n)),this.selectedLessonControlContext[this.lessonType]);TestTypesConstants.includes(this.lessonType)||(r.correct_question=2===t.qState?1:void 0,r.incorrect_question=0===t.qState?1:void 0,r.partially_correct_question=1===t.qState?1:void 0),r.sub_topic=this.getTqLable(i),this.pushTag(r),this.questionAttemptedTagObj=r,this.quizStarted=this.lessonType===LessonTypesEnum.REVISE,this.lessonType===LessonTypesEnum.REVISE&&(this.reviseInProgress=!0)}}onQuestionRetry(){const t=this.questionAttemptedTagObj||{};t.correct_question&&(delete t.correct_question,delete t.incorrect_question,delete t.partially_correct_question,delete t.question_time_spent),t.event=GtmEventsEnum.TRG_PRACTICE_QUEST_RETRY,this.pushTag(t)}onQuestionSkip(t,e,n,i){if(console.log("GtmService -> questionSkipEventHandler -> questionData",e,t),PracticeTypesConstants.includes(this.lessonType)&&QuestionPlayerEventsConstants[this.lessonType]&&e){const r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.SKIP]),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),this.formatQuestionData(t,e[0],n));r.sub_topic=this.getTqLable(i),this.pushTag(r)}this.quizStarted=this.lessonType===LessonTypesEnum.REVISE}callQuestionSkipped(t){var e,n;let i=[],r=[],s=[],o=[],a=[],c=[];if(null==t||t.map(t=>{i.push(null==t?void 0:t.id),r.push(null==t?void 0:t.type),s.push(null==t?void 0:t.confidence),o.push(null==t?void 0:t.index),a.push(Math.round(null==t?void 0:t.timeSpent)),this.getTqLable(null==t?void 0:t.tqId)&&c.push()}),QuestionPlayerEventsConstants[this.lessonType]&&t){const t=QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.SKIP],u={question_ID:this.getListWithSeperator(i),question_type:this.getListWithSeperator(r),confidence_level:this.getListWithSeperator(s),question_Number:this.getListWithSeperator(o),question_time_spent:this.getListWithSeperator(a),sub_topic:c.length>0?this.getListWithSeperator(c):void 0};TestTypesConstants.includes(this.lessonType)&&(u.test_ID=null===(e=this.lessonInfo)||void 0===e?void 0:e.resourceId,u.duration_selected=null===(n=this.lessonInfo)||void 0===n?void 0:n.duration,u.difficulty_level=this.testDifficulty);const l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),u);this.pushTag(l)}}formatQuestionData(t,e,n){var i;const r={question_ID:null==e?void 0:e.questionID,question_type:null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.type,confidence_level:null==t?void 0:t.confidence,question_Number:n+1,question_time_spent:Math.round(null==t?void 0:t.timeTaken)};return TestTypesConstants.includes(this.lessonType)&&(r.test_ID=this.lessonInfo.resourceId,r.duration_selected=this.lessonInfo.duration,r.difficulty_level=this.testDifficulty),r}onQuizEnd(t){if(QuestionPlayerEventsConstants[this.lessonType]&&t){const e=QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.QUIZ_END],n=this.computeCompletedQuestionsData(t);this.callQuestionSkipped(null==n?void 0:n.skippedQuestions);const i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),null==n?void 0:n.computedQuestionsData);this.lessonType===LessonTypesEnum.REVISE&&(i.content_type=ContentTypesEnum.QUIZ),this.pushTag(i),this.quizStarted=!1}}computeCompletedQuestionsData(t){let e=0,n=0,i=0,r=0,s=0;const o=[];return null==t||t.map((t,a)=>{var c;e=1===(null==t?void 0:t.status)?e+1:e,n=2===(null==t?void 0:t.status)?n+1:n,i=3===(null==t?void 0:t.status)?i+1:i,s+=null==t?void 0:t.timeSpent,0===(null===(c=null==t?void 0:t.attempted)||void 0===c?void 0:c.length)&&(r+=1,o.push({id:null==t?void 0:t.id,type:null==t?void 0:t.type,confidence:0,index:a+1,timeSpent:null==t?void 0:t.timeSpent,tqId:null==t?void 0:t.tqId}))}),{computedQuestionsData:{correct_questions:e,incorrect_questions:n,partially_correct_questions:i,unattempted_questions:r,attempted_questions:(null==t?void 0:t.length)-r,test_time_spent:Math.round(s),total_questions:null==t?void 0:t.length},skippedQuestions:o}}onTestSubmit(t,e,n){if(QuestionPlayerEventsConstants[this.lessonType]&&t&&e){const i=QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.QUIZ_END],r=this.computeCompletedQuestionsData(t);this.callQuestionSkipped(null==r?void 0:r.skippedQuestions);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),null==r?void 0:r.computedQuestionsData),e),{test_ID:this.lessonInfo.resourceId,duration_selected:this.lessonInfo.duration,difficulty_level:this.testDifficulty});this.module===GtmModuleNamesEnum.STUDY_PLAN&&n?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=s,this.studyPlanProgress=this.getStudyPlanProgress(n),this.fireSessionCompletedEvent()):(this.isSessionCompleted=!1,this.pushTag(s)),this.quizStarted=!1}}onVideoModalClosed(){this.isVideoPaused=!1}onAssetPlayerEvent(t,e,n,i){var r,s,o;if(AssetPlayerEventsConstants[this.lessonType]&&AssetPlayerEventsConstants[this.lessonType][t]){e=Math.round(e);const a=AssetPlayerEventsConstants[this.lessonType][t];if(t===AssetPlayerStateEnum.RESUME&&!this.isVideoPaused||(t===AssetPlayerStateEnum.PAUSE||t===AssetPlayerStateEnum.RESUME)&&e===this.videoAssetDuration)return;this.isVideoPaused=t===AssetPlayerStateEnum.PAUSE;const c=Object.assign(Object.assign(Object.assign(Object.assign({},a),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);n&&(this.videoAssetDuration=Math.round(null===(o=null===(s=null===(r=n.interactiveVideo)||void 0===r?void 0:r.video)||void 0===s?void 0:s.files[0])||void 0===o?void 0:o.duration),c.asset_duration=this.videoAssetDuration),c.sub_topic=this.getTqLable(i||this.previousTqId),t===AssetPlayerStateEnum.PULSE?(c.pulse=15,c.asset_type=this.lessonType===LessonTypesEnum.BIG_IDEA?LessonTypesEnum.BIG_IDEA:LessonTypesEnum.REVISE,delete c.revise_type):c.content_type=ContentTypesEnum.ASSET,t!==AssetPlayerStateEnum.PLAY&&t!==AssetPlayerStateEnum.REPLAY&&(c.video_cue_point=e,c.asset_watch_percent=`${Math.round(e/this.videoAssetDuration*100)}%`),this.pushTag(c),this.lessonType===LessonTypesEnum.REVISE&&(this.reviseInProgress=!0),t===AssetPlayerStateEnum.END&&(this.isVideoPaused=!1,this.previousAssetPercentage=0)}}onAssetProgrssPercent(t){if(t.percentage!=this.previousAssetPercentage){const e=this.lessonType===LessonTypesEnum.BIG_IDEA?LessonTypesEnum.BIG_IDEA:LessonTypesEnum.REVISE,n=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_ASSET_PROGRESS_PERCENT},this.lessonPlayerPageData),this.lessonInfoCopy),{sub_topic:this.getTqLable(this.previousTqId),asset_type:e,video_cue_point:t.cuePoint,asset_watch_percent:`${t.percentage}%`});this.pushTag(n),this.previousAssetPercentage=t.percentage}}onAssetHeartBeat(t){this.assetProgressData={video_cue_point:t,asset_watch_percent:`${Math.round(t/this.videoAssetDuration*100)}%`}}onBookEvent(t,e){var n,i,r,s;!t&&e&&(this.bookDataHolder={Subject:null===(n=e.subject)||void 0===n?void 0:n.nodeLabel,book_title:null===(i=e.book)||void 0===i?void 0:i.nodeLabel,book_ID:null===(r=e.book)||void 0===r?void 0:r.nodeId,openUrl:null===(s=this.routeHolder)||void 0===s?void 0:s.currentUrl});const o=this.getBookEventObj();if(!1!==o.event){const t=Object.assign(Object.assign(Object.assign({},o),this.bookDataHolder),PageDataConstants[this.bookDataHolder.openUrl]);this.pushTag(t)}}getBookEventObj(){const t=BookOpenClosedRoutesConstants[this.routesReplayHolder[2]];return t&&t[this.routesReplayHolder[3]]?t[this.routesReplayHolder[3]]:{event:!1}}setTestMetaData(t,e){this.testDifficulty=TestDifficultyLevelConstants[e]}onReviewAttempt(t){var e,n;if(QuestionPlayerEventsConstants[this.lessonType]){this.isReviewAttempted=!0;const i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.REVIEW_ATTEMPT]),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),this.computeReviewData(t)),{test_ID:null===(e=this.lessonInfo)||void 0===e?void 0:e.resourceId,duration_selected:null===(n=this.lessonInfo)||void 0===n?void 0:n.duration,difficulty_level:this.testDifficulty});this.pushTag(i)}}computeReviewData(t){let e=0,n=0,i=0,r=0,s=0,o=0,a=0;return t.map(t=>{var c;(null===(c=null==t?void 0:t.attempted)||void 0===c?void 0:c.length)>0?2===(null==t?void 0:t.status)?(a+=null==t?void 0:t.marks,e+=1):1===(null==t?void 0:t.status)?(a+=(null==t?void 0:t.marks)/2,i+=1):0===(null==t?void 0:t.status)&&(n+=1):r+=1,s+=null==t?void 0:t.timeSpent,o+=null==t?void 0:t.marks}),{correct_questions:e,incorrect_questions:n,partially_correct_questions:i,unattempted_questions:r,attempted_questions:t.length-r,test_time_spent:Math.round(s),total_questions:t.length,flagged_questions:0,marks_obtained:a,total_marks:o}}onFiltersApplied(t,e){var n;0===(t=t.map(t=>null==t?void 0:t.enum)).length&&t.push("Blank");const i=Object.assign({event:GtmEventsEnum.TRG_FILTER_APPLIED,filter_name:this.getListWithSeperator(t)},PageDataConstants[null===(n=this.routeHolder)||void 0===n?void 0:n.currentUrl]);e&&(i.sp_ID=this.studyPlanData.sp_ID,i.sp_status=this.studyPlanData.sp_status),this.pushTag(i)}onDigitalTestCreated(t,e){var n,i,r;const s=this.getChaptersAndTopicsForGtm(null===(n=t.data)||void 0===n?void 0:n.portion),o=Object.assign({event:TestTypesEventsConstants[t.type],Subject:t.subjectTitle,Lesson:null==s?void 0:s.chapters.toString(),Topic:null==s?void 0:s.topics.toString(),difficulty_level:TestDifficultyLevelConstants[null===(i=t.data)||void 0===i?void 0:i.difficulty],duration_selected:`${t.duration} mins`,test_ID:e.id},PageDataConstants[null===(r=this.routeHolder)||void 0===r?void 0:r.currentUrl]);this.pushTag(o)}onPrintTestCreated(t,e){var n,i,r;const s=this.getChaptersAndTopicsForGtm(null===(n=t.data)||void 0===n?void 0:n.portion),o=Object.assign({event:TestTypesEventsConstants[t.type],Subject:t.subjectTitle,Lesson:null==s?void 0:s.chapters.toString(),Topic:null==s?void 0:s.topics.toString(),difficulty_level:TestDifficultyLevelConstants[null===(i=t.data)||void 0===i?void 0:i.difficulty],duration_selected:`${t.duration} mins`,test_ID:e.id},PageDataConstants[null===(r=this.routeHolder)||void 0===r?void 0:r.currentUrl]);this.pushTag(o)}getChaptersAndTopicsForGtm(t){var e;let n=[],i=[];return null===(e=null==t?void 0:t.node)||void 0===e||e.map(t=>{i=[...i,...this.formatTopics(t)],n.push(null==t?void 0:t.label)}),{chapters:n,topics:i}}formatTopics(t){var e;return null===(e=null==t?void 0:t.node)||void 0===e?void 0:e.map(t=>null==t?void 0:t.label)}onSummaryOpened(t){var e,n,i,r;this.flushLessonControlData(),this.lessonType=LessonTypesEnum.SUMMARY,this.lessonBookId=null===(e=null==t?void 0:t.book)||void 0===e?void 0:e.id;const s=LessonPlayerModuleConstants[this.routeHolder.currentUrl];s?(this.module=s.module,this.lessonPlayerSiteSection=`${s.module} > ${this.lessonType}`):(this.lessonPlayerSiteSection=null,this.module=null),this.lessonInfo={Subject:null===(n=null==t?void 0:t.subjects)||void 0===n?void 0:n.label,Lesson:null===(i=null==t?void 0:t.chapter)||void 0===i?void 0:i.label,Topic:this.getTopicLabels(null==t?void 0:t.tp),resourceId:null==t?void 0:t.resourceId,duration:null==t?void 0:t.duration,sub_topic:this.storeAndGetSubTopicLabels(null==t?void 0:t.tqs)},this.module===GtmModuleNamesEnum.STUDY_PLAN&&(this.checkStudyPlanData(),this.lessonInfo=Object.assign(Object.assign({},this.lessonInfo),this.studyPlanData),this.lessonInfo.sp_task_type=this.lessonType,this.lessonsPreviousStats={goalsAchieved:null==t?void 0:t.lessonStarAchieved,lessonScore:null==t?void 0:t.lessonScore,lessonStatus:null==t?void 0:t.lessonStatus,timeSpent:null==t?void 0:t.lessonTimeSpent}),this.lessonPlayerPageData={site_section:this.lessonPlayerSiteSection,page_name:LessonPlayerOpenPageNamesConstants[this.lessonType]};const o=Object.assign(Object.assign({event:GtmEventsEnum.TRG_SUMMARY_OPEN},this.lessonInfo),this.lessonPlayerPageData);this.pushTag(o),this.lessonPlayerUrl=null===(r=this.routeHolder)||void 0===r?void 0:r.currentUrl,this.sessionStarted=!1,this.quizStarted=!1}onSummaryEnded(t){if(this.lessonType===LessonTypesEnum.SUMMARY){const e=Object.assign(Object.assign({event:GtmEventsEnum.TRG_SUMMARY_END},this.lessonInfo),this.lessonPlayerPageData);this.module===GtmModuleNamesEnum.STUDY_PLAN&&t?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=e,this.setBooksAndSessionsData(t),this.fireSessionCompletedEvent(),this.onSummaryClosed()):(this.isSessionCompleted=!1,this.pushTag(e),this.onSummaryClosed())}}onSummaryClosed(){const t=Object.assign(Object.assign({event:GtmEventsEnum.TRG_SUMMARY_CLOSE},this.lessonInfo),this.lessonPlayerPageData);this.pushTag(t)}setStudyPlanData(t,e){const n=this.formatSpData(t);this.studyPlanData=null==n?void 0:n.studyPlanData,this.studyPlanPortionData=null==n?void 0:n.studyPlanPortionData,localStorage.setItem("spData",JSON.stringify({studyPlanData:this.studyPlanData,studyPlanPortionData:this.studyPlanPortionData})),e&&this.onStudyPlanOpened()}formatSpData(t){var e,n,i,r,s,o;return{studyPlanData:{sp_ID:null==t?void 0:t.sp_ID,sp_daily_time_goal_dim:null==t?void 0:t.sp_daily_time_goal_dim,sp_days_goal_dim:null==t?void 0:t.sp_days_goal_dim,sp_daily_total_tasks:null==t?void 0:t.sp_daily_total_tasks,sp_total_bonus_stars:null==t?void 0:t.sp_total_bonus_stars,sp_status:null==t?void 0:t.sp_status,sp_extra_attention_subject:(null===(n=null===(e=null==t?void 0:t.portion)||void 0===e?void 0:e.extraAttentionSubjects)||void 0===n?void 0:n.length)>0?this.getListWithSeperator(null===(i=null==t?void 0:t.portion)||void 0===i?void 0:i.extraAttentionSubjects):"NA"},studyPlanPortionData:{Subject:this.getListWithSeperator(null===(r=null==t?void 0:t.portion)||void 0===r?void 0:r.subjects),Lesson:this.getListWithSeperator(null===(s=null==t?void 0:t.portion)||void 0===s?void 0:s.lessons),Topic:this.getListWithSeperator(null===(o=null==t?void 0:t.portion)||void 0===o?void 0:o.topics)}}}checkStudyPlanData(){if(!this.studyPlanData||!this.studyPlanPortionData){const t=JSON.parse(localStorage.getItem("spData"));this.studyPlanData=null==t?void 0:t.studyPlanData,this.studyPlanPortionData=null==t?void 0:t.studyPlanPortionData}}onStudyPlanOpened(){var t;const e=this.getStudyPlanOpenedEventObj();if(!1!==e.event){const n=Object.assign(Object.assign(Object.assign(Object.assign({},e),PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),this.studyPlanPortionData),this.studyPlanData);this.pushTag(n)}}getStudyPlanOpenedEventObj(){const t=StudyPlanOpenClosedRoutesConstants[this.routesReplayHolder[2]];return t&&t[this.routesReplayHolder[3]]?t[this.routesReplayHolder[3]]:{event:!1}}onReviewPlanOpenedFromMyLessonsPage(){var t;this.checkStudyPlanData(),this.studyPlanDataForProgressPage={studyPlanData:this.studyPlanData,studyPlanPortionData:this.studyPlanPortionData};const e=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_REVIEW_PLAN_OPEN},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),this.studyPlanPortionData),this.studyPlanData);delete e.sp_daily_total_tasks,delete e.sp_total_bonus_stars,this.pushTag(e)}onReviewPlanOpenedFromMyPlansPage(t){var e;const n=this.formatSpData(t);this.studyPlanDataForProgressPage={studyPlanData:null==n?void 0:n.studyPlanData,studyPlanPortionData:null==n?void 0:n.studyPlanPortionData};const i=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_REVIEW_PLAN_OPEN},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),null==n?void 0:n.studyPlanPortionData),null==n?void 0:n.studyPlanData);delete i.sp_daily_total_tasks,delete i.sp_total_bonus_stars,this.pushTag(i)}onUpdateStudyTimeClicked(){var t,e,n;const i=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_DAILY_TIME_UPDATE_CLICK},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),null===(e=this.studyPlanDataForProgressPage)||void 0===e?void 0:e.studyPlanPortionData),null===(n=this.studyPlanDataForProgressPage)||void 0===n?void 0:n.studyPlanData);this.pushTag(i)}onUpdatePortionClicked(){var t,e,n;const i=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_PORTION_UPDATE_CLICK},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),null===(e=this.studyPlanDataForProgressPage)||void 0===e?void 0:e.studyPlanPortionData),null===(n=this.studyPlanDataForProgressPage)||void 0===n?void 0:n.studyPlanData);this.pushTag(i)}onSubjectPortionOpened(){var t,e,n;const i=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_SUBJECT_PORTION_OPEN},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),null===(e=this.studyPlanDataForProgressPage)||void 0===e?void 0:e.studyPlanPortionData),null===(n=this.studyPlanDataForProgressPage)||void 0===n?void 0:n.studyPlanData);this.pushTag(i)}onFullScheduleOpened(){var t;this.checkStudyPlanData();const e=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_FULL_SCHEDULE_OPEN},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),this.studyPlanPortionData),this.studyPlanData);this.pushTag(e)}onManageCreateSpOpened(){var t;this.checkStudyPlanData();const e=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_MANAGE_CREATE_OPEN},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),this.studyPlanPortionData),this.studyPlanData);this.pushTag(e)}onPausePlanClicked(){var t;this.checkStudyPlanData();const e=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_PAUSE},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),this.studyPlanPortionData),this.studyPlanData);this.pushTag(e)}onMarkAsCompletedClicked(t){var e;this.checkStudyPlanData();const n=Object.assign(Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_TASK_MARK_COMPLETED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),this.studyPlanPortionData),this.studyPlanData),t);delete n.sp_total_bonus_stars,delete n.sp_daily_time_goal_dim,delete n.sp_days_goal_dim,delete n.sp_daily_total_tasks,delete n.sp_daily_total_tasks,delete n.sp_extra_attention_subject,this.pushTag(n)}onCreateStudyPlanEvents(t,e,n){var i;const r=Object.assign(Object.assign(Object.assign(Object.assign({event:CreateStudyPlanEventsConstants[t]},PageDataConstants[RouteEnums.STUDY_PLAN_CREATE_ACTIVATE_PLAN]),{Subject:this.getListWithSeperator(e.subjects),Lesson:this.getListWithSeperator(e.chapters),Topic:this.getListWithSeperator(e.topics),sub_topic:this.getListWithSeperator(e.subtopics)}),n),{sp_extra_attention_subject:(null===(i=null==e?void 0:e.extraAttentionSubjects)||void 0===i?void 0:i.length)>0?this.getListWithSeperator(null==e?void 0:e.extraAttentionSubjects):"NA"});"create"!==t?r.sp_status="ACTIVE":delete r.sp_status,this.pushTag(r)}onChildProfileCreated(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_STUDENT_PROFILE_CREATED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.pushTag(n)}onCancelSubscription(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_SUBSCRIPTION_CANCELLED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.pushTag(n)}onPaymentSuccess(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_PURCHASE_SUCCESS},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.pushTag(n)}onProductPlanList(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRODUCT_IMPRESSION},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.pushTag(n)}onProductPlanClick(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRODUCT_CLICK},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.pushTag(n)}onProductPlanViewDetails(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRODUCT_DETAIL_VIEW},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.pushTag(n)}onCheckout(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_CHECKOUT},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.pushTag(n)}onSignInSuccess(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_LOGIN_SUCCESS},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onSignInFailuer(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_LOGIN_FAILED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegistrationChildDetails(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_REGISTRATION_CHILD_DETAILS},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegistrationContactDetails(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_REGISTRATION_CONTACT_DETAILS},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegistrationSuccess(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_REGISTRATION_SUCCESS},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegistrationFailuer(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_REGISTRATION_FAILED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onCreatePassword(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_CREATE_PASSWORD},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onLogout(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_LOGOUT},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onSignUpClick(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_SIGN_UP_CLICKED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}on15DaysTrialInit(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_15_DAYS_TRIAL_CLICKED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegEnteringMobile(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_MOBILE_NUM_ENTERED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegMobileAlreadyExsits(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_MOBILE_ALREADY_EXIST},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegMobileOTPGeneration(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_OTP_GENERATED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegMobileOTPValidation(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_OTP_VALIDATED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegPasswordSuccess(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_PASSWORD_SUCCESS},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegBeginOnboarding(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_BEGIN_ONBOARDING},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegBoardSelected(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_BOARD_SELECTED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onRegGradeSelected(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_GRADE_SELECTED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}on15DaysTrialFinal(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_START_15_DAYS_TRIAL_CLICKED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}onOnboardingComplete(t){var e;const n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_ONBOARDING_COMPLETED},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),t);this.googleTagManagerService.pushTag(n)}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(angular_google_tag_manager__WEBPACK_IMPORTED_MODULE_42__.a))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(angular_google_tag_manager__WEBPACK_IMPORTED_MODULE_42__.a))},token:t,providedIn:"root"}),t})();var ErrorCatagory=function(t){return t.SERVER_ERROR="server error",t.CLIENT_ERROR="client error",t}({});let ErrorNotifierService=(()=>{class t{constructor(t){this.gtmService=t}getClientErrorMessage(t){return t.message?t.message:t.toString()}getServerErrorMessage(t){return navigator.onLine?t.message:"No Internet Connection"}logError(t,e){console.log("LoggingService: "+t)}showSuccess(t){}showError(t){}fireCustomEvent(t,e,n){this.gtmService.fireErrorEvent({event:"onAppErrorEvent",errorCatagory:t,errorAction:n,errorLabel:e,eventNonInteraction:!0})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(GtmService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),GlobalErrorHandlerService=(()=>{class t extends ErrorNotifierService{constructor(t){super(t),this.gtmService=t}handleError(t){let e,n="";t instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.d?(n=this.getServerErrorMessage(t),e=ErrorCatagory.SERVER_ERROR):(n=this.getClientErrorMessage(t),e=ErrorCatagory.CLIENT_ERROR),this.fireCustomEvent(e,n,"unknown source")}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(GtmService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),PbaService=(()=>{class t{constructor(){}devModeSetup(){try{window.AF_SDK.PLUGINS.PBA.turnOnDevMode(),window.AF_SDK.PLUGINS.PBA.isDevModeOn()}catch(t){console.log("PBA Setup Failed!")}}setCUID(t){try{AF("pba","setCustomerUserId",t)}catch(e){console.log("PBA 'Set CUID Event' Failed!")}}onLoginSuccess(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_login_success"})}catch(t){console.log("PBA 'Login Success Event' Failed!")}}onLoginFail(t){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:t}},eventName:"af_login_failed"})}catch(e){console.log("PBA 'Login Fail Event' Failed!")}}onLoginFailWith400(t){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:t}},eventName:"af_login_failed_4xx"})}catch(e){console.log("PBA 'Login Fail With 4xx Event' Failed!")}}initRegSteps(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_1_visits"})}catch(t){console.log("PBA 'Init Reg Step Event' Failed!")}}initGradeSelectionVisit(){setTimeout(()=>{try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_2_visits_gradeselection"})}catch(t){console.log("PBA 'Init Grade Visit Event' Failed!")}},1e3)}onGradeSelection(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_2a_gradeselection"})}catch(t){console.log("PBA 'Init Grade Visit Event' Failed!")}}onSuccessOTPGeneration(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_3a_otp_generated"})}catch(t){console.log("PBA 'OTP Generation Success Event' Failed!")}}initOTPVisit(){setTimeout(()=>{try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_4_visits_otp"})}catch(t){console.log("PBA 'OTP Visit Event' Failed!")}},1e3)}onOTPEnter(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_4_otp_entered"})}catch(t){console.log("PBA 'OTP Enter Event' Failed!")}}onOTPVerificationFail(t){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:t}},eventName:"af_reg_steps_4a_otp_failed"})}catch(e){console.log("PBA 'OTP Verification Fail Event' Failed!")}}onOTPVerificationSuccess(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_4b_otp_success"})}catch(t){console.log("PBA 'OTP Verification Success Event' Failed!")}}onOTPVerificationTimeOut(t){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:t}},eventName:"af_reg_steps_4b_otp_timeout"})}catch(e){console.log("PBA 'OTP Verification Timeout Event' Failed!")}}initPasswordSetVisit(){setTimeout(()=>{try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_5_visits_password_set"})}catch(t){console.log("PBA 'Password Set Visit Event' Failed!")}},1e3)}onPasswordSetSuccess(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_5a_password_set"})}catch(t){console.log("PBA 'Password Set Success Event' Failed!")}}onPasswordSetFail(t){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:t}},eventName:"af_reg_steps_5b_password_set_failed"})}catch(e){console.log("PBA 'Password Set Fail Event' Failed!")}}onRegistartionSuccess(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_register_success"})}catch(t){console.log("PBA 'Registartion Success Event' Failed!")}}onRegistartionFail(t){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:t}},eventName:"af_register_failed"})}catch(e){console.log("PBA 'Registartion Fail Event' Failed!")}}onTrialIntent(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_trial_1_intent"})}catch(t){console.log("PBA 'Trial Intent Event' Failed!")}}onTrialPurchaseSuccess(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_trial_3a_success"})}catch(t){console.log("PBA 'Trial Purchase Success Event' Failed!")}}onTrialPurchaseFail(t){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:t}},eventName:"af_trial_3b_failed"})}catch(e){console.log("PBA 'Trial Purchase Fail Event' Failed!")}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),RouterExtraService=(()=>{class t{constructor(t){this.router=t}setPreviousPageUrl(){this.router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.a)(t=>t instanceof _angular_router__WEBPACK_IMPORTED_MODULE_41__.c),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.a)()).subscribe(t=>{localStorage.setItem("prevUrl",t[0].urlAfterRedirects)})}disableBrowserBack(){history.pushState(null,null,window.location.href)}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_router__WEBPACK_IMPORTED_MODULE_41__.b))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),BookThemeDirective=(()=>{class t{constructor(t,e){this.el=t,this.coreService=e,this.bookId="default"}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.l),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(CoreService))},t.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb({type:t,selectors:[["","nxAfsBookTheme",""]],inputs:{bookId:"bookId"}}),t})(),CoreLibModule=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b,UtilityLibModule],UtilityLibModule]}),t})(),StudyPlanRingUtilityService=(()=>{class t{constructor(){this.lessonGroup=[]}getRingData(t,e){return this.lessonGroup=lodash__WEBPACK_IMPORTED_MODULE_6__(t).filter({lessonGroup:e}).value(),{goals:this.getGoals(this.lessonGroup),lessons:this.getLessons(this.lessonGroup),duration:this.getDuration(this.lessonGroup)}}getTotalLessons(t){return t.length||0}getLessonsCompleted(t){return lodash__WEBPACK_IMPORTED_MODULE_6__(t).filter(t=>t.lessonStatus>2).value().length||0}getPercentage(t,e){return 0===e&&t>0&&(e=t),Math.round(t/e*100)||0}getLessons(t){const e=this.getTotalLessons(t),n=this.getLessonsCompleted(t);return{total:e,completed:n,percentage:this.getPercentage(n,e)}}getTotalGoals(t){return lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce((t,e)=>e.lessonMaxStar+t,0)||0}getGoalsCompleted(t){return lodash__WEBPACK_IMPORTED_MODULE_6__(t).filter(t=>t.lessonStatus>2).reduce((t,e)=>e.lessonStarAchieved+t,0)||0}getGoals(t){const e=this.getTotalGoals(t),n=this.getGoalsCompleted(t);return{total:e,completed:n,percentage:this.getPercentage(n,e)}}getTotalDuration(t){return lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce((t,e)=>e.lessonDuration+t,0)||0}getDurationCompleted(t){return lodash__WEBPACK_IMPORTED_MODULE_6__(t).filter(t=>t.lessonStatus>1).reduce((t,e)=>e.lessonTimeSpent+t,0)||0}getDuration(t){const e=this.getTotalDuration(t),n=this.getDurationCompleted(t);return{total:e,completed:n,percentage:this.getPercentage(n,e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const getMessage=(t,e)=>{const n=lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce((t,e,n)=>({key:n,value:e}),{});let i=e[n.key];return n.value&&lodash__WEBPACK_IMPORTED_MODULE_6__(n.value).map((t,e)=>{const n=new RegExp(`({{)(${e})(}})`,"g");i=i.replace(n,t)}).value(),i},messages={dailyStudyTime:"Our goal is to studi {{time}} every day and finish by {{endDate}}",currentStudyWeek:"We are on week {{currentWeek}} of {{lastWeek}}",studyInstruction:"Complete {{pendingChapters}} chapters in {{remainingWeeks}} weeks {{endDate}}"},studyInstructionsMessages={remaining:"{{pendingChapters}} of {{totalChapters}} chapters are remaining.",allRemaining:"All {{totalChapters}} chapters are remaining.",oneRemaining:"1 chapter is remaining",allComplete:"All {{totalChapters}} chapters have been completed.",oneComplete:"1 chapter has been completed."},progressMessage={dailyStudyTime:"Our goal is to studi {{time}} daily",currentStudyWeek:"We are presently in Week {{currentWeek}} of {{lastWeek}}",studyInstruction:"complete {{pendingChapters}} chapters in remaining {{remainingWeeks}} weeks",planEndDate:"We plan to finish on {{endDate}}"},notFeasibleAlertMessage={notFeasible:"With {{pendingChapters}} chapters left in {{remainingWeeks}} weeks to go, and so we might need to studi more hours per day to complete our goal on time."},studyPlanMessageDictionary=t=>getMessage(t,messages),studyInstructionsMessageDictionary=t=>getMessage(t,studyInstructionsMessages),studyPlanMessageForProgressDictionary=t=>getMessage(t,progressMessage),studyPlanNotFeasibleAlertDictionary=t=>getMessage(t,notFeasibleAlertMessage);let StudyPlanUtilityService=(()=>{class t{constructor(t){this.timeUtilityService=t}setPausePlanData(t){this.pausePlanData=t}getPausePlanData(){return this.pausePlanData}setDeadlineMissedPlanData(t){this.deadlineMissedPlanData=t}getDeadlineMissedPlanData(){return this.deadlineMissedPlanData}setStudyPlanEntity(t){this.studyPlanEntity=t}getStudyPlanEntity(){return this.studyPlanEntity}generateStudyPlanEntityData(t,e){var n;let i=(null==t?void 0:t.pauseDate)?"Paused since":"Last accessed",r=(null==t?void 0:t.pauseDate)?null==t?void 0:t.pauseDate:null==t?void 0:t.lastUpdatedDate;e.books=null===(n=null==e?void 0:e.books)||void 0===n?void 0:n.filter(t=>t.totalLessons>0);const s=this.getBooksAggregatedValues(null==e?void 0:e.books);return{planId:null==t?void 0:t.planId,planLabel:null==t?void 0:t.planLabel,planStatus:null==t?void 0:t.planStatus,source:null==t?void 0:t.source,planGoalEndDate:null==t?void 0:t.planGoalEndDate,planCreateDate:null==t?void 0:t.planCreateDate,lastUpdatedDate:null==t?void 0:t.lastUpdatedDate,pauseDate:null==t?void 0:t.pauseDate,dailyStudyTime:null==t?void 0:t.dailyStudyTime,feasible:null==e?void 0:e.feasible,noOfLessons:s.totalNoOfLessons,noOfBooks:null==e?void 0:e.books.length,pendingChapters:s.totalChapters-s.totalChaptersCompleted,goalEndDateString:this.timeUtilityService.formatDate(new Date(null==t?void 0:t.planGoalEndDate),"d-MMM"),progressPercent:Math.round(s.totalCompletedLessons/s.totalNoOfLessons*100),status:i,statusDay:this.timeUtilityService.getFormattedDate(r).toLowerCase(),books:null==e?void 0:e.books,versionHistory:(null==e?void 0:e.versionHistory)?null==e?void 0:e.versionHistory:[],completedTracker:(null==e?void 0:e.completedTracker)?null==e?void 0:e.completedTracker:[],plannedTracker:(null==e?void 0:e.plannedTracker)?null==e?void 0:e.plannedTracker:[]}}getBooksAggregatedValues(t){let e=0,n=0,i=0,r=0;return t.map(t=>{e+=t.totalLessons,n+=t.lessonsCompleted,i+=t.totalChapters,r+=t.totalChaptersCompleted?t.totalChaptersCompleted:0}),{totalNoOfLessons:e,totalCompletedLessons:n,totalChapters:i,totalChaptersCompleted:r}}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(LibTimeUtilityService))},token:t,providedIn:"root"}),t})();var ResolutionTypes=function(t){return t.MOBILE="mobile",t.TABLET="tablet",t.DESKTOP="desktop",t}({});class BrowseBookConfigInterface{}var AssignmentStatus=function(t){return t[t.NOT_SEEN=0]="NOT_SEEN",t[t.SEEN=1]="SEEN",t[t.COMPLETED=2]="COMPLETED",t[t.DELETED_SOFT=3]="DELETED_SOFT",t}({}),AssignmentConfigType=function(t){return t.DEFAULT="default",t.DIGITAL="digital",t.ORAL="oral",t.MOCK="mock",t}({}),AssignmentTypes=function(t){return t[t.ORAL_TEST=5]="ORAL_TEST",t[t.MOCK_TEST=6]="MOCK_TEST",t[t.DIGITAL_TEST=4]="DIGITAL_TEST",t[t.TASK=7]="TASK",t}({}),TqState=function(t){return t[t.LOCK=0]="LOCK",t[t.UNLOCK=1]="UNLOCK",t[t.SUCCESS_COMPLETED=3]="SUCCESS_COMPLETED",t[t.FAILED_COMPLETED=2]="FAILED_COMPLETED",t}({}),ResourceState=function(t){return t[t.LOCK=0]="LOCK",t[t.UNLOCK=1]="UNLOCK",t[t.VISITED=2]="VISITED",t[t.COMPLETED=3]="COMPLETED",t}({}),SubResourceState=function(t){return t[t.LOCK=0]="LOCK",t[t.UNLOCK=1]="UNLOCK",t[t.VISITED=2]="VISITED",t[t.COMPLETED=3]="COMPLETED",t}({}),RevisePLayerResourceType=function(t){return t.VIDEO="video",t.QUIZ="quiz",t.SUMMARY="summary",t.STUDINOTE="studinote",t.WORKSHEET="worksheet",t.MOCKTEST="mockTest",t}({}),BluePrint=function(t){return t.coverage="coverage",t.KnowledgeState="Knowledge state",t}({}),Difficulties=function(t){return t.easy="easy",t.medium="medium",t.hard="hard",t}({}),Mode=function(t){return t.practise="practise",t.test="test",t}({}),LessonPlayerNumberType=function(t){return t[t.BIGIDEA=1]="BIGIDEA",t[t.REVISE=2]="REVISE",t[t.PRACTICE=3]="PRACTICE",t[t.DIGITAL_TEST=4]="DIGITAL_TEST",t[t.MOCK_TEST=6]="MOCK_TEST",t[t.ORAL_TEST=5]="ORAL_TEST",t[t.SUMMARY=8]="SUMMARY",t[t.STUDINOTES=9]="STUDINOTES",t[t.SPACEDPRACTICE1=10]="SPACEDPRACTICE1",t[t.SPACEDPRACTICE2=11]="SPACEDPRACTICE2",t[t.WORKSHEETS=12]="WORKSHEETS",t}({}),LessonPlayerStringType=function(t){return t.BIGIDEA="bigIdea",t.REVISE="revise",t.PRACTICE="practice",t.DIGITAL_TEST="test",t.MOCK_TEST="test",t.ORAL_TEST="test",t.SUMMARY="summary",t.STUDINOTES="studinotes",t.SPACEDPRACTICE1="practice",t.SPACEDPRACTICE2="practice",t.WORKSHEETS="resources",t}({}),LessonEndPointModules=function(t){return t.BROWSEBOOK="bookshelf",t.ASSIGNMENT="assignment",t.STUDYPLAN="study",t}({}),LessonEndPointNumberModules=function(t){return t[t.BROWSEBOOK=1]="BROWSEBOOK",t[t.ASSIGNMENT=2]="ASSIGNMENT",t[t.STUDYPLAN=3]="STUDYPLAN",t}({}),LessonStatus=function(t){return t[t.GENERAL=0]="GENERAL",t[t.NA=1]="NA",t[t.FAIL=2]="FAIL",t[t.SUCCESS=3]="SUCCESS",t[t.LOCKED=4]="LOCKED",t[t.MARK_COMPLETED=5]="MARK_COMPLETED",t}({});const GtmSiteSectionsEnum=Object.assign({HOME:"home"},GtmModuleNamesEnum);var LessonTypeNumber=function(t){return t[t.BIGIDEA=1]="BIGIDEA",t[t.REVISE=2]="REVISE",t[t.PRACTICE=3]="PRACTICE",t[t.DIGITAL_TEST=4]="DIGITAL_TEST",t[t.ORAL_TEST=5]="ORAL_TEST",t[t.MOCK_TEST=6]="MOCK_TEST",t[t.TASK=7]="TASK",t[t.CHAPTER_SUMMARY=8]="CHAPTER_SUMMARY",t[t.CHAPTER_NOTES=9]="CHAPTER_NOTES",t}({}),LessonTypeString=function(t){return t.BIGIDEA="bigIdea",t.REVISE="revise",t.PRACTICE="practice",t.DIGITAL_TEST="test",t.ORAL_TEST="test",t.MOCK_TEST="test",t.TASK="task",t.CHAPTER_SUMMARY="summary",t.CHAPTER_NOTES="chapterNotes",t}({}),StudyPlanStatus=function(t){return t.DRAFT="DRAFT",t.INACTIVE="IN_ACTIVE",t.ACTIVE="ACTIVE",t}({}),ZohoSubscriptionStatus=function(t){return t[t.ACTIVE=1]="ACTIVE",t[t.IN_ACTIVE=2]="IN_ACTIVE",t[t.TRIAL=3]="TRIAL",t[t.LIVE=4]="LIVE",t[t.CANCELLED=5]="CANCELLED",t[t.EXPIRED=6]="EXPIRED",t[t.TRIAL_EXPIRED=7]="TRIAL_EXPIRED",t}({}),ZohoPlanCode=function(t){return t.TRIAL="studictrial",t.ANNUAL_REF="studicannualref",t.ANNUAL_NON_REF="studicannualnonref",t.HALF="studichalf",t.QUARTER="studicquarterly",t.MONTHLY="studicmonthly",t}({}),ZohoPlanTitle=function(t){return t.studictrial="Trial",t.studicannualref="Annual (Refundable)",t.studicannualnonref="Annual",t.studichalf="Half Yearly",t.studicquarterly="Quarterly",t.studicmonthly="Monthly",t}({});let MessagesUtilityService=(()=>{class MessagesUtilityService{constructor(){}fetchCondition(t,e){for(const n of e)if(this.isConditionValid(n,t))return n}isConditionValid(cond,hmSpParam){const condStatement=this.computeMsg(cond.condition,hmSpParam);return eval(condStatement)}computeMsg(t,e){const n=new RegExp("{(.*?)(?=})","g");let i=null,r=new Array;for(;null!==(i=n.exec(t));)r.push(i);for(let s in r){let n=r[s][0].replace("{","");n=n.replace("{","");const i=e[n];t=t.replace("{{"+n+"}}","string"==typeof i?"'"+i+"'":i)}return t}}return MessagesUtilityService.\u0275fac=function(t){return new(t||MessagesUtilityService)},MessagesUtilityService.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new MessagesUtilityService},token:MessagesUtilityService,providedIn:"root"}),MessagesUtilityService})();const msg_rule=[{module:"daily_status",condition:"{{plan_completion}} >=100 && {{total_today}}==0",msgKeys:["sp_ds_planComp","sp_ts_emptyToday"]},{module:"daily_status",condition:"{{plan_completion}} >=100 && {{total_today}}>0",msgKeys:["sp_ds_planComp","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==100  && {{per_stars_today}}<100",msgKeys:["sp_ds_compToday","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==100  && {{per_stars_today}}==100",msgKeys:["sp_ds_compToday_goalComp","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==100  && {{totalUpcomingComp}}>0",msgKeys:["sp_ds_compToday_overflow","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==100 ",msgKeys:["sp_ds_compToday_goalComp","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==0 ",msgKeys:["sp_ts_pending","sp_ts_pending"]},{module:"daily_status",condition:"{{available_time_today}} <= 0",msgKeys:["sp_ds_avt_lt_eq_zero","sp_ts_pending"]},{module:"daily_status",condition:"{{available_time_today}}>{{required_time_today_2x}}",msgKeys:["sp_ds_avt_grt_twice_rqt","sp_ts_pending"]},{module:"daily_status",condition:"{{required_time_today}} <= {{available_time_today}} && {{available_time_today}} <= {{required_time_today_2x}}",msgKeys:["sp_ds_rqt_lt_avt_lt_twice_rqt","sp_ts_pending"]},{module:"daily_status",condition:"{{available_time_today}} < {{required_time_today}}",msgKeys:["sp_ds_avt_lt_rqt","sp_ts_pending"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}>0  && {{perc_completed_today}}<100 ",msgKeys:["sp_ds_todayPartial","sp_ts_pending"]},{module:"daily_status",condition:"{{total_today}}==0 && {{plan_completion}}<100 ",msgKeys:["sp_ds_todayEmpty","sp_ts_emptyToday"]},{module:"daily_status",condition:"",msgKeys:["sp_ds_default","sp_ts_pending"]}],msg_rule_upcoming=[{module:"upcoming_status",condition:"{{upcoming_length}} > 1",msgKeys:["sp_us_pending"]},{module:"upcoming_status",condition:"{{upcoming_length}} == 1",msgKeys:["sp_us_pending_singular"]},{module:"upcoming_status",condition:"{{upcoming_length}} == 0",msgKeys:["sp_us_planComp"]}],msg_rule_lockDashboard=[{module:"dashboard",condition:"{{type}} == 'bigidea'",msgKeys:["tooltip_bigIdea"]},{module:"dashboard",condition:"{{type}} == 'revise' && {{isFirstRevise}}",msgKeys:["tooltip_revise_seq1"]},{module:"dashboard",condition:"{{type}} == 'revise' && {{isFirstRevise}} == false",msgKeys:["tooltip_revise"]},{module:"dashboard",condition:"{{type}} == 'practice'",msgKeys:["tooltip_practice"]},{module:"dashboard",condition:"{{type}} == 'spacedPractice1'",msgKeys:["tooltip_practice1"]},{module:"dashboard",condition:"{{type}} == 'spacedPractice2'",msgKeys:["tooltip_practice2"]},{module:"dashboard",condition:"{{type}} == 'digital_test'",msgKeys:["tooltip_digitalTest"]},{module:"dashboard",condition:"{{type}} == 'summary'",msgKeys:["tooltip_summary"]},{module:"dashboard",condition:"{{type}} == 'notes'",msgKeys:["tooltip_notes"]}],dictObj={sp_feasiblity:"With {{pending_chp_cnt}} chapters remaining and just {{pending_wk_cnt}} weeks to go, we will need to studi more every day to complete our portion.",sp_ds_planComp:"We have completed the portion for this plan. Let\u2019s add a few more topics to continue studying from this plan.",sp_us_planComp:"We don\u2019t have any tasks coming up.",sp_ts_emptyToday:"We have no tasks planned for today.",sp_ts_compToday:"We have completed all tasks that were planned for today.",sp_ds_compToday:"We have completed all our tasks for the day with time to spare. Let\u2019s use this time to collect the stars you missed.",sp_ds_compToday_goalComp:"We have completed all our tasks for the day with time to spare. Let\u2019s complete a few upcoming tasks so that we can finish the portion earlier than planned.",sp_ds_compToday_overflow:"If we continue studying at this pace, we\u2019re sure to finish the portion earlier than planned.",sp_us_pending:"We have {{upcoming_length}} tasks coming up.",sp_us_pending_singular:"We have 1 task coming up.",sp_ts_pending:"We have {{today_pending}} tasks to complete today.",sp_ds_todayPartial:"We still have {{today_pending}} tasks remaining today. ",sp_ds_todayEmpty:"We have no tasks planned for today. You\u2019re welcome to continue studying from the Syllabus.",sp_ds_default:"Let's target to fill our studi rings well before time today as well.",sp_ds_avt_lt_eq_zero:"Let\u2019s try and complete the portion for today as soon as we can.",sp_ds_avt_grt_twice_rqt:"We still have {{today_pending}} tasks to complete by end of day today. ",sp_ds_rqt_lt_avt_lt_twice_rqt:"Let\u2019s hurry up! We still have {{today_pending}} tasks to complete by end of day today.",sp_ds_avt_lt_rqt:"Let\u2019s try and complete as much as we can in the next {{available_time_today}} minutes.",tooltip_bigIdea:"Complete all pending tasks from previous chapter to unlock this task.",tooltip_revise_seq1:"Complete all pending tasks from previous chapter to unlock this task.",tooltip_revise:"Complete all pending tasks from previous topic to unlock this task.",tooltip_practice:"Complete all pending tasks from previous topic to unlock this task.",tooltip_practice1:"Return on planned date to unlock this time-locked task.",tooltip_practice2:"Return on planned date to unlock this time-locked task.",tooltip_digitalTest:"Complete all pending tasks in this chapter to unlock this task.",tooltip_summary:"Complete all pending tasks in this chapter to unlock this task.",tooltip_notes:"Complete all pending tasks in this chapter to unlock this task."},msg_rule_plan_summary=[{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} == 1 && {{lessons_completed}} == 0 && {{isActivePlan}} == true",msgKeys:["sp_summary_daily_study_time","sp_summary_current_study_week","sp_summary_portion_not_started_single_chapter"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} == 1 && {{lessons_completed}} == 0 && {{isActivePlan}} == false",msgKeys:["sp_summary_daily_study_time_past","inactive_sp_summary_current_study_week","sp_summary_portion_not_started_single_chapter"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} == 1 && {{lessons_completed}} > 0 && {{isActivePlan}} == true",msgKeys:["sp_summary_daily_study_time","sp_summary_current_study_week","sp_summary_single_chapter_remaining"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} == 1 && {{lessons_completed}} > 0 && {{isActivePlan}} == false",msgKeys:["sp_summary_daily_study_time_past","inactive_sp_summary_current_study_week","sp_summary_single_chapter_remaining"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} > 1 && {{isActivePlan}} == true",msgKeys:["sp_summary_daily_study_time","sp_summary_current_study_week","sp_summary_all_chapters_remaining"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} > 1 && {{isActivePlan}} == false",msgKeys:["sp_summary_daily_study_time_past","inactive_sp_summary_current_study_week","sp_summary_all_chapters_remaining"]},{module:"plan_summary",condition:"{{chapters_completed}} == {{chapters_total}} && {{currentWeek}} > 1",msgKeys:["sp_summary_daily_study_time_past","sp_summary_current_study_week_past"]},{module:"plan_summary",condition:"{{chapters_completed}} == {{chapters_total}} && {{currentWeek}} == 1",msgKeys:["sp_summary_daily_study_time_past","sp_summary_current_study_week_past_singular"]},{module:"plan_summary",condition:"{{chapters_completed}} < {{chapters_total}} && {{isActivePlan}} == true",msgKeys:["sp_summary_daily_study_time","sp_summary_current_study_week","sp_summary_portion_in_progress"]},{module:"plan_summary",condition:"{{chapters_completed}} < {{chapters_total}} && {{isActivePlan}} == false",msgKeys:["sp_summary_daily_study_time_past","inactive_sp_summary_current_study_week","sp_summary_portion_in_progress"]}],summaryMessagesObj={sp_summary_daily_study_time:"Our goal is to studi {{dailyStudyTimeInFractions}} every day and finish by {{endDate}}.",sp_summary_daily_study_time_past:"Our goal was to studi {{dailyStudyTimeInFractions}} every day and finish by {{endDate}}.",sp_summary_current_study_week:"We are on week {{currentWeek}} of {{lastWeek}}.",sp_summary_current_study_week_past:"We completed this plan in {{currentWeek}} weeks.",sp_summary_current_study_week_past_singular:"We completed this plan in {{currentWeek}} week.",sp_summary_portion_not_started_single_chapter:"1 chapter is remaining.",sp_summary_single_chapter_remaining:"1 of 1 chapter is remaining.",sp_summary_all_chapters_remaining:"All {{chapters_pending}} chapters are remaining.",sp_summary_portion_complete:"Our portion is complete.",sp_summary_portion_in_progress:"{{chapters_pending}} of {{chapters_total}} chapters are remaining.",inactive_sp_summary_current_study_week:"We abandoned this plan on {{abandonedDateStr}}."};let MessagesService=(()=>{class t{constructor(t){this.messagesUtilityService=t}getMessages(t,e){const n=[],i=this.computeState(t,e),r=this.messagesUtilityService.fetchCondition(i,msg_rule),s=r?r.msgKeys:["sp_ds_default","sp_ts_pending"];for(let a=0;a<s.length;++a){const t=this.fetchMsg(s[a],dictObj);let e=this.messagesUtilityService.computeMsg(t,i);n.push(e)}const o=this.messagesUtilityService.fetchCondition(i,msg_rule_upcoming).msgKeys;for(let a=0;a<o.length;++a){const t=this.fetchMsg(o[a],dictObj);let e=this.messagesUtilityService.computeMsg(t,i);n.push(e)}return n}computeState(t,e){let n={};return n.plan_completion=this.computeSPCompletion(t),n.totalUpcomingComp=e.totalUpcomingComp,n.total_today=e.totalLessons,n.perc_completed_today=e.totalTodayLessonsCompleted/e.totalLessons*100,n.today_pending=e.totalLessons-e.totalTodayLessonsCompleted,n.per_stars_today=e.totalStarsAchieved/e.totalStarsTarget*100,n.available_time_today=e.dailyStudyTime-e.timeSpentToday,n.required_time_today=e.requiredTimeToday,n.required_time_today_2x=2*e.requiredTimeToday,n.upcoming_length=e.upcomingLength,n}computeSPCompletion(t){let e=0,n=0;t.map(t=>{e+=t.totalLessons,n+=t.lessonsCompleted});const i=n/e;return 100*(isNaN(i)?0:i)}fetchMsg(t,e){return e[t]}getPlanSummaryMessages(t){const e=[],n=this.computeStateForPlanSummary(t),i=this.messagesUtilityService.fetchCondition(n,msg_rule_plan_summary).msgKeys;for(let r=0;r<i.length;++r){const t=this.fetchMsg(i[r],summaryMessagesObj);let s=this.messagesUtilityService.computeMsg(t,n);e.push(s)}return{dailyStudyTime:e[0],currentStudyWeek:e[1],studyInstruction:e[2]}}getLockMessages(t){const e=this.messagesUtilityService.fetchCondition(t,msg_rule_lockDashboard);return dictObj[e.msgKeys[0]]}computeStateForPlanSummary(t){return{chapters_total:t.chapters_total,chapters_completed:t.chapters_completed,chapters_pending:t.chapters_pending,dailyStudyTimeInFractions:t.dailyStudyTimeInFractions,endDate:t.endDate,currentWeek:t.currentWeek,lastWeek:t.lastWeek,lessons_completed:t.lessons_completed,isActivePlan:t.isActivePlan,abandonedDateStr:t.abandonedDateStr}}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(MessagesUtilityService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(MessagesUtilityService))},token:t,providedIn:"root"}),t})();class PausableObservable extends rxjs__WEBPACK_IMPORTED_MODULE_16__.a{pause(){this.pauser.next(!0)}resume(){this.pauser.next(!1)}}function pausable(){return function(t){const e=PausableObservable.prototype,n=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(!1),i=n.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>e?rxjs__WEBPACK_IMPORTED_MODULE_17__.a:t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_28__.a)())),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_29__.a)());return Object.create(i,{pause:{value:e.pause},resume:{value:e.resume},pauser:{value:n}})}}var CurrentCardDateStateString=function(t){return t.PLAN_NOT_STARTED="plan not started",t.DID_NOT_STUDY="Did not studi",t.PORTION_COMPLETED="Portion completed",t.NO_LESSONS_SCHEDULED="No lessons scheduled",t}({}),CssClasses=function(t){return t.PLAN_DATE="plan-date",t.STARTED="started",t.TODAY="today",t}({});let ScheduleLessonUtilityService=(()=>{class t{constructor(t){this.timeUtilityService=t,this.dateStates={},this.today=new Date}getDateStates(t){return this.planState=this.getPlanState(t),this.computeHead(t[0].startDate),this.computeTail(t[t.length-1].goalEndDate),t.map((e,n)=>{const i=t[n+1];if(e.planCompletionDate){const t=e.planCompletionDate;i?1===this.timeUtilityService.compareTwoDays(new Date(Number(t)),new Date(Number(i.startDate)))||0===this.timeUtilityService.compareTwoDays(new Date(Number(t)),new Date(Number(i.startDate)))?(this.computePortionCompletedDate(t,e.goalEndDate),this.computeNoLessonsScheduled(e.goalEndDate,i.startDate)):this.computePortionCompletedDate(e.planCompletionDate,i.startDate):1===this.timeUtilityService.compareTwoDays(new Date(Number(e.planCompletionDate)),new Date(Number(e.goalEndDate)))?(this.computeNormalDates(e.startDate,t),this.computePortionCompletedDate(t,e.goalEndDate)):this.computeNormalDates(e.startDate,e.goalEndDate)}else this.computeNormalDates(e.startDate,i?i.startDate:e.goalEndDate)}),this.dateStates}getPlanState(t){return{startDate:this.timeUtilityService.setZeroHours(new Date(Number(t[0].startDate))),endDate:this.timeUtilityService.setZeroHours(new Date(Number(t[t.length-1].goalEndDate))),todayTime:this.timeUtilityService.setZeroHours(this.today),modifiedDates:t.map(t=>this.timeUtilityService.setZeroHours(new Date(Number(t.startDate))))}}computeNormalDates(t,e){const n=new Date(this.timeUtilityService.setZeroHours(new Date(Number(t)))),i=this.getDifference(t,e);let r=n;i>0&&[...Array(i)].map(()=>{const t=this.getCurrentDateCondition(this.timeUtilityService.setZeroHours(r)),e=this.getCurrentDateCssClasses(t,!0);this.dateStates[this.timeUtilityService.setZeroHours(r)]={label:1===this.timeUtilityService.compareTwoDays(r,this.today)?CurrentCardDateStateString.DID_NOT_STUDY:CurrentCardDateStateString.NO_LESSONS_SCHEDULED,currentDateCondition:t,cssClasses:e},r=this.timeUtilityService.incrementDate(new Date(r),1)})}computePortionCompletedDate(t,e){const n=new Date(this.timeUtilityService.setZeroHours(new Date(Number(t)))),i=this.getDifference(t,e);this.addDateState(n,i,CurrentCardDateStateString.PORTION_COMPLETED,!0)}computeNoLessonsScheduled(t,e){const n=new Date(this.timeUtilityService.setZeroHours(new Date(Number(t)))),i=this.getDifference(t,e);this.addDateState(n,i,CurrentCardDateStateString.NO_LESSONS_SCHEDULED,!0)}computeHead(t){const e=new Date(Number(t)),n=this.timeUtilityService.getStartWeekDate(e),i=this.timeUtilityService.differenceInTwoDays(e,n).days+1;this.addDateState(n,i,CurrentCardDateStateString.PLAN_NOT_STARTED,!1)}computeTail(t){const e=new Date(Number(t)),n=this.timeUtilityService.incrementDate(e,1),i=this.timeUtilityService.getStartWeekDate(n),r=this.timeUtilityService.incrementDate(i,6),s=this.timeUtilityService.differenceInTwoDays(r,n).days+1;this.addDateState(n,s,CurrentCardDateStateString.NO_LESSONS_SCHEDULED,!1)}getDifference(t,e){const n=new Date(this.timeUtilityService.setZeroHours(new Date(Number(t)))),i=new Date(this.timeUtilityService.setZeroHours(new Date(Number(e))));return this.timeUtilityService.differenceInTwoDays(i,n).days+1}getCurrentDateCondition(t){const e=this.planState.endDate===t,n=!0===e&&1===this.timeUtilityService.compareTwoDays(new Date(this.planState.endDate),this.today);return{isToday:this.planState.todayTime===t,isStart:this.planState.startDate===t,isEnd:!n&&e,isEndPast:n,isModified:this.planState.startDate!==t&&this.planState.endDate!==t&&this.planState.modifiedDates.includes(t)}}getCurrentDateCssClasses(t,e){let n=[];return t.isToday&&n.push(CssClasses.TODAY),t.isStart||t.isEnd?n.push(CssClasses.STARTED):e&&n.push(CssClasses.PLAN_DATE),n}addDateState(t,e,n,i){e>0&&[...Array(e)].map(()=>{const e=this.getCurrentDateCondition(this.timeUtilityService.setZeroHours(t)),r=this.getCurrentDateCssClasses(e,i);this.dateStates[this.timeUtilityService.setZeroHours(t)]={label:n,currentDateCondition:e,cssClasses:r},t=this.timeUtilityService.incrementDate(new Date(t),1)})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(LibTimeUtilityService))},token:t,providedIn:"root"}),t})(),LibAppConfigService=(()=>{class t{constructor(t){this.appConfig=t}getAppConfig(){return this.appConfig.default}getStudyPlanConfig(){return this.getAppConfig().studyPlan.config}getSubjectTheme(t){const e=this.getAppConfig().theme.subject;let n=e.default;return e.hasOwnProperty(t)&&(n=e[t]),n}getSubjectName(t){const e=this.getAppConfig().subjectName.subject;return e.hasOwnProperty(t)?e[t]:""}getCreateSPStepsConfig(){return this.appConfig.createSPSteps.config}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LIB_APP_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),ConfigLibUrlService=(()=>{class t{constructor(){}getBrowseBookProgressUrl(t){return`activity/1/res/v1/library/${t}/summary.json`}getBrowseBookUserActivityUrl(t){return`activity/1/res/v1/library/${t}/book.json`}updateLessonUrl(t){return`studyplan-apis/studyplan/updateSubjectScope/${t}`}getBrowseBookPutHighlightUrl(t){return`activity/1/api/v1/library/${t}/highlights`}LogDataUrl(t,e){return`ledger/1/api/v1/${e}/${t}/events`}getBrowseBookPutNodeActivitiesUrl(t,e){return"excluded"==e&&(e="exclude"),`activity/1/api/v1/library/${t}/${e}`}getBrowseBookNodeUrl(){return"activity/1/api/v1/library/books"}getBrowseBookResourceUrl(t){return`content/1/res/v1/library/${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const \u02750$1=appConfig;let ConfigLibModule=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({providers:[ConfigLibUrlService,LibAppConfigService,{provide:LIB_APP_CONFIG,useValue:\u02750$1}],imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b]]}),t})(),LedgerService=(()=>{class t{constructor(t,e){this.configLibUrlService=t,this.http=e,this.qStatus={0:2,1:3,2:1,3:0,4:4}}dataEventLog(t,e,n,i,r){console.log("DataLayerService -> dataEventLog -> eventData, questionData, questionNumber, tqId, lessonData",t,e,n,i,r);let s={sessionId:r.sessionId,lessonType:r.lessonType,lessonId:r.lessonId,section:1,event:2,questionId:e[0].questionID,tqId:i,version:1,type:e[0].data.type,info:{appVer:"web-"+t.info.appVer,event:t.info.event,attempted:this.changeAttemptedOption(t.info.attempted)},attemptCount:t.attemptCount,pending:t.pending,status:this.qStatus[t.parentsQstate],timeSpent:t.timeTaken,duration:e[0].duration,confidence:t.confidence.toFixed(1),score:t.obtainMarks};this.logQuestionData([s],r.moduleId,r.lessonPlayerModule).subscribe(t=>console.log(t))}logQuestionData(t,e,n){return this.http.post(this.configLibUrlService.LogDataUrl(e,n),t).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}changeAttemptedOption(t){return t.map(t=>{const e=Object.assign({},t);return e.key=t.qid,e.qState=this.qStatus[t.qState],delete e.qid,delete e.status,e})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ConfigLibUrlService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(ConfigLibUrlService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b))},token:t,providedIn:"root"}),t})();var UrlServiceEnum=function(t){return t.AUTH="auth-api",t.PARENT="parent",t.RULES="rules",t.BPM="bpm",t.ACTIVITY="activity",t.CONTENT="content",t.LICENCERULES="lic/rules",t.EXCHANGE="exchange",t.PROFILEPP="profile/pp",t.PROFILEPA="profile/pa",t.PROFILEPR="profile/pr",t.TUTOR="tutor",t}({}),UrlAuthEnum=function(t){return t.PRIVATE="1",t.PUBLIC="0",t}({}),UrlTypeEnum=function(t){return t.API="api",t.RES="res",t}({}),DeviceResolutionEnum=function(t){return t.MOBILE="mobile",t.TABLET="tablet",t.DESKTOP="desktop",t}({}),TqStateEnum=function(t){return t[t.LOCK=0]="LOCK",t[t.UNLOCK=1]="UNLOCK",t[t.SUCCESS_COMPLETED=3]="SUCCESS_COMPLETED",t[t.FAILED_COMPLETED=2]="FAILED_COMPLETED",t}({}),ResourceStateEnum=function(t){return t[t.LOCK=0]="LOCK",t[t.UNLOCK=1]="UNLOCK",t[t.VISITED=2]="VISITED",t[t.COMPLETED=3]="COMPLETED",t}({}),SubResourceStateEnum=function(t){return t[t.LOCK=0]="LOCK",t[t.UNLOCK=1]="UNLOCK",t[t.VISITED=2]="VISITED",t[t.COMPLETED=3]="COMPLETED",t}({}),LessonPlayerNumberTypeEnum=function(t){return t[t.BIGIDEA=1]="BIGIDEA",t[t.REVISE=2]="REVISE",t[t.PRACTICE=3]="PRACTICE",t[t.DIGITAL_TEST=4]="DIGITAL_TEST",t[t.ORAL_TEST=5]="ORAL_TEST",t[t.SUMMARY=8]="SUMMARY",t[t.STUDINOTES=9]="STUDINOTES",t[t.SPACEDPRACTICE1=10]="SPACEDPRACTICE1",t[t.SPACEDPRACTICE2=11]="SPACEDPRACTICE2",t[t.WORKSHEETS=12]="WORKSHEETS",t}({}),LessonPlayerStringTypeEnum=function(t){return t.BIGIDEA="bigIdea",t.REVISE="revise",t.PRACTICE="practice",t.DIGITAL_TEST="test",t.ORAL_TEST="test",t.SUMMARY="summary",t.STUDINOTES="studinotes",t.SPACEDPRACTICE1="practice",t.SPACEDPRACTICE2="practice",t.WORKSHEETS="resources",t}({}),LessonStatusEnum=function(t){return t[t.GENERAL=0]="GENERAL",t[t.NA=1]="NA",t[t.FAIL=2]="FAIL",t[t.SUCCESS=3]="SUCCESS",t[t.LOCKED=4]="LOCKED",t[t.MARK_COMPLETED=5]="MARK_COMPLETED",t}({}),RingUnitsEnum=function(t){return t.GOALS_RING="stars",t.LESSONS_RING="tasks",t.DURATION_RING="mins",t}({}),DateTypes=function(t){return t.TIME="time",t}({}),LoginTypeEnum=function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.PARENT=1]="PARENT",t}({});const authUrl={clientId:{url:"/sso/clientid",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API},token:{url:"/sso/token",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API},revoke:{url:"/sso/revoke/{{refreshToken}}",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},extendToken:{url:"/sso/extend",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},generateOTP:{url:"/register/user/pin",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},generateSignInWithOrForgotPasswordOTP:{url:"/sso/user/pin",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},validateOTP:{url:"/sso/register",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},userDetails:{url:"/sso/user/details",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},newChildProfile:{url:"/organize/child",serviceType:UrlServiceEnum.BPM,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},childCreationProgress:{url:"/organize/job/{{jobId}}",serviceType:UrlServiceEnum.BPM,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},generateChildPassword:{url:"/organize/child/login",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},validatePromoCode:{url:"/visitor/{{promoCode}}",serviceType:UrlServiceEnum.LICENCERULES,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API},childDetails:{url:"/organize/child",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},changePassword:{url:"/sso/user/password",serviceType:UrlServiceEnum.PROFILEPA,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT}},profileUrl={fetchProfileImg:{url:"/sso/account/profile/{{oId}}.png",serviceType:UrlServiceEnum.EXCHANGE,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES,loginType:LoginTypeEnum.PARENT},uploadProfileImg:{url:"/sso/account/profile/{{oId}}",serviceType:UrlServiceEnum.EXCHANGE,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},generateOrVerifyProfileOTP:{url:"/sso/user/pin",serviceType:UrlServiceEnum.PROFILEPA,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},isParentAuthenticated:{url:"/sso/user/pin",serviceType:UrlServiceEnum.PROFILEPR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getProfileBookList:{url:"/library/books",serviceType:UrlServiceEnum.ACTIVITY,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},updateChildGrade:{url:"/organize/child",serviceType:UrlServiceEnum.PROFILEPP,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT}},subscriptionUrl={planList:{url:"/organize/plans",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},planDetails:{url:"/organize/plans/{{planId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},trialSubscription:{url:"/organize/subscription/trial/{{productId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},placeOfSuppy:{url:"static_json/parent/states.json"},updateZohoCustomer:{url:"/organize/customers",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getZohoPaymentHostedPage:{url:"/organize/hostedpages/{{hostedPageId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},createZohoPaymentHostedPage:{url:"/organize/hostedpages/newsubscription",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},updateZohoPaymentHostedPage:{url:"/organize/hostedpages/updatesubscription",serviceType:UrlServiceEnum.BPM,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},advancePaymentLink:{url:"/organize/hostedpages/advance",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},paymentAbandoned:{url:"/organize/paymentTrack/{{hostedPageId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},billingHistory:{url:"/organize/invoice",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},downloadInvoice:{url:"/organize/invoice/{{invoiceId}}/download",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},downloadReceipt:{url:"/organize/receipt/{{paymentLinkId}}/download",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},validateCouponCode:{url:"/organize/hostedpages/coupons/{{couponCode}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},associatedCouponCode:{url:"/organize/child/{{oId}}/coupons",serviceType:UrlServiceEnum.BPM,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},validateAdvancePaymentForTrial:{url:"/organize/hostedpages/paymentlinks/{{paymentLinkId}}/status",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},subscriptionDetailsForAdvTrial:{url:"/organize/hostedpages/scheduledchanges/{{paymentLinkId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT}},browseBookUrl={getBrowseBookResources:{url:"/library/{{resourceId}}",serviceType:UrlServiceEnum.CONTENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES},getBrowseBookSyllabus:{url:"/library/books",serviceType:UrlServiceEnum.ACTIVITY,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getBrowseBookSummary:{url:"/library/{{bookId}}/summary.json",serviceType:UrlServiceEnum.ACTIVITY,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES},getBrowseBookSequence:{url:"/library/{{bookId}}/sequence.json",serviceType:UrlServiceEnum.CONTENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES},getBrowseBookBookDetails:{url:"/library/{{bookId}}/book.json",serviceType:UrlServiceEnum.ACTIVITY,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES}},commonUrl={getBoards:{url:"/visitor/boards",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getCurriculums:{url:"/visitor/curriculum",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getGrades:{url:"/visitor/curriculum/grades",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getBookList:{url:"/visitor/curriculum/books",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getChapterList:{url:"/library/{{bookId}}/resource/concept/{{bookId}}/demo.json",serviceType:UrlServiceEnum.CONTENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.RES},locations:{url:"/organize/locations",serviceType:UrlServiceEnum.RULES,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT}},tutorUrl={lessonMap:{url:"/study/lesson/map",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},lesson:{url:"/study/lesson",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},lessonPriority:{url:"/study/lesson/priority",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},feasibility:{url:"/study/feasibility",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},lessonActivate:{url:"/study/lesson/activate",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getPortionObject:{url:"/study/plan/{{planId}}/portion",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getExtraLessonsFlag:{url:"/study/plan/{{planId}}/extraLesson",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getStudyPlanDashboard:{url:"/study/plan/{{planId}}/dashBoard",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},resumeStudyPlan:{url:"/study/plan/{{planId}}/resume",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getStudyPlanObjects:{url:"/study/plans",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API}},url=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},commonUrl),authUrl),profileUrl),subscriptionUrl),browseBookUrl),tutorUrl);var AssignmentStatuEnum=function(t){return t[t.NOT_SEEN=0]="NOT_SEEN",t[t.SEEN=1]="SEEN",t[t.COMPLETED=2]="COMPLETED",t[t.DELETED_SOFT=3]="DELETED_SOFT",t}({}),AssignmentConfigTypeEnum=function(t){return t.DEFAULT="default",t.DIGITAL="digital",t.ORAL="oral",t}({}),AssignmentTypeEnum=function(t){return t[t.ORAL_TEST=5]="ORAL_TEST",t[t.MOCK_TEST=6]="MOCK_TEST",t[t.DIGITAL_TEST=4]="DIGITAL_TEST",t[t.TASK=7]="TASK",t}({}),RevisePLayerResourceTypeEnum=function(t){return t.VIDEO="video",t.QUIZ="quiz",t.SUMMARY="summary",t.STUDINOTE="studinote",t.WORKSHEET="worksheet",t}({}),BluePrintEnum=function(t){return t.coverage="coverage",t.KnowledgeState="Knowledge state",t}({}),LessonPlayerDifficultyEnum=function(t){return t.easy="easy",t.medium="medium",t.hard="hard",t}({}),LessonPlayerModeEnum=function(t){return t.practise="practise",t.test="test",t}({}),LessonEndPointModulesEnum=function(t){return t.BROWSEBOOK="bookshelf",t.ASSIGNMENT="assignment",t.STUDYPLAN="study",t}({}),LessonEndPointNumberModulesEnum=function(t){return t[t.BROWSEBOOK=1]="BROWSEBOOK",t[t.ASSIGNMENT=2]="ASSIGNMENT",t[t.STUDYPLAN=3]="STUDYPLAN",t}({}),StudyPlanStatusEnum=function(t){return t.DRAFT="DRAFT",t.INACTIVE="IN_ACTIVE",t.ACTIVE="ACTIVE",t}({}),RingTypesEnum=function(t){return t.GOALS_RING="goals",t.LESSONS_RING="lessons",t.DURATION_RING="duration",t.TICK="tick",t}({});const urlConfig={baseUrl:"",loginType:LoginTypeEnum.DEFAULT,apiVersion:"1"};let UrlService=(()=>{class t{getUrlRequest(t){const e=url[t.urlType];let n=e.url;(null==t?void 0:t.urlParams)&&lodash__WEBPACK_IMPORTED_MODULE_6__(t.urlParams).map((t,e)=>{n=n.replace(new RegExp(`{{${e}}}`,"g"),t)}).value(),n=n.replace(/{{([a-zA-Z1-9]+)}}/g,"undefined");let i="";return((null==t?void 0:t.loginType)&&(null==t?void 0:t.loginType)===LoginTypeEnum.PARENT||e.loginType===LoginTypeEnum.PARENT)&&(i=`${i}/radix`),(e.serviceType||(null==t?void 0:t.urlService))&&(i=(null==t?void 0:t.urlService)?`${i}/${t.urlService}`:`${i}/${e.serviceType}`),e.authType&&(i=`${i}/${e.authType}`),e.urlType&&(i=`${i}/${e.urlType}`),i&&(urlConfig.apiVersion||(null==t?void 0:t.urlVersion))&&(i=t.urlVersion?`${i}/${t.urlVersion}`:`${i}/${urlConfig.apiVersion}`),i&&(n=`${i}${n}`),urlConfig.baseUrl&&""!==i&&(n=`${urlConfig.baseUrl}${n}`),console.log("\ud83d\ude80 ~ file: url.service.ts ~ line 80 ~ UrlService ~ currentUrl",n),n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),CommonUtility=(()=>{class t{constructor(t){this.remoteConfigService=t,this.confidenceLabels=["low","medium","high","high"],this.notification=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a({})}get notificationAsObservable(){return this.notification.asObservable()}notificationAsBroadCast(t){this.notification.next(t)}convertJSONtoFORMDATA(t){let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.f;return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.forEach)(t,(t,n)=>{e=e.append(n,t)}),e}noAuthHeader(){let t=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return t=t.append("noAuth","true"),t}findAncestorElement(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}getConfidenceLabels(){return this.confidenceLabels}getConfRing(t,e,n,i){let r;return console.log(t,e,n,i,"accessedOn, completedInSchool, confidence, exclude"),n>0?(console.log("enter in if when confi is greater than 0 in common utility"),r="icon-"+this.getConfidence(n)):e?(console.log("enter in else if when completedInschool ===  common utility"),r="icon-completed-in-school"):(console.log("enter in else if when not studied ===  common utility"),r="icon-not-studied"),i&&(r+=" icon-exclude"),r}getConfidenceTooltipData(t){return{header:{low:"Low Confidence",medium:"Medium Confidence",high:"High Confidence","not-studied":"Not Assessed","completed-in-school":"Completed In School"}[t],text:{low:"We are not so confident on this topic just yet. We require a lot more practise.",medium:"We are confident that we will do moderately well on this topic. Some more practise will help.",high:"We are confident that we\u2019ll do exceptionally well on this topic.","not-studied":"We have not completed a single practise or test on this topic yet.","completed-in-school":"You have completed in school"}[t]}}getConfidence(t){if(0===t)return"not-studied";let e;this.remoteConfigService.confidenceRanges();const n=this.remoteConfigService.remoteConfig.getValue("confidence_range").asString();console.log(n,"getconfidenceRange in common utlity service"),e=JSON.parse(n);for(let i in e){const[n,r]=e[i];if(t>=n&&t<=r)return i}}shuffleQuestionList(t){if(t.length>1){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return[...t]}return t}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(RemoteConfigService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(RemoteConfigService))},token:t,providedIn:"root"}),t})(),CommonHttp=(()=>{class t{constructor(t,e,n){this.http=t,this.urlService=e,this.commonUtility=n}getBoards(){const t=this.urlService.getUrlRequest({urlType:"getBoards",urlVersion:"v1"}),e=this.commonUtility.noAuthHeader();return this.http.get(t,{headers:e})}getCurriculums(t){const e=this.urlService.getUrlRequest({urlType:"getCurriculums",urlVersion:"v1"}),n=this.commonUtility.noAuthHeader();return this.http.get(e,{headers:n,params:{start:"0",length:"20",filterTerms:[`boardId:${t}`]}}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(t=>t.data))}getGrades(t){const e=this.urlService.getUrlRequest({urlType:"getGrades",urlVersion:"v1"}),n=this.commonUtility.noAuthHeader();return this.http.get(e,{headers:n,params:{start:"0",length:"20",filterTerms:[`curriculumId:${t}`]}}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(t=>t.data))}getBookList(t,e){const n=this.urlService.getUrlRequest({urlType:"getBookList",urlVersion:"v1"}),i=this.commonUtility.noAuthHeader();return this.http.get(n,{headers:i,params:{filterTerms:[`curriculumId:${e}`,`gradeId:${t}`]}})}getChapterList(t){const e=this.urlService.getUrlRequest({urlType:"getChapterList",urlParams:{bookId:t}}),n=this.commonUtility.noAuthHeader();return this.http.get(e,{headers:n})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CommonUtility))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(CommonUtility))},token:t,providedIn:"root"}),t})(),AuthenticationService=(()=>{class t{constructor(){this._countryCode="91",this._loginType=parseInt(localStorage.getItem("loginType")),this._currentLoginType=parseInt(localStorage.getItem("currentLoginType")),this._signInAttemptsMap=[];const t=new ClientJS;this._fingerPrint=t.getFingerprint().toString()}get countryCode(){return this._countryCode}set countryCode(t){this._countryCode=t}get username(){return this._username}set username(t){this._username=t}get hashUsername(){return`XXXX XXX ${this.username.split("").slice(7).join("")}`}get loginType(){return this._loginType}set loginType(t){localStorage.setItem("loginType",t.toString()),this._loginType=t}get currentLoginType(){return this._currentLoginType}set currentLoginType(t){localStorage.setItem("currentLoginType",t.toString()),this._currentLoginType=t}set fingerPrint(t){this._fingerPrint=t}get fingerPrint(){return this._fingerPrint}get parentColumns(){return["firstName","lastName","status","oid","mobile","email","info1","gstnNo","pincode","state","maxchildren","pwdUpdateOn"]}get childColumns(){return["firstName","middleName","lastName","status","oid","info5","syllabus_reset"]}get mobileWithCountryCode(){return`${this.countryCode}${this.username}`}get forgotPasswordData(){return this._forgotPasswordData}set forgotPasswordData(t){this._forgotPasswordData=t}get activeSessionChildDetails(){return this._activeSessionChildDetails}set activeSessionChildDetails(t){this._activeSessionChildDetails=t}upsertSignInAttempt(t){const e=this._signInAttemptsMap.findIndex(e=>e.mobile===t);if(-1!==e){const t=this._signInAttemptsMap[e];t.attempt=t.attempt+1,this._signInAttemptsMap[e]=t}else this._signInAttemptsMap.push({mobile:t,attempt:1})}getSignInAttempt(t){return this._signInAttemptsMap.find(e=>e.mobile===t)}getCurrentUserToken(t){const e=localStorage.getItem("userTokens");if(e){const n=parseInt(t.toString()),i=JSON.parse(e);return lodash__WEBPACK_IMPORTED_MODULE_6__(i).find({type:n})||null}return null}onClientIdSuccess(t){var e=(new Date).getTime()+1e3*(parseInt(t.clientTimeout)-10);localStorage.setItem("refreshTokenTimeOut",e.toString())}onTokenSuccess(t){const e=localStorage.getItem("userTokens");let n=[];if(e){n=JSON.parse(e);const i=lodash__WEBPACK_IMPORTED_MODULE_6__(n).findIndex({type:t.type});i>-1?n[i]=t:n.push(t)}else n.push(t);localStorage.setItem("userTokens",JSON.stringify(n))}getFullName(t){const e=[];return t.user.firstName&&e.push(t.user.firstName),t.user.middleName&&e.push(t.user.middleName),t.user.lastName&&e.push(t.user.lastName),e.join(" ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();var UserProfileActionTypes=function(t){return t.GET_CHILD_USER_PROFILE="[UserProfile] GET_CHILD_USER_PROFILE",t.UPDATE_CHILD_USER_PROFILE="[UserProfile] UPDATE_CHILD_USER_PROFILE",t.UPSERT_CHILD_USER_PROFILE="[UserProfile] UPSERT_CHILD_USER_PROFILE",t.FAILURE_CHILD_USER_PROFILE="[UserProfile] FAILURE_CHILD_USER_PROFILE",t.DELETE_CHILD_USER_PROFILE="[UserProfile] DELETE_CHILD_USER_PROFILE",t.GET_PARENT_USER_PROFILE="[UserProfile] GET_PARENT_USER_PROFILE",t.UPDATE_PARENT_USER_PROFILE="[UserProfile] UPDATE_PARENT_USER_PROFILE",t.UPSERT_PARENT_USER_PROFILE="[UserProfile] UPSERT_PARENT_USER_PROFILE",t.GET_FAILURE_PARENT_USER_PROFILE="[UserProfile] GET_FAILURE_PARENT_USER_PROFILE",t.UPDATE_FAILURE_PARENT_USER_PROFILE="[UserProfile] UPDATE_FAILURE_PARENT_USER_PROFILE",t.DELETE_PARENT_USER_PROFILE="[UserProfile] DELETE_PARENT_USER_PROFILE",t.GET_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] GET_CHILD_LIST_SUBSCRIPTION_DETAILS",t.UPSERT_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] UPSERT_CHILD_LIST_SUBSCRIPTION_DETAILS",t.FAILURE_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] FAILURE_CHILD_LIST_SUBSCRIPTION_DETAILS",t.DELETE_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] DELETE_CHILD_LIST_SUBSCRIPTION_DETAILS",t.EMPTY_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] EMPTY_CHILD_LIST_SUBSCRIPTION_DETAILS",t.GET_PROFILE_IMAGE="[UserProfile] GET_PROFILE_IMAGE",t.UPLOAD_PROFILE_IMAGE="[UserProfile] UPLOAD_PROFILE_IMAGE",t.UPSERT_PROFILE_IMAGE_ON_GET="[UserProfile] UPSERT_PROFILE_IMAGE_ON_GET",t.UPSERT_PROFILE_IMAGE_ON_POST="[UserProfile] UPSERT_PROFILE_IMAGE_ON_POST",t.FAILURE_GET_PROFILE_IMAGE="[UserProfile] FAILURE_GET_PROFILE_IMAGE",t.FAILURE_POST_PROFILE_IMAGE="[UserProfile] FAILURE_POST_PROFILE_IMAGE",t.DELETE_PROFILE_IMAGE="[UserProfile] DELETE_PROFILE_IMAGE",t.UPSERT_FETCH_STATUS_PROFILE_IMAGE="[UserProfile] UPSERT_FETCH_STATUS_PROFILE_IMAGE",t.REMOVEALL_PROFILE_DETAILS="[UserProfile] REMOVEALL_PROFILE_DETAILS",t}({});const getChildUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_CHILD_USER_PROFILE),updateChildUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPDATE_CHILD_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertChildUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_CHILD_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteChildUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.DELETE_CHILD_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getChildUserProfileFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.FAILURE_CHILD_USER_PROFILE),getParentUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_PARENT_USER_PROFILE),updateParentUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPDATE_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertParentUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteParentUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.DELETE_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getParentUserProfileFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_FAILURE_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),updateParentUserProfileFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPDATE_FAILURE_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getChildListSubscriptionDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_CHILD_LIST_SUBSCRIPTION_DETAILS),upsertChildListSubscriptionDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_CHILD_LIST_SUBSCRIPTION_DETAILS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteChildListSubscriptionDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.DELETE_CHILD_LIST_SUBSCRIPTION_DETAILS),getChildListSubscriptionDetailsFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.FAILURE_CHILD_LIST_SUBSCRIPTION_DETAILS),emptyChildListSubscriptionDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.EMPTY_CHILD_LIST_SUBSCRIPTION_DETAILS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getProfileImage=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_PROFILE_IMAGE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),uploadProfileImage=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPLOAD_PROFILE_IMAGE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertProfileImageOnGet=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_PROFILE_IMAGE_ON_GET,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertProfileImageOnPost=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_PROFILE_IMAGE_ON_POST,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteProfileImage=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.DELETE_PROFILE_IMAGE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getProfileImageFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.FAILURE_GET_PROFILE_IMAGE),postProfileImageFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.FAILURE_POST_PROFILE_IMAGE),upsertFetchStatusProfileImage=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_FETCH_STATUS_PROFILE_IMAGE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),removeAllProfileDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.REMOVEALL_PROFILE_DETAILS),fromUserProfileActions={getChildUserProfile,updateChildUserProfile,upsertChildUserProfile,deleteChildUserProfile,getChildUserProfileFailed,getParentUserProfile,updateParentUserProfile,upsertParentUserProfile,deleteParentUserProfile,getParentUserProfileFailed,updateParentUserProfileFailed,getChildListSubscriptionDetails,upsertChildListSubscriptionDetails,deleteChildListSubscriptionDetails,getChildListSubscriptionDetailsFailed,emptyChildListSubscriptionDetails,getProfileImage,uploadProfileImage,upsertProfileImageOnGet,upsertProfileImageOnPost,deleteProfileImage,getProfileImageFailed,postProfileImageFailed,upsertFetchStatusProfileImage,removeAllProfileDetails},defaultChildListSubscriptionDetails={ids:[],entities:{}},childListSubscriptionDetailsAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),childListSubscriptionDetailsEntityState=childListSubscriptionDetailsAdapter.getInitialState(defaultChildListSubscriptionDetails),defaultProfileImage={ids:[],entities:{}},\u02750$2=t=>t.oId,profileImageAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$2}),profileImageEntityState=profileImageAdapter.getInitialState(defaultProfileImage),initialState={childListIsEmpty:!1,childListSubscriptionDetails:childListSubscriptionDetailsEntityState,parentUserProfile:null,childUserProfile:null,profileImage:profileImageEntityState},fromUserProfileState={defaultChildListSubscriptionDetails,childListSubscriptionDetailsAdapter,defaultProfileImage,profileImageAdapter,profileImageEntityState,initialState};var StoreStateEnum=function(t){return t.browseBook="browseBook",t.myLesson="myLesson",t.revisePlayer="revisePlayer",t.assignment="assignment",t.note="note",t.userProfile="userProfile",t}({});const getUserProfileState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.userProfile),\u02750$3=t=>t.childUserProfile,selectChildProfileDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,\u02750$3),\u02751=t=>t.parentUserProfile,selectParentProfileDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,\u02751),\u02752=t=>t.childListIsEmpty,selectEmptyChildListSubscriptionDetailsStatus=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,\u02752),{selectAll:selectChildListSubscriptionDetails}=fromUserProfileState.childListSubscriptionDetailsAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,t=>t.childListSubscriptionDetails)),\u02753=(t,e)=>{const n=e.filter(e=>e.id!==(null==t?void 0:t.userSettings.oid));return{active:e.find(e=>e.id===(null==t?void 0:t.userSettings.oid)),filtered:n}},selectFilteredChildList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectChildProfileDetails,selectChildListSubscriptionDetails,\u02753),{selectAll:selectProfileImage}=fromUserProfileState.profileImageAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,t=>t.profileImage)),\u02754=(t,e)=>{const n=t.find(t=>t.oId===e.oId);return{oId:e.oId,image:(null==n?void 0:n.image)||null,fetchStatus:(null==n?void 0:n.fetchStatus)||"INACTIVE"}},selectProfileImageById=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectProfileImage,\u02754),fromUserProfileSelectors={getUserProfileState,selectChildProfileDetails,selectParentProfileDetails,selectEmptyChildListSubscriptionDetailsStatus,selectChildListSubscriptionDetails,selectFilteredChildList,selectProfileImage,selectProfileImageById};let ProfileService=(()=>{class t{constructor(t,e,n){this.actionsSubject=t,this.libTimeUtilityService=e,this.store=n}get genericProfileImage(){return"assets/images/register/profile-img.png"}getPlanDescription(t){var e;const n=t.products[0],i=null==n?void 0:n.status;let r="";if(i){console.log(n,i);const s=new Date,o=(null===(e=t.products[0])||void 0===e?void 0:e.expiry)?new Date(t.products[0].expiry):s,a=this.libTimeUtilityService.differenceInTwoDays(o,s).days;t.products[0].remaningDays=a>0?a:0;const c=n.planName;i===ZohoSubscriptionStatus.TRIAL||i===ZohoSubscriptionStatus.LIVE||i===ZohoSubscriptionStatus.ACTIVE?r=0===a?"Our subscription ends today!":1===a?"Our subscription ends in 1 day!":`Our subscription ends in ${a} days!`:i===ZohoSubscriptionStatus.TRIAL_EXPIRED||i===ZohoSubscriptionStatus.EXPIRED||i===ZohoSubscriptionStatus.IN_ACTIVE?r=`Your ${c} plan has expired`:i===ZohoSubscriptionStatus.TRIAL||i===ZohoSubscriptionStatus.LIVE||i===ZohoSubscriptionStatus.ACTIVE?r=`Your ${c} plan is active`:i===ZohoSubscriptionStatus.CANCELLED&&(r=`Your ${c} plan was cancelled`)}else r="You have no active plan!";return r}getChildFullName(t){return this.getFullName(null==t?void 0:t.firstName,null==t?void 0:t.mName,null==t?void 0:t.lastName)}getParentFullName(t){return this.getFullName(null==t?void 0:t.user.firstName,null==t?void 0:t.user.middleName,null==t?void 0:t.user.lastName)}getFullName(t,e,n){const i=[];return t&&i.push("Not Set"===t?"":t),e&&i.push("Not Set"===e?"":e),n&&i.push("Not Set"===n?"":n),i.join(" ").trim()}parentProfileDetails(){return this.store.select(fromUserProfileSelectors.selectParentProfileDetails).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(t=>t?Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(t):(console.log("DISPATCHED ACTION TO FETCH PARENT PROFILE DETAILS!"),this.store.dispatch(fromUserProfileActions.getParentUserProfile()),this.actionsSubject.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.upsertParentUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(()=>this.store.select(fromUserProfileSelectors.selectParentProfileDetails))))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1))}childProfileDetails(){return this.store.select(fromUserProfileSelectors.selectChildProfileDetails).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.a)(t=>{t||(console.log("DISPATCHED ACTION TO FETCH CHILD PROFILE DETAILS!"),this.store.dispatch(fromUserProfileActions.getChildUserProfile()))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.a)(t=>!!t))}childListSubscriptionDetails(){return this.store.select(fromUserProfileSelectors.selectChildListSubscriptionDetails).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(t=>{if(0===t.length){const t=this.store.select(fromUserProfileSelectors.selectEmptyChildListSubscriptionDetailsStatus).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(t=>t?this.actionsSubject.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.emptyChildListSubscriptionDetails),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)([]))):this.actionsSubject.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.upsertChildListSubscriptionDetails),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(()=>this.store.select(fromUserProfileSelectors.selectChildListSubscriptionDetails)))));return console.log("DISPATCHED ACTION TO FETCH CHILD SUBSCRIPTION DETAILS!"),this.store.dispatch(fromUserProfileActions.getChildListSubscriptionDetails()),t}return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(t)}))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.a),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(LibTimeUtilityService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c))},token:t,providedIn:"root"}),t})(),AuthenticationHttp=(()=>{class t{constructor(t,e,n,i,r){this.http=t,this.urlService=e,this.commonUtility=n,this.authenticationService=i,this.profileService=r}clientId(t){const e=this.urlService.getUrlRequest({urlType:"clientId",loginType:t});let n=this.commonUtility.noAuthHeader();return n=n.append("x-log-error","fire-base-log"),this.http.get(e,{headers:n})}token(t,e,n){const i=this.urlService.getUrlRequest({urlType:"token",loginType:t});let r=this.commonUtility.noAuthHeader();return r=r.append("Content-Type","application/x-www-form-urlencoded"),r=r.append("x-log-error","fire-base-log"),n&&(r=r.append("fingerPrint",n)),this.http.post(i,this.commonUtility.convertJSONtoFORMDATA(e),{headers:r})}revokeToken(t,e){const n=this.urlService.getUrlRequest({urlType:"revoke",loginType:t,urlParams:{refreshToken:null==e?void 0:e.refresh_token}});return this.http.delete(n)}generateOTP(t){const e=this.urlService.getUrlRequest({urlType:"generateOTP"});let n=this.commonUtility.noAuthHeader();return n=n.append("x-log-error","fire-base-log"),this.http.get(e,{headers:n,params:{userName:t}})}generateSignInWithOrForgotPasswordOTP(t){const e=this.urlService.getUrlRequest({urlType:"generateSignInWithOrForgotPasswordOTP"});let n=this.commonUtility.noAuthHeader();return n=n.append("x-log-error","fire-base-log"),this.http.get(e,{headers:n,params:t})}validateOTP(t,e,n){const i=this.urlService.getUrlRequest({urlType:"validateOTP",urlVersion:"v2"});let r=this.commonUtility.noAuthHeader();return r=r.append("x-log-error","fire-base-log"),this.http.post(i,{userName:e,otp:t,email:n},{headers:r})}validatePromoCode(t){const e=this.urlService.getUrlRequest({urlType:"validatePromoCode",urlParams:{promoCode:t}});let n=this.commonUtility.noAuthHeader();return n=n.append("x-log-error","fire-base-log"),this.http.get(e,{headers:n})}getUserDetails(t,e){const n=this.urlService.getUrlRequest({urlType:"userDetails",loginType:t});let i=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return i=i.append("x-log-error","fire-base-log"),this.http.get(n,{headers:i,params:e}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(t=>{var e,n;t.user.fullName=this.authenticationService.getFullName(t);const i=null===(e=t)||void 0===e?void 0:e.userSettings.info5,r=null===(n=t)||void 0===n?void 0:n.userSettings.syllabus_reset;return i&&(t.userSettings.info5=JSON.parse(i)),r&&(t.userSettings.syllabus_reset=parseInt(r)),t}))}updateUserDetails(t,e,n){let i=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;i=i.append("x-log-error","fire-base-log");const r=this.urlService.getUrlRequest({urlType:"userDetails",urlService:n,loginType:t});return this.http.put(r,e,{headers:i})}createNewChildProfile(t){let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;e=e.append("x-log-error","fire-base-log");const n=this.urlService.getUrlRequest({urlType:"newChildProfile",urlVersion:"v1"});return this.http.post(n,t,{headers:e})}getChildCreationProgress(t,e){let n=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;n=n.append("x-log-error","fire-base-log");const i=this.urlService.getUrlRequest({urlType:"childCreationProgress",urlVersion:"v1",urlParams:{jobId:e}});return Object(rxjs__WEBPACK_IMPORTED_MODULE_18__.a)(0,t).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(()=>this.http.get(i,{headers:n})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_33__.a)())}generateChildPassword(t,e){const n=this.urlService.getUrlRequest({urlType:"generateChildPassword",urlVersion:"v2"});return this.http.get(n,{params:t,headers:{fingerPrint:e,"x-log-error":"fire-base-log"}})}lastLoggedInChildDetails(t){let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;e=e.append("x-log-error","fire-base-log");const n=this.urlService.getUrlRequest({urlType:"childDetails",urlVersion:"v2"});return this.http.get(n,{headers:{fingerPrint:t,"x-log-error":"fire-base-log"}})}getChildListSubscriptionDetails(){const t=this.urlService.getUrlRequest({urlType:"childDetails",urlVersion:"v1"});let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return e=e.append("x-log-error","fire-base-log"),this.http.get(t,{headers:e}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(t=>t.map(t=>(t.subscriptionMessage=this.profileService.getPlanDescription(t),t.fullName=this.profileService.getChildFullName(t),t))))}changePassword(t,e){const n=this.urlService.getUrlRequest({urlType:"changePassword"});let i=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return i=i.append("x-log-error","fire-base-log"),this.http.put(n,{op:"REPLACE",idParam:null,oldpassword:t,newpassword:e},{headers:i})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CommonUtility),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AuthenticationService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ProfileService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(CommonUtility),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(AuthenticationService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(ProfileService))},token:t,providedIn:"root"}),t})(),ProfileHttp=(()=>{class t{constructor(t,e){this.http=t,this.urlService=e}getProfileImage(t){const e=this.urlService.getUrlRequest({urlType:"fetchProfileImg",urlVersion:"v1",urlParams:{oId:t}});return this.http.get(e,{responseType:"blob"}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(t=>new rxjs__WEBPACK_IMPORTED_MODULE_16__.a(e=>{const n=new FileReader;n.onloadend=()=>{e.next(n.result),e.complete()},n.readAsDataURL(t)})))}uploadProfileImage(t,e){const n=new FormData,i=this.urlService.getUrlRequest({urlType:"uploadProfileImg",urlVersion:"v1",urlParams:{oId:t}});return n.append("profile",e),this.http.post(i,n)}generateOTP(){const t=this.urlService.getUrlRequest({urlType:"generateOrVerifyProfileOTP",urlVersion:"v1"});return this.http.get(t,{observe:"response"})}verifyOTP(t){const e=this.urlService.getUrlRequest({urlType:"generateOrVerifyProfileOTP",urlVersion:"v1"});return this.http.delete(e,{params:{pin:t}})}validateIsParentAuthenticated(){const t=this.urlService.getUrlRequest({urlType:"isParentAuthenticated",urlVersion:"v1"});return this.http.get(t)}getBookList(){const t=this.urlService.getUrlRequest({urlType:"getProfileBookList",urlVersion:"v1"});return this.http.get(t)}updateChildGrade(t,e){const n=this.urlService.getUrlRequest({urlType:"updateChildGrade",urlVersion:"v1"});return this.http.put(n,t,{params:{childOId:e}})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService))},token:t,providedIn:"root"}),t})(),SubscriptionsHttp=(()=>{class t{constructor(t,e){this.http=t,this.urlService=e}getPlanList(t){const e=this.urlService.getUrlRequest({urlType:"planList",urlVersion:"v2"});return this.http.get(e,{params:t})}getPlanDetails(t){const e=this.urlService.getUrlRequest({urlType:"planDetails",urlVersion:"v1",urlParams:{planId:t}});return this.http.get(e)}createTrialSubscription(t,e){const n=this.urlService.getUrlRequest({urlType:"trialSubscription",urlVersion:"v1",urlParams:{productId:t}});return this.http.post(n,e)}getPlaceOfSuppy(){const t=this.urlService.getUrlRequest({urlType:"placeOfSuppy"});return this.http.get(t)}updateZohoCustomer(t){const e=this.urlService.getUrlRequest({urlType:"updateZohoCustomer",urlVersion:"v1"});return this.http.put(e,t)}getZohoPaymentHostedPage(t){const e=this.urlService.getUrlRequest({urlType:"getZohoPaymentHostedPage",urlVersion:"v1",urlParams:{hostedPageId:t}});return this.http.get(e)}createZohoPaymentHostedPage(t){const e=this.urlService.getUrlRequest({urlType:"createZohoPaymentHostedPage",urlVersion:"v1"});return this.http.post(e,t)}updateZohoPaymentHostedPage(t){const e=this.urlService.getUrlRequest({urlType:"updateZohoPaymentHostedPage",urlVersion:"v1"});return this.http.post(e,t)}advancePaymentLink(t){const e=this.urlService.getUrlRequest({urlType:"advancePaymentLink",urlVersion:"v1"});return this.http.post(e,t)}paymentAbandoned(t){const e=this.urlService.getUrlRequest({urlType:"paymentAbandoned",urlVersion:"v1",urlParams:{hostedPageId:t}});return this.http.put(e,{paymentStatus:3})}billingHistory(t){const e=this.urlService.getUrlRequest({urlType:"billingHistory",urlVersion:"v1"});return this.http.get(e,{params:t})}downloadInvoice(t){const e=this.urlService.getUrlRequest({urlType:"downloadInvoice",urlVersion:"v1",urlParams:{invoiceId:t}});let n=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return n=n.set("Accept","application/pdf"),this.http.get(e,{headers:n,responseType:"blob",params:{accept:"pdf"}})}downloadReceipt(t){const e=this.urlService.getUrlRequest({urlType:"downloadReceipt",urlVersion:"v1",urlParams:{paymentLinkId:t}});let n=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return n=n.set("Accept","application/pdf"),this.http.get(e,{headers:n,responseType:"blob",params:{accept:"pdf"}})}validateCouponCode(t){const e=this.urlService.getUrlRequest({urlType:"validateCouponCode",urlVersion:"v1",urlParams:{couponCode:t}});return this.http.get(e)}getAssociatedCouponCode(t){const e=this.urlService.getUrlRequest({urlType:"associatedCouponCode",urlVersion:"v1",urlParams:{oId:t}});return this.http.get(e)}validateAdvancePaymentForTrial(t){const e=this.urlService.getUrlRequest({urlType:"validateAdvancePaymentForTrial",urlVersion:"v1",urlParams:{paymentLinkId:t}});return this.http.get(e)}subscriptionDetailsForAdvTrial(t){const e=this.urlService.getUrlRequest({urlType:"subscriptionDetailsForAdvTrial",urlVersion:"v1",urlParams:{paymentLinkId:t}});return this.http.get(e)}verifyPincode(t){const e={filterTerms:`pincode:${t}`},n=this.urlService.getUrlRequest({urlType:"locations",urlVersion:"v1"});return this.http.get(n,{params:e})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService))},token:t,providedIn:"root"}),t})(),BrowseBookHttp=(()=>{class t{constructor(t,e){this.http=t,this.urlService=e}getResources(t){console.log("\ud83d\ude80 ~ file: browse-book.http.ts ~ line 18 ~ BrowseBookHttp ~ getResources ~ resourceId",t);const e=this.urlService.getUrlRequest({urlType:"getBrowseBookResources",urlVersion:"v1",urlParams:{resourceId:t}});return this.http.get(e)}getSyllabus(){const t=this.urlService.getUrlRequest({urlType:"getBrowseBookSyllabus",urlVersion:"v1"});return this.http.get(t)}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService))},token:t,providedIn:"root"}),t})(),TceBgFooterLogoComponent=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb({type:t,selectors:[["nx-afs-tce-bg-footer-logo"]],decls:32,vars:0,consts:[["width","90px","height","88px","viewBox","0 0 90 88","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["x","-11.4%","y","-11.4%","width","122.9%","height","122.9%","filterUnits","objectBoundingBox","id","filter-1"],["dx","0","dy","2","in","SourceAlpha","result","shadowOffsetOuter1"],["stdDeviation","2","in","shadowOffsetOuter1","result","shadowBlurOuter1"],["values","0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0","type","matrix","in","shadowBlurOuter1","result","shadowMatrixOuter1"],["in","shadowMatrixOuter1"],["in","SourceGraphic"],["id","","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","","transform","translate(-107.000000, -609.000000)","fill-rule","nonzero"],["id","Group","transform","translate(-16.000000, 0.000000)"],["id","Tata-Class-Edge-Logo","filter","url(#filter-1)","transform","translate(115.000000, 600.000000)"],["id","Group-2","transform","translate(8.000000, 9.000000)"],["id","Layer_1"],["id","Rectangle","fill","#000000","x","19.6257042","y","22.0753521","width","7.3584507","height","23.6661972"],["d","M16.1778169,51.2524648 C10.8602113,51.2524648 7.07007042,55.2739437 7.07007042,60.5566901 L7.07007042,60.6200704 C7.07007042,66.1309859 10.9901408,69.7943662 16.7926056,69.7943662 C20.6176056,69.7943662 23.1147887,68.2035211 24.8640845,65.9376761 L20.9091549,62.7908451 C19.7429577,63.9919014 18.6401408,64.6035211 17.3123239,64.6035211 C15.7214789,64.6035211 14.4919014,63.7954225 13.9721831,62.2394366 L25.3521127,62.2394366 C25.3869718,61.8528169 25.3869718,61.3996479 25.3869718,61.0098592 C25.3869718,55.6320423 22.4683099,51.2524648 16.1778169,51.2524648 Z M13.8771127,59.0007042 C14.1021127,57.381338 14.9799296,56.3450704 16.2126761,56.3450704 C17.5088028,56.3450704 18.5133803,57.3147887 18.675,59.0007042 L13.8771127,59.0007042 Z","id","Shape","fill","#1268B3"],["d","M39.9169014,47.4369718 L39.9169014,53.6830986 C38.7823944,52.421831 37.2897887,51.2524648 34.5992958,51.2524648 C30.4193662,51.2524648 27.0475352,54.9792254 27.0475352,60.5883803 L27.0475352,60.6549296 C27.0475352,66.0676056 30.3876761,69.7943662 34.6658451,69.7943662 C37.353169,69.7943662 38.7158451,68.4982394 39.9169014,67.2021127 L39.9169014,69.3728873 L47.2785211,69.3728873 L47.2785211,45.7383803 L47.2816901,45.7383803 L47.2816901,40.040493 L39.9169014,47.4369718 Z M40.0785211,60.5598592 C40.0785211,62.3408451 38.8140845,63.7383803 37.128169,63.7383803 C35.4422535,63.7383803 34.1778169,62.3408451 34.1778169,60.5598592 L34.1778169,60.4964789 C34.1778169,58.7123239 35.4422535,57.3147887 37.128169,57.3147887 C38.8140845,57.3147887 40.0785211,58.7408451 40.0785211,60.4964789 L40.0785211,60.5598592 Z","id","Shape","fill","#1268B3"],["d","M62.0049296,53.556338 C60.7088028,52.2285211 59.1876761,51.2524648 56.5890845,51.2524648 C52.5073944,51.2524648 49.1323944,54.5292254 49.1323944,59.4887324 L49.1323944,59.5521127 C49.1323944,64.4514085 52.4408451,67.6869718 57.0105634,67.6869718 C59.4728873,67.6869718 61.1271127,66.3908451 62.1316901,65.256338 L62.1316901,65.7728873 C62.1316901,68.2383803 60.6739437,69.6644366 57.9169014,69.6644366 C55.4862676,69.6644366 53.5088028,69.0116197 51.531338,67.9785211 L49.2591549,72.4183099 C52.1144366,73.8475352 55.1598592,74.6239437 59.0830986,74.6239437 C63.0348592,74.6239437 65.468662,73.6193662 67.056338,72.0285211 C68.6757042,70.4091549 69.3602113,68.171831 69.3602113,64.8982394 L69.3602113,51.6707746 L62.0017606,51.6707746 L62.0017606,53.556338 L62.0049296,53.556338 Z M62.1665493,59.5204225 C62.1665493,61.0732394 61.0320423,62.3059859 59.2161972,62.3059859 C57.4320423,62.3059859 56.2658451,61.1049296 56.2658451,59.5838028 L56.2658451,59.5204225 C56.2658451,57.9644366 57.4003521,56.7 59.2161972,56.7 C60.9971831,56.7 62.1665493,57.9295775 62.1665493,59.4570423 L62.1665493,59.5204225 Z","id","Shape","fill","#1268B3"],["d","M89.4612676,61.0130282 C89.4612676,55.6320423 86.5426056,51.2524648 80.2552817,51.2524648 C74.9376761,51.2524648 71.1443662,55.2739437 71.1443662,60.5566901 L71.1443662,60.6200704 C71.1443662,66.1309859 75.0676056,69.7943662 80.8669014,69.7943662 C84.6950704,69.7943662 87.1890845,68.2035211 88.9383803,65.9376761 L84.9834507,62.7908451 C83.8140845,63.9919014 82.7112676,64.6035211 81.3834507,64.6035211 C79.7957746,64.6035211 78.5630282,63.7954225 78.0433099,62.2394366 L89.4232394,62.2394366 C89.4612676,61.8559859 89.4612676,61.3996479 89.4612676,61.0130282 Z M77.9514085,59.0007042 C78.1795775,57.381338 79.0542254,56.3450704 80.2869718,56.3450704 C81.5830986,56.3450704 82.5876761,57.3147887 82.7492958,59.0007042 L77.9514085,59.0007042 Z","id","Shape","fill","#1268B3"],["d","M45.4341549,30.0517606 C43.878169,28.4957746 41.5426056,27.7510563 37.9457746,27.7510563 C34.865493,27.7510563 32.5299296,28.2676056 30.4890845,29.0471831 L31.7852113,33.9401408 C33.3411972,33.3253521 34.865493,32.9355634 36.681338,32.9355634 C38.9503521,32.9355634 39.9549296,33.8735915 39.9549296,35.4961268 L39.9549296,35.7876761 C39.1753521,35.4644366 37.2644366,35.1380282 35.771831,35.1380282 C31.6552817,35.1380282 29.028169,37.115493 29.028169,40.6489437 L29.028169,40.715493 C29.028169,44.2140845 31.4271127,46.1598592 34.8306338,46.1598592 C37.0362676,46.1598592 38.690493,45.2852113 39.9200704,43.9573944 L47.2785211,36.6052817 L47.2785211,35.6577465 C47.2785211,33.1003521 46.7588028,31.3795775 45.4341549,30.0517606 Z M40.0183099,39.1911972 C40.0183099,40.8771127 39.0454225,41.9165493 37.7492958,41.9165493 C36.8080986,41.9165493 36.0665493,41.2320423 36.0665493,40.1989437 L36.0665493,40.1323944 C36.0665493,39.0327465 36.8746479,38.1549296 38.3355634,38.1549296 C38.9503521,38.1549296 39.6,38.2848592 40.0183099,38.4496479 L40.0183099,39.1911972 Z","id","Shape","fill","#000000"],["d","M65.1992958,40.0024648 C65.1992958,36.3707746 62.5088028,35.1380282 58.0341549,34.0383803 C56.25,33.5852113 55.8602113,33.3570423 55.8602113,32.9989437 L55.8602113,32.9355634 C55.8602113,32.5774648 56.1834507,32.3841549 56.8964789,32.3841549 C58.3890845,32.3841549 60.6580986,32.9989437 62.5373239,34.0352113 L64.8728873,29.6588028 C62.7306338,28.3626761 59.846831,27.6179577 56.931338,27.6179577 C52.3267606,27.6179577 49.2147887,29.7887324 49.2147887,33.6802817 L49.2147887,33.743662 C49.2147887,37.4070423 51.971831,38.6049296 56.4433099,39.7077465 C58.2274648,40.1640845 58.5507042,40.3922535 58.5507042,40.7471831 L58.5507042,40.8073944 C58.5507042,41.2288732 58.1957746,41.396831 57.4795775,41.396831 C55.4704225,41.396831 53.0714789,40.7471831 50.9323944,39.4161972 L48.4352113,43.5992958 C50.9609155,45.2852113 54.0760563,46.1598592 57.5112676,46.1598592 C62.3091549,46.1598592 65.1961268,43.9225352 65.1961268,40.0658451 L65.1961268,40.0024648 L65.1992958,40.0024648 Z","id","Path","fill","#000000"],["d","M75.5017606,34.0383803 C73.7207746,33.5852113 73.3278169,33.3570423 73.3278169,32.9989437 L73.3278169,32.9355634 C73.3278169,32.5774648 73.6510563,32.3841549 74.3640845,32.3841549 C75.8566901,32.3841549 78.1257042,32.9989437 80.0049296,34.0352113 L82.340493,29.6588028 C80.1982394,28.3626761 77.3144366,27.6179577 74.3957746,27.6179577 C69.7943662,27.6179577 66.6792254,29.7887324 66.6792254,33.6802817 L66.6792254,33.743662 C66.6792254,37.4070423 69.4362676,38.6049296 73.9077465,39.7077465 C75.6919014,40.1640845 76.0151408,40.3922535 76.0151408,40.7471831 L76.0151408,40.8073944 C76.0151408,41.2288732 75.6602113,41.396831 74.9440141,41.396831 C72.9348592,41.396831 70.5359155,40.7471831 68.396831,39.4161972 L65.8996479,43.5992958 C68.4285211,45.2852113 71.543662,46.1598592 74.9788732,46.1598592 C79.7767606,46.1598592 82.6605662,43.9225352 82.6605662,40.0658451 L82.6605662,40.0024648 C82.6637324,36.3739437 79.9764085,35.1411972 75.5017606,34.0383803 Z","id","Path","fill","#000000"],["id","Rectangle","fill","#1268B3","x","0.282042254","y","80.3852113","width","89.1823944","height","1"],["d","M83.7316901,25.434507 L83.015493,25.434507 C83.0028169,25.3584507 82.9964789,25.2855634 82.9964789,25.2126761 C82.9964789,25.1397887 83.0028169,25.0605634 83.015493,24.971831 L84.9295775,24.971831 C84.9390845,25.0130282 84.9454225,25.0542254 84.9485915,25.0890845 C84.9517606,25.1239437 84.9549296,25.1651408 84.9549296,25.206338 C84.9549296,25.2443662 84.9517606,25.2823944 84.9485915,25.3204225 C84.9454225,25.3584507 84.9390845,25.3964789 84.9295775,25.434507 L84.2197183,25.434507 L84.2197183,27.5070423 C84.1721831,27.5165493 84.1309859,27.5228873 84.0929577,27.5260563 C84.0549296,27.5292254 84.0137324,27.5323944 83.9661972,27.5323944 C83.928169,27.5323944 83.8901408,27.5292254 83.8489437,27.5260563 C83.8077465,27.5228873 83.7697183,27.5165493 83.7316901,27.5070423 L83.7316901,25.434507 L83.7316901,25.434507 Z M85.3415493,24.971831 C85.3922535,24.968662 85.4397887,24.9623239 85.4809859,24.9591549 C85.5221831,24.9559859 85.5665493,24.9528169 85.6077465,24.9528169 C85.6457746,24.9528169 85.6869718,24.9559859 85.731338,24.9591549 C85.7757042,24.9623239 85.8232394,24.968662 85.8739437,24.971831 L86.5014085,26.3598592 L87.1225352,24.971831 C87.1700704,24.968662 87.2112676,24.9623239 87.2524648,24.9591549 C87.293662,24.9559859 87.3348592,24.9528169 87.3760563,24.9528169 C87.4172535,24.9528169 87.4616197,24.9559859 87.5059859,24.9591549 C87.5503521,24.9623239 87.5947183,24.968662 87.6422535,24.971831 L87.7690141,27.5070423 C87.7183099,27.5165493 87.6739437,27.5228873 87.6390845,27.5260563 C87.6042254,27.5292254 87.5630282,27.5323944 87.521831,27.5323944 C87.4869718,27.5323944 87.4521127,27.5323944 87.4109155,27.5292254 C87.3697183,27.5260563 87.3285211,27.5197183 87.2809859,27.5070423 L87.1859155,25.8908451 L86.6408451,27.0253521 C86.6059859,27.0348592 86.5774648,27.0380282 86.5521127,27.0411972 C86.5267606,27.0443662 86.4982394,27.0443662 86.4633803,27.0443662 C86.4221831,27.0443662 86.3588028,27.0380282 86.2795775,27.0253521 L85.7788732,25.9098592 L85.6964789,27.5070423 C85.6172535,27.5228873 85.5380282,27.5323944 85.4619718,27.5323944 C85.3827465,27.5323944 85.3003521,27.5228873 85.2147887,27.5070423 L85.3415493,24.971831 Z","id","Shape","fill","#000000"],["d","M9.97605634,40.1007042 C8.51514085,40.1007042 7.34894366,38.7728873 7.34894366,36.9253521 L7.34894366,36.8588028 C7.34894366,35.109507 8.51514085,33.75 10.0711268,33.75 C11.2690141,33.75 12.0485915,34.3964789 12.6633803,35.5309859 L17.9492958,32.5489437 C16.5866197,29.6651408 13.8327465,27.6528169 9.94119718,27.6528169 C4.17042254,27.6528169 0.278873239,31.9626761 0.278873239,36.9253521 L0.278873239,36.9919014 C0.278873239,41.9514085 4.20528169,46.1978873 9.58626761,46.1978873 C13.7978873,46.1978873 16.4915493,44.315493 18.0792254,41.3651408 L12.7299296,38.3197183 C12.0169014,39.4510563 11.2721831,40.1007042 9.97605634,40.1007042 Z","id","Path","fill","#000000"],["id","Group","transform","translate(1.267606, 0.000000)","fill","#1268B3"],["id","Path","points","0.234507042 4.93732394 4.61408451 4.93732394 4.61408451 16.190493 11.0440141 16.190493 11.0440141 4.93732394 15.4299296 4.93732394 15.4299296 0.259859155 0.234507042 0.259859155 0.234507042 4.93732394"],["id","Path","points","20.1010563 16.190493 23.175 6.83556338 26.8257042 16.190493 32.8151408 16.190493 26.5309859 0.259859155 19.9521127 0.259859155 14.1147887 16.190493 20.1010563 16.190493"],["id","Path","points","31.6426056 5.22570423 36.0316901 5.22570423 36.0316901 16.190493 42.4552817 16.190493 42.4552817 4.93732394 46.6954225 4.93732394 46.6954225 0.408802817 31.6426056 0.408802817 31.6426056 5.22570423"],["id","Path","points","51.3728873 16.190493 54.5830986 6.68661972 58.0943662 16.190493 64.2359155 16.190493 57.9485915 0.259859155 51.2271127 0.259859155 45.3802817 16.190493 51.3728873 16.190493"],["d","M20.8001408,86.5140845 L20.8001408,82.427007 L20.246831,82.427007 L20.246831,86.5140845 L20.8001408,86.5140845 Z M22.6400704,86.5140845 L22.6400704,84.3864085 C22.7503521,84.2628169 22.8706162,84.1648944 23.0008627,84.0926408 C23.1311092,84.0203873 23.271338,83.9842606 23.4215493,83.9842606 C23.6269014,83.9842606 23.7794894,84.0446303 23.8793134,84.1653697 C23.9791373,84.2861092 24.0290493,84.4558099 24.0290493,84.6744718 L24.0290493,84.6744718 L24.0290493,86.5140845 L24.5367254,86.5140845 L24.5367254,84.6744718 C24.5367254,84.5109507 24.5158099,84.3616901 24.4739789,84.2266901 C24.4321479,84.0916901 24.3708275,83.9761796 24.2900176,83.8801585 C24.2092077,83.7841373 24.1084331,83.7099824 23.9876937,83.6576937 C23.8669542,83.6054049 23.7276761,83.5792606 23.5698592,83.5792606 C23.3664085,83.5792606 23.1872007,83.6220423 23.0322359,83.7076056 C22.8772711,83.793169 22.7370423,83.9053521 22.6115493,84.0441549 L22.6115493,84.0441549 L22.5716197,83.7304225 C22.5526056,83.6600704 22.5069718,83.6248944 22.4347183,83.6248944 L22.4347183,83.6248944 L22.1323944,83.6248944 L22.1323944,86.5140845 L22.6400704,86.5140845 Z M26.3452817,86.5597183 C26.5221127,86.5597183 26.6780282,86.5359507 26.8130282,86.4884155 C26.9480282,86.4408803 27.0621127,86.375757 27.1552817,86.2930458 C27.2484507,86.2103345 27.3188028,86.112412 27.366338,85.9992782 C27.4138732,85.8861444 27.4376408,85.7630282 27.4376408,85.6299296 C27.4376408,85.5139437 27.41625,85.4145951 27.3734683,85.3318838 C27.3306866,85.2491725 27.2741197,85.1792958 27.2037676,85.1222535 C27.1334155,85.0652113 27.0535563,85.0176761 26.9641901,84.9796479 C26.8748239,84.9416197 26.783081,84.906919 26.6889613,84.8755458 C26.5948415,84.8441725 26.5030986,84.8147007 26.4137324,84.7871303 C26.3243662,84.7595599 26.244507,84.7277113 26.1741549,84.6915845 C26.1038028,84.6554577 26.0472359,84.6126761 26.0044542,84.5632394 C25.9616725,84.5138028 25.9402817,84.452007 25.9402817,84.3778521 C25.9402817,84.3189085 25.9531162,84.264243 25.9787852,84.2138556 C26.0044542,84.1634683 26.0415317,84.1192606 26.0900176,84.0812324 C26.1385035,84.0432042 26.1969718,84.013257 26.2654225,83.9913908 C26.3338732,83.9695246 26.4108803,83.9585915 26.4964437,83.9585915 C26.5953169,83.9585915 26.6808803,83.9695246 26.7531338,83.9913908 C26.8253873,84.013257 26.8876585,84.0370246 26.9399472,84.0626937 C26.9922359,84.0883627 27.0364437,84.1116549 27.0725704,84.1325704 C27.1086972,84.1534859 27.1410211,84.1639437 27.1695423,84.1639437 C27.2170775,84.1639437 27.2522535,84.1430282 27.2750704,84.1011972 L27.2750704,84.1011972 L27.3891549,83.9158099 C27.2788732,83.8112324 27.1481514,83.7289965 26.9969894,83.6691021 C26.8458275,83.6092077 26.6751761,83.5792606 26.4850352,83.5792606 C26.3215141,83.5792606 26.1760563,83.6020775 26.048662,83.6477113 C25.9212676,83.6933451 25.813838,83.7546655 25.7263732,83.8316725 C25.6389085,83.9086796 25.5723592,83.9980458 25.5267254,84.0997711 C25.4810915,84.2014965 25.4582746,84.3075 25.4582746,84.4177817 C25.4582746,84.5413732 25.4796655,84.6464261 25.5224472,84.7329401 C25.5652289,84.8194542 25.6217958,84.8921831 25.6921479,84.9511268 C25.7625,85.0100704 25.8428345,85.0590317 25.9331514,85.0980106 C26.0234683,85.1369894 26.1156866,85.1716901 26.2098063,85.2021127 C26.3039261,85.2325352 26.3961444,85.2615317 26.4864613,85.2891021 C26.5767782,85.3166725 26.6571127,85.3489965 26.7274648,85.3860739 C26.7978169,85.4231514 26.8543838,85.4678345 26.8971655,85.5201232 C26.9399472,85.572412 26.961338,85.6384859 26.961338,85.7183451 C26.961338,85.782993 26.9494542,85.843838 26.9256866,85.9008803 C26.901919,85.9579225 26.8653169,86.0083099 26.8158803,86.0520423 C26.7664437,86.0957746 26.7046479,86.1304754 26.630493,86.1561444 C26.556338,86.1818134 26.4698239,86.1946479 26.3709507,86.1946479 C26.2549648,86.1946479 26.1584683,86.181338 26.0814613,86.1547183 C26.0044542,86.1280986 25.9388556,86.0986268 25.8846655,86.0663028 C25.8304754,86.0339789 25.7843662,86.004507 25.746338,85.9778873 C25.7083099,85.9512676 25.6721831,85.9379577 25.6379577,85.9379577 C25.6037324,85.9379577 25.576162,85.9446127 25.5552465,85.9579225 C25.534331,85.9712324 25.5162676,85.9902465 25.5010563,86.0149648 L25.5010563,86.0149648 L25.3812676,86.2089085 C25.4953521,86.3115845 25.6341549,86.3957218 25.7976761,86.4613204 C25.9611972,86.526919 26.1437324,86.5597183 26.3452817,86.5597183 Z M28.9210563,87.4923592 L28.9210563,86.2146127 C29.0180282,86.322993 29.1297359,86.4066549 29.2561796,86.4655986 C29.3826232,86.5245423 29.5352113,86.5540141 29.7139437,86.5540141 C29.9078873,86.5540141 30.0823415,86.5155106 30.2373063,86.4385035 C30.3922711,86.3614965 30.522993,86.2559683 30.6294718,86.121919 C30.7359507,85.9878697 30.8177113,85.8291021 30.8747535,85.6456162 C30.9317958,85.4621303 30.9603169,85.2639085 30.9603169,85.0509507 C30.9603169,84.8113732 30.9346479,84.5993662 30.8833099,84.4149296 C30.8319718,84.230493 30.7587676,84.0760035 30.6636972,83.9514613 C30.5686268,83.826919 30.4535915,83.7327993 30.3185915,83.6691021 C30.1835915,83.6054049 30.0333803,83.5735563 29.8679577,83.5735563 C29.6607042,83.5735563 29.4776937,83.6191901 29.3189261,83.7104577 C29.1601585,83.8017254 29.0189789,83.9224648 28.8953873,84.0726761 L28.8953873,84.0726761 L28.8526056,83.7304225 C28.8335915,83.6600704 28.7879577,83.6248944 28.7157042,83.6248944 L28.7157042,83.6248944 L28.4133803,83.6248944 L28.4133803,87.4923592 L28.9210563,87.4923592 Z M29.5998592,86.1604225 C29.4629577,86.1604225 29.3388908,86.1347535 29.2276585,86.0834155 C29.1164261,86.0320775 29.0142254,85.943662 28.9210563,85.818169 L28.9210563,85.818169 L28.9210563,84.4206338 C29.0256338,84.281831 29.1401937,84.1744014 29.2647359,84.0983451 C29.3892782,84.0222887 29.5342606,83.9842606 29.6996831,83.9842606 C29.815669,83.9842606 29.9192958,84.0042254 30.0105634,84.0441549 C30.101831,84.0840845 30.178838,84.1473063 30.2415845,84.2338204 C30.304331,84.3203345 30.3523415,84.4310915 30.3856162,84.5660915 C30.4188908,84.7010915 30.4355282,84.8627113 30.4355282,85.0509507 C30.4355282,85.4065141 30.3632746,85.6803169 30.2187676,85.8723592 C30.0742606,86.0644014 29.8679577,86.1604225 29.5998592,86.1604225 Z M32.1927465,83.0772887 C32.2421831,83.0772887 32.2887676,83.0677817 32.3325,83.0487676 C32.3762324,83.0297535 32.4147359,83.0036092 32.4480106,82.9703345 C32.4812852,82.9370599 32.5079049,82.8990317 32.5278697,82.85625 C32.5478345,82.8134683 32.5578169,82.7673592 32.5578169,82.7179225 C32.5578169,82.6684859 32.5478345,82.6214261 32.5278697,82.576743 C32.5079049,82.5320599 32.4812852,82.493081 32.4480106,82.4598063 C32.4147359,82.4265317 32.3762324,82.4003873 32.3325,82.3813732 C32.2887676,82.3623592 32.2421831,82.3528521 32.1927465,82.3528521 C32.1433099,82.3528521 32.0972007,82.3623592 32.054419,82.3813732 C32.0116373,82.4003873 31.9736092,82.4265317 31.9403345,82.4598063 C31.9070599,82.493081 31.8809155,82.5320599 31.8619014,82.576743 C31.8428873,82.6214261 31.8333803,82.6684859 31.8333803,82.7179225 C31.8333803,82.7673592 31.8428873,82.8134683 31.8619014,82.85625 C31.8809155,82.8990317 31.9070599,82.9370599 31.9403345,82.9703345 C31.9736092,83.0036092 32.0116373,83.0297535 32.054419,83.0487676 C32.0972007,83.0677817 32.1433099,83.0772887 32.1927465,83.0772887 Z M32.4437324,86.5140845 L32.4437324,83.6248944 L31.9360563,83.6248944 L31.9360563,86.5140845 L32.4437324,86.5140845 Z M34.1638732,86.5140845 L34.1638732,84.6744718 C34.2437324,84.4786268 34.343081,84.3293662 34.461919,84.2266901 C34.580757,84.1240141 34.7285915,84.0726761 34.9054225,84.0726761 C35.0042958,84.0726761 35.0813028,84.0817077 35.1364437,84.0997711 C35.1915845,84.1178345 35.2324648,84.1268662 35.2590845,84.1268662 C35.3047183,84.1268662 35.3341901,84.1030986 35.3475,84.0555634 L35.3475,84.0555634 L35.4130986,83.6762324 C35.3579577,83.6439085 35.2980634,83.6187148 35.2334155,83.6006514 C35.1687676,83.582588 35.0965141,83.5735563 35.0166549,83.5735563 C34.8208099,83.5735563 34.6501585,83.6301232 34.5047007,83.743257 C34.359243,83.8563908 34.2370775,84.0137324 34.1382042,84.2152817 L34.1382042,84.2152817 L34.1039789,83.7646479 C34.0963732,83.7133099 34.0821127,83.6771831 34.0611972,83.6562676 C34.0402817,83.6353521 34.0022535,83.6248944 33.9471127,83.6248944 L33.9471127,83.6248944 L33.6561972,83.6248944 L33.6561972,86.5140845 L34.1638732,86.5140845 Z M37.4441197,86.5540141 C37.5486972,86.5540141 37.6542254,86.5449824 37.7607042,86.526919 C37.8671831,86.5088556 37.9703345,86.4817606 38.0701585,86.4456338 C38.1699824,86.409507 38.2636268,86.3633979 38.3510915,86.3073063 C38.4385563,86.2512148 38.513662,86.1851408 38.5764085,86.1090845 L38.5764085,86.1090845 L38.4338028,85.9236972 C38.4109859,85.8913732 38.378662,85.8752113 38.336831,85.8752113 C38.304507,85.8752113 38.2660035,85.8899472 38.2213204,85.919419 C38.1766373,85.9488908 38.1210211,85.9807394 38.0544718,86.0149648 C37.9879225,86.0491901 37.9085387,86.0810387 37.8163204,86.1105106 C37.7241021,86.1399824 37.6142958,86.1547183 37.4869014,86.1547183 C37.35,86.1547183 37.2264085,86.1323768 37.1161268,86.0876937 C37.0058451,86.0430106 36.9107746,85.9755106 36.8309155,85.8851937 C36.7510563,85.7948768 36.6883099,85.6822183 36.6426761,85.5472183 C36.5970423,85.4122183 36.5723239,85.2534507 36.5685211,85.0709155 L36.5685211,85.0709155 L38.4908451,85.0709155 C38.5383803,85.0709155 38.5707042,85.0576056 38.5878169,85.0309859 C38.6049296,85.0043662 38.6134859,84.9511268 38.6134859,84.8712676 C38.6134859,84.6659155 38.5835387,84.4829049 38.5236444,84.3222359 C38.46375,84.1615669 38.3805634,84.0265669 38.2740845,83.9172359 C38.1676056,83.8079049 38.041162,83.724243 37.8947535,83.66625 C37.7483451,83.608257 37.5886268,83.5792606 37.4155986,83.5792606 C37.2064437,83.5792606 37.0182042,83.6158627 36.8508803,83.6890669 C36.6835563,83.7622711 36.5419014,83.8630458 36.4259155,83.9913908 C36.3099296,84.1197359 36.2210387,84.2713732 36.159243,84.4463028 C36.0974472,84.6212324 36.0665493,84.8094718 36.0665493,85.0110211 C36.0665493,85.2601056 36.1007746,85.480669 36.1692254,85.6727113 C36.2376761,85.8647535 36.3332218,86.0258979 36.4558627,86.1561444 C36.5785035,86.2863908 36.7239613,86.3852641 36.8922359,86.4527641 C37.0605106,86.5202641 37.2444718,86.5540141 37.4441197,86.5540141 Z M38.1571479,84.754331 L36.5856338,84.754331 C36.6198592,84.5033451 36.7073239,84.3070246 36.8480282,84.1653697 C36.9887324,84.0237148 37.1817254,83.9528873 37.427007,83.9528873 C37.542993,83.9528873 37.6461444,83.9723768 37.7364613,84.0113556 C37.8267782,84.0503345 37.9033099,84.1054754 37.9660563,84.1767782 C38.0288028,84.248081 38.076338,84.3326937 38.108662,84.4306162 C38.1409859,84.5285387 38.1571479,84.6364437 38.1571479,84.754331 L38.1571479,84.754331 Z M40.4591197,86.5540141 C40.6644718,86.5540141 40.8465317,86.5088556 41.0052993,86.4185387 C41.1640669,86.3282218 41.3052465,86.2079577 41.428838,86.0577465 L41.428838,86.0577465 L41.4744718,86.4085563 C41.4934859,86.4789085 41.5391197,86.5140845 41.6113732,86.5140845 L41.6113732,86.5140845 L41.9136972,86.5140845 L41.9136972,82.3129225 L41.4060211,82.3129225 L41.4060211,83.9158099 C41.3071479,83.8074296 41.1949648,83.7232923 41.0694718,83.6633979 C40.9439789,83.6035035 40.7928169,83.5735563 40.6159859,83.5735563 C40.4201408,83.5735563 40.2452113,83.6120599 40.0911972,83.6890669 C39.9371831,83.7660739 39.8064613,83.8720775 39.6990317,84.0070775 C39.5916021,84.1420775 39.5093662,84.3013204 39.4523239,84.4848063 C39.3952817,84.6682923 39.3667606,84.8665141 39.3667606,85.0794718 C39.3667606,85.3190493 39.3924296,85.5310563 39.4437676,85.715493 C39.4951056,85.8999296 39.5683099,86.0539437 39.6633803,86.1775352 C39.7584507,86.3011268 39.8734859,86.3947711 40.0084859,86.4584683 C40.1434859,86.5221655 40.2936972,86.5540141 40.4591197,86.5540141 Z M40.6273944,86.1433099 C40.509507,86.1433099 40.4049296,86.1233451 40.313662,86.0834155 C40.2223944,86.0434859 40.1453873,85.9802641 40.0826408,85.89375 C40.0198944,85.8072359 39.9723592,85.6969542 39.9400352,85.5629049 C39.9077113,85.4288556 39.8915493,85.2677113 39.8915493,85.0794718 C39.8915493,84.7239085 39.9638028,84.4501056 40.1083099,84.2580634 C40.2528169,84.0660211 40.4600704,83.97 40.7300704,83.97 C40.8650704,83.97 40.9881866,83.9951937 41.099419,84.045581 C41.2106514,84.0959683 41.3128521,84.1839085 41.4060211,84.3094014 L41.4060211,84.3094014 L41.4060211,85.7069366 C41.3014437,85.8457394 41.1868838,85.953169 41.0623415,86.0292254 C40.9377993,86.1052817 40.7928169,86.1433099 40.6273944,86.1433099 Z M46.9486268,86.5597183 C47.1653873,86.5597183 47.3588556,86.5264437 47.5290317,86.4598944 C47.6992077,86.3933451 47.8427641,86.3020775 47.9597007,86.1860915 C48.0766373,86.0701056 48.1655282,85.9336796 48.2263732,85.7768134 C48.2872183,85.6199472 48.3176408,85.4521479 48.3176408,85.2734155 C48.3176408,85.1041901 48.2895951,84.9615845 48.2335035,84.8455986 C48.177412,84.7296127 48.103257,84.6316901 48.0110387,84.551831 C47.9188204,84.4719718 47.814243,84.4058979 47.6973063,84.3536092 C47.5803697,84.3013204 47.460581,84.2542606 47.3379401,84.2124296 C47.2152993,84.1705986 47.0955106,84.1301937 46.9785739,84.0912148 C46.8616373,84.0522359 46.7570599,84.0061268 46.6648415,83.9528873 C46.5726232,83.8996479 46.4984683,83.8354754 46.4423768,83.7603697 C46.3862852,83.6852641 46.3582394,83.590669 46.3582394,83.4765845 C46.3582394,83.3872183 46.3744014,83.3040317 46.4067254,83.2270246 C46.4390493,83.1500176 46.4870599,83.082993 46.550757,83.0259507 C46.6144542,82.9689085 46.693838,82.92375 46.7889085,82.8904754 C46.8839789,82.8572007 46.9933099,82.8405634 47.1169014,82.8405634 C47.2480986,82.8405634 47.3598063,82.8567254 47.4520246,82.8890493 C47.544243,82.9213732 47.6231514,82.9570246 47.68875,82.9960035 C47.7543486,83.0349824 47.8085387,83.0706338 47.8513204,83.1029577 C47.8941021,83.1352817 47.9316549,83.1514437 47.9639789,83.1514437 C47.9944014,83.1514437 48.0191197,83.1443134 48.0381338,83.1300528 C48.0571479,83.1157923 48.0752113,83.0944014 48.0923239,83.0658803 L48.0923239,83.0658803 L48.2263732,82.8034859 C48.085669,82.6665845 47.9211972,82.562007 47.7329577,82.4897535 C47.5447183,82.4175 47.3365141,82.3813732 47.1083451,82.3813732 C46.9048944,82.3813732 46.7247359,82.4127465 46.5678697,82.475493 C46.4110035,82.5382394 46.279331,82.6219014 46.1728521,82.7264789 C46.0663732,82.8310563 45.985088,82.9508451 45.9289965,83.0858451 C45.8729049,83.2208451 45.8448592,83.3605986 45.8448592,83.5051056 C45.8448592,83.6857394 45.8729049,83.8373768 45.9289965,83.9600176 C45.985088,84.0826585 46.0587676,84.1848592 46.1500352,84.2666197 C46.2413028,84.3483803 46.3454049,84.4149296 46.4623415,84.4662676 C46.5792782,84.5176056 46.6990669,84.5627641 46.8217077,84.601743 C46.9443486,84.6407218 47.0641373,84.67875 47.1810739,84.7158275 C47.2980106,84.7529049 47.4021127,84.7980634 47.4933803,84.8513028 C47.5846479,84.9045423 47.6583275,84.9706162 47.714419,85.0495246 C47.7705106,85.1284331 47.7985563,85.2296831 47.7985563,85.3532746 C47.7985563,85.4654577 47.7795423,85.5671831 47.7415141,85.6584507 C47.7034859,85.7497183 47.6488204,85.8281514 47.5775176,85.89375 C47.5062148,85.9593486 47.4192254,86.0102113 47.3165493,86.046338 C47.2138732,86.0824648 47.0969366,86.1005282 46.9657394,86.1005282 C46.8079225,86.1005282 46.6743486,86.0791373 46.5650176,86.0363556 C46.4556866,85.9935739 46.3625176,85.9465141 46.2855106,85.8951761 C46.2085035,85.843838 46.144331,85.7967782 46.092993,85.7539965 C46.0416549,85.7112148 45.9960211,85.6898239 45.9560915,85.6898239 C45.9294718,85.6898239 45.9052289,85.6969542 45.8833627,85.7112148 C45.8614965,85.7254754 45.8429577,85.7430634 45.8277465,85.7639789 L45.8277465,85.7639789 L45.6680282,86.0263732 C45.8220423,86.1898944 46.0079049,86.3196655 46.2256162,86.4156866 C46.4433275,86.5117077 46.684331,86.5597183 46.9486268,86.5597183 Z M50.3286972,86.5540141 C50.5378521,86.5540141 50.7365493,86.5183627 50.9247887,86.4470599 C51.1130282,86.375757 51.2698944,86.2630986 51.3953873,86.1090845 L51.3953873,86.1090845 L51.2527817,85.9236972 C51.2318662,85.8913732 51.1995423,85.8752113 51.1558099,85.8752113 C51.1215845,85.8752113 51.0873592,85.8899472 51.0531338,85.919419 C51.0189085,85.9488908 50.9751761,85.9816901 50.9219366,86.0178169 C50.8686972,86.0539437 50.8021479,86.086743 50.7222887,86.1162148 C50.6424296,86.1456866 50.5407042,86.1604225 50.4171127,86.1604225 C50.2878169,86.1604225 50.1713556,86.1361796 50.0677289,86.0876937 C49.9641021,86.0392077 49.876162,85.9688556 49.8039085,85.8766373 C49.7316549,85.784419 49.6755634,85.6703345 49.6356338,85.5343838 C49.5957042,85.3984331 49.5757394,85.242993 49.5757394,85.0680634 C49.5757394,84.9007394 49.5942782,84.7495775 49.6313556,84.6145775 C49.6684331,84.4795775 49.7235739,84.3645423 49.7967782,84.2694718 C49.8699824,84.1744014 49.9607746,84.1016725 50.0691549,84.0512852 C50.1775352,84.0008979 50.3020775,83.9757042 50.4427817,83.9757042 C50.5492606,83.9757042 50.6391021,83.987588 50.7123063,84.0113556 C50.7855106,84.0351232 50.8477817,84.0612676 50.8991197,84.0897887 C50.9504577,84.1183099 50.9927641,84.1444542 51.0260387,84.1682218 C51.0593134,84.1919894 51.0902113,84.2038732 51.1187324,84.2038732 C51.1472535,84.2038732 51.1691197,84.198169 51.184331,84.1867606 C51.1995423,84.1753521 51.2147535,84.1591901 51.2299648,84.1382746 L51.2299648,84.1382746 L51.3640141,83.9557394 C51.2442254,83.8359507 51.1063732,83.743257 50.9504577,83.6776585 C50.7945423,83.6120599 50.6158099,83.5792606 50.4142606,83.5792606 C50.1955986,83.5792606 50.0016549,83.616338 49.8324296,83.690493 C49.6632042,83.7646479 49.5210739,83.8677993 49.4060387,83.9999472 C49.2910035,84.1320951 49.2035387,84.2894366 49.1436444,84.4719718 C49.08375,84.654507 49.0538028,84.8532042 49.0538028,85.0680634 C49.0538028,85.303838 49.0866021,85.5139437 49.1522007,85.6983803 C49.2177993,85.8828169 49.3076408,86.038257 49.4217254,86.1647007 C49.5358099,86.2911444 49.6703345,86.3876408 49.8252993,86.4541901 C49.9802641,86.5207394 50.1480634,86.5540141 50.3286972,86.5540141 Z M52.7476056,86.5140845 L52.7476056,84.3864085 C52.8578873,84.2628169 52.9781514,84.1648944 53.1083979,84.0926408 C53.2386444,84.0203873 53.3788732,83.9842606 53.5290845,83.9842606 C53.7344366,83.9842606 53.8870246,84.0446303 53.9868486,84.1653697 C54.0866725,84.2861092 54.1365845,84.4558099 54.1365845,84.6744718 L54.1365845,84.6744718 L54.1365845,86.5140845 L54.6442606,86.5140845 L54.6442606,84.6744718 C54.6442606,84.5109507 54.6233451,84.3616901 54.5815141,84.2266901 C54.5396831,84.0916901 54.4783627,83.9761796 54.3975528,83.8801585 C54.316743,83.7841373 54.2159683,83.7099824 54.0952289,83.6576937 C53.9744894,83.6054049 53.8352113,83.5792606 53.6773944,83.5792606 C53.4815493,83.5792606 53.3085211,83.6187148 53.1583099,83.6976232 C53.0080986,83.7765317 52.8711972,83.8815845 52.7476056,84.0127817 L52.7476056,84.0127817 L52.7476056,82.3129225 L52.2399296,82.3129225 L52.2399296,86.5140845 L52.7476056,86.5140845 Z M56.8977465,86.5540141 C57.1088028,86.5540141 57.299419,86.5193134 57.4695951,86.449912 C57.6397711,86.3805106 57.7842782,86.281162 57.9031162,86.1518662 C58.0219542,86.0225704 58.1132218,85.8666549 58.176919,85.6841197 C58.2406162,85.5015845 58.2724648,85.2962324 58.2724648,85.0680634 C58.2724648,84.8417958 58.2406162,84.636919 58.176919,84.4534331 C58.1132218,84.2699472 58.0219542,84.1135563 57.9031162,83.9842606 C57.7842782,83.8549648 57.6397711,83.7551408 57.4695951,83.6847887 C57.299419,83.6144366 57.1088028,83.5792606 56.8977465,83.5792606 C56.6866901,83.5792606 56.4960739,83.6144366 56.3258979,83.6847887 C56.1557218,83.7551408 56.0107394,83.8549648 55.8909507,83.9842606 C55.771162,84.1135563 55.6789437,84.2699472 55.6142958,84.4534331 C55.5496479,84.636919 55.5173239,84.8417958 55.5173239,85.0680634 C55.5173239,85.2962324 55.5496479,85.5015845 55.6142958,85.6841197 C55.6789437,85.8666549 55.771162,86.0225704 55.8909507,86.1518662 C56.0107394,86.281162 56.1557218,86.3805106 56.3258979,86.449912 C56.4960739,86.5193134 56.6866901,86.5540141 56.8977465,86.5540141 Z M56.8977465,86.1575704 C56.7532394,86.1575704 56.6277465,86.1328521 56.5212676,86.0834155 C56.4147887,86.0339789 56.3258979,85.9631514 56.2545951,85.8709331 C56.1832923,85.7787148 56.1300528,85.6651056 56.0948768,85.5301056 C56.0597007,85.3951056 56.0421127,85.2420423 56.0421127,85.0709155 C56.0421127,84.8997887 56.0597007,84.74625 56.0948768,84.6102993 C56.1300528,84.4743486 56.1832923,84.3597887 56.2545951,84.2666197 C56.3258979,84.1734507 56.4147887,84.1021479 56.5212676,84.0527113 C56.6277465,84.0032746 56.7532394,83.9785563 56.8977465,83.9785563 C57.1829577,83.9785563 57.3959155,84.0745775 57.5366197,84.2666197 C57.6773239,84.458662 57.7476761,84.7267606 57.7476761,85.0709155 C57.7476761,85.413169 57.6773239,85.6798415 57.5366197,85.8709331 C57.3959155,86.0620246 57.1829577,86.1575704 56.8977465,86.1575704 Z M60.3861972,86.5540141 C60.5972535,86.5540141 60.7878697,86.5193134 60.9580458,86.449912 C61.1282218,86.3805106 61.2727289,86.281162 61.3915669,86.1518662 C61.5104049,86.0225704 61.6016725,85.8666549 61.6653697,85.6841197 C61.7290669,85.5015845 61.7609155,85.2962324 61.7609155,85.0680634 C61.7609155,84.8417958 61.7290669,84.636919 61.6653697,84.4534331 C61.6016725,84.2699472 61.5104049,84.1135563 61.3915669,83.9842606 C61.2727289,83.8549648 61.1282218,83.7551408 60.9580458,83.6847887 C60.7878697,83.6144366 60.5972535,83.5792606 60.3861972,83.5792606 C60.1751408,83.5792606 59.9845246,83.6144366 59.8143486,83.6847887 C59.6441725,83.7551408 59.4991901,83.8549648 59.3794014,83.9842606 C59.2596127,84.1135563 59.1673944,84.2699472 59.1027465,84.4534331 C59.0380986,84.636919 59.0057746,84.8417958 59.0057746,85.0680634 C59.0057746,85.2962324 59.0380986,85.5015845 59.1027465,85.6841197 C59.1673944,85.8666549 59.2596127,86.0225704 59.3794014,86.1518662 C59.4991901,86.281162 59.6441725,86.3805106 59.8143486,86.449912 C59.9845246,86.5193134 60.1751408,86.5540141 60.3861972,86.5540141 Z M60.3861972,86.1575704 C60.2416901,86.1575704 60.1161972,86.1328521 60.0097183,86.0834155 C59.9032394,86.0339789 59.8143486,85.9631514 59.7430458,85.8709331 C59.671743,85.7787148 59.6185035,85.6651056 59.5833275,85.5301056 C59.5481514,85.3951056 59.5305634,85.2420423 59.5305634,85.0709155 C59.5305634,84.8997887 59.5481514,84.74625 59.5833275,84.6102993 C59.6185035,84.4743486 59.671743,84.3597887 59.7430458,84.2666197 C59.8143486,84.1734507 59.9032394,84.1021479 60.0097183,84.0527113 C60.1161972,84.0032746 60.2416901,83.9785563 60.3861972,83.9785563 C60.6714085,83.9785563 60.8843662,84.0745775 61.0250704,84.2666197 C61.1657746,84.458662 61.2361268,84.7267606 61.2361268,85.0709155 C61.2361268,85.413169 61.1657746,85.6798415 61.0250704,85.8709331 C60.8843662,86.0620246 60.6714085,86.1575704 60.3861972,86.1575704 Z M63.27,86.5140845 L63.27,82.3129225 L62.7623239,82.3129225 L62.7623239,86.5140845 L63.27,86.5140845 Z M64.7961972,83.0772887 C64.8456338,83.0772887 64.8922183,83.0677817 64.9359507,83.0487676 C64.9796831,83.0297535 65.0181866,83.0036092 65.0514613,82.9703345 C65.0847359,82.9370599 65.1113556,82.8990317 65.1313204,82.85625 C65.1512852,82.8134683 65.1612676,82.7673592 65.1612676,82.7179225 C65.1612676,82.6684859 65.1512852,82.6214261 65.1313204,82.576743 C65.1113556,82.5320599 65.0847359,82.493081 65.0514613,82.4598063 C65.0181866,82.4265317 64.9796831,82.4003873 64.9359507,82.3813732 C64.8922183,82.3623592 64.8456338,82.3528521 64.7961972,82.3528521 C64.7467606,82.3528521 64.7006514,82.3623592 64.6578697,82.3813732 C64.615088,82.4003873 64.5770599,82.4265317 64.5437852,82.4598063 C64.5105106,82.493081 64.4843662,82.5320599 64.4653521,82.576743 C64.446338,82.6214261 64.436831,82.6684859 64.436831,82.7179225 C64.436831,82.7673592 64.446338,82.8134683 64.4653521,82.85625 C64.4843662,82.8990317 64.5105106,82.9370599 64.5437852,82.9703345 C64.5770599,83.0036092 64.615088,83.0297535 64.6578697,83.0487676 C64.7006514,83.0677817 64.7467606,83.0772887 64.7961972,83.0772887 Z M65.0471831,86.5140845 L65.0471831,83.6248944 L64.539507,83.6248944 L64.539507,86.5140845 L65.0471831,86.5140845 Z M66.7673239,86.5140845 L66.7673239,84.3864085 C66.8776056,84.2628169 66.9978697,84.1648944 67.1281162,84.0926408 C67.2583627,84.0203873 67.3985915,83.9842606 67.5488028,83.9842606 C67.7541549,83.9842606 67.906743,84.0446303 68.0065669,84.1653697 C68.1063908,84.2861092 68.1563028,84.4558099 68.1563028,84.6744718 L68.1563028,84.6744718 L68.1563028,86.5140845 L68.6639789,86.5140845 L68.6639789,84.6744718 C68.6639789,84.5109507 68.6430634,84.3616901 68.6012324,84.2266901 C68.5594014,84.0916901 68.498081,83.9761796 68.4172711,83.8801585 C68.3364613,83.7841373 68.2356866,83.7099824 68.1149472,83.6576937 C67.9942077,83.6054049 67.8549296,83.5792606 67.6971127,83.5792606 C67.493662,83.5792606 67.3144542,83.6220423 67.1594894,83.7076056 C67.0045246,83.793169 66.8642958,83.9053521 66.7388028,84.0441549 L66.7388028,84.0441549 L66.6988732,83.7304225 C66.6798592,83.6600704 66.6342254,83.6248944 66.5619718,83.6248944 L66.5619718,83.6248944 L66.2596479,83.6248944 L66.2596479,86.5140845 L66.7673239,86.5140845 Z M70.7377817,87.5551056 C70.948838,87.5551056 71.1380282,87.5280106 71.3053521,87.4738204 C71.4726761,87.4196303 71.614331,87.3473768 71.7303169,87.2570599 C71.8463028,87.166743 71.9351937,87.0635915 71.9969894,86.9476056 C72.0587852,86.8316197 72.0896831,86.711831 72.0896831,86.5882394 C72.0896831,86.4551408 72.0621127,86.3467606 72.0069718,86.2630986 C71.951831,86.1794366 71.8786268,86.113838 71.7873592,86.0663028 C71.6960915,86.0187676 71.5924648,85.9845423 71.4764789,85.9636268 C71.360493,85.9427113 71.2421303,85.9279754 71.1213908,85.919419 C71.0006514,85.9108627 70.8822887,85.9046831 70.7663028,85.9008803 C70.6503169,85.8970775 70.5466901,85.8875704 70.4554225,85.8723592 C70.3641549,85.8571479 70.2909507,85.8319542 70.2358099,85.7967782 C70.180669,85.7616021 70.1530986,85.7097887 70.1530986,85.641338 C70.1530986,85.599507 70.1687852,85.5567254 70.2001585,85.512993 C70.2315317,85.4692606 70.2776408,85.4283803 70.3384859,85.3903521 C70.4582746,85.4226761 70.585669,85.438838 70.720669,85.438838 C70.8784859,85.438838 71.0234683,85.4169718 71.1556162,85.3732394 C71.2877641,85.329507 71.4018486,85.2667606 71.4978697,85.185 C71.5938908,85.1032394 71.6689965,85.0048415 71.7231866,84.8898063 C71.7773768,84.7747711 71.8044718,84.6469014 71.8044718,84.5061972 C71.8044718,84.3540845 71.7721479,84.2162324 71.7075,84.0926408 L71.7075,84.0926408 L72.035493,84.047007 C72.1153521,84.0298944 72.1552817,83.9899648 72.1552817,83.9272183 L72.1552817,83.9272183 L72.1552817,83.7389789 L71.3709507,83.7389789 C71.2815845,83.6857394 71.1822359,83.6453345 71.0729049,83.6177641 C70.9635739,83.5901937 70.846162,83.5764085 70.720669,83.5764085 C70.5609507,83.5764085 70.4140669,83.5982746 70.2800176,83.642007 C70.1459683,83.6857394 70.0304577,83.7480106 69.9334859,83.8288204 C69.8365141,83.9096303 69.7609331,84.0075528 69.706743,84.122588 C69.6525528,84.2376232 69.6254577,84.365493 69.6254577,84.5061972 C69.6254577,84.6830282 69.6658627,84.8375176 69.7466725,84.9696655 C69.8274824,85.1018134 69.9391901,85.2078169 70.0817958,85.2876761 C70.0209507,85.3180986 69.9677113,85.3532746 69.9220775,85.3932042 C69.8764437,85.4331338 69.8379401,85.4749648 69.8065669,85.5186972 C69.7751937,85.5624296 69.7519014,85.6066373 69.7366901,85.6513204 C69.7214789,85.6960035 69.7138732,85.7392606 69.7138732,85.7810915 C69.7138732,85.8875704 69.7381162,85.9726585 69.7866021,86.0363556 C69.835088,86.1000528 69.9002113,86.1509155 69.9819718,86.1889437 C69.8241549,86.2478873 69.700088,86.3272711 69.6097711,86.4270951 C69.5194542,86.526919 69.4742958,86.6481338 69.4742958,86.7907394 C69.4742958,86.8915141 69.5004401,86.9880106 69.5527289,87.0802289 C69.6050176,87.1724472 69.6834507,87.2537324 69.7880282,87.3240845 C69.8926056,87.3944366 70.0242782,87.4505282 70.1830458,87.4923592 C70.3418134,87.5341901 70.5267254,87.5551056 70.7377817,87.5551056 Z M70.720669,85.1022887 C70.6198944,85.1022887 70.5305282,85.0880282 70.4525704,85.059507 C70.3746127,85.0309859 70.3090141,84.9910563 70.2557746,84.9397183 C70.2025352,84.8883803 70.1621303,84.8270599 70.1345599,84.755757 C70.1069894,84.6844542 70.0932042,84.6060211 70.0932042,84.5204577 C70.0932042,84.3436268 70.146919,84.2029225 70.2543486,84.0983451 C70.3617782,83.9937676 70.5172183,83.9414789 70.720669,83.9414789 C70.9260211,83.9414789 71.082412,83.9937676 71.1898415,84.0983451 C71.2972711,84.2029225 71.3509859,84.3436268 71.3509859,84.5204577 C71.3509859,84.6060211 71.3376761,84.6844542 71.3110563,84.755757 C71.2844366,84.8270599 71.244507,84.8883803 71.1912676,84.9397183 C71.1380282,84.9910563 71.0719542,85.0309859 70.9930458,85.059507 C70.9141373,85.0880282 70.8233451,85.1022887 70.720669,85.1022887 Z M70.746338,87.184331 C70.6056338,87.184331 70.4834683,87.1724472 70.3798415,87.1486796 C70.2762148,87.124912 70.1901761,87.092588 70.1217254,87.0517077 C70.0532746,87.0108275 70.002412,86.9623415 69.9691373,86.90625 C69.9358627,86.8501585 69.9192254,86.7897887 69.9192254,86.7251408 C69.9192254,86.6224648 69.9529754,86.5340493 70.0204754,86.4598944 C70.0879754,86.3857394 70.1759155,86.322993 70.2842958,86.2716549 C70.3774648,86.2868662 70.4753873,86.2973239 70.5780634,86.3030282 C70.6807394,86.3087324 70.7815141,86.3139613 70.8803873,86.3187148 C70.9792606,86.3234683 71.0733803,86.3315493 71.1627465,86.3429577 C71.2521127,86.3543662 71.3310211,86.3719542 71.3994718,86.3957218 C71.4679225,86.4194894 71.5221127,86.4532394 71.5620423,86.4969718 C71.6019718,86.5407042 71.6219366,86.5986972 71.6219366,86.6709507 C71.6219366,86.747007 71.6019718,86.8164085 71.5620423,86.8791549 C71.5221127,86.9419014 71.4645951,86.9960915 71.3894894,87.0417254 C71.3143838,87.0873592 71.2226408,87.1225352 71.1142606,87.1472535 C71.0058803,87.1719718 70.8832394,87.184331 70.746338,87.184331 Z","id","InspiredSchooling","fill","#2D2D2D"]],template:function(t,e){1&t&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(0,"svg",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(1,"defs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(2,"filter",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(3,"feOffset",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(4,"feGaussianBlur",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(5,"feColorMatrix",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(6,"feMerge"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(7,"feMergeNode",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(8,"feMergeNode",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(9,"g",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(10,"g",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(11,"g",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(12,"g",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(13,"g",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(14,"g",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(15,"rect",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(16,"path",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(17,"path",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(18,"path",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(19,"path",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(20,"path",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(21,"path",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(22,"path",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(23,"rect",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(24,"path",22),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(25,"path",23),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(26,"g",24),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(27,"polyline",25),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(28,"polyline",26),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(29,"polyline",27),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(30,"polyline",28),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(31,"path",29),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub())},encapsulation:2}),t})(),TceBgFooterSvgModule=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b]]}),t})(),TceSmFooterLogoComponent=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb({type:t,selectors:[["nx-afs-tce-sm-footer-logo"]],decls:24,vars:0,consts:[["_ngcontent-wxc-c75","","width","132px","height","50px","viewBox","0 0 132 50","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["_ngcontent-wxc-c75","","istroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["_ngcontent-wxc-c75","","transform","translate(-980.000000, -1325.000000)"],["_ngcontent-wxc-c75","","id","Background","transform","translate(0.000000, 100.000000)"],["_ngcontent-wxc-c75","","id","Footer","transform","translate(980.000000, 1225.000000)"],["_ngcontent-wxc-c75","","id","Group","transform","translate(2.000000, 17.000000)"],["_ngcontent-wxc-c75","","d","M56.9028325,6.90658073 C56.9028325,3.93952088 59.3283307,1.53189129 62.3167344,1.53189129 C64.3235362,1.53189129 66.0700394,2.62082761 67.0088171,4.22659026 L66.0416619,4.78551333 C65.3198427,3.48076778 63.9481799,2.5921714 62.3167344,2.5921714 C59.8912362,2.5921714 58.0580528,4.54155507 58.0580528,6.90658073 C58.0580528,9.27160638 59.8912362,11.2209901 62.3167344,11.2209901 C64.1504337,11.2209901 65.4640518,10.2603727 66.1572356,8.87016572 L67.1530261,9.38623126 C66.2436578,11.1061116 64.5110854,12.2815238 62.3167344,12.2815238 C59.3283307,12.2815238 56.9028325,9.87364057 56.9028325,6.90658073","id","Fill-41","fill","#0A0B09"],["_ngcontent-wxc-c75","","id","Fill-42","fill","#0A0B09","points","68.2331752 12.1382427 69.359244 12.1382427 69.359244 1.67491879 68.2331752 1.67491879"],["_ngcontent-wxc-c75","","d","M75.941781,9.68724835 L75.941781,8.28258643 C75.6097648,8.56940222 74.5703761,8.81285328 73.7185366,8.98479059 C72.4480007,9.25715147 71.8128617,9.55816857 71.8128617,10.3176852 C71.8128617,10.9344279 72.289087,11.3498162 73.1122911,11.3498162 C74.1950199,11.3498162 75.1477283,10.8482056 75.941781,9.68724835 Z M70.7009816,10.4039074 C70.7009816,9.09941547 71.5964192,8.44006884 73.7040899,8.01022555 C74.8012654,7.7809758 75.8409121,7.59458358 75.8409121,6.8634696 C75.8409121,6.20412297 75.407769,5.73116856 74.0361061,5.73116856 C72.6794059,5.73116856 72.1159845,6.261689 72.1159845,7.15028539 L72.1159845,7.19314292 L71.0043623,7.19314292 L71.0043623,7.1644867 C71.0043623,5.65965481 72.1015378,4.82837086 74.0072127,4.82837086 C76.1582236,4.82837086 76.9956164,5.87470325 76.9956164,7.22179914 L76.9956164,12.1382427 L75.9275923,12.1382427 L75.9275923,11.0774554 C75.2199618,11.8230243 74.3392289,12.2815238 73.1122911,12.2815238 C71.4950343,12.2815238 70.7009816,11.4357849 70.7009816,10.4039074 L70.7009816,10.4039074 Z","id","Fill-43","fill","#0A0B09"],["_ngcontent-wxc-c75","","d","M78.0337152,10.9052645 L78.9144481,10.188859 C79.4487181,10.8482056 80.1705373,11.3067051 81.0943524,11.3067051 C82.1773391,11.3067051 82.7257979,10.7335807 82.7257979,10.0742341 C82.7257979,9.31446391 81.7728314,9.17118282 80.7765249,8.94167947 C79.6218206,8.66957218 78.3801781,8.29678774 78.3801781,6.89212582 C78.3801781,5.83159212 79.3906733,4.81391595 81.0076722,4.81391595 C82.0759542,4.81391595 83.1297896,5.20090171 83.7507399,5.91756078 L82.9275358,6.60531003 C82.4371218,6.06109547 81.8161716,5.75982478 81.0076722,5.75982478 C80.0116236,5.75982478 79.4773536,6.27589031 79.4773536,6.87792451 C79.4773536,7.60878489 80.3869799,7.7809758 81.3685817,8.01022555 C82.5379907,8.28258643 83.8229734,8.64091597 83.8229734,10.0742341 C83.8229734,10.9914867 83.058072,12.2815238 81.0510123,12.2815238 C79.795181,12.2815238 78.7413456,11.7654582 78.0337152,10.9052645","id","Fill-44","fill","#0A0B09"],["_ngcontent-wxc-c75","","d","M84.6010315,10.9052645 L85.4817644,10.188859 C86.0157765,10.8482056 86.7375957,11.3067051 87.6616687,11.3067051 C88.7446555,11.3067051 89.2931142,10.7335807 89.2931142,10.0742341 C89.2931142,9.31446391 88.3401478,9.17118282 87.3438412,8.94167947 C86.1891369,8.66957218 84.9472364,8.29678774 84.9472364,6.89212582 C84.9472364,5.83159212 85.9577317,4.81391595 87.5749885,4.81391595 C88.6432706,4.81391595 89.6971059,5.20090171 90.3180562,5.91756078 L89.4948521,6.60531003 C89.0041802,6.06109547 88.3834879,5.75982478 87.5749885,5.75982478 C86.5789399,5.75982478 86.0444119,6.27589031 86.0444119,6.87792451 C86.0444119,7.60878489 86.9542962,7.7809758 87.9356401,8.01022555 C89.1053071,8.28258643 90.3902897,8.64091597 90.3902897,10.0742341 C90.3902897,10.9914867 89.6251304,12.2815238 87.6183286,12.2815238 C86.3622394,12.2815238 85.308404,11.7654582 84.6010315,10.9052645","id","Fill-45","fill","#0A0B09"],["_ngcontent-wxc-c75","","id","Fill-46","fill","#0A0B09","points","91.8328962 1.67491879 98.2281419 1.67491879 98.2281419 2.73570609 92.9589651 2.73570609 92.9589651 6.36185897 98.2281419 6.36185897 98.2281419 7.42239267 92.9589651 7.42239267 92.9589651 11.0632541 98.2281419 11.0632541 98.2281419 12.1382427 91.8328962 12.1382427 91.8328962 1.67491879"],["_ngcontent-wxc-c75","","d","M105.950163,8.55494731 C105.950163,7.06406313 104.795458,5.83159212 103.250693,5.83159212 C101.778161,5.83159212 100.622941,7.04986182 100.622941,8.55494731 C100.622941,10.0597792 101.778161,11.2780489 103.250693,11.2780489 C104.795458,11.2780489 105.950163,10.0597792 105.950163,8.55494731 Z M99.4966141,8.55494731 C99.4966141,6.50514007 101.041637,4.82837086 103.192648,4.82837086 C104.116721,4.82837086 105.214155,5.28687036 105.834589,6.13260922 L105.834589,1.67491879 L106.917318,1.67491879 L106.917318,12.1382427 L105.849294,12.1382427 L105.849294,10.9628305 C105.228601,11.8230243 104.116721,12.2815238 103.192648,12.2815238 C101.070531,12.2815238 99.4966141,10.6047546 99.4966141,8.55494731 L99.4966141,8.55494731 Z","id","Fill-47","fill","#0A0B09"],["_ngcontent-wxc-c75","","d","M114.754654,8.55494731 C114.754654,7.06406313 113.59995,5.83159212 112.054926,5.83159212 C110.582395,5.83159212 109.427174,7.04986182 109.427174,8.55494731 C109.427174,10.0597792 110.582395,11.2780489 112.054926,11.2780489 C113.59995,11.2780489 114.754654,10.0597792 114.754654,8.55494731 Z M108.301621,8.55494731 C108.301621,6.50514007 109.846129,4.82837086 111.997398,4.82837086 C112.921471,4.82837086 114.032835,5.30132527 114.653785,6.14681053 L114.653785,4.97165195 L115.765149,4.97165195 L115.765149,12.0091629 C115.765149,14.1880499 114.379298,15.6355694 112.199136,15.6355694 C110.43767,15.6355694 109.326305,14.8613443 108.80674,13.6575295 L109.903916,13.2991999 C110.250378,14.1162826 110.972198,14.6607507 112.199136,14.6607507 C113.773052,14.6607507 114.667974,13.5713072 114.667974,12.0378191 L114.667974,10.9483756 C114.061728,11.8085693 112.935659,12.2815238 111.997398,12.2815238 C109.875022,12.2815238 108.301621,10.6047546 108.301621,8.55494731 L108.301621,8.55494731 Z","id","Fill-48","fill","#0A0B09"],["_ngcontent-wxc-c75","","d","M118.289969,7.89560068 L123.44383,7.89560068 C123.242092,6.60531003 122.289126,5.81713721 120.888827,5.81713721 C119.589398,5.81713721 118.578903,6.69153229 118.289969,7.89560068 Z M117.149711,8.61200615 C117.149711,6.46228253 118.723112,4.82837086 120.888827,4.82837086 C122.967605,4.82837086 124.584603,6.24723409 124.584603,8.44006884 L124.584603,8.91327684 L118.232182,8.91327684 C118.376649,10.3323937 119.502976,11.2927574 120.946356,11.2927574 C122.116023,11.2927574 122.938453,10.6904696 123.386043,9.81632814 L124.353456,10.2892825 C123.689166,11.5362085 122.563097,12.2815238 120.946356,12.2815238 C118.65062,12.2815238 117.149711,10.7191258 117.149711,8.61200615 L117.149711,8.61200615 Z","id","Fill-49","fill","#0A0B09"],["_ngcontent-wxc-c75","","id","Fill-54","fill","#0A0B09","points","12.7387459 1.81186002 22.605586 1.81186002 22.605586 4.76345058 19.7748062 4.76345058 19.7748062 11.8567524 15.6634293 11.8567524 15.6634293 4.76345058 12.7387459 4.76345058 12.7387459 1.81186002"],["_ngcontent-wxc-c75","","id","Fill-55","fill","#0A0B09","points","27.6023393 5.87039213 25.5251099 11.8567524 21.5765164 11.8567524 25.4492647 1.81186002 29.7370977 1.81186002 33.7029756 11.8567524 29.7061404 11.8567524 27.6023393 5.87039213"],["_ngcontent-wxc-c75","","id","Fill-56","fill","#0A0B09","points","32.7595543 1.81186002 42.6261364 1.81186002 42.6261364 4.76345058 39.7963885 4.76345058 39.7963885 11.8567524 35.6850116 11.8567524 35.6850116 4.76345058 32.7595543 4.76345058 32.7595543 1.81186002"],["_ngcontent-wxc-c75","","id","Fill-57","fill","#0A0B09","points","45.5466921 11.8567524 41.5983567 11.8567524 45.4718789 1.81186002 49.75868 1.81186002 53.723268 11.8567524 49.7277227 11.8567524 47.6246956 5.87039213"],["_ngcontent-wxc-c75","","id","\xa9","font-family","Lato-Light, Lato","font-size","12","font-weight","300","fill","#202020"],["_ngcontent-wxc-c75","","x","1.661","y","12"],["_ngcontent-wxc-c75",""]],template:function(t,e){1&t&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(0,"svg",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(1,"g",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(2,"g",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(3,"g",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(4,"g",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(5,"g",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(6,"path",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(7,"polygon",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(8,"path",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(9,"path",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(10,"path",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(11,"polyline",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(12,"path",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(13,"path",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(14,"path",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(15,"polyline",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(16,"polyline",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(17,"polyline",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(18,"polygon",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(19,"text",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(20,"tspan",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc(21,"\xa9 "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(22,"span",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc(23,"2021"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub())},encapsulation:2}),t})(),TceSmFooterSvgModule=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b]]}),t})();const manual={revise:"\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n    ",practice:"\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n    ",test:"\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n    "};let TimeUtilityService=(()=>{class t{constructor(){this.date={time:t=>this.getCurrentDateTime(t)}}getCurrentDate(t){const e=new Date;return t?this.date[t](e):(console.log(e),e)}getCurrentDateTime(t){return t.getTime()}getLastDayOfWeek(t){const e=new Date(t);return new Date(e.setDate(e.getDate()-(e.getDay()-1)+5))}getFirstDayOfWeek(t){const e=new Date(t);return new Date(e.setDate(e.getDate()-6))}getWeekCount(t,e){t=new Date(t);const n=this.getLastDayOfWeek(t),i=this.getFirstDayOfWeek(n);e=new Date(e);const r=this.getLastDayOfWeek(e),s=this.getFirstDayOfWeek(r),o=this.differenceInTime(s,i);return Math.floor(o.days/7+1)}getStartWeekDate(t){t=new Date(t);const e=this.getLastDayOfWeek(t);return this.getFirstDayOfWeek(e)}getDateLabel(t){let e=new Date(t).toLocaleDateString("default",{weekday:"short"}),n=new Date(t).getDate(),i=new Date(t).toLocaleDateString("default",{month:"short"});return new Date(t).getFullYear(),`${e}, ${n}-${i}`}twoDateCompareStatus(t,e){return t.getTime()===e.getTime()?0:t.getTime()<e.getTime()?1:2}differenceInTime(t,e){const n=Math.abs(t.getTime()-e.getTime())/1e3;return{days:Math.floor((t.getTime()-e.getTime())/864e5),hours:Math.floor(n/3600)%24,minutes:Math.floor(n/60)%60,seconds:Math.floor(n%60)}}incrementDate(t,e){return new Date(t.setDate(t.getDate()+e))}decrementDate(t,e){return new Date(t.setDate(t.getDate()-e))}formatDate(t,e){return new _angular_common__WEBPACK_IMPORTED_MODULE_1__.d("en-US").transform(t,e)}getFormattedDate(t){if(!t)return"";const e=moment__WEBPACK_IMPORTED_MODULE_5__(),n=e.clone().startOf("day"),i=e.clone().subtract(1,"days").startOf("day"),r=e.clone().subtract(1,"weeks").startOf("isoWeek"),s=e.clone().subtract(1,"months").startOf("month"),o=e.clone().subtract(1,"years").startOf("day"),a=e.clone().add(1,"days").startOf("day"),c=e.clone().add(1,"weeks").startOf("isoWeek"),u=e.clone().add(1,"months").startOf("month"),l=e.clone().add(1,"years").startOf("day");if(!t)return null;{const h=moment__WEBPACK_IMPORTED_MODULE_5__(new Date(t)),d=moment__WEBPACK_IMPORTED_MODULE_5__(h).diff(e)>0;if(h.isSame(n,"d"))return"Today";if(h.isSame(i,"d"))return"Yesterday";if(h.isSame(a,"d"))return"Tomorrow";if(h.isSame(e,"isoWeek")&&!d)return"Earlier this week";if(h.isSame(e,"isoWeek")&&d)return"Later this week";if(h.isSame(r,"isoWeek"))return"Last week";if(h.isSame(c,"isoWeek"))return"Next week";if(h.isSame(e,"month")&&!d)return"earlier this Month";if(h.isSame(e,"month")&&d)return"Later this Month";if(h.isSame(s,"month"))return"Last Month";if(h.isSame(u,"month"))return"Next Month";if(h.isSame(e,"year"))return h.format("MMM");if(h.isBetween(o,e))return"Last "+h.format("MMM");if(h.isBetween(e,l))return"Next "+h.format("MMM");if(h>=moment__WEBPACK_IMPORTED_MODULE_5__(l))return"Get a time machine";if(h<=moment__WEBPACK_IMPORTED_MODULE_5__(o))return"More than a year ago"}}MockTestFormatDate(t){console.log(t,"resdate in mocktestFormatedate function");const e=new Date(Number(t));console.log("Given Date :: "+e.toString());const n=new Date;console.log("Today's date : "+n);let i=e.valueOf()-n.valueOf();console.log(i,"difftime");var r=Math.ceil(i/864e5);return console.log(r,"diffDays"),e>n?(console.log("Future "+r+" days"),r):(console.log("past"+r+" days"),r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();const SCREEN_RESOLUTION_CONFIG$1=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("SCREEN_RESOLUTION_CONFIG");let ScreenDetectorService=(()=>{class t{constructor(t){this.config=t}getScreenResolution(){const t=t=>t<=this.config.mobile.max,e=t=>t>this.config.tablet.min&&t<=this.config.tablet.max,n=t=>t>=this.config.desktop.min;return Object(rxjs__WEBPACK_IMPORTED_MODULE_11__.a)(window,"resize").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_34__.a)(200),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(()=>window.innerWidth),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_35__.a)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_36__.a)(window.innerWidth),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(i=>({mobile:t(i),tablet:e(i),desktop:n(i)})))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(SCREEN_RESOLUTION_CONFIG$1))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();function replaceDefaultResolutions(t){const e={mobile:{max:480},tablet:{min:481,max:768},desktop:{min:769}};return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(t).map((t,n)=>(Object(lodash__WEBPACK_IMPORTED_MODULE_6__.has)(e,n)&&n===ResolutionTypes.MOBILE&&(e.mobile.max=t),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.has)(e,n)&&n===ResolutionTypes.TABLET&&(e[n]={min:e.mobile.max+1,max:t},e.desktop={min:t+1}),t)).value(),e}let ScreenDetectorModule=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[ScreenDetectorService,{provide:SCREEN_RESOLUTION_CONFIG$1,useValue:replaceDefaultResolutions(e)}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({}),t})();function validateMobile(){return t=>new RegExp(/^[0-9][0-9]{9}$/).test(t.value)?null:{mobile:"invalid"}}function validatePassword(){return t=>{const e={},n=new RegExp("^.*[a-z].*$"),i=new RegExp("^[^\\s]{8,14}$"),r=new RegExp("^.*[0-9].*$"),s=new RegExp("^.*[!@#$%^&].*$"),o=new RegExp("^.*[*].*$");return n.test(t.value)||(e.lowerLetter=!0),i.test(t.value)||(e.range=!0),r.test(t.value)||(e.number=!0),s.test(t.value)&&!o.test(t.value)||(e.special=!0),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.isEmpty)(e)?null:e}}function validateFirstAndLastName(t=2,e=50){return n=>{var i=`^\\b(?!.*?\\s{2})[A-Za-z ]{${t},${e}}\\b$`;return console.log("pattern",i),new RegExp(i,"gm").test(n.value)?null:{firstAndLastName:!0}}}function validateName(){return t=>new RegExp(/^(?!.{20,})(.{3})[a-zA-Z]*$/).test(t.value)?null:{name:!0}}function validateEmail(){return t=>new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(t.value)?null:{email:!0}}function validatePincode(){return t=>new RegExp(/^[1-9][0-9]{5}$/).test(t.value)?null:{pincode:!0}}function validateGST(){return t=>/^\d{2}[A-Z]{5}\d{4}[A-Z]{1}[A-Z\d]{1}[Z]{1}[A-Z\d]{1}$/.test(t.value)||""===t.value?null:{gst:!0}}var IntroObjectiveTypes=function(t){return t[t.SUCCESS=3]="SUCCESS",t[t.FAIL=2]="FAIL",t.GENERAL="general",t[t.NA=1]="NA",t[t.MARK_COMPLETE=4]="MARK_COMPLETE",t}({}),IntroMode=function(t){return t[t.OPENING=1]="OPENING",t[t.CLOSING=0]="CLOSING",t}({}),TypesOfLessonPlayers=function(t){return t.REVISE="revise",t.PRACTICE="practice",t.SPACEDPRACTICE1="spacedpractice1",t.SPACEDPRACTICE2="spacedpractice2",t.TEST="test",t.BIGIDEA="bigidea",t}({}),TypesOfIntroObjectives=function(t){return t.DURATION="duration",t.TARGET="target",t.GOAL="goal",t}({}),LessonPlayerResourceTypes=function(t){return t.VIDEO="video",t}({});let SubscriptionsService=(()=>{class t{constructor(t){this.remoteConfig=t}set selectedChild(t){this._selectedChild=t}get selectedChild(){return this._selectedChild}get selectedPlan(){return this._selectedPlan}set selectedPlan(t){this._selectedPlan=t}get selectedPlanType(){return this._selectedPlanType}set selectedPlanType(t){this._selectedPlanType=t}set subscriptionId(t){this._subscriptionId=t}get subscriptionId(){return this._subscriptionId}get isAdvancePayment(){return this._isAdvancePayment}set isAdvancePayment(t){this._isAdvancePayment=t}get advanceDiscountOffer(){return this._advanceDiscountOffer}set advanceDiscountOffer(t){this._advanceDiscountOffer=t}get appliedCouponCode(){return this._appliedCouponCode}set appliedCouponCode(t){this._appliedCouponCode=t}get appliedOfferDetails(){return this._appliedOfferDetails}set appliedOfferDetails(t){this._appliedOfferDetails=t}resetSubscriptionDetails(){this.selectedChild=null,this.selectedPlan=null,this.subscriptionId=null}isPlanExpired(t){return t===ZohoSubscriptionStatus.TRIAL_EXPIRED||t===ZohoSubscriptionStatus.EXPIRED||t===ZohoSubscriptionStatus.IN_ACTIVE}isPlanCancellation(t){return t===ZohoSubscriptionStatus.CANCELLED}getRenewSubscriptionOffer(t,e){return new rxjs__WEBPACK_IMPORTED_MODULE_16__.a(n=>{this.remoteConfig.advancePayment().then(()=>{const i=this.remoteConfig.remoteConfig.getValue("advance_payment").asString(),r=JSON.parse(i);let s;s=t?r.rulesAdvance.filter(t=>t.existingPlan.includes(e)):r.rulesExpire.filter(t=>(console.log(t),t.existingPlan.includes(e))),n.next({showBefore:(null==r?void 0:r.showbefore)||15,data:s})})})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(RemoteConfigService))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(RemoteConfigService))},token:t,providedIn:"root"}),t})();var VideoPlayerStateEnum=function(t){return t.PLAY="play",t.PAUSE="pause",t.RESUME="resume",t.END="end",t.PULSE="pulse",t.REPLAY="replay",t}({}),StudyPlanCreateEventsEnums=function(t){return t.CREATE="create",t.PORTION_UPDATE="portion_update",t.DATE_UPDATE="date_update",t}({});let AnalyticsService=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.router=t,this.gtmService=e,this.ledgerService=n,this.authenticationService=i,this.timeUtilityService=r,this.coreService=s,this.http=o,this.apiUrlService=a}setDataLayerGTM(t){var e,n,i,r,s,o,a,c;let u,l;console.log("\ud83d\ude80 ~ file: analytics.service.ts ~ line 81 ~ AnalyticsService ~ setDataLayerGTM ~ userData",t),(null===(e=null==t?void 0:t.userSettings)||void 0===e?void 0:e.info5)&&(u=t.userSettings.info5),l=parseInt(localStorage.getItem("currentLoginType"))===LoginTypeEnum.PARENT?GtmUserTypeEnum.PARENT:GtmUserTypeEnum.STUDENT,this.dataDeclaration={user_ID:null===(n=null==t?void 0:t.userSettings)||void 0===n?void 0:n.oid,user_type:l,site_section:void 0,page_name:void 0,School:"TCE_School",Grade:(null===(i=null==u?void 0:u.grade)||void 0===i?void 0:i.name)?null===(r=null==u?void 0:u.grade)||void 0===r?void 0:r.name:void 0,Board:(null===(s=null==u?void 0:u.board)||void 0===s?void 0:s.name)?null===(o=null==u?void 0:u.board)||void 0===o?void 0:o.name:void 0,Curriculum:(null===(a=null==u?void 0:u.curriculum)||void 0===a?void 0:a.name)?null===(c=null==u?void 0:u.curriculum)||void 0===c?void 0:c.name:void 0,AY:"2021"},this.gtmService.setDataLayer(this.dataDeclaration),this.listenToRouterEvents()}listenToRouterEvents(){this.routerSub=this.router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.a)(t=>t instanceof _angular_router__WEBPACK_IMPORTED_MODULE_41__.c),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_35__.a)()).subscribe(t=>{this.gtmService.firePageViewEvents(t.urlAfterRedirects),this.gtmService.fireRoutePairWiseEvents(t.urlAfterRedirects,this.previousUrl),this.previousUrl=t.urlAfterRedirects})}apiInterceptorEvent(t,e,n){t&&e&&this.gtmService.onApiInterceptorEvent(t,e,n)}lessonPlayerOpened(t){t&&this.gtmService.onLessonPlayerOpened(t)}lessonPlayerAbandoned(t,e){this.gtmService.onLessonPlayerAbandoned(t,e)}setBooksAndSessionsData(t){t&&this.gtmService.setBooksAndSessionsData(t)}bigIdeaClosed(){this.gtmService.onBigIdeaClosed()}bigIdeaSessionEnded(){this.gtmService.onBigIdeaSessionEnded()}bigIdeaSessionStarted(){this.gtmService.onBigIdeaSessionStarted()}bigIdeaAssetReplay(){this.gtmService.onBigIdeaAssetReplay()}taskOpen(t){var e,n,i;t&&(4===t.type?this.gtmService.setTestMetaData(!1,null===(e=t.data)||void 0===e?void 0:e.difficulty):5===t.type?this.gtmService.setTestMetaData(!0,null===(n=t.data)||void 0===n?void 0:n.difficulty):6===t.type?this.gtmService.setTestMetaData(!0,null===(i=t.data)||void 0===i?void 0:i.difficulty):this.gtmService.onTaskOpen(t))}taskCompleted(t){t&&this.gtmService.onTaskCompleted(t)}taskCreated(t){t&&this.gtmService.onTaskCreated(t)}introScreenActionTriggered(t,e){var n;if(t&&e){let r;for(var i in e)e.hasOwnProperty(i)&&(null===(n=e[i])||void 0===n?void 0:n.action)===t&&(r=e[i]);this.gtmService.onIntroScreenActionTriggered(r)}}questionLoaded(t,e){this.gtmService.onQuestionLoaded(t,e)}questionAttempted(t,e,n,i){this.gtmService.onQuestionAttempted(t,e,n,i)}OnQuestionAttempt(t,e,n,i,r){this.ledgerService.dataEventLog(t,e,n,i,r)}OnQuestionSubmit(t,e,n,i,r){this.ledgerService.dataEventLog(t,e,n,i,r)}nextQuestionLoad(t,e,n,i,r){this.ledgerService.dataEventLog(t,e,n,i,r)}eventCapturing(t,e,n,i,r,s,o){let a=this.EventToAnalyticsMapping[s];a||(a=[]),a.forEach(s=>{s.fnName.forEach(s=>{console.log("\ud83d\ude80 ~ file: analytics.service.ts ~ line 299 ~ AnalyticsService ~ event.forEach ~ fn",s),this[s](t,e,n,i,r)})})}retryQuestion(){this.gtmService.onQuestionRetry()}questionSkipped(t,e,n,i){e&&this.gtmService.onQuestionSkip(t,e,n,i)}quizEnd(t){t&&this.gtmService.onQuizEnd(t)}testSubmit(t,e,n){t&&e&&this.gtmService.onTestSubmit(t,e,n)}assetPlayerEvent(t,e,n,i){t&&this.gtmService.onAssetPlayerEvent(t,e,n,i)}assetProgressPercent(t){t&&this.gtmService.onAssetProgrssPercent(t)}assetHeartBeat(t){this.gtmService.onAssetHeartBeat(t)}videoModalClosed(){this.gtmService.onVideoModalClosed()}bookEvent(t,e){this.gtmService.onBookEvent(t,e)}reviewAttemptEvent(t){t&&this.gtmService.onReviewAttempt(t)}lessonPlayerReviewPageView(){this.gtmService.onLessonPlayerReviewPageView()}lessonPlayerVideoPageView(){this.gtmService.onLessonPlayerVideoPageView()}lessonPlayerQuizPageView(){this.gtmService.onLessonPlayerQuizPageView()}lessonPlayerSummaryPageView(){this.gtmService.onLessonPlayerSummaryPageView()}lessonPlayerSummaryCardPageView(){this.gtmService.onLessonPlayerSummaryCardPageView()}filtersApplied(t,e){t&&this.gtmService.onFiltersApplied(t,e)}reviseQuizStarted(){this.gtmService.onReviseQuizStarted(),this.getAnalyticsConfig()}checkReviseSessionEnded(){this.gtmService.onReviseSessionEnded()}updateBooksOnSessionComplete(t){t&&this.gtmService.updateBooksOnSessionComplete(t)}digitalTestSessionStarted(){this.getAnalyticsConfig()}practiceSessionStarted(t){t.length>0&&this.gtmService.onPracticeSessionStarted(t),this.getAnalyticsConfig()}practiceSessionEnded(t,e,n){t&&e.length>0&&this.gtmService.onPraciceSessionEnded(t,e,n)}digitalTestCreated(t,e){t&&e&&this.gtmService.onDigitalTestCreated(t,e)}printTestCreated(t,e){t&&e&&this.gtmService.onPrintTestCreated(t,e)}summaryOpened(t){t&&this.gtmService.onSummaryOpened(t)}summaryEnded(t){this.gtmService.onSummaryEnded(t)}setStudyPlanDataForGtm(t,e,n,i){this.gtmService.setStudyPlanData(this.formatStudyPlanDataForGTM(t,e,n,i),!0)}reviewPlanOpenedFromMyLessonsPage(){this.gtmService.onReviewPlanOpenedFromMyLessonsPage()}reviewPlanOpenedFromPlanCompletedPage(t){this.gtmService.setStudyPlanData(this.formatStudyPlanDataForGTM(t,[],0,0),!1),this.gtmService.onReviewPlanOpenedFromMyLessonsPage()}reviewPlanOpenedFromMyPlansPage(t,e,n){const i=this.coreService.getAppConfig().mylesson.config.lessonType;let r=0;e.map(t=>{const e=lodash__WEBPACK_IMPORTED_MODULE_6__(i).find({type:null==t?void 0:t.lessonType});r+=null==e?void 0:e.maxStars}),this.gtmService.onReviewPlanOpenedFromMyPlansPage(this.formatStudyPlanDataForGTM(t,e,n,r))}subjectPortionOpened(){this.gtmService.onSubjectPortionOpened()}updateStudyTimeClicked(){this.gtmService.onUpdateStudyTimeClicked()}updateSpPortionClicked(){this.gtmService.onUpdatePortionClicked()}fullScheduleOpened(){this.gtmService.onFullScheduleOpened()}manageCreateSpOpened(){this.gtmService.onManageCreateSpOpened()}pausePlanCliked(){this.gtmService.onPausePlanClicked()}markAsCompleteClicked(t,e){const n=this.getCurrentPlanStats(t,e);this.gtmService.onMarkAsCompletedClicked({sp_task_type:null==e?void 0:e.lessonType,sp_achieved_bonus_stars:null==e?void 0:e.lessonStarAchieved,sp_daily_completed_tasks:1,sp_daily_time_progress:0,sp_overall_portion_progress:n.portionPercent,sp_overall_time_progress:n.timePercent,sp_subject_portion_progress:n.portionPercentMarkedSubject})}lessonCompleted(t){this.gtmService.onLessonCompleted(t)}studyPlanCreated(t,e,n,i){var r,s;let o=[],a=[];n.map(t=>{o=[...o,t.subjectLabel],a=2===(null==t?void 0:t.priority)?[...a,null==t?void 0:t.subjectLabel]:a});const c={subjects:o,extraAttentionSubjects:a,chapters:this.formatPortionNode(e.chapters),topics:this.formatPortionNode(e.topics),subtopics:this.formatPortionNode(e.subtopics)},u=this.timeUtilityService.differenceInTwoDays(new Date(i.goalEndDate),new Date(i.planStartDate?i.planStartDate:(new Date).getTime())).days+1,l={sp_daily_time_goal_dim:this.timeUtilityService.formatTimeInHoursAndMinutes(i.dailyStudyTime).timeString,sp_daily_time_goal_metric:60*i.dailyStudyTime,sp_days_goal_dim:`${u} days`,sp_days_goal_metric:u,sp_ID:i.planId};if(StudyPlanCreateEventsEnums.CREATE&&i.feasibleDate&&i.feasibleTime){const t=(null===(r=this.timeUtilityService.differenceInTwoDays(new Date(i.feasibleDate),new Date))||void 0===r?void 0:r.days)+1,e=null===(s=this.timeUtilityService.formatTimeInHoursAndMinutes(i.feasibleTime))||void 0===s?void 0:s.timeInHours;l.sp_default_timeline_goal=`days - ${t}, daily time - ${e}`}this.gtmService.onCreateStudyPlanEvents(t,c,l)}formatPortionNode(t){return t.map(t=>t.nodeLabel)}formatStudyPlanDataForGTM(t,e,n,i){let r=[],s=[],o=[],a=[];t.books.map(t=>{s=2===(null==t?void 0:t.priority)?[...s,null==t?void 0:t.subjectLabel]:s}),e.map(t=>{var e,n,i,s,c,u;t&&(r=r.includes(null===(e=t.subjects)||void 0===e?void 0:e.label)?r:[...r,null===(n=t.subjects)||void 0===n?void 0:n.label],o=o.includes(null===(i=t.chapter)||void 0===i?void 0:i.label)?o:[...o,null===(s=t.chapter)||void 0===s?void 0:s.label],a=a.includes(null===(c=t.tp)||void 0===c?void 0:c.label)?a:[...a,null===(u=t.tp)||void 0===u?void 0:u.label])});const c={subjects:r,lessons:o,topics:a,extraAttentionSubjects:s};return{sp_ID:t.planId,sp_daily_time_goal_dim:this.timeUtilityService.formatTimeInHoursAndMinutes(t.dailyStudyTime).timeString,sp_days_goal_dim:`${this.timeUtilityService.differenceInTwoDays(new Date(t.planGoalEndDate),new Date(t.planCreateDate)).days+1} days`,sp_daily_total_tasks:n,sp_total_bonus_stars:i,sp_status:t.planStatus,portion:c}}getCurrentPlanStats(t,e){let n=0,i=0,r=0,s=0,o=0,a=0;t.map(t=>{var c;n+=null==t?void 0:t.totalLessons,i+=null==t?void 0:t.lessonsCompleted,r+=null==t?void 0:t.totalDuration,s+=null==t?void 0:t.timeSpent,(null===(c=null==e?void 0:e.book)||void 0===c?void 0:c.id)===(null==t?void 0:t.id)&&(o+=null==t?void 0:t.totalLessons,a+=null==t?void 0:t.lessonsCompleted)});const c=(s/r*100).toFixed(2);return{portionPercent:(i/n*100).toFixed(2),timePercent:c,portionPercentMarkedSubject:(a/o*100).toFixed(2)}}childProfileCreated(t){this.gtmService.onChildProfileCreated(t)}cancelSubscription(t){this.gtmService.onCancelSubscription(t)}paymentSuccess(t){this.gtmService.onPaymentSuccess(t)}productPlanList(t){this.gtmService.onProductPlanList(t)}productPlanClick(t){this.gtmService.onProductPlanClick(t)}productPlanViewDetails(t){this.gtmService.onProductPlanViewDetails(t)}checkout(t){this.gtmService.onCheckout(t)}signInSuccess(t){this.gtmService.onSignInSuccess(t)}signInFailuer(t){this.gtmService.onSignInFailuer(t)}registrationChildDetails(t){this.gtmService.onRegistrationChildDetails(t)}registrationContactDetails(t){this.gtmService.onRegistrationContactDetails(t)}registrationSuccess(t){this.gtmService.onRegistrationSuccess(t)}registrationFailuer(t){this.gtmService.onRegistrationFailuer(t)}onSignUpClick(t){this.gtmService.onSignUpClick(t)}on15DaysTrialInit(t){this.gtmService.on15DaysTrialInit(t)}onRegEnteringMobile(t){this.gtmService.onRegEnteringMobile(t)}onRegMobileAlreadyExsits(t){this.gtmService.onRegMobileAlreadyExsits(t)}onRegMobileOTPGeneration(t){this.gtmService.onRegMobileOTPGeneration(t)}onRegMobileOTPValidation(t){this.gtmService.onRegMobileOTPValidation(t)}onRegPasswordSuccess(t){this.gtmService.onRegPasswordSuccess(t)}onRegBeginOnboarding(t){this.gtmService.onRegBeginOnboarding(t)}onRegBoardSelected(t){this.gtmService.onRegBoardSelected(t)}onRegGradeSelected(t){this.gtmService.onRegGradeSelected(t)}on15DaysTrialFinal(t){this.gtmService.on15DaysTrialFinal(t)}onOnboardingComplete(t){this.gtmService.onOnboardingComplete(t)}createPassword(t){this.gtmService.onCreatePassword(t)}logout(t){this.gtmService.onLogout(t)}getAnalyticsConfig(){this.http.get(this.apiUrlService.getAnalyticsConfig()).subscribe(t=>{this.EventToAnalyticsMapping=t,console.log(this.EventToAnalyticsMapping)})}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_router__WEBPACK_IMPORTED_MODULE_41__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(GtmService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LedgerService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AuthenticationService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();var AssignmentActionTypes=function(t){return t.GET_CONFIG="[Assignment] GET_CONFIG",t.GET_CONFIG_SUCCESS="[Assignment] GET_CONFIG_SUCCESS",t.GET_CONFIG_FAILED="[Assignment] GET_CONFIG_FAILED",t.GET_ASSIGNMENT_LIST="[Assignment] GET_ASSIGNMENT",t.GET_ASSIGNMENT_LIST_SUCCESS="[Assignment] GET_ASSIGNMENT_SUCCESS",t.GET_ASSIGNMENT_LIST_FAILED="[Assignment] GET_ASSIGNMENT_FAILED",t.UPDATE_ASSIGNMENT_STATE="[Assignment] UPDATE_ASSIGNMENT_STATE",t.UPDATE_ASSIGNMENT_LIST="[Assignment] UPDATE_ASSIGNMENT_LIST",t.DELETE_ASSIGNMENT_LIST="[Assignment] DELETE_ASSIGNMENT_LIST",t.UPDATE_LIST="[Assignment] UPDATE_LIST",t.UPSERT_ASSIGN_TASK="[Assignment] UPSERT_ASSIGN_TASK",t.UPSERT_ASSIGNMENT_RESOURCE="[Assignment] UPSERT_ASSIGNMENT_RESOURCE",t.RESET_CONFIG_STATE="[Assignment] RESET_CONFIG_STATE",t}({});const GetAssignmentList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_ASSIGNMENT_LIST),UpdateAssignmentList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPDATE_ASSIGNMENT_LIST,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfig=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_CONFIG,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfigSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_CONFIG_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfigFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_CONFIG_FAILED),GetAssignmentListSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_ASSIGNMENT_LIST_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateAssignmentState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPDATE_ASSIGNMENT_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPDATE_LIST,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetAssignmentListFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_ASSIGNMENT_LIST_FAILED),DeleteAssignmentList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.DELETE_ASSIGNMENT_LIST,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),setAssignTaskData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPSERT_ASSIGN_TASK,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),setAssignmentResourceData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPSERT_ASSIGNMENT_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),ResetConfigState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.RESET_CONFIG_STATE),assignmentActions={AssignmentActionTypes,GetAssignmentList,UpdateAssignmentList,GetConfig,GetConfigSuccess,GetConfigFailed,GetAssignmentListSuccess,UpdateAssignmentState,UpdateList,GetAssignmentListFailed,DeleteAssignmentList,setAssignTaskData,setAssignmentResourceData,ResetConfigState},defaultAssignment={ids:[],entities:{},assignments:[]},defaultResourceAssignment={ids:[],entities:{},resources:[]},assignmentAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),\u02750$4=t=>t.lessonId,assignmentResourceAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$4}),assignmentEntityInitialState=assignmentAdapter.getInitialState(defaultAssignment),assignmentResourceEntityInitialState=assignmentResourceAdapter.getInitialState(defaultResourceAssignment),initialState$1={list:assignmentEntityInitialState,resource:assignmentResourceEntityInitialState,selectedAssignment:null,config:{},tasklist:assignmentEntityInitialState,assignTaskData:{}},assignmentState={defaultAssignment,defaultResourceAssignment,assignmentAdapter,assignmentResourceAdapter,initialState:initialState$1},getAssignmentFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.assignment),\u02750$5=t=>t.assignment,assignmentListState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,\u02750$5),\u02751$1=t=>t.assignment.selectedAssignment,selectedState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,\u02751$1),config$1=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,(t,e)=>t.assignment.config.hasOwnProperty(e.type)?t.assignment.config[e.type]:null),\u02752$1=config$1,{selectAll:selectAllAssignmentList}=assignmentState.assignmentAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,t=>t.assignment.list)),{selectAll:selectAllResourceAssignment}=assignmentState.assignmentResourceAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,t=>t.assignment.resource)),\u02753$1=t=>t.assignment.tasklist,tasklist=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,\u02753$1),\u02754$1=t=>t.assignment.assignTaskData,formData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,\u02754$1),getAssignmentById=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(assignmentListState,selectedState,selectAllAssignmentList,(t,e,n,i)=>{let r=e;return i&&(r=i.paramId),n.filter(t=>t.id===r)}),\u02755=getAssignmentById,getAssignmentResourceById=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(assignmentListState,selectedState,selectAllResourceAssignment,(t,e,n,i)=>{let r=e;return i&&(r=i.paramId),n.filter(t=>t.resourceId===r)}),\u02756=getAssignmentResourceById,assignmentSelector={getAssignmentFeatureState,assignmentListState,selectedState,config:config$1,selectAllAssignmentList,selectAllResourceAssignment,tasklist,formData,getAssignmentById,getAssignmentResourceById},\u02750$6=(t,{assignments:e})=>Object.assign(Object.assign({},t),{list:assignmentState.assignmentAdapter.upsertMany(e,Object.assign(Object.assign({},t.list),{assignments:e}))}),\u02751$2=(t,{configType:e,config:n})=>{const i={};i[e]=n;const r=Object.assign(Object.assign({},t.config),i);return Object.assign(Object.assign({},t),{config:r})},\u02752$2=(t,{ids:e})=>Object.assign(Object.assign({},t),{list:assignmentState.assignmentAdapter.removeMany(e,t.list)}),\u02753$2=(t,{obj:e})=>Object.assign(Object.assign({},t),{list:assignmentState.assignmentAdapter.upsertOne(e,Object.assign(Object.assign({},t.list),{assignments:e}))}),\u02754$2=(t,{additionalList:e})=>Object.assign(Object.assign({},t),{list:assignmentState.assignmentAdapter.upsertMany(e,Object.assign(Object.assign({},t.list),{assignments:e}))}),\u02755$1=(t,{setAssignTaskData:e})=>Object.assign(Object.assign({},t),{assignTaskData:e}),\u02756$1=(t,{id:e})=>Object.assign(Object.assign({},t),{selectedAssignment:e}),\u02757=(t,{resourceData:e})=>Object.assign(Object.assign({},t),{resource:assignmentState.assignmentResourceAdapter.upsertMany(e,Object.assign(Object.assign({},t.resource),{resources:e}))}),\u02758=t=>Object.assign({},assignmentState.initialState),assignmentReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(assignmentState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.GetAssignmentListSuccess,\u02750$6),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.GetConfigSuccess,\u02751$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.DeleteAssignmentList,\u02752$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.UpdateAssignmentList,\u02753$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.UpdateList,\u02754$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.setAssignTaskData,\u02755$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.UpdateAssignmentState,\u02756$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.setAssignmentResourceData,\u02757),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.ResetConfigState,\u02758));function reducer(t,e){return assignmentReducer(t,e)}const reducers={assignment:reducer};function localStorageSyncReducer(t){return Object(ngrx_store_localstorage__WEBPACK_IMPORTED_MODULE_47__.a)({keys:[StoreStateEnum.assignment],rehydrate:!0})(t)}const metaReducers=[localStorageSyncReducer],assignmentReducers={reducers,localStorageSyncReducer,metaReducers};let AssignmentStoreService=(()=>{class t{constructor(t,e){this.http=t,this.apiUrlService=e}getAssignment(){return this.http.get(this.apiUrlService.getAssignmentUrl()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getConfig(t){return this.http.get(this.apiUrlService.getConfig(t)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),AssignmentEffects=(()=>{class t{constructor(t,e,n){this.actions$=t,this.assignmentStoreService=e,this.store=n,this.getAssignment$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(assignmentActions.GetAssignmentList),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.m)(assignmentSelector.selectAllAssignmentList),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(([t,e])=>this.assignmentStoreService.getAssignment().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{const n=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.differenceWith)(e,t,(t,e)=>t.id===e.id).map(t=>t.id);return[assignmentActions.GetAssignmentListSuccess({assignments:t}),assignmentActions.DeleteAssignmentList({ids:n})]}))))),this.getConfig$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(assignmentActions.GetConfig),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.assignmentStoreService.getConfig(t.configType).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>[assignmentActions.GetConfigSuccess({configType:t.configType,config:e})]),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(assignmentActions.GetConfigFailed()))))))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AssignmentStoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();var BrowseBookActionTypes=function(t){return t.SET_BOOK_STATE="[BrowseBook] SET_BOOK_STATE",t.IS_BOOK_EMPTY="[BrowseBook] IS_BOOK_EMPTY",t.SET_RESOURCE="[BrowseBook] SET_RESOURCE",t.GET_RESOURCES="[BrowseBook] GET_RESOURCES",t.GET_RESOURCES_SUCCESS="[BrowseBook] GET_RESOURCES_SUCCESS",t.GET_RESOURCES_FAILED="[BrowseBook] GET_RESOURCES_FAILED",t.UPDATE_RESOURCES="[BrowseBook] UPDATE_RESOURCES",t.GET_BOOK_PROGRESS="[BrowseBook] GET_BOOK_PROGRESS",t.GET_BOOK_PROGRESS_SUCCESS="[BrowseBook] GET_BOOK_PROGRESS_SUCCESS",t.GET_BOOK_PROGRESS_FAILED="[BrowseBook] GET_BOOK_PROGRESS_FAILED",t.GET_USER_ACTIVITY="[BrowseBook] GET_USER_ACTIVITY",t.SET_USER_ACTIVITY_NODE="[BrowseBook] SET_USER_ACTIVITY_NODE",t.GET_USER_ACTIVITY_SUCCESS="[BrowseBook] GET_USER_ACTIVITY_SUCCESS",t.GET_USER_ACTIVITY_FAILED="[BrowseBook] GET_USER_ACTIVITY_FAILED",t.SET_SELECTED_HIGHLIGHTS="[BrowseBook] SET_SELECTED_HIGHLIGHTS",t.SET_SELECTED_HIGHLIGHTS_SUCCESS="[BrowseBook] SET_SELECTED_HIGHLIGHTS_SUCCESS",t.SET_SELECTED_HIGHLIGHTS_FAILED="[BrowseBook] SET_SELECTED_HIGHLIGHTS_FAILED",t.PUT_NODE_ACTIVITIES="[BrowseBook] PUT_NODE_ACTIVITIES",t.PUT_NODE_ACTIVITIES_SUCCESS="[BrowseBook] PUT_NODE_ACTIVITIES_SUCCESS",t.PUT_NODE_ACTIVITIES_FAILED="[BrowseBook] PUT_NODE_ACTIVITIES_FAILED",t.PREV_NODE="[BrowseBook] PREV_NODE",t.GET_NODES="[BrowseBook] GET_NODES",t.SET_NODE="[BrowseBook] SET_NODE",t.SET_EXPANDED_NODE="[BrowseBook] SET_EXPANDED_NODE",t.GET_NODES_SUCCESS="[BrowseBook] GET_NODES_SUCCESS",t.GET_NODES_FAILED="[BrowseBook] GET_NODES_FAILED",t.IS_NODE_EMPTY="[BrowseBook] IS_NODE_EMPTY",t.IS_RESOURCE_EMPTY="[BrowseBook] IS_RESOURCE_EMPTY",t.GET_CONFIG="[BrowseBook] GET_CONFIG",t.GET_CONFIG_SUCCESS="[BrowseBook] GET_CONFIG_SUCCESS",t.GET_CONFIG_FAILED="[BrowseBook] GET_CONFIG_FAILED",t.UPDATE_BOOK_STATE="[UPDATE_BOOK_STATE] GET_CONFIG_FAILED",t.SET_GRADE="[BrowseBook] SET_GRADE",t.SET_BOOK="[BrowseBook] SET_BOOK",t.GET_NEXT_LESSON="[BrowseBook] GET_NEXT_LESSON",t.SET_NEXT_LESSON="[BrowseBook] SET_NEXT_LESSON",t.RESET_STATE="[BrowseBook] RESET_STATE",t.CLEAR_BOOK_NODES="[BrowseBook] CLEAR_BOOK_NODES",t}({});const SetResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetBookProgress=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_BOOK_PROGRESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetBookProgressSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_BOOK_PROGRESS_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetBookProgressFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_BOOK_PROGRESS_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetUserActivity=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_USER_ACTIVITY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetUserActivityNode=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_USER_ACTIVITY_NODE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetUserActivitySuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_USER_ACTIVITY_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetUserActivityFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_USER_ACTIVITY_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetResources=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_RESOURCES,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetResourcesSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_RESOURCES_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetResourcesFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_RESOURCES_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateResources=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.UPDATE_RESOURCES,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),PrevNode=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.PREV_NODE),GetNodes=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_NODES),SetNode=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_NODE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetExpandedNodeId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_EXPANDED_NODE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetSelectedHighlights=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_SELECTED_HIGHLIGHTS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetSelectedHighlightsSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_SELECTED_HIGHLIGHTS_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetSelectedHighlightsFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_SELECTED_HIGHLIGHTS_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),PutNodeActivities=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.PUT_NODE_ACTIVITIES,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),PutNodeActivitiesSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.PUT_NODE_ACTIVITIES_SUCCESS),PutNodeActivitiesFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.PUT_NODE_ACTIVITIES_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetNodesSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_NODES_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetNodesFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_NODES_FAILED),IsNodeEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.IS_NODE_EMPTY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetBookState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_BOOK_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),IsResourceEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.IS_RESOURCE_EMPTY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),IsSelectedBookEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.IS_BOOK_EMPTY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfig$1=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_CONFIG,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfigSuccess$1=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_CONFIG_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfigFailed$1=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_CONFIG_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateBookState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.UPDATE_BOOK_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetGrade=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_GRADE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetBook=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_BOOK,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetNextLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_NEXT_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetNextLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_NEXT_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),ResetState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.RESET_STATE),ClearBookNodes=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.CLEAR_BOOK_NODES),browseBookActions={SetResource,GetBookProgress,GetBookProgressSuccess,GetBookProgressFailed,GetUserActivity,SetUserActivityNode,GetUserActivitySuccess,GetUserActivityFailed,GetResources,GetResourcesSuccess,GetResourcesFailed,UpdateResources,PrevNode,GetNodes,SetNode,SetExpandedNodeId,SetSelectedHighlights,SetSelectedHighlightsSuccess,SetSelectedHighlightsFailed,PutNodeActivities,PutNodeActivitiesSuccess,PutNodeActivitiesFailed,GetNodesSuccess,GetNodesFailed,IsNodeEmpty,SetBookState,IsResourceEmpty,IsSelectedBookEmpty,GetConfig:GetConfig$1,GetConfigSuccess:GetConfigSuccess$1,GetConfigFailed:GetConfigFailed$1,UpdateBookState,SetGrade,SetBook,GetNextLesson,SetNextLesson,ResetState,ClearBookNodes},defaultResource={ids:[],entities:{},resources:[]},defaultNode={ids:[],entities:{},nodes:[]},defaultBookState={ids:[],entities:{},books:[]},defaultNodeActivity={ids:[],entities:{},nodeActivitys:[]},\u02750$7=t=>t.resourceId,resourceAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$7}),\u02751$3=t=>t.nodeId+":"+t.parentNodeId,nodeAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02751$3}),\u02752$3=t=>t.bookId,bookStateAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02752$3}),nodeActivityAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({}),resourceInitialState=resourceAdapter.getInitialState(defaultResource),nodeInitialState=nodeAdapter.getInitialState(defaultNode),bookInitialState=bookStateAdapter.getInitialState(defaultBookState),nodeActivityInitialState=nodeActivityAdapter.getInitialState(defaultNodeActivity),initialState$2={resource:resourceInitialState,node:nodeInitialState,selectedResourceId:null,selectedNode:"root",expandedNodeId:"",isNodeEmpty:!0,config:{},book:bookInitialState,bookProgress:[],userActivity:{},isResourceEmpty:!0,error:"",success:"",gradeInfo:{},bookInfo:{},nodeActivity:nodeActivityInitialState,selectedHighlights:[]},browseBookState={defaultResource,defaultNode,defaultBookState,defaultNodeActivity,resourceAdapter,nodeAdapter,bookStateAdapter,nodeActivityAdapter,resourceInitialState,nodeInitialState,bookInitialState,nodeActivityInitialState,initialState:initialState$2},getBrowseBookFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.browseBook),\u02750$8=t=>t.browseBook.resource,resourcesState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02750$8),\u02751$4=t=>t.browseBook.nodeActivity,nodeActivityState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02751$4),\u02752$4=t=>t.browseBook.node,nodeState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02752$4),{selectAll:selectAllResources}=browseBookState.resourceAdapter.getSelectors(resourcesState),{selectAll:selectAllNodeActivity}=browseBookState.nodeActivityAdapter.getSelectors(nodeActivityState),{selectAll:selectAllNodes}=browseBookState.nodeAdapter.getSelectors(nodeState),\u02753$3=t=>t.browseBook.selectedResourceId,getCurrentResourceId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02753$3),\u02754$3=t=>t.browseBook.selectedHighlights,getCurrentHighlightFilters=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02754$3),\u02755$2=(t,e)=>t.entities[e],getCurrentResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourcesState,getCurrentResourceId,\u02755$2),\u02756$2=t=>t.browseBook.selectedNode,getSelectedNodeId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02756$2),\u02757$1=t=>t.browseBook.expandedNodeId,getExpandedNodeId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02757$1),\u02758$1=t=>t.browseBook.book.books,getBookState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02758$1),\u02759=t=>t.browseBook.bookProgress,getBookProgress=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02759),getBookProgressByBookIds=t=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,(t,e)=>t.browseBook.bookProgress.filter(t=>e.bookIds.indexOf(t.id)>-1)),\u027510=getBookProgressByBookIds,getNodeActivityByIds=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeActivityState,selectAllNodeActivity,(t,e,n)=>e.filter(t=>n.nodeIds.indexOf(t.id)>-1||n.nodeIds.indexOf(t.parentId)>-1)),\u027511=getNodeActivityByIds,\u027512=t=>t.browseBook.userActivity,getUserActivity=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027512),getNodeById=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,selectAllNodes,(t,e,n)=>e.filter(t=>t.nodeId===n.nodeId)),\u027513=getNodeById,getNodeByParentId=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,selectAllNodes,(t,e,n)=>e.filter(t=>t.parentNodeId===n.parentNodeId)),\u027514=getNodeByParentId,getResourceByResourceId=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,selectAllResources,(t,e,n)=>e.filter(t=>t.resourceId===n.resourceId)[0]),\u027515=getResourceByResourceId,getLessonPortion=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllNodes,selectAllResources,(t,e,n)=>{const i=["book","chapter","teaching point","bigIdea","summary","digital_test","studinotes","worksheet"];console.log("nodes selector ts",t),console.log("lessonId",n.lessonId),t.push({duration:14,nodeId:"wk-70acacc7-7f59-4101-b255-efccf9a78a61",nodeLabel:"Worksheet",nodeType:"worksheet",parentNodeId:"chp-7e75acfd-ddd4-4cf6-b56b-f51275625955"});const r=t.filter(t=>t.nodeId===n.lessonId),s=r[0].parentNodeId,o=LessonPlayerNumberType[r[0].nodeType.toUpperCase()];o==LessonTypeNumber.REVISE.toString()?window.Hansel.logEvent("click_Revise","AF",{}):o==LessonTypeNumber.PRACTICE.toString()&&window.Hansel.logEvent("click_practice","AF",{});const a={lessonId:n.lessonId,lessonType:o,portion:void 0};let c=[];const u=function(e){const n=t.filter(t=>t.nodeId===e);n.length>0&&(u(n[0].parentNodeId),i.includes(n[0].nodeType)&&(void 0===a.portion?(a.portion={id:n[0].nodeId,version:"",node:[]},c=a.portion.node):(c.push({id:n[0].nodeId,type:n[0].nodeType,label:n[0].nodeLabel,node:[]}),c=c[0].node)))};u(s);const l=e.filter(t=>t.resourceId===n.lessonId);return l.length>0&&c.push(...l[0].tqs),a}),\u027516=getLessonPortion,browseBookTpTree=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllNodes,selectAllResources,(t,e,n)=>{let i={};const r=t.filter(t=>t.parentNodeId===n.tpId),s=t.filter(t=>t.nodeId===n.tpId),o=[];return r.map(t=>{const n=e.filter(e=>e.resourceId===t.nodeId);n.length>0&&o.push(...n[0].tqs)}),s.length>0&&(i={id:s[0].nodeId,label:s[0].nodeLabel,type:"teaching point",node:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.uniqBy)(o,"id")}),i}),\u027517=browseBookTpTree,\u027518=(t,e)=>{if(t.browseBook.selectedNode&&t.browseBook.book.entities[t.browseBook.selectedNode])return t.browseBook.book.entities[t.browseBook.selectedNode].state},isBookPresent=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027518),\u027519=t=>t.entities,getNodeList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,\u027519),\u027520=(t,e)=>t.nodes,isNodePresent=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,getSelectedNodeId,\u027520),\u027521=(t,e)=>Object.values(t.entities).filter(t=>t.nodeId===e),isResourcePresent=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourcesState,getSelectedNodeId,\u027521),\u027522=(t,e)=>t.nodes.filter(t=>t.parentNodeId===e),getSelectedNodeList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,getSelectedNodeId,\u027522),\u027523=t=>t.browseBook.isNodeEmpty,isNodeEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027523),\u027524=t=>t.browseBook.isResourceEmpty,isResourceEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027524),getBrowseBookConfigByType=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,(t,e)=>t.browseBook.config[e.lessonType]),\u027525=getBrowseBookConfigByType,\u027526=t=>t.browseBook.gradeInfo,getGrade=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027526),\u027527=t=>t.browseBook.bookInfo,getBook=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027527),browseBookSelectors={resourcesState,nodeActivityState,nodeState,getCurrentResourceId,getCurrentHighlightFilters,getCurrentResource,getSelectedNodeId,getExpandedNodeId,getBookState,getBookProgress,getUserActivity,isBookPresent,getNodeList,isNodePresent,isResourcePresent,getSelectedNodeList,isNodeEmpty,isResourceEmpty,getGrade,getBook,selectAllResources,selectAllNodeActivity,selectAllNodes,getBookProgressByBookIds,getNodeActivityByIds,getNodeById,getNodeByParentId,getResourceByResourceId,getLessonPortion,browseBookTpTree,getBrowseBookConfigByType},\u02750$9=(t,{payload:e})=>Object.assign(Object.assign({},t),{selectedResourceId:e}),\u02751$5=(t,{payload:e})=>Object.assign(Object.assign({},t),{resource:browseBookState.resourceAdapter.updateMany(e,t.resource)}),\u02752$5=(t,{payload:e})=>Object.assign(Object.assign({},t),{resource:browseBookState.resourceAdapter.upsertMany(e,Object.assign(Object.assign({},t.resource),{resources:[...t.resource.resources,...e]}))}),\u02753$4=(t,{payload:e})=>Object.assign(Object.assign({},t),{nodeActivity:browseBookState.nodeActivityAdapter.upsertMany(e,Object.assign({},t.nodeActivity))}),\u02754$4=(t,{payload:e})=>Object.assign(Object.assign({},t),{nodeActivity:browseBookState.nodeActivityAdapter.upsertMany(e,Object.assign({},t.nodeActivity))}),\u02755$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{selectedNode:e}),\u02756$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{expandedNodeId:e}),\u02757$2=(t,{filters:e})=>Object.assign(Object.assign({},t),{selectedHighlights:e}),\u02758$2=(t,{payload:e})=>Object.assign(Object.assign({},t),{userActivity:Object.assign(Object.assign({},t.userActivity),{node:e})}),\u02759$1=(t,{payload:e})=>Object.assign(Object.assign({},t),{book:browseBookState.bookStateAdapter.addMany(e,Object.assign(Object.assign({},t.book),{books:[...t.book.books,...e]}))}),\u027510$1=(t,{payload:e})=>Object.assign(Object.assign({},t),{node:browseBookState.nodeAdapter.addMany(e,Object.assign(Object.assign({},t.node),{nodes:[...t.node.nodes,...e]}))}),\u027511$1=t=>Object.assign(Object.assign({},t),{node:browseBookState.nodeAdapter.removeMany(t=>["book","subjects","grades"].indexOf(t.nodeType)<0,t.node),resource:browseBookState.resourceAdapter.removeAll(t.resource)}),\u027512$1=(t,{payload:e})=>Object.assign(Object.assign({},t),{isNodeEmpty:e}),\u027513$1=(t,{payload:e})=>Object.assign(Object.assign({},t),{isResourceEmpty:e}),\u027514$1=(t,{payload:e})=>{const n=Object.assign(Object.assign({},t.config),e);return Object.assign(Object.assign({},t),{config:n})},\u027515$1=(t,{payload:e})=>Object.assign(Object.assign({},t),{book:browseBookState.bookStateAdapter.updateOne(e,t.book)}),\u027516$1=(t,{payload:e})=>Object.assign(Object.assign({},t),{gradeInfo:e}),\u027517$1=(t,{payload:e})=>Object.assign(Object.assign({},t),{bookInfo:e}),\u027518$1=(t,{payload:e})=>Object.assign(Object.assign({},t),{resource:browseBookState.resourceAdapter.updateOne(e,t.resource)}),\u027519$1=t=>Object.assign({},browseBookState.initialState),browseBookReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(browseBookState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetResource,\u02750$9),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.UpdateResources,\u02751$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetResourcesSuccess,\u02752$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetBookProgressSuccess,\u02753$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetUserActivitySuccess,\u02754$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetNode,\u02755$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetExpandedNodeId,\u02756$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetSelectedHighlightsSuccess,\u02757$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetUserActivityNode,\u02758$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetBookState,\u02759$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetNodesSuccess,\u027510$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.ClearBookNodes,\u027511$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.IsNodeEmpty,\u027512$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.IsResourceEmpty,\u027513$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetConfigSuccess,\u027514$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.UpdateBookState,\u027515$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetGrade,\u027516$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetBook,\u027517$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetNextLesson,\u027518$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.ResetState,\u027519$1));function reducer$1(t,e){return browseBookReducer(t,e)}const reducers$1={browseBook:reducer$1};function localStorageSyncReducer$1(t){return Object(ngrx_store_localstorage__WEBPACK_IMPORTED_MODULE_47__.a)({keys:[StoreStateEnum.browseBook],rehydrate:!0})(t)}const metaReducers$1=[localStorageSyncReducer$1],browseBookReducers={reducers:reducers$1,localStorageSyncReducer:localStorageSyncReducer$1,metaReducers:metaReducers$1};let BrowseBookService=(()=>{class t{constructor(t,e){this.http=t,this.apiUrlService=e}getNode(){return this.http.get(this.apiUrlService.getBrowseBookNodeUrl()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getResource(t){return this.http.get(this.apiUrlService.getBrowseBookResourceUrl(t)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getBookProgress(t){return this.http.get(this.apiUrlService.getBrowseBookProgressUrl(t)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(null)))}getUserActivity(t){return this.http.get(this.apiUrlService.getBrowseBookUserActivityUrl(t)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}putHighlightFilters(t,e){return this.http.put(this.apiUrlService.getBrowseBookPutHighlightUrl(t),{selectedHighlights:e}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}putNodeActivities(t,e,n,i){return this.http.put(this.apiUrlService.getBrowseBookPutNodeActivitiesUrl(t,e),{chapters:n,topics:i}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getConfig(t){return this.http.get(this.apiUrlService.getBrowseBookConfigUrl(t)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),BrowseBookEffects=(()=>{class t{constructor(t,e,n,i,r,s){this.actions$=t,this.browseBookService=e,this.coreService=n,this.browseBookHttp=i,this.libTimeUtilityService=r,this.store=s,this.nodeData=[],this.resourceData=[],this.resourceParentData={},this.getResources$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetResources),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(this.store),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(([t,e])=>this.browseBookHttp.getResources(t.resourceId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(t=>{console.log("resource effect",t);const e=firebase__WEBPACK_IMPORTED_MODULE_4__.a.remoteConfig();return e.settings.minimumFetchIntervalMillis=36e5,e.defaultConfig={continue_study_bb:!1},console.log("BrowseBookEffects -> res",t.node),Object(rxjs__WEBPACK_IMPORTED_MODULE_8__.a)(e.fetchAndActivate()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(()=>[e,t]))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(([n,i])=>{const r=n.getBoolean("continue_study_bb");console.log(new Date(n.fetchTimeMillis)),console.log("\ud83d\ude80 ~ file: effects.ts ~ line 71 ~ BrowseBookEffects ~ this.resourceData.map ~ continue_study",r);const s=this.coreService.getAppConfig().browsebook.config.lessonType;return this.resourceData=[],this.nodeData=[],0!==i.node.length?(i.node.forEach(t=>{t.node.forEach(t=>{"digital test"==t.type&&(t.type="digital_test")})}),this.preaperNodeAndResource(i,null).then(()=>{let t=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(e.browseBook.browseBook.resource.entities);console.log("resources clone Deep entities",t);const n=Object.keys(t).length;let i=0;n>0&&(i=n),console.log("resource data before map",this.resourceData),this.resourceData.map((t,e)=>{r&&(i+=1,t.sequence=this.resourceData.length-1===e?null:i);let n="digital test"==t.lessonType?"digital_test":t.lessonType;const o=lodash__WEBPACK_IMPORTED_MODULE_6__(s).find({type:n});t.lessonMaxStar=o.maxStars,t.lessonTarget=o.cuttOffScore,t.lessonStarByScore=o.starByScore,t.moduleId=t.book.id,t.lessonId=t.resourceId}),this.store.dispatch(browseBookActions.GetResourcesSuccess({payload:this.resourceData}))}),[browseBookActions.GetNodesSuccess({payload:this.nodeData.filter(t=>"book"!=t.nodeType)}),browseBookActions.IsResourceEmpty({payload:!1}),browseBookActions.UpdateBookState({payload:{changes:{state:!0},id:t.resourceId}})]):[browseBookActions.IsResourceEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.GetResourcesFailed({payload:t.message}))))))),this.getBookProgress$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetBookProgress),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_19__.a)(t.payload.map(t=>this.browseBookService.getBookProgress(t))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{let e=[];return t.forEach(t=>{t&&(e.push({accessedOn:t.accessedOn,id:t.id,completedInSchool:!1,confidence:0,excluded:!1,type:"book"}),t.node.forEach(e=>{e.parentId=t.id}),e=e.concat(t.node))}),[browseBookActions.GetBookProgressSuccess({payload:e})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.GetBookProgressFailed({payload:t.message}))))))),this.getUserActivity$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetUserActivity),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(this.store),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(([t,e])=>this.browseBookService.getUserActivity(t.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{console.log("GET_USER_ACTIVITY_SUCCESS");let e=t.node?t.node:[],n=t.selectedHighlights?t.selectedHighlights:[];t.node.map(t=>("resource"===t.type&&(t.type="workSheets"),t));const i=lodash__WEBPACK_IMPORTED_MODULE_6__(t.node).filter(t=>{var e=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.keys)(t);return 0===Object(lodash__WEBPACK_IMPORTED_MODULE_6__.difference)(["goalsAchieved","lessonScore","timeSpent"],e).length}).map(t=>({id:t.id,changes:{goalsAchieved:t.goalsAchieved,lessonStatus:t.lessonStatus,timeSpent:t.timeSpent}})).value();return[browseBookActions.GetUserActivitySuccess({payload:e}),browseBookActions.SetSelectedHighlightsSuccess({filters:n}),browseBookActions.UpdateResources({payload:i})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.GetUserActivityFailed({payload:t.message}))))))),this.putHighlightFilters$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.SetSelectedHighlights),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.browseBookService.putHighlightFilters(t.bookId,t.filters).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(()=>[browseBookActions.SetSelectedHighlightsSuccess({filters:t.filters})]),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.SetSelectedHighlightsFailed({payload:t.message}))))))),this.putNodeActivities$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.PutNodeActivities),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.browseBookService.putNodeActivities(t.bookId,t.toggleField,t.chapterIds.map(t=>t.id),t.topicIds.map(t=>t.id)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>(console.log("in effects after service",e),[browseBookActions.GetUserActivitySuccess({payload:t.chapterIds.concat(t.topicIds)})])),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(e=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.PutNodeActivitiesFailed({payload:e.message}),browseBookActions.GetUserActivity({payload:t.bookId}))))))),this.getNode$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetNodes),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(()=>this.browseBookHttp.getSyllabus().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{const e=this.prepareCurriculum(t);return 0!==e.length?[browseBookActions.GetNodesSuccess({payload:e})]:[browseBookActions.IsNodeEmpty({payload:!0})]}))))),this.$goBack=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.PrevNode),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(this.store),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(([t,e])=>{const n=e.browseBook.browseBook.node.entities[e.browseBook.browseBook.selectedNode];return n?Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.SetNode({payload:n.parentNodeId})):new rxjs__WEBPACK_IMPORTED_MODULE_16__.a})),this.getConfig$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetConfig),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.browseBookService.getConfig(t.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>{const n={};return n[t.payload]=e,[browseBookActions.GetConfigSuccess({payload:n})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.GetConfigFailed({payload:t.message}))))))),this.$nextLesson=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetNextLesson),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.m)(browseBookSelectors.selectAllResources))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(([t,e])=>{let n=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(t.payload);return n.nextLesson=null,t.payload.sequence&&(n.nextLesson=e[t.payload.sequence].resourceId),[browseBookActions.SetNextLesson({payload:{changes:{nextLesson:n.nextLesson},id:n.resourceId}})]})))}moveArrayItemToNewIndex(t,e,n){if(n>=t.length)for(var i=n-t.length+1;i--;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t}formatDuration(t){let e,n=this.libTimeUtilityService.convertSecToTime(t||0);return e=Math.ceil(n.totalMinutes+n.seconds/60),e||0}recursiveFunctionForParent(t){return new Promise((e,n)=>{this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.m)(browseBookSelectors.selectAllNodes)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1)).subscribe(n=>{let i={},r=(t,e)=>{const s=t.filter(t=>t.nodeId===e);1===s.length&&(i[s[0].nodeType]={id:s[0].nodeId,label:s[0].nodeLabel,duration:s[0].duration},r(n,s[0].parentNodeId))};r(n,t),e(i)})})}prepareCurriculum(t){const e=[],n=(t,i)=>{const r=Object.keys(t);for(let s=0;s<r.length;s++){const o=t[r[s]];if(o.length>0)for(let t=0;t<o.length;t++){const a=o[t],c=Object.keys(a);for(let t=0;t<c.length;t++){const o=a[c[t]];if(o instanceof Array){const e={};e[c[t]]=o,n(e,a[c[0]])}if(0==t){const t={books:"book"};let n="";n=t[r[s]]?t[r[s]]:r[s],e.push({nodeId:a[c[0]],nodeLabel:a[c[1]],nodeType:n,parentNodeId:i})}}}}};return n(t,null),e}preaperNode(t,e){this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.m)(browseBookSelectors.getNodeById(),{nodeId:t.id})).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1)).subscribe(n=>{0===n.length&&this.nodeData.push({nodeId:t.id,nodeLabel:t.label,nodeType:t.type,duration:this.formatDuration(t.duration),parentNodeId:e})})}preaperResource(t,e,n,i){return new Promise((r,s)=>{for(let o=0;o<t.length;o++)if("teaching point"!==t[o].type&&0!==t[o].duration){console.log(t);const r={resourceId:t[o].id,lessonType:t[o].type,parentNodeId:n,tqs:t[o].node};this.recursiveFunctionForParent(e).then(t=>{this.resourceData.push(Object.assign(Object.assign(Object.assign({},r),i),t))})}r(!0)})}preaperNodeAndResource(t,e){const n={};return new Promise(i=>{const r=[];let s=(t,e)=>{"book"==t.type&&(this.selectedBook=t.id);const i=["tq"];for(let o=0;o<Object.keys(t).length;o++){const a=Object.keys(t)[o];if("node"===a&&!i.includes(t.type)){let i={"teaching point":"tp"};"resource"!==t.type&&"resources"!==t.type||(console.log("BrowseBookEffects -> currentNode -> collection",t),t.type="workSheets");const r=t.type,o=t.id,c=t.label;let u=this.formatDuration(t.duration);i[r]?n[i[r]]={id:o,label:c,duration:u}:n[r]={id:o,label:c,duration:u},this.preaperNode(t,e);for(let e=0;e<t[a].length;e++)s(t[a][e],t.id)}const c=lodash__WEBPACK_IMPORTED_MODULE_6__(t[a]).some({type:"tq"});if("node"===a&&("teaching point"===t.type||"bigIdea"===t.type||"summary"===t.type||"digital_test"===t.type||"studinotes"===t.type||"workSheets"===t.type)&&!c){"summary"!==t.type&&"digital_test"!==t.type&&"studinotes"!==t.type&&"workSheets"!==t.type||(n.tp={id:t.id,label:t.label,duration:this.formatDuration(t.duration)});const e=Object.assign({},n);r.push(this.preaperResource(t[a],this.selectedBook,t.id,e))}}};s(t,e),Promise.all(r).then(()=>i())})}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(BrowseBookService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(BrowseBookHttp),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();var RevisePlayerActionTypes=function(t){return t.GET_LESSON="[RevisePlayer] GET_LESSON_DATA",t.GET_LESSON_SUCCESS="[RevisePlayer] GET_LESSON_SUCCESS",t.GET_LESSON_FAILED="[RevisePlayer] GET_LESSON_FAILED",t.GET_ATTEMPTED_LESSON="[RevisePlayer] GET_ATTEMPTED_LESSON",t.GET_ATTEMPTED_LESSON_SUCCESS="[RevisePlayer] GET_ATTEMPTED_LESSON_SUCCESS",t.GET_ATTEMPTED_LESSON_FAILED="[RevisePlayer] GET_ATTEMPTED_LESSON_FAILED",t.GET_TQS="[RevisePlayer] GET_TQS",t.GET_TQS_BIGIDEA="[RevisePlayer] GET_TQS_BIGIDEA",t.GET_NOTES="[RevisePlayer] GET_NOTES",t.DELETE_NOTE="[RevisePlayer] DELETE_NOTE",t.GET_PRACTISE_TQS="[RevisePlayer] GET_PRACTISE_TQS",t.GET_TEST_TQS="[RevisePlayer] GET_TEST_TQS",t.GET_TQS_SUCCESS="[RevisePlayer] GET_TQS_SUCCESS",t.GET_TQS_FAILED="[RevisePlayer] GET_TQS_FAILED",t.GET_TQS_RESOURCE_SUCCESS="[RevisePlayer] GET_TQS_RESOURCE_SUCCESS",t.GET_SUB_RESOURCE_SUCCESS="[RevisePlayer] GET_SUB_RESOURCE_SUCCESS",t.GET_SUB_RESOURCE_FAILED="[RevisePlayer] GET_SUB_RESOURCE_FAILED",t.IS_TQS_EMPTY="[RevisePlayer] IS_TQS_EMPTY",t.UPDATE_TQ_STATE="[RevisePlayer] UPDATE_TQ_STATE",t.UPDATE_RESOURCE_STATE="[RevisePlayer] UPDATE_RESOURCE_STATE",t.UPDATE_BULK_RESOURCE_STATE="[RevisePlayer] UPDATE_BULK_RESOURCE_STATE",t.UPDATE_SUB_RESOURCE_STATE="[RevisePlayer] UPDATE_SUB_RESOURCE_STATE",t.GET_SUB_RESOURCE="[RevisePlayer] GET_SUB_RESOURCE",t.GET_SUB_RESOURCE_LOCAL="[RevisePlayer] GET_SUB_RESOURCE_LOCAL",t.ADD_SUB_RESOURCE_INTERACTION="[RevisePlayer] ADD_SUB_RESOURCE_INTERACTION",t.UPSERT_SUB_RESOURCE="[RevisePlayer] UPSERT_SUB_RESOURCE",t.GET_MICROCONCEPT_SUCCESS="[RevisePlayer] GET_MICROCONCEPT_SUCCESS",t.GET_TOPIC_SUCCESS="[RevisePlayer] GET_TOPIC_SUCCESS",t.GET_SECTION_SUCCESS="[RevisePlayer] GET_SECTION_SUCCESS",t.UPDATE_SECTION_STATE="[RevisePlayer] UPDATE_SECTION_STATE",t.REMOVE_SUB_RESOURCE="[RevisePlayer] REMOVE_SUB_RESOURCE",t.RESET_SUB_RESOURCE_STATE="[RevisePlayer] RESET_SUB_RESOURCE_STATE",t.RESET_STATE="[RevisePlayer] RESET_STATE",t.UPDATE_LESSON_STATE="[RevisePlayer] UPDATE_LESSON_STATE",t}({});const GetLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetLessonSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_LESSON_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetLessonFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_LESSON_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetNotes=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_NOTES,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetAttemptedLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_ATTEMPTED_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetAttemptedLessonSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_ATTEMPTED_LESSON_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetAttemptedLessonFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_ATTEMPTED_LESSON_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqs=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqsBigIdea=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS_BIGIDEA,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),DeleteNote=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.DELETE_NOTE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetPractiseTqs=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_PRACTISE_TQS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTestTqs=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TEST_TQS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqsSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqsResourceSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS_RESOURCE_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqsFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSubResourceSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SUB_RESOURCE_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSubResourceFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SUB_RESOURCE_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),IsTqsEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.IS_TQS_EMPTY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateTqState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_TQ_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_RESOURCE_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateBulkResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_BULK_RESOURCE_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateSubResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_SUB_RESOURCE_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateSectionState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_SECTION_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSubResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SUB_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSubResourceLocal=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SUB_RESOURCE_LOCAL,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),ResetState$1=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.RESET_STATE),AddSubResourceInteraction=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.ADD_SUB_RESOURCE_INTERACTION),GetMicroconceptSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_MICROCONCEPT_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTopicSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TOPIC_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSectionSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SECTION_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),ResetSubResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.RESET_SUB_RESOURCE_STATE),UpsertSubResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPSERT_SUB_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),RemoveSubResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.REMOVE_SUB_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateLessonState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_LESSON_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),revisePlayerActions={GetLesson,GetLessonSuccess,GetLessonFailed,GetNotes,GetAttemptedLesson,GetAttemptedLessonSuccess,GetAttemptedLessonFailed,GetTqs,GetTqsBigIdea,DeleteNote,GetPractiseTqs,GetTestTqs,GetTqsSuccess,GetTqsResourceSuccess,GetTqsFailed,GetSubResourceSuccess,GetSubResourceFailed,IsTqsEmpty,UpdateTqState,UpdateResourceState,UpdateBulkResourceState,UpdateSubResourceState,UpdateSectionState,GetSubResource,GetSubResourceLocal,ResetState:ResetState$1,AddSubResourceInteraction,GetMicroconceptSuccess,GetTopicSuccess,GetSectionSuccess,ResetSubResourceState,UpsertSubResource,RemoveSubResource,UpdateLessonState},defaultTq={ids:[],entities:{}},defaultResource$1={ids:[],entities:{}},defaultSubResource={ids:[],entities:{}},defaultMicroconcept={ids:[],entities:{}},defaultTopicState={ids:[],entities:{}},defaultSectionState={ids:[],entities:{}},\u02750$a=t=>t.tqId,tqAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$a}),\u02751$6=t=>t.resourceId,resourceAdapter$1=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02751$6}),\u02752$6=t=>t.subResourceId,subResourceAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02752$6}),\u02753$5=t=>t.id,microconceptAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02753$5}),\u02754$5=t=>t.id,topicAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02754$5}),\u02755$4=t=>t.id,sectionAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02755$4}),tqInitialState=tqAdapter.getInitialState(defaultTq),resourceInitialState$1=resourceAdapter$1.getInitialState(defaultResource$1),subResourceInitialState=subResourceAdapter.getInitialState(defaultSubResource),microconceptIntialState=microconceptAdapter.getInitialState(defaultMicroconcept),topicIntialState=topicAdapter.getInitialState(defaultTopicState),sectionInitialState=sectionAdapter.getInitialState(defaultSectionState),initialState$3={tq:tqInitialState,resource:resourceInitialState$1,subResource:subResourceInitialState,microconcept:microconceptIntialState,topic:topicIntialState,section:sectionInitialState,isTqsEmpty:!0,goalsAchieved:0,lessonScore:0,timeSpent:0,lessonStatus:1,error:"",success:""},revisePlayerState={defaultTq,defaultResource:defaultResource$1,defaultSubResource,defaultMicroconcept,defaultTopicState,defaultSectionState,tqAdapter,resourceAdapter:resourceAdapter$1,subResourceAdapter,microconceptAdapter,topicAdapter,sectionAdapter,initialState:initialState$3},getRevisePlayerFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.revisePlayer),\u02750$b=t=>t.tq,tqState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02750$b),\u02751$7=t=>t.resource,resourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02751$7),\u02752$7=t=>t.subResource,subResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02752$7),\u02753$6=t=>t.topic,topicState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02753$6),\u02754$6=t=>t.section,sectionState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02754$6),{selectAll:selectAllTqs}=revisePlayerState.tqAdapter.getSelectors(tqState),{selectAll:selectAllResource}=revisePlayerState.resourceAdapter.getSelectors(resourceState),{selectAll:selectAllSubResource}=revisePlayerState.subResourceAdapter.getSelectors(subResourceState),{selectAll:selectAllTopics}=revisePlayerState.topicAdapter.getSelectors(topicState),{selectAll:selectAllSections}=revisePlayerState.sectionAdapter.getSelectors(sectionState),\u02755$5=(t,e)=>0===e.length,isTqsEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(tqState,selectAllTqs,\u02755$5),\u02756$4=(t,e)=>{const n=t.find(t=>t.tqId===e.id);return n?n.confidence:null},getTqConfidence=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllTqs,\u02756$4),getResourceByTq=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourceState,selectAllResource,(t,e,n)=>e.filter(t=>t.tqId===n.tqId)),\u02757$3=getResourceByTq,getAllResource=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourceState,selectAllResource,(t,e,n)=>e.filter(t=>t.tqId===n.tpId)),\u02758$3=getAllResource,getResourceByResourceId$1=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourceState,selectAllResource,(t,e,n)=>e.filter(t=>t.resourceId===n.resourceId)[0]),\u02759$2=getResourceByResourceId$1,isSubResourcePresent=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(subResourceState,selectAllSubResource,(t,e,n)=>{const i=e.filter(t=>t.subResourceId===n.subResource.id);return 0===i.length?null:i[0]}),\u027510$2=isSubResourcePresent,getSubResourceByKeyValue=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(subResourceState,selectAllSubResource,(t,e,n)=>e.filter(t=>t[n.key]===n.value)),\u027511$2=getSubResourceByKeyValue,getTotalResourceTypeLength=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourceState,selectAllResource,(t,e,n)=>{const i=[];return 0===e.length||n.resourceType.map(t=>{let n=0;e.filter(e=>e.resourceType===t).map(t=>n+=t.data.length),i.push({type:t,value:n})}),i}),\u027512$2=getTotalResourceTypeLength,\u027513$2=(t,e)=>t.filter(t=>t.tqId===e.tqId&&"quiz"===t.resourceType),getSubResourceListByTq=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllSubResource,\u027513$2),\u027514$2=(t,e)=>t.filter(t=>t.tpid===e.tpid),getTqsListByTopic=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllTqs,\u027514$2),\u027515$2=(t,e)=>{let n=0;const i=t.filter(t=>t.resourceType===RevisePLayerResourceType.VIDEO),r=e.filter(t=>t.subResourceState===SubResourceState.COMPLETED);return i.length>0&&r.length>0&&(n=r.length/i.length*100),n},getVideoTarget=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllResource,selectAllSubResource,\u027515$2),\u027516$2=(t,e)=>{const n=e.filter(t=>t.resourceType===RevisePLayerResourceType.QUIZ),i=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(t);return console.log("resourcesCopy",i),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(i).filter(t=>t.resourceType===RevisePLayerResourceType.QUIZ).map(t=>t.data).flatten().map(t=>{const e=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(n,{subResourceId:t.id});return e&&e.state&&(t.state=e.state),t}).value()},getReviseAttemptedData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllResource,selectAllSubResource,\u027516$2),\u027517$2=(t,e)=>{const n=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(t);return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(n).map(t=>{const n=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(e,{tqId:t.tqId,resourceType:RevisePLayerResourceType.VIDEO});return n&&(t.remedial=n.data[0]),t}).value()},getTqsWithRemedial=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllTqs,selectAllResource,\u027517$2),\u027518$2=t=>({lessonStatus:t.lessonStatus,timeSpent:t.timeSpent,lessonScore:t.lessonScore,goalsAchieved:t.goalsAchieved}),getLessonObjectiveData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u027518$2),revisePlayerSelector={getTqConfidence,selectAllTopics,selectAllSections,selectAllSubResource,selectAllResource,selectAllTqs,tqState,resourceState,subResourceState,topicState,sectionState,isTqsEmpty,getSubResourceListByTq,getTqsListByTopic,getVideoTarget,getReviseAttemptedData,getTqsWithRemedial,getLessonObjectiveData,getResourceByTq,getAllResource,getResourceByResourceId:getResourceByResourceId$1,isSubResourcePresent,getSubResourceByKeyValue,getTotalResourceTypeLength},\u02750$c=(t,{payload:e})=>Object.assign(Object.assign({},t),{tq:revisePlayerState.tqAdapter.upsertMany(e,t.tq)}),\u02751$8=(t,{payload:e})=>Object.assign(Object.assign({},t),{resource:revisePlayerState.resourceAdapter.upsertMany(e,t.resource)}),\u02752$8=(t,{payload:e})=>Object.assign(Object.assign({},t),{error:e}),\u02753$7=(t,{payload:e})=>Object.assign(Object.assign({},t),{subResource:revisePlayerState.subResourceAdapter.removeOne(e.id,t.subResource)}),\u02754$7=(t,{payload:e})=>Object.assign(Object.assign({},t),{isTqsEmpty:e}),\u02755$6=(t,{payload:e})=>Object.assign(Object.assign({},t),{tq:revisePlayerState.tqAdapter.updateOne(e,t.tq)}),\u02756$5=(t,{payload:e})=>Object.assign(Object.assign({},t),{resource:revisePlayerState.resourceAdapter.updateOne(e,t.resource)}),\u02757$4=(t,{payload:e})=>Object.assign(Object.assign({},t),{resource:revisePlayerState.resourceAdapter.upsertMany(e,t.resource)}),\u02758$4=(t,{payload:e})=>Object.assign(Object.assign({},t),{subResource:revisePlayerState.subResourceAdapter.updateOne(e,t.subResource)}),\u02759$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{subResource:revisePlayerState.subResourceAdapter.addMany(e,t.subResource)}),\u027510$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{microconcept:revisePlayerState.microconceptAdapter.addMany(e,t.microconcept)}),\u027511$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{topic:revisePlayerState.topicAdapter.addMany(e,t.topic)}),\u027512$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{section:revisePlayerState.sectionAdapter.addMany(e,t.section)}),\u027513$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{section:revisePlayerState.sectionAdapter.addOne(e,t.section)}),\u027514$3=t=>Object.assign(Object.assign({},t),{subResource:revisePlayerState.subResourceAdapter.removeAll(t.subResource)}),\u027515$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{subResource:revisePlayerState.subResourceAdapter.upsertOne(e,t.subResource)}),\u027516$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{subResource:revisePlayerState.subResourceAdapter.removeOne(e.subResourceId,t.subResource)}),\u027517$3=(t,{payload:e})=>Object.assign(Object.assign({},t),{lessonStatus:e.lessonStatus,timeSpent:e.timeSpent,lessonScore:e.lessonScore,goalsAchieved:e.goalsAchieved}),\u027518$3=t=>Object.assign({},revisePlayerState.initialState),revisePlayerReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(revisePlayerState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetTqsSuccess,\u02750$c),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetTqsResourceSuccess,\u02751$8),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetTqsFailed,\u02752$8),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.DeleteNote,\u02753$7),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.IsTqsEmpty,\u02754$7),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateTqState,\u02755$6),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateResourceState,\u02756$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateBulkResourceState,\u02757$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateSubResourceState,\u02758$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetSubResourceSuccess,\u02759$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetMicroconceptSuccess,\u027510$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetTopicSuccess,\u027511$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetSectionSuccess,\u027512$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateSectionState,\u027513$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.ResetSubResourceState,\u027514$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpsertSubResource,\u027515$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.RemoveSubResource,\u027516$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateLessonState,\u027517$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.ResetState,\u027518$3));function reducers$2(t,e){return revisePlayerReducer(t,e)}const revisePlayerReducers={reducers:reducers$2};let RevisePlayerService=(()=>{class t{constructor(t,e){this.http=t,this.apiUrlService=e}getNotes(t){return this.http.get(this.apiUrlService.getNotes(t)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getRevise(t){const e=[];return t.tqs.forEach(t=>e.push(t.id)),this.http.get(this.apiUrlService.getLessonRevisePlayerUrl(t.book.id,ApiRequestEnum.API),{params:{id:e}}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getBigIdea(t){const e=[];return t.tqs.forEach(t=>e.push(t.id)),this.http.get(this.apiUrlService.getBigIdeaPlayerUrl(t.book.id,ApiRequestEnum.API),{params:{id:["tq-968c512f-ff58-4529-8733-27dd504d56cb"]}}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getSubResource(t,e){return this.http.get(this.apiUrlService.getLessonRevisePlayerResourceUrl(e,t.tqId,t.resourceType,t.subResourceId,t.playerType)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>this.errorHandler(t)))}getSubResourceLocal(t,e){return this.http.get(this.apiUrlService.getLessonRevisePlayerResourceLocalUrl(e,t.tqId,t.resourceType,t.subResourceId,t.playerType)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>this.errorHandler(t)))}errorHandler(t){return console.log("RevisePlayerService -> errorHandler -> error",t),Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t)}getPractise(t){const e=[];t.lesson.tqs.forEach(t=>e.push(t.id)),[].push({id:t.lesson.tp.id,title:t.lesson.tp.label});const n={lessonId:t.lesson.resourceId,sessionId:t.sessionId,grule:{tqid:t.lesson.tqs.map(t=>t.id),mode:3,sections:0},data:{topic:[{id:t.lesson.tp.id,title:t.lesson.tp.label}]}};return Object(rxjs__WEBPACK_IMPORTED_MODULE_19__.a)([this.http.post(this.apiUrlService.getPractiseConfigUrl(t.lesson.book.id,ApiRequestEnum.API),n)]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(([t])=>Object.assign({},t)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getTest(t){const e=[],n=t.lesson.tp;n.map(t=>({id:t.id,title:t.label})),t.lesson.tqs.forEach(t=>e.push(t.id));const i={lessonId:t.lesson.resourceId,sessionId:t.sessionId,grule:{tqid:t.lesson.tqs.map(t=>t.id),mode:3,sections:0},data:{topic:n}};return Object(rxjs__WEBPACK_IMPORTED_MODULE_19__.a)([this.http.post(this.apiUrlService.getTestConfigUr(t.lesson.book.id,ApiRequestEnum.API),i)]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(([t])=>Object.assign({},t)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getLessonPayerModuleData(t,e){return this.http.post(this.apiUrlService.getLessonPayerModuleDataUrl(t),e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t)))}getAttemptedLessonPayerModuleData(t){return console.log("3.3.7 api",Date()),this.http.get(this.apiUrlService.getLessonPayerModuleDataUrl(t)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_38__.a)(t=>t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_39__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_40__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)("Giving up Retry.!")))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),RevisePlayerEffects=(()=>{class t{constructor(t,e){this.actions$=t,this.revisePlayerService=e,this.resourceMap={assets:RevisePLayerResourceType.VIDEO,questions:RevisePLayerResourceType.QUIZ},this.getLessonPlayerData$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetLesson),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getLessonPayerModuleData(t.payload.lessonUrlData,t.payload.body).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>{console.log("LP - End 3.3.2 => ",new Date),console.log("LP - End 3.3.2 => ",e);const n=this.createTqEntityState(e,t.payload.lessonData),i=this.createResourceForNotAttempted(e.sessionData);return[revisePlayerActions.GetTqsSuccess({payload:n}),revisePlayerActions.GetTqsResourceSuccess({payload:i})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:t.message})))))),this.getAttemptedLessonPlayerData$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetAttemptedLesson),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getAttemptedLessonPayerModuleData(t.payload.lessonUrlData).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>{console.log("3.3.7 api resonse",e,Date());const n=this.createTqEntityState(e,t.payload.lessonData),i=this.createResourceForAttempted(e.sessionData);return[revisePlayerActions.GetTqsSuccess({payload:n}),revisePlayerActions.GetTqsResourceSuccess({payload:i}),revisePlayerActions.UpdateLessonState({payload:{lessonStatus:e.sessionData.lessonStatus,timeSpent:e.sessionData.timeSpent,goalsAchieved:e.sessionData.goalsAchieved,lessonScore:e.sessionData.lessonScore}})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>(console.log("RevisePlayerEffects -> err",t),Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:t}))))))),this.getRevise$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetTqs),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getRevise(t.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{if(t.length>0){let e=[],n=[];for(let i=0;i<t.length;i++){e.push({tqId:t[i].tqId,label:t[i].label,TpRef:t[i].TpRef,tqState:TqState.UNLOCK});for(let e=0;e<Object.keys(t[i].revise).length;e++){const r=this.resourceMap[Object.keys(t[i].revise)[e]];0!==t[i].revise[Object.keys(t[i].revise)[e]].length&&n.push({tqId:t[i].tqId,resourceId:`${t[i].tqId}_${r}`,resourceType:r,data:t[i].revise[Object.keys(t[i].revise)[e]],resourceState:ResourceState.UNLOCK})}0!==t[i].summary.cards.length&&n.push({tqId:t[i].tqId,resourceId:`${t[i].tqId}_${RevisePLayerResourceType.SUMMARY}`,resourceType:RevisePLayerResourceType.SUMMARY,data:t[i].summary.cards,resourceState:ResourceState.UNLOCK})}return[revisePlayerActions.GetTqsSuccess({payload:e}),revisePlayerActions.GetTqsResourceSuccess({payload:n})]}return[revisePlayerActions.IsTqsEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:t.message})))))),this.getBigIdea$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetTqsBigIdea),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getBigIdea(t.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{if(t.length>0){let e=[],n=[];for(let i=0;i<t.length;i++){e.push({tqId:t[i].tqId,label:t[i].label,TpRef:t[i].tpId,tqState:TqState.UNLOCK});for(let e=0;e<Object.keys(t[i].bigIdea).length;e++){const r=this.resourceMap[Object.keys(t[i].bigIdea)[e]];0!==t[i].bigIdea[Object.keys(t[i].bigIdea)[e]].length&&n.push({tqId:t[i].tqId,resourceId:`${t[i].tqId}_${r}`,resourceType:r,data:t[i].bigIdea[Object.keys(t[i].bigIdea)[e]],resourceState:ResourceState.UNLOCK})}t[i].summary&&0!==t[i].summary.cards.length&&n.push({tqId:t[i].tqId,resourceId:`${t[i].tqId}_${RevisePLayerResourceType.SUMMARY}`,resourceType:RevisePLayerResourceType.SUMMARY,data:t[i].summary.cards,resourceState:ResourceState.UNLOCK})}return[revisePlayerActions.GetTqsSuccess({payload:e}),revisePlayerActions.GetTqsResourceSuccess({payload:n})]}return[revisePlayerActions.IsTqsEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:t.message})))))),this.$getNotes=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetNotes),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getNotes(t.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{let e=[];return t.forEach((t,n)=>{var i,r;const s={title:null==t?void 0:t.title,assets:[{type:"text",value:null===(i=t.context.data.interactions)||void 0===i?void 0:i.action.params.text}],interactions:t.context.data.interactions,attachments:t.note.attachments},o={noteId:t.note.id,tqId:t.context.tqId,resourceType:"stunote",subResourceId:null===(r=t.context.data.interactions)||void 0===r?void 0:r.subResourceId,data:s};e.push(o)}),[revisePlayerActions.GetSubResourceSuccess({payload:e})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetSubResourceFailed({payload:t})))))),this.getPractise$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetPractiseTqs),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getPractise(t.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{console.log(t),console.log("questionSet",t.qpsections);const e=t.qpsections;if(t.data.tq.length>0){const n=[],i=[],r=[...t.data.topic],s=["questions","remedial"];for(const o of t.data.tq){n.push({tqId:o.tq_id,label:o.title,TpRef:"",tqState:TqState.UNLOCK,confidence:0,tpid:o.tp_id}),i.push({tqId:o.tq_id,resourceId:`${o.tq_id}_${s[1]}`,resourceType:s[1],data:o.remedial,resourceState:ResourceState.UNLOCK});const t=[];for(const n of e){const e=n.questionset.filter(t=>o.tq_id===t.tqid);t.push(...e)}i.push({tqId:o.tq_id,resourceId:`${o.tq_id}_${s[0]}`,resourceType:s[0],data:t,resourceState:ResourceState.UNLOCK})}return[revisePlayerActions.GetTqsSuccess({payload:n}),revisePlayerActions.GetTqsResourceSuccess({payload:i}),revisePlayerActions.GetTopicSuccess({payload:r})]}return[revisePlayerActions.IsTqsEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:t.message})))))),this.getTest$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetTestTqs),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getTest(t.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>{console.log(t),console.log("questionSet",t.qpsections);const e=t.qpsections;if(t.data.tq.length>0){const n=[],i=[],r=[...t.data.topic],s=[],o=["questions","remedial"];e.forEach((t,e)=>{const n=`sec_${e}`;s.push({title:t.sectiontitle,id:n}),t.questionset.forEach(t=>{t.sectionId=n})});for(const a of t.data.tq){n.push({tqId:a.tq_id,label:a.title,TpRef:"",tqState:TqState.UNLOCK,confidence:0,tpid:a.tp_id}),i.push({tqId:a.tq_id,resourceId:`${a.tq_id}_${o[1]}`,resourceType:o[1],data:a.remedial,resourceState:ResourceState.UNLOCK});const t=[];for(const n of e){const e=n.questionset.filter(t=>a.tq_id===t.tqid);t.push(...e)}i.push({tqId:a.tq_id,resourceId:`${a.tq_id}_${o[0]}`,resourceType:o[0],data:t,resourceState:ResourceState.UNLOCK})}return[revisePlayerActions.GetTqsSuccess({payload:n}),revisePlayerActions.GetTqsResourceSuccess({payload:i}),revisePlayerActions.GetTopicSuccess({payload:r}),revisePlayerActions.GetSectionSuccess({payload:s})]}return[revisePlayerActions.IsTqsEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:t.message})))))),this.$getSubResource=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetSubResource),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getSubResource(t.payload.resource,t.payload.bookId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>{const n=Object.assign({},t.payload.resource);return n.data=e,[revisePlayerActions.GetSubResourceSuccess({payload:[n]})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetSubResourceFailed({payload:t})))))),this.$getSubResourceLocal=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetSubResourceLocal),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.revisePlayerService.getSubResourceLocal(t.payload.resource,t.payload.bookId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>{const n=Object.assign({},t.payload.resource);return n.data=e,[revisePlayerActions.GetSubResourceSuccess({payload:[n]})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetSubResourceFailed({payload:t.message}))))))}createTqEntityState(t,e){const n=t.sessionData.confidence;let i=JSON.parse(localStorage.getItem("lessonPortion"));return i?(i.portion=t.portion,localStorage.setItem("lessonPortion",JSON.stringify(i))):localStorage.setItem("lessonPortion",JSON.stringify(t)),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(t.portion.node).flatten().map(t=>t.node).flatten().map(t=>{if(t.node[0].id.includes("tp")){let i;return lodash__WEBPACK_IMPORTED_MODULE_6__(t.node).map(t=>(i=t,t.node)).flatten().map(t=>{const r=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(n,{id:t.id}),s=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.merge)(t,r);return{tqId:s.id,label:s.label,tqState:this.getTqState(e.lessonState),tpId:i.id,tpLabel:i.label,before:s.before,after:s.after||s.before}}).value()}return lodash__WEBPACK_IMPORTED_MODULE_6__(t.node).map(i=>{const r=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(n,{id:i.id}),s=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.merge)(i,r);return{tqId:s.id,label:s.label,tqState:this.getTqState(e.lessonState),tpId:t.id,tpLabel:t.label,before:s.before,after:s.after||s.before}}).value()}).flatten().value()}getTqState(t){return IntroObjectiveTypes.SUCCESS===t?TqState.SUCCESS_COMPLETED:TqState.UNLOCK}createResourceForNotAttempted(t){let e=[],n=[];return t.questions&&(n=this.createQuestionStateFormat(t.questions)),e=this.createResourceEntityState(t),[...n,...e]}createResourceForAttempted(t){let e=[],n=[];return t.attempts&&(n=this.createQuestionStateFormat(t.attempts)),e=this.createResourceEntityState(t),[...n,...e]}createResourceEntityState(t){let e=[],n=[],i=[],r=[],s=[];return t.assets&&(e=this.createAssetStateFormat(t.assets)),t.summary&&(n=this.createSummaryStateFormat(t.summary)),t.collection&&(i=this.createStudyNoteStateFormat(t.collection)),t.resources&&(r=this.createWorksheetStateFormat(t.resources)),t.printResources&&(s=this.createPrintTestStateFormat(t.printResources)),[...e,...n,...i,...r,...s]}createQuestionStateFormat(t){const e=RevisePLayerResourceType.QUIZ;return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(t).groupBy("tqId").map((t,n)=>({tqId:n,resourceId:`${n}_${e}`,resourceType:e,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(t,"order","asc"),resourceState:ResourceState.UNLOCK})).value()}createAssetStateFormat(t){return[...Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(t).filter(t=>t.type===RevisePLayerResourceType.VIDEO).map(t=>({tqId:t.tqId,resourceId:`${t.tqId}_${RevisePLayerResourceType.VIDEO}`,resourceType:RevisePLayerResourceType.VIDEO,data:[t],resourceState:ResourceState.UNLOCK})).value()]}createSummaryStateFormat(t){return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(t).groupBy("tqId").map((t,e)=>({tqId:e,resourceId:`${e}_${RevisePLayerResourceType.SUMMARY}`,resourceType:RevisePLayerResourceType.SUMMARY,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(t,"order","asc"),resourceState:ResourceState.UNLOCK})).value()}createStudyNoteStateFormat(t){return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(t).groupBy("tqId").map((t,e)=>({tqId:e,resourceId:`${e}_${RevisePLayerResourceType.STUDINOTE}`,resourceType:RevisePLayerResourceType.STUDINOTE,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(t,"order","asc"),resourceState:ResourceState.UNLOCK})).value()}createWorksheetStateFormat(t){return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(t).groupBy("tqId").map((t,e)=>({tqId:e,resourceId:`${e}_${RevisePLayerResourceType.WORKSHEET}`,resourceType:RevisePLayerResourceType.WORKSHEET,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(t,"order","asc"),resourceState:ResourceState.UNLOCK})).value()}createPrintTestStateFormat(t){return console.log(t,"print resource data in effects.ts"),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(t).groupBy("tqId").map((t,e)=>({tqId:"",resourceId:`${RevisePLayerResourceType.MOCKTEST}`,resourceType:RevisePLayerResourceType.MOCKTEST,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(t,"order","asc"),resourceState:ResourceState.UNLOCK})).value()}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(RevisePlayerService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getLessonPlayerData$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getAttemptedLessonPlayerData$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getRevise$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getBigIdea$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"$getNotes",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getPractise$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getTest$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"$getSubResource",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"$getSubResourceLocal",void 0),t})();var MyLessonActionTypes=function(t){return t.GET_MY_LESSON="[MyLesson] GET_MY_LESSON",t.GET_MY_LESSON_FAILED="[MyLesson] GET_MY_LESSON_FAILED",t.SET_ACTIVE_MY_LESSON="[MyLesson] SET_ACTIVE_MY_LESSON",t.SET_ACTIVE_MY_LESSON_BOOK="[MyLesson] SET_ACTIVE_MY_LESSON_BOOK",t.SET_MY_LESSON="[MyLesson] SET_MY_LESSON",t.SELECT_ACTIVE_MY_LESSON="[MyLesson] SELECT_ACTIVE_MY_LESSON",t.SET_MY_LESSON_CONFIG="[MyLesson] SET_MY_LESSON_CONFIG",t.SET_MY_LESSON_CONFIG_SUCCESS="[MyLesson] SET_MY_LESSON_CONFIG_SUCCESS",t.SET_MY_LESSON_CONFIG_FAILED="[MyLesson] SET_MY_LESSON_CONFIG_FAILED",t.SET_PREV_STUDY_RING="[MyLesson] SET_PREV_STUDY_RING",t.SET_CURRENT_STUDY_RING="[MyLesson] SET_CURRENT_STUDY_RING",t.UPDATE_ACTIVE_MY_LESSON="[MyLesson] UPDATE_ACTIVE_MY_LESSON",t.GET_ACTIVE_PLAN="[MyLesson] GET_ACTIVE_PLAN",t.SET_ACTIVE_PLAN_SUCCESS="[MyLesson] SET_ACTIVE_PLAN_SUCCESS",t.SET_ACTIVE_PLAN_FAILED="[MyLesson] SET_ACTIVE_PLAN_FAILED",t.RESET_STATE="[MyLesson] RESET_STATE",t.UPSERT_LESSON_FROM_SCHEDULE="[MyLesson] UPSERT_LESSON_FROM_SCHEDULE",t.GET_PROGRESS_REPORT="[MyLesson] GET_PROGRESS_REPORT",t.SET_PROGRESS_REPORT="[MyLesson] SET_PROGRESS_REPORT",t.SET_PROGRESS_REPORT_FAILED="[MyLesson] SET_PROGRESS_REPORT_FAILED",t}({});const GetMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.GET_MY_LESSON),GetMyLessonFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.GET_MY_LESSON_FAILED),SetActiveMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_ACTIVE_MY_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetActiveMyLessonBook=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_ACTIVE_MY_LESSON_BOOK,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_MY_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SelectActiveMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SELECT_ACTIVE_MY_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpsertLessonFromSchedule=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.UPSERT_LESSON_FROM_SCHEDULE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetMyLessonConfig=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_MY_LESSON_CONFIG,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetMyLessonConfigSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_MY_LESSON_CONFIG_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetMyLessonConfigFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_MY_LESSON_CONFIG_FAILED),SetPreviousStudyRing=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_PREV_STUDY_RING,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetCurrentStudyRing=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_CURRENT_STUDY_RING,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateActiveMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.UPDATE_ACTIVE_MY_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetActivePlan=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.GET_ACTIVE_PLAN),SetActivePlanSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_ACTIVE_PLAN_SUCCESS),SetActivePlanFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_ACTIVE_PLAN_FAILED),ResetState$2=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.RESET_STATE),GetProgressReport=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.GET_PROGRESS_REPORT),SetProgressReport=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_PROGRESS_REPORT,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetProgressReportFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_PROGRESS_REPORT_FAILED),fromMyLessonActions={GetMyLesson,GetMyLessonFailed,SetActiveMyLesson,SetActiveMyLessonBook,SetMyLesson,SelectActiveMyLesson,UpsertLessonFromSchedule,SetMyLessonConfig,SetMyLessonConfigSuccess,SetMyLessonConfigFailed,SetPreviousStudyRing,SetCurrentStudyRing,UpdateActiveMyLesson,GetActivePlan,SetActivePlanSuccess,SetActivePlanFailed,ResetState:ResetState$2,GetProgressReport,SetProgressReport,SetProgressReportFailed},defaultActiveMyLesson={ids:[],entities:{}},\u02750$d=t=>t.lessonId,activeMyLessonAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$d}),activeMyLessonEntityState=activeMyLessonAdapter.getInitialState(defaultActiveMyLesson),defaultActiveMyLessonBook={ids:[],entities:{}},activeMyLessonBookAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),activeMyLessonBookEntityState=activeMyLessonBookAdapter.getInitialState(defaultActiveMyLessonBook),initialState$4={planId:null,planLabel:null,planStatus:null,dailyStudyTime:null,planCreateDate:null,planGoalEndDate:null,planProjectedEndDate:null,version:null,lastUpdatedDate:null,pauseDate:null,activeMyLesson:activeMyLessonEntityState,activeMyLessonBook:activeMyLessonBookEntityState,selectedLessonId:null,prevRing:{lessons:{completed:0,total:0,percentage:0},duration:{completed:0,total:0,percentage:0},goals:{completed:0,total:0,percentage:0}},currentRing:{lessons:{completed:0,total:0,percentage:0},duration:{completed:0,total:0,percentage:0},goals:{completed:0,total:0,percentage:0}},nextLesson:null,versionHistory:[],completedTracker:[],plannedTracker:[],config:{},reports:[]},fromMyLessonState={defaultActiveMyLesson,activeMyLessonAdapter,defaultActiveMyLessonBook,activeMyLessonBookAdapter,initialState:initialState$4},getMyLessonFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.myLesson),{selectAll:selectAllActiveMyLesson}=fromMyLessonState.activeMyLessonAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,t=>t.myLesson.activeMyLesson)),{selectAll:selectAllActiveMyLessonBooks}=fromMyLessonState.activeMyLessonBookAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,t=>t.myLesson.activeMyLessonBook)),getMyLessonConfgByType=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,(t,e)=>t.myLesson.config[e.lessonType]),getSelectedMyLesson=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,selectAllActiveMyLesson,(t,e,n)=>{const i=t.myLesson.selectedLessonId;return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(e,{lessonId:i})}),getMyLesson=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,t=>t.myLesson),getReports=()=>Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,t=>t.myLesson.reports),\u02750$e=t=>({start:new Date(t.myLesson.planCreateDate),end:new Date(t.myLesson.planGoalEndDate)}),getScheduledRange=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,\u02750$e),\u02751$9=(t,e)=>{const n=lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce((t,e)=>e.totalLessons+t,0),i=lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce((t,e)=>e.lessonsCompleted+t,0),r=lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce((t,e)=>e.totalChapters+t,0),s=r-lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce((t,e)=>e.totalChaptersCompleted+t,0)||0,o=lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce((t,e)=>e.totalDuration+t,0),a=lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce((t,e)=>e.timeSpent+t,0);return{planLabel:t.myLesson.planLabel,planStudyTime:t.myLesson.dailyStudyTime,planStartDate:t.myLesson.planCreateDate,planEndDate:t.myLesson.planGoalEndDate,totalChapters:r,pendingChapters:s,totalLessons:n,completedLessons:i,totalDuration:o,totalDurationSpent:a}},getPlanControl=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,selectAllActiveMyLessonBooks,\u02751$9),\u02752$9=t=>t.myLesson.prevRing,getPreviousStudyRing=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,\u02752$9),\u02753$8=t=>t.myLesson.selectedLessonId,getSelectedLessonId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,\u02753$8),\u02754$8=t=>t.myLesson.currentRing,getCurrentStudyRing=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,\u02754$8),\u02755$7=t=>t,getActivePlanBook=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllActiveMyLessonBooks,\u02755$7),\u02756$6=(t,e)=>(console.log("allLessons",t),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(e,{lessonId:t.nextLesson})),getNextActiveLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getSelectedMyLesson(),selectAllActiveMyLesson,\u02756$6),fromMyLessonSelector={selectAllActiveMyLesson,selectAllActiveMyLessonBooks,getMyLessonConfgByType,getSelectedMyLesson,getMyLesson,getReports,getScheduledRange,getPlanControl,getPreviousStudyRing,getSelectedLessonId,getCurrentStudyRing,getActivePlanBook,getNextActiveLesson},\u02750$f=(t,{lessons:e})=>Object.assign(Object.assign({},t),{activeMyLesson:fromMyLessonState.activeMyLessonAdapter.setAll(e,Object.assign({},t.activeMyLesson))}),\u02751$a=(t,{books:e})=>Object.assign(Object.assign({},t),{activeMyLessonBook:fromMyLessonState.activeMyLessonBookAdapter.setAll(e,Object.assign({},t.activeMyLessonBook))}),\u02752$a=(t,{lessonId:e})=>Object.assign(Object.assign({},t),{selectedLessonId:e}),\u02753$9=(t,{configType:e,configData:n})=>{const i={};i[e]=n;const r=Object.assign(Object.assign({},t.config),i);return Object.assign(Object.assign({},t),{config:r})},\u02754$9=(t,{studyPlan:e})=>Object.assign(Object.assign({},t),e),\u02755$8=(t,{ringData:e})=>Object.assign(Object.assign({},t),{prevRing:e}),\u02756$7=(t,{ringData:e})=>Object.assign(Object.assign({},t),{currentRing:e}),\u02757$5=(t,{data:e})=>Object.assign(Object.assign({},t),{activeMyLesson:fromMyLessonState.activeMyLessonAdapter.updateMany(e,t.activeMyLesson)}),\u02758$5=t=>Object.assign(Object.assign({},fromMyLessonState.initialState),{selectedLessonId:t.selectedLessonId}),\u02759$4=(t,{lesson:e})=>Object.assign(Object.assign({},t),{activeMyLesson:fromMyLessonState.activeMyLessonAdapter.upsertOne(e,Object.assign({},t.activeMyLesson))}),\u027510$4=(t,{reportArray:e})=>Object.assign(Object.assign({},t),{reports:e}),\u027511$4=(t,{})=>Object.assign(Object.assign({},t),{reports:[]}),myLessonReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(fromMyLessonState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetActiveMyLesson,\u02750$f),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetActiveMyLessonBook,\u02751$a),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SelectActiveMyLesson,\u02752$a),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetMyLessonConfigSuccess,\u02753$9),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetMyLesson,\u02754$9),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetPreviousStudyRing,\u02755$8),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetCurrentStudyRing,\u02756$7),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.UpdateActiveMyLesson,\u02757$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.ResetState,\u02758$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.UpsertLessonFromSchedule,\u02759$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetProgressReport,\u027510$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetProgressReportFailed,\u027511$4));function reducer$2(t,e){return myLessonReducer(t,e)}const reducers$3={myLesson:reducer$2};function localStorageSyncReducer$2(t){return Object(ngrx_store_localstorage__WEBPACK_IMPORTED_MODULE_47__.a)({keys:[StoreStateEnum.myLesson],rehydrate:!0})(t)}const metaReducers$2=[localStorageSyncReducer$2],fromMyLessonReducers={reducers:reducers$3,localStorageSyncReducer:localStorageSyncReducer$2,metaReducers:metaReducers$2};let MyLessonStoreService=(()=>{class t{constructor(t,e){this.http=t,this.apiUrlService=e}getMyLesson(t,e){return this.http.put(this.apiUrlService.getMyLessonUrl(e),t).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getMyLessonConfig(t){return this.http.get(this.apiUrlService.getMyLessonConfigUrl(t)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getActiveStudyPlan(t,e,n,i){return this.http.get(this.apiUrlService.getActiveStudyPlanUrl(t,e,n,i)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}getAllReportNames(){return this.http.get(this.apiUrlService.getAllReportNames()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}headAllReportNames(){return this.http.head(this.apiUrlService.getAllReportNames(),{observe:"response"}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t.message)))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),MyLessonEffects=(()=>{class t{constructor(t,e,n,i,r){this.actions$=t,this.store=e,this.coreService=n,this.myLessonStoreService=i,this.timeUtilityService=r,this.getMyLesson$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromMyLessonActions.GetMyLesson),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(this.store),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(([t,e])=>{const n=e.myLesson.myLesson.planId;return this.myLessonStoreService.getMyLesson({dailyStudyTime:e.myLesson.myLesson.dailyStudyTime,goalEndDate:e.myLesson.myLesson.planGoalEndDate,lastUpdatedDate:e.myLesson.myLesson.lastUpdatedDate},n).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(t=>{const e=firebase__WEBPACK_IMPORTED_MODULE_4__.a.remoteConfig();return e.settings.minimumFetchIntervalMillis=36e5,e.defaultConfig={continue_study_bb:!1},Object(rxjs__WEBPACK_IMPORTED_MODULE_8__.a)(e.fetchAndActivate()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(()=>[t,e]))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(([t,e])=>{const i=e.getBoolean("continue_study_sp");console.log(new Date(e.fetchTimeMillis)),console.log("\ud83d\ude80 ~ file: effects.ts ~ line 61 ~ MyLessonEffects ~ switchMap ~ continue_study",i);const r=this.coreService.getAppConfig().mylesson.config.lessonType;let s=t.lessons;s=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.map)(s,e=>{const s=lodash__WEBPACK_IMPORTED_MODULE_6__(r).find({type:e.lessonType});return e.lessonMaxStar=s.maxStars,e.lessonMandatory=s.mandatory,e.lessonTarget=s.cuttOffScore,e.lessonStarByScore=s.starByScore,e.lessonOverflow=!0===s.markAsCompleteMandatory?s.overflow:void 0,e.moduleId=n,t.nextLesson&&i&&(e.nextLesson=t.nextLesson.lessonId),e});const o=this.calculateLessonRate(t.versionHistory),a=t.completedTracker,c=t.plannedTracker;return[fromMyLessonActions.SetActiveMyLesson({lessons:s}),fromMyLessonActions.SetActiveMyLessonBook({books:t.books}),fromMyLessonActions.SetMyLesson({studyPlan:{versionHistory:o||[],completedTracker:a||[],plannedTracker:c||[]}})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.GetMyLessonFailed())))})),this.getMyLessonConfig$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromMyLessonActions.SetMyLessonConfig),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.myLessonStoreService.getMyLessonConfig(t.lessonType).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>[fromMyLessonActions.SetMyLessonConfigSuccess({configData:e,configType:t.lessonType})])).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetMyLessonConfigFailed())))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetMyLessonConfigFailed()))),this.getActivePlans$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromMyLessonActions.GetActivePlan),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(()=>this.myLessonStoreService.getActiveStudyPlan(0,1,"1").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>[fromMyLessonActions.SetMyLesson({studyPlan:t.data[0]})]))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetActivePlanFailed()))),this.GetProgressReports$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromMyLessonActions.GetProgressReport),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>204!==t.status?this.myLessonStoreService.getAllReportNames().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(t=>{let e=[];return t.reports.forEach(t=>{e.push({name:t,startDate:t.split("_")[0].replace(/(\d{2})-(\d{2})-(\d{4})/,"$2/$1/$3"),endDate:t.split("_")[1].substring(0,t.split("_")[1].length-5).replace(/(\d{2})-(\d{2})-(\d{4})/,"$2/$1/$3")})}),e}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>[fromMyLessonActions.SetProgressReport({reportArray:t})]),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetProgressReportFailed()))):[fromMyLessonActions.SetProgressReportFailed()]),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetProgressReportFailed())))}calculateLessonRate(t){return lodash__WEBPACK_IMPORTED_MODULE_6__(t).map(t=>{const e=this.timeUtilityService.differenceInTime(new Date(parseInt(t.goalEndDate)),new Date(parseInt(t.startDate)));return t.lessonRate=t.startPendingLessons/e.days||0,t}).value()}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(MyLessonStoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getMyLesson$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getMyLessonConfig$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"getActivePlans$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],t.prototype,"GetProgressReports$",void 0),t})();var NoteActionTypes=function(t){return t.UPSERT_NOTE_VIDEO_CONTEXT="[Note] UPSERT_NOTE_VIDEO_CONTEXT",t.DELETE_NOTE_VIDEO_CONTEXT="[Note] DELETE_NOTE_VIDEO_CONTEXT",t.UPSERT_NOTE="[Note] UPSERT_NOTE",t.DELETE_NOTE="[Note] DELETE_NOTE",t}({});const upsertNoteVideoContext=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(NoteActionTypes.UPSERT_NOTE_VIDEO_CONTEXT,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteNoteVideoContext=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(NoteActionTypes.DELETE_NOTE_VIDEO_CONTEXT,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertNote=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(NoteActionTypes.UPSERT_NOTE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteNote=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(NoteActionTypes.DELETE_NOTE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),fromNoteActions={upsertNoteVideoContext,deleteNoteVideoContext,upsertNote,deleteNote},defaultNoteVideoContext={ids:[],entities:{}},noteVideoContextAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),noteVideoContextEntityState=noteVideoContextAdapter.getInitialState(defaultNoteVideoContext),defaultNote={ids:[],entities:{}},noteAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),noteEntityState=noteAdapter.getInitialState(defaultNote),initialState$5={videoContext:noteVideoContextEntityState,note:noteEntityState},fromNoteState={defaultNoteVideoContext,noteVideoContextAdapter,defaultNote,noteAdapter,initialState:initialState$5},getNoteFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.note),{selectAll:selectAllNoteVideoContext}=fromNoteState.noteVideoContextAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getNoteFeatureState,t=>t.videoContext)),{selectAll:selectAllNote}=fromNoteState.noteAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getNoteFeatureState,t=>t.note)),\u02750$g=(t,e,n)=>{let i=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(lodash__WEBPACK_IMPORTED_MODULE_6__(t).filter(t=>t[n.key]===n.value).value());return lodash__WEBPACK_IMPORTED_MODULE_6__(i).map(t=>{const n=lodash__WEBPACK_IMPORTED_MODULE_6__(e).find({id:t.id}).attachments;return t.attachments=n,t}).value(),i},getVideoContextByKeyValue=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllNoteVideoContext,selectAllNote,\u02750$g),\u02751$b=(t,e)=>lodash__WEBPACK_IMPORTED_MODULE_6__(t).filter(t=>t.id===e.noteId).value(),getNoteById=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllNote,\u02751$b),fromNoteSelector={selectAllNoteVideoContext,selectAllNote,getVideoContextByKeyValue,getNoteById},\u02750$h=(t,{note:e})=>Object.assign(Object.assign({},t),{note:fromNoteState.noteAdapter.upsertMany(e,Object.assign({},t.note))}),\u02751$c=(t,{videoContext:e})=>Object.assign(Object.assign({},t),{videoContext:fromNoteState.noteVideoContextAdapter.upsertMany(e,Object.assign({},t.videoContext))}),\u02752$b=(t,{noteId:e})=>Object.assign(Object.assign({},t),{note:fromNoteState.noteAdapter.removeMany(e,Object.assign({},t.note))}),\u02753$a=(t,{noteId:e})=>Object.assign(Object.assign({},t),{videoContext:fromNoteState.noteVideoContextAdapter.removeMany(e,Object.assign({},t.videoContext))}),noteReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(fromNoteState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromNoteActions.upsertNote,\u02750$h),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromNoteActions.upsertNoteVideoContext,\u02751$c),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromNoteActions.deleteNote,\u02752$b),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromNoteActions.deleteNoteVideoContext,\u02753$a));function reducers$4(t,e){return noteReducer(t,e)}const fromNoteReducers={reducers:reducers$4},\u02750$i=(t,{details:e})=>Object.assign(Object.assign({},t),{parentUserProfile:e}),\u02751$d=(t,{details:e})=>Object.assign(Object.assign({},t),{childUserProfile:e}),\u02752$c=(t,{childList:e})=>Object.assign(Object.assign({},t),{childListSubscriptionDetails:fromUserProfileState.childListSubscriptionDetailsAdapter.upsertMany(e,Object.assign({},t.childListSubscriptionDetails))}),\u02753$b=(t,{details:e})=>Object.assign(Object.assign({},t),{profileImage:fromUserProfileState.profileImageAdapter.upsertOne(Object.assign({},e),t.profileImage)}),\u02754$a=(t,{details:e})=>Object.assign(Object.assign({},t),{profileImage:fromUserProfileState.profileImageAdapter.upsertOne(Object.assign({},e),t.profileImage)}),\u02755$9=(t,{oId:e})=>(console.log(`DISPATCHED ACTION TO FETCH CHILD PROFILE IMAGE! : ${e} MARKED!`),Object.assign(Object.assign({},t),{profileImage:fromUserProfileState.profileImageAdapter.upsertOne({oId:e,fetchStatus:"ACTIVE",image:""},t.profileImage)})),\u02756$8=(t,{status:e})=>Object.assign(Object.assign({},t),{childListIsEmpty:e}),\u02757$6=t=>Object.assign({},fromUserProfileState.initialState),userProfileReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(fromUserProfileState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertParentUserProfile,\u02750$i),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertChildUserProfile,\u02751$d),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertChildListSubscriptionDetails,\u02752$c),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertProfileImageOnGet,\u02753$b),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertProfileImageOnPost,\u02754$a),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.getProfileImage,\u02755$9),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.emptyChildListSubscriptionDetails,\u02756$8),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.removeAllProfileDetails,\u02757$6));function reducers$5(t,e){return userProfileReducer(t,e)}const fromUserProfileReducers={reducers:reducers$5};let UserProfileEffects=(()=>{class t{constructor(t,e,n,i,r){this.actions$=t,this.authenticationHttp=e,this.authenticationService=n,this.profileHttp=i,this.libTimeUtilityService=r,this.getChildDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.getChildUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(()=>this.authenticationHttp.getUserDetails(LoginTypeEnum.DEFAULT,{columns:this.authenticationService.childColumns}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(t=>fromUserProfileActions.upsertChildUserProfile({details:t})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getChildUserProfileFailed())))))),this.updateChildDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.updateChildUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.authenticationHttp.updateUserDetails(LoginTypeEnum.DEFAULT,t.body).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(e=>[fromUserProfileActions.upsertChildUserProfile({details:t.childProfileDetails}),fromUserProfileActions.upsertChildListSubscriptionDetails({childList:[t.childListDetails]})]),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getChildListSubscriptionDetailsFailed())))))),this.getParentDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.getParentUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(()=>this.authenticationHttp.getUserDetails(LoginTypeEnum.PARENT,{columns:this.authenticationService.parentColumns}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(t=>fromUserProfileActions.upsertParentUserProfile({details:t})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getParentUserProfileFailed({error:{status:t.status,message:null==t?void 0:t.error.errorMessage}}))))))),this.updateParentDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.updateParentUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.authenticationHttp.updateUserDetails(LoginTypeEnum.PARENT,t.body,t.serviceType).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(e=>fromUserProfileActions.upsertParentUserProfile({details:t.details})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.updateParentUserProfileFailed({error:t}))))))),this.getChildListSubscriptionDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.getChildListSubscriptionDetails),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(()=>this.authenticationHttp.getChildListSubscriptionDetails().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(t=>(t.map(t=>{var e;const n=new Date,i=(null===(e=t.products[0])||void 0===e?void 0:e.expiry)?new Date(t.products[0].expiry):n,r=this.libTimeUtilityService.differenceInTwoDays(i,n).days;return t.products[0].remaningDays=r>0?r:0,t}),0===t.length?(console.log("\ud83d\ude80 ~ file: effects.ts ~ line 104 ~ UserProfileEffects ~ map ~ emptyChildListSubscriptionDetails",t),fromUserProfileActions.emptyChildListSubscriptionDetails({status:!0})):fromUserProfileActions.upsertChildListSubscriptionDetails({childList:t}))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getChildListSubscriptionDetailsFailed())))))),this.getProfileImage$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.getProfileImage),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(t=>this.profileHttp.getProfileImage(t.oId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(e=>(console.log("\ud83d\ude80 ~ file: effects.ts ~ line 138 ~ UserProfileEffects ~ map ~ image",e),fromUserProfileActions.upsertProfileImageOnGet({details:{oId:t.oId,image:e,fetchStatus:"ACTIVE"}}))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getProfileImageFailed())))))),this.uploadProfileImage$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(()=>this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.uploadProfileImage),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(t=>this.profileHttp.uploadProfileImage(t.oId,t.image).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(e=>(console.log("\ud83d\ude80 ~ file: effects.ts ~ line 160 ~ UserProfileEffects ~ map ~ res",e),fromUserProfileActions.upsertProfileImageOnPost({details:{oId:t.oId,fetchStatus:"ACTIVE",image:t.imageBase64}}))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(t=>Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.postProfileImageFailed()))))))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AuthenticationHttp),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AuthenticationService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ProfileHttp),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),CachingService=(()=>{class t{constructor(t,e){this.store=t,this.coreService=e,this.appVersion=this.coreService.getAppVersion()}setStoreVersion(){const t=`${this.coreService.getAppVersion().major}.${this.coreService.getAppVersion().minor}`;localStorage.setItem("storeVersion",t)}checkIfStoreHasCache(){return Object.keys(StoreStateEnum).filter(t=>!!localStorage.getItem(t))}purgeCacheByVersion(){const t=this.checkIfStoreHasCache();for(let e=0;e<t.length;e++){const n=localStorage.getItem("storeVersion");n&&(parseInt(n.split(".")[0])<this.appVersion.major||parseInt(n.split(".")[1])<this.appVersion.minor)&&(console.log(`${t[e]} Store - Purged`),localStorage.removeItem(t[e]))}this.setStoreVersion()}purgeCacheByTtl(){}purgeCacheByUser(){}purgeNgrxFeatureStore(){this.purgeCacheByVersion()}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();var eventType=function(t){return t.ON_ATTEMPTED="onAttempted",t.ON_SUBMIT="onSubmit",t.ON_NEXT="onNext",t.START="start",t.QUESTION_LOADED="questionLoaded",t.QUESTION_SKIP="questionSkip",t.RETRY="retry",t}({});let PerformanceDataLayerService=(()=>{class t{constructor(t){this.analyticsService=t,this.question=[]}eventCaptutre(t,e,n,i,r,s){console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 36 ~ PerformanceDataLayerService ~ lessonData",r),console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 36 ~ PerformanceDataLayerService ~ eventData",t),console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 36 ~ PerformanceDataLayerService ~ evtype",s),console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 36 ~ PerformanceDataLayerService ~ questionData",e),t=this.getQuesDateById(e[0].questionID)||t,console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 43 ~ PerformanceDataLayerService ~ eventData",t),this.analyticsService.eventCapturing(t,e,n,i,r,r.lessonName+"_"+s,s)}setQuestionData(t){this.question=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(t)}setQuestionState(t,e,n){if(t){let e=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.findIndex)(this.question,{id:n});this.question[e].state=t}}updateQuestionList(t){let e=this.question[t];this.question.splice(t,1),this.question.push(e)}onQuestionLoad(t,e,n){let i=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.findIndex)(this.question,{id:n});null==this.question[i].state&&(this.question[i].state=t)}onNextQuestion(t,e,n){}onAttempted(t,e,n){this.updateOperation(t,n)}updateOperation(t,e){let n=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.findIndex)(this.question,{id:e}),i=this.question[n].state;i?(i=t,this.question[n].state=i):this.question[n].state=t}getQuesDateById(t){let e=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.findIndex)(this.question,{id:t});return this.question[e].state}ngOnDestroy(){this.question=[]}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AnalyticsService))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})(),DefaultDetailsResolverService=(()=>{class t{constructor(t,e,n,i,r){this.analyticsService=t,this.coreService=e,this.analytics=n,this.store=i,this.actionsSubject=r}resolve(t,e){return this.store.select(fromUserProfileSelectors.selectChildProfileDetails).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(t=>t?Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(t):(this.store.dispatch(fromUserProfileActions.getChildUserProfile()),this.actionsSubject.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.upsertChildUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(()=>this.store.select(fromUserProfileSelectors.selectChildProfileDetails))))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.a)(t=>{var e;if(this.coreService.setSchoolInfo(t),this.analyticsService.setDataLayerGTM(t),t.userSettings.info5){const n=t.userSettings.info5;this.analytics.setUserProperties({Grade:null===(e=null==n?void 0:n.grade)||void 0===e?void 0:e.name})}this.analytics.setUserProperties({UserId:t.userSettings.oid}),this.analytics.setUserId(t.userSettings.oid),window.Hansel.getUser().setUserID(t.userSettings.oid)}))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AnalyticsService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_fire_analytics__WEBPACK_IMPORTED_MODULE_49__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.a))},t.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new t(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(AnalyticsService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(CoreService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_fire_analytics__WEBPACK_IMPORTED_MODULE_49__.a),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.a))},token:t,providedIn:"root"}),t})();const fadeInOut=[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0,position:"absolute",top:0,left:0,width:"100%",background:"#fff",height:"100%","z-index":10})],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":leave",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("0.3s",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0}))],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("0.3s",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1}))],{optional:!0})],slideInOutAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("routeAnimation",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.e)("* => *",fadeInOut)]);function AnimateCloseModalDecorator(t,e=500){return function(n){const i=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close,r=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss,s=n.prototype.ngOnInit,o=n.prototype.ngOnDestroy;let a=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close,c=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss;n.prototype.ngOnInit=function(...n){_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.c=a,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close=function(n){const i=t.join(" ");document.querySelector(".modal-dialog").classList.add(i),setTimeout(()=>{this.c(n)},e)},_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.d=c,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss=function(n){const i=t.join(" ");document.querySelector(".modal-dialog").classList.add(i),setTimeout(()=>{this.d(n)},e)},s&&s.apply(this,n)},n.prototype.ngOnDestroy=function(...t){_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close=i,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss=r,a=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close,c=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss,o&&o.apply(this,t)}}}let SubjectThemeDirective=(()=>{class t{constructor(t,e,n){this.el=t,this.coreService=e,this.renderer=n,this.subjectId="default"}ngOnInit(){var t;const e=[],n=(null===(t=this.coreService.getAppConfig())||void 0===t?void 0:t.theme.subject)[this.subjectId]||"default";this.preFixClass&&e.push(this.preFixClass),e.push(n),this.renderer.addClass(this.el.nativeElement,e.join("-"))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.l),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.E))},t.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb({type:t,selectors:[["","nxAfsSubjectTheme",""]],inputs:{subjectId:"subjectId",preFixClass:"preFixClass"}}),t})();const UPPERCASE_INPUT_CONTROL_VALUE_ACCESSOR={provide:_angular_forms__WEBPACK_IMPORTED_MODULE_51__.e,useExisting:Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.V)(()=>UpperCaseInputDirective),multi:!0};let UpperCaseInputDirective=(()=>{class t extends _angular_forms__WEBPACK_IMPORTED_MODULE_51__.b{constructor(t,e){super(t,e,!1)}writeValue(t){const e=this.transformValue(t);super.writeValue(e)}onInput(t){const e=this.transformValue(t);super.writeValue(e),this.onChange(e)}transformValue(t){return t&&"string"==typeof t?t.toUpperCase():t}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.l))},t.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb({type:t,selectors:[["input","uppercase",""]],hostBindings:function(t,e){1&t&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.fc("input",function(t){return e.onInput(t.target.value)})("blur",function(){return e.onTouched()})},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.Cb([UPPERCASE_INPUT_CONTROL_VALUE_ACCESSOR]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ab]}),t})(),ErrorHandlerInterceptor=(()=>{class t{constructor(t){this.firestore=t}intercept(t,e){const n=t.clone();return e.handle(t).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(e=>{var i;const r=t.headers.get("x-log-error");if(e instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.d&&"fire-base-log"===r){const t=(null==e?void 0:e.url)||"";let r={};if(null==n?void 0:n.body){const t=null==n?void 0:n.body.map;t&&t.forEach((t,e)=>{r[e]="password"!==e?t[0]:"#########"})}let s={};(null==n?void 0:n.params)&&((null==n?void 0:n.params.keys())||[]).forEach(t=>{const n=e.headers.get(t);s[t]=n});const o={};(null==e?void 0:e.headers)&&((null==e?void 0:e.headers.keys())||[]).forEach(t=>{const n=e.headers.get(t);o[t]=n});const a=(null==e?void 0:e.error)||{},c=(null==e?void 0:e.status)||"none",u=(null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.errorMessage)||"none",l=e.headers.get("x-requestid")||"none",h={id:l,module:"",cta:"",oId:"",url:t,requestBody:r,requestParams:s,requestHeaders:o,response:a,errorStatus:c,errorMessage:u,requestId:l};console.log("\ud83d\ude80 ~ file: error-handling.interceptor.ts ~ line 76 ~ ErrorHandlerInterceptor ~ obj",h),this.firestore.collection("web-error-log").add(h).then(t=>{console.log("\ud83d\ude80 ~ file: error-handling.interceptor.ts ~ line 78 ~ ErrorHandlerInterceptor ~ res",t)},t=>{console.log("\ud83d\ude80 ~ file: error-handling.interceptor.ts ~ line 81 ~ ErrorHandlerInterceptor ~ error",t)})}return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e)}))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_fire_firestore__WEBPACK_IMPORTED_MODULE_52__.a))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})()},Kj3r:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("D0XW");function s(t,e=r.a){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends i.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends i.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return i})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("z+Ro"),r=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(r.a)(t)}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},LvDl:function(t,e,n){(function(t){var i;(function(){var r="Expected a function",s="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",u="[object Boolean]",l="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",f="[object Map]",_="[object Number]",g="[object Object]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",E="[object WeakMap]",O="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",T="[object Float64Array]",w="[object Int8Array]",D="[object Int16Array]",P="[object Int32Array]",A="[object Uint8Array]",I="[object Uint16Array]",M="[object Uint32Array]",x=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,N=RegExp(L.source),U=RegExp(j.source),B=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,z=RegExp(K.source),$=/^\s+/,H=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,J=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,st=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="["+dt+"]",ft="["+ht+"]",_t="\\d+",gt="[a-z\\xdf-\\xf6\\xf8-\\xff]",mt="[^\\ud800-\\udfff"+dt+_t+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",vt="\\ud83c[\\udffb-\\udfff]",yt="[^\\ud800-\\udfff]",bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Et="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="[A-Z\\xc0-\\xd6\\xd8-\\xde]",St="(?:"+gt+"|"+mt+")",Ct="(?:"+Ot+"|"+mt+")",Tt="(?:"+ft+"|"+vt+")?",wt="[\\ufe0e\\ufe0f]?"+Tt+"(?:\\u200d(?:"+[yt,bt,Et].join("|")+")[\\ufe0e\\ufe0f]?"+Tt+")*",Dt="(?:"+["[\\u2700-\\u27bf]",bt,Et].join("|")+")"+wt,Pt="(?:"+[yt+ft+"?",ft,bt,Et,"[\\ud800-\\udfff]"].join("|")+")",At=RegExp("['\u2019]","g"),It=RegExp(ft,"g"),Mt=RegExp(vt+"(?="+vt+")|"+Pt+wt,"g"),xt=RegExp([Ot+"?"+gt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[pt,Ot,"$"].join("|")+")",Ct+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[pt,Ot+St,"$"].join("|")+")",Ot+"?"+St+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ot+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_t,Dt].join("|"),"g"),Rt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),kt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jt=-1,Nt={};Nt[C]=Nt[T]=Nt[w]=Nt[D]=Nt[P]=Nt[A]=Nt["[object Uint8ClampedArray]"]=Nt[I]=Nt[M]=!0,Nt[a]=Nt[c]=Nt[O]=Nt[u]=Nt[S]=Nt[l]=Nt[h]=Nt[d]=Nt[f]=Nt[_]=Nt[g]=Nt[m]=Nt[v]=Nt[y]=Nt[E]=!1;var Ut={};Ut[a]=Ut[c]=Ut[O]=Ut[S]=Ut[u]=Ut[l]=Ut[C]=Ut[T]=Ut[w]=Ut[D]=Ut[P]=Ut[f]=Ut[_]=Ut[g]=Ut[m]=Ut[v]=Ut[y]=Ut[b]=Ut[A]=Ut["[object Uint8ClampedArray]"]=Ut[I]=Ut[M]=!0,Ut[h]=Ut[d]=Ut[E]=!1;var Bt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ft=parseFloat,qt=parseInt,Vt="object"==typeof global&&global&&global.Object===Object&&global,Wt="object"==typeof self&&self&&self.Object===Object&&self,Gt=Vt||Wt||Function("return this")(),Kt=e&&!e.nodeType&&e,zt=Kt&&"object"==typeof t&&t&&!t.nodeType&&t,$t=zt&&zt.exports===Kt,Ht=$t&&Vt.process,Qt=function(){try{return zt&&zt.require&&zt.require("util").types||Ht&&Ht.binding&&Ht.binding("util")}catch(t){}}(),Yt=Qt&&Qt.isArrayBuffer,Xt=Qt&&Qt.isDate,Zt=Qt&&Qt.isMap,Jt=Qt&&Qt.isRegExp,te=Qt&&Qt.isSet,ee=Qt&&Qt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ie(t,e,n,i){for(var r=-1,s=null==t?0:t.length;++r<s;){var o=t[r];e(i,o,n(o),t)}return i}function re(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e){for(var n=-1,i=null==t?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function ce(t,e){return!(null==t||!t.length)&&ve(t,e,0)>-1}function ue(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function le(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function he(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function de(t,e,n,i){var r=-1,s=null==t?0:t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function pe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function fe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var _e=Oe("length");function ge(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function me(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function ve(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):me(t,be,n)}function ye(t,e,n,i){for(var r=n-1,s=t.length;++r<s;)if(i(t[r],e))return r;return-1}function be(t){return t!=t}function Ee(t,e){var n=null==t?0:t.length;return n?Te(t,e)/n:NaN}function Oe(t){return function(e){return null==e?void 0:e[t]}}function Se(t){return function(e){return null==t?void 0:t[e]}}function Ce(t,e,n,i,r){return r(t,function(t,r,s){n=i?(i=!1,t):e(n,t,r,s)}),n}function Te(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function we(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function De(t){return t?t.slice(0,Ke(t)+1).replace($,""):t}function Pe(t){return function(e){return t(e)}}function Ae(t,e){return le(e,function(e){return t[e]})}function Ie(t,e){return t.has(e)}function Me(t,e){for(var n=-1,i=t.length;++n<i&&ve(e,t[n],0)>-1;);return n}function xe(t,e){for(var n=t.length;n--&&ve(e,t[n],0)>-1;);return n}function Re(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var ke=Se({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Le=Se({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function je(t){return"\\"+Bt[t]}function Ne(t){return Rt.test(t)}function Ue(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function Be(t,e){return function(n){return t(e(n))}}function Fe(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[r++]=n)}return o}function qe(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Ve(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function We(t){return Ne(t)?function(t){for(var e=Mt.lastIndex=0;Mt.test(t);)++e;return e}(t):_e(t)}function Ge(t){return Ne(t)?function(t){return t.match(Mt)||[]}(t):function(t){return t.split("")}(t)}function Ke(t){for(var e=t.length;e--&&H.test(t.charAt(e)););return e}var ze=Se({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),$e=function t(e){var n,i=(e=null==e?Gt:$e.defaults(Gt.Object(),e,$e.pick(Gt,Lt))).Array,H=e.Date,ht=e.Error,dt=e.Function,pt=e.Math,ft=e.Object,_t=e.RegExp,gt=e.String,mt=e.TypeError,vt=i.prototype,yt=ft.prototype,bt=e["__core-js_shared__"],Et=dt.prototype.toString,Ot=yt.hasOwnProperty,St=0,Ct=(n=/[^.]+$/.exec(bt&&bt.keys&&bt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Tt=yt.toString,wt=Et.call(ft),Dt=Gt._,Pt=_t("^"+Et.call(Ot).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=$t?e.Buffer:void 0,Rt=e.Symbol,Bt=e.Uint8Array,Vt=Mt?Mt.allocUnsafe:void 0,Wt=Be(ft.getPrototypeOf,ft),Kt=ft.create,zt=yt.propertyIsEnumerable,Ht=vt.splice,Qt=Rt?Rt.isConcatSpreadable:void 0,_e=Rt?Rt.iterator:void 0,Se=Rt?Rt.toStringTag:void 0,He=function(){try{var t=Zr(ft,"defineProperty");return t({},"",{}),t}catch(e){}}(),Qe=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,Ye=H&&H.now!==Gt.Date.now&&H.now,Xe=e.setTimeout!==Gt.setTimeout&&e.setTimeout,Ze=pt.ceil,Je=pt.floor,tn=ft.getOwnPropertySymbols,en=Mt?Mt.isBuffer:void 0,nn=e.isFinite,rn=vt.join,sn=Be(ft.keys,ft),on=pt.max,an=pt.min,cn=H.now,un=e.parseInt,ln=pt.random,hn=vt.reverse,dn=Zr(e,"DataView"),pn=Zr(e,"Map"),fn=Zr(e,"Promise"),_n=Zr(e,"Set"),gn=Zr(e,"WeakMap"),mn=Zr(ft,"create"),vn=gn&&new gn,yn={},bn=Ds(dn),En=Ds(pn),On=Ds(fn),Sn=Ds(_n),Cn=Ds(gn),Tn=Rt?Rt.prototype:void 0,wn=Tn?Tn.valueOf:void 0,Dn=Tn?Tn.toString:void 0;function Pn(t){if(Ko(t)&&!ko(t)&&!(t instanceof xn)){if(t instanceof Mn)return t;if(Ot.call(t,"__wrapped__"))return Ps(t)}return new Mn(t)}var An=function(){function t(){}return function(e){if(!Go(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function In(){}function Mn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function xn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function jn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ln;++e<n;)this.add(t[e])}function Nn(t){var e=this.__data__=new kn(t);this.size=e.size}function Un(t,e){var n=ko(t),i=!n&&Ro(t),r=!n&&!i&&Uo(t),s=!n&&!i&&!r&&Jo(t),o=n||i||r||s,a=o?we(t.length,gt):[],c=a.length;for(var u in t)!e&&!Ot.call(t,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ss(u,c))||a.push(u);return a}function Bn(t){var e=t.length;return e?t[Li(0,e-1)]:void 0}function Fn(t,e){return Os(gr(t),Qn(e,0,t.length))}function qn(t){return Os(gr(t))}function Vn(t,e,n){(void 0!==n&&!Io(t[e],n)||void 0===n&&!(e in t))&&$n(t,e,n)}function Wn(t,e,n){var i=t[e];Ot.call(t,e)&&Io(i,n)&&(void 0!==n||e in t)||$n(t,e,n)}function Gn(t,e){for(var n=t.length;n--;)if(Io(t[n][0],e))return n;return-1}function Kn(t,e,n,i){return ti(t,function(t,r,s){e(i,t,n(t),s)}),i}function zn(t,e){return t&&mr(e,Ea(e),t)}function $n(t,e,n){"__proto__"==e&&He?He(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Hn(t,e){for(var n=-1,r=e.length,s=i(r),o=null==t;++n<r;)s[n]=o?void 0:ga(t,e[n]);return s}function Qn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Yn(t,e,n,i,r,s){var o,c=1&e,h=2&e,E=4&e;if(n&&(o=r?n(t,i,r,s):n(t)),void 0!==o)return o;if(!Go(t))return t;var x=ko(t);if(x){if(o=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ot.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return gr(t,o)}else{var R=es(t),k=R==d||R==p;if(Uo(t))return lr(t,c);if(R==g||R==a||k&&!r){if(o=h||k?{}:is(t),!c)return h?function(t,e){return mr(t,ts(t),e)}(t,function(t,e){return t&&mr(e,Oa(e),t)}(o,t)):function(t,e){return mr(t,Jr(t),e)}(t,zn(o,t))}else{if(!Ut[R])return r?t:{};o=function(t,e,n){var i=t.constructor;switch(e){case O:return hr(t);case u:case l:return new i(+t);case S:return function(t,e){var n=e?hr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case T:case w:case D:case P:case A:case"[object Uint8ClampedArray]":case I:case M:return dr(t,n);case f:return new i;case _:case y:return new i(t);case m:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case v:return new i;case b:return wn?ft(wn.call(t)):{}}}(t,R,c)}}s||(s=new Nn);var L=s.get(t);if(L)return L;s.set(t,o),Yo(t)?t.forEach(function(i){o.add(Yn(i,e,n,i,t,s))}):zo(t)&&t.forEach(function(i,r){o.set(r,Yn(i,e,n,r,t,s))});var j=x?void 0:(E?h?Kr:Gr:h?Oa:Ea)(t);return re(j||t,function(i,r){j&&(i=t[r=i]),Wn(o,r,Yn(i,e,n,r,t,s))}),o}function Xn(t,e,n){var i=n.length;if(null==t)return!i;for(t=ft(t);i--;){var r=n[i],s=t[r];if(void 0===s&&!(r in t)||!(0,e[r])(s))return!1}return!0}function Zn(t,e,n){if("function"!=typeof t)throw new mt(r);return vs(function(){t.apply(void 0,n)},e)}function Jn(t,e,n,i){var r=-1,s=ce,o=!0,a=t.length,c=[],u=e.length;if(!a)return c;n&&(e=le(e,Pe(n))),i?(s=ue,o=!1):e.length>=200&&(s=Ie,o=!1,e=new jn(e));t:for(;++r<a;){var l=t[r],h=null==n?l:n(l);if(l=i||0!==l?l:0,o&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;c.push(l)}else s(e,h,i)||c.push(l)}return c}Pn.templateSettings={escape:B,evaluate:F,interpolate:q,variable:"",imports:{_:Pn}},(Pn.prototype=In.prototype).constructor=Pn,(Mn.prototype=An(In.prototype)).constructor=Mn,(xn.prototype=An(In.prototype)).constructor=xn,Rn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Rn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Rn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ot.call(e,t)?e[t]:void 0},Rn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:Ot.call(e,t)},Rn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},kn.prototype.clear=function(){this.__data__=[],this.size=0},kn.prototype.delete=function(t){var e=this.__data__,n=Gn(e,t);return!(n<0||(n==e.length-1?e.pop():Ht.call(e,n,1),--this.size,0))},kn.prototype.get=function(t){var e=this.__data__,n=Gn(e,t);return n<0?void 0:e[n][1]},kn.prototype.has=function(t){return Gn(this.__data__,t)>-1},kn.prototype.set=function(t,e){var n=this.__data__,i=Gn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Ln.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(pn||kn),string:new Rn}},Ln.prototype.delete=function(t){var e=Yr(this,t).delete(t);return this.size-=e?1:0,e},Ln.prototype.get=function(t){return Yr(this,t).get(t)},Ln.prototype.has=function(t){return Yr(this,t).has(t)},Ln.prototype.set=function(t,e){var n=Yr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},jn.prototype.add=jn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},jn.prototype.has=function(t){return this.__data__.has(t)},Nn.prototype.clear=function(){this.__data__=new kn,this.size=0},Nn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Nn.prototype.get=function(t){return this.__data__.get(t)},Nn.prototype.has=function(t){return this.__data__.has(t)},Nn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof kn){var i=n.__data__;if(!pn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ln(i)}return n.set(t,e),this.size=n.size,this};var ti=br(ci),ei=br(ui,!0);function ni(t,e){var n=!0;return ti(t,function(t,i,r){return n=!!e(t,i,r)}),n}function ii(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],o=e(s);if(null!=o&&(void 0===a?o==o&&!Zo(o):n(o,a)))var a=o,c=s}return c}function ri(t,e){var n=[];return ti(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function si(t,e,n,i,r){var s=-1,o=t.length;for(n||(n=rs),r||(r=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?si(a,e-1,n,i,r):he(r,a):i||(r[r.length]=a)}return r}var oi=Er(),ai=Er(!0);function ci(t,e){return t&&oi(t,e,Ea)}function ui(t,e){return t&&ai(t,e,Ea)}function li(t,e){return ae(e,function(e){return qo(t[e])})}function hi(t,e){for(var n=0,i=(e=or(e,t)).length;null!=t&&n<i;)t=t[ws(e[n++])];return n&&n==i?t:void 0}function di(t,e,n){var i=e(t);return ko(t)?i:he(i,n(t))}function pi(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Se&&Se in ft(t)?function(t){var e=Ot.call(t,Se),n=t[Se];try{t[Se]=void 0;var i=!0}catch(s){}var r=Tt.call(t);return i&&(e?t[Se]=n:delete t[Se]),r}(t):function(t){return Tt.call(t)}(t)}function fi(t,e){return t>e}function _i(t,e){return null!=t&&Ot.call(t,e)}function gi(t,e){return null!=t&&e in ft(t)}function mi(t,e,n){for(var r=n?ue:ce,s=t[0].length,o=t.length,a=o,c=i(o),u=1/0,l=[];a--;){var h=t[a];a&&e&&(h=le(h,Pe(e))),u=an(h.length,u),c[a]=!n&&(e||s>=120&&h.length>=120)?new jn(a&&h):void 0}h=t[0];var d=-1,p=c[0];t:for(;++d<s&&l.length<u;){var f=h[d],_=e?e(f):f;if(f=n||0!==f?f:0,!(p?Ie(p,_):r(l,_,n))){for(a=o;--a;){var g=c[a];if(!(g?Ie(g,_):r(t[a],_,n)))continue t}p&&p.push(_),l.push(f)}}return l}function vi(t,e,n){var i=null==(t=fs(t,e=or(e,t)))?t:t[ws(Bs(e))];return null==i?void 0:ne(i,t,n)}function yi(t){return Ko(t)&&pi(t)==a}function bi(t,e,n,i,r){return t===e||(null==t||null==e||!Ko(t)&&!Ko(e)?t!=t&&e!=e:function(t,e,n,i,r,s){var o=ko(t),d=ko(e),p=o?c:es(t),E=d?c:es(e),C=(p=p==a?g:p)==g,T=(E=E==a?g:E)==g,w=p==E;if(w&&Uo(t)){if(!Uo(e))return!1;o=!0,C=!1}if(w&&!C)return s||(s=new Nn),o||Jo(t)?Vr(t,e,n,i,r,s):function(t,e,n,i,r,s,o){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!s(new Bt(t),new Bt(e)));case u:case l:case _:return Io(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case y:return t==e+"";case f:var a=Ue;case v:if(a||(a=qe),t.size!=e.size&&!(1&i))return!1;var c=o.get(t);if(c)return c==e;i|=2,o.set(t,e);var d=Vr(a(t),a(e),i,r,s,o);return o.delete(t),d;case b:if(wn)return wn.call(t)==wn.call(e)}return!1}(t,e,p,n,i,r,s);if(!(1&n)){var D=C&&Ot.call(t,"__wrapped__"),P=T&&Ot.call(e,"__wrapped__");if(D||P){var A=D?t.value():t,I=P?e.value():e;return s||(s=new Nn),r(A,I,n,i,s)}}return!!w&&(s||(s=new Nn),function(t,e,n,i,r,s){var o=1&n,a=Gr(t),c=a.length;if(c!=Gr(e).length&&!o)return!1;for(var u=c;u--;){var l=a[u];if(!(o?l in e:Ot.call(e,l)))return!1}var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var p=!0;s.set(t,e),s.set(e,t);for(var f=o;++u<c;){var _=t[l=a[u]],g=e[l];if(i)var m=o?i(g,_,l,e,t,s):i(_,g,l,t,e,s);if(!(void 0===m?_===g||r(_,g,n,i,s):m)){p=!1;break}f||(f="constructor"==l)}if(p&&!f){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,i,r,s))}(t,e,n,i,bi,r))}function Ei(t,e,n,i){var r=n.length,s=r,o=!i;if(null==t)return!s;for(t=ft(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){var c=(a=n[r])[0],u=t[c],l=a[1];if(o&&a[2]){if(void 0===u&&!(c in t))return!1}else{var h=new Nn;if(i)var d=i(u,l,c,t,e,h);if(!(void 0===d?bi(l,u,3,i,h):d))return!1}}return!0}function Oi(t){return!(!Go(t)||(e=t,Ct&&Ct in e))&&(qo(t)?Pt:st).test(Ds(t));var e}function Si(t){return"function"==typeof t?t:null==t?$a:"object"==typeof t?ko(t)?Pi(t[0],t[1]):Di(t):nc(t)}function Ci(t){if(!ls(t))return sn(t);var e=[];for(var n in ft(t))Ot.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ti(t,e){return t<e}function wi(t,e){var n=-1,r=jo(t)?i(t.length):[];return ti(t,function(t,i,s){r[++n]=e(t,i,s)}),r}function Di(t){var e=Xr(t);return 1==e.length&&e[0][2]?ds(e[0][0],e[0][1]):function(n){return n===t||Ei(n,t,e)}}function Pi(t,e){return as(t)&&hs(e)?ds(ws(t),e):function(n){var i=ga(n,t);return void 0===i&&i===e?ma(n,t):bi(e,i,3)}}function Ai(t,e,n,i,r){t!==e&&oi(e,function(s,o){if(r||(r=new Nn),Go(s))!function(t,e,n,i,r,s,o){var a=gs(t,n),c=gs(e,n),u=o.get(c);if(u)Vn(t,n,u);else{var l=s?s(a,c,n+"",t,e,o):void 0,h=void 0===l;if(h){var d=ko(c),p=!d&&Uo(c),f=!d&&!p&&Jo(c);l=c,d||p||f?ko(a)?l=a:No(a)?l=gr(a):p?(h=!1,l=lr(c,!0)):f?(h=!1,l=dr(c,!0)):l=[]:Ho(c)||Ro(c)?(l=a,Ro(a)?l=aa(a):Go(a)&&!qo(a)||(l=is(c))):h=!1}h&&(o.set(c,l),r(l,c,i,s,o),o.delete(c)),Vn(t,n,l)}}(t,e,o,n,Ai,i,r);else{var a=i?i(gs(t,o),s,o+"",t,e,r):void 0;void 0===a&&(a=s),Vn(t,o,a)}},Oa)}function Ii(t,e){var n=t.length;if(n)return ss(e+=e<0?n:0,n)?t[e]:void 0}function Mi(t,e,n){e=e.length?le(e,function(t){return ko(t)?function(e){return hi(e,1===t.length?t[0]:t)}:t}):[$a];var i=-1;return e=le(e,Pe(Qr())),function(t,e){var i=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,o=r.length,a=n.length;++i<o;){var c=pr(r[i],s[i]);if(c)return i>=a?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)});i--;)t[i]=t[i].value;return t}(wi(t,function(t,n,r){return{criteria:le(e,function(e){return e(t)}),index:++i,value:t}}))}function xi(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var o=e[i],a=hi(t,o);n(a,o)&&Fi(s,or(o,t),a)}return s}function Ri(t,e,n,i){var r=i?ye:ve,s=-1,o=e.length,a=t;for(t===e&&(e=gr(e)),n&&(a=le(t,Pe(n)));++s<o;)for(var c=0,u=e[s],l=n?n(u):u;(c=r(a,l,c,i))>-1;)a!==t&&Ht.call(a,c,1),Ht.call(t,c,1);return t}function ki(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==s){var s=r;ss(r)?Ht.call(t,r,1):Zi(t,r)}}return t}function Li(t,e){return t+Je(ln()*(e-t+1))}function ji(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Je(e/2))&&(t+=t)}while(e);return n}function Ni(t,e){return ys(ps(t,e,$a),t+"")}function Ui(t){return Bn(Ia(t))}function Bi(t,e){var n=Ia(t);return Os(n,Qn(e,0,n.length))}function Fi(t,e,n,i){if(!Go(t))return t;for(var r=-1,s=(e=or(e,t)).length,o=s-1,a=t;null!=a&&++r<s;){var c=ws(e[r]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=o){var l=a[c];void 0===(u=i?i(l,c,a):void 0)&&(u=Go(l)?l:ss(e[r+1])?[]:{})}Wn(a,c,u),a=a[c]}return t}var qi=vn?function(t,e){return vn.set(t,e),t}:$a,Vi=He?function(t,e){return He(t,"toString",{configurable:!0,enumerable:!1,value:Ga(e),writable:!0})}:$a;function Wi(t){return Os(Ia(t))}function Gi(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=i(s);++r<s;)o[r]=t[r+e];return o}function Ki(t,e){var n;return ti(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function zi(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var s=i+r>>>1,o=t[s];null!==o&&!Zo(o)&&(n?o<=e:o<e)?i=s+1:r=s}return r}return $i(t,e,$a,n)}function $i(t,e,n,i){var r=0,s=null==t?0:t.length;if(0===s)return 0;for(var o=(e=n(e))!=e,a=null===e,c=Zo(e),u=void 0===e;r<s;){var l=Je((r+s)/2),h=n(t[l]),d=void 0!==h,p=null===h,f=h==h,_=Zo(h);if(o)var g=i||f;else g=u?f&&(i||d):a?f&&d&&(i||!p):c?f&&d&&!p&&(i||!_):!p&&!_&&(i?h<=e:h<e);g?r=l+1:s=l}return an(s,4294967294)}function Hi(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var o=t[n],a=e?e(o):o;if(!n||!Io(a,c)){var c=a;s[r++]=0===o?0:o}}return s}function Qi(t){return"number"==typeof t?t:Zo(t)?NaN:+t}function Yi(t){if("string"==typeof t)return t;if(ko(t))return le(t,Yi)+"";if(Zo(t))return Dn?Dn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Xi(t,e,n){var i=-1,r=ce,s=t.length,o=!0,a=[],c=a;if(n)o=!1,r=ue;else if(s>=200){var u=e?null:jr(t);if(u)return qe(u);o=!1,r=Ie,c=new jn}else c=e?[]:a;t:for(;++i<s;){var l=t[i],h=e?e(l):l;if(l=n||0!==l?l:0,o&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(l)}else r(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}function Zi(t,e){return null==(t=fs(t,e=or(e,t)))||delete t[ws(Bs(e))]}function Ji(t,e,n,i){return Fi(t,e,n(hi(t,e)),i)}function tr(t,e,n,i){for(var r=t.length,s=i?r:-1;(i?s--:++s<r)&&e(t[s],s,t););return n?Gi(t,i?0:s,i?s+1:r):Gi(t,i?s+1:0,i?r:s)}function er(t,e){var n=t;return n instanceof xn&&(n=n.value()),de(e,function(t,e){return e.func.apply(e.thisArg,he([t],e.args))},n)}function nr(t,e,n){var r=t.length;if(r<2)return r?Xi(t[0]):[];for(var s=-1,o=i(r);++s<r;)for(var a=t[s],c=-1;++c<r;)c!=s&&(o[s]=Jn(o[s]||a,t[c],e,n));return Xi(si(o,1),e,n)}function ir(t,e,n){for(var i=-1,r=t.length,s=e.length,o={};++i<r;)n(o,t[i],i<s?e[i]:void 0);return o}function rr(t){return No(t)?t:[]}function sr(t){return"function"==typeof t?t:$a}function or(t,e){return ko(t)?t:as(t,e)?[t]:Ts(ca(t))}var ar=Ni;function cr(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Gi(t,e,n)}var ur=Qe||function(t){return Gt.clearTimeout(t)};function lr(t,e){if(e)return t.slice();var n=t.length,i=Vt?Vt(n):new t.constructor(n);return t.copy(i),i}function hr(t){var e=new t.constructor(t.byteLength);return new Bt(e).set(new Bt(t)),e}function dr(t,e){var n=e?hr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pr(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,s=Zo(t),o=void 0!==e,a=null===e,c=e==e,u=Zo(e);if(!a&&!u&&!s&&t>e||s&&o&&c&&!a&&!u||i&&o&&c||!n&&c||!r)return 1;if(!i&&!s&&!u&&t<e||u&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!c)return-1}return 0}function fr(t,e,n,r){for(var s=-1,o=t.length,a=n.length,c=-1,u=e.length,l=on(o-a,0),h=i(u+l),d=!r;++c<u;)h[c]=e[c];for(;++s<a;)(d||s<o)&&(h[n[s]]=t[s]);for(;l--;)h[c++]=t[s++];return h}function _r(t,e,n,r){for(var s=-1,o=t.length,a=-1,c=n.length,u=-1,l=e.length,h=on(o-c,0),d=i(h+l),p=!r;++s<h;)d[s]=t[s];for(var f=s;++u<l;)d[f+u]=e[u];for(;++a<c;)(p||s<o)&&(d[f+n[a]]=t[s++]);return d}function gr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function mr(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=i?i(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),r?$n(n,a,c):Wn(n,a,c)}return n}function vr(t,e){return function(n,i){var r=ko(n)?ie:Kn,s=e?e():{};return r(n,t,Qr(i,2),s)}}function yr(t){return Ni(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(r--,s):void 0,o&&os(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=ft(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}function br(t,e){return function(n,i){if(null==n)return n;if(!jo(n))return t(n,i);for(var r=n.length,s=e?r:-1,o=ft(n);(e?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function Er(t){return function(e,n,i){for(var r=-1,s=ft(e),o=i(e),a=o.length;a--;){var c=o[t?a:++r];if(!1===n(s[c],c,s))break}return e}}function Or(t){return function(e){var n=Ne(e=ca(e))?Ge(e):void 0,i=n?n[0]:e.charAt(0),r=n?cr(n,1).join(""):e.slice(1);return i[t]()+r}}function Sr(t){return function(e){return de(qa(Ra(e).replace(At,"")),t,"")}}function Cr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),i=t.apply(n,e);return Go(i)?i:n}}function Tr(t){return function(e,n,i){var r=ft(e);if(!jo(e)){var s=Qr(n,3);e=Ea(e),n=function(t){return s(r[t],t,r)}}var o=t(e,n,i);return o>-1?r[s?e[o]:o]:void 0}}function wr(t){return Wr(function(e){var n=e.length,i=n,s=Mn.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new mt(r);if(s&&!a&&"wrapper"==$r(o))var a=new Mn([],!0)}for(i=a?i:n;++i<n;){var c=$r(o=e[i]),u="wrapper"==c?zr(o):void 0;a=u&&cs(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[$r(u[0])].apply(a,u[3]):1==o.length&&cs(o)?a[c]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&ko(i))return a.plant(i).value();for(var r=0,s=n?e[r].apply(this,t):i;++r<n;)s=e[r].call(this,s);return s}})}function Dr(t,e,n,r,s,o,a,c,u,l){var h=128&e,d=1&e,p=2&e,f=24&e,_=512&e,g=p?void 0:Cr(t);return function m(){for(var v=arguments.length,y=i(v),b=v;b--;)y[b]=arguments[b];if(f)var E=Hr(m),O=Re(y,E);if(r&&(y=fr(y,r,s,f)),o&&(y=_r(y,o,a,f)),v-=O,f&&v<l){var S=Fe(y,E);return kr(t,e,Dr,m.placeholder,n,y,S,c,u,l-v)}var C=d?n:this,T=p?C[t]:t;return v=y.length,c?y=_s(y,c):_&&v>1&&y.reverse(),h&&u<v&&(y.length=u),this&&this!==Gt&&this instanceof m&&(T=g||Cr(T)),T.apply(C,y)}}function Pr(t,e){return function(n,i){return function(t,e,n,i){return ci(t,function(t,r,s){e(i,n(t),r,s)}),i}(n,t,e(i),{})}}function Ar(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Yi(n),i=Yi(i)):(n=Qi(n),i=Qi(i)),r=t(n,i)}return r}}function Ir(t){return Wr(function(e){return e=le(e,Pe(Qr())),Ni(function(n){var i=this;return t(e,function(t){return ne(t,i,n)})})})}function Mr(t,e){var n=(e=void 0===e?" ":Yi(e)).length;if(n<2)return n?ji(e,t):e;var i=ji(e,Ze(t/We(e)));return Ne(e)?cr(Ge(i),0,t).join(""):i.slice(0,t)}function xr(t){return function(e,n,r){return r&&"number"!=typeof r&&os(e,n,r)&&(n=r=void 0),e=ia(e),void 0===n?(n=e,e=0):n=ia(n),function(t,e,n,r){for(var s=-1,o=on(Ze((e-t)/(n||1)),0),a=i(o);o--;)a[r?o:++s]=t,t+=n;return a}(e,n,r=void 0===r?e<n?1:-1:ia(r),t)}}function Rr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=oa(e),n=oa(n)),t(e,n)}}function kr(t,e,n,i,r,s,o,a,c,u){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,r,l?s:void 0,l?o:void 0,l?void 0:s,l?void 0:o,a,c,u],d=n.apply(void 0,h);return cs(t)&&ms(d,h),d.placeholder=i,bs(d,t,e)}function Lr(t){var e=pt[t];return function(t,n){if(t=oa(t),(n=null==n?0:an(ra(n),292))&&nn(t)){var i=(ca(t)+"e").split("e");return+((i=(ca(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var jr=_n&&1/qe(new _n([,-0]))[1]==1/0?function(t){return new _n(t)}:Za;function Nr(t){return function(e){var n=es(e);return n==f?Ue(e):n==v?Ve(e):function(t,e){return le(e,function(e){return[e,t[e]]})}(e,t(e))}}function Ur(t,e,n,o,a,c,u,l){var h=2&e;if(!h&&"function"!=typeof t)throw new mt(r);var d=o?o.length:0;if(d||(e&=-97,o=a=void 0),u=void 0===u?u:on(ra(u),0),l=void 0===l?l:ra(l),d-=a?a.length:0,64&e){var p=o,f=a;o=a=void 0}var _=h?void 0:zr(t),g=[t,e,n,o,a,p,f,c,u,l];if(_&&function(t,e){var n=t[1],i=e[1],r=n|i;if(!(r<131||128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n))return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var o=e[3];if(o){var a=t[3];t[3]=a?fr(a,o,e[4]):o,t[4]=a?Fe(t[3],s):e[4]}(o=e[5])&&(t[5]=(a=t[5])?_r(a,o,e[6]):o,t[6]=a?Fe(t[5],s):e[6]),(o=e[7])&&(t[7]=o),128&i&&(t[8]=null==t[8]?e[8]:an(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(g,_),t=g[0],e=g[1],n=g[2],o=g[3],a=g[4],!(l=g[9]=void 0===g[9]?h?0:t.length:on(g[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var r=Cr(t);return function s(){for(var o=arguments.length,a=i(o),c=o,u=Hr(s);c--;)a[c]=arguments[c];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:Fe(a,u);return(o-=l.length)<n?kr(t,e,Dr,s.placeholder,void 0,a,l,void 0,void 0,n-o):ne(this&&this!==Gt&&this instanceof s?r:t,this,a)}}(t,e,l):32!=e&&33!=e||a.length?Dr.apply(void 0,g):function(t,e,n,r){var s=1&e,o=Cr(t);return function e(){for(var a=-1,c=arguments.length,u=-1,l=r.length,h=i(l+c),d=this&&this!==Gt&&this instanceof e?o:t;++u<l;)h[u]=r[u];for(;c--;)h[u++]=arguments[++a];return ne(d,s?n:this,h)}}(t,e,n,o);else var m=function(t,e,n){var i=1&e,r=Cr(t);return function e(){return(this&&this!==Gt&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return bs((_?qi:ms)(m,g),t,e)}function Br(t,e,n,i){return void 0===t||Io(t,yt[n])&&!Ot.call(i,n)?e:t}function Fr(t,e,n,i,r,s){return Go(t)&&Go(e)&&(s.set(e,t),Ai(t,e,void 0,Fr,s),s.delete(e)),t}function qr(t){return Ho(t)?void 0:t}function Vr(t,e,n,i,r,s){var o=1&n,a=t.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(t),l=s.get(e);if(u&&l)return u==e&&l==t;var h=-1,d=!0,p=2&n?new jn:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var f=t[h],_=e[h];if(i)var g=o?i(_,f,h,e,t,s):i(f,_,h,t,e,s);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!fe(e,function(t,e){if(!Ie(p,e)&&(f===t||r(f,t,n,i,s)))return p.push(e)})){d=!1;break}}else if(f!==_&&!r(f,_,n,i,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Wr(t){return ys(ps(t,void 0,ks),t+"")}function Gr(t){return di(t,Ea,Jr)}function Kr(t){return di(t,Oa,ts)}var zr=vn?function(t){return vn.get(t)}:Za;function $r(t){for(var e=t.name+"",n=yn[e],i=Ot.call(yn,e)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==t)return r.name}return e}function Hr(t){return(Ot.call(Pn,"placeholder")?Pn:t).placeholder}function Qr(){var t=Pn.iteratee||Ha;return t=t===Ha?Si:t,arguments.length?t(arguments[0],arguments[1]):t}function Yr(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Xr(t){for(var e=Ea(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,hs(r)]}return e}function Zr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Oi(n)?n:void 0}var Jr=tn?function(t){return null==t?[]:(t=ft(t),ae(tn(t),function(e){return zt.call(t,e)}))}:sc,ts=tn?function(t){for(var e=[];t;)he(e,Jr(t)),t=Wt(t);return e}:sc,es=pi;function ns(t,e,n){for(var i=-1,r=(e=or(e,t)).length,s=!1;++i<r;){var o=ws(e[i]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++i!=r?s:!!(r=null==t?0:t.length)&&Wo(r)&&ss(o,r)&&(ko(t)||Ro(t))}function is(t){return"function"!=typeof t.constructor||ls(t)?{}:An(Wt(t))}function rs(t){return ko(t)||Ro(t)||!!(Qt&&t&&t[Qt])}function ss(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&at.test(t))&&t>-1&&t%1==0&&t<e}function os(t,e,n){if(!Go(n))return!1;var i=typeof e;return!!("number"==i?jo(n)&&ss(e,n.length):"string"==i&&e in n)&&Io(n[e],t)}function as(t,e){if(ko(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Zo(t))||W.test(t)||!V.test(t)||null!=e&&t in ft(e)}function cs(t){var e=$r(t),n=Pn[e];if("function"!=typeof n||!(e in xn.prototype))return!1;if(t===n)return!0;var i=zr(n);return!!i&&t===i[0]}(dn&&es(new dn(new ArrayBuffer(1)))!=S||pn&&es(new pn)!=f||fn&&"[object Promise]"!=es(fn.resolve())||_n&&es(new _n)!=v||gn&&es(new gn)!=E)&&(es=function(t){var e=pi(t),n=e==g?t.constructor:void 0,i=n?Ds(n):"";if(i)switch(i){case bn:return S;case En:return f;case On:return"[object Promise]";case Sn:return v;case Cn:return E}return e});var us=bt?qo:oc;function ls(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yt)}function hs(t){return t==t&&!Go(t)}function ds(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in ft(n))}}function ps(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=on(r.length-e,0),a=i(o);++s<o;)a[s]=r[e+s];s=-1;for(var c=i(e+1);++s<e;)c[s]=r[s];return c[e]=n(a),ne(t,this,c)}}function fs(t,e){return e.length<2?t:hi(t,Gi(e,0,-1))}function _s(t,e){for(var n=t.length,i=an(e.length,n),r=gr(t);i--;){var s=e[i];t[i]=ss(s,n)?r[s]:void 0}return t}function gs(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ms=Es(qi),vs=Xe||function(t,e){return Gt.setTimeout(t,e)},ys=Es(Vi);function bs(t,e,n){var i=e+"";return ys(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return re(o,function(n){var i="_."+n[0];e&n[1]&&!ce(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(Y);return e?e[1].split(X):[]}(i),n)))}function Es(t){var e=0,n=0;return function(){var i=cn(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Os(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var s=Li(n,r),o=t[s];t[s]=t[n],t[n]=o}return t.length=e,t}var Ss,Cs,Ts=(Ss=Co(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(G,function(t,n,i,r){e.push(i?r.replace(tt,"$1"):n||t)}),e},function(t){return 500===Cs.size&&Cs.clear(),t}),Cs=Ss.cache,Ss);function ws(t){if("string"==typeof t||Zo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ds(t){if(null!=t){try{return Et.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ps(t){if(t instanceof xn)return t.clone();var e=new Mn(t.__wrapped__,t.__chain__);return e.__actions__=gr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var As=Ni(function(t,e){return No(t)?Jn(t,si(e,1,No,!0)):[]}),Is=Ni(function(t,e){var n=Bs(e);return No(n)&&(n=void 0),No(t)?Jn(t,si(e,1,No,!0),Qr(n,2)):[]}),Ms=Ni(function(t,e){var n=Bs(e);return No(n)&&(n=void 0),No(t)?Jn(t,si(e,1,No,!0),void 0,n):[]});function xs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=on(i+r,0)),me(t,Qr(e,3),r)}function Rs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=ra(n),r=n<0?on(i+r,0):an(r,i-1)),me(t,Qr(e,3),r,!0)}function ks(t){return null!=t&&t.length?si(t,1):[]}function Ls(t){return t&&t.length?t[0]:void 0}var js=Ni(function(t){var e=le(t,rr);return e.length&&e[0]===t[0]?mi(e):[]}),Ns=Ni(function(t){var e=Bs(t),n=le(t,rr);return e===Bs(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mi(n,Qr(e,2)):[]}),Us=Ni(function(t){var e=Bs(t),n=le(t,rr);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mi(n,void 0,e):[]});function Bs(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Fs=Ni(qs);function qs(t,e){return t&&t.length&&e&&e.length?Ri(t,e):t}var Vs=Wr(function(t,e){var n=null==t?0:t.length,i=Hn(t,e);return ki(t,le(e,function(t){return ss(t,n)?+t:t}).sort(pr)),i});function Ws(t){return null==t?t:hn.call(t)}var Gs=Ni(function(t){return Xi(si(t,1,No,!0))}),Ks=Ni(function(t){var e=Bs(t);return No(e)&&(e=void 0),Xi(si(t,1,No,!0),Qr(e,2))}),zs=Ni(function(t){var e=Bs(t);return e="function"==typeof e?e:void 0,Xi(si(t,1,No,!0),void 0,e)});function $s(t){if(!t||!t.length)return[];var e=0;return t=ae(t,function(t){if(No(t))return e=on(t.length,e),!0}),we(e,function(e){return le(t,Oe(e))})}function Hs(t,e){if(!t||!t.length)return[];var n=$s(t);return null==e?n:le(n,function(t){return ne(e,void 0,t)})}var Qs=Ni(function(t,e){return No(t)?Jn(t,e):[]}),Ys=Ni(function(t){return nr(ae(t,No))}),Xs=Ni(function(t){var e=Bs(t);return No(e)&&(e=void 0),nr(ae(t,No),Qr(e,2))}),Zs=Ni(function(t){var e=Bs(t);return e="function"==typeof e?e:void 0,nr(ae(t,No),void 0,e)}),Js=Ni($s),to=Ni(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Hs(t,n)});function eo(t){var e=Pn(t);return e.__chain__=!0,e}function no(t,e){return e(t)}var io=Wr(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Hn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof xn&&ss(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:no,args:[r],thisArg:void 0}),new Mn(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(void 0),t})):this.thru(r)}),ro=vr(function(t,e,n){Ot.call(t,n)?++t[n]:$n(t,n,1)}),so=Tr(xs),oo=Tr(Rs);function ao(t,e){return(ko(t)?re:ti)(t,Qr(e,3))}function co(t,e){return(ko(t)?se:ei)(t,Qr(e,3))}var uo=vr(function(t,e,n){Ot.call(t,n)?t[n].push(e):$n(t,n,[e])}),lo=Ni(function(t,e,n){var r=-1,s="function"==typeof e,o=jo(t)?i(t.length):[];return ti(t,function(t){o[++r]=s?ne(e,t,n):vi(t,e,n)}),o}),ho=vr(function(t,e,n){$n(t,n,e)});function po(t,e){return(ko(t)?le:wi)(t,Qr(e,3))}var fo=vr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),_o=Ni(function(t,e){if(null==t)return[];var n=e.length;return n>1&&os(t,e[0],e[1])?e=[]:n>2&&os(e[0],e[1],e[2])&&(e=[e[0]]),Mi(t,si(e,1),[])}),go=Ye||function(){return Gt.Date.now()};function mo(t,e,n){return e=n?void 0:e,Ur(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function vo(t,e){var n;if("function"!=typeof e)throw new mt(r);return t=ra(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var yo=Ni(function(t,e,n){var i=1;if(n.length){var r=Fe(n,Hr(yo));i|=32}return Ur(t,i,e,n,r)}),bo=Ni(function(t,e,n){var i=3;if(n.length){var r=Fe(n,Hr(bo));i|=32}return Ur(e,i,t,n,r)});function Eo(t,e,n){var i,s,o,a,c,u,l=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new mt(r);function f(e){var n=i,r=s;return i=s=void 0,l=e,a=t.apply(r,n)}function _(t){return l=t,c=vs(m,e),h?f(t):a}function g(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-l>=o}function m(){var t=go();if(g(t))return v(t);c=vs(m,function(t){var n=e-(t-u);return d?an(n,o-(t-l)):n}(t))}function v(t){return c=void 0,p&&i?f(t):(i=s=void 0,a)}function y(){var t=go(),n=g(t);if(i=arguments,s=this,u=t,n){if(void 0===c)return _(u);if(d)return ur(c),c=vs(m,e),f(u)}return void 0===c&&(c=vs(m,e)),a}return e=oa(e)||0,Go(n)&&(h=!!n.leading,o=(d="maxWait"in n)?on(oa(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==c&&ur(c),l=0,i=u=s=c=void 0},y.flush=function(){return void 0===c?a:v(go())},y}var Oo=Ni(function(t,e){return Zn(t,1,e)}),So=Ni(function(t,e,n){return Zn(t,oa(e)||0,n)});function Co(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new mt(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=t.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(Co.Cache||Ln),n}function To(t){if("function"!=typeof t)throw new mt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Co.Cache=Ln;var wo=ar(function(t,e){var n=(e=1==e.length&&ko(e[0])?le(e[0],Pe(Qr())):le(si(e,1),Pe(Qr()))).length;return Ni(function(i){for(var r=-1,s=an(i.length,n);++r<s;)i[r]=e[r].call(this,i[r]);return ne(t,this,i)})}),Do=Ni(function(t,e){return Ur(t,32,void 0,e,Fe(e,Hr(Do)))}),Po=Ni(function(t,e){return Ur(t,64,void 0,e,Fe(e,Hr(Po)))}),Ao=Wr(function(t,e){return Ur(t,256,void 0,void 0,void 0,e)});function Io(t,e){return t===e||t!=t&&e!=e}var Mo=Rr(fi),xo=Rr(function(t,e){return t>=e}),Ro=yi(function(){return arguments}())?yi:function(t){return Ko(t)&&Ot.call(t,"callee")&&!zt.call(t,"callee")},ko=i.isArray,Lo=Yt?Pe(Yt):function(t){return Ko(t)&&pi(t)==O};function jo(t){return null!=t&&Wo(t.length)&&!qo(t)}function No(t){return Ko(t)&&jo(t)}var Uo=en||oc,Bo=Xt?Pe(Xt):function(t){return Ko(t)&&pi(t)==l};function Fo(t){if(!Ko(t))return!1;var e=pi(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ho(t)}function qo(t){if(!Go(t))return!1;var e=pi(t);return e==d||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Vo(t){return"number"==typeof t&&t==ra(t)}function Wo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Go(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ko(t){return null!=t&&"object"==typeof t}var zo=Zt?Pe(Zt):function(t){return Ko(t)&&es(t)==f};function $o(t){return"number"==typeof t||Ko(t)&&pi(t)==_}function Ho(t){if(!Ko(t)||pi(t)!=g)return!1;var e=Wt(t);if(null===e)return!0;var n=Ot.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Et.call(n)==wt}var Qo=Jt?Pe(Jt):function(t){return Ko(t)&&pi(t)==m},Yo=te?Pe(te):function(t){return Ko(t)&&es(t)==v};function Xo(t){return"string"==typeof t||!ko(t)&&Ko(t)&&pi(t)==y}function Zo(t){return"symbol"==typeof t||Ko(t)&&pi(t)==b}var Jo=ee?Pe(ee):function(t){return Ko(t)&&Wo(t.length)&&!!Nt[pi(t)]},ta=Rr(Ti),ea=Rr(function(t,e){return t<=e});function na(t){if(!t)return[];if(jo(t))return Xo(t)?Ge(t):gr(t);if(_e&&t[_e])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[_e]());var e=es(t);return(e==f?Ue:e==v?qe:Ia)(t)}function ia(t){return t?1/0===(t=oa(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ra(t){var e=ia(t),n=e%1;return e==e?n?e-n:e:0}function sa(t){return t?Qn(ra(t),0,4294967295):0}function oa(t){if("number"==typeof t)return t;if(Zo(t))return NaN;if(Go(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Go(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=De(t);var n=rt.test(t);return n||ot.test(t)?qt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function aa(t){return mr(t,Oa(t))}function ca(t){return null==t?"":Yi(t)}var ua=yr(function(t,e){if(ls(e)||jo(e))mr(e,Ea(e),t);else for(var n in e)Ot.call(e,n)&&Wn(t,n,e[n])}),la=yr(function(t,e){mr(e,Oa(e),t)}),ha=yr(function(t,e,n,i){mr(e,Oa(e),t,i)}),da=yr(function(t,e,n,i){mr(e,Ea(e),t,i)}),pa=Wr(Hn),fa=Ni(function(t,e){t=ft(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&os(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],o=Oa(s),a=-1,c=o.length;++a<c;){var u=o[a],l=t[u];(void 0===l||Io(l,yt[u])&&!Ot.call(t,u))&&(t[u]=s[u])}return t}),_a=Ni(function(t){return t.push(void 0,Fr),ne(Ca,void 0,t)});function ga(t,e,n){var i=null==t?void 0:hi(t,e);return void 0===i?n:i}function ma(t,e){return null!=t&&ns(t,e,gi)}var va=Pr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),t[e]=n},Ga($a)),ya=Pr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),Ot.call(t,e)?t[e].push(n):t[e]=[n]},Qr),ba=Ni(vi);function Ea(t){return jo(t)?Un(t):Ci(t)}function Oa(t){return jo(t)?Un(t,!0):function(t){if(!Go(t))return function(t){var e=[];if(null!=t)for(var n in ft(t))e.push(n);return e}(t);var e=ls(t),n=[];for(var i in t)("constructor"!=i||!e&&Ot.call(t,i))&&n.push(i);return n}(t)}var Sa=yr(function(t,e,n){Ai(t,e,n)}),Ca=yr(function(t,e,n,i){Ai(t,e,n,i)}),Ta=Wr(function(t,e){var n={};if(null==t)return n;var i=!1;e=le(e,function(e){return e=or(e,t),i||(i=e.length>1),e}),mr(t,Kr(t),n),i&&(n=Yn(n,7,qr));for(var r=e.length;r--;)Zi(n,e[r]);return n}),wa=Wr(function(t,e){return null==t?{}:function(t,e){return xi(t,e,function(e,n){return ma(t,n)})}(t,e)});function Da(t,e){if(null==t)return{};var n=le(Kr(t),function(t){return[t]});return e=Qr(e),xi(t,n,function(t,n){return e(t,n[0])})}var Pa=Nr(Ea),Aa=Nr(Oa);function Ia(t){return null==t?[]:Ae(t,Ea(t))}var Ma=Sr(function(t,e,n){return e=e.toLowerCase(),t+(n?xa(e):e)});function xa(t){return Fa(ca(t).toLowerCase())}function Ra(t){return(t=ca(t))&&t.replace(ct,ke).replace(It,"")}var ka=Sr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),La=Sr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),ja=Or("toLowerCase"),Na=Sr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ua=Sr(function(t,e,n){return t+(n?" ":"")+Fa(e)}),Ba=Sr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Fa=Or("toUpperCase");function qa(t,e,n){return t=ca(t),void 0===(e=n?void 0:e)?function(t){return kt.test(t)}(t)?function(t){return t.match(xt)||[]}(t):function(t){return t.match(Z)||[]}(t):t.match(e)||[]}var Va=Ni(function(t,e){try{return ne(t,void 0,e)}catch(n){return Fo(n)?n:new ht(n)}}),Wa=Wr(function(t,e){return re(e,function(e){e=ws(e),$n(t,e,yo(t[e],t))}),t});function Ga(t){return function(){return t}}var Ka=wr(),za=wr(!0);function $a(t){return t}function Ha(t){return Si("function"==typeof t?t:Yn(t,1))}var Qa=Ni(function(t,e){return function(n){return vi(n,t,e)}}),Ya=Ni(function(t,e){return function(n){return vi(t,n,e)}});function Xa(t,e,n){var i=Ea(e),r=li(e,i);null!=n||Go(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=li(e,Ea(e)));var s=!(Go(n)&&"chain"in n&&!n.chain),o=qo(t);return re(r,function(n){var i=e[n];t[n]=i,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),r=n.__actions__=gr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,he([this.value()],arguments))})}),t}function Za(){}var Ja=Ir(le),tc=Ir(oe),ec=Ir(fe);function nc(t){return as(t)?Oe(ws(t)):function(t){return function(e){return hi(e,t)}}(t)}var ic=xr(),rc=xr(!0);function sc(){return[]}function oc(){return!1}var ac,cc=Ar(function(t,e){return t+e},0),uc=Lr("ceil"),lc=Ar(function(t,e){return t/e},1),hc=Lr("floor"),dc=Ar(function(t,e){return t*e},1),pc=Lr("round"),fc=Ar(function(t,e){return t-e},0);return Pn.after=function(t,e){if("function"!=typeof e)throw new mt(r);return t=ra(t),function(){if(--t<1)return e.apply(this,arguments)}},Pn.ary=mo,Pn.assign=ua,Pn.assignIn=la,Pn.assignInWith=ha,Pn.assignWith=da,Pn.at=pa,Pn.before=vo,Pn.bind=yo,Pn.bindAll=Wa,Pn.bindKey=bo,Pn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ko(t)?t:[t]},Pn.chain=eo,Pn.chunk=function(t,e,n){e=(n?os(t,e,n):void 0===e)?1:on(ra(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var s=0,o=0,a=i(Ze(r/e));s<r;)a[o++]=Gi(t,s,s+=e);return a},Pn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var s=t[e];s&&(r[i++]=s)}return r},Pn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return he(ko(n)?gr(n):[n],si(e,1))},Pn.cond=function(t){var e=null==t?0:t.length,n=Qr();return t=e?le(t,function(t){if("function"!=typeof t[1])throw new mt(r);return[n(t[0]),t[1]]}):[],Ni(function(n){for(var i=-1;++i<e;){var r=t[i];if(ne(r[0],this,n))return ne(r[1],this,n)}})},Pn.conforms=function(t){return function(t){var e=Ea(t);return function(n){return Xn(n,t,e)}}(Yn(t,1))},Pn.constant=Ga,Pn.countBy=ro,Pn.create=function(t,e){var n=An(t);return null==e?n:zn(n,e)},Pn.curry=function t(e,n,i){var r=Ur(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Pn.curryRight=function t(e,n,i){var r=Ur(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Pn.debounce=Eo,Pn.defaults=fa,Pn.defaultsDeep=_a,Pn.defer=Oo,Pn.delay=So,Pn.difference=As,Pn.differenceBy=Is,Pn.differenceWith=Ms,Pn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,(e=n||void 0===e?1:ra(e))<0?0:e,i):[]},Pn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,0,(e=i-(e=n||void 0===e?1:ra(e)))<0?0:e):[]},Pn.dropRightWhile=function(t,e){return t&&t.length?tr(t,Qr(e,3),!0,!0):[]},Pn.dropWhile=function(t,e){return t&&t.length?tr(t,Qr(e,3),!0):[]},Pn.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&os(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=ra(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:ra(i))<0&&(i+=r),i=n>i?0:sa(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Pn.filter=function(t,e){return(ko(t)?ae:ri)(t,Qr(e,3))},Pn.flatMap=function(t,e){return si(po(t,e),1)},Pn.flatMapDeep=function(t,e){return si(po(t,e),1/0)},Pn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ra(n),si(po(t,e),n)},Pn.flatten=ks,Pn.flattenDeep=function(t){return null!=t&&t.length?si(t,1/0):[]},Pn.flattenDepth=function(t,e){return null!=t&&t.length?si(t,e=void 0===e?1:ra(e)):[]},Pn.flip=function(t){return Ur(t,512)},Pn.flow=Ka,Pn.flowRight=za,Pn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Pn.functions=function(t){return null==t?[]:li(t,Ea(t))},Pn.functionsIn=function(t){return null==t?[]:li(t,Oa(t))},Pn.groupBy=uo,Pn.initial=function(t){return null!=t&&t.length?Gi(t,0,-1):[]},Pn.intersection=js,Pn.intersectionBy=Ns,Pn.intersectionWith=Us,Pn.invert=va,Pn.invertBy=ya,Pn.invokeMap=lo,Pn.iteratee=Ha,Pn.keyBy=ho,Pn.keys=Ea,Pn.keysIn=Oa,Pn.map=po,Pn.mapKeys=function(t,e){var n={};return e=Qr(e,3),ci(t,function(t,i,r){$n(n,e(t,i,r),t)}),n},Pn.mapValues=function(t,e){var n={};return e=Qr(e,3),ci(t,function(t,i,r){$n(n,i,e(t,i,r))}),n},Pn.matches=function(t){return Di(Yn(t,1))},Pn.matchesProperty=function(t,e){return Pi(t,Yn(e,1))},Pn.memoize=Co,Pn.merge=Sa,Pn.mergeWith=Ca,Pn.method=Qa,Pn.methodOf=Ya,Pn.mixin=Xa,Pn.negate=To,Pn.nthArg=function(t){return t=ra(t),Ni(function(e){return Ii(e,t)})},Pn.omit=Ta,Pn.omitBy=function(t,e){return Da(t,To(Qr(e)))},Pn.once=function(t){return vo(2,t)},Pn.orderBy=function(t,e,n,i){return null==t?[]:(ko(e)||(e=null==e?[]:[e]),ko(n=i?void 0:n)||(n=null==n?[]:[n]),Mi(t,e,n))},Pn.over=Ja,Pn.overArgs=wo,Pn.overEvery=tc,Pn.overSome=ec,Pn.partial=Do,Pn.partialRight=Po,Pn.partition=fo,Pn.pick=wa,Pn.pickBy=Da,Pn.property=nc,Pn.propertyOf=function(t){return function(e){return null==t?void 0:hi(t,e)}},Pn.pull=Fs,Pn.pullAll=qs,Pn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ri(t,e,Qr(n,2)):t},Pn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ri(t,e,void 0,n):t},Pn.pullAt=Vs,Pn.range=ic,Pn.rangeRight=rc,Pn.rearg=Ao,Pn.reject=function(t,e){return(ko(t)?ae:ri)(t,To(Qr(e,3)))},Pn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],s=t.length;for(e=Qr(e,3);++i<s;){var o=t[i];e(o,i,t)&&(n.push(o),r.push(i))}return ki(t,r),n},Pn.rest=function(t,e){if("function"!=typeof t)throw new mt(r);return Ni(t,e=void 0===e?e:ra(e))},Pn.reverse=Ws,Pn.sampleSize=function(t,e,n){return e=(n?os(t,e,n):void 0===e)?1:ra(e),(ko(t)?Fn:Bi)(t,e)},Pn.set=function(t,e,n){return null==t?t:Fi(t,e,n)},Pn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Fi(t,e,n,i)},Pn.shuffle=function(t){return(ko(t)?qn:Wi)(t)},Pn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&os(t,e,n)?(e=0,n=i):(e=null==e?0:ra(e),n=void 0===n?i:ra(n)),Gi(t,e,n)):[]},Pn.sortBy=_o,Pn.sortedUniq=function(t){return t&&t.length?Hi(t):[]},Pn.sortedUniqBy=function(t,e){return t&&t.length?Hi(t,Qr(e,2)):[]},Pn.split=function(t,e,n){return n&&"number"!=typeof n&&os(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ca(t))&&("string"==typeof e||null!=e&&!Qo(e))&&!(e=Yi(e))&&Ne(t)?cr(Ge(t),0,n):t.split(e,n):[]},Pn.spread=function(t,e){if("function"!=typeof t)throw new mt(r);return e=null==e?0:on(ra(e),0),Ni(function(n){var i=n[e],r=cr(n,0,e);return i&&he(r,i),ne(t,this,r)})},Pn.tail=function(t){var e=null==t?0:t.length;return e?Gi(t,1,e):[]},Pn.take=function(t,e,n){return t&&t.length?Gi(t,0,(e=n||void 0===e?1:ra(e))<0?0:e):[]},Pn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,(e=i-(e=n||void 0===e?1:ra(e)))<0?0:e,i):[]},Pn.takeRightWhile=function(t,e){return t&&t.length?tr(t,Qr(e,3),!1,!0):[]},Pn.takeWhile=function(t,e){return t&&t.length?tr(t,Qr(e,3)):[]},Pn.tap=function(t,e){return e(t),t},Pn.throttle=function(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new mt(r);return Go(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Eo(t,e,{leading:i,maxWait:e,trailing:s})},Pn.thru=no,Pn.toArray=na,Pn.toPairs=Pa,Pn.toPairsIn=Aa,Pn.toPath=function(t){return ko(t)?le(t,ws):Zo(t)?[t]:gr(Ts(ca(t)))},Pn.toPlainObject=aa,Pn.transform=function(t,e,n){var i=ko(t),r=i||Uo(t)||Jo(t);if(e=Qr(e,4),null==n){var s=t&&t.constructor;n=r?i?new s:[]:Go(t)&&qo(s)?An(Wt(t)):{}}return(r?re:ci)(t,function(t,i,r){return e(n,t,i,r)}),n},Pn.unary=function(t){return mo(t,1)},Pn.union=Gs,Pn.unionBy=Ks,Pn.unionWith=zs,Pn.uniq=function(t){return t&&t.length?Xi(t):[]},Pn.uniqBy=function(t,e){return t&&t.length?Xi(t,Qr(e,2)):[]},Pn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Xi(t,void 0,e):[]},Pn.unset=function(t,e){return null==t||Zi(t,e)},Pn.unzip=$s,Pn.unzipWith=Hs,Pn.update=function(t,e,n){return null==t?t:Ji(t,e,sr(n))},Pn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Ji(t,e,sr(n),i)},Pn.values=Ia,Pn.valuesIn=function(t){return null==t?[]:Ae(t,Oa(t))},Pn.without=Qs,Pn.words=qa,Pn.wrap=function(t,e){return Do(sr(e),t)},Pn.xor=Ys,Pn.xorBy=Xs,Pn.xorWith=Zs,Pn.zip=Js,Pn.zipObject=function(t,e){return ir(t||[],e||[],Wn)},Pn.zipObjectDeep=function(t,e){return ir(t||[],e||[],Fi)},Pn.zipWith=to,Pn.entries=Pa,Pn.entriesIn=Aa,Pn.extend=la,Pn.extendWith=ha,Xa(Pn,Pn),Pn.add=cc,Pn.attempt=Va,Pn.camelCase=Ma,Pn.capitalize=xa,Pn.ceil=uc,Pn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==e&&(e=(e=oa(e))==e?e:0),Qn(oa(t),e,n)},Pn.clone=function(t){return Yn(t,4)},Pn.cloneDeep=function(t){return Yn(t,5)},Pn.cloneDeepWith=function(t,e){return Yn(t,5,e="function"==typeof e?e:void 0)},Pn.cloneWith=function(t,e){return Yn(t,4,e="function"==typeof e?e:void 0)},Pn.conformsTo=function(t,e){return null==e||Xn(t,e,Ea(e))},Pn.deburr=Ra,Pn.defaultTo=function(t,e){return null==t||t!=t?e:t},Pn.divide=lc,Pn.endsWith=function(t,e,n){t=ca(t),e=Yi(e);var i=t.length,r=n=void 0===n?i:Qn(ra(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},Pn.eq=Io,Pn.escape=function(t){return(t=ca(t))&&U.test(t)?t.replace(j,Le):t},Pn.escapeRegExp=function(t){return(t=ca(t))&&z.test(t)?t.replace(K,"\\$&"):t},Pn.every=function(t,e,n){var i=ko(t)?oe:ni;return n&&os(t,e,n)&&(e=void 0),i(t,Qr(e,3))},Pn.find=so,Pn.findIndex=xs,Pn.findKey=function(t,e){return ge(t,Qr(e,3),ci)},Pn.findLast=oo,Pn.findLastIndex=Rs,Pn.findLastKey=function(t,e){return ge(t,Qr(e,3),ui)},Pn.floor=hc,Pn.forEach=ao,Pn.forEachRight=co,Pn.forIn=function(t,e){return null==t?t:oi(t,Qr(e,3),Oa)},Pn.forInRight=function(t,e){return null==t?t:ai(t,Qr(e,3),Oa)},Pn.forOwn=function(t,e){return t&&ci(t,Qr(e,3))},Pn.forOwnRight=function(t,e){return t&&ui(t,Qr(e,3))},Pn.get=ga,Pn.gt=Mo,Pn.gte=xo,Pn.has=function(t,e){return null!=t&&ns(t,e,_i)},Pn.hasIn=ma,Pn.head=Ls,Pn.identity=$a,Pn.includes=function(t,e,n,i){t=jo(t)?t:Ia(t),n=n&&!i?ra(n):0;var r=t.length;return n<0&&(n=on(r+n,0)),Xo(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ve(t,e,n)>-1},Pn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=on(i+r,0)),ve(t,e,r)},Pn.inRange=function(t,e,n){return e=ia(e),void 0===n?(n=e,e=0):n=ia(n),function(t,e,n){return t>=an(e,n)&&t<on(e,n)}(t=oa(t),e,n)},Pn.invoke=ba,Pn.isArguments=Ro,Pn.isArray=ko,Pn.isArrayBuffer=Lo,Pn.isArrayLike=jo,Pn.isArrayLikeObject=No,Pn.isBoolean=function(t){return!0===t||!1===t||Ko(t)&&pi(t)==u},Pn.isBuffer=Uo,Pn.isDate=Bo,Pn.isElement=function(t){return Ko(t)&&1===t.nodeType&&!Ho(t)},Pn.isEmpty=function(t){if(null==t)return!0;if(jo(t)&&(ko(t)||"string"==typeof t||"function"==typeof t.splice||Uo(t)||Jo(t)||Ro(t)))return!t.length;var e=es(t);if(e==f||e==v)return!t.size;if(ls(t))return!Ci(t).length;for(var n in t)if(Ot.call(t,n))return!1;return!0},Pn.isEqual=function(t,e){return bi(t,e)},Pn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?bi(t,e,void 0,n):!!i},Pn.isError=Fo,Pn.isFinite=function(t){return"number"==typeof t&&nn(t)},Pn.isFunction=qo,Pn.isInteger=Vo,Pn.isLength=Wo,Pn.isMap=zo,Pn.isMatch=function(t,e){return t===e||Ei(t,e,Xr(e))},Pn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,Ei(t,e,Xr(e),n)},Pn.isNaN=function(t){return $o(t)&&t!=+t},Pn.isNative=function(t){if(us(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Oi(t)},Pn.isNil=function(t){return null==t},Pn.isNull=function(t){return null===t},Pn.isNumber=$o,Pn.isObject=Go,Pn.isObjectLike=Ko,Pn.isPlainObject=Ho,Pn.isRegExp=Qo,Pn.isSafeInteger=function(t){return Vo(t)&&t>=-9007199254740991&&t<=9007199254740991},Pn.isSet=Yo,Pn.isString=Xo,Pn.isSymbol=Zo,Pn.isTypedArray=Jo,Pn.isUndefined=function(t){return void 0===t},Pn.isWeakMap=function(t){return Ko(t)&&es(t)==E},Pn.isWeakSet=function(t){return Ko(t)&&"[object WeakSet]"==pi(t)},Pn.join=function(t,e){return null==t?"":rn.call(t,e)},Pn.kebabCase=ka,Pn.last=Bs,Pn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=ra(n))<0?on(i+r,0):an(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):me(t,be,r,!0)},Pn.lowerCase=La,Pn.lowerFirst=ja,Pn.lt=ta,Pn.lte=ea,Pn.max=function(t){return t&&t.length?ii(t,$a,fi):void 0},Pn.maxBy=function(t,e){return t&&t.length?ii(t,Qr(e,2),fi):void 0},Pn.mean=function(t){return Ee(t,$a)},Pn.meanBy=function(t,e){return Ee(t,Qr(e,2))},Pn.min=function(t){return t&&t.length?ii(t,$a,Ti):void 0},Pn.minBy=function(t,e){return t&&t.length?ii(t,Qr(e,2),Ti):void 0},Pn.stubArray=sc,Pn.stubFalse=oc,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=dc,Pn.nth=function(t,e){return t&&t.length?Ii(t,ra(e)):void 0},Pn.noConflict=function(){return Gt._===this&&(Gt._=Dt),this},Pn.noop=Za,Pn.now=go,Pn.pad=function(t,e,n){t=ca(t);var i=(e=ra(e))?We(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Mr(Je(r),n)+t+Mr(Ze(r),n)},Pn.padEnd=function(t,e,n){t=ca(t);var i=(e=ra(e))?We(t):0;return e&&i<e?t+Mr(e-i,n):t},Pn.padStart=function(t,e,n){t=ca(t);var i=(e=ra(e))?We(t):0;return e&&i<e?Mr(e-i,n)+t:t},Pn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(ca(t).replace($,""),e||0)},Pn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&os(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ia(t),void 0===e?(e=t,t=0):e=ia(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=ln();return an(t+r*(e-t+Ft("1e-"+((r+"").length-1))),e)}return Li(t,e)},Pn.reduce=function(t,e,n){var i=ko(t)?de:Ce,r=arguments.length<3;return i(t,Qr(e,4),n,r,ti)},Pn.reduceRight=function(t,e,n){var i=ko(t)?pe:Ce,r=arguments.length<3;return i(t,Qr(e,4),n,r,ei)},Pn.repeat=function(t,e,n){return e=(n?os(t,e,n):void 0===e)?1:ra(e),ji(ca(t),e)},Pn.replace=function(){var t=arguments,e=ca(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Pn.result=function(t,e,n){var i=-1,r=(e=or(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var s=null==t?void 0:t[ws(e[i])];void 0===s&&(i=r,s=n),t=qo(s)?s.call(t):s}return t},Pn.round=pc,Pn.runInContext=t,Pn.sample=function(t){return(ko(t)?Bn:Ui)(t)},Pn.size=function(t){if(null==t)return 0;if(jo(t))return Xo(t)?We(t):t.length;var e=es(t);return e==f||e==v?t.size:Ci(t).length},Pn.snakeCase=Na,Pn.some=function(t,e,n){var i=ko(t)?fe:Ki;return n&&os(t,e,n)&&(e=void 0),i(t,Qr(e,3))},Pn.sortedIndex=function(t,e){return zi(t,e)},Pn.sortedIndexBy=function(t,e,n){return $i(t,e,Qr(n,2))},Pn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=zi(t,e);if(i<n&&Io(t[i],e))return i}return-1},Pn.sortedLastIndex=function(t,e){return zi(t,e,!0)},Pn.sortedLastIndexBy=function(t,e,n){return $i(t,e,Qr(n,2),!0)},Pn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=zi(t,e,!0)-1;if(Io(t[n],e))return n}return-1},Pn.startCase=Ua,Pn.startsWith=function(t,e,n){return t=ca(t),n=null==n?0:Qn(ra(n),0,t.length),e=Yi(e),t.slice(n,n+e.length)==e},Pn.subtract=fc,Pn.sum=function(t){return t&&t.length?Te(t,$a):0},Pn.sumBy=function(t,e){return t&&t.length?Te(t,Qr(e,2)):0},Pn.template=function(t,e,n){var i=Pn.templateSettings;n&&os(t,e,n)&&(e=void 0),t=ca(t),e=ha({},e,i,Br);var r,s,o=ha({},e.imports,i.imports,Br),a=Ea(o),c=Ae(o,a),u=0,l=e.interpolate||ut,h="__p += '",d=_t((e.escape||ut).source+"|"+l.source+"|"+(l===q?et:ut).source+"|"+(e.evaluate||ut).source+"|$","g"),p="//# sourceURL="+(Ot.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jt+"]")+"\n";t.replace(d,function(e,n,i,o,a,c){return i||(i=o),h+=t.slice(u,c).replace(lt,je),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=c+e.length,e}),h+="';\n";var f=Ot.call(e,"variable")&&e.variable;if(f){if(J.test(f))throw new ht("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(x,""):h).replace(R,"$1").replace(k,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=Va(function(){return dt(a,p+"return "+h).apply(void 0,c)});if(_.source=h,Fo(_))throw _;return _},Pn.times=function(t,e){if((t=ra(t))<1||t>9007199254740991)return[];var n=4294967295,i=an(t,4294967295);t-=4294967295;for(var r=we(i,e=Qr(e));++n<t;)e(n);return r},Pn.toFinite=ia,Pn.toInteger=ra,Pn.toLength=sa,Pn.toLower=function(t){return ca(t).toLowerCase()},Pn.toNumber=oa,Pn.toSafeInteger=function(t){return t?Qn(ra(t),-9007199254740991,9007199254740991):0===t?t:0},Pn.toString=ca,Pn.toUpper=function(t){return ca(t).toUpperCase()},Pn.trim=function(t,e,n){if((t=ca(t))&&(n||void 0===e))return De(t);if(!t||!(e=Yi(e)))return t;var i=Ge(t),r=Ge(e);return cr(i,Me(i,r),xe(i,r)+1).join("")},Pn.trimEnd=function(t,e,n){if((t=ca(t))&&(n||void 0===e))return t.slice(0,Ke(t)+1);if(!t||!(e=Yi(e)))return t;var i=Ge(t);return cr(i,0,xe(i,Ge(e))+1).join("")},Pn.trimStart=function(t,e,n){if((t=ca(t))&&(n||void 0===e))return t.replace($,"");if(!t||!(e=Yi(e)))return t;var i=Ge(t);return cr(i,Me(i,Ge(e))).join("")},Pn.truncate=function(t,e){var n=30,i="...";if(Go(e)){var r="separator"in e?e.separator:r;n="length"in e?ra(e.length):n,i="omission"in e?Yi(e.omission):i}var s=(t=ca(t)).length;if(Ne(t)){var o=Ge(t);s=o.length}if(n>=s)return t;var a=n-We(i);if(a<1)return i;var c=o?cr(o,0,a).join(""):t.slice(0,a);if(void 0===r)return c+i;if(o&&(a+=c.length-a),Qo(r)){if(t.slice(a).search(r)){var u,l=c;for(r.global||(r=_t(r.source,ca(nt.exec(r))+"g")),r.lastIndex=0;u=r.exec(l);)var h=u.index;c=c.slice(0,void 0===h?a:h)}}else if(t.indexOf(Yi(r),a)!=a){var d=c.lastIndexOf(r);d>-1&&(c=c.slice(0,d))}return c+i},Pn.unescape=function(t){return(t=ca(t))&&N.test(t)?t.replace(L,ze):t},Pn.uniqueId=function(t){var e=++St;return ca(t)+e},Pn.upperCase=Ba,Pn.upperFirst=Fa,Pn.each=ao,Pn.eachRight=co,Pn.first=Ls,Xa(Pn,(ac={},ci(Pn,function(t,e){Ot.call(Pn.prototype,e)||(ac[e]=t)}),ac),{chain:!1}),Pn.VERSION="4.17.21",re(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Pn[t].placeholder=Pn}),re(["drop","take"],function(t,e){xn.prototype[t]=function(n){n=void 0===n?1:on(ra(n),0);var i=this.__filtered__&&!e?new xn(this):this.clone();return i.__filtered__?i.__takeCount__=an(n,i.__takeCount__):i.__views__.push({size:an(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},xn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),re(["filter","map","takeWhile"],function(t,e){var n=e+1,i=1==n||3==n;xn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Qr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),re(["head","last"],function(t,e){var n="take"+(e?"Right":"");xn.prototype[t]=function(){return this[n](1).value()[0]}}),re(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");xn.prototype[t]=function(){return this.__filtered__?new xn(this):this[n](1)}}),xn.prototype.compact=function(){return this.filter($a)},xn.prototype.find=function(t){return this.filter(t).head()},xn.prototype.findLast=function(t){return this.reverse().find(t)},xn.prototype.invokeMap=Ni(function(t,e){return"function"==typeof t?new xn(this):this.map(function(n){return vi(n,t,e)})}),xn.prototype.reject=function(t){return this.filter(To(Qr(t)))},xn.prototype.slice=function(t,e){t=ra(t);var n=this;return n.__filtered__&&(t>0||e<0)?new xn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ra(e))<0?n.dropRight(-e):n.take(e-t)),n)},xn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},xn.prototype.toArray=function(){return this.take(4294967295)},ci(xn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=Pn[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);r&&(Pn.prototype[e]=function(){var e=this.__wrapped__,o=i?[1]:arguments,a=e instanceof xn,c=o[0],u=a||ko(e),l=function(t){var e=r.apply(Pn,he([t],o));return i&&h?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(a=u=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,f=a&&!d;if(!s&&u){e=f?e:new xn(this);var _=t.apply(e,o);return _.__actions__.push({func:no,args:[l],thisArg:void 0}),new Mn(_,h)}return p&&f?t.apply(this,o):(_=this.thru(l),p?i?_.value()[0]:_.value():_)})}),re(["pop","push","shift","sort","splice","unshift"],function(t){var e=vt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Pn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(ko(r)?r:[],t)}return this[n](function(n){return e.apply(ko(n)?n:[],t)})}}),ci(xn.prototype,function(t,e){var n=Pn[e];if(n){var i=n.name+"";Ot.call(yn,i)||(yn[i]=[]),yn[i].push({name:e,func:n})}}),yn[Dr(void 0,2).name]=[{name:"wrapper",func:void 0}],xn.prototype.clone=function(){var t=new xn(this.__wrapped__);return t.__actions__=gr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gr(this.__views__),t},xn.prototype.reverse=function(){if(this.__filtered__){var t=new xn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},xn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ko(t),i=e<0,r=n?t.length:0,s=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=an(e,t+o);break;case"takeRight":t=on(t,e-o)}}return{start:t,end:e}}(0,r,this.__views__),o=s.start,a=s.end,c=a-o,u=i?a:o-1,l=this.__iteratees__,h=l.length,d=0,p=an(c,this.__takeCount__);if(!n||!i&&r==c&&p==c)return er(t,this.__actions__);var f=[];t:for(;c--&&d<p;){for(var _=-1,g=t[u+=e];++_<h;){var m=l[_],v=m.type,y=(0,m.iteratee)(g);if(2==v)g=y;else if(!y){if(1==v)continue t;break t}}f[d++]=g}return f},Pn.prototype.at=io,Pn.prototype.chain=function(){return eo(this)},Pn.prototype.commit=function(){return new Mn(this.value(),this.__chain__)},Pn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Pn.prototype.plant=function(t){for(var e,n=this;n instanceof In;){var i=Ps(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},Pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof xn){var e=t;return this.__actions__.length&&(e=new xn(this)),(e=e.reverse()).__actions__.push({func:no,args:[Ws],thisArg:void 0}),new Mn(e,this.__chain__)}return this.thru(Ws)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return er(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,_e&&(Pn.prototype[_e]=function(){return this}),Pn}();Gt._=$e,void 0===(i=(function(){return $e}).call(e,n,e,t))||(t.exports=i)}).call(this)}).call(this,n("YuTi")(t))},MtjB:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("XNiG"),r=n("l7GE"),s=n("ZUHj");function o(t){return e=>e.lift(new a(t,e))}class a{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new c(t,this.notifier,this.source))}}class c extends r.a{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i.a;try{const{notifier:t}=this;r=t(n)}catch(e){return super.error(e)}o=Object(s.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null}notifyNext(t,e,n,i,r){const{_unsubscribe:s}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=s,this.source.subscribe(this)}}},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return i})},NXyV:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("Cfvw"),s=n("EY2u");function o(t){return new i.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(r.a)(n):Object(s.b)()).subscribe(e)})}},OQgR:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("quSY"),s=n("HDdC"),o=n("XNiG");function a(t,e,n,i){return r=>r.lift(new c(t,e,n,i))}class c{constructor(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}call(t,e){return e.subscribe(new u(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class u extends i.a{constructor(t,e,n,i,r){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let i,r=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(s){this.error(s)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new o.a,n.set(e,r);const t=new h(e,r,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new h(e,r))}catch(s){return void this.error(s)}this.add(t.subscribe(new l(e,r,this)))}}r.closed||r.next(i)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class l extends i.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class h extends s.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new r.a,{refCountSubscription:n,groupSubject:i}=this;return n&&!n.closed&&e.add(new d(n)),e.add(i.subscribe(t)),e}}class d extends r.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}},PqYM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("D0XW"),s=n("Y7HM"),o=n("z+Ro");function a(t=0,e,n){let a=-1;return Object(s.a)(e)?a=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=r.a),new i.a(e=>{const i=Object(s.a)(t)?t:+t-n.now();return n.schedule(c,i,{index:0,period:a,subscriber:e})})}function c(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},R0Ic:function(t,e,n){"use strict";function i(t,e){return{type:7,name:t,definitions:e,options:{}}}function r(t,e=null){return{type:4,styles:e,timings:t}}function s(t,e=null){return{type:3,steps:t,options:e}}function o(t){return{type:6,styles:t,offset:null}}function a(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function c(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return i})},R0sL:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("l7P3"),r=n("fXoL"),s=function(t){return t[t.EntitiesOnly=0]="EntitiesOnly",t[t.Both=1]="Both",t[t.None=2]="None",t}({});function o(t){return function(e,n){const i={ids:[...n.ids],entities:Object.assign({},n.entities)},r=t(e,i);return r===s.Both?Object.assign({},n,i):r===s.EntitiesOnly?Object.assign(Object.assign({},n),{entities:i.entities}):n}}function a(t,e){const n=e(t);return Object(r.X)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),n}function c(t){function e(e,n){const i=a(e,t);return i in n.entities?s.None:(n.ids.push(i),n.entities[i]=e,s.Both)}function n(t,n){let i=!1;for(const r of t)i=e(r,n)!==s.None||i;return i?s.Both:s.None}function i(t,e){const n=(t instanceof Array?t:e.ids.filter(n=>t(e.entities[n]))).filter(t=>t in e.entities).map(t=>delete e.entities[t]).length>0;return n&&(e.ids=e.ids.filter(t=>t in e.entities)),n?s.Both:s.None}function r(t,e){return c([t],e)}function c(e,n){const i={};return(e=e.filter(t=>t.id in n.entities)).length>0?e.filter(e=>function(e,n,i){const r=Object.assign({},i.entities[n.id],n.changes),s=a(r,t),o=s!==n.id;return o&&(e[n.id]=s,delete i.entities[n.id]),i.entities[s]=r,o}(i,e,n)).length>0?(n.ids=n.ids.map(t=>i[t]||t),s.Both):s.EntitiesOnly:s.None}function u(e,i){const r=[],o=[];for(const n of e){const e=a(n,t);e in i.entities?o.push({id:e,changes:n}):r.push(n)}const u=c(o,i),l=n(r,i);switch(!0){case l===s.None&&u===s.None:return s.None;case l===s.Both||u===s.Both:return s.Both;default:return s.EntitiesOnly}}return{removeAll:function(t){return Object.assign({},t,{ids:[],entities:{}})},addOne:o(e),addMany:o(n),setAll:o(function(t,e){return e.ids=[],e.entities={},n(t,e),s.Both}),setOne:o(function(e,n){const i=a(e,t);return i in n.entities?(n.entities[i]=e,s.EntitiesOnly):(n.ids.push(i),n.entities[i]=e,s.Both)}),updateOne:o(r),updateMany:o(c),upsertOne:o(function(t,e){return u([t],e)}),upsertMany:o(u),removeOne:o(function(t,e){return i([t],e)}),removeMany:o(i),map:o(function(t,e){return c(e.ids.reduce((n,i)=>{const r=t(e.entities[i]);return r!==e.entities[i]&&n.push({id:i,changes:r}),n},[]).filter(({id:t})=>t in e.entities),e)}),mapOne:o(function({map:t,id:e},n){const i=n.entities[e];return i?r({id:e,changes:t(i)},n):s.None})}}function u(t={}){const{selectId:e,sortComparer:n}=Object.assign({sortComparer:!1,selectId:t=>t.id},t),r={getInitialState:function(t={}){return Object.assign({ids:[],entities:{}},t)}},u={getSelectors:function(t){const e=t=>t.ids,n=t=>t.entities,r=Object(i.j)(e,n,(t,e)=>t.map(t=>e[t])),s=Object(i.j)(e,t=>t.length);return t?{selectIds:Object(i.j)(t,e),selectEntities:Object(i.j)(t,n),selectAll:Object(i.j)(t,r),selectTotal:Object(i.j)(t,s)}:{selectIds:e,selectEntities:n,selectAll:r,selectTotal:s}}},l=n?function(t,e){const{removeOne:n,removeMany:i,removeAll:r}=c(t);function u(t,e){return l([t],e)}function l(e,n){const i=e.filter(e=>!(a(e,t)in n.entities));return 0===i.length?s.None:(f(i,n),s.Both)}function h(t,e){return d([t],e)}function d(e,n){const i=[],r=e.filter(e=>function(e,n,i){if(!(n.id in i.entities))return!1;const r=Object.assign({},i.entities[n.id],n.changes),s=a(r,t);return delete i.entities[n.id],e.push(r),s!==n.id}(i,e,n)).length>0;if(0===i.length)return s.None;{const t=n.ids,e=[];return n.ids=n.ids.filter((t,i)=>t in n.entities||(e.push(i),!1)),f(i,n),!r&&e.every(e=>n.ids[e]===t[e])?s.EntitiesOnly:s.Both}}function p(e,n){const i=[],r=[];for(const s of e){const e=a(s,t);e in n.entities?r.push({id:e,changes:s}):i.push(s)}const o=d(r,n),c=l(i,n);switch(!0){case c===s.None&&o===s.None:return s.None;case c===s.Both||o===s.Both:return s.Both;default:return s.EntitiesOnly}}function f(n,i){n.sort(e);const r=[];let s=0,o=0;for(;s<n.length&&o<i.ids.length;){const c=n[s],u=a(c,t),l=i.ids[o];e(c,i.entities[l])<=0?(r.push(u),s++):(r.push(l),o++)}i.ids=r.concat(s<n.length?n.slice(s).map(t):i.ids.slice(o)),n.forEach((e,n)=>{i.entities[t(e)]=e})}return{removeOne:n,removeMany:i,removeAll:r,addOne:o(u),updateOne:o(h),upsertOne:o(function(t,e){return p([t],e)}),setAll:o(function(t,e){return e.entities={},e.ids=[],l(t,e),s.Both}),setOne:o(function(e,n){const i=a(e,t);return i in n.entities?(n.ids=n.ids.filter(t=>t!==i),f([e],n),s.Both):u(e,n)}),addMany:o(l),updateMany:o(d),upsertMany:o(p),map:o(function(t,e){return d(e.ids.reduce((n,i)=>{const r=t(e.entities[i]);return r!==e.entities[i]&&n.push({id:i,changes:r}),n},[]),e)}),mapOne:o(function({map:t,id:e},n){const i=n.entities[e];return i?h({id:e,changes:t(i)},n):s.None})}}(e,n):c(e);return Object.assign(Object.assign(Object.assign({selectId:e,sortComparer:n},r),u),l)}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("ngJS"),r=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("sVev"),r=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),c=n("SpAZ");function u(t,e){const n=arguments.length>=2;return u=>u.pipe(t?Object(r.a)((e,n)=>t(e,n,u)):c.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new i.a))}},UXun:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("jtHE");function r(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let s,o,a=0,c=!1,u=!1;return function(l){a++,s&&!c||(c=!1,s=new i.a(t,e,r),o=l.subscribe({next(t){s.next(t)},error(t){c=!0,s.error(t)},complete(){u=!0,o=void 0,s.complete()}}));const h=s.subscribe(this);this.add(()=>{a--,h.unsubscribe(),o&&!u&&n&&0===a&&(o.unsubscribe(),o=void 0,s=void 0)})}}(r))}},UbJi:function(t,e,n){"use strict";n.d(e,"a",function(){return T}),n.d(e,"b",function(){return y});var i=n("fXoL"),r=n("XNiG"),s=n("LRne"),o=n("HDdC"),a=n("Cfvw"),c=n("VRyK"),u=n("pxpQ"),l=n("eIep"),h=n("lJxs"),d=n("UXun"),p=n("SxV6");function f(t,e){return e?Object(l.a)(()=>t,e):Object(l.a)(()=>t)}var _=n("tf+s"),g=n("pLZG"),m=n("spgP"),v=n("ofXK");const y=new i.r("angularfire2.auth.use-emulator"),b=new i.r("angularfire2.auth.settings"),E=new i.r("angularfire2.auth.tenant-id"),O=new i.r("angularfire2.auth.langugage-code"),S=new i.r("angularfire2.auth.use-device-language"),C=new i.r("angularfire.auth.persistence");let T=(()=>{class t{constructor(t,e,i,y,b,E,O,S,C,T){const w=new m.d(y),D=Object(m.h)(w),P=new r.a,A=Object(s.a)(void 0).pipe(Object(u.b)(w.outsideAngular),Object(l.a)(()=>y.runOutsideAngular(()=>n.e(7).then(n.bind(null,"6nsN")))),Object(h.a)(()=>Object(m.g)(t,y,e)),Object(h.a)(t=>y.runOutsideAngular(()=>{const e=b,n=E;return Object(m.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const i=y.runOutsideAngular(()=>t.auth());if(e&&i.useEmulator(`http://${e.join(":")}`),O&&(i.tenantId=O),i.languageCode=S,C&&i.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))i.settings[t]=e;return T&&i.setPersistence(T),i},[e,O,S,C,n,T])})),Object(d.a)({bufferSize:1,refCount:!1}));if(Object(v.B)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(s.a)(null);else{A.pipe(Object(p.a)()).subscribe();const t=A.pipe(Object(l.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),D,Object(d.a)({bufferSize:1,refCount:!1})),e=t=>new o.a(e=>({unsubscribe:y.runOutsideAngular(()=>t(e))})),n=A.pipe(Object(l.a)(t=>e(t.onAuthStateChanged.bind(t)))),i=A.pipe(Object(l.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(f(n),Object(_.a)(w.outsideAngular),Object(u.b)(w.insideAngular)),this.user=t.pipe(f(i),Object(_.a)(w.outsideAngular),Object(u.b)(w.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdToken()):Object(s.a)(null))),this.idTokenResult=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdTokenResult()):Object(s.a)(null))),this.credential=Object(c.a)(t,P,this.authState.pipe(Object(g.a)(t=>!t))).pipe(Object(h.a)(t=>(null==t?void 0:t.user)?t:null),Object(_.a)(w.outsideAngular),Object(u.b)(w.insideAngular))}return Object(m.i)(this,A,y,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>P.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.cc(m.b),i.cc(m.a,8),i.cc(i.C),i.cc(i.A),i.cc(y,8),i.cc(b,8),i.cc(E,8),i.cc(O,8),i.cc(S,8),i.cc(C,8))},t.\u0275prov=i.Mb({factory:function(){return new t(i.cc(m.b),i.cc(m.a,8),i.cc(i.C),i.cc(i.A),i.cc(y,8),i.cc(b,8),i.cc(E,8),i.cc(O,8),i.cc(S,8),i.cc(C,8))},token:t,providedIn:"any"}),t})();Object(m.e)(T,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}])},VDUF:function(t,e,n){(function(t){t.exports=function(){"use strict";var e;function n(){return e.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(s(t,e))return;return 1}function a(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){for(var n=[],i=t.length,r=0;r<i;++r)n.push(e(t[r],r));return n}function h(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return ve(t,e,n,i,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function f(t){if(null==t._isValid){var e=p(t),n=g.call(e.parsedDateParts,function(t){return null!=t});if(n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function _(t){var e=d(NaN);return null!=t?h(p(e),t):p(e).userInvalidated=!0,e}var g=Array.prototype.some||function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},m=n.momentProperties=[],v=!1;function y(t,e){var n,i,r,s=m.length;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=p(e)),a(e._locale)||(t._locale=e._locale),0<s)for(n=0;n<s;n++)a(r=e[i=m[n]])||(t[i]=r);return t}function b(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function E(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function O(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var i=!0;return h(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var r,o,a=[],c=arguments.length,u=0;u<c;u++){if(r="","object"==typeof arguments[u]){for(o in r+="\n["+u+"] ",arguments[0])s(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[u];a.push(r)}O(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}var C={};function T(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),C[t]||(O(e),C[t]=!0)}function w(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var n,i=h({},t);for(n in e)s(e,n)&&(r(t[n])&&r(e[n])?(i[n]={},h(i[n],t[n]),h(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)s(t,n)&&!s(e,n)&&r(t[n])&&(i[n]=h({},i[n]));return i}function P(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var A=Object.keys||function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};function I(t,e,n){var i=""+Math.abs(t);return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,x=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},k={};function L(t,e,n,i){var r="string"==typeof i?function(){return this[i]()}:i;t&&(k[t]=r),e&&(k[e[0]]=function(){return I(r.apply(this,arguments),e[1],e[2])}),n&&(k[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function j(t,e){return t.isValid()?(e=N(e,t.localeData()),R[e]=R[e]||function(t){for(var e,n=t.match(M),i=0,r=n.length;i<r;i++)n[i]=k[n[i]]?k[n[i]]:(e=n[i]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var i="",s=0;s<r;s++)i+=w(n[s])?n[s].call(e,t):n[s];return i}}(e),R[e](t)):t.localeData().invalidDate()}function N(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(x.lastIndex=0;0<=n&&x.test(t);)t=t.replace(x,i),x.lastIndex=0,--n;return t}var U={};function B(t,e){var n=t.toLowerCase();U[n]=U[n+"s"]=U[e]=t}function F(t){return"string"==typeof t?U[t]||U[t.toLowerCase()]:void 0}function q(t){var e,n,i={};for(n in t)s(t,n)&&(e=F(n))&&(i[e]=t[n]);return i}var V={};function W(t,e){V[t]=e}function G(t){return t%4==0&&t%100!=0||t%400==0}function K(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function z(t){return 0!=(t=+t)&&isFinite(t)?K(t):0}function $(t,e){return function(i){return null!=i?(Q(this,t,i),n.updateOffset(this,e),this):H(this,t)}}function H(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Q(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&G(t.year())&&1===t.month()&&29===t.date()?(n=z(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),bt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var Y=/\d/,X=/\d\d/,Z=/\d{3}/,J=/\d{4}/,tt=/[+-]?\d{6}/,et=/\d\d?/,nt=/\d\d\d\d?/,it=/\d\d\d\d\d\d?/,rt=/\d{1,3}/,st=/\d{1,4}/,ot=/[+-]?\d{1,6}/,at=/\d+/,ct=/[+-]?\d+/,ut=/Z|[+-]\d\d:?\d\d/gi,lt=/Z|[+-]\d\d(?::?\d\d)?/gi,ht=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function dt(t,e,n){gt[t]=w(e)?e:function(t,i){return t&&n?n:e}}function pt(t,e){return s(gt,t)?gt[t](e._strict,e._locale):new RegExp(ft(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function ft(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _t,gt={},mt={};function vt(t,e){var n,i,r=e;for("string"==typeof t&&(t=[t]),c(e)&&(r=function(t,n){n[e]=z(t)}),i=t.length,n=0;n<i;n++)mt[t[n]]=r}function yt(t,e){vt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function bt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%(n=12)+n)%n;return t+=(e-n)/12,1==n?G(t)?29:28:31-n%7%2}_t=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),L("MMMM",0,0,function(t){return this.localeData().months(this,t)}),B("month","M"),W("month",8),dt("M",et),dt("MM",et,X),dt("MMM",function(t,e){return e.monthsShortRegex(t)}),dt("MMMM",function(t,e){return e.monthsRegex(t)}),vt(["M","MM"],function(t,e){e[1]=z(t)-1}),vt(["MMM","MMMM"],function(t,e,n,i){null!=(i=n._locale.monthsParse(t,i,n._strict))?e[1]=i:p(n).invalidMonth=t});var Et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),St=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct=ht,Tt=ht;function wt(t,e){var n;if(t.isValid()){if("string"==typeof e)if(/^\d+$/.test(e))e=z(e);else if(!c(e=t.localeData().monthsParse(e)))return;n=Math.min(t.date(),bt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n)}}function Dt(t){return null!=t?(wt(this,t),n.updateOffset(this,!0),this):H(this,"Month")}function Pt(){function t(t,e){return e.length-t.length}for(var e,n=[],i=[],r=[],s=0;s<12;s++)e=d([2e3,s]),n.push(this.monthsShort(e,"")),i.push(this.months(e,"")),r.push(this.months(e,"")),r.push(this.monthsShort(e,""));for(n.sort(t),i.sort(t),r.sort(t),s=0;s<12;s++)n[s]=ft(n[s]),i[s]=ft(i[s]);for(s=0;s<24;s++)r[s]=ft(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function At(t){return G(t)?366:365}L("Y",0,0,function(){var t=this.year();return t<=9999?I(t,4):"+"+t}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),B("year","y"),W("year",1),dt("Y",ct),dt("YY",et,X),dt("YYYY",st,J),dt("YYYYY",ot,tt),dt("YYYYYY",ot,tt),vt(["YYYYY","YYYYYY"],0),vt("YYYY",function(t,e){e[0]=2===t.length?n.parseTwoDigitYear(t):z(t)}),vt("YY",function(t,e){e[0]=n.parseTwoDigitYear(t)}),vt("Y",function(t,e){e[0]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return z(t)+(68<z(t)?1900:2e3)};var It=$("FullYear",!0);function Mt(t,e,n,i,r,s,o){var a;return t<100&&0<=t?(a=new Date(t+400,e,n,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,i,r,s,o),a}function xt(t){var e;return t<100&&0<=t?((e=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,e)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Rt(t,e,n){return(n=7+e-n)-(7+xt(t,0,n).getUTCDay()-e)%7-1}function kt(t,e,n,i,r){var s;return n=(e=1+7*(e-1)+(7+n-i)%7+Rt(t,i,r))<=0?At(s=t-1)+e:e>At(t)?(s=t+1,e-At(t)):(s=t,e),{year:s,dayOfYear:n}}function Lt(t,e,n){var i,r,s=Rt(t.year(),e,n);return(s=Math.floor((t.dayOfYear()-s-1)/7)+1)<1?i=s+jt(r=t.year()-1,e,n):s>jt(t.year(),e,n)?(i=s-jt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function jt(t,e,n){var i=Rt(t,e,n);return e=Rt(t+1,e,n),(At(t)-i+e)/7}function Nt(t,e){return t.slice(e,7).concat(t.slice(0,e))}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),W("week",5),W("isoWeek",5),dt("w",et),dt("ww",et,X),dt("W",et),dt("WW",et,X),yt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=z(t)}),L("d",0,"do","day"),L("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),L("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),L("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),W("day",11),W("weekday",11),W("isoWeekday",11),dt("d",et),dt("e",et),dt("E",et),dt("dd",function(t,e){return e.weekdaysMinRegex(t)}),dt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),dt("dddd",function(t,e){return e.weekdaysRegex(t)}),yt(["dd","ddd","dddd"],function(t,e,n,i){null!=(i=n._locale.weekdaysParse(t,i,n._strict))?e.d=i:p(n).invalidWeekday=t}),yt(["d","e","E"],function(t,e,n,i){e[i]=z(t)});var Ut="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ft="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qt=ht,Vt=ht,Wt=ht;function Gt(){function t(t,e){return e.length-t.length}for(var e,n,i,r=[],s=[],o=[],a=[],c=0;c<7;c++)i=d([2e3,1]).day(c),e=ft(this.weekdaysMin(i,"")),n=ft(this.weekdaysShort(i,"")),i=ft(this.weekdays(i,"")),r.push(e),s.push(n),o.push(i),a.push(e),a.push(n),a.push(i);r.sort(t),s.sort(t),o.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Kt(){return this.hours()%12||12}function zt(t,e){L(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function $t(t,e){return e._meridiemParse}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Kt),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+Kt.apply(this)+I(this.minutes(),2)}),L("hmmss",0,0,function(){return""+Kt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),zt("a",!0),zt("A",!1),B("hour","h"),W("hour",13),dt("a",$t),dt("A",$t),dt("H",et),dt("h",et),dt("k",et),dt("HH",et,X),dt("hh",et,X),dt("kk",et,X),dt("hmm",nt),dt("hmmss",it),dt("Hmm",nt),dt("Hmmss",it),vt(["H","HH"],3),vt(["k","kk"],function(t,e,n){t=z(t),e[3]=24===t?0:t}),vt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),vt(["h","hh"],function(t,e,n){e[3]=z(t),p(n).bigHour=!0}),vt("hmm",function(t,e,n){var i=t.length-2;e[3]=z(t.substr(0,i)),e[4]=z(t.substr(i)),p(n).bigHour=!0}),vt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[3]=z(t.substr(0,i)),e[4]=z(t.substr(i,2)),e[5]=z(t.substr(r)),p(n).bigHour=!0}),vt("Hmm",function(t,e,n){var i=t.length-2;e[3]=z(t.substr(0,i)),e[4]=z(t.substr(i))}),vt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[3]=z(t.substr(0,i)),e[4]=z(t.substr(i,2)),e[5]=z(t.substr(r))}),ht=$("Hours",!0);var Ht,Qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Et,monthsShort:Ot,week:{dow:0,doy:6},weekdays:Ut,weekdaysMin:Ft,weekdaysShort:Bt,meridiemParse:/[ap]\.?m?\.?/i},Yt={},Xt={};function Zt(t){return t&&t.toLowerCase().replace("_","-")}function Jt(e){var n;if(void 0===Yt[e]&&void 0!==t&&t&&t.exports&&null!=e.match("^[^/\\\\]*$"))try{n=Ht._abbr,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),te(n)}catch(n){Yt[e]=null}return Yt[e]}function te(t,e){return t&&((e=a(e)?ne(t):ee(t,e))?Ht=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ht._abbr}function ee(t,e){if(null===e)return delete Yt[t],null;var n,i=Qt;if(e.abbr=t,null!=Yt[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Yt[t]._config;else if(null!=e.parentLocale)if(null!=Yt[e.parentLocale])i=Yt[e.parentLocale]._config;else{if(null==(n=Jt(e.parentLocale)))return Xt[e.parentLocale]||(Xt[e.parentLocale]=[]),Xt[e.parentLocale].push({name:t,config:e}),null;i=n._config}return Yt[t]=new P(D(i,e)),Xt[t]&&Xt[t].forEach(function(t){ee(t.name,t.config)}),te(t),Yt[t]}function ne(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return Ht;if(!i(t)){if(e=Jt(t))return e;t=[t]}return function(t){for(var e,n,i,r,s=0;s<t.length;){for(e=(r=Zt(t[s]).split("-")).length,n=(n=Zt(t[s+1]))?n.split("-"):null;0<e;){if(i=Jt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}(r,n)>=e-1)break;e--}s++}return Ht}(t)}function ie(t){var e=t._a;return e&&-2===p(t).overflow&&(e=e[1]<0||11<e[1]?1:e[2]<1||e[2]>bt(e[0],e[1])?2:e[3]<0||24<e[3]||24===e[3]&&(0!==e[4]||0!==e[5]||0!==e[6])?3:e[4]<0||59<e[4]?4:e[5]<0||59<e[5]?5:e[6]<0||999<e[6]?6:-1,p(t)._overflowDayOfYear&&(e<0||2<e)&&(e=2),p(t)._overflowWeeks&&-1===e&&(e=7),p(t)._overflowWeekday&&-1===e&&(e=8),p(t).overflow=e),t}var re=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,se=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oe=/Z|[+-]\d\d(?::?\d\d)?/,ae=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ce=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ue=/^\/?Date\((-?\d+)/i,le=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,he={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function de(t){var e,n,i,r,s,o,a=re.exec(c=t._i)||se.exec(c),c=ae.length,u=ce.length;if(a){for(p(t).iso=!0,e=0,n=c;e<n;e++)if(ae[e][1].exec(a[1])){r=ae[e][0],i=!1!==ae[e][2];break}if(null==r)t._isValid=!1;else{if(a[3]){for(e=0,n=u;e<n;e++)if(ce[e][1].exec(a[3])){s=(a[2]||" ")+ce[e][0];break}if(null==s)return void(t._isValid=!1)}if(i||null==s){if(a[4]){if(!oe.exec(a[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),ge(t)}else t._isValid=!1}}else t._isValid=!1}function pe(t){var e,n,i,r,s=le.exec(t._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));s?(i=e=function(t,e,n,i,r,s){return t=[function(t){return(t=parseInt(t,10))<=49?2e3+t:t<=999?1900+t:t}(t),Ot.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)],s&&t.push(parseInt(s,10)),t}(s[4],s[3],s[2],s[5],s[6],s[7]),r=t,(n=s[1])&&Bt.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()?(p(r).weekdayMismatch=!0,r._isValid=!1):(t._a=e,t._tzm=(i=s[9],r=s[10],(n=s[8])?he[n]:i?0:((n=parseInt(r,10))-(i=n%100))/100*60+i),t._d=xt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0)):t._isValid=!1}function fe(t,e,n){return null!=t?t:null!=e?e:n}function _e(t){var e,i,r,s,o,a,c,u,l,h,d,f=[];if(!t._d){for(r=t,s=new Date(n.now()),i=r._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],t._w&&null==t._a[2]&&null==t._a[1]&&(null!=(s=(r=t)._w).GG||null!=s.W||null!=s.E?(u=1,l=4,o=fe(s.GG,r._a[0],Lt(ye(),1,4).year),a=fe(s.W,1),((c=fe(s.E,1))<1||7<c)&&(h=!0)):(u=r._locale._week.dow,l=r._locale._week.doy,d=Lt(ye(),u,l),o=fe(s.gg,r._a[0],d.year),a=fe(s.w,d.week),null!=s.d?((c=s.d)<0||6<c)&&(h=!0):null!=s.e?(c=s.e+u,(s.e<0||6<s.e)&&(h=!0)):c=u),a<1||a>jt(o,u,l)?p(r)._overflowWeeks=!0:null!=h?p(r)._overflowWeekday=!0:(d=kt(o,a,c,u,l),r._a[0]=d.year,r._dayOfYear=d.dayOfYear)),null!=t._dayOfYear&&(s=fe(t._a[0],i[0]),(t._dayOfYear>At(s)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),h=xt(s,0,t._dayOfYear),t._a[1]=h.getUTCMonth(),t._a[2]=h.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=f[e]=i[e];for(;e<7;e++)t._a[e]=f[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?xt:Mt).apply(null,f),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(p(t).weekdayMismatch=!0)}}function ge(t){if(t._f===n.ISO_8601)de(t);else if(t._f===n.RFC_2822)pe(t);else{t._a=[],p(t).empty=!0;for(var e,i,r,o,a,c=""+t._i,u=c.length,l=0,h=N(t._f,t._locale).match(M)||[],d=h.length,f=0;f<d;f++)(e=(c.match(pt(i=h[f],t))||[])[0])&&(0<(r=c.substr(0,c.indexOf(e))).length&&p(t).unusedInput.push(r),c=c.slice(c.indexOf(e)+e.length),l+=e.length),k[i]?(e?p(t).empty=!1:p(t).unusedTokens.push(i),r=i,a=t,null!=(o=e)&&s(mt,r)&&mt[r](o,a._a,a,r)):t._strict&&!e&&p(t).unusedTokens.push(i);p(t).charsLeftOver=u-l,0<c.length&&p(t).unusedInput.push(c),t._a[3]<=12&&!0===p(t).bigHour&&0<t._a[3]&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((t=t.isPM(n))&&e<12&&(e+=12),e=t||12!==e?e:0):e}(t._locale,t._a[3],t._meridiem),null!==(u=p(t).era)&&(t._a[0]=t._locale.erasConvertYear(u,t._a[0])),_e(t),ie(t)}}function me(t){var e,s,o,d=t._i,g=t._f;return t._locale=t._locale||ne(t._l),null===d||void 0===g&&""===d?_({nullInput:!0}):("string"==typeof d&&(t._i=d=t._locale.preparse(d)),E(d)?new b(ie(d)):(u(d)?t._d=d:i(g)?function(t){var e,n,i,r,s,o,a=!1,c=t._f.length;if(0===c)return p(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<c;r++)s=0,o=!1,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ge(e),f(e)&&(o=!0),s=(s+=p(e).charsLeftOver)+10*p(e).unusedTokens.length,p(e).score=s,a?s<i&&(i=s,n=e):(null==i||s<i||o)&&(i=s,n=e,o&&(a=!0));h(t,n||e)}(t):g?ge(t):a(g=(d=t)._i)?d._d=new Date(n.now()):u(g)?d._d=new Date(g.valueOf()):"string"==typeof g?null!==(e=ue.exec((s=d)._i))?s._d=new Date(+e[1]):(de(s),!1===s._isValid&&(delete s._isValid,pe(s),!1===s._isValid&&(delete s._isValid,s._strict?s._isValid=!1:n.createFromInputFallback(s)))):i(g)?(d._a=l(g.slice(0),function(t){return parseInt(t,10)}),_e(d)):r(g)?(e=d)._d||(o=void 0===(s=q(e._i)).day?s.date:s.day,e._a=l([s.year,s.month,o,s.hour,s.minute,s.second,s.millisecond],function(t){return t&&parseInt(t,10)}),_e(e)):c(g)?d._d=new Date(g):n.createFromInputFallback(d),f(t)||(t._d=null),t))}function ve(t,e,n,s,a){var c={};return!0!==e&&!1!==e||(s=e,e=void 0),!0!==n&&!1!==n||(s=n,n=void 0),(r(t)&&o(t)||i(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=n,c._i=t,c._f=e,c._strict=s,(a=new b(ie(me(a=c))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function ye(t,e,n,i){return ve(t,e,n,i,!1)}function be(t,e){var n,r;if(!(e=1===e.length&&i(e[0])?e[0]:e).length)return ye();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){},nt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),it=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:_()});var Ee=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oe(t){var e=(t=q(t)).year||0,n=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,l=t.millisecond||0;this._isValid=function(t){var e,n,i=!1,r=Ee.length;for(e in t)if(s(t,e)&&(-1===_t.call(Ee,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<r;++n)if(t[Ee[n]]){if(i)return!1;parseFloat(t[Ee[n]])!==z(t[Ee[n]])&&(i=!0)}return!0}(t),this._milliseconds=+l+1e3*u+6e4*c+1e3*a*60*60,this._days=+o+7*r,this._months=+i+3*n+12*e,this._data={},this._locale=ne(),this._bubble()}function Se(t){return t instanceof Oe}function Ce(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Te(t,e){L(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+I(~~(t/60),2)+e+I(~~t%60,2)})}Te("Z",":"),Te("ZZ",""),dt("Z",lt),dt("ZZ",lt),vt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=De(lt,t)});var we=/([\+\-]|\d\d)/gi;function De(t,e){return null===(e=(e||"").match(t))?null:0===(e=60*(t=((e[e.length-1]||[])+"").match(we)||["-",0,0])[1]+z(t[2]))?0:"+"===t[0]?e:-e}function Pe(t,e){var i;return e._isUTC?(e=e.clone(),i=(E(t)||u(t)?t:ye(t)).valueOf()-e.valueOf(),e._d.setTime(e._d.valueOf()+i),n.updateOffset(e,!1),e):ye(t).local()}function Ae(t){return-Math.round(t._d.getTimezoneOffset())}function Ie(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Me=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Re(t,e){var n,i=t,r=null;return Se(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(r=Me.exec(t))?(n="-"===r[1]?-1:1,i={y:0,d:z(r[2])*n,h:z(r[3])*n,m:z(r[4])*n,s:z(r[5])*n,ms:z(Ce(1e3*r[6]))*n}):(r=xe.exec(t))?i={y:ke(r[2],n="-"===r[1]?-1:1),M:ke(r[3],n),w:ke(r[4],n),d:ke(r[5],n),h:ke(r[6],n),m:ke(r[7],n),s:ke(r[8],n)}:null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(e=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Pe(e,t),t.isBefore(e)?n=Le(t,e):((n=Le(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(ye(i.from),ye(i.to)),(i={}).ms=e.milliseconds,i.M=e.months),r=new Oe(i),Se(t)&&s(t,"_locale")&&(r._locale=t._locale),Se(t)&&s(t,"_isValid")&&(r._isValid=t._isValid),r}function ke(t,e){return t=t&&parseFloat(t.replace(",",".")),(isNaN(t)?0:t)*e}function Le(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function je(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(T(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Ne(this,Re(n,i),t),this}}function Ne(t,e,i,r){var s=e._milliseconds,o=Ce(e._days);e=Ce(e._months),t.isValid()&&(r=null==r||r,e&&wt(t,H(t,"Month")+e*i),o&&Q(t,"Date",H(t,"Date")+o*i),s&&t._d.setTime(t._d.valueOf()+s*i),r&&n.updateOffset(t,o||e))}function Ue(t){return"string"==typeof t||t instanceof String}function Be(t){return E(t)||u(t)||Ue(t)||c(t)||function(t){var e=i(t),n=!1;return e&&(n=0===t.filter(function(e){return!c(e)&&Ue(t)}).length),e&&n}(t)||function(t){var e,n=r(t)&&!o(t),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(e=0;e<c;e+=1)i=i||s(t,a[e]);return n&&i}(t)||null==t}function Fe(t,e){if(t.date()<e.date())return-Fe(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e=e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(1+n,"months")-i)))||0}function qe(t){return void 0===t?this._locale._abbr:(null!=(t=ne(t))&&(this._locale=t),this)}function Ve(){return this._locale}Re.fn=Oe.prototype,Re.invalid=function(){return Re(NaN)},Et=je(1,"add"),Ut=je(-1,"subtract"),n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Ft=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});var We,Ge=126227808e5;function Ke(t,e){return(t%e+e)%e}function ze(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-Ge:new Date(t,e,n).valueOf()}function $e(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-Ge:Date.UTC(t,e,n)}function He(t,e){return e.erasAbbrRegex(t)}function Qe(){for(var t=[],e=[],n=[],i=[],r=this.eras(),s=0,o=r.length;s<o;++s)e.push(ft(r[s].name)),t.push(ft(r[s].abbr)),n.push(ft(r[s].narrow)),i.push(ft(r[s].name)),i.push(ft(r[s].abbr)),i.push(ft(r[s].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function Ye(t,e){L(0,[t,t.length],0,e)}function Xe(t,e,n,i,r){var s;return null==t?Lt(this,i,r).year:(s=jt(t,i,r),(function(t,e,n,i,r){return e=xt((t=kt(t,e,n,i,r)).year,0,t.dayOfYear),this.year(e.getUTCFullYear()),this.month(e.getUTCMonth()),this.date(e.getUTCDate()),this}).call(this,t,e=s<e?s:e,n,i,r))}for(L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),dt("N",He),dt("NN",He),dt("NNN",He),dt("NNNN",function(t,e){return e.erasNameRegex(t)}),dt("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),vt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){(i=n._locale.erasParse(t,i,n._strict))?p(n).era=i:p(n).invalidEra=t}),dt("y",at),dt("yy",at),dt("yyy",at),dt("yyyy",at),dt("yo",function(t,e){return e._eraYearOrdinalRegex||at}),vt(["y","yy","yyy","yyyy"],0),vt(["yo"],function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),e[0]=n._locale.eraYearOrdinalParse?n._locale.eraYearOrdinalParse(t,r):parseInt(t,10)}),L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ye("gggg","weekYear"),Ye("ggggg","weekYear"),Ye("GGGG","isoWeekYear"),Ye("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),W("weekYear",1),W("isoWeekYear",1),dt("G",ct),dt("g",ct),dt("GG",et,X),dt("gg",et,X),dt("GGGG",st,J),dt("gggg",st,J),dt("GGGGG",ot,tt),dt("ggggg",ot,tt),yt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=z(t)}),yt(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),L("Q",0,"Qo","quarter"),B("quarter","Q"),W("quarter",7),dt("Q",Y),vt("Q",function(t,e){e[1]=3*(z(t)-1)}),L("D",["DD",2],"Do","date"),B("date","D"),W("date",9),dt("D",et),dt("DD",et,X),dt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),vt(["D","DD"],2),vt("Do",function(t,e){e[2]=z(t.match(et)[0])}),st=$("Date",!0),L("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),W("dayOfYear",4),dt("DDD",rt),dt("DDDD",Z),vt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=z(t)}),L("m",["mm",2],0,"minute"),B("minute","m"),W("minute",14),dt("m",et),dt("mm",et,X),vt(["m","mm"],4),J=$("Minutes",!1),L("s",["ss",2],0,"second"),B("second","s"),W("second",15),dt("s",et),dt("ss",et,X),vt(["s","ss"],5),ot=$("Seconds",!1),L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),B("millisecond","ms"),W("millisecond",16),dt("S",rt,Y),dt("SS",rt,X),dt("SSS",rt,Z),We="SSSS";We.length<=9;We+="S")dt(We,at);function Ze(t,e){e[6]=z(1e3*("0."+t))}for(We="S";We.length<=9;We+="S")vt(We,Ze);function Je(t){return t}function tn(t,e,n,i){var r=ne();return i=d().set(i,e),r[n](i,t)}function en(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return tn(t,e,n,"month");for(var i=[],r=0;r<12;r++)i[r]=tn(t,r,n,"month");return i}function nn(t,e,n,i){"boolean"==typeof t?c(e)&&(n=e,e=void 0):(e=t,t=!1,c(n=e)&&(n=e,e=void 0)),e=e||"";var r,s=ne(),o=t?s._week.dow:0,a=[];if(null!=n)return tn(e,(n+o)%7,i,"day");for(r=0;r<7;r++)a[r]=tn(e,(r+o)%7,i,"day");return a}tt=$("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName"),(Y=b.prototype).add=Et,Y.calendar=function(t,e){1===arguments.length&&(arguments[0]?Be(arguments[0])?(t=arguments[0],e=void 0):function(t){for(var e=r(t)&&!o(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a=0;a<i.length;a+=1)n=n||s(t,i[a]);return e&&n}(arguments[0])&&(e=arguments[0],t=void 0):e=t=void 0);var i=Pe(t=t||ye(),this).startOf("day");return i=n.calendarFormat(this,i)||"sameElse",e=e&&(w(e[i])?e[i].call(this,t):e[i]),this.format(e||this.localeData().calendar(i,this,ye(t)))},Y.clone=function(){return new b(this)},Y.diff=function(t,e,n){var i,r,s;if(!this.isValid())return NaN;if(!(i=Pe(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=F(e)){case"year":s=Fe(this,i)/12;break;case"month":s=Fe(this,i);break;case"quarter":s=Fe(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:K(s)},Y.endOf=function(t){var e,i;if(void 0===(t=F(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?$e:ze,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ke(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ke(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ke(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},Y.format=function(t){return t=j(this,t=t||(this.isUtc()?n.defaultFormatUtc:n.defaultFormat)),this.localeData().postformat(t)},Y.from=function(t,e){return this.isValid()&&(E(t)&&t.isValid()||ye(t).isValid())?Re({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Y.fromNow=function(t){return this.from(ye(),t)},Y.to=function(t,e){return this.isValid()&&(E(t)&&t.isValid()||ye(t).isValid())?Re({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Y.toNow=function(t){return this.to(ye(),t)},Y.get=function(t){return w(this[t=F(t)])?this[t]():this},Y.invalidAt=function(){return p(this).overflow},Y.isAfter=function(t,e){return t=E(t)?t:ye(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},Y.isBefore=function(t,e){return t=E(t)?t:ye(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},Y.isBetween=function(t,e,n,i){return t=E(t)?t:ye(t),e=E(e)?e:ye(e),!!(this.isValid()&&t.isValid()&&e.isValid())&&("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},Y.isSame=function(t,e){return t=E(t)?t:ye(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},Y.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Y.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Y.isValid=function(){return f(this)},Y.lang=Ft,Y.locale=qe,Y.localeData=Ve,Y.max=it,Y.min=nt,Y.parsingFlags=function(){return h({},p(this))},Y.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e,n=[];for(e in t)s(t,e)&&n.push({unit:e,priority:V[e]});return n.sort(function(t,e){return t.priority-e.priority}),n}(t=q(t)),i=n.length,r=0;r<i;r++)this[n[r].unit](t[n[r].unit]);else if(w(this[t=F(t)]))return this[t](e);return this},Y.startOf=function(t){var e,i;if(void 0===(t=F(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?$e:ze,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ke(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ke(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ke(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},Y.subtract=Ut,Y.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Y.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Y.toDate=function(){return new Date(this.valueOf())},Y.toISOString=function(t){if(!this.isValid())return null;var e=(t=!0!==t)?this.clone().utc():this;return e.year()<0||9999<e.year()?j(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(e,"Z")):j(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Y.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e="moment",n="";return this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+e+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Y[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Y.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Y.eraName=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].name;if(e[n].until<=t&&t<=e[n].since)return e[n].name}return""},Y.eraNarrow=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].narrow;if(e[n].until<=t&&t<=e[n].since)return e[n].narrow}return""},Y.eraAbbr=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].abbr;if(e[n].until<=t&&t<=e[n].since)return e[n].abbr}return""},Y.eraYear=function(){for(var t,e,i=this.localeData().eras(),r=0,s=i.length;r<s;++r)if(t=i[r].since<=i[r].until?1:-1,e=this.clone().startOf("day").valueOf(),i[r].since<=e&&e<=i[r].until||i[r].until<=e&&e<=i[r].since)return(this.year()-n(i[r].since).year())*t+i[r].offset;return this.year()},Y.year=It,Y.isLeapYear=function(){return G(this.year())},Y.weekYear=function(t){return Xe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Y.isoWeekYear=function(t){return Xe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Y.quarter=Y.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Y.month=Dt,Y.daysInMonth=function(){return bt(this.year(),this.month())},Y.week=Y.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Y.isoWeek=Y.isoWeeks=function(t){var e=Lt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Y.weeksInYear=function(){var t=this.localeData()._week;return jt(this.year(),t.dow,t.doy)},Y.weeksInWeekYear=function(){var t=this.localeData()._week;return jt(this.weekYear(),t.dow,t.doy)},Y.isoWeeksInYear=function(){return jt(this.year(),1,4)},Y.isoWeeksInISOWeekYear=function(){return jt(this.isoWeekYear(),1,4)},Y.date=st,Y.day=Y.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},Y.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Y.isoWeekday=function(t){return this.isValid()?null!=t?(e=t,n=this.localeData(),n="string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e,this.day(this.day()%7?n:n-7)):this.day()||7:null!=t?this:NaN;var e,n},Y.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Y.hour=Y.hours=ht,Y.minute=Y.minutes=J,Y.second=Y.seconds=ot,Y.millisecond=Y.milliseconds=tt,Y.utcOffset=function(t,e,i){var r,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?s:Ae(this);if("string"==typeof t){if(null===(t=De(lt,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(r=Ae(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!e||this._changeInProgress?Ne(this,Re(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},Y.utc=function(t){return this.utcOffset(0,t)},Y.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ae(this),"m")),this},Y.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=De(ut,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},Y.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ye(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Y.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Y.isLocal=function(){return!!this.isValid()&&!this._isUTC},Y.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Y.isUtc=Ie,Y.isUTC=Ie,Y.zoneAbbr=function(){return this._isUTC?"UTC":""},Y.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Y.dates=S("dates accessor is deprecated. Use date instead.",st),Y.months=S("months accessor is deprecated. Use month instead",Dt),Y.years=S("years accessor is deprecated. Use year instead",It),Y.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),Y.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t,e={};return y(e,this),(e=me(e))._a?(t=(e._isUTC?d:ye)(e._a),this._isDSTShifted=this.isValid()&&0<function(t,e,n){for(var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0,o=0;o<i;o++)z(t[o])!==z(e[o])&&s++;return s+r}(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),(X=P.prototype).calendar=function(t,e,n){return w(t=this._calendar[t]||this._calendar.sameElse)?t.call(e,n):t},X.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(M).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},X.invalidDate=function(){return this._invalidDate},X.ordinal=function(t){return this._ordinal.replace("%d",t)},X.preparse=Je,X.postformat=Je,X.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return w(r)?r(t,e,n,i):r.replace(/%d/i,t)},X.pastFuture=function(t,e){return w(t=this._relativeTime[0<t?"future":"past"])?t(e):t.replace(/%s/i,e)},X.set=function(t){var e,n;for(n in t)s(t,n)&&(w(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},X.eras=function(t,e){for(var i,r=this._eras||ne("en")._eras,s=0,o=r.length;s<o;++s){switch(typeof r[s].since){case"string":i=n(r[s].since).startOf("day"),r[s].since=i.valueOf()}switch(typeof r[s].until){case"undefined":r[s].until=1/0;break;case"string":i=n(r[s].until).startOf("day").valueOf(),r[s].until=i.valueOf()}}return r},X.erasParse=function(t,e,n){var i,r,s,o,a,c=this.eras();for(t=t.toUpperCase(),i=0,r=c.length;i<r;++i)if(s=c[i].name.toUpperCase(),o=c[i].abbr.toUpperCase(),a=c[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return c[i];break;case"NNNN":if(s===t)return c[i];break;case"NNNNN":if(a===t)return c[i]}else if(0<=[s,o,a].indexOf(t))return c[i]},X.erasConvertYear=function(t,e){var i=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*i},X.erasAbbrRegex=function(t){return s(this,"_erasAbbrRegex")||Qe.call(this),t?this._erasAbbrRegex:this._erasRegex},X.erasNameRegex=function(t){return s(this,"_erasNameRegex")||Qe.call(this),t?this._erasNameRegex:this._erasRegex},X.erasNarrowRegex=function(t){return s(this,"_erasNarrowRegex")||Qe.call(this),t?this._erasNarrowRegex:this._erasRegex},X.months=function(t,e){return t?(i(this._months)?this._months:this._months[(this._months.isFormat||St).test(e)?"format":"standalone"])[t.month()]:i(this._months)?this._months:this._months.standalone},X.monthsShort=function(t,e){return t?(i(this._monthsShort)?this._monthsShort:this._monthsShort[St.test(e)?"format":"standalone"])[t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},X.monthsParse=function(t,e,n){var i,r;if(this._monthsParseExact)return(function(t,e,n){var i,r,s;if(t=t.toLocaleLowerCase(),!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=_t.call(this._shortMonthsParse,t))?r:null:-1!==(r=_t.call(this._longMonthsParse,t))?r:null:"MMM"===e?-1!==(r=_t.call(this._shortMonthsParse,t))||-1!==(r=_t.call(this._longMonthsParse,t))?r:null:-1!==(r=_t.call(this._longMonthsParse,t))||-1!==(r=_t.call(this._shortMonthsParse,t))?r:null}).call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},X.monthsRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Tt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},X.monthsShortRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Ct),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},X.week=function(t){return Lt(t,this._week.dow,this._week.doy).week},X.firstDayOfYear=function(){return this._week.doy},X.firstDayOfWeek=function(){return this._week.dow},X.weekdays=function(t,e){return e=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"],!0===t?Nt(e,this._week.dow):t?e[t.day()]:e},X.weekdaysMin=function(t){return!0===t?Nt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},X.weekdaysShort=function(t){return!0===t?Nt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},X.weekdaysParse=function(t,e,n){var i,r;if(this._weekdaysParseExact)return(function(t,e,n){var i,r,s;if(t=t.toLocaleLowerCase(),!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=_t.call(this._weekdaysParse,t))?r:null:"ddd"===e?-1!==(r=_t.call(this._shortWeekdaysParse,t))?r:null:-1!==(r=_t.call(this._minWeekdaysParse,t))?r:null:"dddd"===e?-1!==(r=_t.call(this._weekdaysParse,t))||-1!==(r=_t.call(this._shortWeekdaysParse,t))||-1!==(r=_t.call(this._minWeekdaysParse,t))?r:null:"ddd"===e?-1!==(r=_t.call(this._shortWeekdaysParse,t))||-1!==(r=_t.call(this._weekdaysParse,t))||-1!==(r=_t.call(this._minWeekdaysParse,t))?r:null:-1!==(r=_t.call(this._minWeekdaysParse,t))||-1!==(r=_t.call(this._weekdaysParse,t))||-1!==(r=_t.call(this._shortWeekdaysParse,t))?r:null}).call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},X.weekdaysRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},X.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},X.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Wt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},X.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},X.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},te("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===z(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",te),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ne);var rn=Math.abs;function sn(t,e,n,i){return e=Re(e,n),t._milliseconds+=i*e._milliseconds,t._days+=i*e._days,t._months+=i*e._months,t._bubble()}function on(t){return t<0?Math.floor(t):Math.ceil(t)}function an(t){return 4800*t/146097}function cn(t){return 146097*t/4800}function un(t){return function(){return this.as(t)}}function ln(t){return function(){return this.isValid()?this._data[t]:NaN}}rt=un("ms"),Z=un("s"),Et=un("m"),it=un("h"),nt=un("d"),Ut=un("w"),ht=un("M"),J=un("Q"),ot=un("y"),tt=ln("milliseconds"),st=ln("seconds"),It=ln("minutes"),X=ln("hours");var hn=ln("days"),dn=ln("months"),pn=ln("years"),fn=Math.round,_n={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},gn=Math.abs;function mn(t){return(0<t)-(t<0)||+t}function vn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,r,s,o,a=gn(this._milliseconds)/1e3,c=gn(this._days),u=gn(this._months),l=this.asSeconds();return l?(t=K(a/60),e=K(t/60),a%=60,t%=60,n=K(u/12),u%=12,i=a?a.toFixed(3).replace(/\.?0+$/,""):"",r=mn(this._months)!==mn(l)?"-":"",s=mn(this._days)!==mn(l)?"-":"",o=mn(this._milliseconds)!==mn(l)?"-":"",(l<0?"-":"")+"P"+(n?r+n+"Y":"")+(u?r+u+"M":"")+(c?s+c+"D":"")+(e||t||a?"T":"")+(e?o+e+"H":"")+(t?o+t+"M":"")+(a?o+i+"S":"")):"P0D"}var yn=Oe.prototype;return yn.isValid=function(){return this._isValid},yn.abs=function(){var t=this._data;return this._milliseconds=rn(this._milliseconds),this._days=rn(this._days),this._months=rn(this._months),t.milliseconds=rn(t.milliseconds),t.seconds=rn(t.seconds),t.minutes=rn(t.minutes),t.hours=rn(t.hours),t.months=rn(t.months),t.years=rn(t.years),this},yn.add=function(t,e){return sn(this,t,e,1)},yn.subtract=function(t,e){return sn(this,t,e,-1)},yn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=F(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+an(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(cn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},yn.asMilliseconds=rt,yn.asSeconds=Z,yn.asMinutes=Et,yn.asHours=it,yn.asDays=nt,yn.asWeeks=Ut,yn.asMonths=ht,yn.asQuarters=J,yn.asYears=ot,yn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN},yn._bubble=function(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data;return 0<=t&&0<=e&&0<=n||t<=0&&e<=0&&n<=0||(t+=864e5*on(cn(n)+e),n=e=0),i.milliseconds=t%1e3,t=K(t/1e3),i.seconds=t%60,t=K(t/60),i.minutes=t%60,t=K(t/60),i.hours=t%24,e+=K(t/24),n+=t=K(an(e)),e-=on(cn(t)),t=K(n/12),n%=12,i.days=e,i.months=n,i.years=t,this},yn.clone=function(){return Re(this)},yn.get=function(t){return t=F(t),this.isValid()?this[t+"s"]():NaN},yn.milliseconds=tt,yn.seconds=st,yn.minutes=It,yn.hours=X,yn.days=hn,yn.weeks=function(){return K(this.days()/7)},yn.months=dn,yn.years=pn,yn.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=_n;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(n=t),"object"==typeof e&&(i=Object.assign({},_n,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),e=function(t,e,n,i){var r=Re(t).abs(),s=fn(r.as("s")),o=fn(r.as("m")),a=fn(r.as("h")),c=fn(r.as("d")),u=fn(r.as("M")),l=fn(r.as("w"));return r=fn(r.as("y")),s=(s<=n.ss?["s",s]:s<n.s&&["ss",s])||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c],(s=(s=null!=n.w?s||l<=1&&["w"]||l<n.w&&["ww",l]:s)||u<=1&&["M"]||u<n.M&&["MM",u]||r<=1&&["y"]||["yy",r])[2]=e,s[3]=0<+t,s[4]=i,(function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}).apply(null,s)}(this,!n,i,t=this.localeData()),n&&(e=t.pastFuture(+this,e)),t.postformat(e)},yn.toISOString=vn,yn.toString=vn,yn.toJSON=vn,yn.locale=qe,yn.localeData=Ve,yn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vn),yn.lang=Ft,L("X",0,0,"unix"),L("x",0,0,"valueOf"),dt("x",ct),dt("X",/[+-]?\d+(\.\d{1,3})?/),vt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t))}),vt("x",function(t,e,n){n._d=new Date(z(t))}),n.version="2.29.4",e=ye,n.fn=Y,n.min=function(){return be("isBefore",[].slice.call(arguments,0))},n.max=function(){return be("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(t){return ye(1e3*t)},n.months=function(t,e){return en(t,e,"months")},n.isDate=u,n.locale=te,n.invalid=_,n.duration=Re,n.isMoment=E,n.weekdays=function(t,e,n){return nn(t,e,n,"weekdays")},n.parseZone=function(){return ye.apply(null,arguments).parseZone()},n.localeData=ne,n.isDuration=Se,n.monthsShort=function(t,e){return en(t,e,"monthsShort")},n.weekdaysMin=function(t,e,n){return nn(t,e,n,"weekdaysMin")},n.defineLocale=ee,n.updateLocale=function(t,e){var n,i;return null!=e?(i=Qt,null!=Yt[t]&&null!=Yt[t].parentLocale?Yt[t].set(D(Yt[t]._config,e)):(e=D(i=null!=(n=Jt(t))?n._config:i,e),null==n&&(e.abbr=t),(i=new P(e)).parentLocale=Yt[t],Yt[t]=i),te(t)):null!=Yt[t]&&(null!=Yt[t].parentLocale?(Yt[t]=Yt[t].parentLocale,t===te()&&te(t)):null!=Yt[t]&&delete Yt[t]),Yt[t]},n.locales=function(){return A(Yt)},n.weekdaysShort=function(t,e,n){return nn(t,e,n,"weekdaysShort")},n.normalizeUnits=F,n.relativeTimeRounding=function(t){return void 0===t?fn:"function"==typeof t&&(fn=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==_n[t]&&(void 0===e?_n[t]:(_n[t]=e,"s"===t&&(_n.ss=e-1),!0))},n.calendarFormat=function(t,e){return(t=t.diff(e,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},n.prototype=Y,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}).call(this,n("YuTi")(t))},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("EY2u"),r=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},"X8/r":function(t,e,n){"use strict";var i=n("zIRd"),r=n("/6Yf"),s=n("mrSG"),o=n("qOnz"),a=n("q/0M");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,l=c(i),h=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),d=new o.ErrorFactory("appCheck","AppCheck",h),p=new Map,f={activated:!1,tokenObservers:[]},_={enabled:!1};function g(t){return p.get(t)||f}function m(t,e){p.set(t,e)}function v(){return _}var y="https://content-firebaseappcheck.googleapis.com/v1beta",b=function(){function t(t,e,n,i,r){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=i,i>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return s.__awaiter(this,void 0,void 0,function(){var e;return s.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new o.Deferred,[4,(i=this.getNextRun(t),new Promise(function(t){setTimeout(t,i)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new o.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var i})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function E(){return self.grecaptcha}function O(t){if(!g(t).activated)throw d.create("use-before-activation",{appName:t.name})}function S(t,e){var n=t.url,i=t.body;return s.__awaiter(this,void 0,void 0,function(){var t,r,o,a,c,u,l,h,p,f;return s.__generator(this,function(s){switch(s.label){case 0:t={"Content-Type":"application/json"},(r=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=r.getPlatformInfoString()),o={method:"POST",body:JSON.stringify(i),headers:t},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(n,o)];case 2:return a=s.sent(),[3,4];case 3:throw c=s.sent(),d.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(200!==a.status)throw d.create("fetch-status-error",{httpStatus:a.status});s.label=5;case 5:return s.trys.push([5,7,,8]),[4,a.json()];case 6:return u=s.sent(),[3,8];case 7:throw l=s.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=u.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return p=1e3*Number(h[1]),f=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:f+p,issuedAtTimeMillis:f}]}})})}function C(t,e){var n=t.options;return{url:y+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function T(t,e){var n=t.options;return{url:y+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var w="firebase-app-check-store",D=null;function P(){return D||(D=new Promise(function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(d.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(w,{keyPath:"compositeKey"})}}}catch(i){e(d.create("storage-open",{originalErrorMessage:i.message}))}}))}function A(t){return M(x(t))}function I(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,i,r,o;return s.__generator(this,function(s){switch(s.label){case 0:return[4,P()];case 1:return n=s.sent(),i=n.transaction(w,"readwrite"),r=i.objectStore(w),o=r.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){o.onsuccess=function(e){t()},i.onerror=function(t){var n;e(d.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function M(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,i,r;return s.__generator(this,function(s){switch(s.label){case 0:return[4,P()];case 1:return e=s.sent(),n=e.transaction(w,"readonly"),i=n.objectStore(w),r=i.get(t),[2,new Promise(function(t,e){r.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(d.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function x(t){return t.options.appId+"-"+t.name}var R=new a.Logger("@firebase/app-check");function k(t,e){return o.isIndexedDBAvailable()?function(t,e){return I(x(t),e)}(t,e).catch(function(t){R.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function L(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){if((t=v()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var j={error:"UNKNOWN_ERROR"};function N(t,e,n){return void 0===n&&(n=!1),s.__awaiter(this,void 0,void 0,function(){var i,r,a,c,u,l,h,d,p,f;return s.__generator(this,function(_){switch(_.label){case 0:return O(t),i=g(t),a=void 0,(r=i.token)?[3,2]:[4,i.cachedTokenPromise];case 1:(c=_.sent())&&q(c)&&(r=c,m(t,s.__assign(s.__assign({},i),{token:r})),F(t,{token:r.token})),_.label=2;case 2:return!n&&r&&q(r)?[2,{token:r.token}]:v().enabled?(l=S,h=T,d=[t],[4,L()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([_.sent()])),e])];case 4:return u=_.sent(),[4,k(t,u)];case 5:return _.sent(),m(t,s.__assign(s.__assign({},i),{token:u})),[2,{token:u.token}];case 6:return _.trys.push([6,8,,9]),[4,i.provider.getToken()];case 7:return r=_.sent(),[3,9];case 8:return p=_.sent(),R.error(p),a=p,[3,9];case 9:return r?[3,10]:(f=function(t){return{token:(e=j,o.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(a),[3,12]);case 10:return f={token:r.token},m(t,s.__assign(s.__assign({},i),{token:r})),[4,k(t,r)];case 11:_.sent(),_.label=12;case 12:return F(t,f),[2,f]}})})}function U(t,e,n,i,r){var o=g(t),a={next:i,error:r,type:n},c=s.__assign(s.__assign({},o),{tokenObservers:s.__spreadArray(s.__spreadArray([],o.tokenObservers),[a])});if(!c.tokenRefresher){var u=function(t,e){var n=this;return new b(function(){return s.__awaiter(n,void 0,void 0,function(){var n;return s.__generator(this,function(i){switch(i.label){case 0:return g(t).token?[3,2]:[4,N(t,e)];case 1:return n=i.sent(),[3,4];case 2:return[4,N(t,e,!0)];case 3:n=i.sent(),i.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=g(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(t,e);c.tokenRefresher=u}if(!c.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),o.token&&q(o.token)){var l=o.token;Promise.resolve().then(function(){return i({token:l.token})}).catch(function(){})}else null==o.token&&o.cachedTokenPromise.then(function(t){t&&q(t)&&i({token:t.token})}).catch(function(){});m(t,c)}function B(t,e){var n=g(t),i=n.tokenObservers.filter(function(t){return t.next!==e});0===i.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(t,s.__assign(s.__assign({},n),{tokenObservers:i}))}function F(t,e){for(var n=0,i=g(t).tokenObservers;n<i.length;n++){var r=i[n];try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}}function q(t){return t.expireTimeMillis-Date.now()>0}function V(t){return s.__awaiter(this,void 0,void 0,function(){var e;return s.__generator(this,function(n){switch(n.label){case 0:return O(t),[4,g(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,i){var r=g(t).reCAPTCHAState;e.ready(function(){n(e.execute(r.widgetId,{action:"fire_app_check"}))})})]}})})}function W(t,e,n,i){var r=n.render(i,{sitekey:e,size:"invisible"}),o=g(t);m(t,s.__assign(s.__assign({},o),{reCAPTCHAState:s.__assign(s.__assign({},o.reCAPTCHAState),{widgetId:r})}))}var G=function(){function t(t){this._siteKey=t}return t.prototype.getToken=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw d.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,V(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),d.create("recaptcha-error");case 4:return[2,S(C(this._app,t),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,function(t,e){var n=g(t),i=new o.Deferred;m(t,s.__assign(s.__assign({},n),{reCAPTCHAState:{initialized:i}}));var r="fire_app_check_"+t.name,a=document.createElement("div");a.id=r,a.style.display="none",document.body.appendChild(a);var c,u,l=E();return l?l.ready(function(){W(t,e,l,r),i.resolve(l)}):(c=function(){var n=E();if(!n)throw new Error("no recaptcha");n.ready(function(){W(t,e,n,r),i.resolve(n)})},(u=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",u.onload=c,document.head.appendChild(u)),i.promise}(t,this._siteKey).catch(function(){})},t}(),K=function(){function t(t){this._customProviderOptions=t}return t.prototype.getToken=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e,n;return s.__generator(this,function(i){switch(i.label){case 0:if(!this._app)throw d.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),e=o.issuedAtTime(t.token),n=null!==e&&e<Date.now()&&e>0?1e3*e:Date.now(),[2,s.__assign(s.__assign({},t),{issuedAtTimeMillis:n})]}})})},t.prototype.initialize=function(t){this._app=t},t}();!function(t){t.INTERNAL.registerComponent(new r.Component("appCheck",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{app:e,activate:function(t,i){return function(t,e,n,i){var r=g(t);if(r.activated)throw d.create("already-activated",{appName:t.name});var a=s.__assign(s.__assign({},r),{activated:!0});a.cachedTokenPromise=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(i){switch(i.label){case 0:if(!o.isIndexedDBAvailable())return[3,5];e=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,A(t)];case 2:return e=i.sent(),[3,4];case 3:return n=i.sent(),R.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}(t).then(function(e){return e&&q(e)&&m(t,s.__assign(s.__assign({},g(t)),{token:e})),e}),a.provider="string"==typeof e?new G(e):e instanceof G||e instanceof K?e:new K({getToken:e.getToken}),a.isTokenAutoRefreshEnabled=void 0===i?t.automaticDataCollectionEnabled:i,m(t,a),a.provider.initialize(t,n)}(e,t,n,i)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=g(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),m(t,s.__assign(s.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)},getToken:function(t){return function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var i;return s.__generator(this,function(r){switch(r.label){case 0:return[4,N(t,e,n)];case 1:if((i=r.sent()).error)throw i.error;return[2,{token:i.token}]}})})}(e,n,t)},onTokenChanged:function(t,i,r){return function(t,e,n,i,r){var s,o=function(){};return s=null!=n.next?n.next.bind(n):n,null!=n.error?o=n.error.bind(n):i&&(o=i),U(t,e,"EXTERNAL",s,o),function(){return B(t,s)}}(e,n,t,i)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++)B(e,n[t].next);return Promise.resolve()}}};var e,n},"PUBLIC").setServiceProps({ReCaptchaV3Provider:G,CustomProvider:K}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider("app-check-internal").initialize()})),t.INTERNAL.registerComponent(new r.Component("app-check-internal",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return N(e,n,t)},addTokenListener:function(t){return U(e,n,"INTERNAL",t)},removeTokenListener:function(t){return B(e,t)}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var t=o.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=v();e.enabled=!0;var n=new o.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return s.__awaiter(this,void 0,void 0,function(){var t,e;return s.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,M("debug-token")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((i=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),I("debug-token",i)).catch(function(t){return R.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var i})})}())}}()},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("sVev"),r=n("7o/Q");function s(t=c){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends r.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function c(){return new i.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var i=n("HDdC"),r=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends r.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("51Dv"),r=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new i.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(r.a)(e)(a)}},Zy1z:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return t=>t.lift(new s)}class s{call(t,e){return e.subscribe(new o(t))}}class o extends i.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("5+tZ"),r=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("5+tZ");function r(t,e){return Object(i.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},cp0P:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("HDdC"),r=n("DH7j"),s=n("lJxs"),o=n("XoHu"),a=n("Cfvw");function c(...t){if(1===t.length){const e=t[0];if(Object(r.a)(e))return u(e,null);if(Object(o.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return u(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return u(t=1===t.length&&Object(r.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(t=>e(...t)))}return u(t,null)}function u(t,e){return new i.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let c=0;c<i;c++){const u=Object(a.a)(t[c]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,o++),r[c]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&l||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}},dkDA:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("WMd4");function s(){return function(t){return t.lift(new o)}}class o{call(t,e){return e.subscribe(new a(t))}}class a extends i.a{constructor(t){super(t)}_next(t){this.destination.next(r.a.createNext(t))}_error(t){const e=this.destination;e.next(r.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(r.a.createComplete()),t.complete()}}},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("l7GE"),r=n("51Dv"),s=n("ZUHj"),o=n("lJxs"),a=n("Cfvw");function c(t,e){return"function"==typeof e?n=>n.pipe(c((n,i)=>Object(a.a)(t(n,i)).pipe(Object(o.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new u(t))}class u{constructor(t){this.project=t}call(t,e){return e.subscribe(new l(t,this.project))}}class l extends i.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const o=new r.a(this,e,n),a=this.destination;a.add(o),this.innerSubscription=Object(s.a)(this,t,void 0,void 0,o),this.innerSubscription!==o&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}},egL7:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("fXoL");let r=(()=>{class t{constructor(t={id:null},e,n,i,r){if(this.config=t,this.googleTagManagerId=e,this.googleTagManagerAuth=n,this.googleTagManagerPreview=i,this.googleTagManagerResourcePath=r,this.isLoaded=!1,this.browserGlobals={windowRef:()=>window,documentRef:()=>document},null==this.config&&(this.config={id:null}),this.config=Object.assign(Object.assign({},this.config),{id:e||this.config.id,gtm_auth:n||this.config.gtm_auth,gtm_preview:i||this.config.gtm_preview,gtm_resource_path:r||this.config.gtm_resource_path}),null==this.config.id)throw new Error("Google tag manager ID not provided.")}getDataLayer(){const t=this.browserGlobals.windowRef();return t.dataLayer=t.dataLayer||[],t.dataLayer}pushOnDataLayer(t){this.getDataLayer().push(t)}addGtmToDom(){return new Promise((t,e)=>{if(this.isLoaded)return t(this.isLoaded);const n=this.browserGlobals.documentRef();this.pushOnDataLayer({"gtm.start":(new Date).getTime(),event:"gtm.js"});const i=n.createElement("script");i.id="GTMscript",i.async=!0,i.src=this.applyGtmQueryParams(this.config.gtm_resource_path?this.config.gtm_resource_path:"https://www.googletagmanager.com/gtm.js"),i.addEventListener("load",()=>t(this.isLoaded=!0)),i.addEventListener("error",()=>e(!1)),n.head.insertBefore(i,n.head.firstChild)})}pushTag(t){return new Promise((e,n)=>{if(this.isLoaded)return this.pushOnDataLayer(t),e();this.addGtmToDom().then(()=>(this.pushOnDataLayer(t),e())).catch(()=>n())})}applyGtmQueryParams(t){return-1===t.indexOf("?")&&(t+="?"),t+Object.keys(this.config).filter(t=>this.config[t]).map(t=>`${t}=${this.config[t]}`).join("&")}}return t.\u0275fac=function(e){return new(e||t)(i.cc("googleTagManagerConfig",8),i.cc("googleTagManagerId",8),i.cc("googleTagManagerAuth",8),i.cc("googleTagManagerPreview",8),i.cc("googleTagManagerResourcePath",8))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.cc)("googleTagManagerConfig",8),Object(i.cc)("googleTagManagerId",8),Object(i.cc)("googleTagManagerAuth",8),Object(i.cc)("googleTagManagerPreview",8),Object(i.cc)("googleTagManagerResourcePath",8))},token:t,providedIn:"root"}),t})()},f29J:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("GyhO");function r(...t){return e=>e.lift.call(Object(i.a)(e,...t))}},fSjL:function(t,e,n){"use strict";var i,r=n("zIRd"),s=n("/6Yf"),o=n("mrSG"),a=n("qOnz"),c=n("nbvr"),u=((i={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',i["not-registered"]="Firebase Installation is not registered.",i["installation-not-found"]="Firebase Installation not found.",i["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',i["app-offline"]="Could not process request. Application offline.",i["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",i),l=new a.ErrorFactory("installations","Installations",u);function h(t){return t instanceof a.FirebaseError&&t.code.includes("request-failed")}function d(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function p(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function f(t,e){return Object(o.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(o.__generator)(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),[2,l.create("request-failed",{requestName:t,serverCode:(i=n.error).code,serverMessage:i.message,serverStatus:i.status})]}})})}function _(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function g(t,e){var n=e.refreshToken,i=_(t);return i.append("Authorization",function(t){return"FIS_v2 "+t}(n)),i}function m(t){return Object(o.__awaiter)(this,void 0,void 0,function(){var e;return Object(o.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function v(t,e){var n=e.fid;return Object(o.__awaiter)(this,void 0,void 0,function(){var e,i,r,s,a;return Object(o.__generator)(this,function(o){switch(o.label){case 0:return e=d(t),i=_(t),r={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.32"})},[4,m(function(){return fetch(e,r)})];case 1:return(s=o.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,{fid:(a=o.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:p(a.authToken)}];case 3:return[4,f("Create Installation",s)];case 4:throw o.sent()}})})}function y(t){return new Promise(function(e){setTimeout(e,t)})}var b=/^[cdef][\w-]{21}$/;function E(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(o.__spreadArray)([],Object(o.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return b.test(e)?e:""}catch(i){return""}}function O(t){return t.appName+"!"+t.appId}var S=new Map;function C(t,e){var n=O(t);T(n,e),function(t,e){var n=D();n&&n.postMessage({key:t,fid:e}),P()}(n,e)}function T(t,e){var n,i,r=S.get(t);if(r)try{for(var s=Object(o.__values)(r),a=s.next();!a.done;a=s.next())(0,a.value)(e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}var w=null;function D(){return!w&&"BroadcastChannel"in self&&((w=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){T(t.data.key,t.data.fid)}),w}function P(){0===S.size&&w&&(w.close(),w=null)}var A,I="firebase-installations-store",M=null;function x(){return M||(M=Object(c.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(I)}})),M}function R(t,e){return Object(o.__awaiter)(this,void 0,void 0,function(){var n,i,r,s,a;return Object(o.__generator)(this,function(o){switch(o.label){case 0:return n=O(t),[4,x()];case 1:return i=o.sent(),r=i.transaction(I,"readwrite"),[4,(s=r.objectStore(I)).get(n)];case 2:return a=o.sent(),[4,s.put(e,n)];case 3:return o.sent(),[4,r.complete];case 4:return o.sent(),a&&a.fid===e.fid||C(t,e.fid),[2,e]}})})}function k(t){return Object(o.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(o.__generator)(this,function(r){switch(r.label){case 0:return e=O(t),[4,x()];case 1:return n=r.sent(),[4,(i=n.transaction(I,"readwrite")).objectStore(I).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function L(t,e){return Object(o.__awaiter)(this,void 0,void 0,function(){var n,i,r,s,a,c;return Object(o.__generator)(this,function(o){switch(o.label){case 0:return n=O(t),[4,x()];case 1:return i=o.sent(),r=i.transaction(I,"readwrite"),[4,(s=r.objectStore(I)).get(n)];case 2:return a=o.sent(),void 0!==(c=e(a))?[3,4]:[4,s.delete(n)];case 3:return o.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:o.sent(),o.label=6;case 6:return[4,r.complete];case 7:return o.sent(),!c||a&&a.fid===c.fid||C(t,c.fid),[2,c]}})})}function j(t){return Object(o.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(o.__generator)(this,function(r){switch(r.label){case 0:return[4,L(t,function(n){var i=function(t){return B(t||{fid:E(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(l.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(o.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(o.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,v(t,e)];case 1:return n=r.sent(),[2,R(t,n)];case 2:return h(i=r.sent())&&409===i.customData.serverCode?[4,k(t)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,R(t,{fid:e.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:N(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry})];case 1:return""!==(n=r.sent()).fid?[3,3]:(i={},[4,e]);case 2:return[2,(i.installationEntry=r.sent(),i)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function N(t){return Object(o.__awaiter)(this,void 0,void 0,function(){var e,n,i,r;return Object(o.__generator)(this,function(s){switch(s.label){case 0:return[4,U(t)];case 1:e=s.sent(),s.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,y(100)];case 3:return s.sent(),[4,U(t)];case 4:return e=s.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,j(t)];case 6:return n=s.sent(),i=n.installationEntry,(r=n.registrationPromise)?[2,r]:[2,i];case 7:return[2,e]}})})}function U(t){return L(t,function(t){if(!t)throw l.create("installation-not-found");return B(t)})}function B(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function F(t,e){var n=t.appConfig,i=t.platformLoggerProvider;return Object(o.__awaiter)(this,void 0,void 0,function(){var t,r,s,a,c;return Object(o.__generator)(this,function(o){switch(o.label){case 0:return t=function(t,e){var n=e.fid;return d(t)+"/"+n+"/authTokens:generate"}(n,e),r=g(n,e),(s=i.getImmediate({optional:!0}))&&r.append("x-firebase-client",s.getPlatformInfoString()),a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:"w:0.4.32"}})},[4,m(function(){return fetch(t,a)})];case 1:return(c=o.sent()).ok?[4,c.json()]:[3,3];case 2:return[2,p(o.sent())];case 3:return[4,f("Generate Auth Token",c)];case 4:throw o.sent()}})})}function q(t,e){return void 0===e&&(e=!1),Object(o.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(o.__generator)(this,function(s){switch(s.label){case 0:return[4,L(t.appConfig,function(i){if(!W(i))throw l.create("not-registered");var r,s=i.authToken;if(!e&&2===(r=s).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(r))return i;if(1===s.requestStatus)return n=function(t,e){return Object(o.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(o.__generator)(this,function(r){switch(r.label){case 0:return[4,V(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,y(100)];case 3:return r.sent(),[4,V(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,q(t,e)]:[2,i]}})})}(t,e),i;if(!navigator.onLine)throw l.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(o.__assign)(Object(o.__assign)({},t),{authToken:e})}(i);return n=function(t,e){return Object(o.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(o.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,F(t,e)];case 1:return n=s.sent(),r=Object(o.__assign)(Object(o.__assign)({},e),{authToken:n}),[4,R(t.appConfig,r)];case 2:return s.sent(),[2,n];case 3:return!h(i=s.sent())||401!==i.customData.serverCode&&404!==i.customData.serverCode?[3,5]:[4,k(t.appConfig)];case 4:return s.sent(),[3,7];case 5:return r=Object(o.__assign)(Object(o.__assign)({},e),{authToken:{requestStatus:0}}),[4,R(t.appConfig,r)];case 6:s.sent(),s.label=7;case 7:throw i;case 8:return[2]}})})}(t,a),a})];case 1:return i=s.sent(),n?[4,n]:[3,3];case 2:return r=s.sent(),[3,4];case 3:r=i.authToken,s.label=4;case 4:return[2,r]}})})}function V(t){return L(t,function(t){if(!W(t))throw l.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(o.__assign)(Object(o.__assign)({},t),{authToken:{requestStatus:0}}):t})}function W(t){return void 0!==t&&2===t.registrationStatus}function G(t){return Object(o.__awaiter)(this,void 0,void 0,function(){var e;return Object(o.__generator)(this,function(n){switch(n.label){case 0:return[4,j(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function K(t,e){return Object(o.__awaiter)(this,void 0,void 0,function(){var n,i,r,s;return Object(o.__generator)(this,function(o){switch(o.label){case 0:return n=function(t,e){var n=e.fid;return d(t)+"/"+n}(t,e),i=g(t,e),r={method:"DELETE",headers:i},[4,m(function(){return fetch(n,r)})];case 1:return(s=o.sent()).ok?[3,3]:[4,f("Delete Installation",s)];case 2:throw o.sent();case 3:return[2]}})})}function z(t){return l.create("missing-app-config-values",{valueName:t})}(A=r.default).INTERNAL.registerComponent(new s.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw z("App Configuration");if(!t.name)throw z("App Name");try{for(var i=Object(o.__values)(["projectId","apiKey","appId"]),r=i.next();!r.done;r=i.next()){var s=r.value;if(!t.options[s])throw z(s)}}catch(a){e={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(o.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(o.__generator)(this,function(r){switch(r.label){case 0:return[4,j(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?i.catch(console.error):q(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(o.__awaiter)(this,void 0,void 0,function(){return Object(o.__generator)(this,function(n){switch(n.label){case 0:return[4,G(t.appConfig)];case 1:return n.sent(),[4,q(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(o.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(o.__generator)(this,function(i){switch(i.label){case 0:return[4,L(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw l.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw l.create("app-offline");case 3:return[4,K(e,n)];case 4:return i.sent(),[4,k(e)];case 5:i.sent(),i.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){D();var n=O(t),i=S.get(n);i||(i=new Set,S.set(n,i)),i.add(e)}(n,e),function(){!function(t,e){var n=O(t),i=S.get(n);i&&(i.delete(e),0===i.size&&S.delete(n),P())}(n,e)}}(n,t)}}},"PUBLIC")),A.registerVersion("@firebase/installations","0.4.32")},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return cl}),n.d(e,"c",function(){return il}),n.d(e,"d",function(){return el}),n.d(e,"e",function(){return nl}),n.d(e,"f",function(){return eh}),n.d(e,"g",function(){return Kl}),n.d(e,"h",function(){return $c}),n.d(e,"i",function(){return yl}),n.d(e,"j",function(){return mc}),n.d(e,"k",function(){return hl}),n.d(e,"l",function(){return Ec}),n.d(e,"m",function(){return Ii}),n.d(e,"n",function(){return ku}),n.d(e,"o",function(){return Ps}),n.d(e,"p",function(){return Dn}),n.d(e,"q",function(){return I}),n.d(e,"r",function(){return on}),n.d(e,"s",function(){return Gs}),n.d(e,"t",function(){return Fc}),n.d(e,"u",function(){return Vc}),n.d(e,"v",function(){return ll}),n.d(e,"w",function(){return ru}),n.d(e,"x",function(){return $l}),n.d(e,"y",function(){return iu}),n.d(e,"z",function(){return Fl}),n.d(e,"A",function(){return Ol}),n.d(e,"B",function(){return Pn}),n.d(e,"C",function(){return al}),n.d(e,"D",function(){return ol}),n.d(e,"E",function(){return Cc}),n.d(e,"F",function(){return Sc}),n.d(e,"G",function(){return ji}),n.d(e,"H",function(){return wc}),n.d(e,"I",function(){return Oi}),n.d(e,"J",function(){return An}),n.d(e,"K",function(){return In}),n.d(e,"L",function(){return Yl}),n.d(e,"M",function(){return Jc}),n.d(e,"N",function(){return Al}),n.d(e,"O",function(){return cn}),n.d(e,"P",function(){return Pc}),n.d(e,"Q",function(){return Dc}),n.d(e,"R",function(){return ou}),n.d(e,"S",function(){return j}),n.d(e,"T",function(){return ql}),n.d(e,"U",function(){return Ul}),n.d(e,"V",function(){return p}),n.d(e,"W",function(){return Cn}),n.d(e,"X",function(){return Nl}),n.d(e,"Y",function(){return Jl}),n.d(e,"Z",function(){return xl}),n.d(e,"ab",function(){return ul}),n.d(e,"bb",function(){return Is}),n.d(e,"cb",function(){return fa}),n.d(e,"db",function(){return g}),n.d(e,"eb",function(){return bi}),n.d(e,"fb",function(){return ni}),n.d(e,"gb",function(){return Gn}),n.d(e,"hb",function(){return zn}),n.d(e,"ib",function(){return Yn}),n.d(e,"jb",function(){return Hn}),n.d(e,"kb",function(){return $n}),n.d(e,"lb",function(){return Qn}),n.d(e,"mb",function(){return la}),n.d(e,"nb",function(){return Zl}),n.d(e,"ob",function(){return ha}),n.d(e,"pb",function(){return da}),n.d(e,"qb",function(){return Kn}),n.d(e,"rb",function(){return q}),n.d(e,"sb",function(){return to}),n.d(e,"tb",function(){return Co}),n.d(e,"ub",function(){return Oo}),n.d(e,"vb",function(){return So}),n.d(e,"wb",function(){return ua}),n.d(e,"xb",function(){return Ct}),n.d(e,"yb",function(){return l}),n.d(e,"zb",function(){return Wn}),n.d(e,"Ab",function(){return zs}),n.d(e,"Bb",function(){return vt}),n.d(e,"Cb",function(){return fc}),n.d(e,"Db",function(){return Mr}),n.d(e,"Eb",function(){return co}),n.d(e,"Fb",function(){return Vo}),n.d(e,"Gb",function(){return ia}),n.d(e,"Hb",function(){return ra}),n.d(e,"Ib",function(){return qo}),n.d(e,"Jb",function(){return Hu}),n.d(e,"Kb",function(){return J}),n.d(e,"Lb",function(){return ot}),n.d(e,"Mb",function(){return E}),n.d(e,"Nb",function(){return O}),n.d(e,"Ob",function(){return it}),n.d(e,"Pb",function(){return at}),n.d(e,"Qb",function(){return po}),n.d(e,"Rb",function(){return vo}),n.d(e,"Sb",function(){return bo}),n.d(e,"Tb",function(){return yo}),n.d(e,"Ub",function(){return mo}),n.d(e,"Vb",function(){return go}),n.d(e,"Wb",function(){return Eo}),n.d(e,"Xb",function(){return en}),n.d(e,"Yb",function(){return sa}),n.d(e,"Zb",function(){return rc}),n.d(e,"ac",function(){return oc}),n.d(e,"bc",function(){return sc}),n.d(e,"cc",function(){return Sn}),n.d(e,"dc",function(){return rn}),n.d(e,"ec",function(){return tl}),n.d(e,"fc",function(){return To}),n.d(e,"gc",function(){return Qu}),n.d(e,"hc",function(){return be}),n.d(e,"ic",function(){return ye}),n.d(e,"jc",function(){return Po}),n.d(e,"kc",function(){return Mu}),n.d(e,"lc",function(){return xu}),n.d(e,"mc",function(){return Mo}),n.d(e,"nc",function(){return Io}),n.d(e,"oc",function(){return fo}),n.d(e,"pc",function(){return xo}),n.d(e,"qc",function(){return Ro}),n.d(e,"rc",function(){return Eu}),n.d(e,"sc",function(){return Ou}),n.d(e,"tc",function(){return Su}),n.d(e,"uc",function(){return Cu}),n.d(e,"vc",function(){return Tu}),n.d(e,"wc",function(){return wu}),n.d(e,"xc",function(){return Du}),n.d(e,"yc",function(){return Pu}),n.d(e,"zc",function(){return zu}),n.d(e,"Ac",function(){return ho}),n.d(e,"Bc",function(){return Gt}),n.d(e,"Cc",function(){return Si}),n.d(e,"Dc",function(){return Ti}),n.d(e,"Ec",function(){return Ci}),n.d(e,"Fc",function(){return rt}),n.d(e,"Gc",function(){return Fo}),n.d(e,"Hc",function(){return lo}),n.d(e,"Ic",function(){return Ju}),n.d(e,"Jc",function(){return ta}),n.d(e,"Kc",function(){return ea}),n.d(e,"Lc",function(){return na}),n.d(e,"Mc",function(){return $u});var i=n("XNiG"),r=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function p(t){return t.__forward_ref__=p,t.toString=function(){return l(this())},t}function f(t){return _(t)?t():t}function _(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function m(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():m(t)}function y(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${v(t)} found${n}`)}function b(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return C(t,w)||C(t,P)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(D)||t.hasOwnProperty(A))?t[D]:null}const w=c({"\u0275prov":c}),D=c({"\u0275inj":c}),P=c({ngInjectableDef:c}),A=c({ngInjectorDef:c});var I=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let M;function x(t){const e=M;return M=t,e}function R(t,e,n){const i=S(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&I.Optional?null:void 0!==e?e:void y(l(t),"Injector")}function k(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),j=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const N="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,q=N||F||U||B,V={},W=[],G=[],K=c({"\u0275cmp":c}),z=c({"\u0275dir":c}),$=c({"\u0275pipe":c}),H=c({"\u0275mod":c}),Q=c({"\u0275loc":c}),Y=c({"\u0275fac":c}),X=c({__NG_ELEMENT_ID__:c});let Z=0;function J(t){return k(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||j.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ct(t)||function(t){return t[z]||null}(t)}function et(t){return function(t){return t[$]||null}(t)}const nt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&k(()=>{nt[t.id]=t.type}),e}function rt(t,e){return k(()=>{const n=ut(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return V;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function ut(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function ft(t){return 1==(1&t.flags)}function _t(t){return null!==t.template}function gt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class mt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return yt}function yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),bt}function bt(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===V)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,i){const r=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:V,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];s[a]=new mt(c&&c.currentValue,e,o===V),t[i]=e}function Ot(t){return t.__ngSimpleChanges__||null}let St;function Ct(t){St=t}function Tt(){return void 0!==St?St:"undefined"!=typeof document?document:void 0}function wt(t){return!!t.listen}vt.ngInherit=!0;const Dt={createRenderer:(t,e)=>Tt()};function Pt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return Pt(e[t])}function It(t,e){return Pt(e[t.index])}function Mt(t,e){return t.data[e]}function xt(t,e){return t[e]}function Rt(t,e){const n=e[t];return lt(n)?n:n[0]}function kt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function jt(t){return 128==(128&t[2])}function Nt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Ft={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Ft.bindingsEnabled}function Vt(){return Ft.lFrame.lView}function Wt(){return Ft.lFrame.tView}function Gt(t){Ft.lFrame.contextLView=t}function Kt(){let t=zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function zt(){return Ft.lFrame.currentTNode}function $t(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ht(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Qt(){return Ft.lFrame.isParent}function Yt(){Ft.lFrame.isParent=!1}function Xt(){return Ft.isInCheckNoChangesMode}function Zt(t){Ft.isInCheckNoChangesMode=t}function Jt(){const t=Ft.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Ft.lFrame.bindingIndex}function ee(){return Ft.lFrame.bindingIndex++}function ne(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t){Ft.lFrame.inI18n=t}function re(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){Ft.lFrame.currentDirectiveIndex=t}function oe(){return Ft.lFrame.currentQueryIndex}function ae(t){Ft.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&I.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&I.Host||(i=ce(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Ft.lFrame=he();return i.currentTNode=e,i.lView=t,!0}function le(t){const e=he(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fe=pe;function _e(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Ft.lFrame.selectedIndex}function me(t){Ft.lFrame.selectedIndex=t}function ve(){const t=Ft.lFrame;return Mt(t.tView,t.selectedIndex)}function ye(){Ft.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function be(){Ft.lFrame.currentNamespace=null}function Ee(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Te(t,e,3,n)}function Se(t,e,n,i){(3&t[2])===n&&Te(t,e,n,i)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Te(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(we(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function we(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class De{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Pe(t,e,n){const i=wt(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++r];Ie(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Ae(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function Me(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||xe(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function xe(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Re(t){return-1!==t}function ke(t){return 32767&t}function Le(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let je=!0;function Ne(t){const e=je;return je=t,e}let Ue=0;function Be(t,e){const n=qe(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Fe(i.data,t),Fe(e,null),Fe(i.blueprint,null));const r=Ve(t,e),s=t.injectorIndex;if(Re(r)){const t=ke(r),n=Le(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function We(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(i=n[X]),null==i&&(i=n[X]=Ue++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Ge(t,e,n){if(n&I.Optional)return t;y(e,"NodeInjector")}function Ke(t,e,n,i){if(n&I.Optional&&void 0===i&&(i=null),0==(n&(I.Self|I.Host))){const r=t[9],s=x(void 0);try{return r?r.get(e,i,n&I.Optional):R(e,i,n&I.Optional)}finally{x(s)}}return Ge(i,e,n)}function ze(t,e,n,i=I.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof s){if(!ue(e,t,i))return i&I.Host?Ge(r,n,i):Ke(e,n,i,r);try{const t=s();if(null!=t||i&I.Optional)return t;y(n)}finally{fe()}}else if("number"==typeof s){let r=null,o=qe(t,e),a=-1,c=i&I.Host?e[16][6]:null;for((-1===o||i&I.SkipSelf)&&(a=-1===o?Ve(t,e):e[o+8],-1!==a&&Je(i,!1)?(r=e[1],o=ke(a),e=Le(a,e)):o=-1);-1!==o;){const t=e[1];if(Ze(s,o,t.data)){const t=Qe(o,e,n,r,i,c);if(t!==$e)return t}a=e[o+8],-1!==a&&Je(i,e[1].data[o+8]===c)&&Ze(s,o,e)?(r=t,o=ke(a),e=Le(a,e)):o=-1}}}return Ke(e,n,i,r)}const $e={};function He(){return new tn(Kt(),Vt())}function Qe(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],c=Ye(a,o,n,null==i?pt(a)&&je:i!=o&&0!=(3&a.type),r&I.Host&&s===a);return null!==c?Xe(e,o,c,a):$e}function Ye(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=r?a+u:t.directiveEnd;for(let h=i?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=o[c];if(t&&_t(t)&&t.type===n)return c}return null}function Xe(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof De){const o=r;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(v(s[n]));const a=Ne(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?x(o.injectImpl):null;ue(t,i,I.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&x(c),Ne(a),o.resolving=!1,fe()}}return r}function Ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Je(t,e){return!(t&I.Self||t&I.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function en(t){return k(()=>{const e=t.prototype.constructor,n=e[Y]||nn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[Y]||nn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function nn(t){return _(t)?()=>{const e=nn(f(t));return e&&e()}:gt(t)}function rn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Ae(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Kt(),t)}function sn(t,e,n){return k(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class on{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new on("AnalyzeForEntryComponents"),cn=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),un(i,e)):e!==t&&e.push(i)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function fn(t,e,n){let i=gn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function _n(t,e){const n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const mn={},vn=/\n/gm,yn=c({provide:String,useValue:c});let bn;function En(t){const e=bn;return bn=t,e}function On(t,e=I.Default){if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?R(t,void 0,e):bn.get(t,e&I.Optional?null:void 0,e)}function Sn(t,e=I.Default){return(M||On)(f(t),e)}const Cn=Sn;function Tn(t){const e=[];for(let n=0;n<t.length;n++){const i=f(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=I.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(Sn(t,n))}else e.push(Sn(i))}return e}function wn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Dn=wn(sn("Inject",t=>({token:t})),-1),Pn=wn(sn("Optional"),8),An=wn(sn("Self"),2),In=wn(sn("SkipSelf"),4);let Mn,xn;function Rn(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,q.trustedTypes))try{Mn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}function kn(){if(void 0===xn&&(xn=null,q.trustedTypes))try{xn=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return xn}function Ln(t){var e;return(null===(e=kn())||void 0===e?void 0:e.createHTML(t))||t}function jn(t){var e;return(null===(e=kn())||void 0===e?void 0:e.createScriptURL(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Un extends Nn{getTypeName(){return"HTML"}}class Bn extends Nn{getTypeName(){return"Style"}}class Fn extends Nn{getTypeName(){return"Script"}}class qn extends Nn{getTypeName(){return"URL"}}class Vn extends Nn{getTypeName(){return"ResourceURL"}}function Wn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Gn(t,e){const n=Kn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Kn(t){return t instanceof Nn&&t.getTypeName()||null}function zn(t){return new Un(t)}function $n(t){return new Bn(t)}function Hn(t){return new Fn(t)}function Qn(t){return new qn(t)}function Yn(t){return new Vn(t)}function Xn(t){const e=new Jn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Rn(""),"text/html")}catch(t){return!1}}()?new Zn(e):e}class Zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Rn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Rn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Rn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ti=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ei=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ni(t){return(t=String(t)).match(ti)||t.match(ei)?t:"unsafe:"+t}function ii(t){return(t=String(t)).split(",").map(t=>ni(t.trim())).join(", ")}function ri(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function si(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const oi=ri("area,br,col,hr,img,wbr"),ai=ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ci=ri("rp,rt"),ui=si(ci,ai),li=si(oi,si(ai,ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),si(ci,ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ui),hi=ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),di=ri("srcset"),pi=si(hi,di,ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fi=ri("script,style,template");class _i{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!li.hasOwnProperty(e))return this.sanitizedSomething=!0,!fi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,r=e.toLowerCase();if(!pi.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;hi[r]&&(s=ni(s)),di[r]&&(s=ii(s)),this.buf.push(" ",e,'="',vi(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();li.hasOwnProperty(e)&&!oi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(vi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const gi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mi=/([^\#-~ |!])/g;function vi(t){return t.replace(/&/g,"&amp;").replace(gi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yi;function bi(t,e){let n=null;try{yi=yi||Xn(t);let i=e?String(e):"";n=yi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=yi.getInertBodyElement(i)}while(i!==s);return Rn((new _i).sanitizeChildren(Ei(n)||n))}finally{if(n){const t=Ei(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Ei(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Oi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Si(t){const e=wi();return e?Ln(e.sanitize(Oi.HTML,t)||""):Gn(t,"HTML")?Ln(Wn(t)):bi(Tt(),m(t))}function Ci(t){const e=wi();return e?e.sanitize(Oi.URL,t)||"":Gn(t,"URL")?Wn(t):ni(m(t))}function Ti(t){const e=wi();if(e)return jn(e.sanitize(Oi.RESOURCE_URL,t)||"");if(Gn(t,"ResourceURL"))return jn(Wn(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function wi(){const t=Vt();return t&&t[12]}function Di(t){return t.ngDebugContext}function Pi(t){return t.ngOriginalError}function Ai(t,...e){t.error(...e)}class Ii{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Ai}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Di(t)?Di(t):this._findContext(Pi(t)):null}_findOriginalError(t){let e=Pi(t);for(;e&&Pi(e);)e=Pi(e);return e}}const Mi=/^>|^->|<!--|-->|--!>|<!-$/g,xi=/(<|>)/;function Ri(t,e){t.__ngContext__=e}const ki=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Li(t){return t instanceof Function?t():t}var ji=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ni;function Ui(t,e){return Ni(t,e)}function Bi(t){const e=t[3];return ht(e)?e[3]:e}function Fi(t){return Vi(t[13])}function qi(t){return Vi(t[4])}function Vi(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Wi(t,e,n,i,r){if(null!=i){let s,o=!1;ht(i)?s=i:lt(i)&&(o=!0,i=i[0]);const a=Pt(i);0===t&&null!==n?null==r?er(e,n,a):tr(e,n,a,r||null,!0):1===t&&null!==n?tr(e,n,a,r||null,!0):2===t?pr(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Pt(n)&&Wi(e,t,i,s,r);for(let o=10;o<n.length;o++){const r=n[o];_r(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Gi(t,e){return wt(t)?t.createText(e):t.createTextNode(e)}function Ki(t,e,n){wt(t)?t.setValue(e,n):e.textContent=n}function zi(t,e){return t.createComment(function(t){return t.replace(Mi,t=>t.replace(xi,"\u200b$1\u200b"))}(e))}function $i(t,e,n){return wt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hi(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Bt(r,-1)),n.splice(i,1)}function Qi(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Hi(s,i),e>0&&(t[n-1][4]=i[4]);const o=dn(t,10+e);_r(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Yi(t,e){if(!(256&e[2])){const n=e[11];wt(n)&&n.destroyNode&&_r(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Xi(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&Xi(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&Xi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Xi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof De)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const i=t[e[n]],r=e[n+1];try{r.call(i)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Pt(e[t]),a=i[r=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&wt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&Hi(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Zi(t,e,n){return Ji(t,e.parent,n)}function Ji(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===j.None||e===j.Emulated)return null}return It(i,n)}function tr(t,e,n,i,r){wt(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function er(t,e,n){wt(t)?t.appendChild(e,n):e.appendChild(n)}function nr(t,e,n,i,r){null!==i?tr(t,e,n,i,r):er(t,e,n)}function ir(t,e){return wt(t)?t.parentNode(e):e.parentNode}function rr(t,e,n){return ar(t,e,n)}function sr(t,e,n){return 40&t.type?It(t,n):null}let or,ar=sr;function cr(t,e){ar=t,or=e}function ur(t,e,n,i){const r=Zi(t,i,e),s=e[11],o=rr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)nr(s,r,n[a],o,!1);else nr(s,r,n,o,!1);void 0!==or&&or(s,i,e,n,r)}function lr(t,e){if(null!==e){const n=e.type;if(3&n)return It(e,t);if(4&n)return dr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return lr(t,n);{const n=t[e.index];return ht(n)?dr(-1,n):Pt(n)}}if(32&n)return Ui(e,t)()||Pt(t[e.index]);{const n=hr(t,e);return null!==n?Array.isArray(n)?n[0]:lr(Bi(t[16]),n):lr(t,e.next)}}return null}function hr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function dr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return lr(t,i)}return e[7]}function pr(t,e,n){const i=ir(t,e);i&&function(t,e,n,i){wt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}function fr(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],c=n.type;if(o&&0===e&&(a&&Ri(Pt(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)fr(t,e,n.child,i,r,s,!1),Wi(e,t,r,a,s);else if(32&c){const o=Ui(n,i);let c;for(;c=o();)Wi(e,t,r,c,s);Wi(e,t,r,a,s)}else 16&c?gr(t,e,i,n,r,s):Wi(e,t,r,a,s);n=o?n.projectionNext:n.next}}function _r(t,e,n,i,r,s){fr(n,i,t.firstChild,e,r,s,!1)}function gr(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Wi(e,t,r,a[c],s);else fr(t,e,a,o[3],r,s,!0)}function mr(t,e,n){wt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function vr(t,e,n){wt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function yr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function br(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==yr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Er(t){return 4===t.type&&"ng-template"!==t.value}function Or(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Sr(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!Or(t,c,n)||""===c&&1===e.length){if(Cr(i))return!1;o=!0}}else{const u=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!br(t.attrs,u,n)){if(Cr(i))return!1;o=!0}continue}const l=Tr(8&i?"class":c,r,Er(t),n);if(-1===l){if(Cr(i))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":r[l+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==yr(e,u,0)||2&i&&u!==t){if(Cr(i))return!1;o=!0}}}}else{if(!o&&!Cr(i)&&!Cr(c))return!1;if(o&&Cr(c))continue;o=!1,i=c|1&i}}return Cr(i)||o}function Cr(t){return 0==(1&t)}function Tr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function wr(t,e,n=!1){for(let i=0;i<e.length;i++)if(Sr(t,e[i],n))return!0;return!1}function Dr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Pr(t,e){return t?":not("+e.trim()+")":e}function Ar(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||Cr(o)||(e+=Pr(s,r),r=""),i=o,s=s||!Cr(i);n++}return""!==r&&(e+=Pr(s,r)),e}const Ir={};function Mr(t){xr(Wt(),Vt(),ge()+t,Xt())}function xr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Oe(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Se(e,i,0,n)}me(n)}function Rr(t,e){return t<<17|e<<2}function kr(t){return t>>17&32767}function Lr(t){return 2|t}function jr(t){return(131068&t)>>2}function Nr(t,e){return-131069&t|e<<2}function Ur(t){return 1|t}function Br(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];ae(r),n.contentQueries(2,e[s],s)}}}function Fr(t,e,n,i,r,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=r,l[2]=140|i,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function qr(t,e,n,i,r){let s=t.data[e];if(null===s)s=Vr(t,e,n,i,r),Ft.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=$t();s.injectorIndex=null===t?-1:t.injectorIndex}return Ht(s,!0),s}function Vr(t,e,n,i,r){const s=zt(),o=Qt(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Wr(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Gr(t,e,n){le(e);try{const i=t.viewQuery;null!==i&&Es(1,i,n);const r=t.template;null!==r&&$r(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Es(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)gs(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,_e()}}function Kr(t,e,n,i){const r=e[2];if(256==(256&r))return;le(e);const s=Xt();try{Ut(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&$r(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Se(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Fi(t);null!==e;e=qi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Bt(i,1),n[2]|=1024}}}(e),function(t){for(let e=Fi(t);null!==e;e=qi(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];jt(n)&&Kr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Br(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Se(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)me(~i);else{const r=i,s=n[++t],o=n[++t];re(s,r),o(2,e[r])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fs(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Es(2,c,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Se(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{_e()}}function zr(t,e,n,i){const r=e[10],s=!Xt(),o=Lt(e);try{s&&!o&&r.begin&&r.begin(),o&&Gr(t,e,i),Kr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function $r(t,e,n,i,r){const s=ge(),o=2&i;try{me(-1),o&&e.length>20&&xr(t,e,20,Xt()),n(i,r)}finally{me(s)}}function Hr(t,e,n){if(dt(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Qr(t,e,n){qt()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Be(n,e),Ri(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=_t(i);s&&us(e,n,i);const c=Xe(e,t,a,n);Ri(c,e),null!==o&&hs(0,a-r,c,i,0,o),s&&(Rt(n.index,e)[8]=c)}}(t,e,n,It(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=Ft.lFrame.currentDirectiveIndex;try{me(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];se(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||rs(i,r)}}finally{me(-1),se(o)}}(t,e,n))}function Yr(t,e,n=It){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Xr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zr(t,e,n,i,r,s,o,a,c,u){const l=20+i,h=l+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:Ir);return n}(l,h),p="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Jr(t,e,n,i){const r=Ss(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&Cs(t).push(i,r.length-1))}function ts(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function es(t,e,n,i,r,s,o,a){const c=It(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[i])?(ws(t,n,u,i,r),pt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,e.value||"",i):r,wt(s)?s.setProperty(c,i,r):Ie(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function ns(t,e,n,i){let r=!1;if(qt()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];wr(n,o.selectors,!1)&&(r||(r=[]),We(Be(n,e),t,o.type),_t(o)?(ss(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,as(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,c=Wr(t,e,s.length,null);for(let r=0;r<s.length;r++){const u=s[r];n.mergedAttrs=Me(n.mergedAttrs,u.hostAttrs),cs(t,n,e,c,u),os(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!i&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,u=null===r||Er(e)?null:ds(n,r);s.push(u),o=ts(n,c,o),a=ts(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new g("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Me(n.mergedAttrs,n.attrs),r}function is(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function rs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ss(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function os(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;_t(e)&&(n[""]=t)}}function as(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function cs(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=gt(r.type)),o=new De(s,_t(r),null);t.blueprint[i]=o,n[i]=o,is(t,e,0,i,Wr(t,n,r.hostVars,Ir),r)}function us(t,e,n){const i=It(e,t),r=Xr(n),s=t[10],o=ms(t,Fr(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function ls(t,e,n,i,r,s,o){if(null==s)wt(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?m(s):o(s,i||"",r);wt(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}function hs(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function ds(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function ps(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function fs(t,e){const n=Rt(e,t);if(jt(n)){const t=n[1];80&n[2]?Kr(t,n,t.template,n[8]):n[5]>0&&_s(n)}}function _s(t){for(let n=Fi(t);null!==n;n=qi(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Kr(t,e,t.template,e[8])}else e[5]>0&&_s(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Rt(e[n],t);jt(i)&&i[5]>0&&_s(i)}}function gs(t,e){const n=Rt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Gr(i,n,n[8])}function ms(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vs(t){for(;t;){t[2]|=64;const e=Bi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ys(t,e,n){const i=e[10];i.begin&&i.begin();try{Kr(t,e,t.template,n)}catch(r){throw Ts(e,r),r}finally{i.end&&i.end()}}function bs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=kt(n),r=i[1];zr(r,i,r.template,n)}}(t[8])}function Es(t,e,n){ae(0),e(t,n)}const Os=(()=>Promise.resolve(null))();function Ss(t){return t[7]||(t[7]=[])}function Cs(t){return t.cleanup||(t.cleanup=[])}function Ts(t,e){const n=t[9],i=n?n.get(Ii,null):null;i&&i.handleError(e)}function ws(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,r,i,a):c[a]=r}}function Ds(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=h(r,t):2==s&&(i=h(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const Ps=new on("INJECTOR",-1);class As{get(t,e=mn){if(e===mn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Is=new on("Set Injector scope."),Ms={},xs={},Rs=[];let ks;function Ls(){return void 0===ks&&(ks=new As),ks}function js(t,e=null,n=null,i){return new Ns(t,n,e||Ls(),i)}class Ns{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],r)),this.records.set(Ps,Fs(void 0,this));const s=this.records.get(Is);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=mn,n=I.Default){this.assertNotDestroyed();const i=En(this);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof on)&&S(t);e=n&&this.injectableDefInScope(n)?Fs(Us(t),Ms):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?Ls():this.parent).get(t,e=n&I.Optional&&e===mn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=l(e);if(Array.isArray(e))r=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):l(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(vn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{En(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=f(t)))return!1;let i=T(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=T(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{ln(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];ln(i,t=>this.processProvider(t,n,i||Rs))}}this.injectorDefTypes.add(s);const a=gt(s)||(()=>new s);this.records.set(s,Fs(a,Ms));const c=i.providers;if(null!=c&&!o){const e=t;ln(c,t=>this.processProvider(t,e,c))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=Vs(t=f(t))?t:f(t&&t.provide);const r=function(t,e,n){return qs(t)?Fs(void 0,t.useValue):Fs(Bs(t),Ms)}(t);if(Vs(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=Fs(void 0,Ms,!0),e.factory=()=>Tn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===Ms&&(e.value=xs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Us(t){const e=S(t),n=null!==e?e.factory:gt(t);if(null!==n)return n;if(t instanceof on)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[P]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Bs(t,e,n){let i;if(Vs(t)){const e=f(t);return gt(e)||Us(e)}if(qs(t))i=()=>f(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Tn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Sn(f(t.useExisting));else{const e=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return gt(e)||Us(e);i=()=>new e(...Tn(t.deps))}var r;return i}function Fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qs(t){return null!==t&&"object"==typeof t&&yn in t}function Vs(t){return"function"==typeof t}const Ws=function(t,e,n){return function(t,e=null,n=null,i){const r=js(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Gs=(()=>{class t{static create(t,e){return Array.isArray(t)?Ws(t,e,""):Ws(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=mn,t.NULL=new As,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>Sn(Ps)}),t.__NG_ELEMENT_ID__=-1,t})();function Ks(t,e){Ee(kt(t)[1],Kt())}function zs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(_t(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=$s(t.inputs),e.declaredInputs=$s(t.declaredInputs),e.outputs=$s(t.outputs);const n=r.hostBindings;n&&Ys(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Hs(t,s),o&&Qs(t,o),u(t.inputs,r.inputs),u(t.declaredInputs,r.declaredInputs),u(t.outputs,r.outputs),_t(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===zs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Me(r.hostAttrs,n=Me(n,r.hostAttrs))}}(i)}function $s(t){return t===V?{}:t===G?[]:t}function Hs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Qs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Ys(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Xs=null;function Zs(){if(!Xs){const t=q.Symbol;if(t&&t.iterator)Xs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Xs=n)}}}return Xs}class Js{constructor(t){this.wrapped=t}static wrap(t){return new Js(t)}static unwrap(t){return Js.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Js}}function to(t){return!!eo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zs()in t)}function eo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function no(t,e,n){return t[e]=n}function io(t,e){return t[e]}function ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function so(t,e,n,i){const r=ro(t,e,n);return ro(t,e+1,i)||r}function oo(t,e,n,i,r){const s=so(t,e,n,i);return ro(t,e+2,r)||s}function ao(t,e,n,i,r,s){const o=so(t,e,n,i);return so(t,e+2,r,s)||o}function co(t,e,n,i){const r=Vt();return ro(r,ee(),e)&&(Wt(),function(t,e,n,i,r,s){const o=It(t,e);ls(e[11],o,s,t.value,n,i,r)}(ve(),r,t,e,n,i)),co}function uo(t,e,n,i){return ro(t,ee(),n)?e+m(n)+i:Ir}function lo(t,e,n,i,r,s,o,a){const c=Vt(),u=Wt(),l=t+20,h=u.firstCreatePass?function(t,e,n,i,r,s,o,a,c){const u=e.consts,l=qr(e,t,4,o||null,Nt(u,a));ns(e,n,l,Nt(u,c)),Ee(e,l);const h=l.tViews=Zr(2,l,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,i,r,s,o):u.data[l];Ht(h,!1);const d=c[11].createComment("");ur(u,c,d,h),Ri(d,c),ms(c,c[l]=ps(d,c,d,h)),ft(h)&&Qr(u,c,h),null!=o&&Yr(c,h,a)}function ho(t){return xt(Ft.lFrame.contextLView,20+t)}function po(t,e=I.Default){const n=Vt();return null===n?Sn(t,e):ze(Kt(),n,f(t),e)}function fo(t,e,n){const i=Vt();return ro(i,ee(),e)&&es(Wt(),ve(),i,t,e,i[11],n,!1),fo}function _o(t,e,n,i,r){const s=r?"class":"style";ws(t,n,e.inputs[s],s,i)}function go(t,e,n,i){const r=Vt(),s=Wt(),o=20+t,a=r[11],c=r[o]=$i(a,e,Ft.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,c=qr(e,t,2,r,Nt(a,s));return ns(e,n,c,Nt(a,o)),null!==c.attrs&&Ds(c,c.attrs,!1),null!==c.mergedAttrs&&Ds(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,n,i):s.data[o];Ht(u,!0);const l=u.mergedAttrs;null!==l&&Pe(a,c,l);const h=u.classes;null!==h&&vr(a,c,h);const d=u.styles;null!==d&&mr(a,c,d),64!=(64&u.flags)&&ur(s,r,c,u),0===Ft.lFrame.elementDepthCount&&Ri(c,r),Ft.lFrame.elementDepthCount++,ft(u)&&(Qr(s,r,u),Hr(s,u,r)),null!==i&&Yr(r,u)}function mo(){let t=Kt();Qt()?Yt():(t=t.parent,Ht(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(Ee(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&_o(n,e,Vt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&_o(n,e,Vt(),e.stylesWithoutHost,!1)}function vo(t,e,n,i){go(t,e,n,i),mo()}function yo(t,e,n){const i=Vt(),r=Wt(),s=t+20,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Nt(s,i),a=qr(e,t,8,"ng-container",o);return null!==o&&Ds(a,o,!0),ns(e,n,a,Nt(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];Ht(o,!0);const a=i[s]=i[11].createComment("");ur(r,i,a,o),Ri(a,i),ft(o)&&(Qr(r,i,o),Hr(r,o,i)),null!=n&&Yr(i,o)}function bo(){let t=Kt();const e=Wt();Qt()?Yt():(t=t.parent,Ht(t,!1)),e.firstCreatePass&&(Ee(e,t),dt(t)&&e.queries.elementEnd(t))}function Eo(){return Vt()}function Oo(t){return!!t&&"function"==typeof t.then}function So(t){return!!t&&"function"==typeof t.subscribe}const Co=So;function To(t,e,n=!1,i){const r=Vt(),s=Wt(),o=Kt();return function(t,e,n,i,r,s,o=!1,a){const c=ft(i),u=t.firstCreatePass&&Cs(t),l=Ss(e);let h=!0;if(3&i.type){const d=It(i,e),p=a?a(d):V,f=p.target||d,_=l.length,g=a?t=>a(Pt(t[i.index])).target:i.index;if(wt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Do(i,e,0,s,!1);const t=n.listen(p.name||f,r,s);l.push(s,t),u&&u.push(r,g,_,_+1)}}else s=Do(i,e,0,s,!0),f.addEventListener(r,s,o),l.push(s),u&&u.push(r,g,_,o)}else s=Do(i,e,0,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(r,i.index,o,-(o+1))}}}(s,r,r[11],o,t,e,n,i),To}function wo(t,e,n,i){try{return!1!==n(i)}catch(r){return Ts(t,r),!1}}function Do(t,e,n,i,r){return function n(s){if(s===Function)return i;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&vs(o);let a=wo(e,0,i,s),c=n.__ngNextListenerFn__;for(;c;)a=wo(e,0,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Po(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}function Ao(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?wr(t,s,!0):Dr(i,s))return r}else n=r}return n}function Io(t){const e=Vt()[16][6];if(!e.projection){const n=e.projection=pn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Ao(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Mo(t,e=0,n){const i=Vt(),r=Wt(),s=qr(r,20+t,16,null,n||null);null===s.projection&&(s.projection=e),Yt(),64!=(64&s.flags)&&function(t,e,n){gr(e[11],0,e,n,Zi(t,n,e),rr(n.parent||e[6],n,e))}(r,i,s)}function xo(t,e,n){return Ro(t,"",e,"",n),xo}function Ro(t,e,n,i,r){const s=Vt(),o=uo(s,e,n,i);return o!==Ir&&es(Wt(),ve(),s,t,o,s[11],r,!1),Ro}function ko(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?kr(s):jr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Lo(t[a],e)&&(c=!0,t[a+1]=i?Ur(n):Lr(n)),a=i?kr(n):jr(n)}c&&(t[n+1]=i?Lr(s):Ur(s))}function Lo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}const jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function No(t){return t.substring(jo.key,jo.keyEnd)}function Uo(t,e){const n=jo.textEnd;return n===e?-1:(e=jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,jo.key=e,n),Bo(t,e,n))}function Bo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fo(t,e,n){return Go(t,e,n,!1),Fo}function qo(t,e){return Go(t,e,null,!0),qo}function Vo(t){Ko(fn,Wo,t,!0)}function Wo(t,e){for(let n=function(t){return function(t){jo.key=0,jo.keyEnd=0,jo.value=0,jo.valueEnd=0,jo.textEnd=t.length}(t),Uo(t,Bo(t,0,jo.textEnd))}(e);n>=0;n=Uo(e,n))fn(t,No(e),!0)}function Go(t,e,n,i){const r=Vt(),s=Wt(),o=ne(2);s.firstUpdatePass&&$o(s,t,o,i),e!==Ir&&ro(r,o,e)&&Yo(s,s.data[ge()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Wn(t)))),t}(e,n),i,o)}function Ko(t,e,n,i){const r=Wt(),s=ne(2);r.firstUpdatePass&&$o(r,null,s,i);const o=Vt();if(n!==Ir&&ro(o,s,n)){const a=r.data[ge()];if(Jo(a,i)&&!zo(r,s)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),_o(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===Ir&&(r=W);let c=0,u=0,l=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=c<r.length?r[c+1]:void 0,p=u<s.length?s[u+1]:void 0;let f,_=null;l===h?(c+=2,u+=2,d!==p&&(_=h,f=p)):null===h||null!==l&&l<h?(c+=2,_=l):(u+=2,_=h,f=p),null!==_&&Yo(t,e,n,i,_,f,o,a),l=c<r.length?r[c]:null,h=u<s.length?s[u]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return W;const i=[],r=Wn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,s)}}function zo(t,e){return e>=t.expandoStartIndex}function $o(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[ge()],o=zo(t,n);Jo(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Qo(n=Ho(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Ho(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==jr(i))return t[kr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Ho(null,t,e,n[1],i),n=Qo(n,e.attrs,i),function(t,e,n,i){t[kr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Qo(i,t[s].hostAttrs,n);return Qo(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=kr(o),c=jr(o);t[i]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||gn(t,u)>0)&&(l=!0)}else u=n;if(r)if(0!==c){const e=kr(t[a+1]);t[i+1]=Rr(e,a),0!==e&&(t[e+1]=Nr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=Rr(a,0),0!==a&&(t[a+1]=Nr(t[a+1],i)),a=i;else t[i+1]=Rr(c,0),0===a?a=i:t[c+1]=Nr(t[c+1],i),c=i;l&&(t[i+1]=Lr(t[i+1])),ko(t,u,i,!0),ko(t,u,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&gn(s,e)>=0&&(n[i+1]=Ur(n[i+1]))}(e,u,t,i,s),o=Rr(a,c),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function Ho(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=Qo(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Qo(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Yo(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Zo(1==(1&u)?Xo(c,e,n,r,jr(u),o):void 0)||(Zo(s)||2==(2&u)&&(s=Xo(c,null,n,r,a,o)),function(t,e,n,i,r){const s=wt(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:ji.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=ji.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,At(ge(),n),r,s))}function Xo(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[r+1];l===Ir&&(l=u?W:void 0);let h=u?_n(l,i):c===i?l:void 0;if(s&&!Zo(h)&&(h=_n(e,i)),Zo(h)&&(a=h,o))return a;const d=t[r+1];r=o?kr(d):jr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=_n(t,i))}return a}function Zo(t){return void 0!==t}function Jo(t,e){return 0!=(t.flags&(e?16:32))}function ta(t,e=""){const n=Vt(),i=Wt(),r=t+20,s=i.firstCreatePass?qr(i,r,1,e,null):i.data[r],o=n[r]=Gi(n[11],e);ur(i,n,o,s),Ht(s,!1)}function ea(t){return na("",t,""),ea}function na(t,e,n){const i=Vt(),r=uo(i,t,e,n);return r!==Ir&&function(t,e,n){const i=At(e,t);Ki(t[11],i,n)}(i,ge(),r),na}function ia(t,e,n){Ko(fn,Wo,uo(Vt(),t,e,n),!0)}function ra(t,e,n,i,r,s,o,a,c){Ko(fn,Wo,function(t,e,n,i,r,s,o,a,c,u){const l=ao(t,te(),n,r,o,c);return ne(4),l?e+m(n)+i+m(r)+s+m(o)+a+m(c)+u:Ir}(Vt(),t,e,n,i,r,s,o,a,c),!0)}function sa(t,e,n){const i=Vt();return ro(i,ee(),e)&&es(Wt(),ve(),i,t,e,i[11],n,!0),sa}const oa=void 0;var aa=["en",[["a","p"],["AM","PM"],oa],[["AM","PM"],oa,oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oa,"{1} 'at' {0}",oa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ca={};function ua(t,e,n){"string"!=typeof e&&(n=e,e=t[fa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ca[e]=t,n&&(ca[e][fa.ExtraData]=n)}function la(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=pa(e);if(n)return n;const i=e.split("-")[0];if(n=pa(i),n)return n;if("en"===i)return aa;throw new Error(`Missing locale data for the locale "${t}".`)}function ha(t){return la(t)[fa.CurrencyCode]||null}function da(t){return la(t)[fa.PluralCase]}function pa(t){return t in ca||(ca[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),ca[t]}var fa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const _a=["zero","one","two","few","many"],ga={marker:"element"},ma={marker:"ICU"};var va=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let ya="en-US";function ba(t){var e;null==(e=t)&&b("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ya=t.toLowerCase().replace(/_/g,"-"))}function Ea(t,e,n){const i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?sr(t,0,n):Pt(n[r])}function Oa(t,e,n,i,r){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(3&e.type||(a=o,o=r),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)tr(t,o,n[s[e]],a,!1)}}function Sa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const i=t[n];Ca(i)||Ta(i,e)&&null===wa(i)&&Da(i,e.index)}}function Ca(t){return!(64&t.type)}function Ta(t,e){return Ca(e)||t.index>e.index}function wa(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Da(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(cr(Ea,Oa),t.insertBeforeIndex=e)}function Pa(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Aa(t,e,n){const i=Vr(t,n,64,null,null);return Sa(e,i),i}function Ia(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Ma=0,xa=0;function Ra(t,e,n,i){const r=n[11];let s,o=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const t=e[++a];null===n[t]&&(n[t]=Gi(r,c))}else if("number"==typeof c)switch(1&c){case 0:const u=c>>>17;let l,h;if(null===o&&(o=u,s=ir(r,i)),u===o?(l=i,h=s):(l=null,h=Pt(n[u])),null!==h){const e=(131070&c)>>>1;tr(r,h,n[e],l,!1);const i=Pa(t,e);if(null!==i&&"object"==typeof i){const e=Ia(i,n);null!==e&&Ra(t,i.create[e],n,n[i.anchorIdx])}}break;case 1:const d=e[++a],p=e[++a];ls(r,At(c>>>1,n),null,null,d,p,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case ma:const t=e[++a],i=e[++a];null===n[i]&&Ri(n[i]=zi(r,t),n);break;case ga:const s=e[++a],o=e[++a];null===n[o]&&Ri(n[o]=$i(r,s,null),n)}}}function ka(t,e,n,i,r){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&r){let r="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)r+=s;else if("number"==typeof s)if(s<0)r+=m(e[i-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],c=n[++o],u=t.data[a];"string"==typeof u?ls(e[11],e[a],null,u,s,r,c):es(t,u,e,s,r,e[11],c,!1);break;case 0:const l=e[a];null!==l&&Ki(e[11],l,r);break;case 2:ja(t,Pa(t,a),e,r);break;case 3:La(t,Pa(t,a),i,e)}}}}else{const r=n[s+1];if(r>0&&3==(3&r)){const n=Pa(t,r>>>2);e[n.currentCaseLViewIndex]<0&&La(t,n,i,e)}}s+=a}}function La(t,e,n,i){let r=i[e.currentCaseLViewIndex];if(null!==r){let s=Ma;r<0&&(r=i[e.currentCaseLViewIndex]=~r,s=-1),ka(t,i,e.update[r],n,s)}}function ja(t,e,n,i){const r=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const i=function(t,e){const n=da(e)(parseInt(t,10)),i=_a[n];return void 0!==i?i:"other"}(e,ya);n=t.cases.indexOf(i),-1===n&&"other"!==i&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,i);if(Ia(e,n)!==r&&(Na(t,e,n),n[e.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const i=n[e.anchorIdx];i&&Ra(t,e.create[r],n,i)}}function Na(t,e,n){let i=Ia(e,n);if(null!==i){const r=e.remove[i];for(let e=0;e<r.length;e++){const i=r[e];if(i>0){const t=At(i,n);null!==t&&pr(n[11],t)}else Na(t,Pa(t,~i),n)}}}const Ua=/\ufffd(\d+):?\d*\ufffd/gi,Ba=/\ufffd(\d+)\ufffd/,Fa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,qa=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Va=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Wa=/\uE500/g;function Ga(t,e,n,i,r,s,o){const a=Wr(t,i,1,null);let c=a<<va.SHIFT,u=$t();e===u&&(u=null),null===u&&(c|=va.APPEND_EAGERLY),o&&(c|=va.COMMENT,void 0===Ni&&(Ni=function(){const t=[];let e,n,i=-1;function r(t,e){i=0;const r=Ia(t,e);n=null!==r?t.remove[r]:G}function s(){if(i<n.length){const o=n[i++];return o>0?e[o]:(t.push(i,n),r(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),i=t.pop(),s())}return function(n,i){for(e=i;t.length;)t.pop();return r(n.value,i),s}}())),r.push(c,null===s?"":s);const l=Vr(t,a,o?32:1,null===s?"":s,null);Sa(n,l);const h=l.index;return Ht(l,!1),null!==u&&e!==u&&function(t,e){let n=t.insertBeforeIndex;var i;null===n?(cr(Ea,Oa),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(i=Array.isArray(n))!=!0&&b("Expecting array here",i,true,"=="),n.push(e))}(u,h),l}function Ka(t,e,n,i,r,s,o){const a=o.match(Ua),c=Ga(t,e,n,s,i,a?null:o,!1);a&&za(r,o,c.index,null,0,null)}function za(t,e,n,i,r,s){const o=t.length,a=o+1;t.push(null,null);const c=o+2,u=e.split(Ua);let l=0;for(let h=0;h<u.length;h++){const e=u[h];if(1&h){const n=r+parseInt(e,10);t.push(-1-n),l|=$a(n)}else""!==e&&t.push(e)}return t.push(n<<2|(i?1:0)),i&&t.push(i,s),t[o]=l,t[a]=t.length-c,l}function $a(t){return 1<<Math.min(t,31)}function Ha(t){let e,n,i="",r=0,s=!1;for(;null!==(e=qa.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(r=e.index,s=!1):(i+=t.substring(r,e.index+e[0].length),n=e[1],s=!0);return i+=t.substr(r),i}function Qa(t,e,n,i,r,s){let o=0;const a={type:r.type,currentCaseLViewIndex:Wr(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push($a(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,r,s),function(t,e,n){const i=t.data[e];null===i?t.data[e]=n:i.value=n}(t,s,a);const c=r.values;for(let u=0;u<c.length;u++){const s=c[u],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Za(t,a,e,n,i,r.cases[u],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function Ya(t){const e=[],n=[];let i=1,r=0;const s=Xa(t=t.replace(Fa,function(t,e,n){return i="select"===n?0:1,r=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===i&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const r=Xa(s[o++]);e.length>n.length&&n.push(r)}return{type:i,mainBinding:r,cases:e,values:n}}function Xa(t){if(!t)return[];let e=0;const n=[],i=[],r=/[{}]/g;let s;for(r.lastIndex=0;s=r.exec(t);){const r=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,r);Fa.test(n)?i.push(Ya(n)):i.push(n),e=r+1}}else{if(0==n.length){const n=t.substring(e,r);i.push(n),e=r+1}n.push("{")}}const o=t.substring(e);return i.push(o),i}function Za(t,e,n,i,r,s,o,a){const c=[],u=[],l=[];e.cases.push(s),e.create.push(c),e.remove.push(u),e.update.push(l);const h=Xn(Tt()).getInertBodyElement(o),d=Ei(h)||h;return d?Ja(t,e,n,i,c,u,l,d,r,a,0):0}function Ja(t,e,n,i,r,s,o,a,c,u,l){let h=0,d=a.firstChild;for(;d;){const a=Wr(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,f=p.tagName.toLowerCase();if(li.hasOwnProperty(f)){nc(r,ga,f,c,a),t.data[a]=f;const _=p.attributes;for(let t=0;t<_.length;t++){const e=_.item(t),n=e.name.toLowerCase();e.value.match(Ua)?pi.hasOwnProperty(n)&&za(o,e.value,a,e.name,0,hi[n]?ni:di[n]?ii:null):ic(r,a,e)}h=Ja(t,e,n,i,r,s,o,d,a,u,l+1)|h,tc(s,a,l)}break;case Node.TEXT_NODE:const _=d.textContent||"",g=_.match(Ua);nc(r,null,g?"":_,c,a),tc(s,a,l),g&&(h=za(o,_,a,null,0,null)|h);break;case Node.COMMENT_NODE:const m=Ba.exec(d.textContent||"");if(m){const e=u[parseInt(m[1],10)];nc(r,ma,"",c,a),Qa(t,n,i,c,e,a),ec(s,a,l)}}d=d.nextSibling}return h}function tc(t,e,n){0===n&&t.push(e)}function ec(t,e,n){0===n&&(t.push(~e),t.push(e))}function nc(t,e,n,i,r){null!==e&&t.push(e),t.push(n,r,0|i<<17|r<<1)}function ic(t,e,n){t.push(e<<1|1,n.name,n.value)}function rc(t,e,n){(function(t,e,n=-1){const i=Wt(),r=Vt(),s=20+t,o=Nt(i.consts,e),a=$t();i.firstCreatePass&&function(t,e,n,i,r,s){const o=$t(),a=[],c=[],u=[[]],l=(h=r=function(t,e){if(function(t){return-1===t}(e))return Ha(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,i=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ha(t.substring(n,i))}}(r,s),h.replace(Wa," ")).split(Va);var h;for(let d=0;d<l.length;d++){let i=l[d];if(0==(1&d)){const s=Xa(i);for(let i=0;i<s.length;i++){let l=s[i];if(0==(1&i)){const e=l;""!==e&&Ka(t,o,u[0],a,c,n,e)}else{const i=l;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${r}" message.`);Qa(t,n,c,e,i,Ga(t,o,u[0],n,a,"",!0).index)}}}else{const e=47===i.charCodeAt(0),n=(i.charCodeAt(e?1:0),20+Number.parseInt(i.substring(e?2:1)));if(e)u.shift(),Ht($t(),!1);else{const e=Aa(t,u[0],n);u.unshift([]),Ht(e,!0)}}}t.data[i]={create:a,update:c}}(i,null===a?0:a.index,r,s,o,n);const c=i.data[s],u=Ji(i,a===r[6]?null:a,r);!function(t,e,n,i){const r=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],c=(o&va.COMMENT)===va.COMMENT,u=(o&va.APPEND_EAGERLY)===va.APPEND_EAGERLY,l=o>>>va.SHIFT;let h=t[l];null===h&&(h=t[l]=c?r.createComment(a):Gi(r,a)),u&&null!==n&&tr(r,n,h,i,!1)}}(r,c.create,u,a&&8&a.type?r[a.index]:null),ie(!0)})(t,e,n),ie(!1)}function sc(t){return ro(Vt(),ee(),t)&&(Ma|=1<<Math.min(xa,31)),xa++,sc}function oc(t){!function(t,e,n){if(xa>0){const i=t.data[n];ka(t,e,Array.isArray(i)?i:i.update,te()-xa-1,Ma)}Ma=0,xa=0}(Wt(),Vt(),t+20)}function ac(t,e,n,i,r){if(t=f(t),Array.isArray(t))for(let s=0;s<t.length;s++)ac(t[s],e,n,i,r);else{const s=Wt(),o=Vt();let a=Vs(t)?t:f(t.provide),c=Bs(t);const u=Kt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Vs(t)||!t.multi){const i=new De(c,r,po),p=lc(a,e,r?l:l+d,h);-1===p?(We(Be(u,o),s,a),cc(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=lc(a,e,l+d,h),f=lc(a,e,l,l+d),_=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!_){We(Be(u,o),s,a);const l=function(t,e,n,i,r){const s=new De(t,n,po);return s.multi=[],s.index=e,s.componentProviders=0,uc(s,r,i&&!n),s}(r?dc:hc,n.length,r,i,c);!r&&g&&(n[f].providerFactory=l),cc(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else cc(s,t,p>-1?p:f,uc(n[r?f:p],c,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function cc(t,e,n,i){const r=Vs(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function uc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lc(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function hc(t,e,n,i){return pc(this.multi,[])}function dc(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Xe(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),pc(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],pc(r,s);return s}function pc(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fc(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Wt();if(i.firstCreatePass){const r=_t(t);ac(n,i.data,i.blueprint,r,!0),ac(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class _c{}class gc{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let mc=(()=>{class t{}return t.NULL=new gc,t})();function vc(...t){}function yc(t,e){return new Ec(It(t,e))}const bc=function(){return yc(Kt(),Vt())};let Ec=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=bc,t})();function Oc(t){return t instanceof Ec?t.nativeElement:t}class Sc{}let Cc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Tc(),t})();const Tc=function(){const t=Vt(),e=Rt(Kt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let wc=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Dc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Pc=new Dc("11.2.14");class Ac{constructor(){}supports(t){return to(t)}create(t){return new Mc(t)}}const Ic=(t,e)=>e;class Mc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ic}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Lc(n,i,r)?e:n,o=Lc(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!to(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Zs()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new xc(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new kc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class kc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Rc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lc(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class jc{constructor(){}supports(t){return t instanceof Map||eo(t)}create(){return new Nc}}class Nc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||eo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Uc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Uc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bc(){return new Fc([new Ac])}let Fc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Bc()),deps:[[t,new In,new Pn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:Bc}),t})();function qc(){return new Vc([new jc])}let Vc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||qc()),deps:[[t,new In,new Pn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:qc}),t})();function Wc(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(Pt(s)),ht(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Wc(e[1],e,n,i)}const o=n.type;if(8&o)Wc(t,e,n.child,i);else if(32&o){const t=Ui(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=hr(e,n);if(Array.isArray(t))i.push(...t);else{const n=Bi(e[16]);Wc(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class Gc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Wc(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Qi(t,n),dn(e,n))}this._attachedToViewContainer=!1}Yi(this._lView[1],this._lView)}onDestroy(t){Jr(this._lView[1],this._lView,null,t)}markForCheck(){vs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ys(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Zt(!0);try{ys(t,e,n)}finally{Zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,_r(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Kc extends Gc{constructor(t){super(t),this._view=t}detectChanges(){bs(this._view)}checkNoChanges(){!function(t){Zt(!0);try{bs(t)}finally{Zt(!1)}}(this._view)}get context(){return null}}const zc=Hc;let $c=(()=>{class t{}return t.__NG_ELEMENT_ID__=zc,t.__ChangeDetectorRef__=!0,t})();function Hc(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Rt(t.index,e);return new Gc(n,n)}return 47&t.type?new Gc(e[16],e):null}(Kt(),Vt(),t)}const Qc=[new jc],Yc=new Fc([new Ac]),Xc=new Vc(Qc),Zc=function(){return nu(Kt(),Vt())};let Jc=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zc,t})();const tu=Jc,eu=class extends tu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Fr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Gr(e,n,t),new Gc(n)}};function nu(t,e){return 4&t.type?new eu(e,t,yc(t,e)):null}class iu{}class ru{}const su=function(){return hu(Kt(),Vt())};let ou=(()=>{class t{}return t.__NG_ELEMENT_ID__=su,t})();const au=ou,cu=class extends au{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return yc(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Re(t)){const e=Le(t,this._hostLView),n=ke(t);return new tn(e[1].data[n+8],e)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=uu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(iu,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new cu(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-10?(e[4]=n[r],hn(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=dr(r,s),a=n[11],c=ir(a,s[7]);return null!==c&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,_r(t,i,n,1,r,s)}(i,s[6],a,n,c,o),t.attachToViewContainerRef(),hn(lu(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=uu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Qi(this._lContainer,e);n&&(dn(lu(this._lContainer),e),Yi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Qi(this._lContainer,e);return n&&null!=dn(lu(this._lContainer),e)?new Gc(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function uu(t){return t[8]}function lu(t){return t[8]||(t[8]=[])}function hu(t,e){let n;const i=e[t.index];if(ht(i))n=i;else{let r;if(8&t.type)r=Pt(i);else{const n=e[11];r=n.createComment("");const i=It(t,e);tr(n,ir(n,i),r,function(t,e){return wt(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=ps(i,e,r,t),ms(e,n)}return new cu(n,t,e)}const du={};class pu extends mc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new gu(e,this.ngModule)}}function fu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const _u=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ki});class gu extends _c{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ar).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return fu(this.componentDef.inputs)}get outputs(){return fu(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,du,r);return s!==du||i===du?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(Sc,Dt),o=r.get(wc,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(wt(t))return t.selectRootElement(e,n===j.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):$i(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:ki,clean:Os,playerHandler:null,flags:0},d=Zr(0,null,null,1,0,null,null,null,null,null),p=Fr(null,d,h,l,null,null,s,a,o,r);let f,_;le(p);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=qr(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Ds(a,c,!0),null!==t&&(Pe(r,t,c),null!==a.classes&&vr(r,t,a.classes),null!==a.styles&&mr(r,t,a.styles)));const u=i.createRenderer(t,e),l=Fr(n,Xr(e),null,e.onPush?64:16,n[20],a,i,u,null,null);return o.firstCreatePass&&(We(Be(a,n),o,e.type),ss(o,a),as(a,n.length,1)),ms(n,l),n[20]=l}(u,this.componentDef,p,s,a);if(u)if(n)Pe(a,u,["ng-version",Pc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!Cr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Pe(a,u,t),e&&e.length>0&&vr(a,u,e.join(" "))}if(_=Mt(d,20),void 0!==e){const t=_.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),cs(t,i,e,Wr(t,e,1,null),n));const r=Xe(e,t,i.directiveStart,i);Ri(r,e);const s=It(i,e);return s&&Ri(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),is(n[1],a,0,a.directiveStart,a.directiveEnd,e),rs(e,o)),o}(t,this.componentDef,p,h,[Ks]),Gr(d,p,null)}finally{_e()}return new mu(this.componentType,f,yc(_,p),p,_)}}class mu extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Kc(i),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const vu=new Map;class yu extends iu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pu(this);const n=ut(t),i=t[Q]||null;i&&ba(i),this._bootstrapComponents=Li(n.bootstrap),this._r3Injector=js(t,e,[{provide:iu,useValue:this},{provide:mc,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Gs.THROW_IF_NOT_FOUND,n=I.Default){return t===Gs||t===iu||t===Ps?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bu extends ru{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const i=ut(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(r,vu.get(r),n),vu.set(r,n));const s=Li(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new yu(this.moduleType,t)}}function Eu(t,e,n){const i=Jt()+t,r=Vt();return r[i]===Ir?no(r,i,n?e.call(n):e()):io(r,i)}function Ou(t,e,n,i){return Iu(Vt(),Jt(),t,e,n,i)}function Su(t,e,n,i,r){return function(t,e,n,i,r,s,o){const a=e+n;return so(t,a,r,s)?no(t,a+2,o?i.call(o,r,s):i(r,s)):Au(t,a+2)}(Vt(),Jt(),t,e,n,i,r)}function Cu(t,e,n,i,r,s){return function(t,e,n,i,r,s,o,a){const c=e+n;return oo(t,c,r,s,o)?no(t,c+3,a?i.call(a,r,s,o):i(r,s,o)):Au(t,c+3)}(Vt(),Jt(),t,e,n,i,r,s)}function Tu(t,e,n,i,r,s,o){return function(t,e,n,i,r,s,o,a,c){const u=e+n;return ao(t,u,r,s,o,a)?no(t,u+4,c?i.call(c,r,s,o,a):i(r,s,o,a)):Au(t,u+4)}(Vt(),Jt(),t,e,n,i,r,s,o)}function wu(t,e,n,i,r,s,o,a){const c=Jt()+t,u=Vt(),l=ao(u,c,n,i,r,s);return ro(u,c+4,o)||l?no(u,c+5,a?e.call(a,n,i,r,s,o):e(n,i,r,s,o)):io(u,c+5)}function Du(t,e,n,i,r,s,o,a,c){const u=Jt()+t,l=Vt(),h=ao(l,u,n,i,r,s);return so(l,u+4,o,a)||h?no(l,u+6,c?e.call(c,n,i,r,s,o,a):e(n,i,r,s,o,a)):io(l,u+6)}function Pu(t,e,n,i,r,s,o,a,c,u){const l=Jt()+t,h=Vt();let d=ao(h,l,n,i,r,s);return oo(h,l+4,o,a,c)||d?no(h,l+7,u?e.call(u,n,i,r,s,o,a,c):e(n,i,r,s,o,a,c)):io(h,l+7)}function Au(t,e){const n=t[e];return n===Ir?void 0:n}function Iu(t,e,n,i,r,s){const o=e+n;return ro(t,o,r)?no(t,o+1,s?i.call(s,r):i(r)):Au(t,o+1)}function Mu(t,e){const n=Wt();let i;const r=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=gt(i.type)),o=x(po);try{const t=Ne(!1),e=s();return Ne(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Vt(),r,e),e}finally{x(o)}}function xu(t,e,n){const i=t+20,r=Vt(),s=xt(r,i);return function(t,e){return Js.isWrapped(e)&&(e=Js.unwrap(e),t[te()]=Ir),e}(r,function(t,e){return t[1].data[e].pure}(r,i)?Iu(r,Jt(),e,s.transform,n,s):s.transform(n))}function Ru(t){return e=>{setTimeout(t,void 0,e)}}const ku=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,s,o;let a=t,c=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;a=null===(i=e.next)||void 0===i?void 0:i.bind(e),c=null===(s=e.error)||void 0===s?void 0:s.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(c=Ru(c),a&&(a=Ru(a)),u&&(u=Ru(u)));const l=super.subscribe({next:a,error:c,complete:u});return t instanceof r.a&&t.add(l),l}};function Lu(){return this._results[Zs()]()}class ju{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Zs(),n=ju.prototype;n[e]||(n[e]=Lu)}get changes(){return this._changes||(this._changes=new ku)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=un(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Nu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Nu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Uu(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Zu(t,e).matches&&this.queries[e].setDirty()}}class Bu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Fu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Fu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class qu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new qu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Vu(e,r)),this.matchTNodeWithReadOption(t,e,Ye(e,t,r,!1,!1))}else n===Jc?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Ec||i===ou||i===Jc&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Vu(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Wu(t,e,n,i){return-1===n?function(t,e){return 11&t.type?yc(t,e):4&t.type?nu(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ec?yc(e,t):n===Jc?nu(e,t):n===ou?hu(e,t):void 0}(t,e,i):Xe(t,t[1],n,e)}function Gu(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Wu(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function Ku(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=Gu(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&Ku(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Ku(n[1],n,r,i)}}}}}return i}function zu(t){const e=Vt(),n=Wt(),i=oe();ae(i+1);const r=Zu(n,i);if(t.dirty&&Lt(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Ku(n,e,i,[]):Gu(n,e,r,i);t.reset(s,Oc),t.notifyOnChanges()}return!0}return!1}function $u(t,e,n){const i=Wt();i.firstCreatePass&&(Xu(i,new Bu(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Yu(i,Vt(),e)}function Hu(t,e,n,i){const r=Wt();if(r.firstCreatePass){const s=Kt();Xu(r,new Bu(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Yu(r,Vt(),n)}function Qu(){return t=Vt(),e=oe(),t[19].queries[e].queryList;var t,e}function Yu(t,e,n){const i=new ju(4==(4&n));Jr(t,e,i,i.destroy),null===e[19]&&(e[19]=new Uu),e[19].queries.push(new Nu(i))}function Xu(t,e,n){null===t.queries&&(t.queries=new Fu),t.queries.track(new qu(e,n))}function Zu(t,e){return t.queries.getByIndex(e)}function Ju(t,e){return nu(t,e)}function tl(t=I.Default){const e=Hc(!0);if(null!=e||t&I.Optional)return e;y("ChangeDetectorRef")}const el=new on("Application Initializer");let nl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=vc,this.reject=vc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Oo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Sn(el,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const il=new on("AppId"),rl={provide:il,useFactory:function(){return`${sl()}${sl()}${sl()}`},deps:[]};function sl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ol=new on("Platform Initializer"),al=new on("Platform ID"),cl=new on("appBootstrapListener");let ul=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ll=new on("LocaleId"),hl=new on("DefaultCurrencyCode");class dl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pl=function(t){return new bu(t)},fl=pl,_l=function(t){return Promise.resolve(pl(t))},gl=function(t){const e=pl(t),n=Li(ut(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new gu(n)),t},[]);return new dl(e,n)},ml=gl,vl=function(t){return Promise.resolve(gl(t))};let yl=(()=>{class t{constructor(){this.compileModuleSync=fl,this.compileModuleAsync=_l,this.compileModuleAndAllComponentsSync=ml,this.compileModuleAndAllComponentsAsync=vl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const bl=(()=>Promise.resolve(0))();function El(t){"undefined"==typeof Zone?bl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ol{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ku(!1),this.onMicrotaskEmpty=new ku(!1),this.onStable=new ku(!1),this.onError=new ku(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tl(t),Cl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return wl(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Dl(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return wl(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Dl(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Tl(t),Cl(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ol.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ol.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Sl,vc,vc);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Sl={};function Cl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Dl(t){t._nesting--,Cl(t)}class Pl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ku,this.onMicrotaskEmpty=new ku,this.onStable=new ku,this.onError=new ku}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Al=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ol.assertNotInAngularZone(),El(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())El(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ol))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Il=(()=>{class t{constructor(){this._applications=new Map,kl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return kl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Ml{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function xl(t){kl=t}let Rl,kl=new Ml,Ll=!0,jl=!1;function Nl(){return jl=!0,Ll}function Ul(){if(jl)throw new Error("Cannot enable prod mode after platform setup.");Ll=!1}const Bl=new on("AllowMultipleToken");class Fl{constructor(t,e){this.name=t,this.token=e}}function ql(t,e,n=[]){const i=`Platform: ${e}`,r=new on(i);return(e=[])=>{let s=Vl();if(!s||s.injector.get(Bl,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Is,useValue:"platform"});!function(t){if(Rl&&!Rl.destroyed&&!Rl.injector.get(Bl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rl=t.get(Wl);const e=t.get(ol,null);e&&e.forEach(t=>t())}(Gs.create({providers:t,name:i}))}return function(t){const e=Vl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Vl(){return Rl&&!Rl.destroyed?Rl:null}let Wl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Pl:("zone.js"===t?void 0:t)||new Ol({enableLongStackTrace:Nl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Ol,useValue:n}];return n.run(()=>{const e=Gs.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(Ii,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{zl(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Oo(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(nl);return t.runInitializers(),t.donePromise.then(()=>(ba(r.injector.get(ll,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Gl({},e);return function(t,e,n){const i=new bu(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Kl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Sn(Gs))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Gl(t,e){return Array.isArray(e)?e.reduce(Gl,t):Object.assign(Object.assign({},t),e)}let Kl=(()=>{class t{constructor(t,e,n,i,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ol.assertNotInAngularZone(),El(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ol.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof _c?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(iu),r=n.create(Gs.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(Al,null),a=o&&r.injector.get(Il);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),zl(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;zl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ol),Sn(Gs),Sn(Ii),Sn(mc),Sn(nl))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function zl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $l{}class Hl{}const Ql={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Yl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ql}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Xl(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Xl(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Sn(yl),Sn(Hl,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Xl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Zl=function(t){return null},Jl=ql(null,"core",[{provide:al,useValue:"unknown"},{provide:Wl,deps:[Gs]},{provide:Il,deps:[]},{provide:ul,deps:[]}]),th=[{provide:Kl,useClass:Kl,deps:[Ol,Gs,Ii,mc,nl]},{provide:_u,deps:[Ol],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:nl,useClass:nl,deps:[[new Pn,el]]},{provide:yl,useClass:yl,deps:[]},rl,{provide:Fc,useFactory:function(){return Yc},deps:[]},{provide:Vc,useFactory:function(){return Xc},deps:[]},{provide:ll,useFactory:function(t){return ba(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Dn(ll),new Pn,new In]]},{provide:hl,useValue:"USD"}];let eh=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Sn(Kl))},t.\u0275mod=it({type:t}),t.\u0275inj=O({providers:th}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("2fFW"),r=n("NJ4a");const s={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},"h+eY":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n("mrSG"),r=n("fXoL"),s=n("LRne"),o=n("EY2u"),a=n("ofXK"),c=n("pxpQ"),u=n("eIep"),l=n("lJxs"),h=n("UXun"),d=(n("pLZG"),n("OQgR"),n("5+tZ"),n("/uUt"),n("JX91"),n("Zy1z"),n("spgP"));n("tyNb"),n("UbJi"),n("jhN1");const p=new r.r("angularfire2.analytics.analyticsCollectionEnabled"),f=new r.r("angularfire2.analytics.appVersion"),_=new r.r("angularfire2.analytics.appName"),g=new r.r("angularfire2.analytics.debugMode"),m=new r.r("angularfire2.analytics.config");let v=(()=>{class t{constructor(t,e,i,r,p,f,_,g){if(this.analyticsInitialized=new Promise(()=>{}),Object(a.A)(_)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(r&&(e[2].app_name=r),i&&(e[2].app_version=i)),p&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),f&&this.updateConfig(f),p&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const m=Object(s.a)(void 0).pipe(Object(c.b)(new d.d(g).outsideAngular),Object(u.a)(()=>Object(a.A)(_)?g.runOutsideAngular(()=>n.e(6).then(n.bind(null,"AAub"))):o.a),Object(l.a)(()=>Object(d.f)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,f,p])),Object(h.a)({bufferSize:1,refCount:!1}));return Object(d.i)(this,m,g)}updateConfig(t){return Object(i.__awaiter)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(d.c),r.cc(p,8),r.cc(f,8),r.cc(_,8),r.cc(g,8),r.cc(m,8),r.cc(r.C),r.cc(r.A))},t.\u0275prov=r.Mb({factory:function(){return new t(r.cc(d.c),r.cc(p,8),r.cc(f,8),r.cc(_,8),r.cc(g,8),r.cc(m,8),r.cc(r.C),r.cc(r.A))},token:t,providedIn:"any"}),t})();Object(d.e)(v,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]),Math.floor(Math.random()*(Math.pow(2,32)-1)),Math.pow(2,31)},itXk:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("z+Ro"),r=n("DH7j"),s=n("l7GE"),o=n("ZUHj"),a=n("yCtX");const c={};function u(...t){let e=null,n=null;return Object(i.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(r.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(c),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(o.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const s=this.values,o=this.toRespond?s[n]===c?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("quSY");function s(t,e){return new i.a(n=>{const i=new r.a;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},jhN1:function(t,e,n){"use strict";n.d(e,"a",function(){return U}),n.d(e,"b",function(){return x}),n.d(e,"c",function(){return F}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return q}),n.d(e,"f",function(){return j});var i=n("ofXK"),r=n("fXoL");class s extends i.C{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(i.G)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(i.F)(document.cookie,t)}}let a,c=null;const u=new r.r("TRANSITION_ID"),l=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=Object(i.E)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[u,i.c,r.s],multi:!0}];class h{static init(){Object(r.Z)(new h)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Object(i.E)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const d=new r.r("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(d),r.cc(r.A))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class f{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Object(i.E)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let _=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),g=(()=>{class t extends _{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(m),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(m))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(i.c))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();function m(t){Object(i.E)().remove(t)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},y=/%COMP%/g;function b(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?b(t,r,n):(r=r.replace(y,t),n.push(r))}return n}function E(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let O=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new S(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new T(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=b(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.cc(p),r.cc(g),r.cc(r.c))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class S{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(v[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=v[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=v[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,E(n)):this.eventManager.addEventListener(t,e,E(n))}}class C extends S{constructor(t,e,n,i){super(t),this.component=n;const r=b(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(y,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(y,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class T extends S{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=b(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let w=(()=>{class t extends f{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(i.c))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const D=["alt","control","meta","shift"],P={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let M=(()=>{class t extends f{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(i.E)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(D.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&A.hasOwnProperty(e)&&(e=A[e]))}return P[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),D.forEach(i=>{i!=n&&(0,I[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(i.c))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return Object(r.cc)(k)},token:t,providedIn:"root"}),t})();function R(t){return new k(t.get(i.c))}let k=(()=>{class t extends x{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.gb)(e,"HTML")?Object(r.zb)(e):Object(r.eb)(this._doc,String(e)).toString();case r.I.STYLE:return Object(r.gb)(e,"Style")?Object(r.zb)(e):e;case r.I.SCRIPT:if(Object(r.gb)(e,"Script"))return Object(r.zb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.qb)(e),Object(r.gb)(e,"URL")?Object(r.zb)(e):Object(r.fb)(String(e));case r.I.RESOURCE_URL:if(Object(r.gb)(e,"ResourceURL"))return Object(r.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.hb)(t)}bypassSecurityTrustStyle(t){return Object(r.kb)(t)}bypassSecurityTrustScript(t){return Object(r.jb)(t)}bypassSecurityTrustUrl(t){return Object(r.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(i.c))},t.\u0275prov=Object(r.Mb)({factory:function(){return R(Object(r.cc)(r.o))},token:t,providedIn:"root"}),t})();const L=[{provide:r.C,useValue:i.D},{provide:r.D,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:i.c,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],j=Object(r.T)(r.Y,"browser",L),N=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:d,useClass:w,multi:!0,deps:[i.c,r.A,r.C]},{provide:d,useClass:M,multi:!0,deps:[i.c]},[],{provide:O,useClass:O,deps:[p,g,r.c]},{provide:r.F,useExisting:O},{provide:_,useExisting:g},{provide:g,useClass:g,deps:[i.c]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:p,useClass:p,deps:[d,r.A]},[]];let U=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:u,useExisting:r.c},l]}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(t,12))},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:N,imports:[i.b,r.f]}),t})();function B(){return new F(Object(r.cc)(i.c))}let F=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.cc(i.c))},t.\u0275prov=Object(r.Mb)({factory:B,token:t,providedIn:"root"}),t})();function q(t){return t}"undefined"!=typeof window&&window;let V=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const n=new t;return n.store=e,n}get(t,e){return void 0!==this.store[t]?this.store[t]:e}set(t,e){this.store[t]=e}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}onSerialize(t,e){this.onSerializeCallbacks[t]=e}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})()},jtHE:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("XNiG"),r=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),c=n("Ylt2");class u extends i.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let u;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?u=s.a.EMPTY:(this.observers.push(t),u=new c.a(this,t)),i&&t.add(t=new o.a(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||r.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kgNN:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return function(t){return t.lift(new s)}}class s{call(t,e){return e.subscribe(new o(t))}}class o extends i.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}},l5mm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("D0XW"),s=n("Y7HM");function o(t=0,e=r.a){return(!Object(s.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=r.a),new i.a(n=>(n.add(e.schedule(a,t,{subscriber:n,counter:0,period:t})),n))}function a(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");class r extends i.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},l7P3:function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return T}),n.d(e,"c",function(){return P}),n.d(e,"d",function(){return N}),n.d(e,"e",function(){return j}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return L}),n.d(e,"i",function(){return B}),n.d(e,"j",function(){return R}),n.d(e,"k",function(){return U}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return A});var i=n("fXoL"),r=n("2Vo4"),s=n("HDdC"),o=n("XNiG"),a=(n("qgXg"),n("pxpQ"),n("zp1y"),n("Kqap"),n("lJxs")),c=n("/uUt");const u={};function l(t,e){if(u[t]=(u[t]||0)+1,"function"==typeof e)return d(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return d(t,()=>({type:t}));case"props":return d(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function h(){return{_as:"props",_p:void 0}}function d(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}let p=(()=>{class t extends r.a{constructor(){super({type:"@ngrx/store/init"})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const f=new i.r("@ngrx/store Internal Root Guard"),_=(new i.r("@ngrx/store Internal Initial State"),new i.r("@ngrx/store Initial State")),g=new i.r("@ngrx/store Reducer Factory"),m=(new i.r("@ngrx/store Internal Reducer Factory Provider"),new i.r("@ngrx/store Initial Reducers")),v=(new i.r("@ngrx/store Internal Initial Reducers"),new i.r("@ngrx/store Store Features"),new i.r("@ngrx/store Internal Store Reducers"),new i.r("@ngrx/store Internal Feature Reducers"),new i.r("@ngrx/store Internal Feature Configs"),new i.r("@ngrx/store Internal Store Features")),y=(new i.r("@ngrx/store Internal Feature Reducers Token"),new i.r("@ngrx/store Feature Reducers")),b=(new i.r("@ngrx/store User Provided Meta Reducers"),new i.r("@ngrx/store Meta Reducers"),new i.r("@ngrx/store Internal Resolved Meta Reducers"),new i.r("@ngrx/store User Runtime Checks Config"),new i.r("@ngrx/store Internal User Runtime Checks Config"),new i.r("@ngrx/store Internal Runtime Checks"),new i.r("@ngrx/store Check if Action types are unique"));function E(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}class O extends s.a{}class S extends p{}let C=(()=>{class t extends r.a{constructor(t,e,n,i){super(i(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=i}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:i,initialState:r,key:s})=>{const o="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?E(...t):t=>t;return(t,n)=>(t=e(t),(e,i)=>t(e=void 0===e?n:e,i))}(i)(e,r):function(t,e){return Array.isArray(e)&&e.length>0&&(t=E.apply(null,[...e,t])),(e,n)=>{const i=t(e);return(t,e)=>i(t=void 0===t?n:t,e)}}(n,i)(e,r);return t[s]=o,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.cc(S),i.cc(_),i.cc(m),i.cc(g))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),T=(()=>{class t extends o.a{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return w(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const w=i.Xb(T);class D extends s.a{}let P=(()=>{class t extends s.a{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return A.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(D),i.cc(p),i.cc(C))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();function A(t,e,...n){return function(i){let r;if("string"==typeof t){const s=[e,...n].filter(Boolean);r=i.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(a.a)(function(t,e){return n=>{let i=n;for(let r=0;r<e;r++){const e=i[t[r]];if(void 0===e)return;i=e}return i}}(t,e))(n)}(t,...s))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);r=i.pipe(Object(a.a)(n=>t(n,e)))}return r.pipe(Object(c.a)())}}function I(t,e){return t===e}function M(t,e,n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function x(t,e=I,n=I){let i,r=null,s=null;return{memoized:function(){if(void 0!==i)return i.result;if(!r)return s=t.apply(null,arguments),r=arguments,s;if(!M(arguments,r,e))return s;const o=t.apply(null,arguments);return r=arguments,n(s,o)?s:(s=o,o)},reset:function(){r=null,s=null},setResult:function(t){i={result:t}},clearResult:function(){i=void 0}}}function R(...t){return function(t,e={stateFn:k}){return function(...n){let i=n;if(Array.isArray(i[0])){const[t,...e]=i;i=[...t,...e]}const r=i.slice(0,i.length-1),s=i[i.length-1],o=r.filter(t=>t.release&&"function"==typeof t.release),a=t(function(...t){return s.apply(null,t)}),c=x(function(t,n){return e.stateFn.apply(null,[t,r,n,a])});return Object.assign(c.memoized,{release:function(){c.reset(),a.reset(),o.forEach(t=>t.release())},projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}(x)(...t)}function k(t,e,n,i){if(void 0===n){const n=e.map(e=>e(t));return i.memoized.apply(null,n)}const r=e.map(e=>e(t,n));return i.memoized.apply(null,[...r,n])}function L(t){return R(e=>{const n=e[t];return!Object(i.X)()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}let j=(()=>{class t{constructor(t,e,n,i,r,s){}}return t.\u0275fac=function(e){return new(e||t)(i.cc(p),i.cc(O),i.cc(T),i.cc(P),i.cc(f,8),i.cc(b,8))},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({}),t})(),N=(()=>{class t{constructor(t,e,n,i,r){this.features=t,this.featureReducers=e,this.reducerManager=n;const s=t.map((t,n)=>{const i=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:i,initialState:(r=t.initialState,"function"==typeof r?r():r)});var r});n.addFeatures(s)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(v),i.cc(y),i.cc(C),i.cc(j),i.cc(b,8))},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({}),t})();function U(...t){return{reducer:t.pop(),types:t.map(t=>t.type)}}function B(t,...e){const n=new Map;for(let i of e)for(let t of i.types){const e=n.get(t);n.set(t,e?(t,n)=>i.reducer(e(t,n),n):i.reducer)}return function(e=t,i){const r=n.get(i.type);return r?r(e,i):e}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lPHp:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,root,factory;"undefined"!=typeof navigator&&(root=window||{},factory=function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){var e,n=createSizedArray(t.length),i=t.length;for(e=0;e<i;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,i){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=i<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,i){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=i<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e,this.currentTime=currentTime}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+ ++_count}),_count;function HSVtoRGB(t,e,n){var i,r,s,o,a,c,u,l;switch(c=n*(1-e),u=n*(1-(a=6*t-(o=Math.floor(6*t)))*e),l=n*(1-(1-a)*e),o%6){case 0:i=n,r=l,s=c;break;case 1:i=u,r=n,s=c;break;case 2:i=c,r=n,s=l;break;case 3:i=c,r=u,s=n;break;case 4:i=l,r=c,s=n;break;case 5:i=n,r=c,s=u}return[i,r,s]}function RGBtoHSV(t,e,n){var i,r=Math.max(t,e,n),s=Math.min(t,e,n),o=r-s,a=0===r?0:o/r,c=r/255;switch(r){case s:i=0;break;case t:i=e-n+o*(e<n?6:0),i/=6*o;break;case e:i=n-t+2*o,i/=6*o;break;case n:i=t-e+4*o,i/=6*o}return[i,a,c]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=1==e.length?"0"+e:e;return function(t,e,i){return t<0&&(t=0),e<0&&(e=0),i<0&&(i=0),"#"+n[t]+n[e]+n[i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t].length,i=0;i<n;i++)this._cbs[t][i](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,i=this._cbs[t].length;n<i;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,i-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var n,i=0,r=[];switch(t){case"int16":case"uint8c":n=1;break;default:n=1.1}for(i=0;i<e;i+=1)r.push(n);return r};function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,i=Math.round;function r(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(n){if(0===n)return this;var i=t(n),r=e(n);return this._t(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1)}function o(n){if(0===n)return this;var i=t(n),r=e(n);return this._t(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1)}function a(n){if(0===n)return this;var i=t(n),r=e(n);return this._t(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1)}function c(n){if(0===n)return this;var i=t(n),r=e(n);return this._t(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1)}function u(t,e){return this._t(1,e,t,1,0,0)}function l(t,e){return this.shear(n(t),n(e))}function h(i,r){var s=t(r),o=e(r);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(i),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function d(t,e,n){return n||0===n||(n=1),1===t&&1===e&&1===n?this:this._t(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}function p(t,e,n,i,r,s,o,a,c,u,l,h,d,p,f,_){return this.props[0]=t,this.props[1]=e,this.props[2]=n,this.props[3]=i,this.props[4]=r,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=c,this.props[9]=u,this.props[10]=l,this.props[11]=h,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=_,this}function f(t,e,n){return n=n||0,0!==t||0!==e||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1):this}function _(t,e,n,i,r,s,o,a,c,u,l,h,d,p,f,_){var g=this.props;if(1===t&&0===e&&0===n&&0===i&&0===r&&1===s&&0===o&&0===a&&0===c&&0===u&&1===l&&0===h)return g[12]=g[12]*t+g[15]*d,g[13]=g[13]*s+g[15]*p,g[14]=g[14]*l+g[15]*f,g[15]=g[15]*_,this._identityCalculated=!1,this;var m=g[0],v=g[1],y=g[2],b=g[3],E=g[4],O=g[5],S=g[6],C=g[7],T=g[8],w=g[9],D=g[10],P=g[11],A=g[12],I=g[13],M=g[14],x=g[15];return g[0]=m*t+v*r+y*c+b*d,g[1]=m*e+v*s+y*u+b*p,g[2]=m*n+v*o+y*l+b*f,g[3]=m*i+v*a+y*h+b*_,g[4]=E*t+O*r+S*c+C*d,g[5]=E*e+O*s+S*u+C*p,g[6]=E*n+O*o+S*l+C*f,g[7]=E*i+O*a+S*h+C*_,g[8]=T*t+w*r+D*c+P*d,g[9]=T*e+w*s+D*u+P*p,g[10]=T*n+w*o+D*l+P*f,g[11]=T*i+w*a+D*h+P*_,g[12]=A*t+I*r+M*c+x*d,g[13]=A*e+I*s+M*u+x*p,g[14]=A*n+I*o+M*l+x*f,g[15]=A*i+I*a+M*h+x*_,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function m(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function y(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,n){return{x:t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}}function E(t,e,n){return t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12]}function O(t,e,n){return t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13]}function S(t,e,n){return t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}function C(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,n=-this.props[1]/t,i=-this.props[4]/t,r=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,a=new Matrix;return a.props[0]=e,a.props[1]=n,a.props[4]=i,a.props[5]=r,a.props[12]=s,a.props[13]=o,a}function T(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function w(t){var e,n=t.length,i=[];for(e=0;e<n;e+=1)i[e]=T(t[e]);return i}function D(t,e,n){var i=createTypedArray("float32",6);if(this.isIdentity())i[0]=t[0],i[1]=t[1],i[2]=e[0],i[3]=e[1],i[4]=n[0],i[5]=n[1];else{var r=this.props[0],s=this.props[1],o=this.props[4],a=this.props[5],c=this.props[12],u=this.props[13];i[0]=t[0]*r+t[1]*o+c,i[1]=t[0]*s+t[1]*a+u,i[2]=e[0]*r+e[1]*o+c,i[3]=e[0]*s+e[1]*a+u,i[4]=n[0]*r+n[1]*o+c,i[5]=n[0]*s+n[1]*a+u}return i}function P(t,e,n){return this.isIdentity()?[t,e,n]:[t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]]}function A(t,e){if(this.isIdentity())return t+","+e;var n=this.props;return Math.round(100*(t*n[0]+e*n[4]+n[12]))/100+","+Math.round(100*(t*n[1]+e*n[5]+n[13]))/100}function I(){for(var t=0,e=this.props,n="matrix3d(";t<16;)n+=i(1e4*e[t])/1e4,n+=15===t?")":",",t+=1;return n}function M(t){return t<1e-6&&t>0||t>-1e-6&&t<0?i(1e4*t)/1e4:t}function x(){var t=this.props;return"matrix("+M(t[0])+","+M(t[1])+","+M(t[4])+","+M(t[5])+","+M(t[12])+","+M(t[13])+")"}return function(){this.reset=r,this.rotate=s,this.rotateX=o,this.rotateY=a,this.rotateZ=c,this.skew=l,this.skewFromAxis=h,this.shear=u,this.scale=d,this.setTransform=p,this.translate=f,this.transform=_,this.applyToPoint=b,this.applyToX=E,this.applyToY=O,this.applyToZ=S,this.applyToPointArray=P,this.applyToTriplePoints=D,this.applyToPointStringified=A,this.toCSS=I,this.to2dCSS=x,this.clone=v,this.cloneFromProps=y,this.equals=m,this.inversePoints=w,this.inversePoint=T,this.getInverseMatrix=C,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){var n=this,i=e.pow(256,6),r=e.pow(2,52),s=2*r;function o(t){var e,n=t.length,i=this,r=0,s=i.i=i.j=0,o=i.S=[];for(n||(t=[n++]);r<256;)o[r]=r++;for(r=0;r<256;r++)o[r]=o[s=255&s+t[r%n]+(e=o[r])],o[s]=e;i.g=function(t){for(var e,n=0,r=i.i,s=i.j,o=i.S;t--;)e=o[r=255&r+1],n=256*n+o[255&(o[r]=o[s=255&s+e])+(o[s]=e)];return i.i=r,i.j=s,n}}function a(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function c(t,e){var n,i=[],r=typeof t;if(e&&"object"==r)for(n in t)try{i.push(c(t[n],e-1))}catch(s){}return i.length?i:"string"==r?t:t+"\0"}function u(t,e){for(var n,i=t+"",r=0;r<i.length;)e[255&r]=255&(n^=19*e[255&r])+i.charCodeAt(r++);return l(e)}function l(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(h,d,p){var f=[],_=u(c((d=!0===d?{entropy:!0}:d||{}).entropy?[h,l(t)]:null===h?function(){try{var e=new Uint8Array(256);return(n.crypto||n.msCrypto).getRandomValues(e),l(e)}catch(s){var i=n.navigator,r=i&&i.plugins;return[+new Date,n,r,n.screen,l(t)]}}():h,3),f),g=new o(f),m=function(){for(var t=g.g(6),e=i,n=0;t<r;)t=256*(t+n),e*=256,n=g.g(1);for(;t>=s;)t/=2,e/=2,n>>>=1;return(t+n)/e};return m.int32=function(){return 0|g.g(4)},m.quick=function(){return g.g(4)/4294967296},m.double=m,u(l(g.S),t),(d.pass||p||function(t,n,i,r){return r&&(r.S&&a(r,g),t.state=function(){return a(g,{})}),i?(e.random=t,n):t})(m,_,"global"in d?d.global:this==e,d.state)},u(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,n,i,r,s){var o=s||("bez_"+t+"_"+n+"_"+i+"_"+r).replace(/\./g,"p");if(e[o])return e[o];var a=new c([t,n,i,r]);return e[o]=a,a}},e={},n="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function r(t,e){return 3*e-6*t}function s(t){return 3*t}function o(t,e,n){return((i(e,n)*t+r(e,n))*t+s(e))*t}function a(t,e,n){return 3*i(e,n)*t*t+2*r(e,n)*t+s(e)}function c(t){this._p=t,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(t){var e=this._p[0],n=this._p[1],i=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),e===n&&i===r?t:0===t?0:1===t?1:o(this._getTForX(t),n,r)},_precompute:function(){var t=this._p[0],e=this._p[1],n=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&n===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=o(.1*n,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],i=this._mSampleValues,r=0,s=1;10!==s&&i[s]<=t;++s)r+=.1;var c=r+(t-i[--s])/(i[s+1]-i[s])*.1,u=a(c,e,n);return u>=.001?function(t,e,n,i){for(var r=0;r<4;++r){var s=a(e,n,i);if(0===s)return e;e-=(o(e,n,i)-t)/s}return e}(t,c,e,n):0===u?c:function(t,e,n,i,r){var s,a,c=0;do{(s=o(a=e+(n-e)/2,i,r)-t)>0?n=a:e=a}while(Math.abs(s)>1e-7&&++c<10);return a}(t,r,r+.1,e,n)}},t}();function extendPrototype(t,e){var n,i,r=t.length;for(n=0;n<r;n+=1)for(var s in i=t[n].prototype)i.hasOwnProperty(s)&&(e.prototype[s]=i[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function t(t,e,n,i,r,s){var o=t*i+e*r+n*s-r*i-s*t-n*e;return o>-.001&&o<.001}Math;var e=function(t,e,n,i){var r,s,o,a,c,u,l=defaultCurveSegments,h=0,d=[],p=[],f=bezier_length_pool.newElement();for(o=n.length,r=0;r<l;r+=1){for(c=r/(l-1),u=0,s=0;s<o;s+=1)a=bm_pow(1-c,3)*t[s]+3*bm_pow(1-c,2)*c*n[s]+3*(1-c)*bm_pow(c,2)*i[s]+bm_pow(c,3)*e[s],d[s]=a,null!==p[s]&&(u+=bm_pow(d[s]-p[s],2)),p[s]=d[s];u&&(h+=u=bm_sqrt(u)),f.percents[r]=c,f.lengths[r]=h}return f.addedLength=h,f};function n(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}var r,s=(r={},function(e,s,o,a){var c=(e[0]+"_"+e[1]+"_"+s[0]+"_"+s[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!r[c]){var u,l,h,d,p,f,_,g=defaultCurveSegments,m=0,v=null;2===e.length&&(e[0]!=s[0]||e[1]!=s[1])&&t(e[0],e[1],s[0],s[1],e[0]+o[0],e[1]+o[1])&&t(e[0],e[1],s[0],s[1],s[0]+a[0],s[1]+a[1])&&(g=2);var y=new n(g);for(h=o.length,u=0;u<g;u+=1){for(_=createSizedArray(h),p=u/(g-1),f=0,l=0;l<h;l+=1)d=bm_pow(1-p,3)*e[l]+3*bm_pow(1-p,2)*p*(e[l]+o[l])+3*(1-p)*bm_pow(p,2)*(s[l]+a[l])+bm_pow(p,3)*s[l],_[l]=d,null!==v&&(f+=bm_pow(_[l]-v[l],2));m+=f=bm_sqrt(f),y.points[u]=new i(f,_),v=_}y.segmentLength=m,r[c]=y}return r[c]});function o(t,e){var n=e.percents,i=e.lengths,r=n.length,s=bm_floor((r-1)*t),o=t*e.addedLength,a=0;if(s===r-1||0===s||o===i[s])return n[s];for(var c=i[s]>o?-1:1,u=!0;u;)if(i[s]<=o&&i[s+1]>o?(a=(o-i[s])/(i[s+1]-i[s]),u=!1):s+=c,s<0||s>=r-1){if(s===r-1)return n[s];u=!1}return n[s]+(n[s+1]-n[s])*a}var a=createTypedArray("float32",8);return{getSegmentsLength:function(t){var n,i=segments_length_pool.newElement(),r=t.c,s=t.v,o=t.o,a=t.i,c=t._length,u=i.lengths,l=0;for(n=0;n<c-1;n+=1)u[n]=e(s[n],s[n+1],o[n],a[n+1]),l+=u[n].addedLength;return r&&c&&(u[n]=e(s[n],s[0],o[n],a[0]),l+=u[n].addedLength),i.totalLength=l,i},getNewSegment:function(t,e,n,i,r,s,c){var u,l=o(r=r<0?0:r>1?1:r,c),h=o(s=s>1?1:s,c),d=t.length,p=1-l,f=1-h,_=p*p*p,g=l*p*p*3,m=l*l*p*3,v=l*l*l,y=p*p*f,b=l*p*f+p*l*f+p*p*h,E=l*l*f+p*l*h+l*p*h,O=l*l*h,S=p*f*f,C=l*f*f+p*h*f+p*f*h,T=l*h*f+p*h*h+l*f*h,w=l*h*h,D=f*f*f,P=h*f*f+f*h*f+f*f*h,A=h*h*f+f*h*h+h*f*h,I=h*h*h;for(u=0;u<d;u+=1)a[4*u]=Math.round(1e3*(_*t[u]+g*n[u]+m*i[u]+v*e[u]))/1e3,a[4*u+1]=Math.round(1e3*(y*t[u]+b*n[u]+E*i[u]+O*e[u]))/1e3,a[4*u+2]=Math.round(1e3*(S*t[u]+C*n[u]+T*i[u]+w*e[u]))/1e3,a[4*u+3]=Math.round(1e3*(D*t[u]+P*n[u]+A*i[u]+I*e[u]))/1e3;return a},getPointInSegment:function(t,e,n,i,r,s){var a=o(r,s),c=1-a;return[Math.round(1e3*(c*c*c*t[0]+(a*c*c+c*a*c+c*c*a)*n[0]+(a*a*c+c*a*a+a*c*a)*i[0]+a*a*a*e[0]))/1e3,Math.round(1e3*(c*c*c*t[1]+(a*c*c+c*a*c+c*c*a)*n[1]+(a*a*c+c*a*a+a*c*a)*i[1]+a*a*a*e[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(e,n,i,r,s,o,a,c,u){if(0===i&&0===o&&0===u)return t(e,n,r,s,a,c);var l,h=Math.sqrt(Math.pow(r-e,2)+Math.pow(s-n,2)+Math.pow(o-i,2)),d=Math.sqrt(Math.pow(a-e,2)+Math.pow(c-n,2)+Math.pow(u-i,2)),p=Math.sqrt(Math.pow(a-r,2)+Math.pow(c-s,2)+Math.pow(u-o,2));return(l=h>d?h>p?h-d-p:p-d-h:p>d?p-d-h:d-h-p)>-1e-4&&l<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),s=setTimeout(function(){e(i+r)},r);return t=i+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(r,s,o){var a,c,u,l,h,d,p,f=r.length;for(c=0;c<f;c+=1)if("ks"in(a=r[c])&&!a.completed){if(a.completed=!0,a.tt&&(r[c-1].td=a.tt),a.hasMask){var _=a.masksProperties;for(l=_.length,u=0;u<l;u+=1)if(_[u].pt.k.i)i(_[u].pt.k);else for(d=_[u].pt.k.length,h=0;h<d;h+=1)_[u].pt.k[h].s&&i(_[u].pt.k[h].s[0]),_[u].pt.k[h].e&&i(_[u].pt.k[h].e[0])}0===a.ty?(a.layers=e(a.refId,s),t(a.layers,s,o)):4===a.ty?n(a.shapes):5==a.ty&&(0!==(p=a).t.a.length||"m"in p.t.p||(p.singleShape=!0))}}function e(t,e){for(var n=0,i=e.length;n<i;){if(e[n].id===t)return e[n].layers.__used?JSON.parse(JSON.stringify(e[n].layers)):(e[n].layers.__used=!0,e[n].layers);n+=1}}function n(t){var e,r,s;for(e=t.length-1;e>=0;e-=1)if("sh"==t[e].ty)if(t[e].ks.k.i)i(t[e].ks.k);else for(s=t[e].ks.k.length,r=0;r<s;r+=1)t[e].ks.k[r].s&&i(t[e].ks.k[r].s[0]),t[e].ks.k[r].e&&i(t[e].ks.k[r].e[0]);else"gr"==t[e].ty&&n(t[e].it)}function i(t){var e,n=t.i.length;for(e=0;e<n;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function r(t,e){var n=e?e.split("."):[100,100,100];return t[0]>n[0]||!(n[0]>t[0])&&(t[1]>n[1]||!(n[1]>t[1])&&(t[2]>n[2]||!(n[2]>t[2])&&void 0))}var s,o=function(){var t=[4,4,14];function e(t){var e,n,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&((n=t[e]).t.d={k:[{s:n.t.d,t:0}]})}return function(n){if(r(t,n.v)&&(e(n.layers),n.assets)){var i,s=n.assets.length;for(i=0;i<s;i+=1)n.assets[i].layers&&e(n.assets[i].layers)}}}(),a=(s=[4,7,99],function(t){if(t.chars&&!r(s,t.v)){var e,n,o,a,c,u=t.chars.length;for(e=0;e<u;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(o=(c=t.chars[e].data.shapes[0].it).length,n=0;n<o;n+=1)(a=c[n].ks.k).__converted||(i(c[n].ks.k),a.__converted=!0)}}),c=function(){var t=[4,1,9];function e(t){var n,i,r,s=t.length;for(n=0;n<s;n+=1)if("gr"===t[n].ty)e(t[n].it);else if("fl"===t[n].ty||"st"===t[n].ty)if(t[n].c.k&&t[n].c.k[0].i)for(r=t[n].c.k.length,i=0;i<r;i+=1)t[n].c.k[i].s&&(t[n].c.k[i].s[0]/=255,t[n].c.k[i].s[1]/=255,t[n].c.k[i].s[2]/=255,t[n].c.k[i].s[3]/=255),t[n].c.k[i].e&&(t[n].c.k[i].e[0]/=255,t[n].c.k[i].e[1]/=255,t[n].c.k[i].e[2]/=255,t[n].c.k[i].e[3]/=255);else t[n].c.k[0]/=255,t[n].c.k[1]/=255,t[n].c.k[2]/=255,t[n].c.k[3]/=255}function n(t){var n,i=t.length;for(n=0;n<i;n+=1)4===t[n].ty&&e(t[n].shapes)}return function(e){if(r(t,e.v)&&(n(e.layers),e.assets)){var i,s=e.assets.length;for(i=0;i<s;i+=1)e.assets[i].layers&&n(e.assets[i].layers)}}}(),u=function(){var t=[4,4,18];function e(t){var n,i,r;for(n=t.length-1;n>=0;n-=1)if("sh"==t[n].ty)if(t[n].ks.k.i)t[n].ks.k.c=t[n].closed;else for(r=t[n].ks.k.length,i=0;i<r;i+=1)t[n].ks.k[i].s&&(t[n].ks.k[i].s[0].c=t[n].closed),t[n].ks.k[i].e&&(t[n].ks.k[i].e[0].c=t[n].closed);else"gr"==t[n].ty&&e(t[n].it)}function n(t){var n,i,r,s,o,a,c=t.length;for(i=0;i<c;i+=1){if((n=t[i]).hasMask){var u=n.masksProperties;for(s=u.length,r=0;r<s;r+=1)if(u[r].pt.k.i)u[r].pt.k.c=u[r].cl;else for(a=u[r].pt.k.length,o=0;o<a;o+=1)u[r].pt.k[o].s&&(u[r].pt.k[o].s[0].c=u[r].cl),u[r].pt.k[o].e&&(u[r].pt.k[o].e[0].c=u[r].cl)}4===n.ty&&e(n.shapes)}}return function(e){if(r(t,e.v)&&(n(e.layers),e.assets)){var i,s=e.assets.length;for(i=0;i<s;i+=1)e.assets[i].layers&&n(e.assets[i].layers)}}}(),l={completeData:function(e,n){e.__complete||(c(e),o(e),a(e),u(e),t(e.layers,e.assets,n),e.__complete=!0)}};return l.checkColors=c,l.checkChars=a,l.checkShapes=u,l.completeLayers=t,l}var dataManager=dataFunctionManager(),FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function n(t,e){var n=createTag("span");n.style.fontFamily=e;var i=createTag("span");i.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(i),document.body.appendChild(n);var r=i.offsetWidth;return i.style.fontFamily=function(t){var e,n=t.split(","),i=n.length,r=[];for(e=0;e<i;e+=1)"sans-serif"!==n[e]&&"monospace"!==n[e]&&r.push(n[e]);return r.join(",")}(t)+", "+e,{node:i,w:r,parent:n}}function i(t,e){var n=createNS("text");return n.style.fontSize="100px",n.setAttribute("font-family",e.fFamily),n.setAttribute("font-style",e.fStyle),n.setAttribute("font-weight",e.fWeight),n.textContent="1",e.fClass?(n.style.fontFamily="inherit",n.setAttribute("class",e.fClass)):n.style.fontFamily=e.fFamily,t.appendChild(n),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,n}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return r.getCombinedCharacterCodes=function(){return e},r.prototype={addChars:function(t){if(t){this.chars||(this.chars=[]);var e,n,i,r=t.length,s=this.chars.length;for(e=0;e<r;e+=1){for(n=0,i=!1;n<s;)this.chars[n].style===t[e].style&&this.chars[n].fFamily===t[e].fFamily&&this.chars[n].ch===t[e].ch&&(i=!0),n+=1;i||(this.chars.push(t[e]),s+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var r,s=t.list,o=s.length,a=o;for(r=0;r<o;r+=1){var c,u,l=!0;if(s[r].loaded=!1,s[r].monoCase=n(s[r].fFamily,"monospace"),s[r].sansCase=n(s[r].fFamily,"sans-serif"),s[r].fPath){if("p"===s[r].fOrigin||3===s[r].origin){if((c=document.querySelectorAll('style[f-forigin="p"][f-family="'+s[r].fFamily+'"], style[f-origin="3"][f-family="'+s[r].fFamily+'"]')).length>0&&(l=!1),l){var h=createTag("style");h.setAttribute("f-forigin",s[r].fOrigin),h.setAttribute("f-origin",s[r].origin),h.setAttribute("f-family",s[r].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+s[r].fFamily+"; font-style: normal; src: url('"+s[r].fPath+"');}",e.appendChild(h)}}else if("g"===s[r].fOrigin||1===s[r].origin){for(c=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),u=0;u<c.length;u++)-1!==c[u].href.indexOf(s[r].fPath)&&(l=!1);if(l){var d=createTag("link");d.setAttribute("f-forigin",s[r].fOrigin),d.setAttribute("f-origin",s[r].origin),d.type="text/css",d.rel="stylesheet",d.href=s[r].fPath,document.body.appendChild(d)}}else if("t"===s[r].fOrigin||2===s[r].origin){for(c=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),u=0;u<c.length;u++)s[r].fPath===c[u].src&&(l=!1);if(l){var p=createTag("link");p.setAttribute("f-forigin",s[r].fOrigin),p.setAttribute("f-origin",s[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",s[r].fPath),e.appendChild(p)}}}else s[r].loaded=!0,a-=1;s[r].helper=i(e,s[r]),s[r].cache={},this.fonts.push(s[r])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,n,i){for(var r=0,s=this.chars.length;r<s;){if(this.chars[r].ch===e&&this.chars[r].style===n&&this.chars[r].fFamily===i)return this.chars[r];r+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",e,n,i),t},getFontByName:function(t){for(var e=0,n=this.fonts.length;e<n;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,n){var i=this.getFontByName(e),r=t.charCodeAt(0);if(!i.cache[r+1]){var s=i.helper;if(" "===t){s.textContent="|"+t+"|";var o=s.getComputedTextLength();s.textContent="||";var a=s.getComputedTextLength();i.cache[r+1]=(o-a)/100}else s.textContent=t,i.cache[r+1]=s.getComputedTextLength()/100}return i.cache[r+1]*n},checkLoadedFonts:function(){var t,e=this.fonts.length,n=e;for(t=0;t<e;t+=1)this.fonts[t].loaded?n-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:((this.fonts[t].monoCase.node.offsetWidth!==this.fonts[t].monoCase.w||this.fonts[t].sansCase.node.offsetWidth!==this.fonts[t].sansCase.w)&&(n-=1,this.fonts[t].loaded=!0),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},r}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function n(t,e){var n,r=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var s,o,a,c,u,l,h,d,p=e.lastIndex,f=p,_=this.keyframes.length-1,g=!0;g;){if(s=this.keyframes[f],o=this.keyframes[f+1],f===_-1&&t>=o.t-r){s.h&&(s=o),p=0;break}if(o.t-r>t){p=f;break}f<_-1?f+=1:(p=0,g=!1)}var m,v,y,b,E,O,S,C,T,w,D=o.t-r,P=s.t-r;if(s.to){s.bezierData||(s.bezierData=bez.buildBezierData(s.s,o.s||s.e,s.to,s.ti));var A=s.bezierData;if(t>=D||t<P){var I=t>=D?A.points.length-1:0;for(c=A.points[I].point.length,a=0;a<c;a+=1)n[a]=A.points[I].point[a]}else{s.__fnct?d=s.__fnct:(d=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=d),u=d((t-P)/(D-P));var M,x=A.segmentLength*u,R=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(h=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,l=A.points.length;g;){if(R+=A.points[h].partialLength,0===x||0===u||h===A.points.length-1){for(c=A.points[h].point.length,a=0;a<c;a+=1)n[a]=A.points[h].point[a];break}if(x>=R&&x<R+A.points[h+1].partialLength){for(M=(x-R)/A.points[h+1].partialLength,c=A.points[h].point.length,a=0;a<c;a+=1)n[a]=A.points[h].point[a]+(A.points[h+1].point[a]-A.points[h].point[a])*M;break}h<l-1?h+=1:g=!1}e._lastPoint=h,e._lastAddedLength=R-A.points[h].partialLength,e._lastKeyframeIndex=f}}else{var k;if(_=s.s.length,m=o.s||s.e,this.sh&&1!==s.h)t>=D?(n[0]=m[0],n[1]=m[1],n[2]=m[2]):t<=P?(n[0]=s.s[0],n[1]=s.s[1],n[2]=s.s[2]):(v=n,b=(y=function(t,e,n){var i,r,s,o,a,c=[],u=t[0],l=t[1],h=t[2],d=t[3],p=e[0],f=e[1],_=e[2],g=e[3];return(r=u*p+l*f+h*_+d*g)<0&&(r=-r,p=-p,f=-f,_=-_,g=-g),1-r>1e-6?(i=Math.acos(r),s=Math.sin(i),o=Math.sin((1-n)*i)/s,a=Math.sin(n*i)/s):(o=1-n,a=n),c[0]=o*u+a*p,c[1]=o*l+a*f,c[2]=o*h+a*_,c[3]=o*d+a*g,c}(i(s.s),i(m),(t-P)/(D-P)))[0],E=y[1],O=y[2],S=y[3],C=Math.atan2(2*E*S-2*b*O,1-2*E*E-2*O*O),T=Math.asin(2*b*E+2*O*S),w=Math.atan2(2*b*S-2*E*O,1-2*b*b-2*O*O),v[0]=C/degToRads,v[1]=T/degToRads,v[2]=w/degToRads);else for(f=0;f<_;f+=1)1!==s.h&&(t>=D?u=1:t<P?u=0:(s.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[f]?d=s.__fnct[f]:(d=BezierFactory.getBezierEasing(void 0===s.o.x[f]?s.o.x[0]:s.o.x[f],void 0===s.o.y[f]?s.o.y[0]:s.o.y[f],void 0===s.i.x[f]?s.i.x[0]:s.i.x[f],void 0===s.i.y[f]?s.i.y[0]:s.i.y[f]).get,s.__fnct[f]=d)):s.__fnct?d=s.__fnct:(d=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y).get,s.__fnct=d),u=d((t-P)/(D-P)))),m=o.s||s.e,k=1===s.h?s.s[f]:s.s[f]+(m[f]-s.s[f])*u,"multidimensional"===this.propType?n[f]=k:n=k}return e.lastIndex=p,n}function i(t){var e=t[0]*degToRads,n=t[1]*degToRads,i=t[2]*degToRads,r=Math.cos(e/2),s=Math.cos(n/2),o=Math.cos(i/2),a=Math.sin(e/2),c=Math.sin(n/2),u=Math.sin(i/2);return[a*c*o+r*s*u,a*s*o+r*c*u,r*c*o-a*s*u,r*s*o-a*c*u]}function r(){var e=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<n&&e<n))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(e,this._caching);this.pv=r}return this._caching.lastFrame=e,this.pv}function s(t){var n;if("unidimensional"===this.propType)e(this.v-(n=t*this.mult))>1e-5&&(this.v=n,this._mdf=!0);else for(var i=0,r=this.v.length;i<r;)e(this.v[i]-(n=t[i]*this.mult))>1e-5&&(this.v[i]=n,this._mdf=!0),i+=1}function o(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(t,e,n,i){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.addEffect=a}function u(t,e,n,i){this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var r,c=e.k.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),createTypedArray("float32",c),this.vel=createTypedArray("float32",c),r=0;r<c;r+=1)this.v[r]=e.k[r]*this.mult,this.pv[r]=e.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=o,this.setVValue=s,this.addEffect=a}function l(e,i,c,u){this.propType="unidimensional",this.keyframes=i.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=c||1,this.elem=e,this.container=u,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.interpolateValue=n,this.effectsSequence=[r.bind(this)],this.addEffect=a}function h(e,i,c,u){this.propType="multidimensional";var l,h,d,p,f,_=i.k.length;for(l=0;l<_-1;l+=1)i.k[l].to&&i.k[l].s&&i.k[l+1]&&i.k[l+1].s&&(d=i.k[l+1].s,p=i.k[l].to,f=i.k[l].ti,(2===(h=i.k[l].s).length&&(h[0]!==d[0]||h[1]!==d[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],h[0]+p[0],h[1]+p[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],d[0]+f[0],d[1]+f[1])||3===h.length&&(h[0]!==d[0]||h[1]!==d[1]||h[2]!==d[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],h[0]+p[0],h[1]+p[1],h[2]+p[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],d[0]+f[0],d[1]+f[1],d[2]+f[2]))&&(i.k[l].to=null,i.k[l].ti=null),h[0]===d[0]&&h[1]===d[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===h.length||h[2]===d[2]&&0===p[2]&&0===f[2])&&(i.k[l].to=null,i.k[l].ti=null));this.effectsSequence=[r.bind(this)],this.keyframes=i.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=c||1,this.elem=e,this.container=u,this.comp=e.comp,this.getValue=o,this.setVValue=s,this.interpolateValue=n,this.frameId=-1;var g=i.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),l=0;l<g;l+=1)this.v[l]=t,this.pv[l]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}return{getProp:function(t,e,n,i,r){var s;if(e.k.length)if("number"==typeof e.k[0])s=new u(t,e,i,r);else switch(n){case 0:s=new l(t,e,i,r);break;case 1:s=new h(t,e,i,r)}else s=new c(t,e,i,r);return s.effectsSequence.length&&r.addDynamicProperty(s),s}}}(),TransformPropertyFactory=function(){var t=[0,0];function e(t,e,n){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var i,r=e.or.k.length;for(i=0;i<r;i+=1)e.or.k[i].to=e.or.k[i].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),this.o=e.o?PropertyFactory.getProp(t,e.o,0,.01,t):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?t.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,i,r=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(n=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],i=[];var s=this.px,o=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(n[0]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),n[1]=o.getValueAtTime((o.keyframes[0].t+.01)/r,0),i[0]=s.getValueAtTime(s.keyframes[0].t/r,0),i[1]=o.getValueAtTime(o.keyframes[0].t/r,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(n[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),n[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/r,0),i[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0),i[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/r,0)):(n=[s.pv,o.pv],i[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime),i[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/r,o.offsetTime))}else n=i=t;this.v.rotate(-Math.atan2(n[1]-i[1],n[0]-i[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,n,i){return new e(t,n,i)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=point_pool.newElement(),this.o[n]=point_pool.newElement(),this.i[n]=point_pool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,i,r){var s;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o}(!s[i]||s[i]&&!r)&&(s[i]=point_pool.newElement()),s[i][0]=t,s[i][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,i,r,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(n,i,"o",o,a),this.setXYAt(r,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,i=this.i,r=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],n[0][0],n[0][1],0,!1),r=1);var s,o=this._length-1,a=this._length;for(s=r;s<a;s+=1)t.setTripleAt(e[o][0],e[o][1],i[o][0],i[o][1],n[o][0],n[o][1],s,!1),o-=1;return t};var ShapePropertyFactory=function(){function t(t,e,n){var i,r,s,o,a,c,u,l,h=n.lastIndex,d=this.keyframes;if(t<d[0].t-this.offsetTime)i=d[0].s[0],s=!0,h=0;else if(t>=d[d.length-1].t-this.offsetTime)i=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],s=!0;else{for(var p,f,_=h,g=d.length-1,m=!0;m&&(p=d[_],!((f=d[_+1]).t-this.offsetTime>t));)_<g-1?_+=1:m=!1;if(h=_,!(s=1===p.h)){if(t>=f.t-this.offsetTime)l=1;else if(t<p.t-this.offsetTime)l=0;else{var v;p.__fnct?v=p.__fnct:(v=BezierFactory.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y).get,p.__fnct=v),l=v((t-(p.t-this.offsetTime))/(f.t-this.offsetTime-(p.t-this.offsetTime)))}r=f.s?f.s[0]:p.e[0]}i=p.s[0]}for(c=e._length,u=i.i[0].length,n.lastIndex=h,o=0;o<c;o+=1)for(a=0;a<u;a+=1)e.i[o][a]=s?i.i[o][a]:i.i[o][a]+(r.i[o][a]-i.i[o][a])*l,e.o[o][a]=s?i.o[o][a]:i.o[o][a]+(r.o[o][a]-i.o[o][a])*l,e.v[o][a]=s?i.v[o][a]:i.v[o][a]+(r.v[o][a]-i.v[o][a])*l}function e(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return-999999!==i&&(i<e&&t<e||i>n&&t>n)||(this._caching.lastIndex=i<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function n(){this.paths=this.localShapeCollection}function i(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var n,i=t._length;for(n=0;n<i;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return!1;return!0})(this.v,t)||(this.v=shape_pool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function r(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,n=this.effectsSequence.length;for(t=0;t<n;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shape_pool.clone(3===i?e.pt.k:e.ks.k),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function a(t,i,r){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===r?i.pt.k:i.ks.k,this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=n,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=r,s.prototype.setVValue=i,s.prototype.addEffect=o,a.prototype.getValue=r,a.prototype.interpolateShape=t,a.prototype.setVValue=i,a.prototype.addEffect=o;var c=function(){var t=roundCorner;function e(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],n=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,s=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=n-r,o.v[1][0]=s?e+i:e-i,o.v[1][1]=n,o.v[2][0]=e,o.v[2][1]=n+r,o.v[3][0]=s?e-i:e+i,o.v[3][1]=n,o.i[0][0]=s?e-i*t:e+i*t,o.i[0][1]=n-r,o.i[1][0]=s?e+i:e-i,o.i[1][1]=n-r*t,o.i[2][0]=s?e+i*t:e-i*t,o.i[2][1]=n+r,o.i[3][0]=s?e-i:e+i,o.i[3][1]=n+r*t,o.o[0][0]=s?e+i*t:e-i*t,o.o[0][1]=n-r,o.o[1][0]=s?e+i:e-i,o.o[1][1]=n+r*t,o.o[2][0]=s?e-i*t:e+i*t,o.o[2][1]=n+r,o.o[3][0]=s?e-i:e+i,o.o[3][1]=n-r*t}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,n,i,r=2*Math.floor(this.pt.v),s=2*Math.PI/r,o=!0,a=this.or.v,c=this.ir.v,u=this.os.v,l=this.is.v,h=2*Math.PI*a/(2*r),d=2*Math.PI*c/(2*r),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<r;t+=1){n=o?u:l,i=o?h:d;var _=(e=o?a:c)*Math.cos(p),g=e*Math.sin(p),m=0===_&&0===g?0:g/Math.sqrt(_*_+g*g),v=0===_&&0===g?0:-_/Math.sqrt(_*_+g*g);this.v.setTripleAt(_+=+this.p.v[0],g+=+this.p.v[1],_-m*i*n*f,g-v*i*n*f,_+m*i*n*f,g+v*i*n*f,t,!0),o=!o,p+=s*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),n=2*Math.PI/e,i=this.or.v,r=this.os.v,s=2*Math.PI*i/(4*e),o=-Math.PI/2,a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var c=i*Math.cos(o),u=i*Math.sin(o),l=0===c&&0===u?0:u/Math.sqrt(c*c+u*u),h=0===c&&0===u?0:-c/Math.sqrt(c*c+u*u);this.v.setTripleAt(c+=+this.p.v[0],u+=+this.p.v[1],c-l*s*r*a,u-h*s*r*a,c+l*s*r*a,u+h*s*r*a,t,!0),o+=n*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),l=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2,r=bm_min(n,i,this.r.v),s=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+n,e-i+r,t+n,e-i+r,t+n,e-i+s,0,!0),this.v.setTripleAt(t+n,e+i-r,t+n,e+i-s,t+n,e+i-r,1,!0),0!==r?(this.v.setTripleAt(t+n-r,e+i,t+n-r,e+i,t+n-s,e+i,2,!0),this.v.setTripleAt(t-n+r,e+i,t-n+s,e+i,t-n+r,e+i,3,!0),this.v.setTripleAt(t-n,e+i-r,t-n,e+i-r,t-n,e+i-s,4,!0),this.v.setTripleAt(t-n,e-i+r,t-n,e-i+s,t-n,e-i+r,5,!0),this.v.setTripleAt(t-n+r,e-i,t-n+r,e-i,t-n+s,e-i,6,!0),this.v.setTripleAt(t+n-r,e-i,t+n-s,e-i,t+n-r,e-i,7,!0)):(this.v.setTripleAt(t-n,e+i,t-n+s,e+i,t-n,e+i,2),this.v.setTripleAt(t-n,e-i,t-n,e-i+s,t-n,e-i,3))):(this.v.setTripleAt(t+n,e-i+r,t+n,e-i+s,t+n,e-i+r,0,!0),0!==r?(this.v.setTripleAt(t+n-r,e-i,t+n-r,e-i,t+n-s,e-i,1,!0),this.v.setTripleAt(t-n+r,e-i,t-n+s,e-i,t-n+r,e-i,2,!0),this.v.setTripleAt(t-n,e-i+r,t-n,e-i+r,t-n,e-i+s,3,!0),this.v.setTripleAt(t-n,e+i-r,t-n,e+i-s,t-n,e+i-r,4,!0),this.v.setTripleAt(t-n+r,e+i,t-n+r,e+i,t-n+s,e+i,5,!0),this.v.setTripleAt(t+n-r,e+i,t+n-s,e+i,t+n-r,e+i,6,!0),this.v.setTripleAt(t+n,e+i-r,t+n,e+i-r,t+n,e+i-s,7,!0)):(this.v.setTripleAt(t-n,e-i,t-n+s,e-i,t-n,e-i,1,!0),this.v.setTripleAt(t-n,e+i,t-n,e+i-s,t-n,e+i,2,!0),this.v.setTripleAt(t+n,e+i,t+n-s,e+i,t+n,e+i,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,n){var i;return 3===n||4===n?i=(3===n?e.pt:e.ks).k.length?new a(t,e,n):new s(t,e,n):5===n?i=new l(t,e):6===n?i=new c(t,e):7===n&&(i=new u(t,e)),i.k&&t.addDynamicProperty(i),i},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return a}}}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(t,e){modifiers[t]||(modifiers[t]=e)},ob.getModifier=function(t,e,n){return new modifiers[t](e,n)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,n,i){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var r,s,o=e.length||0;for(r=0;r<o;r+=1)s=PropertyFactory.getProp(t,e[r].v,0,0,this),this.k=s.k||this.k,this.dataProps[r]={n:e[r].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var i=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,i,r){var s=[];e<=1?s.push({s:t,e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var o,a,c=[],u=s.length;for(o=0;o<u;o+=1)(a=s[o]).e*r<i||a.s*r>i+n||c.push([a.s*r<=i?0:(a.s*r-i)/n,a.e*r>=i+n?1:(a.e*r-i)/n]);return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,i;if(this._mdf||t){var r=this.o.v%360/360;if(r<0&&(r+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+r)>(n=(this.e.v>1?1:this.e.v<0?0:this.e.v)+r)){var s=e;e=n,n=s}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var o,a,c,u,l,h,d=this.shapes.length,p=0;if(n===e)for(o=0;o<d;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection,this._mdf&&(this.shapes[o].pathsData.length=0);else if(1===n&&0===e||0===n&&1===e){if(this._mdf)for(o=0;o<d;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var f,_,g=[];for(o=0;o<d;o+=1)if((f=this.shapes[o]).shape._mdf||this._mdf||t||2===this.m){if(c=(i=f.shape.paths)._length,h=0,!f.shape._mdf&&f.pathsData.length)h=f.totalShapeLength;else{for(u=this.releasePathsData(f.pathsData),a=0;a<c;a+=1)l=bez.getSegmentsLength(i.shapes[a]),u.push(l),h+=l.totalLength;f.totalShapeLength=h,f.pathsData=u}p+=h,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var m,v=e,y=n,b=0;for(o=d-1;o>=0;o-=1)if((f=this.shapes[o]).shape._mdf){for((_=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(m=this.calculateShapeEdges(e,n,f.totalShapeLength,b,p),b+=f.totalShapeLength):m=[[v,y]],c=m.length,a=0;a<c;a+=1){v=m[a][0],y=m[a][1],g.length=0,y<=1?g.push({s:f.totalShapeLength*v,e:f.totalShapeLength*y}):v>=1?g.push({s:f.totalShapeLength*(v-1),e:f.totalShapeLength*(y-1)}):(g.push({s:f.totalShapeLength*v,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(y-1)}));var E=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var O=E.pop();this.addPaths(E,_),E=this.addShapes(f,g[1],O)}else this.addPaths(E,_),E=this.addShapes(f,g[1]);this.addPaths(E,_)}}f.shape.paths=_}}},TrimModifier.prototype.addPaths=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,i,r,s,o){r.setXYAt(e[0],e[1],"o",s),r.setXYAt(n[0],n[1],"i",s+1),o&&r.setXYAt(t[0],t[1],"v",s),r.setXYAt(i[0],i[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,i){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),i&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var i,r,s,o,a,c,u,l,h=t.pathsData,d=t.shape.paths.shapes,p=t.shape.paths._length,f=0,_=[],g=!0;for(n?(a=n._length,l=n._length):(n=shape_pool.newElement(),a=0,l=0),_.push(n),i=0;i<p;i+=1){for(c=h[i].lengths,n.c=d[i].c,s=d[i].c?c.length:c.length+1,r=1;r<s;r+=1)if(f+(o=c[r-1]).addedLength<e.s)f+=o.addedLength,n.c=!1;else{if(f>e.e){n.c=!1;break}e.s<=f&&e.e>=f+o.addedLength?(this.addSegment(d[i].v[r-1],d[i].o[r-1],d[i].i[r],d[i].v[r],n,a,g),g=!1):(u=bez.getNewSegment(d[i].v[r-1],d[i].v[r],d[i].o[r-1],d[i].i[r],(e.s-f)/o.addedLength,(e.e-f)/o.addedLength,c[r-1]),this.addSegmentFromArray(u,n,a,g),g=!1,n.c=!1),f+=o.addedLength,a+=1}if(d[i].c&&c.length){if(o=c[r-1],f<=e.e){var m=c[r-1].addedLength;e.s<=f&&e.e>=f+m?(this.addSegment(d[i].v[r-1],d[i].o[r-1],d[i].i[0],d[i].v[0],n,a,g),g=!1):(u=bez.getNewSegment(d[i].v[r-1],d[i].v[0],d[i].o[r-1],d[i].i[0],(e.s-f)/m,(e.e-f)/m,c[r-1]),this.addSegmentFromArray(u,n,a,g),g=!1,n.c=!1)}else n.c=!1;f+=o.addedLength,a+=1}if(n._length&&(n.setXYAt(n.v[l][0],n.v[l][1],"i",l),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>e.e)break;i<p-1&&(n=shape_pool.newElement(),g=!0,_.push(n),a=0)}return _},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n=shape_pool.newElement();n.c=t.c;var i,r,s,o,a,c,u,l,h,d,p,f,_,g=t._length,m=0;for(i=0;i<g;i+=1)s=t.i[i],(r=t.v[i])[0]===(o=t.o[i])[0]&&r[1]===o[1]&&r[0]===s[0]&&r[1]===s[1]?0!==i&&i!==g-1||t.c?(a=0===i?t.v[g-1]:t.v[i-1],u=(c=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)))?Math.min(c/2,e)/c:0,l=f=r[0]+(a[0]-r[0])*u,h=_=r[1]-(r[1]-a[1])*u,n.setTripleAt(l,h,l-(l-r[0])*roundCorner,h-(h-r[1])*roundCorner,f,_,m),m+=1,a=i===g-1?t.v[0]:t.v[i+1],u=(c=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)))?Math.min(c/2,e)/c:0,l=d=r[0]+(a[0]-r[0])*u,h=p=r[1]+(a[1]-r[1])*u,n.setTripleAt(l,h,d,p,f=l-(l-r[0])*roundCorner,_=h-(h-r[1])*roundCorner,m),m+=1):(n.setTripleAt(r[0],r[1],o[0],o[1],s[0],s[1],m),m+=1):(n.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],m),m+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,n,i,r,s,o,a=this.shapes.length,c=this.rd.v;if(0!==c)for(n=0;n<a;n+=1){if(o=(s=this.shapes[n]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,r=s.shape.paths._length,i=0;i<r;i+=1)o.addShape(this.processPath(e[i],c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,i=[0,0],r=t._length,s=0;for(s=0;s<r;s+=1)i[0]+=t.v[s][0],i[1]+=t.v[s][1];i[0]/=r,i[1]/=r;var o=shape_pool.newElement();for(o.c=t.c,s=0;s<r;s+=1)o.setTripleAt(t.v[s][0]+(i[0]-t.v[s][0])*n,t.v[s][1]+(i[1]-t.v[s][1])*n,t.o[s][0]+(i[0]-t.o[s][0])*-n,t.o[s][1]+(i[1]-t.o[s][1])*-n,t.i[s][0]+(i[0]-t.i[s][0])*-n,t.i[s][1]+(i[1]-t.i[s][1])*-n,s);return o},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,i,r,s,o,a=this.shapes.length,c=this.amount.v;if(0!==c)for(n=0;n<a;n+=1){if(o=(s=this.shapes[n]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,r=s.shape.paths._length,i=0;i<r;i+=1)o.addShape(this.processPath(e[i],c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,i,r,s){var o=s?-1:1,a=i.s.v[0]+(1-i.s.v[0])*(1-r),c=i.s.v[1]+(1-i.s.v[1])*(1-r);t.translate(i.p.v[0]*o*r,i.p.v[1]*o*r,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*o*r),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),n.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),n.scale(s?1/a:a,s?1/c:c),n.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,i){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)this._elements.unshift(e[n-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,i,r,s;if(this._mdf||t){var o,a=Math.ceil(this.c.v);if(this._groups.length<a){for(;this._groups.length<a;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes()}for(s=0,i=0;i<=this._groups.length-1;i+=1)this._groups[i]._render=o=s<a,this.changeGroupRender(this._groups[i].it,o),s+=1;this._currentCopies=a;var u=this.o.v,l=u%1,h=u>0?Math.floor(u):Math.ceil(u),d=this.pMatrix.props,p=this.rMatrix.props,f=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var _,g,m=0;if(u>0){for(;m<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),m+=1;l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,l,!1),m+=l)}else if(u<0){for(;m>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),m-=1;l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-l,!0),m-=l)}for(i=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,s=this._currentCopies;s;){if(g=(n=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+i/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==m){for((0!==i&&1===r||i!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),_=0;_<g;_+=1)n[_]=this.matrix.props[_];this.matrix.reset()}else for(this.matrix.reset(),_=0;_<g;_+=1)n[_]=this.matrix.props[_];m+=1,s-=1,i+=r}}else for(s=this._currentCopies,i=0,r=1;s;)n=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,i+=r},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<n;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,i=this.o.length/2;n<i;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,i,r=4*this.data.p;for(e=0;e<r;e+=1)n=e%4==0?100:255,i=Math.round(this.prop.v[e]*n),this.c[e]!==i&&(this.c[e]=i,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,e=4*this.data.p;e<r;e+=1)n=e%2==0?100:1,i=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==i&&(this.o[e-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,n,i){if(0===e)return"";var r,s=t.o,o=t.i,a=t.v,c=" M"+i.applyToPointStringified(a[0][0],a[0][1]);for(r=1;r<e;r+=1)c+=" C"+i.applyToPointStringified(s[r-1][0],s[r-1][1])+" "+i.applyToPointStringified(o[r][0],o[r][1])+" "+i.applyToPointStringified(a[r][0],a[r][1]);return n&&e&&(c+=" C"+i.applyToPointStringified(s[r-1][0],s[r-1][1])+" "+i.applyToPointStringified(o[0][0],o[0][1])+" "+i.applyToPointStringified(a[0][0],a[0][1]),c+="z"),c},audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(t){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t,e,n){var i="";if(t.e)i=t.p;else if(e){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),i=e+r}else i=n,i+=t.u?t.u:"",i+=t.p;return i}function i(t){this._imageLoaded=e.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}return i.prototype={loadAssets:function(t,e){this.imagesLoadedCb=e;var n,i=t.length;for(n=0;n<i;n+=1)t[n].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[n])))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loaded:function(){return this.totalImages===this.loadedAssets},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getImage:function(t){for(var e=0,n=this.images.length;e<n;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}},createImgData:function(e){var i=n(e,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",(function(){s.img=t,this._imageLoaded()}).bind(this),!1),r.src=i;var s={img:r,assetData:e};return s},createImageData:function(e){var i=n(e,this.assetsPath,this.path),r=createNS("image");r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",(function(){s.img=t,this._imageLoaded()}).bind(this),!1),r.setAttributeNS("http://www.w3.org/1999/xlink","href",i);var s={img:r,assetData:e};return s},imageLoaded:e,setCacheType:function(t){this._createImageData="svg"===t?this.createImageData.bind(this):this.createImgData.bind(this)}},i}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory={createFilter:function(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}},assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}return{load:function(e,n,i){var r,s=new XMLHttpRequest;s.open("GET",e,!0);try{s.responseType="json"}catch(o){}s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status)r=t(s),n(r);else try{r=t(s),n(r)}catch(o){i&&i(o)}}}}}();function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function TextAnimatorDataProperty(t,e,n){var i={propType:!1},r=PropertyFactory.getProp,s=e.a;this.a={r:s.r?r(t,s.r,0,degToRads,n):i,rx:s.rx?r(t,s.rx,0,degToRads,n):i,ry:s.ry?r(t,s.ry,0,degToRads,n):i,sk:s.sk?r(t,s.sk,0,degToRads,n):i,sa:s.sa?r(t,s.sa,0,degToRads,n):i,s:s.s?r(t,s.s,1,.01,n):i,a:s.a?r(t,s.a,1,0,n):i,o:s.o?r(t,s.o,0,.01,n):i,p:s.p?r(t,s.p,1,0,n):i,sw:s.sw?r(t,s.sw,0,0,n):i,sc:s.sc?r(t,s.sc,1,0,n):i,fc:s.fc?r(t,s.fc,1,0,n):i,fh:s.fh?r(t,s.fh,0,0,n):i,fs:s.fs?r(t,s.fs,0,.01,n):i,fb:s.fb?r(t,s.fb,0,.01,n):i,t:s.t?r(t,s.t,0,0,n):i},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function LetterProps(t,e,n,i,r,s){this.o=t,this.sw=e,this.sc=n,this.fc=i,this.m=r,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!i,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<e;t+=1)this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,this._textData.a[t],this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,i,r,s,o,a,c,u,l,h,d,p,f,_,g,m,v,y,b=this._moreOptions.alignment.v,E=this._animatorsData,O=this._textData,S=this.mHelper,C=this._renderType,T=this.renderedLetters.length,w=t.l;if(this._hasMaskedPath){if(y=this._pathData.m,!this._pathData.n||this._pathData._mdf){var D,P=y.v;for(this._pathData.r&&(P=P.reverse()),o={tLength:0,segments:[]},s=P._length-1,m=0,r=0;r<s;r+=1)D=bez.buildBezierData(P.v[r],P.v[r+1],[P.o[r][0]-P.v[r][0],P.o[r][1]-P.v[r][1]],[P.i[r+1][0]-P.v[r+1][0],P.i[r+1][1]-P.v[r+1][1]]),o.tLength+=D.segmentLength,o.segments.push(D),m+=D.segmentLength;r=s,y.v.c&&(D=bez.buildBezierData(P.v[r],P.v[0],[P.o[r][0]-P.v[r][0],P.o[r][1]-P.v[r][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),o.tLength+=D.segmentLength,o.segments.push(D),m+=D.segmentLength),this._pathData.pi=o}if(d=0,h=1,u=0,l=!0,_=(o=this._pathData.pi).segments,(a=this._pathData.f.v)<0&&y.v.c)for(o.tLength<Math.abs(a)&&(a=-Math.abs(a)%o.tLength),h=(f=_[d=_.length-1].points).length-1;a<0;)a+=f[h].partialLength,(h-=1)<0&&(h=(f=_[d-=1].points).length-1);p=(f=_[d].points)[h-1],g=(c=f[h]).partialLength}s=w.length,n=0,i=0;var A,I,M,x,R=1.2*t.finalSize*.714,k=!0;M=E.length;var L,j,N,U,B,F,q,V,W,G,K,z,$,H=-1,Q=a,Y=d,X=h,Z=-1,J="",tt=this.defaultPropsArray;if(2===t.j||1===t.j){var et=0,nt=0,it=2===t.j?-.5:-1,rt=0,st=!0;for(r=0;r<s;r+=1)if(w[r].n){for(et&&(et+=nt);rt<r;)w[rt].animatorJustifyOffset=et,rt+=1;et=0,st=!0}else{for(I=0;I<M;I+=1)(A=E[I].a).t.propType&&(st&&2===t.j&&(nt+=A.t.v*it),et+=(L=E[I].s.getMult(w[r].anIndexes[I],O.a[I].s.totalChars)).length?A.t.v*L[0]*it:A.t.v*L*it);st=!1}for(et&&(et+=nt);rt<r;)w[rt].animatorJustifyOffset=et,rt+=1}for(r=0;r<s;r+=1){if(S.reset(),B=1,w[r].n)n=0,i+=t.yOffset,i+=k?1:0,a=Q,k=!1,this._hasMaskedPath&&(p=(f=_[d=Y].points)[(h=X)-1],g=(c=f[h]).partialLength,u=0),$=G=z=J="",tt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==w[r].line){switch(t.j){case 1:a+=m-t.lineWidths[w[r].line];break;case 2:a+=(m-t.lineWidths[w[r].line])/2}Z=w[r].line}H!==w[r].ind&&(w[H]&&(a+=w[H].extra),a+=w[r].an/2,H=w[r].ind),a+=b[0]*w[r].an/200;var ot=0;for(I=0;I<M;I+=1)(A=E[I].a).p.propType&&(ot+=(L=E[I].s.getMult(w[r].anIndexes[I],O.a[I].s.totalChars)).length?A.p.v[0]*L[0]:A.p.v[0]*L),A.a.propType&&(ot+=(L=E[I].s.getMult(w[r].anIndexes[I],O.a[I].s.totalChars)).length?A.a.v[0]*L[0]:A.a.v[0]*L);for(l=!0;l;)u+g>=a+ot||!f?(N=p.point[0]+(c.point[0]-p.point[0])*(v=(a+ot-u)/c.partialLength),U=p.point[1]+(c.point[1]-p.point[1])*v,S.translate(-b[0]*w[r].an/200,-b[1]*R/100),l=!1):f&&(u+=c.partialLength,(h+=1)>=f.length&&(h=0,_[d+=1]?f=_[d].points:y.v.c?(h=0,f=_[d=0].points):(u-=c.partialLength,f=null)),f&&(p=c,g=(c=f[h]).partialLength));S.translate(-(j=w[r].an/2-w[r].add),0,0)}else S.translate(-(j=w[r].an/2-w[r].add),0,0),S.translate(-b[0]*w[r].an/200,-b[1]*R/100,0);for(I=0;I<M;I+=1)(A=E[I].a).t.propType&&(L=E[I].s.getMult(w[r].anIndexes[I],O.a[I].s.totalChars),0===n&&0===t.j||(this._hasMaskedPath?a+=L.length?A.t.v*L[0]:A.t.v*L:n+=L.length?A.t.v*L[0]:A.t.v*L));for(t.strokeWidthAnim&&(q=t.sw||0),t.strokeColorAnim&&(F=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(V=[t.fc[0],t.fc[1],t.fc[2]]),I=0;I<M;I+=1)(A=E[I].a).a.propType&&((L=E[I].s.getMult(w[r].anIndexes[I],O.a[I].s.totalChars)).length?S.translate(-A.a.v[0]*L[0],-A.a.v[1]*L[1],A.a.v[2]*L[2]):S.translate(-A.a.v[0]*L,-A.a.v[1]*L,A.a.v[2]*L));for(I=0;I<M;I+=1)(A=E[I].a).s.propType&&((L=E[I].s.getMult(w[r].anIndexes[I],O.a[I].s.totalChars)).length?S.scale(1+(A.s.v[0]-1)*L[0],1+(A.s.v[1]-1)*L[1],1):S.scale(1+(A.s.v[0]-1)*L,1+(A.s.v[1]-1)*L,1));for(I=0;I<M;I+=1){if(A=E[I].a,L=E[I].s.getMult(w[r].anIndexes[I],O.a[I].s.totalChars),A.sk.propType&&(L.length?S.skewFromAxis(-A.sk.v*L[0],A.sa.v*L[1]):S.skewFromAxis(-A.sk.v*L,A.sa.v*L)),A.r.propType&&S.rotateZ(L.length?-A.r.v*L[2]:-A.r.v*L),A.ry.propType&&S.rotateY(L.length?A.ry.v*L[1]:A.ry.v*L),A.rx.propType&&S.rotateX(L.length?A.rx.v*L[0]:A.rx.v*L),A.o.propType&&(B+=L.length?(A.o.v*L[0]-B)*L[0]:(A.o.v*L-B)*L),t.strokeWidthAnim&&A.sw.propType&&(q+=L.length?A.sw.v*L[0]:A.sw.v*L),t.strokeColorAnim&&A.sc.propType)for(W=0;W<3;W+=1)F[W]=L.length?F[W]+(A.sc.v[W]-F[W])*L[0]:F[W]+(A.sc.v[W]-F[W])*L;if(t.fillColorAnim&&t.fc){if(A.fc.propType)for(W=0;W<3;W+=1)V[W]=L.length?V[W]+(A.fc.v[W]-V[W])*L[0]:V[W]+(A.fc.v[W]-V[W])*L;A.fh.propType&&(V=addHueToRGB(V,L.length?A.fh.v*L[0]:A.fh.v*L)),A.fs.propType&&(V=addSaturationToRGB(V,L.length?A.fs.v*L[0]:A.fs.v*L)),A.fb.propType&&(V=addBrightnessToRGB(V,L.length?A.fb.v*L[0]:A.fb.v*L))}}for(I=0;I<M;I+=1)(A=E[I].a).p.propType&&(L=E[I].s.getMult(w[r].anIndexes[I],O.a[I].s.totalChars),this._hasMaskedPath?L.length?S.translate(0,A.p.v[1]*L[0],-A.p.v[2]*L[1]):S.translate(0,A.p.v[1]*L,-A.p.v[2]*L):L.length?S.translate(A.p.v[0]*L[0],A.p.v[1]*L[1],-A.p.v[2]*L[2]):S.translate(A.p.v[0]*L,A.p.v[1]*L,-A.p.v[2]*L));if(t.strokeWidthAnim&&(G=q<0?0:q),t.strokeColorAnim&&(K="rgb("+Math.round(255*F[0])+","+Math.round(255*F[1])+","+Math.round(255*F[2])+")"),t.fillColorAnim&&t.fc&&(z="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),this._hasMaskedPath){if(S.translate(0,-t.ls),S.translate(0,b[1]*R/100+i,0),O.p.p){var at=180*Math.atan((c.point[1]-p.point[1])/(c.point[0]-p.point[0]))/Math.PI;c.point[0]<p.point[0]&&(at+=180),S.rotate(-at*Math.PI/180)}S.translate(N,U,0),a-=b[0]*w[r].an/200,w[r+1]&&H!==w[r+1].ind&&(a+=w[r].an/2,a+=t.tr/1e3*t.finalSize)}else{switch(S.translate(n,i,0),t.ps&&S.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:S.translate(w[r].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[w[r].line]),0,0);break;case 2:S.translate(w[r].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[w[r].line])/2,0,0)}S.translate(0,-t.ls),S.translate(j,0,0),S.translate(b[0]*w[r].an/200,b[1]*R/100,0),n+=w[r].l+t.tr/1e3*t.finalSize}"html"===C?J=S.toCSS():"svg"===C?J=S.to2dCSS():tt=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],$=B}T<=r?(x=new LetterProps($,G,K,z,J,tt),this.renderedLetters.push(x),T+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(x=this.renderedLetters[r]).update($,G,K,z,J,tt)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,n,i,r,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,o=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,o=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,o=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,o=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var i,r=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(i=0;i<r;i+=1)s=this.effectsSequence[i](n!==this.keysIndex?s:this.currentData,s.t);e!==s&&this.setCurrentData(s),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,i=t.length;n<=i-1&&!(n===i-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n=FontManager.getCombinedCharacterCodes(),i=[],r=0,s=t.length;r<s;)e=t.charCodeAt(r),-1!==n.indexOf(e)?i[i.length-1]+=t.charAt(r):e>=55296&&e<=56319&&(e=t.charCodeAt(r+1))>=56320&&e<=57343?(i.push(t.substr(r,2)),++r):i.push(t.charAt(r)),r+=1;return i},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,i,r,s,o,a,c=this.elem.globalData.fontManager,u=this.data,l=[],h=0,d=u.m.g,p=0,f=0,_=0,g=[],m=0,v=0,y=c.getFontByName(t.f),b=0,E=y.fStyle?y.fStyle.split(" "):[],O="normal",S="normal";for(n=E.length,e=0;e<n;e+=1)switch(E[e].toLowerCase()){case"italic":S="italic";break;case"bold":O="700";break;case"black":O="900";break;case"medium":O="500";break;case"regular":case"normal":O="400";break;case"light":case"thin":O="200"}t.fWeight=y.fWeight||O,t.fStyle=S,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var C,T=t.tr/1e3*t.finalSize;if(t.sz)for(var w,D,P=!0,A=t.sz[0],I=t.sz[1];P;){w=0,m=0,n=(D=this.buildFinalText(t.t)).length,T=t.tr/1e3*t.finalSize;var M=-1;for(e=0;e<n;e+=1)C=D[e].charCodeAt(0),i=!1," "===D[e]?M=e:13!==C&&3!==C||(m=0,i=!0,w+=t.finalLineHeight||1.2*t.finalSize),c.chars?(a=c.getCharData(D[e],y.fStyle,y.fFamily),b=i?0:a.w*t.finalSize/100):b=c.measureText(D[e],t.f,t.finalSize),m+b>A&&" "!==D[e]?(-1===M?n+=1:e=M,w+=t.finalLineHeight||1.2*t.finalSize,D.splice(e,M===e?1:0,"\r"),M=-1,m=0):(m+=b,m+=T);w+=y.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&I<w?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=D,n=t.finalText.length,P=!1)}m=-T,b=0;var x,R=0;for(e=0;e<n;e+=1)if(i=!1,13===(C=(x=t.finalText[e]).charCodeAt(0))||3===C?(R=0,g.push(m),v=m>v?m:v,m=-2*T,r="",i=!0,_+=1):r=x,c.chars?(a=c.getCharData(x,y.fStyle,c.getFontByName(t.f).fFamily),b=i?0:a.w*t.finalSize/100):b=c.measureText(r,t.f,t.finalSize)," "===x?R+=b+T:(m+=b+T+R,R=0),l.push({l:b,an:b,add:p,n:i,anIndexes:[],val:r,line:_,animatorJustifyOffset:0}),2==d){if(p+=b,""===r||" "===r||e===n-1){for(""!==r&&" "!==r||(p-=b);f<=e;)l[f].an=p,l[f].ind=h,l[f].extra=b,f+=1;h+=1,p=0}}else if(3==d){if(p+=b,""===r||e===n-1){for(""===r&&(p-=b);f<=e;)l[f].an=p,l[f].ind=h,l[f].extra=b,f+=1;p=0,h+=1}}else l[h].ind=h,l[h].extra=0,h+=1;if(t.l=l,v=m>v?m:v,g.push(m),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var k,L,j=u.a;o=j.length;var N,U,B=[];for(s=0;s<o;s+=1){for((k=j[s]).a.sc&&(t.strokeColorAnim=!0),k.a.sw&&(t.strokeWidthAnim=!0),(k.a.fc||k.a.fh||k.a.fs||k.a.fb)&&(t.fillColorAnim=!0),U=0,N=k.s.b,e=0;e<n;e+=1)(L=l[e]).anIndexes[s]=U,(1==N&&""!==L.val||2==N&&""!==L.val&&" "!==L.val||3==N&&(L.n||" "==L.val||e==n-1)||4==N&&(L.n||e==n-1))&&(1===k.s.rn&&B.push(U),U+=1);u.a[s].s.totalChars=U;var F,q=-1;if(1===k.s.rn)for(e=0;e<n;e+=1)q!=(L=l[e]).anIndexes[s]&&(q=L.anIndexes[s],F=B.splice(Math.floor(Math.random()*B.length),1)[0]),L.anIndexes[s]=F}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=y.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){var n=this.copyData({},this.data.d.k[e=void 0===e?this.keysIndex:e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function i(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(i){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var r=0,s=0,o=1,a=1;this.ne.v>0?r=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:a=1+this.xe.v/100;var c=BezierFactory.getBezierEasing(r,s,o,a).get,u=0,l=this.finalS,h=this.finalE,d=this.data.sh;if(2===d)u=c(u=h===l?i>=h?1:0:t(0,e(.5/(h-l)+(i-l)/(h-l),1)));else if(3===d)u=c(u=h===l?i>=h?0:1:1-t(0,e(.5/(h-l)+(i-l)/(h-l),1)));else if(4===d)h===l?u=0:(u=t(0,e(.5/(h-l)+(i-l)/(h-l),1)))<.5?u*=2:u=1-2*(u-.5),u=c(u);else if(5===d){if(h===l)u=0;else{var p=h-l,f=-p/2+(i=e(t(0,i+.5-l),h-l)),_=p/2;u=Math.sqrt(1-f*f/(_*_))}u=c(u)}else 6===d?(h===l?u=0:(i=e(t(0,i+.5-l),h-l),u=(1+Math.cos(Math.PI+2*Math.PI*i/(h-l)))/2),u=c(u)):(i>=n(l)&&(u=t(0,e(i-l<0?e(h,1)-(l-i):h-i,1))),u=c(u));return u*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/e,i=this.s.v/e+n,r=this.e.v/e+n;if(i>r){var s=i;i=r,r=s}this.finalS=i,this.finalE=r}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(t,e,n){return new i(t,e,n)}}}(),pool_factory=function(t,e,n,i){var r=0,s=t,o=createSizedArray(s);return{newElement:function(){return r?o[r-=1]:e()},release:function(t){r===s&&(o=pooling.double(o),s*=2),n&&n(t),o[r]=t,r+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,function(){return createTypedArray("float32",2)}),shape_pool=(factory=pool_factory(4,function(){return new ShapePath},function(t){var e,n=t._length;for(e=0;e<n;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}),factory.clone=function(t){var e,n=factory.newElement(),i=void 0===t._length?t.v.length:t._length;for(n.setLength(i),n.c=t.c,e=0;e<i;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n},factory),factory,shapeCollection_pool=function(){var t={newShapeCollection:function(){return e?i[e-=1]:new ShapeCollection},release:function(t){var r,s=t._length;for(r=0;r<s;r+=1)shape_pool.release(t.shapes[r]);t._length=0,e===n&&(i=pooling.double(i),n*=2),i[e]=t,e+=1}},e=0,n=4,i=createSizedArray(n);return t}(),segments_length_pool=pool_factory(8,function(){return{lengths:[],totalLength:0}},function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0}),bezier_length_pool=pool_factory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}});function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var i=createNS("title"),r=createElementID();i.setAttribute("id",r),i.textContent=e.title,this.svgElement.appendChild(i),n+=r}if(e&&e.description){var s=createNS("desc"),o=createElementID();s.setAttribute("id",o),s.textContent=e.description,this.svgElement.appendChild(s),n+=" "+o}n&&this.svgElement.setAttribute("aria-labelledby",n);var a=createNS("defs");this.svgElement.appendChild(a);var c=createNS("g");this.svgElement.appendChild(c),this.layerElement=c,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!e||!1!==e.hideOnTransparent,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,r=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var o,a,c,u,l,h,d,p=this.masksProperties,f=0,_=[],g=createElementID(),m="clipPath",v="clip-path";for(i=0;i<s;i++)if(("a"!==p[i].mode&&"n"!==p[i].mode||p[i].inv||100!==p[i].o.k||p[i].o.x)&&(m="mask",v="mask"),"s"!=p[i].mode&&"i"!=p[i].mode||0!==f?u=null:((u=createNS("rect")).setAttribute("fill","#ffffff"),u.setAttribute("width",this.element.comp.data.w||0),u.setAttribute("height",this.element.comp.data.h||0),_.push(u)),o=createNS("path"),"n"!=p[i].mode){var y;if(f+=1,o.setAttribute("fill","s"===p[i].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[i].x.k?(m="mask",v="mask",d=PropertyFactory.getProp(this.element,p[i].x,0,null,this.element),y=createElementID(),(l=createNS("filter")).setAttribute("id",y),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),l.appendChild(h),r.appendChild(l),o.setAttribute("stroke","s"===p[i].mode?"#000000":"#ffffff")):(h=null,d=null),this.storedData[i]={elem:o,x:d,expan:h,lastPath:"",lastOperator:"",filterId:y,lastRadius:0},"i"==p[i].mode){c=_.length;var b=createNS("g");for(a=0;a<c;a+=1)b.appendChild(_[a]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",g+"_"+f),E.appendChild(o),r.appendChild(E),b.setAttribute("mask","url("+locationHref+"#"+g+"_"+f+")"),_.length=0,_.push(b)}else _.push(o);p[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),invRect:u},this.viewData[i].prop.k||this.drawPath(p[i],this.viewData[i].prop.v,this.viewData[i])}else this.viewData[i]={op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),elem:o,lastPath:""},r.appendChild(o);for(this.maskElement=createNS(m),s=_.length,i=0;i<s;i+=1)this.maskElement.appendChild(_[i]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(v,"url("+locationHref+"#"+g+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var i=0,r=t.length;i<r;){if(t[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,n,i=this.layers.length;for(this.completeLayers=!0,e=i-1;e>=0;e--)this.elements[e]||(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,n,i=t.length,r=this.layers.length;for(e=0;e<i;e+=1)for(n=0;n<r;){if(this.layers[n].id==t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var i=this.elements,r=this.layers,s=0,o=r.length;s<o;)r[s].ind==e&&(i[s]&&!0!==i[s]?(n.push(i[s]),i[s].setAsParent(),void 0!==r[s].parent?this.buildElementParenting(t,r[s].parent,n):t.setHierarchy(n)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",t.w),i.setAttribute("height",t.h),i.setAttribute("x",0),i.setAttribute("y",0);var r=createElementID();n.setAttribute("id",r),n.appendChild(i),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+r+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerText="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var n=this.createItem(this.layers[t]);e[t]=n,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?n.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(n)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var i,r=0;r<e;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(n,i):this.layerElement.appendChild(n)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var n=this.contextData.cTr.props;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n,i=this.contextData.saved[this.contextData.cArrPos];for(n=0;n<16;n+=1)i[n]=e[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,n=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props;for(e=0;e<16;e+=1)i[e]=n[e];this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),this.contextData.cO=n=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==n&&(this.canvasContext.globalAlpha=n,this.globalData.currentGlobalAlpha=n)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,n,i;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(t=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r=this.renderConfig.preserveAspectRatio.split(" "),s=r[1]||"meet",o=r[0]||"xMidYMid",a=o.substr(0,4),c=o.substr(4);(i=this.transformCanvas.w/this.transformCanvas.h)>(n=t/e)&&"meet"===s||i<n&&"slice"===s?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===a&&(i<n&&"meet"===s||i>n&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===a&&(i<n&&"meet"===s||i>n&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===c&&(i>n&&"meet"===s||i<n&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===c&&(i>n&&"meet"===s||i<n&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=0;n<i;n++)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var i=this.layers[e];if(i.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var r,s,o=0;o<e;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(s=this.elements[o],r=(this.layers[o].ddd?this.getThreeDContainerByPos(o):s.getBaseElement())||r),o+=1;r?i.ddd&&this.supports3d||this.layerElement.insertBefore(n,r):i.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var n=createTag("div");styleDiv(n);var i=createTag("div");styleDiv(i),"3d"===e&&(n.style.width=this.globalData.compSize.w+"px",n.style.height=this.globalData.compSize.h+"px",n.style.transformOrigin=n.style.mozTransformOrigin=n.style.webkitTransformOrigin="50% 50%",i.style.transform=i.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),n.appendChild(i);var r={container:i,perspectiveElem:n,startPos:t,endPos:t,type:e};return this.threeDElements.push(r),r},HybridRenderer.prototype.build3dContainers=function(){var t,e,n=this.layers.length,i="";for(t=0;t<n;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==i&&(i="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==i&&(i="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(n=this.threeDElements.length)-1;t>=0;t--)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var n=0,i=this.threeDElements.length;n<i;){if(e<=this.threeDElements[n].endPos){for(var r,s=this.threeDElements[n].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(r=this.elements[s].getBaseElement()),s+=1;r?this.threeDElements[n].container.insertBefore(t,r):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),e.style.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var r=createNS("defs");i.appendChild(r),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=r,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerText="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,n,i,r=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>r/s?(t=r/this.globalData.compSize.w,e=r/this.globalData.compSize.w,n=0,i=(s-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,n=(r-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,i=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+i+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,i=this.threeDElements.length;for(t=0;t<i;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length,i=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e],i,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,i=this.masksProperties.length;for(e=0;e<i;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var r=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),r.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,n){var i,r,s=" M"+e.v[0][0]+","+e.v[0][1];for(r=e._length,i=1;i<r;i+=1)s+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[i][0]+","+e.i[i][1]+" "+e.v[i][0]+","+e.v[i][1];if(e.c&&r>1&&(s+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==s){var o="";n.elem&&(e.c&&(o=t.inv?this.solidPath+s:s),n.elem.setAttribute("d",o)),n.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,i=this.dynamicProperties.length;for(n=0;n<i;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<i;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e.cloneFromProps(t=this.finalTransform.mProp.v.props),n=0;n<i;n+=1)e.transform((t=this.hierarchy[n].finalTransform.mProp.v.props)[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n=!0,i=this.comp;n;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):n=!1;var r,s,o=e.length;for(r=0;r<o;r+=1)s=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),i=createNS(1===e.t?"linearGradient":"radialGradient");i.setAttribute("id",n),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var r,s,o,a=[];for(o=4*e.g.p,s=0;s<o;s+=4)r=createNS("stop"),i.appendChild(r),a.push(r);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+n+")"),this.gf=i,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,i,r,s=createNS("mask"),o=createNS("path");s.appendChild(o);var a=createElementID(),c=createElementID();s.setAttribute("id",c);var u=createNS(1===t.t?"linearGradient":"radialGradient");u.setAttribute("id",a),u.setAttribute("spreadMethod","pad"),u.setAttribute("gradientUnits","userSpaceOnUse"),r=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var l=this.stops;for(i=4*t.g.p;i<r;i+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),u.appendChild(n),l.push(n);o.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+a+")"),this.of=u,this.ms=s,this.ost=l,this.maskId=c,e.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(t,e,n){(n||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(n||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function i(n,i,r){var s,o,a,c,u,l,h,d,p,f,_,g=i.styles.length,m=i.lvl;for(l=0;l<g;l+=1){if(c=i.sh._mdf||r,i.styles[l].lvl<m){for(d=e.reset(),f=m-i.styles[l].lvl,_=i.transformers.length-1;!c&&f>0;)c=i.transformers[_].mProps._mdf||c,f--,_--;if(c)for(f=m-i.styles[l].lvl,_=i.transformers.length-1;f>0;)d.transform((p=i.transformers[_].mProps.v.props)[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f--,_--}else d=t;if(o=(h=i.sh.paths)._length,c){for(a="",s=0;s<o;s+=1)(u=h.shapes[s])&&u._length&&(a+=buildShapeString(u,u._length,u.c,d));i.caches[l]=a}else a=i.caches[l];i.styles[l].d+=!0===n.hd?"":a,i.styles[l]._mdf=c||i.styles[l]._mdf}}function r(t,e,n){var i=e.style;(e.c._mdf||n)&&i.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||n)&&i.pElem.setAttribute("fill-opacity",e.o.v)}function s(t,e,n){o(t,e,n),a(0,e,n)}function o(t,e,n){var i,r,s,o,a,c=e.gf,u=e.g._hasOpacity,l=e.s.v,h=e.e.v;if((e.o._mdf||n)&&e.style.pElem.setAttribute("gf"===t.ty?"fill-opacity":"stroke-opacity",e.o.v),e.s._mdf||n){var d=1===t.t?"x1":"cx",p="x1"===d?"y1":"cy";c.setAttribute(d,l[0]),c.setAttribute(p,l[1]),u&&!e.g._collapsable&&(e.of.setAttribute(d,l[0]),e.of.setAttribute(p,l[1]))}if(e.g._cmdf||n){var f=e.g.c;for(s=(i=e.cst).length,r=0;r<s;r+=1)(o=i[r]).setAttribute("offset",f[4*r]+"%"),o.setAttribute("stop-color","rgb("+f[4*r+1]+","+f[4*r+2]+","+f[4*r+3]+")")}if(u&&(e.g._omdf||n)){var _=e.g.o;for(s=(i=e.g._collapsable?e.cst:e.ost).length,r=0;r<s;r+=1)o=i[r],e.g._collapsable||o.setAttribute("offset",_[2*r]+"%"),o.setAttribute("stop-opacity",_[2*r+1])}if(1===t.t)(e.e._mdf||n)&&(c.setAttribute("x2",h[0]),c.setAttribute("y2",h[1]),u&&!e.g._collapsable&&(e.of.setAttribute("x2",h[0]),e.of.setAttribute("y2",h[1])));else if((e.s._mdf||e.e._mdf||n)&&(a=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)),c.setAttribute("r",a),u&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.e._mdf||e.h._mdf||e.a._mdf||n){a||(a=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)));var g=Math.atan2(h[1]-l[1],h[0]-l[0]),m=a*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),v=Math.cos(g+e.a.v)*m+l[0],y=Math.sin(g+e.a.v)*m+l[1];c.setAttribute("fx",v),c.setAttribute("fy",y),u&&!e.g._collapsable&&(e.of.setAttribute("fx",v),e.of.setAttribute("fy",y))}}function a(t,e,n){var i=e.style,r=e.d;r&&(r._mdf||n)&&r.dashStr&&(i.pElem.setAttribute("stroke-dasharray",r.dashStr),i.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),e.c&&(e.c._mdf||n)&&i.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||n)&&i.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||n)&&(i.pElem.setAttribute("stroke-width",e.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return r;case"gf":return o;case"gs":return s;case"st":return a;case"sh":case"el":case"rc":case"sr":return i;case"tr":return n}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,n,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r=4;"rc"==e.ty?r=5:"el"==e.ty?r=6:"sr"==e.ty&&(r=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,r,t);var s,o,a=n.length;for(s=0;s<a;s+=1)n[s].closed||(o={transforms:i.addTransformSequence(n[s].transforms),trNodes:[]},this.styledShapes.push(o),n[s].elements.push(o))}function BaseElement(){}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,n){this.initElement(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");if(n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),t.appendChild(n),(n=createNS("feColorMatrix")).setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result","f2"),t.appendChild(n),this.matrixFilter=n,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var i,r=createNS("feMerge");t.appendChild(r),(i=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),r.appendChild(i),(i=createNS("feMergeNode")).setAttribute("in","f2"),r.appendChild(i)}}function SVGFillFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(n),this.matrixFilter=n}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var n=createNS("feGaussianBlur");t.appendChild(n),this.feGaussianBlur=n}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),t.appendChild(n);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.matrixFilter=i;var r=createNS("feFuncR");r.setAttribute("type","table"),i.appendChild(r),this.feFuncR=r;var s=createNS("feFuncG");s.setAttribute("type","table"),i.appendChild(s),this.feFuncG=s;var o=createNS("feFuncB");o.setAttribute("type","table"),i.appendChild(o),this.feFuncB=o}function SVGProLevelsFilter(t,e){this.filterManager=e;var n=this.filterManager.effectElements,i=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),i=createNS("feComponentTransfer")),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(t,e){var n=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",n.x),t.setAttribute("y",n.y),t.setAttribute("width",n.width),t.setAttribute("height",n.height),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("in","SourceAlpha"),i.setAttribute("result","drop_shadow_1"),i.setAttribute("stdDeviation","0"),this.feGaussianBlur=i,t.appendChild(i);var r=createNS("feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,t.appendChild(r);var s=createNS("feFlood");s.setAttribute("flood-color","#00ff00"),s.setAttribute("flood-opacity","1"),s.setAttribute("result","drop_shadow_3"),this.feFlood=s,t.appendChild(s);var o=createNS("feComposite");o.setAttribute("in","drop_shadow_3"),o.setAttribute("in2","drop_shadow_2"),o.setAttribute("operator","in"),o.setAttribute("result","drop_shadow_4"),t.appendChild(o);var a,c=createNS("feMerge");t.appendChild(c),a=createNS("feMergeNode"),c.appendChild(a),(a=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=c,this.originalNodeAdded=!1,c.appendChild(a)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,i="_";for(e=0;e<n;e+=1)i+=t[e].transform.key+"_";var r=this.sequences[i];return r||(r={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=r,this.sequenceList.push(r)),r},processSequence:function(t,e){for(var n,i=0,r=t.transforms.length,s=e;i<r&&!e;){if(t.transforms[i].transform.mProps._mdf){s=!0;break}i+=1}if(s)for(t.finalTransform.reset(),i=r-1;i>=0;i-=1)t.finalTransform.transform((n=t.transforms[i].transform.mProps.v.props)[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);t._mdf=s},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,n,i=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var r=createNS("mask");r.setAttribute("id",this.layerId),r.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),r.appendChild(this.layerElement),i=r,this.globalData.defs.appendChild(r),featureSupport.maskType||1!=this.data.td||(r.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(this.layerElement),i=n,r.appendChild(n),n.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var s=createNS("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha");var o=createNS("g");s.appendChild(o),t=createElementID(),e=filtersFactory.createFilter(t);var a=createNS("feComponentTransfer");a.setAttribute("in","SourceGraphic"),e.appendChild(a);var c=createNS("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),a.appendChild(c),this.globalData.defs.appendChild(e);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+t+")"),o.appendChild(u),o.appendChild(this.layerElement),i=o,featureSupport.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),o.appendChild(u),n.appendChild(this.layerElement),i=n,o.appendChild(n)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var l=createNS("clipPath"),h=createNS("path");h.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(l.setAttribute("id",d),l.appendChild(h),this.globalData.defs.appendChild(l),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+locationHref+"#"+d+")"),p.appendChild(this.layerElement),this.transformedElement=p,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,i=e.length;n<i;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,i=n.length;i;)if(n[i-=1].elem===t)return void(n[i].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var n,i,r=e.length,s="";for(n=0;n<r;n+=1)s+=buildShapeString(i=e[n].ks.k,i.i.length,!0,t);return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,i,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(i,r,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this._currentTime=this.tm._placeholder?t/this.data.sr:this.tm.v},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,i=[],r="";e<n;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(i.push(r),r=""):r+=t[e],e+=1;return i.push(r),i},SVGTextElement.prototype.buildNewText=function(){var t,e,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),this.layerElement.setAttribute("fill",n.fc?this.buildColor(n.fc):"rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var i=this.globalData.fontManager.getFontByName(n.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var r=n.fWeight;this.layerElement.setAttribute("font-style",n.fStyle),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",n.t);var s,o=n.l||[],a=!!this.globalData.fontManager.chars;e=o.length;var c,u=this.mHelper,l="",h=this.data.singleShape,d=0,p=0,f=!0,_=n.tr/1e3*n.finalSize;if(!h||a||n.sz){var g,m,v=this.textSpans.length;for(t=0;t<e;t+=1)a&&h&&0!==t||(s=v>t?this.textSpans[t]:createNS(a?"path":"text"),v<=t&&(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=s,this.layerElement.appendChild(s)),s.style.display="inherit"),u.reset(),u.scale(n.finalSize/100,n.finalSize/100),h&&(o[t].n&&(d=-_,p+=n.yOffset,p+=f?1:0,f=!1),this.applyTextPropertiesToMatrix(n,u,o[t].line,d,p),d+=o[t].l||0,d+=_),a?(c=(g=(m=this.globalData.fontManager.getCharData(n.finalText[t],i.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily))&&m.data||{}).shapes?g.shapes[0].it:[],h?l+=this.createPathShape(u,c):s.setAttribute("d",this.createPathShape(u,c))):(h&&s.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),s.textContent=o[t].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));h&&s&&s.setAttribute("d",l)}else{var y=this.textContainer,b="start";switch(n.j){case 1:b="end";break;case 2:b="middle"}y.setAttribute("text-anchor",b),y.setAttribute("letter-spacing",_);var E=this.buildTextContents(n.finalText);for(e=E.length,p=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)(s=this.textSpans[t]||createNS("tspan")).textContent=E[t],s.setAttribute("x",0),s.setAttribute("y",p),s.style.display="inherit",y.appendChild(s),this.textSpans[t]=s,p+=n.finalLineHeight;this.layerElement.appendChild(y)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,i,r=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n||(i=this.textSpans[t],(n=r[t])._mdf.m&&i.setAttribute("transform",n.m),n._mdf.o&&i.setAttribute("opacity",n.o),n._mdf.sw&&i.setAttribute("stroke-width",n.sw),n._mdf.sc&&i.setAttribute("stroke",n.sc),n._mdf.fc&&i.setAttribute("fill",n.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,i,r=this.shapes.length,s=this.stylesList.length,o=[],a=!1;for(n=0;n<s;n+=1){for(i=this.stylesList[n],a=!1,o.length=0,t=0;t<r;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(o.push(e),a=e._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,i=new SVGStyleData(t,e),r=i.pElem;return"st"===t.ty?n=new SVGStrokeStyleData(this,t,i):"fl"===t.ty?n=new SVGFillStyleData(this,t,i):"gf"!==t.ty&&"gs"!==t.ty||(n=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,i),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),r.setAttribute("mask","url("+locationHref+"#"+n.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(r.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),r.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),r.setAttribute("fill-opacity","0"),1===t.lj&&r.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&r.setAttribute("fill-rule","evenodd"),t.ln&&r.setAttribute("id",t.ln),t.cl&&r.setAttribute("class",t.cl),t.bm&&(r.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(i),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),i=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7);var r=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,i,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,i=this.animatedContents.length;n<i;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,i,r,s,o){var a,c,u,l,h,d=[].concat(s),p=t.length-1,f=[],_=[];for(a=p;a>=0;a-=1){if((h=this.searchProcessedElement(t[a]))?e[a]=n[h-1]:t[a]._render=o,"fl"==t[a].ty||"st"==t[a].ty||"gf"==t[a].ty||"gs"==t[a].ty)h?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],r),t[a]._render&&i.appendChild(e[a].style.pElem),f.push(e[a].style);else if("gr"==t[a].ty){if(h)for(u=e[a].it.length,c=0;c<u;c+=1)e[a].prevViewData[c]=e[a].it[c];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,r+1,d,o),t[a]._render&&i.appendChild(e[a].gr)}else"tr"==t[a].ty?(h||(e[a]=this.createTransformElement(t[a],i)),d.push(e[a].transform)):"sh"==t[a].ty||"rc"==t[a].ty||"el"==t[a].ty||"sr"==t[a].ty?(h||(e[a]=this.createShapeElement(t[a],d,r)),this.setElementStyles(e[a])):"tm"==t[a].ty||"rd"==t[a].ty||"ms"==t[a].ty||"pb"==t[a].ty?(h?(l=e[a]).closed=!1:((l=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=l,this.shapeModifiers.push(l)),_.push(l)):"rp"==t[a].ty&&(h?(l=e[a]).closed=!0:(l=ShapeModifiers.getModifier(t[a].ty),e[a]=l,l.init(this,t,a,e),this.shapeModifiers.push(l),o=!1),_.push(l));this.addProcessedElement(t[a],a+1)}for(p=f.length,a=0;a<p;a+=1)f[a].closed=!0;for(p=_.length,a=0;a<p;a+=1)_[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==n?0:e)+" "+(2==n?0:e)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,i,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,n=0):i=1+(n=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<i;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o=createElementID();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var a=createNS("g");for(a.setAttribute("mask","url("+locationHref+"#"+o+")");r[0];)a.appendChild(r[0]);this.elem.layerElement.appendChild(a),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,n,i,r=this.paths.length;for(e=0;e<r;e+=1)if(-1!==this.paths[e].m&&(n=this.elem.maskManager.viewData[this.paths[e].m],i=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&i.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,a=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,c=i.getTotalLength();s="0 0 0 "+c*o+" ";var u,l=Math.floor(c*(a-o)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100));for(u=0;u<l;u+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";s+="0 "+10*c+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;i.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var h=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*h[0])+","+bm_floor(255*h[1])+","+bm_floor(255*h[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,r=i[1]+" "+n[1]+" "+e[1],s=i[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i[0]+" "+n[0]+" "+e[0]),this.feFuncG.setAttribute("tableValues",r),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,i,r){for(var s,o,a=0,c=Math.min(t,e),u=Math.max(t,e),l=Array.call(null,{length:256}),h=0,d=r-i,p=e-t;a<=256;)o=(s=a/256)<=c?p<0?r:i:s>=u?p<0?i:r:i+d*Math.pow((s-t)/p,1/n),l[h++]=o,a+=256/255;return l.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=n*Math.cos(i),s=n*Math.sin(i);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGEffects(t){var e,n,i=t.data.ef?t.data.ef.length:0,r=createElementID(),s=filtersFactory.createFilter(r),o=0;for(this.filters=[],e=0;e<i;e+=1)n=null,20===t.data.ef[e].ty?(o+=1,n=new SVGTintFilter(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(o+=1,n=new SVGFillFilter(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?n=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(o+=1,n=new SVGTritoneFilter(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(o+=1,n=new SVGProLevelsFilter(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(o+=1,n=new SVGDropShadowEffect(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?n=new SVGMatte3Effect(s,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(o+=1,n=new SVGGaussianBlurEffect(s,t.effectsManager.effectElements[e])),n&&this.filters.push(n);o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,n)}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,i=this.masksProperties.length,r=!1;for(n=0;n<i;n++)"n"!==this.masksProperties[n].mode&&(r=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=r,r&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVEffects(){}function HBaseElement(t,e,n){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var r,s=t.ks.or.k.length;for(r=0;r<s;r+=1)t.ks.or.k[r].to=null,t.ks.or.k[r].ti=null}this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var i,r=n.children,s=0,o=r.length;s<o&&r[s]!==t.layerElement;)s+=1;s<=o-2&&(i=r[s+1]);var a=createNS("use");a.setAttribute("href","#"+e),i?n.insertBefore(a,i):n.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),i=createNS("mask");i.setAttribute("id",e.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var r=t.globalData.defs;r.appendChild(i);var s=createNS("symbol");s.setAttribute("id",n),this.replaceInParent(e,n),s.appendChild(e.layerElement),r.appendChild(s);var o=createNS("use");o.setAttribute("href","#"+n),i.appendChild(o),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,i=e.length;n<i;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var n=0;for(n=this._length;n<t;n+=1)this.saved[n]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,i=t.getContext("2d"),r=this.img.width,s=this.img.height,o=r/s,a=this.assetData.w/this.assetData.h,c=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>a&&"xMidYMid slice"===c||o<a&&"xMidYMid slice"!==c?e=(n=s)*a:n=(e=r)/a,i.drawImage(this.img,(r-e)/2,(s-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(t){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,i,r=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),t=0;t<o;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),e=r.applyToPointArray((i=this.viewData[t].v).v[0][0],i.v[0][1],0),s.moveTo(e[0],e[1]);var a,c=i._length;for(a=1;a<c;a++)n=r.applyToTriplePoints(i.o[a-1],i.i[a],i.v[a]),s.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=r.applyToTriplePoints(i.o[a-1],i.i[0],i.v[0]),s.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},i={};if("fl"==t.ty||"st"==t.ty?(i.c=PropertyFactory.getProp(this,t.c,1,255,this),i.c.k||(n.co="rgb("+bm_floor(i.c.v[0])+","+bm_floor(i.c.v[1])+","+bm_floor(i.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(i.s=PropertyFactory.getProp(this,t.s,1,null,this),i.e=PropertyFactory.getProp(this,t.e,1,null,this),i.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,t.g,this)),i.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty){if(n.lc=this.lcEnum[t.lc]||"round",n.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(n.ml=t.ml),i.w=PropertyFactory.getProp(this,t.w,0,null,this),i.w.k||(n.wi=i.w.v),t.d){var r=new DashProperty(this,t.d,"canvas",this);i.d=r,i.d.k||(n.da=i.d.dashArray,n.do=i.d.dashoffset[0])}}else n.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(n),i.style=n,i},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,i,r){var s,o,a,c,u,l,h=t.length-1,d=[],p=[],f=[].concat(r);for(s=h;s>=0;s-=1){if((c=this.searchProcessedElement(t[s]))?e[s]=n[c-1]:t[s]._shouldRender=i,"fl"==t[s].ty||"st"==t[s].ty||"gf"==t[s].ty||"gs"==t[s].ty)c?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],f),d.push(e[s].style);else if("gr"==t[s].ty){if(c)for(a=e[s].it.length,o=0;o<a;o+=1)e[s].prevViewData[o]=e[s].it[o];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,i,f)}else"tr"==t[s].ty?(c||(l=this.createTransformElement(t[s]),e[s]=l),f.push(e[s]),this.addTransformToStyleList(e[s])):"sh"==t[s].ty||"rc"==t[s].ty||"el"==t[s].ty||"sr"==t[s].ty?c||(e[s]=this.createShapeElement(t[s])):"tm"==t[s].ty||"rd"==t[s].ty||"pb"==t[s].ty?(c?(u=e[s]).closed=!1:((u=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=u,this.shapeModifiers.push(u)),p.push(u)):"rp"==t[s].ty&&(c?(u=e[s]).closed=!0:(u=ShapeModifiers.getModifier(t[s].ty),e[s]=u,u.init(this,t,s,e),this.shapeModifiers.push(u),i=!1),p.push(u));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),h=p.length,s=0;s<h;s+=1)p[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,i,r,s,o,a,c,u=this.stylesList.length,l=this.globalData.renderer,h=this.globalData.canvasContext;for(t=0;t<u;t+=1)if(("st"!==(a=(c=this.stylesList[t]).type)&&"gs"!==a||0!==c.wi)&&c.data._shouldRender&&0!==c.coOp&&0!==this.globalData.currentGlobalAlpha){for(l.save(),s=c.elements,"st"===a||"gs"===a?(h.strokeStyle="st"===a?c.co:c.grd,h.lineWidth=c.wi,h.lineCap=c.lc,h.lineJoin=c.lj,h.miterLimit=c.ml||0):h.fillStyle="fl"===a?c.co:c.grd,l.ctxOpacity(c.coOp),"st"!==a&&"gs"!==a&&h.beginPath(),l.ctxTransform(c.preTransforms.finalTransform.props),n=s.length,e=0;e<n;e+=1){for("st"!==a&&"gs"!==a||(h.beginPath(),c.da&&(h.setLineDash(c.da),h.lineDashOffset=c.do)),r=(o=s[e].trNodes).length,i=0;i<r;i+=1)"m"==o[i].t?h.moveTo(o[i].p[0],o[i].p[1]):"c"==o[i].t?h.bezierCurveTo(o[i].pts[0],o[i].pts[1],o[i].pts[2],o[i].pts[3],o[i].pts[4],o[i].pts[5]):h.closePath();"st"!==a&&"gs"!==a||(h.stroke(),c.da&&h.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&h.fill(c.r),l.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,i){var r,s;for(s=t,r=e.length-1;r>=0;r-=1)"tr"==e[r].ty?this.renderShapeTransform(t,s=n[r].transform):"sh"==e[r].ty||"el"==e[r].ty||"rc"==e[r].ty||"sr"==e[r].ty?this.renderPath(e[r],n[r]):"fl"==e[r].ty?this.renderFill(e[r],n[r],s):"st"==e[r].ty?this.renderStroke(e[r],n[r],s):"gf"==e[r].ty||"gs"==e[r].ty?this.renderGradientFill(e[r],n[r],s):"gr"==e[r].ty&&this.renderShape(s,e[r].it,n[r].it);i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,i,r,s=t.trNodes,o=e.paths,a=o._length;s.length=0;var c=t.transforms.finalTransform;for(r=0;r<a;r+=1){var u=o.shapes[r];if(u&&u.v){for(i=u._length,n=1;n<i;n+=1)1===n&&s.push({t:"m",p:c.applyToPointArray(u.v[0][0],u.v[0][1],0)}),s.push({t:"c",pts:c.applyToTriplePoints(u.o[n-1],u.i[n],u.v[n])});1===i&&s.push({t:"m",p:c.applyToPointArray(u.v[0][0],u.v[0][1],0)}),u.c&&i&&(s.push({t:"c",pts:c.applyToTriplePoints(u.o[n-1],u.i[0],u.v[0])}),s.push({t:"z"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var n,i=e.styledShapes.length;for(n=0;n<i;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var i=e.style;(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var r=this.globalData.canvasContext,s=e.s.v,o=e.e.v;if(1===t.t)d=r.createLinearGradient(s[0],s[1],o[0],o[1]);else var a=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),c=Math.atan2(o[1]-s[1],o[0]-s[0]),u=a*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),l=Math.cos(c+e.a.v)*u+s[0],h=Math.sin(c+e.a.v)*u+s[1],d=r.createRadialGradient(l,h,0,s[0],s[1],a);var p,f=t.g.p,_=e.g.c,g=1;for(p=0;p<f;p+=1)e.g._hasOpacity&&e.g._collapsable&&(g=e.g.o[2*p+1]),d.addColorStop(_[4*p]/100,"rgba("+_[4*p+1]+","+_[4*p+2]+","+_[4*p+3]+","+g+")");i.grd=d}i.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var i=e.style,r=e.d;r&&(r._mdf||this._isFirstFrame)&&(i.da=r.dashArray,i.do=r.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(i.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i,r,s=this.globalData.fontManager.getFontByName(t.f),o=t.l,a=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,r=t.finalText.length;var c,u,l,h,d,p,f,_,g,m,v=this.data.singleShape,y=t.tr/1e3*t.finalSize,b=0,E=0,O=!0,S=0;for(i=0;i<r;i+=1){for(u=(c=this.globalData.fontManager.getCharData(t.finalText[i],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&c.data||{},a.reset(),v&&o[i].n&&(b=-y,E+=t.yOffset,E+=O?1:0,O=!1),f=(d=u.shapes?u.shapes[0].it:[]).length,a.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,a,o[i].line,b,E),g=createSizedArray(f),p=0;p<f;p+=1){for(h=d[p].ks.k.i.length,_=d[p].ks.k,m=[],l=1;l<h;l+=1)1==l&&m.push(a.applyToX(_.v[0][0],_.v[0][1],0),a.applyToY(_.v[0][0],_.v[0][1],0)),m.push(a.applyToX(_.o[l-1][0],_.o[l-1][1],0),a.applyToY(_.o[l-1][0],_.o[l-1][1],0),a.applyToX(_.i[l][0],_.i[l][1],0),a.applyToY(_.i[l][0],_.i[l][1],0),a.applyToX(_.v[l][0],_.v[l][1],0),a.applyToY(_.v[l][0],_.v[l][1],0));m.push(a.applyToX(_.o[l-1][0],_.o[l-1][1],0),a.applyToY(_.o[l-1][0],_.o[l-1][1],0),a.applyToX(_.i[0][0],_.i[0][1],0),a.applyToY(_.i[0][0],_.i[0][1],0),a.applyToX(_.v[0][0],_.v[0][1],0),a.applyToY(_.v[0][0],_.v[0][1],0)),g[p]=m}v&&(b+=o[i].l,b+=y),this.textSpans[S]?this.textSpans[S].elem=g:this.textSpans[S]={elem:g},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,n,i,r,s,o=this.canvasContext;o.font=this.values.fValue,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,c=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;e=u.length;var l,h,d=null,p=null,f=null;for(t=0;t<e;t+=1)if(!u[t].n){if((a=c[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?d!==a.fc&&(d=a.fc,o.fillStyle=a.fc):d!==this.values.fill&&(d=this.values.fill,o.fillStyle=this.values.fill),i=(l=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<i;n+=1)for(s=(h=l[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),r=2;r<s;r+=6)this.globalData.canvasContext.bezierCurveTo(h[r],h[r+1],h[r+2],h[r+3],h[r+4],h[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?f!==a.sw&&(f=a.sw,o.lineWidth=a.sw):f!==this.values.sWidth&&(f=this.values.sWidth,o.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,o.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,o.strokeStyle=this.values.stroke),i=(l=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<i;n+=1)for(s=(h=l[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),r=2;r<s;r+=6)this.globalData.canvasContext.bezierCurveTo(h[r],h[r+1],h[r+2],h[r+3],h[r+4],h[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,i=0;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,i,r,s,o,a=t.sh.v,c=t.transformers,u=a._length;if(!(u<=1)){for(n=0;n<u-1;n+=1)i=this.getTransformedPoint(c,a.v[n]),r=this.getTransformedPoint(c,a.o[n]),s=this.getTransformedPoint(c,a.i[n+1]),o=this.getTransformedPoint(c,a.v[n+1]),this.checkBounds(i,r,s,o,e);a.c&&(i=this.getTransformedPoint(c,a.v[n]),r=this.getTransformedPoint(c,a.o[n]),s=this.getTransformedPoint(c,a.i[0]),o=this.getTransformedPoint(c,a.v[0]),this.checkBounds(i,r,s,o,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,i,r){this.getBoundsOfCurve(t,e,n,i);var s=this.shapeBoundingBox;r.x=bm_min(s.left,r.x),r.xMax=bm_max(s.right,r.xMax),r.y=bm_min(s.top,r.y),r.yMax=bm_max(s.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,i){for(var r,s,o,a,c,u,l,h=[[t[0],i[0]],[t[1],i[1]]],d=0;d<2;++d)if(s=6*t[d]-12*e[d]+6*n[d],r=-3*t[d]+9*e[d]-9*n[d]+3*i[d],o=3*e[d]-3*t[d],s|=0,o|=0,0!=(r|=0))(c=s*s-4*o*r)<0||(0<(u=(-s+bm_sqrt(c))/(2*r))&&u<1&&h[d].push(this.calculateF(u,t,e,n,i,d)),0<(l=(-s-bm_sqrt(c))/(2*r))&&l<1&&h[d].push(this.calculateF(l,t,e,n,i,d)));else{if(0===s)continue;0<(a=-o/s)&&a<1&&h[d].push(this.calculateF(a,t,e,n,i,d))}this.shapeBoundingBox.left=bm_min.apply(null,h[0]),this.shapeBoundingBox.top=bm_min.apply(null,h[1]),this.shapeBoundingBox.right=bm_max.apply(null,h[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,h[1])},HShapeElement.prototype.calculateF=function(t,e,n,i,r,s){return bm_pow(1-t,3)*e[s]+3*bm_pow(1-t,2)*t*n[s]+3*(1-t)*bm_pow(t,2)*i[s]+bm_pow(t,3)*r[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it&&this.calculateBoundingBox(t[n].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),(n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y)&&(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n,i,r=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",r.fClass)this.innerElem.className=r.fClass;else{e.fontFamily=r.fFamily;var s=t.fWeight;e.fontStyle=t.fStyle,e.fontWeight=s}var o,a,c,u=t.l;i=u.length;var l,h=this.mHelper,d="",p=0;for(n=0;n<i;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[p]?o=this.textPaths[p]:((o=createNS("path")).setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[p]?c=(a=this.textSpans[p]).children[0]:((a=createTag("div")).style.lineHeight=0,(c=createNS("svg")).appendChild(o),styleDiv(a)))):this.isMasked?o=this.textPaths[p]?this.textPaths[p]:createNS("text"):this.textSpans[p]?(a=this.textSpans[p],o=this.textPaths[p]):(styleDiv(a=createTag("span")),styleDiv(o=createTag("span")),a.appendChild(o)),this.globalData.fontManager.chars){var f,_=this.globalData.fontManager.getCharData(t.finalText[n],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(f=_?_.data:null,h.reset(),f&&f.shapes&&(l=f.shapes[0].it,h.scale(t.finalSize/100,t.finalSize/100),d=this.createPathShape(h,l),o.setAttribute("d",d)),this.isMasked)this.innerElem.appendChild(o);else{if(this.innerElem.appendChild(a),f&&f.shapes){document.body.appendChild(c);var g=c.getBBox();c.setAttribute("width",g.width+2),c.setAttribute("height",g.height+2),c.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2)),c.style.transform=c.style.webkitTransform="translate("+(g.x-1)+"px,"+(g.y-1)+"px)",u[n].yOffset=g.y-1}else c.setAttribute("width",1),c.setAttribute("height",1);a.appendChild(c)}}else o.textContent=u[n].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(o):(this.innerElem.appendChild(a),o.style.transform=o.style.webkitTransform="translate3d(0,"+-t.finalSize/1.2+"px,0)");this.textSpans[p]=this.isMasked?o:a,this.textSpans[p].style.display="block",this.textPaths[p]=o,p+=1}for(;p<this.textSpans.length;)this.textSpans[p].style.display="none",p+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,e,n,i,r,s=0,o=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n?s+=1:(i=this.textSpans[t],r=this.textPaths[t],n=o[s],s+=1,n._mdf.m&&(this.isMasked?i.setAttribute("transform",n.m):i.style.transform=i.style.webkitTransform=n.m),i.style.opacity=n.o,n.sw&&n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&r.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(r.setAttribute("fill",n.fc),r.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.innerElem.getBBox();this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.svgElement.setAttribute("width",c.width)),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.svgElement.setAttribute("height",c.height)),this.currentBBox.w===c.width+2&&this.currentBBox.h===c.height+2&&this.currentBBox.x===c.x-1&&this.currentBBox.y===c.y-1||(this.currentBBox.w=c.width+2,this.currentBBox.h=c.height+2,this.currentBBox.x=c.x-1,this.currentBBox.y=c.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n=this.comp.threeDElements.length;for(t=0;t<n;t+=1)"3d"===(e=this.comp.threeDElements[t]).type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var i=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r;r=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),o=[r[0]/s,r[1]/s,r[2]/s],a=Math.sqrt(o[2]*o[2]+o[0]*o[0]),c=Math.atan2(o[1],a),u=Math.atan2(o[0],-o[2]);this.mat.rotateY(u).rotateX(-c)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var l=!this._prevMat.equals(this.mat);if((l||this.pe._mdf)&&this.comp.threeDElements){var h;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)"3d"===(h=this.comp.threeDElements[t]).type&&(l&&(h.container.style.transform=h.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(h.perspectiveElem.style.perspective=h.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],n=0,i=0,r=0,s=!0,o=!1;function a(t){for(var n=0,r=t.target;n<i;)e[n].animation===r&&(e.splice(n,1),n-=1,i-=1,r.isPaused||l()),n+=1}function c(t,n){if(!t)return null;for(var r=0;r<i;){if(e[r].elem==t&&null!==e[r].elem)return e[r].animation;r+=1}var s=new AnimationItem;return h(s,t),s.setData(t,n),s}function u(){r+=1,f()}function l(){r-=1}function h(t,n){t.addEventListener("destroy",a),t.addEventListener("_active",u),t.addEventListener("_idle",l),e.push({elem:n,animation:t}),i+=1}function d(t){var a,c=t-n;for(a=0;a<i;a+=1)e[a].animation.advanceTime(c);n=t,r&&!o?window.requestAnimationFrame(d):s=!0}function p(t){n=t,window.requestAnimationFrame(d)}function f(){!o&&r&&s&&(window.requestAnimationFrame(p),s=!1)}return t.registerAnimation=c,t.loadAnimation=function(t){var e=new AnimationItem;return h(e,null),e.setParams(t),e},t.setSpeed=function(t,n){var r;for(r=0;r<i;r+=1)e[r].animation.setSpeed(t,n)},t.setDirection=function(t,n){var r;for(r=0;r<i;r+=1)e[r].animation.setDirection(t,n)},t.play=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.play(t)},t.pause=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.pause(t)},t.stop=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.stop(t)},t.togglePause=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.togglePause(t)},t.searchAnimations=function(t,e,n){var i,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=r.length;for(i=0;i<s;i+=1)n&&r[i].setAttribute("data-bm-type",n),c(r[i],t);if(e&&0===s){n||(n="svg");var o=document.getElementsByTagName("body")[0];o.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",n),o.appendChild(a),c(a,t)}},t.resize=function(){var t;for(t=0;t<i;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,n,r){var s;for(s=0;s<i;s+=1)e[s].animation.goToAndStop(t,n,r)},t.destroy=function(t){var n;for(n=i-1;n>=0;n-=1)e[n].animation.destroy(t)},t.freeze=function(){o=!0},t.unfreeze=function(){o=!1,f()},t.setVolume=function(t,n){var r;for(r=0;r<i;r+=1)e[r].animation.setVolume(t,n)},t.mute=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.mute(t)},t.unmute=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,n=e.length,i=[];for(t=0;t<n;t+=1)i.push(e[t].animation);return i},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,this.loop=""===t.loop||null==t.loop||!0===t.loop||!1!==t.loop&&parseInt(t.loop),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.configAnimation(t.animationData):t.path&&(this.path=-1!==t.path.lastIndexOf("\\")?t.path.substr(0,t.path.lastIndexOf("\\")+1):t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),(function(){this.trigger("data_failed")}).bind(this)))},AnimationItem.prototype.setData=function(t,e){var n={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},i=t.attributes;n.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",n.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:"canvas";var r=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";""===r||(n.loop="false"!==r&&("true"===r||parseInt(r)));var s=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;n.autoplay="false"!==s,n.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"","false"===(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,i=this.animationData.layers,r=i.length,s=t.layers,o=s.length;for(n=0;n<o;n+=1)for(e=0;e<r;){if(i[e].id==s[n].id){i[e]=s[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,e=0;e<r;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.isLoaded||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,n){n&&this.name!=n||(this.setCurrentRawFrameValue(e?t:t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,n){this.goToAndStop(t,e,n),this.play()},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var n,i=t.length;for(n=0;n<i;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions={initExpressions:function(t){var e=0,n=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=n.length;for(t=0;t<e;t+=1)n[t].release();n.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===n.indexOf(t)&&n.push(t)}}};expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var n,i=t.length,r=[];for(n=0;n<i;n+=1)r[n]=-t[n];return r}return t.propType?t.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=typeof t,i=typeof e;if("string"===n||"string"===i)return t+e;if(isNumerable(n,t)&&isNumerable(i,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,s=t.length,o=e.length,a=[];r<s||r<o;)a[r]=("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?t[r]+e[r]:void 0===e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}var add=sum;function sub(t,e){var n=typeof t,i=typeof e;if(isNumerable(n,t)&&isNumerable(i,e))return"string"===n&&(t=parseInt(t)),"string"===i&&(e=parseInt(e)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]=t[0]-e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,s=t.length,o=e.length,a=[];r<s||r<o;)a[r]=("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?t[r]-e[r]:void 0===e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}function mul(t,e){var n,i,r,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(n=createTypedArray("float32",r=t.length),i=0;i<r;i+=1)n[i]=t[i]*e;return n}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=createTypedArray("float32",r=e.length),i=0;i<r;i+=1)n[i]=t*e[i];return n}return 0}function div(t,e){var n,i,r,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(n=createTypedArray("float32",r=t.length),i=0;i<r;i+=1)n[i]=t[i]/e;return n}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=createTypedArray("float32",r=e.length),i=0;i<r;i+=1)n[i]=t/e[i];return n}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var i=n;n=e,e=i}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return Math.abs(t-(e=e||0));e||(e=helperLengthArray);var n,i=Math.min(t.length,e.length),r=0;for(n=0;n<i;n+=1)r+=Math.pow(e[n]-t[n],2);return Math.sqrt(r)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,i=t[0],r=t[1],s=t[2],o=Math.max(i,r,s),a=Math.min(i,r,s),c=(o+a)/2;if(o==a)e=n=0;else{var u=o-a;switch(n=c>.5?u/(2-o-a):u/(o+a),o){case i:e=(r-s)/u+(r<s?6:0);break;case r:e=(s-i)/u+2;break;case s:e=(i-r)/u+4}e/=6}return[e,n,c,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,i,r=t[0],s=t[1],o=t[2];if(0===s)e=n=i=o;else{var a=o<.5?o*(1+s):o+s-o*s,c=2*o-a;e=hue2rgb(c,a,r+1/3),n=hue2rgb(c,a,r),i=hue2rgb(c,a,r-1/3)}return[e,n,i,t[3]]}function linear(t,e,n,i,r){if(void 0!==i&&void 0!==r||(i=e,r=n,e=0,n=1),n<e){var s=n;n=e,e=s}if(t<=e)return i;if(t>=n)return r;var o=n===e?0:(t-e)/(n-e);if(!i.length)return i+(r-i)*o;var a,c=i.length,u=createTypedArray("float32",c);for(a=0;a<c;a+=1)u[a]=i[a]+(r[a]-i[a])*o;return u}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var n,i=e.length;t||(t=createTypedArray("float32",i));var r=createTypedArray("float32",i),s=BMMath.random();for(n=0;n<i;n+=1)r[n]=t[n]+s*(e[n]-t[n]);return r}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,i){var r,s=t.length,o=shape_pool.newElement();o.setPathData(!!i,s);var a,c,u=[0,0];for(r=0;r<s;r+=1)o.setTripleAt(t[r][0],t[r][1],(c=n&&n[r]?n[r]:u)[0]+t[r][0],c[1]+t[r][1],(a=e&&e[r]?e[r]:u)[0]+t[r][0],a[1]+t[r][1],r,!0);return o}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=(function(t,e){var n,i,r=this.pv.length?this.pv.length:1,s=createTypedArray("float32",r),o=Math.floor(5*time);for(n=0,i=0;n<o;){for(i=0;i<r;i+=1)s[i]+=-e+2*e*BMMath.random();n+=1}var a=5*time,c=a-Math.floor(a),u=createTypedArray("float32",r);if(r>1){for(i=0;i<r;i+=1)u[i]=this.pv[i]+s[i]+(-e+2*e*BMMath.random())*c;return u}return this.pv+s[0]+(-e+2*e*BMMath.random())*c}).bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],i=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,i,0]}function easeOut(t,e,n,i,r){return applyEase(easeOutBez,t,e,n,i,r)}function easeIn(t,e,n,i,r){return applyEase(easeInBez,t,e,n,i,r)}function ease(t,e,n,i,r){return applyEase(easeInOutBez,t,e,n,i,r)}function applyEase(t,e,n,i,r,s){void 0===r?(r=n,s=i):e=(e-n)/(i-n);var o=t(e=e>1?1:e<0?0:e);if($bm_isInstanceOfArray(r)){var a,c=r.length,u=createTypedArray("float32",c);for(a=0;a<c;a+=1)u[a]=(s[a]-r[a])*o+r[a];return u}return(s-r)*o+r}function nearestKey(t){var e,n,i,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,i=data.k[0].t;else{for(e=0;e<r-1;e+=1){if(t===data.k[e].t){n=e+1,i=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,i=data.k[e+1].t):(n=e+1,i=data.k[e].t);break}}-1===n&&(n=e+1,i=data.k[e].t)}else n=0,i=0;var s={};return s.index=n,s.time=i/elem.comp.globalData.frameRate,s}function key(t){var e,n,i;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);e={time:data.k[t-=1].t/elem.comp.globalData.frameRate,value:[]};var r=data.k[t].hasOwnProperty("s")?data.k[t].s:data.k[t-1].e;for(i=r.length,n=0;n<i;n+=1)e[n]=r[n],e.value[n]=r[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),n=this.getValueAtTime(t+-.01),i=0;if(e.length){var r;for(r=0;r<e.length;r+=1)i+=Math.pow(n[r]-e[r],2);i=100*Math.sqrt(i)}else i=0;return i},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,n,i=this.getValueAtTime(t),r=this.getValueAtTime(t+-.001);if(i.length)for(e=createTypedArray("float32",i.length),n=0;n<i.length;n+=1)e[n]=(r[n]-i[n])/-.001;else e=(r-i)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,n){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var i,r,s,o,a,c=this.comp.renderedFrame,u=this.keyframes,l=u[u.length-1].t;if(c<=l)return this.pv;if(n?r=l-(i=e?Math.abs(l-elem.comp.globalData.frameRate*e):Math.max(0,l-this.elem.data.ip)):((!e||e>u.length-1)&&(e=u.length-1),i=l-(r=u[u.length-1-e].t)),"pingpong"===t){if(Math.floor((c-r)/i)%2!=0)return this.getValueAtTime((i-(c-r)%i+r)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(r/this.comp.globalData.frameRate,0),d=this.getValueAtTime(l/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((c-r)%i+r)/this.comp.globalData.frameRate,0),f=Math.floor((c-r)/i);if(this.pv.length){for(o=(a=new Array(h.length)).length,s=0;s<o;s+=1)a[s]=(d[s]-h[s])*f+p[s];return a}return(d-h)*f+p}if("continue"===t){var _=this.getValueAtTime(l/this.comp.globalData.frameRate,0),g=this.getValueAtTime((l-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(_.length)).length,s=0;s<o;s+=1)a[s]=_[s]+(c-l)/this.comp.globalData.frameRate*(_[s]-g[s])/5e-4;return a}return _+(c-l)/.001*(_-g)}}return this.getValueAtTime(((c-r)%i+r)/this.comp.globalData.frameRate,0)}function e(t,e,n){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var i,r,s,o,a,c=this.comp.renderedFrame,u=this.keyframes,l=u[0].t;if(c>=l)return this.pv;if(n?r=l+(i=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-l)):((!e||e>u.length-1)&&(e=u.length-1),i=(r=u[e].t)-l),"pingpong"===t){if(Math.floor((l-c)/i)%2==0)return this.getValueAtTime(((l-c)%i+l)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(l/this.comp.globalData.frameRate,0),d=this.getValueAtTime(r/this.comp.globalData.frameRate,0),p=this.getValueAtTime((i-(l-c)%i+l)/this.comp.globalData.frameRate,0),f=Math.floor((l-c)/i)+1;if(this.pv.length){for(o=(a=new Array(h.length)).length,s=0;s<o;s+=1)a[s]=p[s]-(d[s]-h[s])*f;return a}return p-(d-h)*f}if("continue"===t){var _=this.getValueAtTime(l/this.comp.globalData.frameRate,0),g=this.getValueAtTime((l+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(_.length)).length,s=0;s<o;s+=1)a[s]=_[s]+(_[s]-g[s])*(l-c)/.001;return a}return _+(_-g)*(l-c)/.001}}return this.getValueAtTime((i-(l-c)%i+l)/this.comp.globalData.frameRate,0)}function n(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var n,i,r=this.comp.renderedFrame/this.comp.globalData.frameRate,s=r-t,o=e>1?(r+t-s)/(e-1):1,a=0,c=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;a<e;){if(i=this.getValueAtTime(s+a*o),this.pv.length)for(c=0;c<this.pv.length;c+=1)n[c]+=i[c];else n+=i;a+=1}if(this.pv.length)for(c=0;c<this.pv.length;c+=1)n[c]/=e;else n/=e;return n}function i(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(t);e.translate(-n[0],-n[1],n[2])}if(this.appliedTransformations<2){var i=this.s.getValueAtTime(t);e.scale(i[0],i[1],i[2])}if(this.sk&&this.appliedTransformations<3){var r=this.sk.getValueAtTime(t),s=this.sa.getValueAtTime(t);e.skewFromAxis(-r,s)}if(this.r&&this.appliedTransformations<4){var o=this.r.getValueAtTime(t);e.rotate(-o)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(t),c=this.ry.getValueAtTime(t),u=this.rx.getValueAtTime(t),l=this.or.getValueAtTime(t);e.rotateZ(-a.v).rotateY(c.v).rotateX(u.v).rotateZ(-l[2]).rotateY(l[1]).rotateX(l[0])}if(this.data.p&&this.data.p.s){var h=this.px.getValueAtTime(t),d=this.py.getValueAtTime(t);if(this.data.p.z){var p=this.pz.getValueAtTime(t);e.translate(h,d,-p)}else e.translate(h,d,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0],f[1],-f[2])}return e}function r(t){}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,n){var o=s(t,e,n);return o.getValueAtTime=o.dynamicProperties.length?i.bind(o):r.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o};var o=PropertyFactory.getProp;PropertyFactory.getProp=function(i,r,s,a,c){var u=o(i,r,s,a,c);u.getValueAtTime=u.kf?expressionHelpers.getValueAtTime.bind(u):expressionHelpers.getStaticValueAtTime.bind(u),u.setGroupProperty=expressionHelpers.setGroupProperty,u.loopOut=t,u.loopIn=e,u.smooth=n,u.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(u),u.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(u),u.numKeys=1===r.a?r.k.length:0,u.propertyIndex=r.ix;var l=0;return 0!==s&&(l=createTypedArray("float32",1===r.a?r.k[0].s.length:r.k.length)),u._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:l},expressionHelpers.searchExpressions(i,r,u),u.k&&c.addDynamicProperty(u),u};var a=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();function u(){}u.prototype={vertices:function(t,e){this.k&&this.getValue();var n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0));var i,r=n._length,s=n[t],o=n.v,a=createSizedArray(r);for(i=0;i<r;i+=1)a[i]="i"===t||"o"===t?[s[i][0]-o[i][0],s[i][1]-o[i][1]]:[s[i][0],s[i][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var i,r=this._segmentsLength,s=r.lengths,o=r.totalLength*t,a=0,c=s.length,u=0;a<c;){if(u+s[a].addedLength>o){var l=n.c&&a===c-1?0:a+1;i=bez.getPointInSegment(n.v[a],n.v[l],n.o[a],n.i[l],(o-u)/s[a].addedLength,s[a]);break}u+=s[a].addedLength,a+=1}return i||(i=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),i},vectorOnPath:function(t,e,n){var i=this.pointOnPath(t=1==t?this.v.c?0:.999:t,e),r=this.pointOnPath(t+.001,e),s=r[0]-i[0],o=r[1]-i[1],a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));return 0===a?[0,0]:"tangent"===n?[s/a,o/a]:[-o/a,s/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([u],a),extendPrototype([u],c),c.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},c.prototype.initiateExpression=ExpressionManager.initiateExpression;var l=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,n,i,r){var s=l(t,e,n,i,r);return s.propertyIndex=e.ix,s.lock=!1,3===n?expressionHelpers.searchExpressions(t,e.pt,s):4===n&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}}(),TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var i={};return this.copyData(i,t),i.t=n.toString(),i.__complete=!1,i}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapePathInterface=function(t,e,n){var i=e.sh;function r(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return r.path}var s=propertyGroupFactory(r,n);return i.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(r,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),r},propertyGroupFactory=function(t,e){return function(n){return(n=void 0===n?1:n)<=0?t:e(n-1)}},PropertyInterface=function(t,e){var n={_name:t};return function(t){return(t=void 0===t?1:t)<=0?n:e(--t)}},ShapeExpressionInterface=function(){function t(t,s,h){var d,p=[],f=t?t.length:0;for(d=0;d<f;d+=1)"gr"==t[d].ty?p.push(e(t[d],s[d],h)):"fl"==t[d].ty?p.push(n(t[d],s[d],h)):"st"==t[d].ty?p.push(i(t[d],s[d],h)):"tm"==t[d].ty?p.push(r(t[d],s[d],h)):"tr"==t[d].ty||("el"==t[d].ty?p.push(o(t[d],s[d],h)):"sr"==t[d].ty?p.push(a(t[d],s[d],h)):"sh"==t[d].ty?p.push(ShapePathInterface(t[d],s[d],h)):"rc"==t[d].ty?p.push(c(t[d],s[d],h)):"rd"==t[d].ty?p.push(u(t[d],s[d],h)):"rp"==t[d].ty&&p.push(l(t[d],s[d],h)));return p}function e(e,n,i){var r=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}};r.propertyGroup=propertyGroupFactory(r,i);var o=function(e,n,i){var r,o=function(t){for(var e=0,n=r.length;e<n;){if(r[e]._name===t||r[e].mn===t||r[e].propertyIndex===t||r[e].ix===t||r[e].ind===t)return r[e];e+=1}if("number"==typeof t)return r[t-1]};o.propertyGroup=propertyGroupFactory(o,i),r=t(e.it,n.it,o.propertyGroup),o.numProperties=r.length;var a=s(e.it[e.it.length-1],n.it[n.it.length-1],o.propertyGroup);return o.transform=a,o.propertyIndex=e.cix,o._name=e.nm,o}(e,n,r.propertyGroup),a=s(e.it[e.it.length-1],n.it[n.it.length-1],r.propertyGroup);return r.content=o,r.transform=a,Object.defineProperty(r,"_name",{get:function(){return e.nm}}),r.numProperties=e.np,r.propertyIndex=e.ix,r.nm=e.nm,r.mn=e.mn,r}function n(t,e,n){function i(t){return"Color"===t||"color"===t?i.color:"Opacity"===t||"opacity"===t?i.opacity:void 0}return Object.defineProperties(i,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),i}function i(t,e,n){var i=propertyGroupFactory(u,n),r=propertyGroupFactory(c,i);function s(n){Object.defineProperty(c,t.d[n].nm,{get:ExpressionPropertyInterface(e.d.dataProps[n].p)})}var o,a=t.d?t.d.length:0,c={};for(o=0;o<a;o+=1)s(o),e.d.dataProps[o].p.setGroupProperty(r);function u(t){return"Color"===t||"color"===t?u.color:"Opacity"===t||"opacity"===t?u.opacity:"Stroke Width"===t||"stroke width"===t?u.strokeWidth:void 0}return Object.defineProperties(u,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return c}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),e.w.setGroupProperty(PropertyInterface("Stroke Width",i)),u}function r(t,e,n){function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:void 0}var r=propertyGroupFactory(i,n);return i.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",r)),e.e.setGroupProperty(PropertyInterface("End",r)),e.o.setGroupProperty(PropertyInterface("Offset",r)),i.propertyIndex=t.ix,i.propertyGroup=n,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),i.mn=t.mn,i}function s(t,e,n){function i(e){return t.a.ix===e||"Anchor Point"===e?i.anchorPoint:t.o.ix===e||"Opacity"===e?i.opacity:t.p.ix===e||"Position"===e?i.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:t.s.ix===e||"Scale"===e?i.scale:t.sk&&t.sk.ix===e||"Skew"===e?i.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?i.skewAxis:void 0}var r=propertyGroupFactory(i,n);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",r)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",r)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",r)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",r)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",r)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",r)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",r))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",r)),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),i.ty="tr",i.mn=t.mn,i.propertyGroup=n,i}function o(t,e,n){function i(e){return t.p.ix===e?i.position:t.s.ix===e?i.size:void 0}var r=propertyGroupFactory(i,n);i.propertyIndex=t.ix;var s="tm"===e.sh.ty?e.sh.prop:e.sh;return s.s.setGroupProperty(PropertyInterface("Size",r)),s.p.setGroupProperty(PropertyInterface("Position",r)),Object.defineProperties(i,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:t.nm}}),i.mn=t.mn,i}function a(t,e,n){function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.rotation:t.pt.ix===e?i.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?i.outerRadius:t.os.ix===e?i.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?i.innerRoundness:void 0:i.innerRadius}var r=propertyGroupFactory(i,n),s="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,s.or.setGroupProperty(PropertyInterface("Outer Radius",r)),s.os.setGroupProperty(PropertyInterface("Outer Roundness",r)),s.pt.setGroupProperty(PropertyInterface("Points",r)),s.p.setGroupProperty(PropertyInterface("Position",r)),s.r.setGroupProperty(PropertyInterface("Rotation",r)),t.ir&&(s.ir.setGroupProperty(PropertyInterface("Inner Radius",r)),s.is.setGroupProperty(PropertyInterface("Inner Roundness",r))),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:t.nm}}),i.mn=t.mn,i}function c(t,e,n){function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?i.size:void 0}var r=propertyGroupFactory(i,n),s="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,s.p.setGroupProperty(PropertyInterface("Position",r)),s.s.setGroupProperty(PropertyInterface("Size",r)),s.r.setGroupProperty(PropertyInterface("Rotation",r)),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:t.nm}}),i.mn=t.mn,i}function u(t,e,n){function i(e){if(t.r.ix===e||"Round Corners 1"===e)return i.radius}var r=propertyGroupFactory(i,n),s=e;return i.propertyIndex=t.ix,s.rd.setGroupProperty(PropertyInterface("Radius",r)),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:t.nm}}),i.mn=t.mn,i}function l(t,e,n){function i(e){return t.c.ix===e||"Copies"===e?i.copies:t.o.ix===e||"Offset"===e?i.offset:void 0}var r=propertyGroupFactory(i,n),s=e;return i.propertyIndex=t.ix,s.c.setGroupProperty(PropertyInterface("Copies",r)),s.o.setGroupProperty(PropertyInterface("Offset",r)),Object.defineProperties(i,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:t.nm}}),i.mn=t.mn,i}return function(e,n,i){var r;function s(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?i:r[t-1];for(var e=0,n=r.length;e<n;){if(r[e]._name===t)return r[e];e+=1}}return s.propertyGroup=i,r=t(e,n,s),s.numProperties=r.length,s}}(),TextExpressionInterface=function(t){var e;function n(t){switch(t){case"ADBE Text Document":return n.sourceText}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var n=t.textProperty.currentData.t;return void 0!==n&&(t.textProperty.currentData.t=void 0,(e=new String(n)).value=n||new String(n)),e}}),n},LayerExpressionInterface=function(){function t(t,e){var n=new Matrix;if(n.reset(),void 0!==e?n=this._elem.finalTransform.mProp.getValueAtTime(e):this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(n);return n.applyToPointArray(t[0],t[1],t[2]||0)}return n.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var n=new Matrix;if(n.reset(),void 0!==e?n=this._elem.finalTransform.mProp.getValueAtTime(e):this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(n);return n.inversePoint(t)}return n.inversePoint(t)}function n(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function i(){return[1,1,1,1]}return function(r){var s;function o(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return o.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return s;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return o.effect;case"ADBE Text Properties":return o.textInterface}}o.toWorld=t,o.fromWorld=e,o.toComp=t,o.fromComp=n,o.sampleImage=i,o.sourceRectAtTime=r.sourceRectAtTime.bind(r),o._elem=r;var a=getDescriptor(s=TransformExpressionInterface(r.finalTransform.mProp),"anchorPoint");return Object.defineProperties(o,{hasParent:{get:function(){return r.hierarchy.length}},parent:{get:function(){return r.hierarchy[0].layerInterface}},rotation:getDescriptor(s,"rotation"),scale:getDescriptor(s,"scale"),position:getDescriptor(s,"position"),opacity:getDescriptor(s,"opacity"),anchorPoint:a,anchor_point:a,transform:{get:function(){return s}},active:{get:function(){return r.isInRange}}}),o.startTime=r.data.st,o.index=r.data.ind,o.source=r.data.refId,o.height=0===r.data.ty?r.data.h:100,o.width=0===r.data.ty?r.data.w:100,o.inPoint=r.data.ip/r.comp.globalData.frameRate,o.outPoint=r.data.op/r.comp.globalData.frameRate,o._name=r.data.nm,o.registerMaskInterface=function(t){o.mask=new MaskManagerInterface(t,r)},o.registerEffectsInterface=function(t){o.effect=t},o}}(),CompExpressionInterface=function(t){function e(e){for(var n=0,i=t.layers.length;n<i;){if(t.layers[n].nm===e||t.layers[n].ind===e)return t.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}if(Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p)var n=ExpressionPropertyInterface(t.p);else{var i,r=ExpressionPropertyInterface(t.px),s=ExpressionPropertyInterface(t.py);t.pz&&(i=ExpressionPropertyInterface(t.pz))}return Object.defineProperty(e,"position",{get:function(){return t.p?n():[r(),s(),i?i():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,n=this.compositions.length;e<n;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(n,i,r,s){function o(t){for(var e=n.ef,i=0,r=e.length;i<r;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?u[i]:u[i]();i+=1}throw new Error}var a,c=propertyGroupFactory(o,r),u=[],l=n.ef.length;for(a=0;a<l;a+=1)u.push(5===n.ef[a].ty?t(n.ef[a],i.effectElements[a],i.effectElements[a].propertyGroup,s):e(i.effectElements[a],n.ef[a].ty,s,c));return"ADBE Color Control"===n.mn&&Object.defineProperty(o,"color",{get:function(){return u[0]()}}),Object.defineProperties(o,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:c}}),o.active=o.enabled=0!==n.en,o}function e(t,e,n,i){var r=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",i)),function(){return 10===e?n.comp.compInterface(t.p.v):r()}}return{createEffectsInterface:function(e,n){if(e.effectsManager){var i,r=[],s=e.data.ef,o=e.effectsManager.effectElements.length;for(i=0;i<o;i+=1)r.push(t(s[i],e.effectsManager.effectElements[i],n,e));var a=e.data.ef||[],c=function(t){for(i=0,o=a.length;i<o;){if(t===a[i].nm||t===a[i].mn||t===a[i].ix)return r[i];i+=1}};return Object.defineProperty(c,"numProperties",{get:function(){return a.length}}),c}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e,n){var i,r=createSizedArray(e.viewData.length),s=e.viewData.length;for(i=0;i<s;i+=1)r[i]=new t(e.viewData[i],e.masksProperties[i]);return function(t){for(i=0;i<s;){if(e.masksProperties[i].nm===t)return r[i];i+=1}}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(t,e,n){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(i){if(t.numKeys){var r;r="s"in e.keyframes[i-1]?e.keyframes[i-1].s:"e"in e.keyframes[i-2]?e.keyframes[i-2].e:e.keyframes[i-2].s;var s="unidimensional"===n?new Number(r):Object.assign({},r);return s.time=e.keyframes[i-1].t/e.elem.comp.globalData.frameRate,s.value="unidimensional"===n?r[0]:r,s}return 0},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function i(){return t}return function(r){return r?"unidimensional"===r.propType?function(e){e&&"pv"in e||(e=t);var i=1/e.mult,r=e.pv*i,s=new Number(r);return s.value=r,n(s,e,"unidimensional"),function(){return e.k&&e.getValue(),s.value!==(r=e.v*i)&&((s=new Number(r)).value=r,n(s,e,"unidimensional")),s}}(r):function(t){t&&"pv"in t||(t=e);var i=1/t.mult,r=t.pv.length,s=createTypedArray("float32",r),o=createTypedArray("float32",r);return s.value=o,n(s,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<r;e+=1)s[e]=o[e]=t.v[e]*i;return s}}(r):i}}(),TextExpressionSelectorProp,propertyGetTextProp;function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(t,e){var n=t.ef||[];this.effectElements=[];var i,r,s=n.length;for(i=0;i<s;i++)r=new GroupEffect(n[i],e),this.effectElements.push(r)}function GroupEffect(t,e){this.init(t,e)}TextExpressionSelectorProp=function(){function t(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}return function(e,n){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=n.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,n,this),this.getMult=t,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.getValueAtTime=this.kf?expressionHelpers.getValueAtTime.bind(this):expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(t,e,n){return 1===e.t?new TextExpressionSelectorProp(t,e,n):propertyGetTextProp(t,e,n)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,i,r=this.data.ef.length,s=this.data.ef;for(n=0;n<r;n+=1){switch(i=null,s[n].ty){case 0:i=new SliderEffect(s[n],e,this);break;case 1:i=new AngleEffect(s[n],e,this);break;case 2:i=new ColorEffect(s[n],e,this);break;case 3:i=new PointEffect(s[n],e,this);break;case 4:case 7:i=new CheckboxEffect(s[n],e,this);break;case 10:i=new LayerIndexEffect(s[n],e,this);break;case 11:i=new MaskIndexEffect(s[n],e,this);break;case 5:i=new EffectsManager(s[n],e,this);break;default:i=new NoValueEffect(s[n],e,this)}i&&this.effectElements.push(i)}};var lottie={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n++){var i=e[n].split("=");if(decodeURIComponent(i[0])==t)return decodeURIComponent(i[1])}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.7.3";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return factory(root)}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"lk/c":function(t,e,n){!function(t){"use strict";function e(t){return t===document.body||t===document.documentElement}function n(t,n){var i;if(e(t))i=0===n?t.clientLeft:t.clientTop;else{var r=t.getBoundingClientRect();i=0===n?r.left:r.top}return i}function i(t,n){return e(t)?0===n?window.innerWidth:window.innerHeight:0===n?t.clientWidth:t.clientHeight}function r(t,n,i){var r=0===n?"scrollLeft":"scrollTop",s=e(t);if(2===arguments.length)return s?document.body[r]||document.documentElement[r]:t[r];s?(document.documentElement[r]+=i,document.body[r]+=i):t[r]+=i}function s(t){var e=getComputedStyle(t);return t.scrollHeight>t.clientHeight&&("scroll"===e.overflowY||"auto"===e.overflowY)||t.scrollWidth>t.clientWidth&&("scroll"===e.overflowX||"auto"===e.overflowX)}function o(t,e,n){return t<n?-1:e-t<n?1:0}function a(t,e,n,i){return-1===t?Math.abs(e-i):1===t?Math.abs(n-e-i):0}function c(t,e,n){var i=0===t?n.scrollX:n.scrollY;return 1===e?i>=(0===t?n.scrollWidth-n.width:n.scrollHeight-n.height):-1!==e||i<=0}var u,l,h,d,p,f=function(t,e){var n=t/e;return n*n*n*e},_={horizontal:0,vertical:0},g={x:0,y:0};function m(){u||(u=window.requestAnimationFrame(v))}function v(){var t=0,n=0,i=e(d);0!==_.horizontal&&(t=Math.round(f(g.x,75)*_.horizontal),r(d,0,t)),0!==_.vertical&&(n=Math.round(f(g.y,75)*_.vertical),r(d,1,n)),i?p(t,n):p(0,0),u=null,y(l,d,75,_,g)&&m()}function y(t,e,s,u,l){if(!t||!e)return!1;var h={x:n(e,0),y:n(e,1),width:i(e,0),height:i(e,1),scrollX:r(e,0),scrollY:r(e,1),scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight},d={x:t.x-h.x,y:t.y-h.y};return u.horizontal=o(d.x,h.width,s),u.vertical=o(d.y,h.height,s),u.horizontal&&c(0,u.horizontal,h)?u.horizontal=0:u.horizontal&&(l.x=a(u.horizontal,d.x,h.width,s)),u.vertical&&c(1,u.vertical,h)?u.vertical=0:u.vertical&&(l.y=a(u.vertical,d.y,h.height,s)),!(!u.horizontal&&!u.vertical)}t.scrollBehaviourDragImageTranslateOverride=function(t,e,n,i){l=e,p=i,h!==n&&(d=function(t){do{if(!t)return;if(s(t))return t;if(t===document.documentElement)return null}while(t=t.parentNode);return null}(h=n)),y(l,d,75,_,g)?m():u&&(window.cancelAnimationFrame(u),u=null)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("SpAZ");function r(...t){return s(t)}function s(t){return 0===t.length?i.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return c}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__createBinding",function(){return d}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return _}),n.d(e,"__spread",function(){return g}),n.d(e,"__spreadArrays",function(){return m}),n.d(e,"__spreadArray",function(){return v}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return b}),n.d(e,"__asyncDelegator",function(){return E}),n.d(e,"__asyncValues",function(){return O}),n.d(e,"__makeTemplateObject",function(){return S}),n.d(e,"__importStar",function(){return T}),n.d(e,"__importDefault",function(){return w}),n.d(e,"__classPrivateFieldGet",function(){return D}),n.d(e,"__classPrivateFieldSet",function(){return P}),n.d(e,"__classPrivateFieldIn",function(){return A});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function c(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((i=i.apply(t,e||[])).next())})}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var d=Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function p(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function v(t,e,n){if(n||2===arguments.length)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){s.push([t,e,n,i])>1||a(t,e)})})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(i){l(s[0][3],i)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function E(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function O(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return C(e,t),e}function w(t){return t&&t.__esModule?t:{default:t}}function D(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function P(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n}function A(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},nYR2:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("quSY");function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends i.a{constructor(t,e){super(t),this.add(new r.a(e))}}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function i(t,e,i){var r,s=new Promise(function(s,o){n(r=t[e].apply(t,i)).then(s,o)});return s.request=r,s}function r(t,e,n){var r=i(t,e,n);return r.then(function(t){if(t)return new l(t,r.request)})}function s(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function a(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function c(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function f(t){this._db=t}s(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,i=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,i),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,u].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),i=n[n.length-1],r=this._store||this._index,s=r[t].apply(r,n.slice(0,-1));s.onsuccess=function(){i(s.result)}})})}),[u,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise(function(r){n.iterateCursor(t,function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)})})})}),t.openDb=function(t,e,n){var r=i(indexedDB,"open",[t,e]),s=r.request;return s&&(s.onupgradeneeded=function(t){n&&n(new p(s.result,t.oldVersion,s.transaction))}),r.then(function(t){return new f(t)})},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("EQ5u");function r(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new s(r,e));const o=Object.create(n,i.b);return o.source=n,o.subjectFactory=r,o}}class s{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return b}),n.d(e,"b",function(){return Mt}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return At}),n.d(e,"e",function(){return P}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return S}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return ft}),n.d(e,"k",function(){return gt}),n.d(e,"l",function(){return vt}),n.d(e,"m",function(){return Ct}),n.d(e,"n",function(){return Ot}),n.d(e,"o",function(){return St}),n.d(e,"p",function(){return Tt}),n.d(e,"q",function(){return E}),n.d(e,"r",function(){return It}),n.d(e,"s",function(){return u}),n.d(e,"t",function(){return Pt}),n.d(e,"u",function(){return A}),n.d(e,"v",function(){return Lt}),n.d(e,"w",function(){return Q}),n.d(e,"x",function(){return R}),n.d(e,"y",function(){return x}),n.d(e,"z",function(){return k}),n.d(e,"A",function(){return Rt}),n.d(e,"B",function(){return kt}),n.d(e,"C",function(){return a}),n.d(e,"D",function(){return xt}),n.d(e,"E",function(){return s}),n.d(e,"F",function(){return pt}),n.d(e,"G",function(){return o});var i=n("fXoL");let r=null;function s(){return r}function o(t){r||(r=t)}class a{}const c=new i.r("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(i.cc)(d)}const h=new i.r("Location Initialized");let d=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.cc(c))},t.\u0275prov=Object(i.Mb)({factory:f,token:t,providedIn:"platform"}),t})();function p(){return!!window.history.pushState}function f(){return new d(Object(i.cc)(c))}function _(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(i.cc)(c).location;return new E(Object(i.cc)(u),e&&e.origin||"")}const b=new i.r("appBaseHref");let E=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+m(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+m(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.cc(u),i.cc(b,8))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=_(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.cc(u),i.cc(b,8))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.cc(v),i.cc(u))},t.normalizeQueryParams=m,t.joinWithSlash=_,t.stripTrailingSlash=g,t.\u0275prov=Object(i.Mb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new S(Object(i.cc)(v),Object(i.cc)(u))}function T(t){return t.replace(/\/index.html$/,"")}var w=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),D=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),P=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),A=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),I=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),M=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function x(t,e,n){const r=Object(i.mb)(t),s=q([r[i.cb.DayPeriodsFormat],r[i.cb.DayPeriodsStandalone]],e);return q(s,n)}function R(t,e,n){const r=Object(i.mb)(t),s=q([r[i.cb.DaysFormat],r[i.cb.DaysStandalone]],e);return q(s,n)}function k(t,e,n){const r=Object(i.mb)(t),s=q([r[i.cb.MonthsFormat],r[i.cb.MonthsStandalone]],e);return q(s,n)}function L(t,e){return q(Object(i.mb)(t)[i.cb.DateFormat],e)}function j(t,e){return q(Object(i.mb)(t)[i.cb.TimeFormat],e)}function N(t,e){return q(Object(i.mb)(t)[i.cb.DateTimeFormat],e)}function U(t,e){const n=Object(i.mb)(t),r=n[i.cb.NumberSymbols][e];if(void 0===r){if(e===M.CurrencyDecimal)return n[i.cb.NumberSymbols][M.Decimal];if(e===M.CurrencyGroup)return n[i.cb.NumberSymbols][M.Group]}return r}const B=i.pb;function F(t){if(!t[i.cb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[i.cb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function q(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function V(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const W=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G={},K=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var z=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),$=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),H=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Q(t,e,n,i){let r=function(t){if(ct(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,i=1]=t.split("-").map(t=>+t);return Y(e,n-1,i)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(W))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,c,u),e}(n)}const e=new Date(t);if(!ct(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=X(n,e)||e;let s,o=[];for(;e;){if(s=K.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();i&&(a=at(i,a),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(at(e,i)-i))}(r,i));let c="";return o.forEach(t=>{const e=function(t){if(ot[t])return ot[t];let e;switch(t){case"G":case"GG":case"GGG":e=et(H.Eras,A.Abbreviated);break;case"GGGG":e=et(H.Eras,A.Wide);break;case"GGGGG":e=et(H.Eras,A.Narrow);break;case"y":e=tt($.FullYear,1,0,!1,!0);break;case"yy":e=tt($.FullYear,2,0,!0,!0);break;case"yyy":e=tt($.FullYear,3,0,!1,!0);break;case"yyyy":e=tt($.FullYear,4,0,!1,!0);break;case"Y":e=st(1);break;case"YY":e=st(2,!0);break;case"YYY":e=st(3);break;case"YYYY":e=st(4);break;case"M":case"L":e=tt($.Month,1,1);break;case"MM":case"LL":e=tt($.Month,2,1);break;case"MMM":e=et(H.Months,A.Abbreviated);break;case"MMMM":e=et(H.Months,A.Wide);break;case"MMMMM":e=et(H.Months,A.Narrow);break;case"LLL":e=et(H.Months,A.Abbreviated,P.Standalone);break;case"LLLL":e=et(H.Months,A.Wide,P.Standalone);break;case"LLLLL":e=et(H.Months,A.Narrow,P.Standalone);break;case"w":e=rt(1);break;case"ww":e=rt(2);break;case"W":e=rt(1,!0);break;case"d":e=tt($.Date,1);break;case"dd":e=tt($.Date,2);break;case"E":case"EE":case"EEE":e=et(H.Days,A.Abbreviated);break;case"EEEE":e=et(H.Days,A.Wide);break;case"EEEEE":e=et(H.Days,A.Narrow);break;case"EEEEEE":e=et(H.Days,A.Short);break;case"a":case"aa":case"aaa":e=et(H.DayPeriods,A.Abbreviated);break;case"aaaa":e=et(H.DayPeriods,A.Wide);break;case"aaaaa":e=et(H.DayPeriods,A.Narrow);break;case"b":case"bb":case"bbb":e=et(H.DayPeriods,A.Abbreviated,P.Standalone,!0);break;case"bbbb":e=et(H.DayPeriods,A.Wide,P.Standalone,!0);break;case"bbbbb":e=et(H.DayPeriods,A.Narrow,P.Standalone,!0);break;case"B":case"BB":case"BBB":e=et(H.DayPeriods,A.Abbreviated,P.Format,!0);break;case"BBBB":e=et(H.DayPeriods,A.Wide,P.Format,!0);break;case"BBBBB":e=et(H.DayPeriods,A.Narrow,P.Format,!0);break;case"h":e=tt($.Hours,1,-12);break;case"hh":e=tt($.Hours,2,-12);break;case"H":e=tt($.Hours,1);break;case"HH":e=tt($.Hours,2);break;case"m":e=tt($.Minutes,1);break;case"mm":e=tt($.Minutes,2);break;case"s":e=tt($.Seconds,1);break;case"ss":e=tt($.Seconds,2);break;case"S":e=tt($.FractionalSeconds,1);break;case"SS":e=tt($.FractionalSeconds,2);break;case"SSS":e=tt($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=nt(z.Short);break;case"ZZZZZ":e=nt(z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=nt(z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=nt(z.Long);break;default:return null}return ot[t]=e,e}(t);c+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Y(t,e,n){const i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function X(t,e){const n=function(t){return Object(i.mb)(t)[i.cb.LocaleId]}(t);if(G[n]=G[n]||{},G[n][e])return G[n][e];let r="";switch(e){case"shortDate":r=L(t,I.Short);break;case"mediumDate":r=L(t,I.Medium);break;case"longDate":r=L(t,I.Long);break;case"fullDate":r=L(t,I.Full);break;case"shortTime":r=j(t,I.Short);break;case"mediumTime":r=j(t,I.Medium);break;case"longTime":r=j(t,I.Long);break;case"fullTime":r=j(t,I.Full);break;case"short":const e=X(t,"shortTime"),n=X(t,"shortDate");r=Z(N(t,I.Short),[e,n]);break;case"medium":const i=X(t,"mediumTime"),s=X(t,"mediumDate");r=Z(N(t,I.Medium),[i,s]);break;case"long":const o=X(t,"longTime"),a=X(t,"longDate");r=Z(N(t,I.Long),[o,a]);break;case"full":const c=X(t,"fullTime"),u=X(t,"fullDate");r=Z(N(t,I.Full),[c,u])}return r&&(G[n][e]=r),r}function Z(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function J(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function tt(t,e,n=0,i=!1,r=!1){return function(s,o){let a=function(t,e){switch(t){case $.FullYear:return e.getFullYear();case $.Month:return e.getMonth();case $.Date:return e.getDate();case $.Hours:return e.getHours();case $.Minutes:return e.getMinutes();case $.Seconds:return e.getSeconds();case $.FractionalSeconds:return e.getMilliseconds();case $.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===$.Hours)0===a&&-12===n&&(a=12);else if(t===$.FractionalSeconds)return c=e,J(a,3).substr(0,c);var c;const u=U(o,M.MinusSign);return J(a,e,u,i,r)}}function et(t,e,n=P.Format,r=!1){return function(s,o){return function(t,e,n,r,s,o){switch(n){case H.Months:return k(e,s,r)[t.getMonth()];case H.Days:return R(e,s,r)[t.getDay()];case H.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(o){const t=function(t){const e=Object(i.mb)(t);return F(e),(e[i.cb.ExtraData][2]||[]).map(t=>"string"==typeof t?V(t):[V(t[0]),V(t[1])])}(e),n=function(t,e,n){const r=Object(i.mb)(t);F(r);const s=q([r[i.cb.ExtraData][0],r[i.cb.ExtraData][1]],e)||[];return q(s,n)||[]}(e,s,r),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,i=a>=e.hours&&c>=e.minutes,r=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(i&&r)return!0}else if(i||r)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==o)return n[o]}return x(e,s,r)[a<12?0:1];case H.Eras:return function(t,e){return q(Object(i.mb)(t)[i.cb.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,r)}}function nt(t){return function(e,n,i){const r=-1*i,s=U(n,M.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case z.Short:return(r>=0?"+":"")+J(o,2,s)+J(Math.abs(r%60),2,s);case z.ShortGMT:return"GMT"+(r>=0?"+":"")+J(o,1,s);case z.Long:return"GMT"+(r>=0?"+":"")+J(o,2,s)+":"+J(Math.abs(r%60),2,s);case z.Extended:return 0===i?"Z":(r>=0?"+":"")+J(o,2,s)+":"+J(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function it(t){return Y(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function rt(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=it(n),e=function(t){const e=Y(t,0,1).getDay();return Y(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),i=t.getTime()-e.getTime();r=1+Math.round(i/6048e5)}return J(r,t,U(i,M.MinusSign))}}function st(t,e=!1){return function(n,i){return J(it(n).getFullYear(),t,U(i,M.MinusSign),e)}}const ot={};function at(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ct(t){return t instanceof Date&&!isNaN(t.valueOf())}const ut=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function lt(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ht{}let dt=(()=>{class t extends ht{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(B(e||this.locale)(t)){case D.Zero:return"zero";case D.One:return"one";case D.Two:return"two";case D.Few:return"few";case D.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.cc(i.v))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();function pt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let ft=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(i.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.t),i.Qb(i.u),i.Qb(i.l),i.Qb(i.E))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class _t{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new _t(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new mt(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new mt(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.R),i.Qb(i.M),i.Qb(i.t))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class mt{constructor(t,e){this.record=t,this.view=e}}let vt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.R),i.Qb(i.M))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class yt{constructor(){this.$implicit=null,this.ngIf=null}}function bt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.yb)(e)}'.`)}class Et{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ot=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),St=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Et(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.R),i.Qb(i.M),i.Qb(Ot,9))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Ct=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.u),i.Qb(i.E))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Tt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.R))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.Bb]}),t})();function wt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.yb)(t)}'`)}const Dt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Pt=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw wt(t,e);return e.replace(Dt,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Pb({name:"titlecase",type:t,pure:!0}),t})(),At=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,r){if(null==e||""===e||e!=e)return null;try{return Q(e,n,r||this.locale,i)}catch(s){throw wt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.v))},t.\u0275pipe=i.Pb({name:"date",type:t,pure:!0}),t})(),It=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,i,r,s,o=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,i,r,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;"0"===o.charAt(i);i++);if(i===(s=o.length))e=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=i,e=[],r=0;i<=s;i++,r++)e[r]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(ut);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],i=t[5];null!=e&&(l=lt(e)),null!=n&&(h=lt(n)),null!=i?d=lt(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const s=Math.min(Math.max(e,r),n);let o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let t=o;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let t=1;t<o;t++)i[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=0!==s;const u=e+t.integerLen,l=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,c&&(0===i[n]&&n>=u?i.pop():c=!1),e>=10?1:0},0);l&&(i.unshift(l),t.integerLen++)}(u,h,d);let p=u.digits,f=u.integerLen;const _=u.exponent;let g=[];for(c=p.every(t=>!t);f<l;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const m=[];for(p.length>=e.lgSize&&m.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)m.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&m.unshift(p.join("")),a=m.join(U(n,i)),g.length&&(a+=U(n,r)+g.join("")),_&&(a+=U(n,M.Exponential)+"+"+_)}else a=U(n,M.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const t=c.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const t=r.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(i.mb)(t)[i.cb.NumberFormats][e]}(e,w.Percent),U(e,M.MinusSign)),e,M.Group,M.Decimal,n,!0).replace(new RegExp("%","g"),U(e,M.PercentSign))}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),r,n)}catch(s){throw wt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.v))},t.\u0275pipe=i.Pb({name:"percent",type:t,pure:!0}),t})(),Mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({providers:[{provide:ht,useClass:dt}]}),t})();const xt="browser";function Rt(t){return t===xt}function kt(t){return"server"===t}let Lt=(()=>{class t{}return t.\u0275prov=Object(i.Mb)({token:t,providedIn:"root",factory:()=>new jt(Object(i.cc)(c),window)}),t})();class jt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Nt(this.window.history)||Nt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Nt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pqa8:function(t,e,n){"use strict";n.d(e,"a",function(){return Xa}),n.d(e,"b",function(){return Va}),n.d(e,"c",function(){return C}),n.d(e,"d",function(){return cu}),n.d(e,"e",function(){return Wa}),n.d(e,"f",function(){return ou}),n.d(e,"g",function(){return lu}),n.d(e,"h",function(){return gu}),n.d(e,"i",function(){return mu}),n.d(e,"j",function(){return ru}),n.d(e,"k",function(){return Tu}),n.d(e,"l",function(){return uu}),n.d(e,"m",function(){return bu}),n.d(e,"n",function(){return Cu}),n.d(e,"o",function(){return su}),n.d(e,"p",function(){return Su}),n.d(e,"q",function(){return Eu}),n.d(e,"r",function(){return vu}),n.d(e,"s",function(){return wu}),n.d(e,"t",function(){return du});var i=n("mrSG"),r=n("qOnz"),s=n("q/0M"),o=n("x7I3"),a=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();a.o=-1;var c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},u=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(i.__extends)(e,t),e}(Error),l=new s.Logger("@firebase/firestore");function h(){return l.logLevel}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.DEBUG){var r=e.map(_);l.debug.apply(l,Object(i.__spreadArray)(["Firestore (8.10.0): "+t],r))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.ERROR){var r=e.map(_);l.error.apply(l,Object(i.__spreadArray)(["Firestore (8.10.0): "+t],r))}}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.WARN){var r=e.map(_);l.warn.apply(l,Object(i.__spreadArray)(["Firestore (8.10.0): "+t],r))}}function _(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function g(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function m(t,e){t||g()}function v(t,e){return t}function y(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var b=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=y(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function E(t,e){return t<e?-1:t>e?1:0}function O(t,e,n){return t.length===e.length&&t.every(function(t,i){return n(t,e[i])})}function S(t){return t+"\0"}var C=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new u(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new u(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new u(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new u(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?E(this.nanoseconds,t.nanoseconds):E(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),T=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new C(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function D(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var A=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&g(),void 0===n?n=t.length-e:n>t.length-e&&g(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),s=e.get(i);if(r<s)return-1;if(r>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,s=t;r<s.length;r++){var o=s[r];if(o.indexOf("//")>=0)throw new u(c.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");i.push.apply(i,o.split("/").filter(function(t){return t.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(A),M=/^[_a-zA-Z][_a-zA-Z0-9]*$/,x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return M.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,s=function(){if(0===i.length)throw new u(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new u(c.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new u(c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new u(c.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(A),R=function(){function t(t){this.fields=t,t.sort(x.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return O(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),k=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return E(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();k.EMPTY_BYTE_STRING=new k("");var L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function j(t){if(m(!!t),"string"==typeof t){var e=0,n=L.exec(t);if(m(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:N(t.seconds),nanos:N(t.nanos)}}function N(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function U(t){return"string"==typeof t?k.fromBase64String(t):k.fromUint8Array(t)}function B(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function F(t){var e=t.mapValue.fields.__previous_value__;return B(e)?F(e):e}function q(t){var e=j(t.mapValue.fields.__local_write_time__.timestampValue);return new C(e.seconds,e.nanos)}function V(t){return null==t}function W(t){return 0===t&&1/t==-1/0}function G(t){return"number"==typeof t&&Number.isInteger(t)&&!W(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var K=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(I.fromString(e))},t.fromName=function(e){return new t(I.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===I.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return I.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new I(e.slice()))},t}();function z(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B(t)?4:10:g()}function $(t,e){var n=z(t);if(n!==z(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return q(t).isEqual(q(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=j(t.timestampValue),i=j(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return U(t.bytesValue).isEqual(U(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return N(t.geoPointValue.latitude)===N(e.geoPointValue.latitude)&&N(t.geoPointValue.longitude)===N(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return N(t.integerValue)===N(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=N(t.doubleValue),i=N(e.doubleValue);return n===i?W(n)===W(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return O(t.arrayValue.values||[],e.arrayValue.values||[],$);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(w(n)!==w(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!$(n[r],i[r])))return!1;return!0}(t,e);default:return g()}}function H(t,e){return void 0!==(t.values||[]).find(function(t){return $(t,e)})}function Q(t,e){var n=z(t),i=z(e);if(n!==i)return E(n,i);switch(n){case 0:return 0;case 1:return E(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=N(t.integerValue||t.doubleValue),i=N(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Y(t.timestampValue,e.timestampValue);case 4:return Y(q(t),q(e));case 5:return E(t.stringValue,e.stringValue);case 6:return function(t,e){var n=U(t),i=U(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var s=E(n[r],i[r]);if(0!==s)return s}return E(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=E(N(t.latitude),N(e.latitude));return 0!==n?n:E(N(t.longitude),N(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var s=Q(n[r],i[r]);if(s)return s}return E(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(var o=0;o<i.length&&o<s.length;++o){var a=E(i[o],s[o]);if(0!==a)return a;var c=Q(n[i[o]],r[s[o]]);if(0!==c)return c}return E(i.length,s.length)}(t.mapValue,e.mapValue);default:throw g()}}function Y(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return E(t,e);var n=j(t),i=j(e),r=E(n.seconds,i.seconds);return 0!==r?r:E(n.nanos,i.nanos)}function X(t){return Z(t)}function Z(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=j(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?U(t.bytesValue).toBase64():"referenceValue"in t?K.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=Z(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var s=r[i];n?n=!1:e+=",",e+=s+":"+Z(t.fields[s])}return e+"}"}(t.mapValue):g();var e}function J(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function tt(t){return!!t&&"integerValue"in t}function et(t){return!!t&&"arrayValue"in t}function nt(t){return!!t&&"nullValue"in t}function it(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rt(t){return!!t&&"mapValue"in t}function st(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return D(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=st(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=st(t.arrayValue.values[i]);return n}return Object.assign({},t)}var ot=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!rt(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=st(e)},t.prototype.setAll=function(t){var e=this,n=x.emptyPath(),i={},r=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,i,r),i={},r=[],n=s.popLast()}t?i[s.lastSegment()]=st(t):r.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,i,r)},t.prototype.delete=function(t){var e=this.field(t.popLast());rt(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return $(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var i=e.mapValue.fields[t.get(n)];rt(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){D(e,function(e,n){return t[e]=n});for(var i=0,r=n;i<r.length;i++)delete t[r[i]]},t.prototype.clone=function(){return new t(st(this.value))},t}();function at(t){var e=[];return D(t.fields,function(t,n){var i=new x([t]);if(rt(n)){var r=at(n.mapValue).fields;if(0===r.length)e.push(i);else for(var s=0,o=r;s<o.length;s++)e.push(i.child(o[s]))}else e.push(i)}),new R(e)}var ct=function(){function t(t,e,n,i,r){this.key=t,this.documentType=e,this.version=n,this.data=i,this.documentState=r}return t.newInvalidDocument=function(e){return new t(e,0,T.min(),ot.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ot.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ot.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ot.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ot.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ut=function(t,e,n,i,r,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.h=null};function lt(t,e,n,i,r,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),new ut(t,e,n,i,r,s,o)}function ht(t){var e=v(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+X(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),V(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ct(e.startAt)),e.endAt&&(n+="|ub:",n+=Ct(e.endAt)),e.h=n}return e.h}function dt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!wt(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(s=e.filters[i]).op||!r.field.isEqual(s.field)||!$(r.value,s.value))return!1;var r,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pt(t.startAt,e.startAt)&&Pt(t.endAt,e.endAt)}function pt(t){return K.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ft=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(i.__extends)(e,t),e.create=function(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,i):new _t(t,n,i):"array-contains"===n?new yt(t,i):"in"===n?new bt(t,i):"not-in"===n?new Et(t,i):"array-contains-any"===n?new Ot(t,i):new e(t,n,i)},e.l=function(t,e,n){return"in"===e?new gt(t,n):new mt(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Q(e,this.value)):null!==e&&z(this.value)===z(e)&&this.m(Q(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return g()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),_t=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=K.fromName(i.referenceValue),r}return Object(i.__extends)(e,t),e.prototype.matches=function(t){var e=K.comparator(t.key,this.key);return this.m(e)},e}(ft),gt=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=vt(0,n),i}return Object(i.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ft),mt=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=vt(0,n),i}return Object(i.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ft);function vt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return K.fromName(t.referenceValue)})}var yt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(i.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return et(e)&&H(e.arrayValue,this.value)},e}(ft),bt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(i.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&H(this.value.arrayValue,e)},e}(ft),Et=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(i.__extends)(e,t),e.prototype.matches=function(t){if(H(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!H(this.value.arrayValue,e)},e}(ft),Ot=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(i.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!et(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return H(e.value.arrayValue,t)})},e}(ft),St=function(t,e){this.position=t,this.before=e};function Ct(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return X(t)}).join(",")}var Tt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function wt(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Dt(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var s=e[r],o=t.position[r];if(i=s.field.isKeyField()?K.comparator(K.fromName(o.referenceValue),n.key):Q(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function Pt(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$(t.position[n],e.position[n]))return!1;return!0}var At=function(t,e,n,i,r,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function It(t,e,n,i,r,s,o,a){return new At(t,e,n,i,r,s,o,a)}function Mt(t){return new At(t)}function xt(t){return!V(t.limit)&&"F"===t.limitType}function Rt(t){return!V(t.limit)&&"L"===t.limitType}function kt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Lt(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function jt(t){return null!==t.collectionGroup}function Nt(t){var e=v(t);if(null===e.p){e.p=[];var n=Lt(e),i=kt(e);if(null!==n&&null===i)n.isKeyField()||e.p.push(new Tt(n)),e.p.push(new Tt(x.keyField(),"asc"));else{for(var r=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(r=!0)}if(!r){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Tt(x.keyField(),c))}}}return e.p}function Ut(t){var e=v(t);if(!e.T)if("F"===e.limitType)e.T=lt(e.path,e.collectionGroup,Nt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Nt(e);i<r.length;i++){var s=r[i];n.push(new Tt(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new St(e.endAt.position,!e.endAt.before):null,a=e.startAt?new St(e.startAt.position,!e.startAt.before):null;e.T=lt(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Bt(t,e,n){return new At(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ft(t,e){return dt(Ut(t),Ut(e))&&t.limitType===e.limitType}function qt(t){return ht(Ut(t))+"|lt:"+t.limitType}function Vt(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+X(e.value);var e}).join(", ")+"]"),V(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ct(t.startAt)),t.endAt&&(e+=", endAt: "+Ct(t.endAt)),"Target("+e+")"}(Ut(t))+"; limitType="+t.limitType+")"}function Wt(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):K.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,i=t.explicitOrderBy;n<i.length;n++){var r=i[n];if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dt(t.startAt,Nt(t),e)||t.endAt&&Dt(t.endAt,Nt(t),e))}(t,e)}function Gt(t){return function(e,n){for(var i=!1,r=0,s=Nt(t);r<s.length;r++){var o=s[r],a=Kt(o,e,n);if(0!==a)return a;i=i||o.field.isKeyField()}return 0}}function Kt(t,e,n){var i=t.field.isKeyField()?K.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?Q(i,r):g()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return g()}}function zt(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W(e)?"-0":e}}function $t(t){return{integerValue:""+t}}function Ht(t,e){return G(e)?$t(e):zt(t,e)}var Qt=function(){this._=void 0};function Yt(t,e,n){return t instanceof Jt?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof te?ee(t,e):t instanceof ne?ie(t,e):function(t,e){var n=Zt(t,e),i=se(n)+se(t.A);return tt(n)&&tt(t.A)?$t(i):zt(t.R,i)}(t,e)}function Xt(t,e,n){return t instanceof te?ee(t,e):t instanceof ne?ie(t,e):n}function Zt(t,e){return t instanceof re?tt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e}(Qt),te=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(i.__extends)(e,t),e}(Qt);function ee(t,e){for(var n=oe(e),i=function(t){n.some(function(e){return $(e,t)})||n.push(t)},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var ne=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(i.__extends)(e,t),e}(Qt);function ie(t,e){for(var n=oe(e),i=function(t){n=n.filter(function(e){return!$(e,t)})},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var re=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).R=e,i.A=n,i}return Object(i.__extends)(e,t),e}(Qt);function se(t){return N(t.integerValue||t.doubleValue)}function oe(t){return et(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ae=function(t,e){this.field=t,this.transform=e},ce=function(t,e){this.version=t,this.transformResults=e},ue=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function le(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var he=function(){};function de(t,e,n){t instanceof me?function(t,e,n){var i=t.value.clone(),r=be(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof ve?function(t,e,n){if(le(t.precondition,e)){var i=be(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(ye(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function pe(t,e,n){t instanceof me?function(t,e,n){if(le(t.precondition,e)){var i=t.value.clone(),r=Ee(t.fieldTransforms,n,e);i.setAll(r),e.convertToFoundDocument(ge(e),i).setHasLocalMutations()}}(t,e,n):t instanceof ve?function(t,e,n){if(le(t.precondition,e)){var i=Ee(t.fieldTransforms,n,e),r=e.data;r.setAll(ye(t)),r.setAll(i),e.convertToFoundDocument(ge(e),r).setHasLocalMutations()}}(t,e,n):function(t,e){le(t.precondition,e)&&e.convertToNoDocument(T.min())}(t,e)}function fe(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var s=r[i],o=e.data.field(s.field),a=Zt(s.transform,o||null);null!=a&&(null==n&&(n=ot.empty()),n.set(s.field,a))}return n||null}function _e(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&O(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof te&&e instanceof te||t instanceof ne&&e instanceof ne?O(t.elements,e.elements,$):t instanceof re&&e instanceof re?$(t.A,e.A):t instanceof Jt&&e instanceof Jt}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ge(t){return t.isFoundDocument()?t.version:T.min()}var me=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=i,s.fieldTransforms=r,s.type=0,s}return Object(i.__extends)(e,t),e}(he),ve=function(t){function e(e,n,i,r,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=i,o.precondition=r,o.fieldTransforms=s,o.type=1,o}return Object(i.__extends)(e,t),e}(he);function ye(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function be(t,e,n){var i=new Map;m(t.length===n.length);for(var r=0;r<n.length;r++){var s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Xt(o,a,n[r]))}return i}function Ee(t,e,n){for(var i=new Map,r=0,s=t;r<s.length;r++){var o=s[r],a=o.transform,c=n.data.field(o.field);i.set(o.field,Yt(a,c,e))}return i}var Oe,Se,Ce=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return Object(i.__extends)(e,t),e}(he),Te=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return Object(i.__extends)(e,t),e}(he),we=function(t){this.count=t};function De(t){switch(t){case c.OK:return g();case c.CANCELLED:case c.UNKNOWN:case c.DEADLINE_EXCEEDED:case c.RESOURCE_EXHAUSTED:case c.INTERNAL:case c.UNAVAILABLE:case c.UNAUTHENTICATED:return!1;case c.INVALID_ARGUMENT:case c.NOT_FOUND:case c.ALREADY_EXISTS:case c.PERMISSION_DENIED:case c.FAILED_PRECONDITION:case c.ABORTED:case c.OUT_OF_RANGE:case c.UNIMPLEMENTED:case c.DATA_LOSS:return!0;default:return g()}}function Pe(t){if(void 0===t)return p("GRPC error has no .code"),c.UNKNOWN;switch(t){case Oe.OK:return c.OK;case Oe.CANCELLED:return c.CANCELLED;case Oe.UNKNOWN:return c.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return c.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return c.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return c.INTERNAL;case Oe.UNAVAILABLE:return c.UNAVAILABLE;case Oe.UNAUTHENTICATED:return c.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return c.INVALID_ARGUMENT;case Oe.NOT_FOUND:return c.NOT_FOUND;case Oe.ALREADY_EXISTS:return c.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return c.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return c.FAILED_PRECONDITION;case Oe.ABORTED:return c.ABORTED;case Oe.OUT_OF_RANGE:return c.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return c.UNIMPLEMENTED;case Oe.DATA_LOSS:return c.DATA_LOSS;default:return g()}}(Se=Oe||(Oe={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var Ae=function(){function t(t,e){this.comparator=t,this.root=e||Me.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Me.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Me.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ie(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ie(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ie(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ie(this.root,t,this.comparator,!0)},t}(),Ie=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Me=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var t=this.left.check();if(t!==this.right.check())throw g();return t+(this.isRed()?0:1)},t}();Me.EMPTY=null,Me.RED=!0,Me.BLACK=!1,Me.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Me(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var xe=function(){function t(t){this.comparator=t,this.data=new Ae(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Re(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Re(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Re=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ke=new Ae(K.comparator);function Le(){return ke}var je=new Ae(K.comparator);function Ne(){return je}var Ue=new Ae(K.comparator);function Be(){return Ue}var Fe=new xe(K.comparator);function qe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Fe,i=0,r=t;i<r.length;i++){var s=r[i];n=n.add(s)}return n}var Ve=new xe(E);function We(){return Ve}var Ge=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,Ke.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(T.min(),i,We(),Le(),qe())},t}(),Ke=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(k.EMPTY_BYTE_STRING,n,qe(),qe(),qe())},t}(),ze=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},$e=function(t,e){this.targetId=t,this.V=e},He=function(t,e,n,i){void 0===n&&(n=k.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Qe=function(){function t(){this.S=0,this.D=Ze(),this.C=k.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=qe(),e=qe(),n=qe();return this.D.forEach(function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:g()}}),new Ke(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Ze()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Ye=function(){function t(t){this.W=t,this.G=new Map,this.H=Le(),this.J=Xe(),this.Y=new xe(E)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var i=n[e];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var r=0,s=t.removedTargetIds;r<s.length;r++)this.tt(i=s[r],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var i=e.nt(n);switch(t.state){case 0:e.st(n)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||e.removeTarget(n);break;case 3:e.st(n)&&(i.j(),i.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),i.O(t.resumeToken));break;default:g()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,i){n.st(i)&&e(i)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,i=this.ot(e);if(i){var r=i.target;if(pt(r))if(0===n){var s=new K(r.path);this.tt(e,s,ct.newNoDocument(s,T.min()))}else m(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(i,r){var s=e.ot(r);if(s){if(i.current&&pt(s.target)){var o=new K(s.target.path);null!==e.H.get(o)||e.at(r,o)||e.tt(r,o,ct.newNoDocument(o,t))}i.$&&(n.set(r,i.M()),i.L())}});var i=qe();this.J.forEach(function(t,n){var r=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(r=!1,!1)}),r&&(i=i.add(t))});var r=new Ge(t,n,this.Y,this.H,i);return this.H=Le(),this.J=Xe(),this.Y=new xe(E),r},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var i=this.nt(t);this.at(t,e)?i.B(e,1):i.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Qe,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new xe(E),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Qe),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Xe(){return new Ae(K.comparator)}function Ze(){return new Ae(K.comparator)}var Je={asc:"ASCENDING",desc:"DESCENDING"},tn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},en=function(t,e){this.databaseId=t,this.I=e};function nn(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function rn(t,e){return t.I?e.toBase64():e.toUint8Array()}function sn(t,e){return nn(t,e.toTimestamp())}function on(t){return m(!!t),T.fromTimestamp(function(t){var e=j(t);return new C(e.seconds,e.nanos)}(t))}function an(t,e){return function(t){return new I(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function cn(t){var e=I.fromString(t);return m(xn(e)),e}function un(t,e){return an(t.databaseId,e.path)}function ln(t,e){var n=cn(e);if(n.get(1)!==t.databaseId.projectId)throw new u(c.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new u(c.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(fn(n))}function hn(t,e){return an(t.databaseId,e)}function dn(t){var e=cn(t);return 4===e.length?I.emptyPath():fn(e)}function pn(t){return new I(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fn(t){return m(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function _n(t,e,n){return{name:un(t,e),fields:n.value.mapValue.fields}}function gn(t,e,n){var i=ln(t,e.name),r=on(e.updateTime),s=new ot({mapValue:{fields:e.fields}}),o=ct.newFoundDocument(i,r,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function mn(t,e){var n;if(e instanceof me)n={update:_n(t,e.key,e.value)};else if(e instanceof Ce)n={delete:un(t,e.key)};else if(e instanceof ve)n={update:_n(t,e.key,e.data),updateMask:Mn(e.fieldMask)};else{if(!(e instanceof Te))return g();n={verify:un(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Jt)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof te)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ne)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof re)return{fieldPath:e.field.canonicalString(),increment:n.A};throw g()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:sn(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g()}(t,e.precondition)),n}function vn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ue.updateTime(on(t.updateTime)):void 0!==t.exists?ue.exists(t.exists):ue.none()}(e.currentDocument):ue.none(),i=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(m("REQUEST_TIME"===e.setToServerValue),n=new Jt):"appendMissingElements"in e?n=new te(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ne(e.removeAllFromArray.values||[]):"increment"in e?n=new re(t,e.increment):g();var i=x.fromServerFormat(e.fieldPath);return new ae(i,n)}(t,e)}):[];if(e.update){var r=ln(t,e.update.name),s=new ot({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new R((t.fieldPaths||[]).map(function(t){return x.fromServerFormat(t)}))}(e.updateMask);return new ve(r,s,o,n,i)}return new me(r,s,n,i)}if(e.delete){var a=ln(t,e.delete);return new Ce(a,n)}if(e.verify){var c=ln(t,e.verify);return new Te(c,n)}return g()}function yn(t,e){return{documents:[hn(t,e.path)]}}function bn(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=hn(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hn(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(it(t.value))return{unaryFilter:{field:Dn(t.field),op:"IS_NAN"}};if(nt(t.value))return{unaryFilter:{field:Dn(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(it(t.value))return{unaryFilter:{field:Dn(t.field),op:"IS_NOT_NAN"}};if(nt(t.value))return{unaryFilter:{field:Dn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dn(t.field),op:wn(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Dn(t.field),direction:Tn(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||V(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Sn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Sn(e.endAt)),n}function En(t){var e=dn(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){m(1===i);var s=n.from[0];s.allDescendants?r=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=On(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Tt(Pn(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return V(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Cn(n.startAt));var l=null;return n.endAt&&(l=Cn(n.endAt)),It(e,r,a,o,c,"F",u,l)}function On(t){return t?void 0!==t.unaryFilter?[In(t)]:void 0!==t.fieldFilter?[An(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return On(t)}).reduce(function(t,e){return t.concat(e)}):g():[]}function Sn(t){return{before:t.before,values:t.position}}function Cn(t){return new St(t.values||[],!!t.before)}function Tn(t){return Je[t]}function wn(t){return tn[t]}function Dn(t){return{fieldPath:t.canonicalString()}}function Pn(t){return x.fromServerFormat(t.fieldPath)}function An(t){return ft.create(Pn(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(t.fieldFilter.op),t.fieldFilter.value)}function In(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Pn(t.unaryFilter.field);return ft.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Pn(t.unaryFilter.field);return ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Pn(t.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=Pn(t.unaryFilter.field);return ft.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function Mn(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function xn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Rn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ln(e)),e=kn(t.get(n),e);return Ln(e)}function kn(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var s=t.charAt(r);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Ln(t){return t+"\x01\x01"}function jn(t){var e=t.length;if(m(e>=2),2===e)return m("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),I.emptyPath();for(var n=e-2,i=[],r="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&g(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===r.length?c=a:(c=r+=a,r=""),i.push(c);break;case"\x10":r+=t.substring(s,o),r+="\0";break;case"\x11":r+=t.substring(s,o+1);break;default:g()}s=o+2}return new I(i)}var Nn=function(t,e){this.seconds=t,this.nanoseconds=e},Un=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Un.store="owner",Un.key="owner";var Bn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Bn.store="mutationQueues",Bn.keyPath="userId";var Fn=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Fn.store="mutations",Fn.keyPath="batchId",Fn.userMutationsIndex="userMutationsIndex",Fn.userMutationsKeyPath=["userId","batchId"];var qn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Rn(e)]},t.key=function(t,e,n){return[t,Rn(e),n]},t}();qn.store="documentMutations",qn.PLACEHOLDER=new qn;var Vn=function(t,e){this.path=t,this.readTime=e},Wn=function(t,e){this.path=t,this.version=e},Gn=function(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};Gn.store="remoteDocuments",Gn.readTimeIndex="readTimeIndex",Gn.readTimeIndexPath="readTime",Gn.collectionReadTimeIndex="collectionReadTimeIndex",Gn.collectionReadTimeIndexPath=["parentPath","readTime"];var Kn=function(t){this.byteSize=t};Kn.store="remoteDocumentGlobal",Kn.key="remoteDocumentGlobalKey";var zn=function(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o};zn.store="targets",zn.keyPath="targetId",zn.queryTargetsIndexName="queryTargetsIndex",zn.queryTargetsKeyPath=["canonicalId","targetId"];var $n=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};$n.store="targetDocuments",$n.keyPath=["targetId","path"],$n.documentTargetsIndex="documentTargetsIndex",$n.documentTargetsKeyPath=["path","targetId"];var Hn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Hn.key="targetGlobalKey",Hn.store="targetGlobal";var Qn=function(t,e){this.collectionId=t,this.parent=e};Qn.store="collectionParents",Qn.keyPath=["collectionId","parent"];var Yn=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Yn.store="clientMetadata",Yn.keyPath="clientId";var Xn=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Xn.store="bundles",Xn.keyPath="bundleId";var Zn=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Zn.store="namedQueries",Zn.keyPath="name";var Jn=Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__spreadArray)(Object(i.__spreadArray)([],[Bn.store,Fn.store,qn.store,Gn.store,zn.store,Un.store,Hn.store,$n.store]),[Yn.store])),[Kn.store])),[Qn.store])),[Xn.store,Zn.store]),ti="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ei=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),ni=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ii=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var i=0,r=0,s=!1;e.forEach(function(e){++i,e.next(function(){++r,s&&r===i&&t()},function(t){return n(t)})}),s=!0,r===i&&t()})},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,s=e;r<s.length;r++)i(s[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.waitFor(i)},t}(),ri=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ni,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ai(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var i=di(e.target.error);n.ft.reject(new ai(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new ai(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ui(e)},t}(),si=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,12.2===t._t(Object(r.getUA)())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return d("SimpleDb","Removing database:",t),li(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(r.getUA)(),n=t._t(e),i=0<n&&n<10,s=t.Et(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(d("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new ai(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new u(c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ai(t,n))},r.onupgradeneeded=function(t){d("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,r.transaction,t.oldVersion,n.version).next(function(){d("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var s,o,a,c,u;return Object(i.__generator)(this,function(l){switch(l.label){case 0:s="readonly"===e,o=0,a=function(){var e,a,u,l,h;return Object(i.__generator)(this,function(i){switch(i.label){case 0:++o,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=i.sent(),e=ri.open(c.db,t,s?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),ii.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(i.sent(),a),u)];case 4:return d("SimpleDb","Transaction failed with error:",(l=i.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&o<3),c.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},c=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),oi=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return li(this.Pt.delete())},t}(),ai=function(t){function e(e,n){var i=this;return(i=t.call(this,c.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(i.__extends)(e,t),e}(u);function ci(t){return"IndexedDbTransactionError"===t.name}var ui=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),li(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),li(this.store.add(t))},t.prototype.get=function(t){var e=this;return li(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),li(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),li(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.xt(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.kt=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var i=this.cursor(n);return this.xt(i,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.xt(i,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new ii(function(n,i){e.onerror=function(t){var e=di(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new ii(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var s=new oi(r),o=e(r.primaryKey,r.value,s);if(o instanceof ii){var a=o.catch(function(t){return s.done(),ii.reject(t)});n.push(a)}s.isDone?i():null===s.Dt?r.continue():r.continue(s.Dt)}else i()}}).next(function(){return ii.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function li(t){return new ii(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=di(t.target.error);n(e)}})}var hi=!1;function di(t){var e=si._t(Object(r.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new u("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hi||(hi=!0,setTimeout(function(){throw i},0)),i}}return t}var pi=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Mt=e,i.currentSequenceNumber=n,i}return Object(i.__extends)(e,t),e}(ei);function fi(t,e){var n=v(t);return si.It(n.Mt,e)}var _i=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&de(r,t,n[i])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&pe(s,t,this.localWriteTime);for(var i=0,r=this.mutations;i<r.length;i++){var s;(s=r[i]).key.isEqual(t.key)&&pe(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var i=t.get(n.key),r=i;e.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(T.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},qe())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&O(this.mutations,t.mutations,function(t,e){return _e(t,e)})&&O(this.baseMutations,t.baseMutations,function(t,e){return _e(t,e)})},t}(),gi=function(){function t(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}return t.from=function(e,n,i){m(e.mutations.length===i.length);for(var r=Be(),s=e.mutations,o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)},t}(),mi=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=T.min()),void 0===s&&(s=T.min()),void 0===o&&(o=k.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),vi=function(t){this.Lt=t};function yi(t,e){if(e.document)return gn(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=K.fromSegments(e.noDocument.path),i=Ci(e.noDocument.readTime),r=ct.newNoDocument(n,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){var s=K.fromSegments(e.unknownDocument.path);return i=Ci(e.unknownDocument.version),ct.newUnknownDocument(s,i)}return g()}function bi(t,e,n){var i=Ei(n),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:un(t,e.key),fields:e.data.value.mapValue.fields,updateTime:nn(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new Gn(null,null,s,o,i,r)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=Si(e.version);return o=e.hasCommittedMutations,new Gn(null,new Vn(a,c),null,o,i,r)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=Si(e.version);return new Gn(new Wn(u,l),null,null,!0,i,r)}return g()}function Ei(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Oi(t){var e=new C(t[0],t[1]);return T.fromTimestamp(e)}function Si(t){var e=t.toTimestamp();return new Nn(e.seconds,e.nanoseconds)}function Ci(t){var e=new C(t.seconds,t.nanoseconds);return T.fromTimestamp(e)}function Ti(t,e){for(var n=(e.baseMutations||[]).map(function(e){return vn(t.Lt,e)}),i=0;i<e.mutations.length-1;++i)i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform&&(e.mutations[i].updateTransforms=e.mutations[i+1].transform.fieldTransforms,e.mutations.splice(i+1,1),++i);var r=e.mutations.map(function(e){return vn(t.Lt,e)}),s=C.fromMillis(e.localWriteTimeMs);return new _i(e.batchId,s,n,r)}function wi(t){var e,n,i=Ci(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Ci(t.lastLimboFreeSnapshotVersion):T.min();return void 0!==t.query.documents?(m(1===(n=t.query).documents.length),e=Ut(Mt(dn(n.documents[0])))):e=function(t){return Ut(En(t))}(t.query),new mi(e,t.targetId,0,t.lastListenSequenceNumber,i,r,k.fromBase64String(t.resumeToken))}function Di(t,e){var n,i=Si(e.snapshotVersion),r=Si(e.lastLimboFreeSnapshotVersion);n=pt(e.target)?yn(t.Lt,e.target):bn(t.Lt,e.target);var s=e.resumeToken.toBase64();return new zn(e.targetId,ht(e.target),i,s,e.sequenceNumber,r,n)}function Pi(t){var e=En({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Bt(e,e.limit,"L"):e}var Ai=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ii(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ci(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Ii(t).put({bundleId:(n=e).id,createTime:Si(on(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Mi(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Pi(e.bundledQuery),readTime:Ci(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Mi(t).put(function(t){return{name:t.name,readTime:Si(on(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ii(t){return fi(t,Xn.store)}function Mi(t){return fi(t,Zn.store)}var xi=function(){function t(){this.Bt=new Ri}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ii.resolve()},t.prototype.getCollectionParents=function(t,e){return ii.resolve(this.Bt.getEntries(e))},t}(),Ri=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new xe(I.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new xe(I.comparator)).toArray()},t}(),ki=function(){function t(){this.qt=new Ri}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:i,parent:Rn(r)};return Li(t).put(s)}return ii.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[S(e),""],!1,!0);return Li(t).Nt(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s.collectionId!==e)break;n.push(jn(s.parent))}return n})},t}();function Li(t){return fi(t,Qn.store)}var ji={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ni=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Ui(t,e,n){var i=t.store(Fn.store),r=t.store(qn.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=i.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){m(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],p=qn.key(e,d.key.path,n.batchId);s.push(r.delete(p)),u.push(d.key)}return ii.waitFor(s).next(function(){return u})}function Bi(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g();e=t.noDocument}return JSON.stringify(e).length}Ni.DEFAULT_COLLECTION_PERCENTILE=10,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ni.DEFAULT=new Ni(41943040,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ni.DISABLED=new Ni(-1,0,0);var Fi=function(){function t(t,e,n,i){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,i,r){return m(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vi(t).$t({index:Fn.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,s=Wi(t),o=Vi(t);return o.add({}).next(function(a){m("number"==typeof a);for(var c=new _i(a,e,n,i),u=function(t,e,n){var i=n.baseMutations.map(function(e){return mn(t.Lt,e)}),r=n.mutations.map(function(e){return mn(t.Lt,e)});return new Fn(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(r.R,r.userId,c),l=[],h=new xe(function(t,e){return E(t.canonicalString(),e.canonicalString())}),d=0,p=i;d<p.length;d++){var f=p[d],_=qn.key(r.userId,f.key.path,a);h=h.add(f.key.path.popLast()),l.push(o.put(u)),l.push(s.put(_,qn.PLACEHOLDER))}return h.forEach(function(e){l.push(r.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){r.Kt[a]=c.keys()}),ii.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Vi(t).get(e).next(function(t){return t?(m(t.userId===n.userId),Ti(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?ii.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var i=t.keys();return n.Kt[e]=i,i}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Vi(t).$t({index:Fn.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(m(e.batchId>=i),s=Ti(n.R,e)),r.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vi(t).$t({index:Fn.userMutationsIndex,range:e,reverse:!0},function(t,e,i){n=e.batchId,i.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vi(t).Nt(Fn.userMutationsIndex,n).next(function(t){return t.map(function(t){return Ti(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=qn.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Wi(t).$t({range:r},function(i,r,o){var a=i[0],c=i[2],u=jn(i[1]);if(a===n.userId&&e.path.isEqual(u))return Vi(t).get(c).next(function(t){if(!t)throw g();m(t.userId===n.userId),s.push(Ti(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new xe(E),r=[];return e.forEach(function(e){var s=qn.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Wi(t).$t({range:o},function(t,r,s){var o=t[0],a=t[2],c=jn(t[1]);o===n.userId&&e.path.isEqual(c)?i=i.add(a):s.done()});r.push(a)}),ii.waitFor(r).next(function(){return n.Wt(t,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,i=e.path,r=i.length+1,s=qn.prefixForPath(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new xe(E);return Wi(t).$t({range:o},function(t,e,s){var o=t[0],c=t[2],u=jn(t[1]);o===n.userId&&i.isPrefixOf(u)?u.length===r&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(Vi(t).get(e).next(function(t){if(null===t)throw g();m(t.userId===n.userId),i.push(Ti(n.R,t))}))}),ii.waitFor(r).next(function(){return i})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ui(t.Mt,this.userId,e).next(function(i){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),ii.forEach(i,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return ii.resolve();var i=IDBKeyRange.lowerBound(qn.prefixForUser(e.userId)),r=[];return Wi(t).$t({range:i},function(t,n,i){if(t[0]===e.userId){var s=jn(t[1]);r.push(s)}else i.done()}).next(function(){m(0===r.length)})})},t.prototype.containsKey=function(t,e){return qi(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Gi(t).get(this.userId).next(function(t){return t||new Bn(e.userId,-1,"")})},t}();function qi(t,e,n){var i=qn.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return Wi(t).$t({range:s,Ft:!0},function(t,n,i){t[0]===e&&t[1]===r&&(o=!0),i.done()}).next(function(){return o})}function Vi(t){return fi(t,Fn.store)}function Wi(t){return fi(t,qn.store)}function Gi(t){return fi(t,Bn.store)}var Ki=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),zi=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var i=new Ki(n.highestTargetId);return n.highestTargetId=i.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return T.fromTimestamp(new C(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.Xt(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Zt(t,r)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(i){return i.targetCount+=1,n.ee(e,i),n.Zt(t,i)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return $i(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return m(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,s=[];return $i(t).$t(function(o,a){var c=wi(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,s.push(i.removeTargetData(t,c)))}).next(function(){return ii.waitFor(s)}).next(function(){return r})},t.prototype.forEachTarget=function(t,e){return $i(t).$t(function(t,n){var i=wi(n);e(i)})},t.prototype.Xt=function(t){return Hi(t).get(Hn.key).next(function(t){return m(null!==t),t})},t.prototype.Zt=function(t,e){return Hi(t).put(Hn.key,e)},t.prototype.te=function(t,e){return $i(t).put(Di(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=ht(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return $i(t).$t({range:i,index:zn.queryTargetsIndexName},function(t,n,i){var s=wi(n);dt(e,s.target)&&(r=s,i.done())}).next(function(){return r})},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],s=Qi(t);return e.forEach(function(e){var o=Rn(e.path);r.push(s.put(new $n(n,o))),r.push(i.referenceDelegate.addReference(t,n,e))}),ii.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=Qi(t);return ii.forEach(e,function(e){var s=Rn(e.path);return ii.waitFor([r.delete([n,s]),i.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Qi(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Qi(t),r=qe();return i.$t({range:n,Ft:!0},function(t,e,n){var i=jn(t[1]),s=new K(i);r=r.add(s)}).next(function(){return r})},t.prototype.containsKey=function(t,e){var n=Rn(e.path),i=IDBKeyRange.bound([n],[S(n)],!1,!0),r=0;return Qi(t).$t({index:$n.documentTargetsIndex,Ft:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.lt=function(t,e){return $i(t).get(e).next(function(t){return t?wi(t):null})},t}();function $i(t){return fi(t,zn.store)}function Hi(t){return fi(t,Hn.store)}function Qi(t){return fi(t,$n.store)}function Yi(t){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){if(t.code!==c.FAILED_PRECONDITION||t.message!==ti)throw t;return d("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Xi(t,e){var n=t[1],i=e[1],r=E(t[0],e[0]);return 0===r?E(n,i):r}var Zi=function(){function t(t){this.ne=t,this.buffer=new xe(Xi),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Xi(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ji=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(i.__awaiter)(e,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ci(e=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Yi(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),tr=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ii.resolve(a.o);var i=new Zi(e);return this.ae.forEachTarget(t,function(t){return i.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return i.re(t)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; disabled"),ii.resolve(ji)):this.getCacheSize(t).next(function(i){return i<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ji):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,i,r,o,a,c,u,l=this,p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),i=l.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),l.nthSequenceNumber(t,i)}).next(function(i){return n=i,a=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return r=e,c=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),h()<=s.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-p)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(c-a)+"ms\n\tRemoved "+t+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-p)+"ms"),ii.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})})},t}(),er=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new tr(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return nr(t,n)},t.prototype.removeReference=function(t,e,n){return nr(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return nr(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Gi(t).Ot(function(i){return qi(t,i,e).next(function(t){return t&&(n=!0),ii.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,i.getEntry(t,o).next(function(){return i.removeEntry(o),Qi(t).delete([0,Rn(o.path)])})});r.push(c)}}).next(function(){return ii.waitFor(r)}).next(function(){return i.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return nr(t,e)},t.prototype.we=function(t,e){var n,i=Qi(t),r=a.o;return i.$t({index:$n.documentTargetsIndex},function(t,i){var s=i.path,o=i.sequenceNumber;0===t[0]?(r!==a.o&&e(new K(jn(n)),r),r=o,n=s):r=a.o}).next(function(){r!==a.o&&e(new K(jn(n)),r)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function nr(t,e){return Qi(t).put(function(t,e){return new $n(0,Rn(t.path),e)}(e,t.currentSequenceNumber))}var ir=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var s=r[i],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){D(this.inner,function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return P(this.inner)},t}(),rr=function(){function t(){this.changes=new ir(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:T.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ct.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ii.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),sr=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return cr(t).put(ur(e),n)},t.prototype.removeEntry=function(t,e){var n=cr(t),i=ur(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.me(t,i)})},t.prototype.getEntry=function(t,e){var n=this;return cr(t).get(ur(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return cr(t).get(ur(e)).next(function(t){return{document:n.ye(e,t),size:Bi(t)}})},t.prototype.getEntries=function(t,e){var n=this,i=Le();return this.pe(t,e,function(t,e){var r=n.ye(t,e);i=i.insert(t,r)}).next(function(){return i})},t.prototype.Ee=function(t,e){var n=this,i=Le(),r=new Ae(K.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);i=i.insert(t,s),r=r.insert(t,Bi(e))}).next(function(){return{documents:i,Te:r}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ii.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),s=r.getNext();return cr(t).$t({range:i},function(t,e,i){for(var o=K.fromSegments(t);s&&K.comparator(s,o)<0;)n(s,null),s=r.getNext();s&&s.isEqual(o)&&(n(s,e),s=r.hasNext()?r.getNext():null),s?i.Ct(s.path.toArray()):i.done()}).next(function(){for(;s;)n(s,null),s=r.hasNext()?r.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this,r=Le(),s=e.path.length+1,o={};if(n.isEqual(T.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=Ei(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=Gn.collectionReadTimeIndex}return cr(t).$t(o,function(t,n,o){if(t.length===s){var a=yi(i.R,n);e.path.isPrefixOf(a.key.path)?Wt(e,a)&&(r=r.insert(a.key,a)):o.done()}}).next(function(){return r})},t.prototype.newChangeBuffer=function(t){return new or(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ar(t).get(Kn.key).next(function(t){return m(!!t),t})},t.prototype.me=function(t,e){return ar(t).put(Kn.key,e)},t.prototype.ye=function(t,e){if(e){var n=yi(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(T.min()))return n}return ct.newInvalidDocument(t)},t}(),or=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Ie=e,i.trackRemovals=n,i.Ae=new ir(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),i}return Object(i.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new xe(function(t,e){return E(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=bi(e.Ie.R,o.document,e.getReadTime(s));r=r.add(s.path.popLast());var u=Bi(c);i+=u-a,n.push(e.Ie.addEntry(t,s,c))}else if(i-=a,e.trackRemovals){var l=bi(e.Ie.R,ct.newNoDocument(s,T.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),r.forEach(function(i){n.push(e.Ie.Ut.addToCollectionParentIndex(t,i))}),n.push(this.Ie.updateMetadata(t,i)),ii.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(rr);function ar(t){return fi(t,Kn.store)}function cr(t){return fi(t,Gn.store)}function ur(t){return t.path.toArray()}var lr=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,i){var r=this;m(n<i&&n>=0&&i<=11);var s=new ri("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Un.store)}(t),function(t){t.createObjectStore(Bn.store,{keyPath:Bn.keyPath}),t.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qn.store)}(t),hr(t),function(t){t.createObjectStore(Gn.store)}(t));var o=ii.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore($n.store),t.deleteObjectStore(zn.store),t.deleteObjectStore(Hn.store)}(t),hr(t)),o=o.next(function(){return function(t){var e=t.store(Hn.store),n=new Hn(0,0,T.min().toTimestamp(),0);return e.put(Hn.key,n)}(s)})),n<4&&i>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Fn.store).Nt().next(function(n){t.deleteObjectStore(Fn.store),t.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0});var i=e.store(Fn.store),r=n.map(function(t){return i.put(t)});return ii.waitFor(r)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Yn.store,{keyPath:Yn.keyPath})}(t)})),n<5&&i>=5&&(o=o.next(function(){return r.Re(s)})),n<6&&i>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Kn.store)}(t),r.be(s)})),n<7&&i>=7&&(o=o.next(function(){return r.ve(s)})),n<8&&i>=8&&(o=o.next(function(){return r.Pe(t,s)})),n<9&&i>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Gn.store);e.createIndex(Gn.readTimeIndex,Gn.readTimeIndexPath,{unique:!1}),e.createIndex(Gn.collectionReadTimeIndex,Gn.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(o=o.next(function(){return r.Ve(s)})),n<11&&i>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(t),function(t){t.createObjectStore(Zn.store,{keyPath:Zn.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(Gn.store).$t(function(t,n){e+=Bi(n)}).next(function(){var n=new Kn(e);return t.store(Kn.store).put(Kn.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Bn.store),i=t.store(Fn.store);return n.Nt().next(function(n){return ii.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Nt(Fn.userMutationsIndex,r).next(function(i){return ii.forEach(i,function(i){m(i.userId===n.userId);var r=Ti(e.R,i);return Ui(t,n.userId,r).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store($n.store),n=t.store(Gn.store);return t.store(Hn.store).get(Hn.key).next(function(t){var i=[];return n.$t(function(n,r){var s=new I(n),o=function(t){return[0,Rn(t)]}(s);i.push(e.get(o).next(function(n){return n?ii.resolve():function(n){return e.put(new $n(0,Rn(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return ii.waitFor(i)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Qn.store,{keyPath:Qn.keyPath});var n=e.store(Qn.store),i=new Ri,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:Rn(r)})}};return e.store(Gn.store).$t({Ft:!0},function(t,e){var n=new I(t);return r(n.popLast())}).next(function(){return e.store(qn.store).$t({Ft:!0},function(t,e){var n=jn(t[1]);return r(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(zn.store);return n.$t(function(t,i){var r=wi(i),s=Di(e.R,r);return n.put(s)})},t}();function hr(t){t.createObjectStore($n.store,{keyPath:$n.keyPath}).createIndex($n.documentTargetsIndex,$n.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.queryTargetsIndexName,zn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hn.store)}var dr="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pr=function(){function t(e,n,i,r,s,o,a,l,h,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=o,this.document=a,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new u(c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new er(this,r),this.Le=n+"main",this.R=new vi(l),this.Be=new si(this.Le,11,new lr(this.R)),this.qe=new zi(this.referenceDelegate,this.R),this.Ut=new ki,this.Ue=function(t,e){return new sr(t,e)}(this.R,this.Ut),this.Ke=new Ai,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===d&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new u(c.FAILED_PRECONDITION,dr);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new a(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(i.__awaiter)(e,void 0,void 0,function(){return Object(i.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(i.__awaiter)(e,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(i.__awaiter)(e,void 0,void 0,function(){return Object(i.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return _r(e).put(new Yn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(ci(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return fr(t).get(Un.key).next(function(t){return ii.resolve(e.tn(t))})},t.prototype.en=function(t){return _r(t).delete(this.clientId)},t.prototype.nn=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=fi(t,Yn.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return ii.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ii.resolve(!0):fr(t).get(Un.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new u(c.FAILED_PRECONDITION,dr);return!1}}return!(!e.networkEnabled||!e.inForeground)||_r(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t=this;return Object(i.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Un.store,Yn.store],function(e){var n=new pi(e,a.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return _r(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Fi.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var i,r=this;return d("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Jn,function(s){return i=new pi(s,r.Ne?r.Ne.next():a.o),"readwrite-primary"===e?r.Je(i).next(function(t){return!!t||r.Ye(i)}).next(function(e){if(!e)throw p("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new u(c.FAILED_PRECONDITION,ti);return n(i)}).next(function(t){return r.Ze(i).next(function(){return t})}):r.dn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return fr(t).get(Un.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new u(c.FAILED_PRECONDITION,dr)})},t.prototype.Ze=function(t){var e=new Un(this.clientId,this.allowTabSynchronization,Date.now());return fr(t).put(Un.key,e)},t.yt=function(){return si.yt()},t.prototype.Xe=function(t){var e=this,n=fr(t);return n.get(Un.key).next(function(t){return e.tn(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(Un.key)):ii.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(p("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(r.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return p("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){p("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function fr(t){return fi(t,Un.store)}function _r(t){return fi(t,Yn.store)}function gr(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var mr=function(t,e){this.progress=t,this.wn=e},vr=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(i){return n.yn(t,e,i)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,i=n;e<i.length;e++)i[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var i=0,r=e;i<r.length;i++)r[i].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return K.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):jt(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new K(e)).next(function(t){var e=Ne();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var i=this,r=e.collectionGroup,s=Ne();return this.Ut.getCollectionParents(t,r).next(function(o){return ii.forEach(o,function(o){var a=function(t,e){return new At(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return i.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var i,r,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return i=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,r=e,i).next(function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=i.get(u);null==l&&(l=ct.newInvalidDocument(u),i=i.insert(u,l)),pe(c,l,s.localWriteTime),l.isFoundDocument()||(i=i.remove(u))}})}).next(function(){return i.forEach(function(t,n){Wt(e,n)||(i=i.remove(t))}),i})},t.prototype.Rn=function(t,e,n){for(var i=qe(),r=0,s=e;r<s.length;r++)for(var o=0,a=s[r].mutations;o<a.length;o++){var c=a[o];c instanceof ve&&null===n.get(c.key)&&(i=i.add(c.key))}var u=n;return this.Ue.getEntries(t,i).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),yr=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=i}return t.Pn=function(e,n){for(var i=qe(),r=qe(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),br=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(T.min())?this.Dn(t,e):this.Sn.pn(t,i).next(function(o){var a=r.Cn(e,o);return(xt(e)||Rt(e))&&r.Nn(e.limitType,a,i,n)?r.Dn(t,e):(h()<=s.LogLevel.DEBUG&&d("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vt(e)),r.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new xe(Gt(t));return e.forEach(function(e,i){Wt(t,i)&&(n=n.add(i))}),n},t.prototype.Nn=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.Dn=function(t,e){return h()<=s.LogLevel.DEBUG&&d("QueryEngine","Using full collection scan to execute query:",Vt(e)),this.Sn.getDocumentsMatchingQuery(t,e,T.min())},t}(),Er=function(){function t(t,e,n,i){this.persistence=t,this.xn=e,this.R=i,this.kn=new Ae(E),this.Fn=new ir(function(t){return ht(t)},dt),this.$n=T.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new vr(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function Or(t,e,n,i){return new Er(t,e,n,i)}function Sr(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=v(t),r=n._n,s=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var i;return n._n.getAllMutationBatches(t).next(function(o){return i=o,r=n.persistence.getMutationQueue(e),s=new vr(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=qe(),a=0,c=i;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,p=e;d<p.length;d++){var f=p[d];r.push(f.batchId);for(var _=0,g=f.mutations;_<g.length;_++)o=o.add(g[_].key)}return s.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=i.sent(),[2,(n._n=r,n.Mn=s,n.xn.Vn(n.Mn),o)]}})})}function Cr(t,e){var n=v(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var i=e.batch.keys(),r=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,s=r.keys(),o=ii.resolve();return s.forEach(function(t){o=o.next(function(){return i.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);m(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&i.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,r)})}(n,t,e,r).next(function(){return r.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,i)})})}function Tr(t){var e=v(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function wr(t,e){var n=v(t),i=e.snapshotVersion,r=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});r=n.kn;var o=[];e.targetChanges.forEach(function(e,s){var a=r.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(s,u),function(t,e,n){return m(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&o.push(n.qe.updateTargetData(t,u))}}});var a=Le();if(e.documentUpdates.forEach(function(i,r){e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(Dr(t,s,e.documentUpdates,i,void 0).next(function(t){a=t})),!i.isEqual(T.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,i)});o.push(c)}return ii.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=r,t})}function Dr(t,e,n,i,r){var s=qe();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Le();return n.forEach(function(n,o){var a=t.get(n),c=(null==r?void 0:r.get(n))||i;o.isNoDocument()&&o.version.isEqual(T.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):d("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Pr(t,e){var n=v(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Ar(t,e){var n=v(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return n.qe.getTargetData(t,e).next(function(r){return r?ii.resolve(i=r):n.qe.allocateTargetId(t).next(function(r){return i=new mi(e,r,0,t.currentSequenceNumber),n.qe.addTargetData(t,i).next(function(){return i})})})}).then(function(t){var i=n.kn.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function Ir(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s,o,a;return Object(i.__generator)(this,function(i){switch(i.label){case 0:r=v(t),s=r.kn.get(e),o=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,s)})];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!ci(a=i.sent()))throw a;return d("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(s.target),[2]}})})}function Mr(t,e,n){var i=v(t),r=T.min(),s=qe();return i.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var i=v(t),r=i.Fn.get(n);return void 0!==r?ii.resolve(i.kn.get(r)):i.qe.getTargetData(e,n)}(i,t,Ut(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return i.xn.getDocumentsMatchingQuery(t,e,n?r:T.min(),n?s:qe())}).next(function(t){return{documents:t,Bn:s}})})}function xr(t,e){var n=v(t),i=v(n.qe),r=n.kn.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(t){return i.lt(t,e).next(function(t){return t?t.target:null})})}function Rr(t){var e=v(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var i=v(t),r=Le(),s=Ei(n),o=cr(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:Gn.readTimeIndex,range:a},function(t,e){var n=yi(i.R,e);r=r.insert(n.key,n),s=e.readTime}).next(function(){return{wn:r,readTime:Oi(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function kr(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){return[2,(e=v(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=cr(t),n=T.min();return e.$t({index:Gn.readTimeIndex,reverse:!0},function(t,e,i){e.readTime&&(n=Oi(e.readTime)),i.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Lr(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var s,o,a,c,u,l,h,d,p,f;return Object(i.__generator)(this,function(i){switch(i.label){case 0:for(s=v(t),o=qe(),a=Le(),c=Be(),u=0,l=n;u<l.length;u++)d=e.qn((h=l[u]).metadata.name),h.document&&(o=o.add(d)),a=a.insert(d,e.Un(h)),c=c.insert(d,e.Kn(h.metadata.readTime));return p=s.On.newChangeBuffer({trackRemovals:!0}),[4,Ar(s,function(t){return Ut(Mt(I.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=i.sent(),[2,s.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Dr(t,p,a,T.min(),c).next(function(e){return p.apply(t),e}).next(function(e){return s.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return s.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return s.Mn.En(t,e)}).next(function(){return e})})})]}})})}function jr(t,e,n){return void 0===n&&(n=qe()),Object(i.__awaiter)(this,void 0,void 0,function(){var r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,Ar(t,Ut(Pi(e.bundledQuery)))];case 1:return r=i.sent(),[2,(s=v(t)).persistence.runTransaction("Save named query","readwrite",function(t){var i=on(e.readTime);if(r.snapshotVersion.compareTo(i)>=0)return s.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(k.EMPTY_BYTE_STRING,i);return s.kn=s.kn.insert(o.targetId,o),s.qe.updateTargetData(t,o).next(function(){return s.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return s.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return s.Ke.saveNamedQuery(t,e)})})]}})})}var Nr=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ii.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:on(n.createTime)}),ii.resolve()},t.prototype.getNamedQuery=function(t,e){return ii.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Pi(t.bundledQuery),readTime:on(t.readTime)}}(e)),ii.resolve()},t}(),Ur=function(){function t(){this.Wn=new xe(Br.Gn),this.zn=new xe(Br.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Br(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Br(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new K(new I([])),i=new Br(n,t),r=new Br(n,t+1),s=[];return this.zn.forEachInRange([i,r],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new K(new I([])),n=new Br(e,t),i=new Br(e,t+1),r=qe();return this.zn.forEachInRange([n,i],function(t){r=r.add(t.key)}),r},t.prototype.containsKey=function(t){var e=new Br(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Br=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return K.comparator(t.key,e.key)||E(t.ns,e.ns)},t.Hn=function(t,e){return E(t.ns,e.ns)||K.comparator(t.key,e.key)},t}(),Fr=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new xe(Br.Gn)}return t.prototype.checkEmpty=function(t){return ii.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,i){var r=this.ss;this.ss++;var s=new _i(r,e,n,i);this._n.push(s);for(var o=0,a=i;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new Br(c.key,r)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return ii.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return ii.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),i=n<0?0:n;return ii.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ii.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ii.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new Br(e,0),r=new Br(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,r],function(t){var e=n.os(t.ns);s.push(e)}),ii.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new xe(E);return e.forEach(function(t){var e=new Br(t,0),r=new Br(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,r],function(t){i=i.add(t.ns)})}),ii.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,i=n.length+1,r=n;K.isDocumentKey(r)||(r=r.child(""));var s=new Br(new K(r),0),o=new xe(E);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.ns)),!0)},s),ii.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.os(t);null!==i&&n.push(i)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;m(0===this.hs(e.batchId,"removed")),this._n.shift();var i=this.rs;return ii.forEach(e.mutations,function(r){var s=new Br(r.key,e.batchId);return i=i.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(function(){n.rs=i})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Br(e,0),i=this.rs.firstAfterOrEqual(n);return ii.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return ii.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),qr=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ae(K.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ls(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ii.resolve(n?n.document.clone():ct.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,i=Le();return e.forEach(function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.clone():ct.newInvalidDocument(t))}),ii.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var i=Le(),r=new K(e.path.child("")),s=this.docs.getIteratorFrom(r);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;u.compareTo(n)<=0||Wt(e,c)&&(i=i.insert(c.key,c.clone()))}return ii.resolve(i)},t.prototype.fs=function(t,e){return ii.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Vr(this)},t.prototype.getSize=function(t){return ii.resolve(this.size)},t}(),Vr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(i.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(i,r){r.document.isValidDocument()?n.push(e.Ie.addEntry(t,r.document,e.getReadTime(i))):e.Ie.removeEntry(i)}),ii.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(rr),Wr=function(){function t(t){this.persistence=t,this.ds=new ir(function(t){return ht(t)},dt),this.lastRemoteSnapshotVersion=T.min(),this.highestTargetId=0,this.ws=0,this._s=new Ur,this.targetCount=0,this.ys=Ki.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),ii.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ii.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ii.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ii.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ii.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Ki(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ii.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ii.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ii.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.ds.delete(o),s.push(i.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),ii.waitFor(s).next(function(){return r})},t.prototype.getTargetCount=function(t){return ii.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ii.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ii.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(function(e){r.push(i.markPotentiallyOrphaned(t,e))}),ii.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ii.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ii.resolve(n)},t.prototype.containsKey=function(t,e){return ii.resolve(this._s.containsKey(e))},t}(),Gr=function(){function t(t,e){var n=this;this.gs={},this.Ne=new a(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Wr(this),this.Ut=new xi,this.Ue=function(t,e){return new qr(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new vi(e),this.Ke=new Nr(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Fr(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var i=this;d("MemoryPersistence","Starting transaction:",t);var r=new Kr(this.Ne.next());return this.referenceDelegate.Es(),n(r).next(function(t){return i.referenceDelegate.Ts(r).next(function(){return t})}).toPromise().then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return ii.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(i.__extends)(e,t),e}(ei),zr=function(){function t(t){this.persistence=t,this.As=new Ur,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ii.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ii.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ii.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return i.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ii.forEach(this.vs,function(i){var r=K.fromPath(i);return e.Ps(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ii.or([function(){return ii.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),$r=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Hr(t,e){return"firestore_clients_"+t+"_"+e}function Qr(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function Yr(t,e){return"firestore_targets_"+t+"_"+e}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");var Xr=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Vs=function(e,n,i){var r,s=JSON.parse(i),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(r=new u(s.error.code,s.error.message)),o?new t(e,n,s.state,r):(p("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var i,r=JSON.parse(n),s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new u(r.error.code,r.error.message)),s?new t(e,r.state,i):(p("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,s=We(),o=0;r&&o<i.activeTargetIds.length;++o)r=G(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(p("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ts=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(p("SharedClientState","Failed to parse online state: "+e),null)},t}(),es=function(){function t(){this.activeTargetIds=We()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ns=function(){function t(t,e,n,i,r){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ae(E),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Os=Hr(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new es),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,s,o,a,c,u,l,h=this;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(s=this.getItem(Hr(this.persistenceKey,r)))&&(o=Jr.Vs(r,s))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(c=this.js(a))&&this.Ws(c),u=0,l=this.$s;u<l.length;u++)this.ks(l[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,i){i.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Yr(this.persistenceKey,t));if(n){var i=Zr.Vs(t,n);i&&(e=i.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Yr(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach(function(t){i.Hs(t)}),this.currentUser=t,n.forEach(function(t){i.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(i.__awaiter)(e,void 0,void 0,function(){var t,e,r,s,o,c;return Object(i.__generator)(this,function(i){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(s=this.ri(n.key,n.newValue)))return[2,this.oi(s)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(c=function(t){var e=a.o;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n),e=n}catch(t){p("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==a.o&&this.sequenceNumberHandler(c);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var i=new Xr(this.currentUser,t,e,n),r=Qr(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Ss())},t.prototype.Hs=function(t){var e=Qr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var i=Yr(this.persistenceKey,t),r=new Zr(t,e,n);this.setItem(i,r.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Jr.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),i=Number(n[1]);return Xr.Vs(new $r(void 0!==n[2]?n[2]:null),i,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),i=Number(n[1]);return Zr.Vs(i,e)},t.prototype.js=function(t){return ts.Vs(t)},t.prototype.ii=function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,i=e?this.Fs.insert(t,e):this.Fs.remove(t),r=this.Gs(this.Fs),s=this.Gs(i),o=[],a=[];return s.forEach(function(t){r.has(t)||o.push(t)}),r.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.Fs=i})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=We();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),is=function(){function t(){this.li=new es,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new es,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),rs=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),ss=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),os={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},as=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),cs=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(i.__extends)(e,t),e.prototype.Fi=function(t,e,n,i){return new Promise(function(r,s){var a=new o.g;a.listenOnce(o.c.COMPLETE,function(){try{switch(a.getLastErrorCode()){case o.a.NO_ERROR:var e=a.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),r(e);break;case o.a.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),s(new u(c.DEADLINE_EXCEEDED,"Request time out"));break;case o.a.HTTP_ERROR:var n=a.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var l=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(c).indexOf(e)>=0?e:c.UNKNOWN}(i.status);s(new u(l,i.message))}else s(new u(c.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new u(c.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{d("Connection",'RPC "'+t+'" completed.')}});var l=JSON.stringify(i);a.send(e,"POST",l,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Object(o.h)(),s=Object(o.i)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new o.d({})),this.ki(a.initMessageHeaders,e),Object(r.isMobileCordova)()||Object(r.isReactNative)()||Object(r.isElectron)()||Object(r.isIE)()||Object(r.isUWP)()||Object(r.isBrowserExtension)()||(a.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");d("Connection","Creating WebChannel: "+l,a);var h=i.createWebChannel(l,a),p=!1,_=!1,g=new as({Ei:function(t){_?d("Connection","Not sending because WebChannel is closed:",t):(p||(d("Connection","Opening WebChannel transport."),h.open(),p=!0),d("Connection","WebChannel sending:",t),h.send(t))},Ti:function(){return h.close()}}),v=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return v(h,o.f.EventType.OPEN,function(){_||d("Connection","WebChannel transport opened.")}),v(h,o.f.EventType.CLOSE,function(){_||(_=!0,d("Connection","WebChannel transport closed"),g.Vi())}),v(h,o.f.EventType.ERROR,function(t){_||(_=!0,f("Connection","WebChannel transport errored:",t),g.Vi(new u(c.UNAVAILABLE,"The operation could not be completed")))}),v(h,o.f.EventType.MESSAGE,function(t){var e;if(!_){var n=t.data[0];m(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){d("Connection","WebChannel received error:",i);var r=i.status,s=function(t){var e=Oe[t];if(void 0!==e)return Pe(e)}(r),o=i.message;void 0===s&&(s=c.INTERNAL,o="Unknown error status: "+r+" with message "+i.message),_=!0,g.Vi(new u(s,o)),h.close()}else d("Connection","WebChannel received:",n),g.Si(n)}}),v(s,o.b.STAT_EVENT,function(t){t.stat===o.e.PROXY?d("Connection","Detected buffering proxy"):t.stat===o.e.NOPROXY&&d("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,i){var r=this.xi(t,e);d("RestConnection","Sending: ",r,n);var s={};return this.ki(s,i),this.Fi(t,r,s,n).then(function(t){return d("RestConnection","Received: ",t),t},function(e){throw f("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e})},t.prototype.$i=function(t,e,n,i){return this.Ni(t,e,n,i)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+os[t]},t}());function us(){return"undefined"!=typeof window?window:null}function ls(){return"undefined"!=typeof document?document:null}function hs(t){return new en(t,!0)}var ds=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=i,this.Bi=r,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),r=Math.max(0,n-i);r>0&&d("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,r,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),ps=function(){function t(t,e,n,i,r,s){this.Se=t,this.zi=n,this.Hi=i,this.Ji=r,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ds(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===c.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===c.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new u(c.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(i.__awaiter)(t,void 0,void 0,function(){return Object(i.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),fs=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,s)||this).R=r,o}return Object(i.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:g()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.I?(m(void 0===e||"string"==typeof e),k.fromBase64String(e||"")):(m(void 0===e||e instanceof Uint8Array),k.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?c.UNKNOWN:Pe(t.code);return new u(e,t.message||"")}(a);n=new He(i,r,s,o||null)}else if("documentChange"in e){r=ln(t,(i=e.documentChange).document.name),s=on(i.document.updateTime);var a=new ot({mapValue:{fields:i.document.fields}}),l=(o=ct.newFoundDocument(r,s,a),i.targetIds||[]);n=new ze(l,i.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)r=ln(t,(i=e.documentDelete).document),s=i.readTime?on(i.readTime):T.min(),a=ct.newNoDocument(r,s),n=new ze([],o=i.removedTargetIds||[],a.key,a);else if("documentRemove"in e)r=ln(t,(i=e.documentRemove).document),n=new ze([],s=i.removedTargetIds||[],r,null);else{if(!("filter"in e))return g();var h=e.filter;r=new we(i=h.count||0),n=new $e(s=h.targetId,r)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return T.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?T.min():e.readTime?on(e.readTime):T.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=pn(this.R),e.addTarget=function(t,e){var n,i=e.target;return(n=pt(i)?{documents:yn(t,i)}:{query:bn(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=rn(t,e.resumeToken):e.snapshotVersion.compareTo(T.min())>0&&(n.readTime=nn(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=pn(this.R),e.removeTarget=t,this.cr(e)},e}(ps),_s=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,s)||this).R=r,o.gr=!1,o}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(m(void 0!==e),t.map(function(t){return function(t,e){var n=on(t.updateTime?t.updateTime:e);return n.isEqual(T.min())&&(n=on(e)),new ce(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=on(t.commitTime);return this.listener.Tr(n,e)}return m(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=pn(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return mn(e.R,t)})};this.cr(n)},e}(ps),gs=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Hi=n,r.R=i,r.Rr=!1,r}return Object(i.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new u(c.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then(function(r){return i.Hi.Ni(t,e,n,r)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===c.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new u(c.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then(function(r){return i.Hi.$i(t,e,n,r)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===c.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new u(c.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),ms=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(p(e),this.Vr=!1):d("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),vs=function(t,e,n,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(i.__awaiter)(o,void 0,void 0,function(){return Object(i.__generator)(this,function(t){switch(t.label){case 0:return Ds(this)?(d("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return(e=v(t)).Or.add(4),[4,bs(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,ys(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new ms(n,r)};function ys(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:if(!Ds(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function bs(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Es(t,e){var n=v(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),ws(n)?Ts(n):Vs(n).er()&&Ss(n,e))}function Os(t,e){var n=v(t),i=Vs(n);n.$r.delete(e),i.er()&&Cs(n,e),0===n.$r.size&&(i.er()?i.ir():Ds(n)&&n.Br.set("Unknown"))}function Ss(t,e){t.qr.U(e.targetId),Vs(t).mr(e)}function Cs(t,e){t.qr.U(e),Vs(t).yr(e)}function Ts(t){t.qr=new Ye({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Vs(t).start(),t.Br.Sr()}function ws(t){return Ds(t)&&!Vs(t).tr()&&t.$r.size>0}function Ds(t){return 0===v(t).Or.size}function Ps(t){t.qr=void 0}function As(t){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){return t.$r.forEach(function(e,n){Ss(t,e)}),[2]})})}function Is(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(n){return Ps(t),ws(t)?(t.Br.Nr(e),Ts(t)):t.Br.set("Unknown"),[2]})})}function Ms(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s,o;return Object(i.__generator)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof He&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o;return Object(i.__generator)(this,function(i){switch(i.label){case 0:n=e.cause,r=0,s=e.targetIds,i.label=1;case 1:return r<s.length?t.$r.has(o=s[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:i.sent(),t.$r.delete(o),t.qr.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),d("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,xs(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ze?t.qr.X(e):e instanceof $e?t.qr.rt(e):t.qr.et(e),n.isEqual(T.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Tr(t.localStore)];case 8:return s=a.sent(),n.compareTo(s)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.$r.get(i);r&&t.$r.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(k.EMPTY_BYTE_STRING,n.snapshotVersion)),Cs(t,e);var i=new mi(n.target,e,1,n.sequenceNumber);Ss(t,i)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,xs(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function xs(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r=this;return Object(i.__generator)(this,function(s){switch(s.label){case 0:if(!ci(e))throw e;return t.Or.add(1),[4,bs(t)];case 1:return s.sent(),t.Br.set("Offline"),n||(n=function(){return Tr(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(i.__awaiter)(r,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,ys(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Rs(t,e){return e().catch(function(n){return xs(t,n,e)})}function ks(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,o;return Object(i.__generator)(this,function(i){switch(i.label){case 0:e=v(t),n=Ws(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,i.label=1;case 1:if(!function(t){return Ds(t)&&t.Fr.length<10}(e))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,Pr(e.localStore,r)];case 3:return null===(s=i.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=s.batchId,function(t,e){t.Fr.push(e);var n=Ws(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,s),[3,6]);case 4:return o=i.sent(),[4,xs(e,o)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return Ls(e)&&js(e),[2]}})})}function Ls(t){return Ds(t)&&!Ws(t).tr()&&t.Fr.length>0}function js(t){Ws(t).start()}function Ns(t){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){return Ws(t).Ar(),[2]})})}function Us(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(i.__generator)(this,function(i){for(e=Ws(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Bs(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return r=t.Fr.shift(),s=gi.from(r,e,n),[4,Rs(t,function(){return t.remoteSyncer.applySuccessfulWrite(s)})];case 1:return i.sent(),[4,ks(t)];case 2:return i.sent(),[2]}})})}function Fs(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(n){switch(n.label){case 0:return e&&Ws(t).pr?[4,function(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return De(r=e.code)&&r!==c.ABORTED?(n=t.Fr.shift(),Ws(t).sr(),[4,Rs(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,ks(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ls(t)&&js(t),[2]}})})}function qs(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=v(t),e?(n.Or.delete(2),[4,ys(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,bs(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Vs(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var i=v(t);return i.br(),new fs(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:As.bind(null,t),Ri:Is.bind(null,t),_r:Ms.bind(null,t)}),t.Mr.push(function(n){return Object(i.__awaiter)(e,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),ws(t)?Ts(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Ps(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Ws(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var i=v(t);return i.br(),new _s(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:Ns.bind(null,t),Ri:Fs.bind(null,t),Ir:Us.bind(null,t),Tr:Bs.bind(null,t)}),t.Mr.push(function(n){return Object(i.__awaiter)(e,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,ks(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(d("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Gs=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,i,r,s){var o=new t(e,n,Date.now()+i,r,s);return o.start(i),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new u(c.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ks(t,e){if(p("AsyncQueue",e+": "+t),ci(t))return new u(c.UNAVAILABLE,e+": "+t);throw t}var zs=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||K.comparator(e.key,n.key)}:function(t,e){return K.comparator(t.key,e.key)},this.keyedMap=Ne(),this.sortedSet=new Ae(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),$s=function(){function t(){this.Qr=new Ae(K.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):g():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Hs=function(){function t(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,i,r){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,zs.emptySet(n),s,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ft(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Qs=function(){this.Wr=void 0,this.listeners=[]},Ys=function(){this.queries=new ir(function(t){return qt(t)},Ft),this.onlineState="Unknown",this.Gr=new Set};function Xs(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o,a,c,u;return Object(i.__generator)(this,function(i){switch(i.label){case 0:if(n=v(t),s=!1,(o=n.queries.get(r=e.query))||(s=!0,o=new Qs),!s)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=i.sent(),[3,4];case 3:return c=i.sent(),u=Ks(c,"Initialization of query '"+Vt(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&eo(n),[2]}})})}function Zs(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o,a;return Object(i.__generator)(this,function(i){return n=v(t),s=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),s=0===o.listeners.length),s?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Js(t,e){for(var n=v(t),i=!1,r=0,s=e;r<s.length;r++){var o=s[r],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(o)&&(i=!0);a.Wr=o}}i&&eo(n)}function to(t,e,n){var i=v(t),r=i.queries.get(e);if(r)for(var s=0,o=r.listeners;s<o.length;s++)o[s].onError(n);i.queries.delete(e)}function eo(t){t.Gr.forEach(function(t){t.next()})}var no=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new Hs(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Hs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),io=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ro=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ln(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?gn(this.R,t.document,!1):ct.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return on(t)},t}(),so=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=oo(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ro(this.R),i=0,r=t;i<r.length;i++){var s=r[i];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||qe()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,Lr(this.localStore,new ro(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?[4,jr(this.localStore,s=r[n],e.get(s.name))]:[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new mr(Object.assign({},this.progress),t))]}})})},t}();function oo(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var ao=function(t){this.key=t},co=function(t){this.key=t},uo=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=qe(),this.mutatedKeys=qe(),this.lo=Gt(t),this.fo=new zs(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,i=e?e.mo:new $s,r=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=xt(this.query)&&r.size===this.query.limit?r.last():null,u=Rt(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(function(t,e){var l=r.get(t),h=Wt(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),f=!1;l&&h?l.data.isEqual(h.data)?d!==p&&(i.track({type:3,doc:h}),f=!0):n.yo(l,h)||(i.track({type:2,doc:h}),f=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(i.track({type:0,doc:h}),f=!0):l&&!h&&(i.track({type:1,doc:l}),f=!0,(c||u)&&(a=!0)),f&&(h?(o=o.add(h),s=p?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),xt(this.query)||Rt(this.query))for(;o.size>this.query.limit;){var l=xt(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),i.track({type:1,doc:l})}return{fo:o,mo:i,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(t)-n(e)}(t.type,e.type)||i.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new Hs(this.query,t.fo,r,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new $s,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=qe(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new co(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ao(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=qe();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Hs.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),lo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ho=function(t){this.key=t,this.bo=!1},po=function(){function t(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new ir(function(t){return qt(t)},Ft),this.Vo=new Map,this.So=new Set,this.Do=new Ae(K.comparator),this.Co=new Map,this.No=new Ur,this.xo={},this.ko=new Map,this.Fo=Ki.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function fo(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o,a;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=Wo(t),(s=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Ar(n.localStore,Ut(e))];case 2:return o=i.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,_o(n,e,o.targetId,"current"===a)];case 3:r=i.sent(),n.isPrimaryClient&&Es(n.remoteStore,o),i.label=4;case 4:return[2,r]}})})}function _o(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var s,o,a,c,u,l;return Object(i.__generator)(this,function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var s,o,a;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return(s=e.view._o(n)).Nn?[4,Mr(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,s)})]:[3,2];case 1:s=i.sent(),i.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(s,t.isPrimaryClient,o),[2,(Po(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,Mr(t.localStore,e,!0)];case 1:return s=h.sent(),o=new uo(e,s.Bn),a=o._o(s.documents),c=Ke.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,c),Po(t,n,u.To),l=new lo(e,n,o),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function go(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=v(t),r=n.Po.get(e),(s=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,s.filter(function(t){return!Ft(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ir(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Os(n.remoteStore,r.targetId),wo(n,r.targetId)}).catch(Yi)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return wo(n,r.targetId),[4,Ir(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})}function mo(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s,o,a;return Object(i.__generator)(this,function(i){switch(i.label){case 0:r=Go(t),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,i=v(t),r=C.now(),s=e.reduce(function(t,e){return t.add(e.key)},qe());return i.persistence.runTransaction("Locally write mutations","readwrite",function(t){return i.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=fe(u,n.get(u.key));null!=l&&o.push(new ve(u.key,l,at(l.value.mapValue),ue.exists(!0)))}return i._n.addMutationBatch(t,r,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return s=i.sent(),r.sharedClientState.addPendingMutation(s.batchId),function(t,e,n){var i=t.xo[t.currentUser.toKey()];i||(i=new Ae(E)),i=i.insert(e,n),t.xo[t.currentUser.toKey()]=i}(r,s.batchId,n),[4,Mo(r,s.changes)];case 3:return i.sent(),[4,ks(r.remoteStore)];case 4:return i.sent(),[3,6];case 5:return o=i.sent(),a=Ks(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function vo(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:n=v(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wr(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var i=n.Co.get(e);i&&(m(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.bo=!0:t.modifiedDocuments.size>0?m(i.bo):t.removedDocuments.size>0&&(m(i.bo),i.bo=!1))}),[4,Mo(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Yi(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function yo(t,e,n){var i=v(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.Po.forEach(function(t,n){var i=n.view.zr(e);i.snapshot&&r.push(i.snapshot)}),function(t,e){var n=v(t);n.onlineState=e;var i=!1;n.queries.forEach(function(t,n){for(var r=0,s=n.listeners;r<s.length;r++)s[r].zr(e)&&(i=!0)}),i&&eo(n)}(i.eventManager,e),r.length&&i.vo._r(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function bo(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s,o,a,c,u;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return(r=v(t)).sharedClientState.updateQueryState(e,"rejected",n),s=r.Co.get(e),(o=s&&s.key)?(a=(a=new Ae(K.comparator)).insert(o,ct.newNoDocument(o,T.min())),c=qe().add(o),u=new Ge(T.min(),new Map,new xe(E),a,c),[4,vo(r,u)]):[3,2];case 1:return i.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Io(r),[3,4];case 2:return[4,Ir(r.localStore,e,!1).then(function(){return wo(r,e,n)}).catch(Yi)];case 3:i.sent(),i.label=4;case 4:return[2]}})})}function Eo(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:n=v(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Cr(n.localStore,e)];case 2:return s=i.sent(),To(n,r,null),Co(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Mo(n,s)];case 3:return i.sent(),[3,6];case 4:return[4,Yi(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Oo(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:r=v(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var i;return n._n.lookupMutationBatch(t,e).next(function(e){return m(null!==e),i=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,i)})})}(r.localStore,e)];case 2:return s=i.sent(),To(r,e,n),Co(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Mo(r,s)];case 3:return i.sent(),[3,6];case 4:return[4,Yi(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function So(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o,a;return Object(i.__generator)(this,function(i){switch(i.label){case 0:Ds((n=v(t)).remoteStore)||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=v(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=i.sent())?[2,void e.resolve()]:((s=n.ko.get(r)||[]).push(e),n.ko.set(r,s),[3,4]);case 3:return o=i.sent(),a=Ks(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Co(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function To(t,e,n){var i=v(t),r=i.xo[i.currentUser.toKey()];if(r){var s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xo[i.currentUser.toKey()]=r}}function wo(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,r=t.Vo.get(e);i<r.length;i++){var s=r[i];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Do(t,e)})}function Do(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Os(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Io(t))}function Po(t,e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];s instanceof ao?(t.No.addReference(s.key,e),Ao(t,s)):s instanceof co?(d("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Do(t,s.key)):g()}}function Ao(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(d("SyncEngine","New document in limbo: "+n),t.So.add(i),Io(t))}function Io(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new K(I.fromString(e)),i=t.Fo.next();t.Co.set(i,new ho(n)),t.Do=t.Do.insert(n,i),Es(t.remoteStore,new mi(Ut(Mt(n.path)),i,2,a.o))}}function Mo(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s,o,a;return Object(i.__generator)(this,function(c){switch(c.label){case 0:return r=v(t),s=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,i){a.push(r.Oo(i,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,t.fromCache?"not-current":"current"),s.push(t);var e=yr.Pn(i.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(s),[4,function(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o,a,c,u,l;return Object(i.__generator)(this,function(i){switch(i.label){case 0:n=v(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ii.forEach(e,function(e){return ii.forEach(e.bn,function(i){return n.persistence.referenceDelegate.addReference(t,e.targetId,i)}).next(function(){return ii.forEach(e.vn,function(i){return n.persistence.referenceDelegate.removeReference(t,e.targetId,i)})})})})];case 2:return i.sent(),[3,4];case 3:if(!ci(r=i.sent()))throw r;return d("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(s=0,o=e;s<o.length;s++)c=(a=o[s]).targetId,a.fromCache||(u=n.kn.get(c),l=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(c,l));return[2]}})})}(r.localStore,o)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function xo(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return(n=v(t)).currentUser.isEqual(e)?[3,3]:(d("SyncEngine","User change. New user:",e.toKey()),[4,Sr(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new u(c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Mo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ro(t,e){var n=v(t),i=n.Co.get(e);if(i&&i.bo)return qe().add(i.key);var r=qe(),s=n.Vo.get(e);if(!s)return r;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);r=r.unionWith(c.view.wo)}return r}function ko(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,Mr((n=v(t)).localStore,e.query,!0)];case 1:return r=i.sent(),s=e.view.Ao(r),[2,(n.isPrimaryClient&&Po(n,e.targetId,s.To),s)]}})})}function Lo(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){return[2,Rr((e=v(t)).localStore).then(function(t){return Mo(e,t)})]})})}function jo(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var s,o;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,function(t,e){var n=v(t),i=v(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return i.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):ii.resolve(null)})})}((s=v(t)).localStore,e)];case 1:return null===(o=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,ks(s.remoteStore)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(To(s,e,r||null),Co(s,e),function(t,e){v(v(t)._n).Gt(e)}(s.localStore,e)):g(),i.label=4;case 4:return[4,Mo(s,o)];case 5:return i.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}})})}function No(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o,a,c,u;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return Wo(n=v(t)),Go(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Uo(n,r.toArray())]);case 1:return s=i.sent(),n.$o=!0,[4,qs(n.remoteStore,!0)];case 2:for(i.sent(),o=0,a=s;o<a.length;o++)Es(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):u=u.then(function(){return wo(n,e),Ir(n.localStore,e,!0)}),Os(n.remoteStore,e)}),[4,u]);case 4:return i.sent(),[4,Uo(n,c)];case 5:return i.sent(),function(t){var e=v(t);e.Co.forEach(function(t,n){Os(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Ae(K.comparator)}(n),n.$o=!1,[4,qs(n.remoteStore,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}})})}function Uo(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o,a,c,u,l,h,d,p,f,_;return Object(i.__generator)(this,function(i){switch(i.label){case 0:n=v(t),r=[],s=[],o=0,a=e,i.label=1;case 1:return o<a.length?(u=void 0,(l=n.Vo.get(c=a[o]))&&0!==l.length?[4,Ar(n.localStore,Ut(l[0]))]:[3,7]):[3,13];case 2:u=i.sent(),h=0,d=l,i.label=3;case 3:return h<d.length?(p=n.Po.get(d[h]),[4,ko(n,p)]):[3,6];case 4:(f=i.sent()).snapshot&&s.push(f.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,xr(n.localStore,c)];case 8:return _=i.sent(),[4,Ar(n.localStore,_)];case 9:return u=i.sent(),[4,_o(n,Bo(_),c,!1)];case 10:i.sent(),i.label=11;case 11:r.push(u),i.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(s),r)]}})})}function Bo(t){return It(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fo(t){var e=v(t);return v(v(e.localStore).persistence).fn()}function qo(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var s,o,a;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return(s=v(t)).$o?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Rr(s.localStore)];case 3:return o=i.sent(),a=Ge.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Mo(s,o,a)];case 4:return i.sent(),[3,8];case 5:return[4,Ir(s.localStore,e,!0)];case 6:return i.sent(),wo(s,e,r),[3,8];case 7:g(),i.label=8;case 8:return[2]}})})}function Vo(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s,o,a,c,u,l,h,p;return Object(i.__generator)(this,function(f){switch(f.label){case 0:if(!(r=Wo(t)).$o)return[3,10];s=0,o=e,f.label=1;case 1:return s<o.length?r.Vo.has(a=o[s])?(d("SyncEngine","Adding an already active target "+a),[3,5]):[4,xr(r.localStore,a)]:[3,6];case 2:return c=f.sent(),[4,Ar(r.localStore,c)];case 3:return u=f.sent(),[4,_o(r,Bo(c),u.targetId,!1)];case 4:f.sent(),Es(r.remoteStore,u),f.label=5;case 5:return s++,[3,1];case 6:l=function(t){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ir(r.localStore,t,!1).then(function(){Os(r.remoteStore,t),wo(r,t)}).catch(Yi)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,p=n,f.label=7;case 7:return h<p.length?[5,l(p[h])]:[3,10];case 8:f.sent(),f.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function Wo(t){var e=v(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vo.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ro.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bo.bind(null,e),e.vo._r=Js.bind(null,e.eventManager),e.vo.Mo=to.bind(null,e.eventManager),e}function Go(t){var e=v(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Eo.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oo.bind(null,e),e}function Ko(t,e,n){var r=v(t);(function(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s,o,a,c,u;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=i.sent(),[4,function(t,e){var n=v(t),i=on(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Ke.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(i)>=0})}(t.localStore,r)];case 2:return i.sent()?[4,e.close()]:[3,4];case 3:return[2,(i.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(oo(r)),s=new so(r,t.localStore,e.R),[4,e.Lo()];case 5:o=i.sent(),i.label=6;case 6:return o?[4,s.oo(o)]:[3,10];case 7:return(a=i.sent())&&n._updateProgress(a),[4,e.Lo()];case 8:o=i.sent(),i.label=9;case 9:return[3,6];case 10:return[4,s.complete()];case 11:return c=i.sent(),[4,Mo(t,c.wn,void 0)];case 12:return i.sent(),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Ke.saveBundleMetadata(t,e)})}(t.localStore,r)];case 13:return i.sent(),n._completeWith(c.progress),[3,15];case 14:return f("SyncEngine","Loading bundle failed with "+(u=i.sent())),n._failWith(u),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var zo=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return this.R=hs(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Or(this.persistence,new br,t.initialUser,this.R)},t.prototype.qo=function(t){return new Gr(zr.bs,this.R)},t.prototype.Bo=function(t){return new is},t.prototype.terminate=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),$o=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Qo=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(i.__extends)(e,t),e.prototype.initialize=function(e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,kr(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,e)];case 3:return i.sent(),[4,Go(this.Qo.syncEngine)];case 4:return i.sent(),[4,ks(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(t){return Or(this.persistence,new br,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Ji(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=gr(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ni.withCacheSize(this.cacheSizeBytes):Ni.DEFAULT;return new pr(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,us(),ls(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new is},e}(zo),Ho=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Qo=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(i.__extends)(e,t),e.prototype.initialize=function(e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r=this;return Object(i.__generator)(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ns?(this.sharedClientState.syncEngine={ui:jo.bind(null,n),ai:qo.bind(null,n),hi:Vo.bind(null,n),fn:Fo.bind(null,n),ci:Lo.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(t){return Object(i.__awaiter)(r,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return[4,No(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Bo=function(t){var e=us();if(!ns.yt(e))throw new u(c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gr(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ns(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}($o),Qo=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return yo(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=xo.bind(null,this.syncEngine),[4,qs(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Ys},t.prototype.createDatastore=function(t){var e=hs(t.databaseInfo.databaseId),n=new cs(t.databaseInfo);return function(t,e,n){return new gs(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,i,r,s,o=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return yo(o.syncEngine,t,0)},s=ss.yt()?new ss:new rs,new vs(e,n,i,r,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,i,r,s,o){var a=new po(t,e,n,i,r,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return e=v(t),d("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,bs(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function Yo(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var r;return Object(i.__generator)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Xo=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Zo=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new ni,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e,n,r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new io(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),Jo=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(i.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new u(c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s,o,a,c;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=v(t),r=pn(n.R)+"/documents",s={documents:e.map(function(t){return un(n.R,t)})},[4,n.$i("BatchGetDocuments",r,s)];case 1:return o=i.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){m(!!e.found);var n=ln(t,e.found.name),i=on(e.found.updateTime),r=new ot({mapValue:{fields:e.found.fields}});return ct.newFoundDocument(n,i,r)}(t,e):"missing"in e?function(t,e){m(!!e.missing),m(!!e.readTime);var n=ln(t,e.missing),i=on(e.readTime);return ct.newNoDocument(n,i)}(t,e):g()}(n.R,t);a.set(e.key.toString(),e)}),c=[],[2,(e.forEach(function(t){var e=a.get(t.toString());m(!!e),c.push(e)}),c)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ce(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(i.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var i=K.fromPath(n);e.mutations.push(new Te(i,e.precondition(i)))}),[4,function(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=v(t),r=pn(n.R)+"/documents",s={writes:e.map(function(t){return mn(n.R,t)})},[4,n.Ni("Commit",r,s)];case 1:return i.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw g();e=T.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new u(c.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ue.updateTime(e):ue.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(T.min()))throw new u(c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ue.updateTime(e)}return ue.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),ta=function(){function t(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.ec=5,this.Zi=new ds(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(i.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return Object(i.__generator)(this,function(i){return t=new Jo(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!V(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!De(e)}return!1},t}(),ea=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=$r.UNAUTHENTICATED,this.clientId=b.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(i.__awaiter)(r,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return d("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new u(c.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(i.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=i.sent(),n=Ks(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function na(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,s=this;return Object(i.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(i.__awaiter)(s,void 0,void 0,function(){return Object(i.__generator)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Sr(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function ia(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(i.__generator)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ra(t)];case 1:return n=s.sent(),d("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=s.sent(),[4,e.initialize(n,r)];case 3:return s.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return(n=v(t)).asyncQueue.verifyOperationInProgress(),d("RemoteStore","RemoteStore received new credentials"),r=Ds(n),n.Or.add(3),[4,bs(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,ys(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function ra(t){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(d("FirestoreClient","Using default OfflineComponentProvider"),[4,na(t,new zo)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function sa(t){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(d("FirestoreClient","Using default OnlineComponentProvider"),[4,ia(t,new Qo)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function oa(t){return ra(t).then(function(t){return t.persistence})}function aa(t){return ra(t).then(function(t){return t.localStore})}function ca(t){return sa(t).then(function(t){return t.remoteStore})}function ua(t){return sa(t).then(function(t){return t.syncEngine})}function la(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,sa(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=fo.bind(null,e.syncEngine),n.onUnlisten=go.bind(null,e.syncEngine),n)]}})})}function ha(t,e,n){var r=this;void 0===n&&(n={});var s=new ni;return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(r,void 0,void 0,function(){var r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return r=function(t,e,n,i,r){var s=new Xo({next:function(s){e.enqueueAndForget(function(){return Zs(t,o)});var a=s.docs.has(n);!a&&s.fromCache?r.reject(new u(c.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new u(c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:function(t){return r.reject(t)}}),o=new no(Mt(n.path),s,{includeMetadataChanges:!0,so:!0});return Xs(t,o)},[4,la(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,s])]}})})}),s.promise}function da(t,e,n){var r=this;void 0===n&&(n={});var s=new ni;return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(r,void 0,void 0,function(){var r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return r=function(t,e,n,i,r){var s=new Xo({next:function(n){e.enqueueAndForget(function(){return Zs(t,o)}),n.fromCache&&"server"===i.source?r.reject(new u(c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),o=new no(n,s,{includeMetadataChanges:!0,so:!0});return Xs(t,o)},[4,la(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,s])]}})})}),s.promise}var pa=function(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},fa=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),_a=new Map,ga=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ma=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e($r.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),va=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ya=function(){function t(t){var e=this;this.currentUser=$r.UNAUTHENTICATED,this.oc=new ni,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){d("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var i=t.getImmediate({optional:!0});i?n(i):(d("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(m("string"==typeof n.accessToken),new ga(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(i.__awaiter)(n,void 0,void 0,function(){return Object(i.__generator)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return m(null===t||"string"==typeof t),new $r(t)},t}(),ba=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=$r.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Ea=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new ba(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e($r.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Oa(t,e,n){if(!n)throw new u(c.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Sa(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new u(c.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ca(t,e,n,i){if(!0===e&&!0===i)throw new u(c.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ta(t){if(!K.isDocumentKey(t))throw new u(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function wa(t){if(K.isDocumentKey(t))throw new u(c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Da(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g()}function Pa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new u(c.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Da(t);throw new u(c.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Aa(t,e){if(e<=0)throw new u(c.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ia=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new u(c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new u(c.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ca("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Ma=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ia({}),this._settingsFrozen=!1,t instanceof fa?(this._databaseId=t,this._credentials=new ma):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new u(c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(t.options.projectId)}(t),this._credentials=new ya(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new u(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new u(c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ia(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ma;switch(t.type){case"gapi":var e=t.client;return m(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ea(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new u(c.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=_a.get(this))&&(d("ComponentProvider","Removing Datastore"),_a.delete(this),t.terminate()),Promise.resolve();var t},t}(),xa=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ka(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ra=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ka=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,Mt(i))||this)._path=i,r.type="collection",r}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new xa(this.firestore,null,new K(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ra);function La(t,e){for(var n,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];if(t=Object(r.getModularInstance)(t),Oa("collection","path",e),t instanceof Ma)return wa(n=I.fromString.apply(I,Object(i.__spreadArray)([e],s))),new ka(t,null,n);if(!(t instanceof xa||t instanceof ka))throw new u(c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wa(n=I.fromString.apply(I,Object(i.__spreadArray)([t.path],s)).child(I.fromString(e))),new ka(t.firestore,null,n)}function ja(t,e){for(var n,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];if(t=Object(r.getModularInstance)(t),1===arguments.length&&(e=b.u()),Oa("doc","path",e),t instanceof Ma)return Ta(n=I.fromString.apply(I,Object(i.__spreadArray)([e],s))),new xa(t,null,new K(n));if(!(t instanceof xa||t instanceof ka))throw new u(c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ta(n=t._path.child(I.fromString.apply(I,Object(i.__spreadArray)([e],s)))),new xa(t.firestore,t instanceof ka?t.converter:null,new K(n))}function Na(t,e){return t=Object(r.getModularInstance)(t),e=Object(r.getModularInstance)(e),(t instanceof xa||t instanceof ka)&&(e instanceof xa||e instanceof ka)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ua(t,e){return t=Object(r.getModularInstance)(t),e=Object(r.getModularInstance)(e),t instanceof Ra&&e instanceof Ra&&t.firestore===e.firestore&&Ft(t._query,e._query)&&t.converter===e.converter}var Ba=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ds(this,"async_queue_retry"),this.Ic=function(){var e=ls();e&&d("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=ls();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=ls();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new ni;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(i.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ci(t=n.sent()))throw t;return d("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,p("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var r=Gs.createAndSchedule(this,t,e,n,function(t){return i.vc(t)});return this.mc.push(r),r},t.prototype.Ac=function(){this.yc&&g()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t;return Object(i.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,i=e.mc;n<i.length;n++){var r=i[n];if(r.skipDelay(),"all"!==t&&r.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Fa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var s=r[i];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var qa=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Va=-1,Wa=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).type="firestore",i._queue=new Ba,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(i.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ka(this),this._firestoreClient.terminate()},e}(Ma);function Ga(t){return t._firestoreClient||Ka(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ka(t){var e,n=t._freezeSettings(),i=function(t,e,n,i){return new pa(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ea(t._credentials,t._queue,i)}function za(t,e,n){var r=this,s=new ni;return t.asyncQueue.enqueue(function(){return Object(i.__awaiter)(r,void 0,void 0,function(){var r;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,na(t,n)];case 1:return i.sent(),[4,ia(t,e)];case 2:return i.sent(),s.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===c.FAILED_PRECONDITION||t.code===c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),s.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return s.promise})}function $a(t){if(t._initialized||t._terminated)throw new u(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ha=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new u(c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new x(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Qa=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(k.fromBase64String(e))}catch(e){throw new u(c.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(k.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Ya=function(t){this._methodName=t},Xa=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new u(c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new u(c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return E(this._lat,t._lat)||E(this._long,t._long)},t}(),Za=/^__.*__$/,Ja=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ve(t,this.data,this.fieldMask,e,this.fieldTransforms):new me(t,this.data,e,this.fieldTransforms)},t}(),tc=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ve(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ec(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var nc=function(){function t(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Cc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.xc({path:n,Fc:!1});return i.$c(t),i},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.xc({path:n,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Oc(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(ec(this.Nc)&&Za.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),ic=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||hs(t)}return t.prototype.Uc=function(t,e,n,i){return void 0===i&&(i=!1),new nc({Nc:t,methodName:e,qc:n,path:x.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function rc(t){var e=t._freezeSettings(),n=hs(t._databaseId);return new ic(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sc(t,e,n,i,r,s){void 0===s&&(s={});var o=t.Uc(s.merge||s.mergeFields?2:0,e,n,r);vc("Data must be an object, but it was:",o,i);var a,l,h=gc(i,o);if(s.merge)a=new R(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){for(var d=[],p=0,f=s.mergeFields;p<f.length;p++){var _=yc(e,f[p],n);if(!o.contains(_))throw new u(c.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");Sc(d,_)||d.push(_)}a=new R(d),l=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,l=o.fieldTransforms;return new Ja(new ot(h),a,l)}var oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ya);function ac(t,e,n){return new nc({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new ae(t.path,new Jt)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ya),uc=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Kc=n,i}return Object(i.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=ac(this,t,!0),n=this.Kc.map(function(t){return _c(t,e)}),i=new te(n);return new ae(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Ya),lc=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Kc=n,i}return Object(i.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=ac(this,t,!0),n=this.Kc.map(function(t){return _c(t,e)}),i=new ne(n);return new ae(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Ya),hc=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Qc=n,i}return Object(i.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new re(t.R,Ht(t.R,this.Qc));return new ae(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ya);function dc(t,e,n,i){var s=t.Uc(1,e,n);vc("Data must be an object, but it was:",s,i);var o=[],a=ot.empty();D(i,function(t,i){var c=Ec(e,t,n);i=Object(r.getModularInstance)(i);var u=s.Oc(c);if(i instanceof oc)o.push(c);else{var l=_c(i,u);null!=l&&(o.push(c),a.set(c,l))}});var c=new R(o);return new tc(a,c,s.fieldTransforms)}function pc(t,e,n,i,s,o){var a=t.Uc(1,e,n),l=[yc(e,i,n)],h=[s];if(o.length%2!=0)throw new u(c.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<o.length;d+=2)l.push(yc(e,o[d])),h.push(o[d+1]);for(var p=[],f=ot.empty(),_=l.length-1;_>=0;--_)if(!Sc(p,l[_])){var g=l[_],m=h[_];m=Object(r.getModularInstance)(m);var v=a.Oc(g);if(m instanceof oc)p.push(g);else{var y=_c(m,v);null!=y&&(p.push(g),f.set(g,y))}}var b=new R(p);return new tc(f,b,a.fieldTransforms)}function fc(t,e,n,i){return void 0===i&&(i=!1),_c(n,t.Uc(i?4:3,e))}function _c(t,e){if(mc(t=Object(r.getModularInstance)(t)))return vc("Unsupported field value:",e,t),gc(t,e);if(t instanceof Ya)return function(t,e){if(!ec(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,s=t;r<s.length;r++){var o=_c(s[r],e.Mc(i));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(r.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ht(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=C.fromDate(t);return{timestampValue:nn(e.R,n)}}if(t instanceof C)return n=new C(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:nn(e.R,n)};if(t instanceof Xa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qa)return{bytesValue:rn(e.R,t._byteString)};if(t instanceof xa){var i=t.firestore._databaseId;if(!i.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:an(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Da(t))}(t,e)}function gc(t,e){var n={};return P(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):D(t,function(t,i){var r=_c(i,e.kc(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function mc(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof C||t instanceof Xa||t instanceof Qa||t instanceof xa||t instanceof Ya)}function vc(t,e,n){if(!mc(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=Da(n);throw e.Lc("an object"===i?t+" a custom object":t+" "+i)}}function yc(t,e,n){if((e=Object(r.getModularInstance)(e))instanceof Ha)return e._internalPath;if("string"==typeof e)return Ec(t,e);throw Oc("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var bc=new RegExp("[~\\*/\\[\\]]");function Ec(t,e,n){if(e.search(bc)>=0)throw Oc("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ha.bind.apply(Ha,Object(i.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(r){throw Oc("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Oc(t,e,n,i,r){var s=i&&!i.isEmpty(),o=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var l="";return(s||o)&&(l+=" (found",s&&(l+=" in field "+i),o&&(l+=" in document "+r),l+=")"),new u(c.INVALID_ARGUMENT,(a+=". ")+t+l)}function Sc(t,e){return t.some(function(t){return t.isEqual(e)})}var Cc=function(){function t(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xa(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Tc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(wc("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Cc);function wc(t,e){return"string"==typeof e?Ec(t,e):e instanceof Ha?e._internalPath:e._delegate._internalPath}var Dc=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Pc=function(t){function e(e,n,i,r,s,o){var a=this;return(a=t.call(this,e,n,i,r,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(i.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(wc("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Cc),Ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Pc),Ic=function(){function t(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Dc(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(i){t.call(e,new Ac(n._firestore,n._userDataWriter,i.key,i,new Dc(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new u(c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Ac(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dc(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ac(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dc(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),r=-1,s=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Mc(e.type),doc:n,oldIndex:r,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Mc(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function xc(t,e){return t instanceof Pc&&e instanceof Pc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ic&&e instanceof Ic&&t._firestore===e._firestore&&Ua(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Rc(t){if(Rt(t)&&0===t.explicitOrderBy.length)throw new u(c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kc=function(){};function Lc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var s=r[i];t=s._apply(t)}return t}var jc=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).jc=e,r.Wc=n,r.Gc=i,r.type="where",r}return Object(i.__extends)(e,t),e.prototype._apply=function(t){var e=rc(t.firestore),n=function(t,e,n,i,r,s,o){var a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new u(c.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Wc(o,s);for(var l=[],h=0,d=o;h<d.length;h++)l.push(Vc(i,t,d[h]));a={arrayValue:{values:l}}}else a=Vc(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Wc(o,s),a=fc(n,"where",o,"in"===s||"not-in"===s);var p=ft.create(r,s,a);return function(t,e){if(e.g()){var n=Lt(t);if(null!==n&&!n.isEqual(e.field))throw new u(c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=kt(t);null!==i&&Gc(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new u(c.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,p),p}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ra(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new At(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(kc),Nc=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).jc=e,i.zc=n,i.type="orderBy",i}return Object(i.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new u(c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new u(c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new Tt(e,n);return function(t,e){if(null===kt(t)){var n=Lt(t);null!==n&&Gc(0,n,e.field)}}(t,i),i}(t._query,this.jc,this.zc);return new Ra(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new At(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(kc),Uc=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Hc=n,r.Jc=i,r}return Object(i.__extends)(e,t),e.prototype._apply=function(t){return new Ra(t.firestore,t.converter,Bt(t._query,this.Hc,this.Jc))},e}(kc),Bc=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Yc=n,r.Xc=i,r}return Object(i.__extends)(e,t),e.prototype._apply=function(t){var e=qc(t,this.type,this.Yc,this.Xc);return new Ra(t.firestore,t.converter,function(t,e){return new At(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(kc),Fc=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Yc=n,r.Xc=i,r}return Object(i.__extends)(e,t),e.prototype._apply=function(t){var e=qc(t,this.type,this.Yc,this.Xc);return new Ra(t.firestore,t.converter,function(t,e){return new At(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(kc);function qc(t,e,n,i){if(n[0]=Object(r.getModularInstance)(n[0]),n[0]instanceof Cc)return function(t,e,n,i,r){if(!i)throw new u(c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Nt(t);o<a.length;o++){var l=a[o];if(l.field.isKeyField())s.push(J(e,i.key));else{var h=i.data.field(l.field);if(B(h))throw new u(c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var d=l.field.canonicalString();throw new u(c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+d+"' (used as the orderBy) does not exist.")}s.push(h)}}return new St(s,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var s=rc(t.firestore);return function(t,e,n,i,r,s){var o=t.explicitOrderBy;if(r.length>o.length)throw new u(c.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],l=0;l<r.length;l++){var h=r[l];if(o[l].field.isKeyField()){if("string"!=typeof h)throw new u(c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof h);if(!jt(t)&&-1!==h.indexOf("/"))throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+h+"' contains a slash.");var d=t.path.child(I.fromString(h));if(!K.isDocumentKey(d))throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+d+"' is not because it contains an odd number of segments.");var p=new K(d);a.push(J(e,p))}else{var f=fc(n,i,h);a.push(f)}}return new St(a,s)}(t._query,t.firestore._databaseId,s,e,n,i)}function Vc(t,e,n){if("string"==typeof(n=Object(r.getModularInstance)(n))){if(""===n)throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jt(e)&&-1!==n.indexOf("/"))throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(I.fromString(n));if(!K.isDocumentKey(i))throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return J(t,new K(i))}if(n instanceof xa)return J(t,n._key);throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Da(n)+".")}function Wc(t,e){if(!Array.isArray(t)||0===t.length)throw new u(c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new u(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Gc(t,e,n){if(!n.isEqual(e))throw new u(c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Kc=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),z(t)){case 0:return null;case 1:return t.booleanValue;case 2:return N(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(U(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw g()}},t.prototype.convertObject=function(t,e){var n=this,i={};return D(t.fields,function(t,r){i[t]=n.convertValue(r,e)}),i},t.prototype.convertGeoPoint=function(t){return new Xa(N(t.latitude),N(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=F(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(q(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=j(t);return new C(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=I.fromString(t);m(xn(n));var i=new fa(n.get(1),n.get(3)),r=new K(n.popFirst(5));return i.isEqual(e)||p("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}();function zc(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var $c=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(i.__extends)(e,t),e.prototype.convertBytes=function(t){return new Qa(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xa(this.firestore,null,e)},e}(Kc),Hc=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=rc(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var i=Qc(t,this._firestore),r=zc(i.converter,e,n),s=sc(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,ue.none())),this},t.prototype.update=function(t,e,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var o,a=Qc(t,this._firestore);return o="string"==typeof(e=Object(r.getModularInstance)(e))||e instanceof Ha?pc(this._dataReader,"WriteBatch.update",a._key,e,n,i):dc(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,ue.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Qc(t,this._firestore);return this._mutations=this._mutations.concat(new Ce(e._key,ue.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new u(c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Qc(t,e){if((t=Object(r.getModularInstance)(t)).firestore!==e)throw new u(c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Yc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(i.__extends)(e,t),e.prototype.convertBytes=function(t){return new Qa(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xa(this.firestore,null,e)},e}(Kc);function Xc(t,e,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];t=Pa(t,xa);var o=Pa(t.firestore,Wa),a=rc(o);return Jc(o,[("string"==typeof(e=Object(r.getModularInstance)(e))||e instanceof Ha?pc(a,"updateDoc",t._key,e,n,i):dc(a,"updateDoc",t._key,e)).toMutation(t._key,ue.exists(!0))])}function Zc(t){for(var e,n,s,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];t=Object(r.getModularInstance)(t);var c={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||Fa(o[u])||(c=o[u],u++);var l,h,d,p={includeMetadataChanges:c.includeMetadataChanges};if(Fa(o[u])){var f=o[u];o[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),o[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),o[u+2]=null===(s=f.complete)||void 0===s?void 0:s.bind(f)}if(t instanceof xa)h=Pa(t.firestore,Wa),d=Mt(t._key.path),l={next:function(e){o[u]&&o[u](tu(h,t,e))},error:o[u+1],complete:o[u+2]};else{var _=Pa(t,Ra);h=Pa(_.firestore,Wa),d=_._query;var g=new Yc(h);l={next:function(t){o[u]&&o[u](new Ic(h,g,_,t))},error:o[u+1],complete:o[u+2]},Rc(t._query)}return function(t,e,n,r){var s=this,o=new Xo(r),a=new no(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(s,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return e=Xs,[4,la(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(s,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return e=Zs,[4,la(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(Ga(h),d,p,l)}function Jc(t,e){return function(t,e){var n=this,r=new ni;return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(n,void 0,void 0,function(){var n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=mo,[4,ua(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Ga(t),e)}function tu(t,e,n){var i=n.docs.get(e._key),r=new Yc(t);return new Pc(t,r,e._key,i,new Dc(n.hasPendingWrites,n.fromCache),e.converter)}var eu=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._firestore=e,i}return Object(i.__extends)(e,t),e.prototype.get=function(e){var n=this,i=Qc(e,this._firestore),r=new Yc(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Pc(n._firestore,r,i._key,t._document,new Dc(!1,!1),i.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=rc(t)}return t.prototype.get=function(t){var e=this,n=Qc(t,this._firestore),i=new $c(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return g();var r=t[0];if(r.isFoundDocument())return new Cc(e._firestore,i,r.key,r,n.converter);if(r.isNoDocument())return new Cc(e._firestore,i,n._key,null,n.converter);throw g()})},t.prototype.set=function(t,e,n){var i=Qc(t,this._firestore),r=zc(i.converter,e,n),s=sc(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this},t.prototype.update=function(t,e,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o,a=Qc(t,this._firestore);return o="string"==typeof(e=Object(r.getModularInstance)(e))||e instanceof Ha?pc(this._dataReader,"Transaction.update",a._key,e,n,i):dc(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Qc(t,this._firestore);return this._transaction.delete(e._key),this},t}());function nu(){if("undefined"==typeof Uint8Array)throw new u(c.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function iu(){if("undefined"==typeof atob)throw new u(c.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ru=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return iu(),new t(Qa.fromBase64String(e))},t.fromUint8Array=function(e){return nu(),new t(Qa.fromUint8Array(e))},t.prototype.toBase64=function(){return iu(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return nu(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),su=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){$a(t=Pa(t,Wa));var n=Ga(t),i=t._freezeSettings(),r=new Qo;return za(n,r,new $o(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){$a(t=Pa(t,Wa));var e=Ga(t),n=t._freezeSettings(),i=new Qo;return za(e,i,new Ho(i,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new u(c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ni;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(i.__awaiter)(e,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:return si.yt()?[4,si.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(gr(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),ou=function(){function t(t,e,n){var i=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof fa||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||f("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){var s;void 0===i&&(i={});var o=(t=Pa(t,Ma))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&f("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),i.mockUserToken){var a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=$r.MOCK_USER;else{a=Object(r.createMockUserToken)(i.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);var h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new u(c.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $r(h)}t._credentials=new va(new ga(a,l))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(i.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,oa(t)];case 1:return e=i.sent(),[4,ca(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=v(t);return e.Or.delete(0),ys(e)}(n))]}})})})}(Ga(Pa(this._delegate,Wa)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(i.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(i.__generator)(this,function(r){switch(r.label){case 0:return[4,oa(t)];case 1:return e=r.sent(),[4,ca(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return(e=v(t)).Or.add(0),[4,bs(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Ga(Pa(this._delegate,Wa)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ca("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ni;return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(e,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return e=So,[4,ua(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}})})}),n.promise}(Ga(Pa(this._delegate,Wa)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Xo(e);return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(n,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){v(t).Gr.add(e),e.next()},[4,la(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(n,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){v(t).Gr.delete(e)},[4,la(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Ga(t=Pa(t,Wa)),Fa(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new u(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Eu(this,La(this._delegate,t))}catch(t){throw pu(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new du(this,ja(this._delegate,t))}catch(t){throw pu(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new vu(this,function(t,e){if(t=Pa(t,Ma),Oa("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new u(c.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ra(t,null,function(t){return new At(I.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw pu(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ni;return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(n,void 0,void 0,function(){var n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return[4,function(t){return sa(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new ta(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Ga(t),function(n){return e(new eu(t,n))})}(this._delegate,function(n){return t(new uu(e,n))})},t.prototype.batch=function(){var t=this;return Ga(this._delegate),new lu(new Hc(this._delegate,function(e){return Jc(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new u(c.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new u(c.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),au=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(i.__extends)(e,t),e.prototype.convertBytes=function(t){return new ru(new Qa(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return du.eu(e,this.firestore,null)},e}(Kc);function cu(t){l.setLogLevel(t)}var uu=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new au(t)}return t.prototype.get=function(t){var e=this,n=Ou(t);return this._delegate.get(n).then(function(t){return new gu(e._firestore,new Pc(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var i=Ou(t);return n?(Sa("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];var a=Ou(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(i.__spreadArray)([a,e,n],s)),this},t.prototype.delete=function(t){var e=Ou(t);return this._delegate.delete(e),this},t}(),lu=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var i=Ou(t);return n?(Sa("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];var a=Ou(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(i.__spreadArray)([a,e,n],s)),this},t.prototype.delete=function(t){var e=Ou(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hu=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Ac(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mu(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var i=t.su,r=i.get(e);r||(r=new WeakMap,i.set(e,r));var s=r.get(n);return s||(s=new t(e,new au(e),n),r.set(n,s)),s},t}();hu.su=new WeakMap;var du=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new au(t)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new u(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new xa(n._delegate,i,new K(e)))},t.eu=function(e,n,i){return new t(n,new xa(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Eu(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Eu(this.firestore,La(this._delegate,t))}catch(t){throw pu(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(r.getModularInstance)(t))instanceof xa&&Na(this._delegate,t)},t.prototype.set=function(t,e){e=Sa("DocumentReference.set",e);try{return function(t,e,n){t=Pa(t,xa);var i=Pa(t.firestore,Wa),r=zc(t.converter,e,n);return Jc(i,[sc(rc(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,ue.none())])}(this._delegate,t,e)}catch(t){throw pu(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Xc(this._delegate,t):Xc.apply(void 0,Object(i.__spreadArray)([this._delegate,t,e],n))}catch(t){throw pu(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Jc(Pa((t=this._delegate).firestore,Wa),[new Ce(t._key,ue.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=fu(e),r=_u(e,function(e){return new gu(t.firestore,new Pc(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Zc(this._delegate,i,r)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Pa(t,xa);var e=Pa(t.firestore,Wa),n=Ga(e),r=new Yc(e);return function(t,e){var n=this,r=new ni;return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(n,void 0,void 0,function(){var n;return Object(i.__generator)(this,function(s){switch(s.label){case 0:return n=function(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(s=i.sent()).isFoundDocument()?n.resolve(s):s.isNoDocument()?n.resolve(null):n.reject(new u(c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),s=Ks(r,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,aa(t)];case 1:return[2,n.apply(void 0,[s.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Pc(e,r,t._key,n,new Dc(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Pa(t,xa);var e=Pa(t.firestore,Wa);return ha(Ga(e),t._key,{source:"server"}).then(function(n){return tu(e,t,n)})}(this._delegate):function(t){t=Pa(t,xa);var e=Pa(t.firestore,Wa);return ha(Ga(e),t._key).then(function(n){return tu(e,t,n)})}(this._delegate)).then(function(t){return new gu(e.firestore,new Pc(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?hu.nu(this.firestore,e):null))},t}();function pu(t,e,n){return t.message=t.message.replace(e,n),t}function fu(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!Fa(i))return i}return{}}function _u(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=Fa(t[0])?t[0]:Fa(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var gu=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new du(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return xc(this._delegate,t._delegate)},t}(),mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(gu),vu=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new au(t)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,Lc(this._delegate,function(t,e,n){var i=e,r=wc("where",t);return new jc(r,i,n)}(e,n,i)))}catch(e){throw pu(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Lc(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,i=wc("orderBy",t);return new Nc(i,n)}(e,n)))}catch(e){throw pu(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Lc(this._delegate,function(t){return Aa("limit",t),new Uc("limit",t,"F")}(e)))}catch(e){throw pu(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Lc(this._delegate,function(t){return Aa("limitToLast",t),new Uc("limitToLast",t,"L")}(e)))}catch(e){throw pu(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lc(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bc("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw pu(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lc(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bc("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw pu(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lc(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fc("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw pu(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lc(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fc("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw pu(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Ua(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Pa(t,Ra);var e=Pa(t.firestore,Wa),n=Ga(e),r=new Yc(e);return function(t,e){var n=this,r=new ni;return t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(n,void 0,void 0,function(){var n;return Object(i.__generator)(this,function(s){switch(s.label){case 0:return n=function(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,function(){var r,s,o,a,c;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Mr(t,e,!0)];case 1:return c=i.sent(),r=new uo(e,c.Bn),s=r._o(c.documents),o=r.applyChanges(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=i.sent(),c=Ks(a,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}})})},[4,aa(t)];case 1:return[2,n.apply(void 0,[s.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Ic(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Pa(t,Ra);var e=Pa(t.firestore,Wa),n=Ga(e),i=new Yc(e);return da(n,t._query,{source:"server"}).then(function(n){return new Ic(e,i,t,n)})}(this._delegate):function(t){t=Pa(t,Ra);var e=Pa(t.firestore,Wa),n=Ga(e),i=new Yc(e);return Rc(t._query),da(n,t._query).then(function(n){return new Ic(e,i,t,n)})}(this._delegate)).then(function(t){return new bu(e.firestore,new Ic(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=fu(e),r=_u(e,function(e){return new bu(t.firestore,new Ic(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Zc(this._delegate,i,r)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?hu.nu(this.firestore,e):null))},t}(),yu=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new mu(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),bu=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new vu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new mu(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new yu(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(i){t.call(e,new mu(n._firestore,i))})},t.prototype.isEqual=function(t){return xc(this._delegate,t._delegate)},t}(),Eu=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._delegate=n,i}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new du(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new du(this.firestore,void 0===t?ja(this._delegate):ja(this._delegate,t))}catch(t){throw pu(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Pa(t.firestore,Wa),i=ja(t),r=zc(t.converter,e);return Jc(n,[sc(rc(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,ue.exists(!1))]).then(function(){return i})}(this._delegate,t).then(function(t){return new du(e.firestore,t)})},e.prototype.isEqual=function(t){return Na(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?hu.nu(this.firestore,t):null))},e}(vu);function Ou(t){return Pa(t,xa)}var Su=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ha.bind.apply(Ha,Object(i.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(x.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(r.getModularInstance)(t))instanceof Ha&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Cu=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new cc("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new oc("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uc("arrayUnion",t)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lc("arrayRemove",t)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(t){return new hc("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();function Tu(t){return function(t,e){var n=Ga(t=Pa(t,Wa)),r=new qa;return function(t,e,n,r){var s=this,o=function(t,e){return function(t,e){return new Zo(t,e)}(function(t,e){if(t instanceof Uint8Array)return Yo(t,e);if(t instanceof ArrayBuffer)return Yo(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,hs(e));t.asyncQueue.enqueueAndForget(function(){return Object(i.__awaiter)(s,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return e=Ko,[4,ua(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,t._databaseId,e,r),r}(this._delegate,t)}function wu(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Object(i.__awaiter)(n,void 0,void 0,function(){var n;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e){var n=v(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,aa(t)];case 1:return[2,n.apply(void 0,[i.sent(),e])]}})})})}(Ga(e=Pa(e,Wa)),n).then(function(t){return t?new Ra(e,null,t.query):null})).then(function(t){return t?new vu(r,t):null})}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var r;n.r(e),n.d(e,"LogLevel",function(){return o}),n.d(e,"Logger",function(){return h}),n.d(e,"setLogLevel",function(){return d}),n.d(e,"setUserLogHandler",function(){return p});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},qOnz:function(t,e,n){"use strict";n.r(e),n.d(e,"CONSTANTS",function(){return r}),n.d(e,"Deferred",function(){return f}),n.d(e,"ErrorFactory",function(){return x}),n.d(e,"FirebaseError",function(){return M}),n.d(e,"MAX_VALUE_MILLIS",function(){return ut}),n.d(e,"RANDOM_FACTOR",function(){return lt}),n.d(e,"Sha1",function(){return X}),n.d(e,"areCookiesEnabled",function(){return A}),n.d(e,"assert",function(){return s}),n.d(e,"assertionError",function(){return o}),n.d(e,"async",function(){return tt}),n.d(e,"base64",function(){return c}),n.d(e,"base64Decode",function(){return h}),n.d(e,"base64Encode",function(){return u}),n.d(e,"base64urlEncodeWithoutPadding",function(){return l}),n.d(e,"calculateBackoffMillis",function(){return ht}),n.d(e,"contains",function(){return V}),n.d(e,"createMockUserToken",function(){return _}),n.d(e,"createSubscribe",function(){return Z}),n.d(e,"decode",function(){return N}),n.d(e,"deepCopy",function(){return d}),n.d(e,"deepEqual",function(){return z}),n.d(e,"deepExtend",function(){return p}),n.d(e,"errorPrefix",function(){return it}),n.d(e,"extractQuerystring",function(){return Y}),n.d(e,"getGlobal",function(){return I}),n.d(e,"getModularInstance",function(){return pt}),n.d(e,"getUA",function(){return g}),n.d(e,"isAdmin",function(){return q}),n.d(e,"isBrowser",function(){return y}),n.d(e,"isBrowserExtension",function(){return b}),n.d(e,"isElectron",function(){return O}),n.d(e,"isEmpty",function(){return G}),n.d(e,"isIE",function(){return S}),n.d(e,"isIndexedDBAvailable",function(){return D}),n.d(e,"isMobileCordova",function(){return m}),n.d(e,"isNode",function(){return v}),n.d(e,"isNodeSdk",function(){return T}),n.d(e,"isReactNative",function(){return E}),n.d(e,"isSafari",function(){return w}),n.d(e,"isUWP",function(){return C}),n.d(e,"isValidFormat",function(){return F}),n.d(e,"isValidTimestamp",function(){return U}),n.d(e,"issuedAtTime",function(){return B}),n.d(e,"jsonEval",function(){return L}),n.d(e,"map",function(){return K}),n.d(e,"ordinal",function(){return dt}),n.d(e,"querystring",function(){return H}),n.d(e,"querystringDecode",function(){return Q}),n.d(e,"safeGet",function(){return W}),n.d(e,"stringLength",function(){return ct}),n.d(e,"stringToByteArray",function(){return at}),n.d(e,"stringify",function(){return j}),n.d(e,"validateArgCount",function(){return nt}),n.d(e,"validateCallback",function(){return st}),n.d(e,"validateContextObject",function(){return ot}),n.d(e,"validateIndexedDBOpenable",function(){return P}),n.d(e,"validateNamespace",function(){return rt});var i=n("mrSG"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,o||(l=64)),i.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,c=++r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==o||null==a||null==c)throw Error();i.push(s<<2|o>>4),64!==a&&(i.push(o<<4&240|a>>2),64!==c&&i.push(a<<6&192|c))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return c.encodeByteArray(e,!0)},l=function(t){return u(t).replace(/\./g,"")},h=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=p(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function _(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object(i.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(o)),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function b(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function E(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function O(){return g().indexOf("Electron/")>=0}function S(){var t=g();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C(){return g().indexOf("MSAppHost/")>=0}function T(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function w(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){return"indexedDB"in self&&null!=indexedDB}function P(){return new Promise(function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}})}function A(){return!(!navigator||!navigator.cookieEnabled)}function I(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var M=function(t){function e(n,i,r){var s=t.call(this,i)||this;return s.code=n,s.customData=r,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,x.prototype.create),s}return Object(i.__extends)(e,t),e}(Error),x=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?R(s,i):"Error",a=this.serviceName+": "+o+" ("+r+").",c=new M(r,a,i);return c},t}();function R(t,e){return t.replace(k,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var k=/\{\$([^}]+)}/g;function L(t){return JSON.parse(t)}function j(t){return JSON.stringify(t)}var N=function(t){var e={},n={},i={},r="";try{var s=t.split(".");e=L(h(s[0])||""),n=L(h(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},U=function(t){var e=N(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},B=function(t){var e=N(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},F=function(t){var e=N(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},q=function(t){var e=N(t).claims;return"object"==typeof e&&!0===e.admin};function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function W(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function G(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function K(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function z(t,e){if(t===e)return!0;for(var n=Object.keys(t),i=Object.keys(e),r=0,s=n;r<s.length;r++){if(!i.includes(l=s[r]))return!1;var o=t[l],a=e[l];if($(o)&&$(a)){if(!z(o,a))return!1}else if(o!==a)return!1}for(var c=0,u=i;c<u.length;c++){var l;if(!n.includes(l=u[c]))return!1}return!0}function $(t){return null!==t&&"object"==typeof t}function H(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var s=r[i];n(s[0],s[1])}return e.length?"&"+e.join("&"):""}function Q(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),i=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(i)}}),e}function Y(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var X=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,s,o=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^a&(c^u),s=1518500249):(r=a^c^u,s=1859775393):i<60?(r=a&c|u&(a|c),s=2400959708):(r=a^c^u,s=3395469782);var h=(o<<5|o>>>27)+r+l+s+n[i]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;i<e;){if(0===s)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[s]=t.charCodeAt(i),++i,++s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<e;)if(r[s]=t[i],++i,++s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}();function Z(t,e){var n=new J(t,e);return n.subscribe.bind(n)}var J=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=et),void 0===i.error&&(i.error=et),void 0===i.complete&&(i.complete=et);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function tt(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function et(){}var nt=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function it(t,e){return t+" failed: "+e+" argument "}function rt(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(it(t,"namespace")+"must be a valid firebase namespace.")}function st(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(it(t,e)+"must be a valid function.")}function ot(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(it(t,e)+"must be a valid context object.")}var at=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=r-55296;i++,s(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},ct=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},ut=144e5,lt=.5;function ht(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var i=e*Math.pow(n,t),r=Math.round(lt*i*(Math.random()-.5)*2);return Math.min(ut,i+r)}function dt(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function pt(t){return t&&t._delegate?t._delegate:t}},qUr0:function(t,e,n){"use strict";n.r(e);var i=n("jhN1"),r=n("fXoL"),s=n("ofXK"),o=n("mrSG"),a=n("3Pt+");const c={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},u=new r.r("config");let l=(()=>{class t{constructor(t){this.config=t,this.count=0,this.config||(this.config={modules:c})}getQuill(){return this.count++,this.Quill||1!==this.count||(this.$importPromise=new Promise(t=>Object(o.__awaiter)(this,void 0,void 0,function*(){var e,i;const r=yield n.e(8).then(n.t.bind(null,"kzlf",7));this.Quill=r.default?r.default:r,null===(e=this.config.customOptions)||void 0===e||e.forEach(t=>{const e=this.Quill.import(t.import);e.whitelist=t.whitelist,this.Quill.register(e,!0,this.config.suppressGlobalRegisterWarning)}),null===(i=this.config.customModules)||void 0===i||i.forEach(({implementation:t,path:e})=>{this.Quill.register(e,t,this.config.suppressGlobalRegisterWarning)}),t(this.Quill)}))),this.$importPromise}}return t.\u0275fac=function(e){return new(e||t)(r.cc(u))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(u))},token:t,providedIn:"root"}),t})(),h=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:u,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[l],imports:[[s.b]]}),t})();var d=n("HDdC"),p=n("z6cu"),f=n("2Vo4"),_=n("XNiG"),g=n("tk/3"),m=n("lJxs"),v=n("eIep"),y=n("vkgz"),b=n("JIr8"),E=n("1G5W"),O=n("Kj3r"),S=n("1kSV"),C=n("LvDl"),T=n("Amjd"),w=n("lk/c");function D(t){return null!=t&&"false"!=`${t}`}function P(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function A(t){return t instanceof r.l?t.nativeElement:t}var I=n("LRne"),M=n("xgIS"),x=n("3N8a");class R extends x.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var k=n("IjjT");class L extends k.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const j=new L(R);n("7Hc7");var N=n("quSY"),U=(n("7+OI"),n("/uUt"),n("D0XW")),B=n("l7GE"),F=n("ZUHj");class q{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new V(t,this.durationSelector))}}class V extends B.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(F.a)(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var W=n("PqYM");function G(t,e=U.a){return n=()=>Object(W.a)(t,e),function(t){return t.lift(new q(n))};var n}var K=n("pLZG"),z=n("JX91");let $;n("Zy1z"),n("UXun");try{$="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Ba){$=!1}let H,Q,Y=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(s.A)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.C))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(r.C))},token:t,providedIn:"root"}),t})();function X(t){return function(){if(null==H&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>H=!0}))}finally{H=H||!1}return H}()?t:!!t.capture}function Z(t){if(function(){if(null==Q){const t="undefined"!=typeof document?document.head:null;Q=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Q}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const J=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(s.c)}});let tt=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(J,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(J,8))},token:t,providedIn:"root"}),t})(),et=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new _.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new d.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(G(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(I.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(K.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=A(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return Object(M.a)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A),r.cc(Y),r.cc(s.c,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(r.A),Object(r.cc)(Y),Object(r.cc)(s.c,8))},token:t,providedIn:"root"}),t})(),nt=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new _.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(G(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Y),r.cc(r.A),r.cc(s.c,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(Y),Object(r.cc)(r.A),Object(r.cc)(s.c,8))},token:t,providedIn:"root"}),t})(),it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})();var rt=n("l5mm"),st=n("VRyK"),ot=n("IzEk");function at(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ct(t,e){const n=e?"":"none";at(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function ut(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function lt(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function ht(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function dt(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function pt(t,e,n){const{top:i,bottom:r,left:s,right:o}=t;return n>=i&&n<=r&&e>=s&&e<=o}function ft(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function _t(t,e,n,i){const{top:r,right:s,bottom:o,left:a,width:c,height:u}=t,l=c*e,h=u*e;return i>r-h&&i<o+h&&n>a-l&&n<s+l}class gt{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:dt(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,r=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,c=r.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&ft(t.clientRect,a,c)}),r.top=s,r.left=o,{top:a,left:c}}}function mt(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?Et(t,e):"input"!==i&&"select"!==i&&"textarea"!==i||bt(t,e),vt("canvas",t,e,Et),vt("input, textarea, select",t,e,bt),e}function vt(t,e,n,i){const r=e.querySelectorAll(t);if(r.length){const e=n.querySelectorAll(t);for(let t=0;t<r.length;t++)i(r[t],e[t])}}let yt=0;function bt(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${yt++}`)}function Et(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(Ba){}}const Ot=X({passive:!0}),St=X({passive:!1});class Ct{constructor(t,e,n,i,r,s){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new _.a,this._pointerMoveSubscription=N.a.EMPTY,this._pointerUpSubscription=N.a.EMPTY,this._scrollSubscription=N.a.EMPTY,this._resizeSubscription=N.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _.a,this.started=new _.a,this.released=new _.a,this.ended=new _.a,this.entered=new _.a,this.exited=new _.a,this.dropped=new _.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new gt(n,r),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=D(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ct(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>A(t)),this._handles.forEach(t=>ct(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=A(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,St),e.addEventListener("touchstart",this._pointerDown,Ot)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?A(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Dt(this._rootElement),Dt(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ct(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ct(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Dt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Dt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){Pt(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,i=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();n.insertBefore(s,t),ut(t,!1),this._document.body.appendChild(n.replaceChild(r,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,o).appendChild(i),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),i=Pt(e),r=!i&&0!==e.button,s=this._rootElement,o=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=dt(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){ut(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r}),e.drop(this,n,this._initialIndex,this._initialContainer,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=Tt(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,r=t.viewContainer.createEmbeddedView(n,t.context);r.detectChanges(),i=At(r,this._document),this._previewRef=r,t.matchSize?It(i,e):i.style.transform=Tt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=mt(t),It(i,t.getBoundingClientRect())}return at(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),ct(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Tt(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=ht(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),s=ht(e,"transition-duration"),o=ht(e,"transition-delay");return lt(s[r])+lt(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=At(this._placeholderRef,this._document)):n=mt(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,s=Pt(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-n.left+(s.pageX-r.left-o.left),y:r.top-n.top+(s.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Pt(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=i,e.y=r,e.matrixTransform(t.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,r=this._boundaryRect,s=this._previewRect,o=r.top+e,a=r.bottom-(s.height-e);n=wt(n,r.left+t,r.right-(s.width-t)),i=wt(i,o,a)}return{x:n,y:i}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),o=Math.abs(n-r.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ct(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,St),t.removeEventListener("touchstart",this._pointerDown,Ot)}_applyRootElementTransform(t,e){const n=Tt(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const r=n.left-i.left,s=i.right-n.right,o=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,n.height>i.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Pt(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&ft(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Z(this._rootElement)),this._cachedShadowRoot}}function Tt(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function wt(t,e,n){return Math.max(e,Math.min(n,t))}function Dt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Pt(t){return"t"===t.type[0]}function At(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function It(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=Tt(e.left,e.top)}function Mt(t,e,n){const i=xt(e,t.length-1),r=xt(n,t.length-1);if(i===r)return;const s=t[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)t[a]=t[a+o];t[r]=s}function xt(t,e){return Math.max(0,Math.min(e,t))}class Rt{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _.a,this.entered=new _.a,this.exited=new _.a,this.dropped=new _.a,this.sorted=new _.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=N.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Object(rt.a)(0,j).pipe(Object(E.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?Lt(t,-e):2===this._verticalScrollDirection&&Lt(t,e),1===this._horizontalScrollDirection?jt(t,-e):2===this._horizontalScrollDirection&&jt(t,e)})},this.element=A(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new gt(n,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,i){let r;this._draggingStarted(),null==i?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n))):r=i;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let c=s[r];if(c===t&&(c=s[r+1]),o>-1&&s.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),s.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(a,e),s.unshift(t)}else A(this.element).appendChild(a),s.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r,s){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:r,distance:s})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=A(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?kt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!this._clientRect||!_t(this._clientRect,.05,e,n))return;const r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===s&&r.length>0)return;const o="horizontal"===this._orientation,a=kt(r,e=>e.drag===t),c=r[s],u=c.clientRect,l=a>s?1:-1,h=this._getItemOffsetPx(r[a].clientRect,u,l),d=this._getSiblingOffsetPx(a,r,l),p=r.slice();Mt(r,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),r.forEach((e,n)=>{if(p[n]===e)return;const i=e.drag===t,r=i?h:d,s=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,ft(e.clientRect,0,r)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,ft(e.clientRect,r,0))}),this._previousSwap.overlaps=pt(u,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?i.x:i.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&_t(s.clientRect,.05,t,e)&&([i,r]=function(t,e,n,i){const r=Nt(e,i),s=Ut(e,n);let o=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(i||r)&&(n=o))}),!i&&!r){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};i=Nt(a,e),r=Ut(a,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=A(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=A(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:dt(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=A(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,s=e[t+-1*n];let o=r[i?"width":"height"]*n;if(s){const t=i?"left":"top",e=i?"right":"bottom";-1===n?o-=s.clientRect[t]-r[e]:o+=r[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return i?t>=r.right:e>=r.bottom}{const r=n[0].clientRect;return i?t<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation,s=kt(this._itemPositions,({drag:s,clientRect:o},a,c)=>{if(s===t)return c.length<2;if(i){const t=r?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)});return-1!==s&&this.sortPredicate(s,t,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&pt(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!pt(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const r=A(this.element);return i===r||r.contains(i)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{ft(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Z(A(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function kt(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Lt(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function jt(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Nt(t,e){const{top:n,bottom:i,height:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function Ut(t,e){const{left:n,right:i,width:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}const Bt=X({passive:!1,capture:!0});let Ft=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new _.a,this.pointerUp=new _.a,this.scroll=new _.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Bt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Bt)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Bt}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:Bt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A),r.cc(s.c))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(r.A),Object(r.cc)(s.c))},token:t,providedIn:"root"}),t})();const qt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Vt=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=qt){return new Ct(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Rt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(s.c),r.cc(r.A),r.cc(nt),r.cc(Ft))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(s.c),Object(r.cc)(r.A),Object(r.cc)(nt),Object(r.cc)(Ft))},token:t,providedIn:"root"}),t})();const Wt=new r.r("CDK_DRAG_PARENT"),Gt=new r.r("CdkDropListGroup");let Kt=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=D(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Lb({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[r.Cb([{provide:Gt,useExisting:t}])]}),t})();const zt=new r.r("CDK_DRAG_CONFIG");let $t=0;const Ht=new r.r("CdkDropList");let Qt=(()=>{class t{constructor(e,n,i,s,o,a,c){this.element=e,this._changeDetectorRef=i,this._scrollDispatcher=s,this._dir=o,this._group=a,this._destroyed=new _.a,this.connectedTo=[],this.id="cdk-drop-list-"+$t++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.n,this.entered=new r.n,this.exited=new r.n,this.sorted=new r.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._dropListRef.sortPredicate=(t,e,n)=>this.sortPredicate(t,e.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=D(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(z.a)(this._dir.value),Object(E.a)(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=(i=this.connectedTo,Array.isArray(i)?i:[i]).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);var i;if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=D(this.sortingDisabled),e.autoScrollDisabled=D(this.autoScrollDisabled),e.autoScrollStep=P(this.autoScrollStep,2),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:r,listOrientation:s}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=r&&r,this.orientation=s||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(Vt),r.Qb(r.h),r.Qb(et),r.Qb(tt,8),r.Qb(Gt,12),r.Qb(zt,8))},t.\u0275dir=r.Lb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("id",e.id),r.Ib("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r.Cb([{provide:Gt,useValue:void 0},{provide:Ht,useExisting:t}])]}),t._dropLists=[],t})();const Yt=new r.r("CdkDragHandle"),Xt=new r.r("CdkDragPlaceholder"),Zt=new r.r("CdkDragPreview");let Jt=(()=>{class t{constructor(e,n,i,s,o,a,c,u,l,h,p){this.element=e,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=o,this._dir=c,this._changeDetectorRef=l,this._selfHandle=h,this._parentDrag=p,this._destroyed=new _.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new d.a(t=>{const e=this._dragRef.moved.pipe(Object(m.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=u.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=D(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Object(ot.a)(1),Object(E.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(z.a)(this._handles),Object(y.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Object(v.a)(t=>Object(st.a)(...t.map(t=>t._stateChanges.pipe(Object(z.a)(t))))),Object(E.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?te(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?te(this.element.nativeElement,t):A(t):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:P(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(r),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(Object(ot.a)(1)).subscribe(()=>{var n,i;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(n=r.classList)||void 0===n?void 0:n.contains("cdk-drag")){e.withParent((null===(i=t._dragInstances.find(t=>t.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:i,previewClass:r,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),r&&(this.previewClass=r),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(Ht,12),r.Qb(s.c),r.Qb(r.A),r.Qb(r.R),r.Qb(zt,8),r.Qb(tt,8),r.Qb(Vt),r.Qb(r.h),r.Qb(Yt,10),r.Qb(Wt,12))},t.\u0275dir=r.Lb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(r.Jb(n,Zt,1),r.Jb(n,Xt,1),r.Jb(n,Yt,1)),2&t){let t;r.zc(t=r.gc())&&(e._previewTemplate=t.first),r.zc(t=r.gc())&&(e._placeholderTemplate=t.first),r.zc(t=r.gc())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Ib("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Cb([{provide:Wt,useExisting:t}]),r.Bb]}),t._dragInstances=[],t})();function te(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[Vt],imports:[it]}),t})();class ne extends _.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),N.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),N.a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}let ie=(()=>{class t{constructor(){this.audio=new Map}loadScript(t){this.loaded=new ne;const e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",t),document.body.appendChild(e),Object(M.a)(e,"load").subscribe(()=>{this.loaded.next(Howl),this.loaded.complete()}),Object(M.a)(e,"error").subscribe(()=>{console.warn("howler load failed")})}register(t,e){return this.loaded.pipe(Object(m.a)(n=>(this.audio.set(t,new n(e)),this.audio.has(t))))}get(t){return this.audio.get(t)}unregister(t){return!this.audio.has(t)||(this.audio.get(t).off(),this.audio.delete(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();var re=n("HlzF");function se(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function oe(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach(function(n){void 0===t[n]?t[n]=e[n]:se(e[n])&&se(t[n])&&Object.keys(e[n]).length>0&&oe(t[n],e[n])})}var ae="undefined"!=typeof document?document:{},ce={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};oe(ae,ce);var ue="undefined"!=typeof window?window:{};oe(ue,{document:ce,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}}});class le{constructor(t){const e=this;for(let n=0;n<t.length;n+=1)e[n]=t[n];return e.length=t.length,this}}function he(t,e){const n=[];let i=0;if(t&&!e&&t instanceof le)return t;if(t)if("string"==typeof t){let r,s;const o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){let t="div";for(0===o.indexOf("<li")&&(t="ul"),0===o.indexOf("<tr")&&(t="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(t="tr"),0===o.indexOf("<tbody")&&(t="table"),0===o.indexOf("<option")&&(t="select"),s=ae.createElement(t),s.innerHTML=o,i=0;i<s.childNodes.length;i+=1)n.push(s.childNodes[i])}else for(r=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||ae).querySelectorAll(t.trim()):[ae.getElementById(t.trim().split("#")[1])],i=0;i<r.length;i+=1)r[i]&&n.push(r[i])}else if(t.nodeType||t===ue||t===ae)n.push(t);else if(t.length>0&&t[0].nodeType)for(i=0;i<t.length;i+=1)n.push(t[i]);return new le(n)}function de(t){const e=[];for(let n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}he.fn=le.prototype,he.Class=le,he.Dom7=le,"resize scroll".split(" ");const pe={addClass:function(t){if(void 0===t)return this;const e=t.split(" ");for(let n=0;n<e.length;n+=1)for(let t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.add(e[n]);return this},removeClass:function(t){const e=t.split(" ");for(let n=0;n<e.length;n+=1)for(let t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.remove(e[n]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){const e=t.split(" ");for(let n=0;n<e.length;n+=1)for(let t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(const e in t)this[n][e]=t[e],this[n].setAttribute(e,t[e]);return this},removeAttr:function(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},data:function(t,e){let n;if(void 0!==e){for(let i=0;i<this.length;i+=1)n=this[i],n.dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[t]=e;return this}if(n=this[0],n)return n.dom7ElementDataStorage&&t in n.dom7ElementDataStorage?n.dom7ElementDataStorage[t]:n.getAttribute(`data-${t}`)||void 0},transform:function(t){for(let e=0;e<this.length;e+=1){const n=this[e].style;n.webkitTransform=t,n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t=`${t}ms`);for(let e=0;e<this.length;e+=1){const n=this[e].style;n.webkitTransitionDuration=t,n.transitionDuration=t}return this},on:function(...t){let[e,n,i,r]=t;function s(t){const e=t.target;if(!e)return;const r=t.target.dom7EventData||[];if(r.indexOf(t)<0&&r.unshift(t),he(e).is(n))i.apply(e,r);else{const t=he(e).parents();for(let e=0;e<t.length;e+=1)he(t[e]).is(n)&&i.apply(t[e],r)}}function o(t){const e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),i.apply(this,e)}"function"==typeof t[1]&&([e,i,r]=t,n=void 0),r||(r=!1);const a=e.split(" ");let c;for(let u=0;u<this.length;u+=1){const t=this[u];if(n)for(c=0;c<a.length;c+=1){const e=a[c];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:i,proxyListener:s}),t.addEventListener(e,s,r)}else for(c=0;c<a.length;c+=1){const e=a[c];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:i,proxyListener:o}),t.addEventListener(e,o,r)}}return this},off:function(...t){let[e,n,i,r]=t;"function"==typeof t[1]&&([e,i,r]=t,n=void 0),r||(r=!1);const s=e.split(" ");for(let o=0;o<s.length;o+=1){const t=s[o];for(let e=0;e<this.length;e+=1){const s=this[e];let o;if(!n&&s.dom7Listeners?o=s.dom7Listeners[t]:n&&s.dom7LiveListeners&&(o=s.dom7LiveListeners[t]),o&&o.length)for(let e=o.length-1;e>=0;e-=1){const n=o[e];i&&n.listener===i||i&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===i?(s.removeEventListener(t,n.proxyListener,r),o.splice(e,1)):i||(s.removeEventListener(t,n.proxyListener,r),o.splice(e,1))}}}return this},trigger:function(...t){const e=t[0].split(" "),n=t[1];for(let r=0;r<e.length;r+=1){const s=e[r];for(let e=0;e<this.length;e+=1){const r=this[e];let o;try{o=new ue.CustomEvent(s,{detail:n,bubbles:!0,cancelable:!0})}catch(i){o=ae.createEvent("Event"),o.initEvent(s,!0,!0),o.detail=n}r.dom7EventData=t.filter((t,e)=>e>0),r.dispatchEvent(o),r.dom7EventData=[],delete r.dom7EventData}}return this},transitionEnd:function(t){const e=["webkitTransitionEnd","transitionend"],n=this;let i;function r(s){if(s.target===this)for(t.call(this,s),i=0;i<e.length;i+=1)n.off(e[i],r)}if(t)for(i=0;i<e.length;i+=1)n.on(e[i],r);return this},outerWidth:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){const t=this[0],e=t.getBoundingClientRect(),n=ae.body;return{top:e.top+(t===ue?ue.scrollY:t.scrollTop)-(t.clientTop||n.clientTop||0),left:e.left+(t===ue?ue.scrollX:t.scrollLeft)-(t.clientLeft||n.clientLeft||0)}}return null},css:function(t,e){let n;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(let e in t)this[n].style[e]=t[e];return this}if(this[0])return ue.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this},each:function(t){if(!t)return this;for(let e=0;e<this.length;e+=1)if(!1===t.call(this[e],e,this[e]))return this;return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){const e=this[0];let n,i;if(!e||void 0===t)return!1;if("string"==typeof t){if(e.matches)return e.matches(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);for(n=he(t),i=0;i<n.length;i+=1)if(n[i]===e)return!0;return!1}if(t===ae)return e===ae;if(t===ue)return e===ue;if(t.nodeType||t instanceof le){for(n=t.nodeType?[t]:t,i=0;i<n.length;i+=1)if(n[i]===e)return!0;return!1}return!1},index:function(){let t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;const e=this.length;let n;return t>e-1?new le([]):t<0?(n=e+t,new le(n<0?[]:[this[n]])):new le([this[t]])},append:function(...t){let e;for(let n=0;n<t.length;n+=1){e=t[n];for(let t=0;t<this.length;t+=1)if("string"==typeof e){const n=ae.createElement("div");for(n.innerHTML=e;n.firstChild;)this[t].appendChild(n.firstChild)}else if(e instanceof le)for(let n=0;n<e.length;n+=1)this[t].appendChild(e[n]);else this[t].appendChild(e)}return this},prepend:function(t){let e,n;for(e=0;e<this.length;e+=1)if("string"==typeof t){const i=ae.createElement("div");for(i.innerHTML=t,n=i.childNodes.length-1;n>=0;n-=1)this[e].insertBefore(i.childNodes[n],this[e].childNodes[0])}else if(t instanceof le)for(n=0;n<t.length;n+=1)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&he(this[0].nextElementSibling).is(t)?new le([this[0].nextElementSibling]):new le([]):new le(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):new le([])},nextAll:function(t){const e=[];let n=this[0];if(!n)return new le([]);for(;n.nextElementSibling;){const i=n.nextElementSibling;t?he(i).is(t)&&e.push(i):e.push(i),n=i}return new le(e)},prev:function(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&he(e.previousElementSibling).is(t)?new le([e.previousElementSibling]):new le([]):new le(e.previousElementSibling?[e.previousElementSibling]:[])}return new le([])},prevAll:function(t){const e=[];let n=this[0];if(!n)return new le([]);for(;n.previousElementSibling;){const i=n.previousElementSibling;t?he(i).is(t)&&e.push(i):e.push(i),n=i}return new le(e)},parent:function(t){const e=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?he(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return he(de(e))},parents:function(t){const e=[];for(let n=0;n<this.length;n+=1){let i=this[n].parentNode;for(;i;)t?he(i).is(t)&&e.push(i):e.push(i),i=i.parentNode}return he(de(e))},closest:function(t){let e=this;return void 0===t?new le([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){const e=[];for(let n=0;n<this.length;n+=1){const i=this[n].querySelectorAll(t);for(let t=0;t<i.length;t+=1)e.push(i[t])}return new le(e)},children:function(t){const e=[];for(let n=0;n<this.length;n+=1){const i=this[n].childNodes;for(let n=0;n<i.length;n+=1)t?1===i[n].nodeType&&he(i[n]).is(t)&&e.push(i[n]):1===i[n].nodeType&&e.push(i[n])}return new le(de(e))},filter:function(t){const e=[],n=this;for(let i=0;i<n.length;i+=1)t.call(n[i],i,n[i])&&e.push(n[i]);return new le(e)},remove:function(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(...t){const e=this;let n,i;for(n=0;n<t.length;n+=1){const r=he(t[n]);for(i=0;i<r.length;i+=1)e[e.length]=r[i],e.length+=1}return e},styles:function(){return this[0]?ue.getComputedStyle(this[0],null):{}}};Object.keys(pe).forEach(t=>{he.fn[t]=he.fn[t]||pe[t]});const fe={deleteProps(t){const e=t;Object.keys(e).forEach(t=>{try{e[t]=null}catch(n){}try{delete e[t]}catch(n){}})},nextTick:(t,e=0)=>setTimeout(t,e),now:()=>Date.now(),getTranslate(t,e="x"){let n,i,r;const s=ue.getComputedStyle(t,null);return ue.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(t=>t.replace(",",".")).join(", ")),r=new ue.WebKitCSSMatrix("none"===i?"":i)):(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=r.toString().split(",")),"x"===e&&(i=ue.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(i=ue.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0},parseUrlQuery(t){const e={};let n,i,r,s,o=t||ue.location.href;if("string"==typeof o&&o.length)for(o=o.indexOf("?")>-1?o.replace(/\S*\?/,""):"",i=o.split("&").filter(t=>""!==t),s=i.length,n=0;n<s;n+=1)r=i[n].replace(/#\S+/g,"").split("="),e[decodeURIComponent(r[0])]=void 0===r[1]?void 0:decodeURIComponent(r[1])||"";return e},isObject:t=>"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object,extend(...t){const e=Object(t[0]);for(let n=1;n<t.length;n+=1){const i=t[n];if(null!=i){const t=Object.keys(Object(i));for(let n=0,r=t.length;n<r;n+=1){const r=t[n],s=Object.getOwnPropertyDescriptor(i,r);void 0!==s&&s.enumerable&&(fe.isObject(e[r])&&fe.isObject(i[r])?fe.extend(e[r],i[r]):!fe.isObject(e[r])&&fe.isObject(i[r])?(e[r]={},fe.extend(e[r],i[r])):e[r]=i[r])}}}return e}},_e={touch:!!("ontouchstart"in ue||ue.DocumentTouch&&ae instanceof ue.DocumentTouch),pointerEvents:!!ue.PointerEvent&&"maxTouchPoints"in ue.navigator&&ue.navigator.maxTouchPoints>=0,observer:"MutationObserver"in ue||"WebkitMutationObserver"in ue,passiveListener:function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get(){t=!0}});ue.addEventListener("testPassiveListener",null,e)}catch(e){}return t}(),gestures:"ongesturestart"in ue};class ge{constructor(t={}){const e=this;e.params=t,e.eventsListeners={},e.params&&e.params.on&&Object.keys(e.params.on).forEach(t=>{e.on(t,e.params.on[t])})}on(t,e,n){const i=this;if("function"!=typeof e)return i;const r=n?"unshift":"push";return t.split(" ").forEach(t=>{i.eventsListeners[t]||(i.eventsListeners[t]=[]),i.eventsListeners[t][r](e)}),i}once(t,e,n){const i=this;if("function"!=typeof e)return i;function r(...n){i.off(t,r),r.f7proxy&&delete r.f7proxy,e.apply(i,n)}return r.f7proxy=e,i.on(t,r,n)}off(t,e){const n=this;return n.eventsListeners?(t.split(" ").forEach(t=>{void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].length&&n.eventsListeners[t].forEach((i,r)=>{(i===e||i.f7proxy&&i.f7proxy===e)&&n.eventsListeners[t].splice(r,1)})}),n):n}emit(...t){const e=this;if(!e.eventsListeners)return e;let n,i,r;return"string"==typeof t[0]||Array.isArray(t[0])?(n=t[0],i=t.slice(1,t.length),r=e):(n=t[0].events,i=t[0].data,r=t[0].context||e),(Array.isArray(n)?n:n.split(" ")).forEach(t=>{if(e.eventsListeners&&e.eventsListeners[t]){const n=[];e.eventsListeners[t].forEach(t=>{n.push(t)}),n.forEach(t=>{t.apply(r,i)})}}),e}useModulesParams(t){const e=this;e.modules&&Object.keys(e.modules).forEach(n=>{const i=e.modules[n];i.params&&fe.extend(t,i.params)})}useModules(t={}){const e=this;e.modules&&Object.keys(e.modules).forEach(n=>{const i=e.modules[n],r=t[n]||{};i.instance&&Object.keys(i.instance).forEach(t=>{const n=i.instance[t];e[t]="function"==typeof n?n.bind(e):n}),i.on&&e.on&&Object.keys(i.on).forEach(t=>{e.on(t,i.on[t])}),i.create&&i.create.bind(e)(r)})}static set components(t){this.use&&this.use(t)}static installModule(t,...e){const n=this;n.prototype.modules||(n.prototype.modules={});const i=t.name||`${Object.keys(n.prototype.modules).length}_${fe.now()}`;return n.prototype.modules[i]=t,t.proto&&Object.keys(t.proto).forEach(e=>{n.prototype[e]=t.proto[e]}),t.static&&Object.keys(t.static).forEach(e=>{n[e]=t.static[e]}),t.install&&t.install.apply(n,e),n}static use(t,...e){const n=this;return Array.isArray(t)?(t.forEach(t=>n.installModule(t)),n):n.installModule(t,...e)}}var me={updateSize:function(){let t,e;const n=this.$el;t=void 0!==this.params.width?this.params.width:n[0].clientWidth,e=void 0!==this.params.height?this.params.height:n[0].clientHeight,0===t&&this.isHorizontal()||0===e&&this.isVertical()||(t=t-parseInt(n.css("padding-left"),10)-parseInt(n.css("padding-right"),10),e=e-parseInt(n.css("padding-top"),10)-parseInt(n.css("padding-bottom"),10),fe.extend(this,{width:t,height:e,size:this.isHorizontal()?t:e}))},updateSlides:function(){const t=this,e=t.params,{$wrapperEl:n,size:i,rtlTranslate:r,wrongRTL:s}=t,o=t.virtual&&e.virtual.enabled,a=o?t.virtual.slides.length:t.slides.length,c=n.children(`.${t.params.slideClass}`),u=o?t.virtual.slides.length:c.length;let l=[];const h=[],d=[];function p(t){return!e.cssMode||t!==c.length-1}let f=e.slidesOffsetBefore;"function"==typeof f&&(f=e.slidesOffsetBefore.call(t));let _=e.slidesOffsetAfter;"function"==typeof _&&(_=e.slidesOffsetAfter.call(t));const g=t.snapGrid.length,m=t.snapGrid.length;let v,y,b=e.spaceBetween,E=-f,O=0,S=0;if(void 0===i)return;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*i),t.virtualSize=-b,c.css(r?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),e.slidesPerColumn>1&&(v=Math.floor(u/e.slidesPerColumn)===u/t.params.slidesPerColumn?u:Math.ceil(u/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(v=Math.max(v,e.slidesPerView*e.slidesPerColumn)));const C=e.slidesPerColumn,T=v/C,w=Math.floor(u/e.slidesPerColumn);for(let P=0;P<u;P+=1){y=0;const n=c.eq(P);if(e.slidesPerColumn>1){let i,r,s;if("row"===e.slidesPerColumnFill&&e.slidesPerGroup>1){const t=Math.floor(P/(e.slidesPerGroup*e.slidesPerColumn)),o=P-e.slidesPerColumn*e.slidesPerGroup*t,a=0===t?e.slidesPerGroup:Math.min(Math.ceil((u-t*C*e.slidesPerGroup)/C),e.slidesPerGroup);s=Math.floor(o/a),r=o-s*a+t*e.slidesPerGroup,i=r+s*v/C,n.css({"-webkit-box-ordinal-group":i,"-moz-box-ordinal-group":i,"-ms-flex-order":i,"-webkit-order":i,order:i})}else"column"===e.slidesPerColumnFill?(r=Math.floor(P/C),s=P-r*C,(r>w||r===w&&s===C-1)&&(s+=1,s>=C&&(s=0,r+=1))):(s=Math.floor(P/T),r=P-s*T);n.css("margin-"+(t.isHorizontal()?"top":"left"),0!==s&&e.spaceBetween&&`${e.spaceBetween}px`)}if("none"!==n.css("display")){if("auto"===e.slidesPerView){const i=ue.getComputedStyle(n[0],null),r=n[0].style.transform,s=n[0].style.webkitTransform;if(r&&(n[0].style.transform="none"),s&&(n[0].style.webkitTransform="none"),e.roundLengths)y=t.isHorizontal()?n.outerWidth(!0):n.outerHeight(!0);else if(t.isHorizontal()){const t=parseFloat(i.getPropertyValue("width")),e=parseFloat(i.getPropertyValue("padding-left")),n=parseFloat(i.getPropertyValue("padding-right")),r=parseFloat(i.getPropertyValue("margin-left")),s=parseFloat(i.getPropertyValue("margin-right")),o=i.getPropertyValue("box-sizing");y=o&&"border-box"===o?t+r+s:t+e+n+r+s}else{const t=parseFloat(i.getPropertyValue("height")),e=parseFloat(i.getPropertyValue("padding-top")),n=parseFloat(i.getPropertyValue("padding-bottom")),r=parseFloat(i.getPropertyValue("margin-top")),s=parseFloat(i.getPropertyValue("margin-bottom")),o=i.getPropertyValue("box-sizing");y=o&&"border-box"===o?t+r+s:t+e+n+r+s}r&&(n[0].style.transform=r),s&&(n[0].style.webkitTransform=s),e.roundLengths&&(y=Math.floor(y))}else y=(i-(e.slidesPerView-1)*b)/e.slidesPerView,e.roundLengths&&(y=Math.floor(y)),c[P]&&(t.isHorizontal()?c[P].style.width=`${y}px`:c[P].style.height=`${y}px`);c[P]&&(c[P].swiperSlideSize=y),d.push(y),e.centeredSlides?(E=E+y/2+O/2+b,0===O&&0!==P&&(E=E-i/2-b),0===P&&(E=E-i/2-b),Math.abs(E)<.001&&(E=0),e.roundLengths&&(E=Math.floor(E)),S%e.slidesPerGroup==0&&l.push(E),h.push(E)):(e.roundLengths&&(E=Math.floor(E)),(S-Math.min(t.params.slidesPerGroupSkip,S))%t.params.slidesPerGroup==0&&l.push(E),h.push(E),E=E+y+b),t.virtualSize+=y+b,O=y,S+=1}}let D;if(t.virtualSize=Math.max(t.virtualSize,i)+_,r&&s&&("slide"===e.effect||"coverflow"===e.effect)&&n.css({width:`${t.virtualSize+e.spaceBetween}px`}),e.setWrapperSize&&(t.isHorizontal()?n.css({width:`${t.virtualSize+e.spaceBetween}px`}):n.css({height:`${t.virtualSize+e.spaceBetween}px`})),e.slidesPerColumn>1&&(t.virtualSize=(y+e.spaceBetween)*v,t.virtualSize=Math.ceil(t.virtualSize/e.slidesPerColumn)-e.spaceBetween,t.isHorizontal()?n.css({width:`${t.virtualSize+e.spaceBetween}px`}):n.css({height:`${t.virtualSize+e.spaceBetween}px`}),e.centeredSlides)){D=[];for(let n=0;n<l.length;n+=1){let i=l[n];e.roundLengths&&(i=Math.floor(i)),l[n]<t.virtualSize+l[0]&&D.push(i)}l=D}if(!e.centeredSlides){D=[];for(let n=0;n<l.length;n+=1){let r=l[n];e.roundLengths&&(r=Math.floor(r)),l[n]<=t.virtualSize-i&&D.push(r)}l=D,Math.floor(t.virtualSize-i)-Math.floor(l[l.length-1])>1&&l.push(t.virtualSize-i)}if(0===l.length&&(l=[0]),0!==e.spaceBetween&&(t.isHorizontal()?r?c.filter(p).css({marginLeft:`${b}px`}):c.filter(p).css({marginRight:`${b}px`}):c.filter(p).css({marginBottom:`${b}px`})),e.centeredSlides&&e.centeredSlidesBounds){let t=0;d.forEach(n=>{t+=n+(e.spaceBetween?e.spaceBetween:0)}),t-=e.spaceBetween;const n=t-i;l=l.map(t=>t<0?-f:t>n?n+_:t)}if(e.centerInsufficientSlides){let t=0;if(d.forEach(n=>{t+=n+(e.spaceBetween?e.spaceBetween:0)}),t-=e.spaceBetween,t<i){const e=(i-t)/2;l.forEach((t,n)=>{l[n]=t-e}),h.forEach((t,n)=>{h[n]=t+e})}}fe.extend(t,{slides:c,snapGrid:l,slidesGrid:h,slidesSizesGrid:d}),u!==a&&t.emit("slidesLengthChange"),l.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==m&&t.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&t.updateSlidesOffset()},updateAutoHeight:function(t){const e=this,n=[];let i,r=0;if("number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed),"auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)e.visibleSlides.each((t,e)=>{n.push(e)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const t=e.activeIndex+i;if(t>e.slides.length)break;n.push(e.slides.eq(t)[0])}else n.push(e.slides.eq(e.activeIndex)[0]);for(i=0;i<n.length;i+=1)if(void 0!==n[i]){const t=n[i].offsetHeight;r=t>r?t:r}r&&e.$wrapperEl.css("height",`${r}px`)},updateSlidesOffset:function(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop},updateSlidesProgress:function(t=this&&this.translate||0){const e=this,n=e.params,{slides:i,rtlTranslate:r}=e;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&e.updateSlidesOffset();let s=-t;r&&(s=t),i.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let o=0;o<i.length;o+=1){const t=i[o],a=(s+(n.centeredSlides?e.minTranslate():0)-t.swiperSlideOffset)/(t.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){const r=-(s-t.swiperSlideOffset),a=r+e.slidesSizesGrid[o];(r>=0&&r<e.size-1||a>1&&a<=e.size||r<=0&&a>=e.size)&&(e.visibleSlides.push(t),e.visibleSlidesIndexes.push(o),i.eq(o).addClass(n.slideVisibleClass))}t.progress=r?-a:a}e.visibleSlides=he(e.visibleSlides)},updateProgress:function(t){const e=this;if(void 0===t){const n=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*n||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o}=e;const a=s,c=o;0===i?(r=0,s=!0,o=!0):(r=(t-e.minTranslate())/i,s=r<=0,o=r>=1),fe.extend(e,{progress:r,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!a&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(a&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function(){const{slides:t,params:e,$wrapperEl:n,activeIndex:i,realIndex:r}=this,s=this.virtual&&e.virtual.enabled;let o;t.removeClass(`${e.slideActiveClass} ${e.slideNextClass} ${e.slidePrevClass} ${e.slideDuplicateActiveClass} ${e.slideDuplicateNextClass} ${e.slideDuplicatePrevClass}`),o=s?this.$wrapperEl.find(`.${e.slideClass}[data-swiper-slide-index="${i}"]`):t.eq(i),o.addClass(e.slideActiveClass),e.loop&&(o.hasClass(e.slideDuplicateClass)?n.children(`.${e.slideClass}:not(.${e.slideDuplicateClass})[data-swiper-slide-index="${r}"]`).addClass(e.slideDuplicateActiveClass):n.children(`.${e.slideClass}.${e.slideDuplicateClass}[data-swiper-slide-index="${r}"]`).addClass(e.slideDuplicateActiveClass));let a=o.nextAll(`.${e.slideClass}`).eq(0).addClass(e.slideNextClass);e.loop&&0===a.length&&(a=t.eq(0),a.addClass(e.slideNextClass));let c=o.prevAll(`.${e.slideClass}`).eq(0).addClass(e.slidePrevClass);e.loop&&0===c.length&&(c=t.eq(-1),c.addClass(e.slidePrevClass)),e.loop&&(a.hasClass(e.slideDuplicateClass)?n.children(`.${e.slideClass}:not(.${e.slideDuplicateClass})[data-swiper-slide-index="${a.attr("data-swiper-slide-index")}"]`).addClass(e.slideDuplicateNextClass):n.children(`.${e.slideClass}.${e.slideDuplicateClass}[data-swiper-slide-index="${a.attr("data-swiper-slide-index")}"]`).addClass(e.slideDuplicateNextClass),c.hasClass(e.slideDuplicateClass)?n.children(`.${e.slideClass}:not(.${e.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(e.slideDuplicatePrevClass):n.children(`.${e.slideClass}.${e.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(e.slideDuplicatePrevClass))},updateActiveIndex:function(t){const e=this.rtlTranslate?this.translate:-this.translate,{slidesGrid:n,snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=this;let c,u=t;if(void 0===u){for(let t=0;t<n.length;t+=1)void 0!==n[t+1]?e>=n[t]&&e<n[t+1]-(n[t+1]-n[t])/2?u=t:e>=n[t]&&e<n[t+1]&&(u=t+1):e>=n[t]&&(u=t);r.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(i.indexOf(e)>=0)c=i.indexOf(e);else{const t=Math.min(r.slidesPerGroupSkip,u);c=t+Math.floor((u-t)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),u===s)return void(c!==a&&(this.snapIndex=c,this.emit("snapIndexChange")));const l=parseInt(this.slides.eq(u).attr("data-swiper-slide-index")||u,10);fe.extend(this,{snapIndex:c,realIndex:l,previousIndex:s,activeIndex:u}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),o!==l&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")},updateClickedSlide:function(t){const e=this,n=e.params,i=he(t.target).closest(`.${n.slideClass}`)[0];let r=!1;if(i)for(let s=0;s<e.slides.length;s+=1)e.slides[s]===i&&(r=!0);if(!i||!r)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=i,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(he(i).attr("data-swiper-slide-index"),10):he(i).index(),n.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},ve={getTranslate:function(t=(this.isHorizontal()?"x":"y")){const{params:e,rtlTranslate:n,translate:i,$wrapperEl:r}=this;if(e.virtualTranslate)return n?-i:i;if(e.cssMode)return i;let s=fe.getTranslate(r[0],t);return n&&(s=-s),s||0},setTranslate:function(t,e){const{rtlTranslate:n,params:i,$wrapperEl:r,wrapperEl:s,progress:o}=this;let a,c=0,u=0;this.isHorizontal()?c=n?-t:t:u=t,i.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),i.cssMode?s[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-c:-u:i.virtualTranslate||r.transform(`translate3d(${c}px, ${u}px, 0px)`),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?c:u;const l=this.maxTranslate()-this.minTranslate();a=0===l?0:(t-this.minTranslate())/l,a!==o&&this.updateProgress(t),this.emit("setTranslate",this.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t=0,e=this.params.speed,n=!0,i=!0,r){const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const c=s.minTranslate(),u=s.maxTranslate();let l;if(l=i&&t>c?c:i&&t<u?u:t,s.updateProgress(l),o.cssMode){const t=s.isHorizontal();return 0===e?a[t?"scrollLeft":"scrollTop"]=-l:a.scrollTo?a.scrollTo({[t?"left":"top"]:-l,behavior:"smooth"}):a[t?"scrollLeft":"scrollTop"]=-l,!0}return 0===e?(s.setTransition(0),s.setTranslate(l),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(l),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(t){s&&!s.destroyed&&t.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}},ye={slideTo:function(t=0,e=this.params.speed,n=!0,i){const r=this;let s=t;s<0&&(s=0);const{params:o,snapGrid:a,slidesGrid:c,previousIndex:u,activeIndex:l,rtlTranslate:h,wrapperEl:d}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const p=Math.min(r.params.slidesPerGroupSkip,s);let f=p+Math.floor((s-p)/r.params.slidesPerGroup);f>=a.length&&(f=a.length-1),(l||o.initialSlide||0)===(u||0)&&n&&r.emit("beforeSlideChangeStart");const _=-a[f];if(r.updateProgress(_),o.normalizeSlideIndex)for(let m=0;m<c.length;m+=1)-Math.floor(100*_)>=Math.floor(100*c[m])&&(s=m);if(r.initialized&&s!==l){if(!r.allowSlideNext&&_<r.translate&&_<r.minTranslate())return!1;if(!r.allowSlidePrev&&_>r.translate&&_>r.maxTranslate()&&(l||0)!==s)return!1}let g;if(g=s>l?"next":s<l?"prev":"reset",h&&-_===r.translate||!h&&_===r.translate)return r.updateActiveIndex(s),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(_),"reset"!==g&&(r.transitionStart(n,g),r.transitionEnd(n,g)),!1;if(o.cssMode){const t=r.isHorizontal();let n=-_;return h&&(n=d.scrollWidth-d.offsetWidth-n),0===e?d[t?"scrollLeft":"scrollTop"]=n:d.scrollTo?d.scrollTo({[t?"left":"top"]:n,behavior:"smooth"}):d[t?"scrollLeft":"scrollTop"]=n,!0}return 0===e?(r.setTransition(0),r.setTranslate(_),r.updateActiveIndex(s),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,g),r.transitionEnd(n,g)):(r.setTransition(e),r.setTranslate(_),r.updateActiveIndex(s),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,g),r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(t){r&&!r.destroyed&&t.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,g))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(t=0,e=this.params.speed,n=!0,i){let r=t;return this.params.loop&&(r+=this.loopedSlides),this.slideTo(r,e,n,i)},slideNext:function(t=this.params.speed,e=!0,n){const i=this,{params:r,animating:s}=i,o=i.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(s)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(i.activeIndex+o,t,e,n)},slidePrev:function(t=this.params.speed,e=!0,n){const i=this,{params:r,animating:s,snapGrid:o,slidesGrid:a,rtlTranslate:c}=i;if(r.loop){if(s)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function u(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const l=u(c?i.translate:-i.translate),h=o.map(t=>u(t));a.map(t=>u(t)),h.indexOf(l);let d,p=o[h.indexOf(l)-1];return void 0===p&&r.cssMode&&o.forEach(t=>{!p&&l>=t&&(p=t)}),void 0!==p&&(d=a.indexOf(p),d<0&&(d=i.activeIndex-1)),i.slideTo(d,t,e,n)},slideReset:function(t=this.params.speed,e=!0,n){return this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(t=this.params.speed,e=!0,n,i=.5){const r=this;let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),c=r.rtlTranslate?r.translate:-r.translate;if(c>=r.snapGrid[a]){const t=r.snapGrid[a];c-t>(r.snapGrid[a+1]-t)*i&&(s+=r.params.slidesPerGroup)}else{const t=r.snapGrid[a-1];c-t<=(r.snapGrid[a]-t)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)},slideToClickedSlide:function(){const t=this,{params:e,$wrapperEl:n}=t,i="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let r,s=t.clickedIndex;if(e.loop){if(t.animating)return;r=parseInt(he(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-i/2||s>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${r}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),fe.nextTick(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-i?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${r}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),fe.nextTick(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}},be={loopCreate:function(){const t=this,{params:e,$wrapperEl:n}=t;n.children(`.${e.slideClass}.${e.slideDuplicateClass}`).remove();let i=n.children(`.${e.slideClass}`);if(e.loopFillGroupWithBlank){const t=e.slidesPerGroup-i.length%e.slidesPerGroup;if(t!==e.slidesPerGroup){for(let i=0;i<t;i+=1){const t=he(ae.createElement("div")).addClass(`${e.slideClass} ${e.slideBlankClass}`);n.append(t)}i=n.children(`.${e.slideClass}`)}}"auto"!==e.slidesPerView||e.loopedSlides||(e.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(e.loopedSlides||e.slidesPerView,10)),t.loopedSlides+=e.loopAdditionalSlides,t.loopedSlides>i.length&&(t.loopedSlides=i.length);const r=[],s=[];i.each((e,n)=>{const o=he(n);e<t.loopedSlides&&s.push(n),e<i.length&&e>=i.length-t.loopedSlides&&r.push(n),o.attr("data-swiper-slide-index",e)});for(let o=0;o<s.length;o+=1)n.append(he(s[o].cloneNode(!0)).addClass(e.slideDuplicateClass));for(let o=r.length-1;o>=0;o-=1)n.prepend(he(r[o].cloneNode(!0)).addClass(e.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");const{activeIndex:t,slides:e,loopedSlides:n,allowSlidePrev:i,allowSlideNext:r,snapGrid:s,rtlTranslate:o}=this;let a;this.allowSlidePrev=!0,this.allowSlideNext=!0;const c=-s[t]-this.getTranslate();t<n?(a=e.length-3*n+t,a+=n,this.slideTo(a,0,!1,!0)&&0!==c&&this.setTranslate((o?-this.translate:this.translate)-c)):t>=e.length-n&&(a=-e.length+t+n,a+=n,this.slideTo(a,0,!1,!0)&&0!==c&&this.setTranslate((o?-this.translate:this.translate)-c)),this.allowSlidePrev=i,this.allowSlideNext=r,this.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:t,params:e,slides:n}=this;t.children(`.${e.slideClass}.${e.slideDuplicateClass},.${e.slideClass}.${e.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}},Ee={setGrabCursor:function(t){if(_e.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)return;const e=this.el;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"},unsetGrabCursor:function(){_e.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},Oe={appendSlide:function(t){const{$wrapperEl:e,params:n}=this;if(n.loop&&this.loopDestroy(),"object"==typeof t&&"length"in t)for(let i=0;i<t.length;i+=1)t[i]&&e.append(t[i]);else e.append(t);n.loop&&this.loopCreate(),n.observer&&_e.observer||this.update()},prependSlide:function(t){const{params:e,$wrapperEl:n,activeIndex:i}=this;e.loop&&this.loopDestroy();let r=i+1;if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&n.prepend(t[e]);r=i+t.length}else n.prepend(t);e.loop&&this.loopCreate(),e.observer&&_e.observer||this.update(),this.slideTo(r,0,!1)},addSlide:function(t,e){const n=this,{$wrapperEl:i,params:r,activeIndex:s}=n;let o=s;r.loop&&(o-=n.loopedSlides,n.loopDestroy(),n.slides=i.children(`.${r.slideClass}`));const a=n.slides.length;if(t<=0)return void n.prependSlide(e);if(t>=a)return void n.appendSlide(e);let c=o>t?o+1:o;const u=[];for(let l=a-1;l>=t;l-=1){const t=n.slides.eq(l);t.remove(),u.unshift(t)}if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&i.append(e[t]);c=o>t?o+e.length:o}else i.append(e);for(let l=0;l<u.length;l+=1)i.append(u[l]);r.loop&&n.loopCreate(),r.observer&&_e.observer||n.update(),n.slideTo(r.loop?c+n.loopedSlides:c,0,!1)},removeSlide:function(t){const e=this,{params:n,$wrapperEl:i,activeIndex:r}=e;let s=r;n.loop&&(s-=e.loopedSlides,e.loopDestroy(),e.slides=i.children(`.${n.slideClass}`));let o,a=s;if("object"==typeof t&&"length"in t){for(let n=0;n<t.length;n+=1)o=t[n],e.slides[o]&&e.slides.eq(o).remove(),o<a&&(a-=1);a=Math.max(a,0)}else o=t,e.slides[o]&&e.slides.eq(o).remove(),o<a&&(a-=1),a=Math.max(a,0);n.loop&&e.loopCreate(),n.observer&&_e.observer||e.update(),e.slideTo(n.loop?a+e.loopedSlides:a,0,!1)},removeAllSlides:function(){const t=this,e=[];for(let n=0;n<t.slides.length;n+=1)e.push(n);t.removeSlide(e)}};const Se=function(){const t=ue.navigator.platform,e=ue.navigator.userAgent,n={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!ue.cordova&&!ue.phonegap),phonegap:!(!ue.cordova&&!ue.phonegap),electron:!1},i=ue.screen.width,r=ue.screen.height,s=e.match(/(Android);?[\s\/]+([\d.]+)?/);let o=e.match(/(iPad).*OS\s([\d_]+)/);const a=e.match(/(iPod)(.*OS\s([\d_]+))?/),c=!o&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/),u=e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0,l=e.indexOf("Edge/")>=0,h=e.indexOf("Gecko/")>=0&&e.indexOf("Firefox/")>=0,d="Win32"===t,p=e.toLowerCase().indexOf("electron")>=0;let f="MacIntel"===t;return!o&&f&&_e.touch&&(1024===i&&1366===r||834===i&&1194===r||834===i&&1112===r||768===i&&1024===r)&&(o=e.match(/(Version)\/([\d.]+)/),f=!1),n.ie=u,n.edge=l,n.firefox=h,s&&!d&&(n.os="android",n.osVersion=s[2],n.android=!0,n.androidChrome=e.toLowerCase().indexOf("chrome")>=0),(o||c||a)&&(n.os="ios",n.ios=!0),c&&!a&&(n.osVersion=c[2].replace(/_/g,"."),n.iphone=!0),o&&(n.osVersion=o[2].replace(/_/g,"."),n.ipad=!0),a&&(n.osVersion=a[3]?a[3].replace(/_/g,"."):null,n.ipod=!0),n.ios&&n.osVersion&&e.indexOf("Version/")>=0&&"10"===n.osVersion.split(".")[0]&&(n.osVersion=e.toLowerCase().split("version/")[1].split(" ")[0]),n.webView=!(!(c||o||a)||!e.match(/.*AppleWebKit(?!.*Safari)/i)&&!ue.navigator.standalone)||ue.matchMedia&&ue.matchMedia("(display-mode: standalone)").matches,n.webview=n.webView,n.standalone=n.webView,n.desktop=!(n.ios||n.android)||p,n.desktop&&(n.electron=p,n.macos=f,n.windows=d,n.macos&&(n.os="macos"),n.windows&&(n.os="windows")),n.pixelRatio=ue.devicePixelRatio||1,n}();function Ce(t){const e=this,n=e.touchEventsData,{params:i,touches:r}=e;if(e.animating&&i.preventInteractionOnTransition)return;let s=t;s.originalEvent&&(s=s.originalEvent);const o=he(s.target);if("wrapper"===i.touchEventsTarget&&!o.closest(e.wrapperEl).length)return;if(n.isTouchEvent="touchstart"===s.type,!n.isTouchEvent&&"which"in s&&3===s.which)return;if(!n.isTouchEvent&&"button"in s&&s.button>0)return;if(n.isTouched&&n.isMoved)return;if(i.noSwiping&&o.closest(i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`)[0])return void(e.allowClick=!0);if(i.swipeHandler&&!o.closest(i.swipeHandler)[0])return;r.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,r.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;const a=r.currentX,c=r.currentY,u=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(!i.edgeSwipeDetection&&!i.iOSEdgeSwipeDetection||!(a<=u||a>=ue.screen.width-u)){if(fe.extend(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),r.startX=a,r.startY=c,n.touchStartTime=fe.now(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==s.type){let t=!0;o.is(n.formElements)&&(t=!1),ae.activeElement&&he(ae.activeElement).is(n.formElements)&&ae.activeElement!==o[0]&&ae.activeElement.blur();const r=t&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||r)&&s.preventDefault()}e.emit("touchStart",s)}}function Te(t){const e=this,n=e.touchEventsData,{params:i,touches:r,rtlTranslate:s}=e;let o=t;if(o.originalEvent&&(o=o.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&e.emit("touchMoveOpposite",o));if(n.isTouchEvent&&"touchmove"!==o.type)return;const a="touchmove"===o.type&&o.targetTouches&&(o.targetTouches[0]||o.changedTouches[0]),c="touchmove"===o.type?a.pageX:o.pageX,u="touchmove"===o.type?a.pageY:o.pageY;if(o.preventedByNestedSwiper)return r.startX=c,void(r.startY=u);if(!e.allowTouchMove)return e.allowClick=!1,void(n.isTouched&&(fe.extend(r,{startX:c,startY:u,currentX:c,currentY:u}),n.touchStartTime=fe.now()));if(n.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(e.isVertical()){if(u<r.startY&&e.translate<=e.maxTranslate()||u>r.startY&&e.translate>=e.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(c<r.startX&&e.translate<=e.maxTranslate()||c>r.startX&&e.translate>=e.minTranslate())return;if(n.isTouchEvent&&ae.activeElement&&o.target===ae.activeElement&&he(o.target).is(n.formElements))return n.isMoved=!0,void(e.allowClick=!1);if(n.allowTouchCallbacks&&e.emit("touchMove",o),o.targetTouches&&o.targetTouches.length>1)return;r.currentX=c,r.currentY=u;const l=r.currentX-r.startX,h=r.currentY-r.startY;if(e.params.threshold&&Math.sqrt(l**2+h**2)<e.params.threshold)return;if(void 0===n.isScrolling){let t;e.isHorizontal()&&r.currentY===r.startY||e.isVertical()&&r.currentX===r.startX?n.isScrolling=!1:l*l+h*h>=25&&(t=180*Math.atan2(Math.abs(h),Math.abs(l))/Math.PI,n.isScrolling=e.isHorizontal()?t>i.touchAngle:90-t>i.touchAngle)}if(n.isScrolling&&e.emit("touchMoveOpposite",o),void 0===n.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(n.startMoving=!0)),n.isScrolling)return void(n.isTouched=!1);if(!n.startMoving)return;e.allowClick=!1,!i.cssMode&&o.cancelable&&o.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&o.stopPropagation(),n.isMoved||(i.loop&&e.loopFix(),n.startTranslate=e.getTranslate(),e.setTransition(0),e.animating&&e.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!i.grabCursor||!0!==e.allowSlideNext&&!0!==e.allowSlidePrev||e.setGrabCursor(!0),e.emit("sliderFirstMove",o)),e.emit("sliderMove",o),n.isMoved=!0;let d=e.isHorizontal()?l:h;r.diff=d,d*=i.touchRatio,s&&(d=-d),e.swipeDirection=d>0?"prev":"next",n.currentTranslate=d+n.startTranslate;let p=!0,f=i.resistanceRatio;if(i.touchReleaseOnEdges&&(f=0),d>0&&n.currentTranslate>e.minTranslate()?(p=!1,i.resistance&&(n.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+n.startTranslate+d)**f)):d<0&&n.currentTranslate<e.maxTranslate()&&(p=!1,i.resistance&&(n.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-n.startTranslate-d)**f)),p&&(o.preventedByNestedSwiper=!0),!e.allowSlideNext&&"next"===e.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!e.allowSlidePrev&&"prev"===e.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),i.threshold>0){if(!(Math.abs(d)>i.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,n.currentTranslate=n.startTranslate,void(r.diff=e.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}i.followFinger&&!i.cssMode&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(e.updateActiveIndex(),e.updateSlidesClasses()),i.freeMode&&(0===n.velocities.length&&n.velocities.push({position:r[e.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:r[e.isHorizontal()?"currentX":"currentY"],time:fe.now()})),e.updateProgress(n.currentTranslate),e.setTranslate(n.currentTranslate))}function we(t){const e=this,n=e.touchEventsData,{params:i,touches:r,rtlTranslate:s,$wrapperEl:o,slidesGrid:a,snapGrid:c}=e;let u=t;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const l=fe.now(),h=l-n.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(u),e.emit("tap click",u),h<300&&l-n.lastClickTime<300&&e.emit("doubleTap doubleClick",u)),n.lastClickTime=fe.now(),fe.nextTick(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===r.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=i.followFinger?s?e.translate:-e.translate:-n.currentTranslate,i.cssMode)return;if(i.freeMode){if(d<-e.minTranslate())return void e.slideTo(e.activeIndex);if(d>-e.maxTranslate())return void e.slideTo(e.slides.length<c.length?c.length-1:e.slides.length-1);if(i.freeModeMomentum){if(n.velocities.length>1){const t=n.velocities.pop(),r=n.velocities.pop(),s=t.time-r.time;e.velocity=(t.position-r.position)/s,e.velocity/=2,Math.abs(e.velocity)<i.freeModeMinimumVelocity&&(e.velocity=0),(s>150||fe.now()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeModeMomentumVelocityRatio,n.velocities.length=0;let t=1e3*i.freeModeMomentumRatio,r=e.translate+e.velocity*t;s&&(r=-r);let a,u=!1;const l=20*Math.abs(e.velocity)*i.freeModeMomentumBounceRatio;let h;if(r<e.maxTranslate())i.freeModeMomentumBounce?(r+e.maxTranslate()<-l&&(r=e.maxTranslate()-l),a=e.maxTranslate(),u=!0,n.allowMomentumBounce=!0):r=e.maxTranslate(),i.loop&&i.centeredSlides&&(h=!0);else if(r>e.minTranslate())i.freeModeMomentumBounce?(r-e.minTranslate()>l&&(r=e.minTranslate()+l),a=e.minTranslate(),u=!0,n.allowMomentumBounce=!0):r=e.minTranslate(),i.loop&&i.centeredSlides&&(h=!0);else if(i.freeModeSticky){let t;for(let e=0;e<c.length;e+=1)if(c[e]>-r){t=e;break}r=Math.abs(c[t]-r)<Math.abs(c[t-1]-r)||"next"===e.swipeDirection?c[t]:c[t-1],r=-r}if(h&&e.once("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(t=s?Math.abs((-r-e.translate)/e.velocity):Math.abs((r-e.translate)/e.velocity),i.freeModeSticky){const n=Math.abs((s?-r:r)-e.translate),o=e.slidesSizesGrid[e.activeIndex];t=n<o?i.speed:n<2*o?1.5*i.speed:2.5*i.speed}}else if(i.freeModeSticky)return void e.slideToClosest();i.freeModeMomentumBounce&&u?(e.updateProgress(a),e.setTransition(t),e.setTranslate(r),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o.transitionEnd(()=>{e&&!e.destroyed&&n.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(i.speed),setTimeout(()=>{e.setTranslate(a),o.transitionEnd(()=>{e&&!e.destroyed&&e.transitionEnd()})},0))})):e.velocity?(e.updateProgress(r),e.setTransition(t),e.setTranslate(r),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o.transitionEnd(()=>{e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(r),e.updateActiveIndex(),e.updateSlidesClasses()}else if(i.freeModeSticky)return void e.slideToClosest();return void((!i.freeModeMomentum||h>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses()))}let p=0,f=e.slidesSizesGrid[0];for(let m=0;m<a.length;m+=m<i.slidesPerGroupSkip?1:i.slidesPerGroup){const t=m<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==a[m+t]?d>=a[m]&&d<a[m+t]&&(p=m,f=a[m+t]-a[m]):d>=a[m]&&(p=m,f=a[a.length-1]-a[a.length-2])}const _=(d-a[p])/f,g=p<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(h>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(_>=i.longSwipesRatio?p+g:p),"prev"===e.swipeDirection&&e.slideTo(_>1-i.longSwipesRatio?p+g:p)}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||u.target!==e.navigation.nextEl&&u.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(p+g),"prev"===e.swipeDirection&&e.slideTo(p)):e.slideTo(u.target===e.navigation.nextEl?p+g:p)}}function De(){const{params:t,el:e}=this;if(e&&0===e.offsetWidth)return;t.breakpoints&&this.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:r}=this;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),this.slideTo(("auto"===t.slidesPerView||t.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slides.length-1:this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=i,this.allowSlideNext=n,this.params.watchOverflow&&r!==this.snapGrid&&this.checkOverflow()}function Pe(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function Ae(){const{wrapperEl:t,rtlTranslate:e}=this;let n;this.previousTranslate=this.translate,this.translate=this.isHorizontal()?e?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:-t.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();const i=this.maxTranslate()-this.minTranslate();n=0===i?0:(this.translate-this.minTranslate())/i,n!==this.progress&&this.updateProgress(e?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}let Ie=!1;function Me(){}var xe={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0};const Re={update:me,translate:ve,transition:{setTransition:function(t,e){this.params.cssMode||this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(t=!0,e){const n=this,{activeIndex:i,params:r,previousIndex:s}=n;if(r.cssMode)return;r.autoHeight&&n.updateAutoHeight();let o=e;if(o||(o=i>s?"next":i<s?"prev":"reset"),n.emit("transitionStart"),t&&i!==s){if("reset"===o)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),n.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}},transitionEnd:function(t=!0,e){const n=this,{activeIndex:i,previousIndex:r,params:s}=n;if(n.animating=!1,s.cssMode)return;n.setTransition(0);let o=e;if(o||(o=i>r?"next":i<r?"prev":"reset"),n.emit("transitionEnd"),t&&i!==r){if("reset"===o)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),n.emit("next"===o?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}},slide:ye,loop:be,grabCursor:Ee,manipulation:Oe,events:{attachEvents:function(){const t=this,{params:e,touchEvents:n,el:i,wrapperEl:r}=t;t.onTouchStart=Ce.bind(t),t.onTouchMove=Te.bind(t),t.onTouchEnd=we.bind(t),e.cssMode&&(t.onScroll=Ae.bind(t)),t.onClick=Pe.bind(t);const s=!!e.nested;if(!_e.touch&&_e.pointerEvents)i.addEventListener(n.start,t.onTouchStart,!1),ae.addEventListener(n.move,t.onTouchMove,s),ae.addEventListener(n.end,t.onTouchEnd,!1);else{if(_e.touch){const r=!("touchstart"!==n.start||!_e.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};i.addEventListener(n.start,t.onTouchStart,r),i.addEventListener(n.move,t.onTouchMove,_e.passiveListener?{passive:!1,capture:s}:s),i.addEventListener(n.end,t.onTouchEnd,r),n.cancel&&i.addEventListener(n.cancel,t.onTouchEnd,r),Ie||(ae.addEventListener("touchstart",Me),Ie=!0)}(e.simulateTouch&&!Se.ios&&!Se.android||e.simulateTouch&&!_e.touch&&Se.ios)&&(i.addEventListener("mousedown",t.onTouchStart,!1),ae.addEventListener("mousemove",t.onTouchMove,s),ae.addEventListener("mouseup",t.onTouchEnd,!1))}(e.preventClicks||e.preventClicksPropagation)&&i.addEventListener("click",t.onClick,!0),e.cssMode&&r.addEventListener("scroll",t.onScroll),t.on(e.updateOnWindowResize?Se.ios||Se.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",De,!0)},detachEvents:function(){const t=this,{params:e,touchEvents:n,el:i,wrapperEl:r}=t,s=!!e.nested;if(!_e.touch&&_e.pointerEvents)i.removeEventListener(n.start,t.onTouchStart,!1),ae.removeEventListener(n.move,t.onTouchMove,s),ae.removeEventListener(n.end,t.onTouchEnd,!1);else{if(_e.touch){const r=!("onTouchStart"!==n.start||!_e.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};i.removeEventListener(n.start,t.onTouchStart,r),i.removeEventListener(n.move,t.onTouchMove,s),i.removeEventListener(n.end,t.onTouchEnd,r),n.cancel&&i.removeEventListener(n.cancel,t.onTouchEnd,r)}(e.simulateTouch&&!Se.ios&&!Se.android||e.simulateTouch&&!_e.touch&&Se.ios)&&(i.removeEventListener("mousedown",t.onTouchStart,!1),ae.removeEventListener("mousemove",t.onTouchMove,s),ae.removeEventListener("mouseup",t.onTouchEnd,!1))}(e.preventClicks||e.preventClicksPropagation)&&i.removeEventListener("click",t.onClick,!0),e.cssMode&&r.removeEventListener("scroll",t.onScroll),t.off(Se.ios||Se.android?"resize orientationchange observerUpdate":"resize observerUpdate",De)}},breakpoints:{setBreakpoint:function(){const t=this,{activeIndex:e,initialized:n,loopedSlides:i=0,params:r,$el:s}=t,o=r.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const a=t.getBreakpoint(o);if(a&&t.currentBreakpoint!==a){const c=a in o?o[a]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(t=>{const e=c[t];void 0!==e&&(c[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")});const u=c||t.originalParams,l=r.slidesPerColumn>1,h=u.slidesPerColumn>1;l&&!h?s.removeClass(`${r.containerModifierClass}multirow ${r.containerModifierClass}multirow-column`):!l&&h&&(s.addClass(`${r.containerModifierClass}multirow`),"column"===u.slidesPerColumnFill&&s.addClass(`${r.containerModifierClass}multirow-column`));const d=u.direction&&u.direction!==r.direction,p=r.loop&&(u.slidesPerView!==r.slidesPerView||d);d&&n&&t.changeDirection(),fe.extend(t.params,u),fe.extend(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),t.currentBreakpoint=a,p&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-i+t.loopedSlides,0,!1)),t.emit("breakpoint",u)}},getBreakpoint:function(t){if(!t)return;let e=!1;const n=Object.keys(t).map(t=>{if("string"==typeof t&&0===t.indexOf("@")){const e=parseFloat(t.substr(1));return{value:ue.innerHeight*e,point:t}}return{value:t,point:t}});n.sort((t,e)=>parseInt(t.value,10)-parseInt(e.value,10));for(let i=0;i<n.length;i+=1){const{point:t,value:r}=n[i];r<=ue.innerWidth&&(e=t)}return e||"max"}},checkOverflow:{checkOverflow:function(){const t=this.params,e=this.isLocked,n=this.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;this.isLocked=t.slidesOffsetBefore&&t.slidesOffsetAfter&&n?n<=this.size:1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),e&&e!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){const{classNames:t,params:e,rtl:n,$el:i}=this,r=[];r.push("initialized"),r.push(e.direction),e.freeMode&&r.push("free-mode"),e.autoHeight&&r.push("autoheight"),n&&r.push("rtl"),e.slidesPerColumn>1&&(r.push("multirow"),"column"===e.slidesPerColumnFill&&r.push("multirow-column")),Se.android&&r.push("android"),Se.ios&&r.push("ios"),e.cssMode&&r.push("css-mode"),r.forEach(n=>{t.push(e.containerModifierClass+n)}),i.addClass(t.join(" "))},removeClasses:function(){const{$el:t,classNames:e}=this;t.removeClass(e.join(" "))}},images:{loadImage:function(t,e,n,i,r,s){let o;function a(){s&&s()}he(t).parent("picture")[0]||t.complete&&r?a():e?(o=new ue.Image,o.onload=a,o.onerror=a,i&&(o.sizes=i),n&&(o.srcset=n),e&&(o.src=e)):a()},preloadImages:function(){const t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(let n=0;n<t.imagesToLoad.length;n+=1){const i=t.imagesToLoad[n];t.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}}},ke={};class Le extends ge{constructor(...t){let e,n;1===t.length&&t[0].constructor&&t[0].constructor===Object?n=t[0]:[e,n]=t,n||(n={}),n=fe.extend({},n),e&&!n.el&&(n.el=e),super(n),Object.keys(Re).forEach(t=>{Object.keys(Re[t]).forEach(e=>{Le.prototype[e]||(Le.prototype[e]=Re[t][e])})});const i=this;void 0===i.modules&&(i.modules={}),Object.keys(i.modules).forEach(t=>{const e=i.modules[t];if(e.params){const t=Object.keys(e.params)[0],i=e.params[t];if("object"!=typeof i||null===i)return;if(!(t in n)||!("enabled"in i))return;!0===n[t]&&(n[t]={enabled:!0}),"object"!=typeof n[t]||"enabled"in n[t]||(n[t].enabled=!0),n[t]||(n[t]={enabled:!1})}});const r=fe.extend({},xe);i.useModulesParams(r),i.params=fe.extend({},r,ke,n),i.originalParams=fe.extend({},i.params),i.passedParams=fe.extend({},n),i.$=he;const s=he(i.params.el);if(e=s[0],!e)return;if(s.length>1){const t=[];return s.each((e,i)=>{const r=fe.extend({},n,{el:i});t.push(new Le(r))}),t}let o;return e.swiper=i,s.data("swiper",i),e&&e.shadowRoot&&e.shadowRoot.querySelector?(o=he(e.shadowRoot.querySelector(`.${i.params.wrapperClass}`)),o.children=t=>s.children(t)):o=s.children(`.${i.params.wrapperClass}`),fe.extend(i,{$el:s,el:e,$wrapperEl:o,wrapperEl:o[0],classNames:[],slides:he(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===i.params.direction,isVertical:()=>"vertical"===i.params.direction,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===i.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===o.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const t=["touchstart","touchmove","touchend","touchcancel"];let e=["mousedown","mousemove","mouseup"];return _e.pointerEvents&&(e=["pointerdown","pointermove","pointerup"]),i.touchEventsTouch={start:t[0],move:t[1],end:t[2],cancel:t[3]},i.touchEventsDesktop={start:e[0],move:e[1],end:e[2]},_e.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:fe.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.useModules(),i.params.init&&i.init(),i}slidesPerViewDynamic(){const{params:t,slides:e,slidesGrid:n,size:i,activeIndex:r}=this;let s=1;if(t.centeredSlides){let t,n=e[r].swiperSlideSize;for(let o=r+1;o<e.length;o+=1)e[o]&&!t&&(n+=e[o].swiperSlideSize,s+=1,n>i&&(t=!0));for(let o=r-1;o>=0;o-=1)e[o]&&!t&&(n+=e[o].swiperSlideSize,s+=1,n>i&&(t=!0))}else for(let o=r+1;o<e.length;o+=1)n[o]-n[r]<i&&(s+=1);return s}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:n}=t;function i(){const e=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(e),t.updateActiveIndex(),t.updateSlidesClasses()}let r;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(i(),t.params.autoHeight&&t.updateAutoHeight()):(r=t.slideTo(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0),r||i()),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e=!0){const n=this.params.direction;return t||(t="horizontal"===n?"vertical":"horizontal"),t===n||"horizontal"!==t&&"vertical"!==t||(this.$el.removeClass(`${this.params.containerModifierClass}${n}`).addClass(`${this.params.containerModifierClass}${t}`),this.params.direction=t,this.slides.each((e,n)=>{"vertical"===t?n.style.width="":n.style.height=""}),this.emit("changeDirection"),e&&this.update()),this}init(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.slideTo(this.params.loop?this.params.initialSlide+this.loopedSlides:this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))}destroy(t=!0,e=!0){const n=this,{params:i,$el:r,$wrapperEl:s,slides:o}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),e&&(n.removeClasses(),r.removeAttr("style"),s.removeAttr("style"),o&&o.length&&o.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(t=>{n.off(t)}),!1!==t&&(n.$el[0].swiper=null,n.$el.data("swiper",null),fe.deleteProps(n)),n.destroyed=!0),null}static extendDefaults(t){fe.extend(ke,t)}static get extendedDefaults(){return ke}static get defaults(){return xe}static get Class(){return ge}static get $(){return he}}var je={name:"device",proto:{device:Se},static:{device:Se}},Ne={name:"support",proto:{support:_e},static:{support:_e}};const Ue={isEdge:!!ue.navigator.userAgent.match(/Edge/g),isSafari:function(){const t=ue.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(ue.navigator.userAgent)};var Be={name:"browser",proto:{browser:Ue},static:{browser:Ue}},Fe={name:"resize",create(){const t=this;fe.extend(t,{resize:{resizeHandler(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init(){ue.addEventListener("resize",this.resize.resizeHandler),ue.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy(){ue.removeEventListener("resize",this.resize.resizeHandler),ue.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}};const qe={func:ue.MutationObserver||ue.WebkitMutationObserver,attach(t,e={}){const n=this,i=new(0,qe.func)(t=>{if(1===t.length)return void n.emit("observerUpdate",t[0]);const e=function(){n.emit("observerUpdate",t[0])};ue.requestAnimationFrame?ue.requestAnimationFrame(e):ue.setTimeout(e,0)});i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),n.observer.observers.push(i)},init(){const t=this;if(_e.observer&&t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let n=0;n<e.length;n+=1)t.observer.attach(e[n])}t.observer.attach(t.$el[0],{childList:t.params.observeSlideChildren}),t.observer.attach(t.$wrapperEl[0],{attributes:!1})}},destroy(){this.observer.observers.forEach(t=>{t.disconnect()}),this.observer.observers=[]}};var Ve={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create(){fe.extend(this,{observer:{init:qe.init.bind(this),attach:qe.attach.bind(this),destroy:qe.destroy.bind(this),observers:[]}})},on:{init(){this.observer.init()},destroy(){this.observer.destroy()}}};const We={update(t){const e=this,{slidesPerView:n,slidesPerGroup:i,centeredSlides:r}=e.params,{addSlidesBefore:s,addSlidesAfter:o}=e.params.virtual,{from:a,to:c,slides:u,slidesGrid:l,renderSlide:h,offset:d}=e.virtual;e.updateActiveIndex();const p=e.activeIndex||0;let f,_,g;f=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",r?(_=Math.floor(n/2)+i+s,g=Math.floor(n/2)+i+o):(_=n+(i-1)+s,g=i+o);const m=Math.max((p||0)-g,0),v=Math.min((p||0)+_,u.length-1),y=(e.slidesGrid[m]||0)-(e.slidesGrid[0]||0);function b(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(fe.extend(e.virtual,{from:m,to:v,offset:y,slidesGrid:e.slidesGrid}),a===m&&c===v&&!t)return e.slidesGrid!==l&&y!==d&&e.slides.css(f,`${y}px`),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:y,from:m,to:v,slides:function(){const t=[];for(let e=m;e<=v;e+=1)t.push(u[e]);return t}()}),void b();const E=[],O=[];if(t)e.$wrapperEl.find(`.${e.params.slideClass}`).remove();else for(let S=a;S<=c;S+=1)(S<m||S>v)&&e.$wrapperEl.find(`.${e.params.slideClass}[data-swiper-slide-index="${S}"]`).remove();for(let S=0;S<u.length;S+=1)S>=m&&S<=v&&(void 0===c||t?O.push(S):(S>c&&O.push(S),S<a&&E.push(S)));O.forEach(t=>{e.$wrapperEl.append(h(u[t],t))}),E.sort((t,e)=>e-t).forEach(t=>{e.$wrapperEl.prepend(h(u[t],t))}),e.$wrapperEl.children(".swiper-slide").css(f,`${y}px`),b()},renderSlide(t,e){const n=this.params.virtual;if(n.cache&&this.virtual.cache[e])return this.virtual.cache[e];const i=he(n.renderSlide?n.renderSlide.call(this,t,e):`<div class="${this.params.slideClass}" data-swiper-slide-index="${e}">${t}</div>`);return i.attr("data-swiper-slide-index")||i.attr("data-swiper-slide-index",e),n.cache&&(this.virtual.cache[e]=i),i},appendSlide(t){const e=this;if("object"==typeof t&&"length"in t)for(let n=0;n<t.length;n+=1)t[n]&&e.virtual.slides.push(t[n]);else e.virtual.slides.push(t);e.virtual.update(!0)},prependSlide(t){const e=this,n=e.activeIndex;let i=n+1,r=1;if(Array.isArray(t)){for(let n=0;n<t.length;n+=1)t[n]&&e.virtual.slides.unshift(t[n]);i=n+t.length,r=t.length}else e.virtual.slides.unshift(t);if(e.params.virtual.cache){const t=e.virtual.cache,n={};Object.keys(t).forEach(e=>{const i=t[e],s=i.attr("data-swiper-slide-index");s&&i.attr("data-swiper-slide-index",parseInt(s,10)+1),n[parseInt(e,10)+r]=i}),e.virtual.cache=n}e.virtual.update(!0),e.slideTo(i,0)},removeSlide(t){const e=this;if(null==t)return;let n=e.activeIndex;if(Array.isArray(t))for(let i=t.length-1;i>=0;i-=1)e.virtual.slides.splice(t[i],1),e.params.virtual.cache&&delete e.virtual.cache[t[i]],t[i]<n&&(n-=1),n=Math.max(n,0);else e.virtual.slides.splice(t,1),e.params.virtual.cache&&delete e.virtual.cache[t],t<n&&(n-=1),n=Math.max(n,0);e.virtual.update(!0),e.slideTo(n,0)},removeAllSlides(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}};var Ge={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create(){fe.extend(this,{virtual:{update:We.update.bind(this),appendSlide:We.appendSlide.bind(this),prependSlide:We.prependSlide.bind(this),removeSlide:We.removeSlide.bind(this),removeAllSlides:We.removeAllSlides.bind(this),renderSlide:We.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit(){if(!this.params.virtual.enabled)return;this.classNames.push(`${this.params.containerModifierClass}virtual`);const t={watchSlidesProgress:!0};fe.extend(this.params,t),fe.extend(this.originalParams,t),this.params.initialSlide||this.virtual.update()},setTranslate(){this.params.virtual.enabled&&this.virtual.update()}}};const Ke={handle(t){const e=this,{rtlTranslate:n}=e;let i=t;i.originalEvent&&(i=i.originalEvent);const r=i.keyCode||i.charCode,s=e.params.keyboard.pageUpDown,o=s&&33===r,a=s&&34===r,c=37===r,u=39===r,l=38===r,h=40===r;if(!e.allowSlideNext&&(e.isHorizontal()&&u||e.isVertical()&&h||a))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&c||e.isVertical()&&l||o))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||ae.activeElement&&ae.activeElement.nodeName&&("input"===ae.activeElement.nodeName.toLowerCase()||"textarea"===ae.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(o||a||c||u||l||h)){let t=!1;if(e.$el.parents(`.${e.params.slideClass}`).length>0&&0===e.$el.parents(`.${e.params.slideActiveClass}`).length)return;const i=ue.innerWidth,r=ue.innerHeight,s=e.$el.offset();n&&(s.left-=e.$el[0].scrollLeft);const o=[[s.left,s.top],[s.left+e.width,s.top],[s.left,s.top+e.height],[s.left+e.width,s.top+e.height]];for(let e=0;e<o.length;e+=1){const n=o[e];n[0]>=0&&n[0]<=i&&n[1]>=0&&n[1]<=r&&(t=!0)}if(!t)return}e.isHorizontal()?((o||a||c||u)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),((a||u)&&!n||(o||c)&&n)&&e.slideNext(),((o||c)&&!n||(a||u)&&n)&&e.slidePrev()):((o||a||l||h)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),(a||h)&&e.slideNext(),(o||l)&&e.slidePrev()),e.emit("keyPress",r)}},enable(){this.keyboard.enabled||(he(ae).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable(){this.keyboard.enabled&&(he(ae).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}};var ze={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create(){fe.extend(this,{keyboard:{enabled:!1,enable:Ke.enable.bind(this),disable:Ke.disable.bind(this),handle:Ke.handle.bind(this)}})},on:{init(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy(){this.keyboard.enabled&&this.keyboard.disable()}}};const $e={lastScrollTime:fe.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:()=>ue.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){let t="onwheel"in ae;if(!t){const e=ae.createElement("div");e.setAttribute("onwheel","return;"),t="function"==typeof e.onwheel}return!t&&ae.implementation&&ae.implementation.hasFeature&&!0!==ae.implementation.hasFeature("","")&&(t=ae.implementation.hasFeature("Events.wheel","3.0")),t}()?"wheel":"mousewheel",normalize(t){let e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=10*e,r=10*n,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),t.shiftKey&&!i&&(i=r,r=0),(i||r)&&t.deltaMode&&(1===t.deltaMode?(i*=40,r*=40):(i*=800,r*=800)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}},handleMouseEnter(){this.mouseEntered=!0},handleMouseLeave(){this.mouseEntered=!1},handle(t){let e=t;const n=this,i=n.params.mousewheel;n.params.cssMode&&e.preventDefault();let r=n.$el;if("container"!==n.params.mousewheel.eventsTarged&&(r=he(n.params.mousewheel.eventsTarged)),!n.mouseEntered&&!r[0].contains(e.target)&&!i.releaseOnEdges)return!0;e.originalEvent&&(e=e.originalEvent);let s=0;const o=n.rtlTranslate?-1:1,a=$e.normalize(e);if(i.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(a.pixelX)>Math.abs(a.pixelY)))return!0;s=-a.pixelX*o}else{if(!(Math.abs(a.pixelY)>Math.abs(a.pixelX)))return!0;s=-a.pixelY}else s=Math.abs(a.pixelX)>Math.abs(a.pixelY)?-a.pixelX*o:-a.pixelY;if(0===s)return!0;if(i.invert&&(s=-s),n.params.freeMode){const t={time:fe.now(),delta:Math.abs(s),direction:Math.sign(s)},{lastEventBeforeSnap:r}=n.mousewheel,o=r&&t.time<r.time+500&&t.delta<=r.delta&&t.direction===r.direction;if(!o){n.mousewheel.lastEventBeforeSnap=void 0,n.params.loop&&n.loopFix();let r=n.getTranslate()+s*i.sensitivity;const a=n.isBeginning,c=n.isEnd;if(r>=n.minTranslate()&&(r=n.minTranslate()),r<=n.maxTranslate()&&(r=n.maxTranslate()),n.setTransition(0),n.setTranslate(r),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!a&&n.isBeginning||!c&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky){clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=void 0;const e=n.mousewheel.recentWheelEvents;e.length>=15&&e.shift();const i=e.length?e[e.length-1]:void 0,r=e[0];if(e.push(t),i&&(t.delta>i.delta||t.direction!==i.direction))e.splice(0);else if(e.length>=15&&t.time-r.time<500&&r.delta-t.delta>=1&&t.delta<=6){const i=s>0?.8:.2;n.mousewheel.lastEventBeforeSnap=t,e.splice(0),n.mousewheel.timeout=fe.nextTick(()=>{n.slideToClosest(n.params.speed,!0,void 0,i)},0)}n.mousewheel.timeout||(n.mousewheel.timeout=fe.nextTick(()=>{n.mousewheel.lastEventBeforeSnap=t,e.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)},500))}if(o||n.emit("scroll",e),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),r===n.minTranslate()||r===n.maxTranslate())return!0}}else{const e={time:fe.now(),delta:Math.abs(s),direction:Math.sign(s),raw:t},i=n.mousewheel.recentWheelEvents;i.length>=2&&i.shift();const r=i.length?i[i.length-1]:void 0;if(i.push(e),r?(e.direction!==r.direction||e.delta>r.delta||e.time>r.time+150)&&n.mousewheel.animateSlider(e):n.mousewheel.animateSlider(e),n.mousewheel.releaseScroll(e))return!0}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},animateSlider(t){return t.delta>=6&&fe.now()-this.mousewheel.lastScrollTime<60||(t.direction<0?this.isEnd&&!this.params.loop||this.animating||(this.slideNext(),this.emit("scroll",t.raw)):this.isBeginning&&!this.params.loop||this.animating||(this.slidePrev(),this.emit("scroll",t.raw)),this.mousewheel.lastScrollTime=(new ue.Date).getTime(),!1)},releaseScroll(t){const e=this.params.mousewheel;if(t.direction<0){if(this.isEnd&&!this.params.loop&&e.releaseOnEdges)return!0}else if(this.isBeginning&&!this.params.loop&&e.releaseOnEdges)return!0;return!1},enable(){const t=$e.event();if(this.params.cssMode)return this.wrapperEl.removeEventListener(t,this.mousewheel.handle),!0;if(!t)return!1;if(this.mousewheel.enabled)return!1;let e=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(e=he(this.params.mousewheel.eventsTarged)),e.on("mouseenter",this.mousewheel.handleMouseEnter),e.on("mouseleave",this.mousewheel.handleMouseLeave),e.on(t,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable(){const t=$e.event();if(this.params.cssMode)return this.wrapperEl.addEventListener(t,this.mousewheel.handle),!0;if(!t)return!1;if(!this.mousewheel.enabled)return!1;let e=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(e=he(this.params.mousewheel.eventsTarged)),e.off(t,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},He={update(){const t=this.params.navigation;if(this.params.loop)return;const{$nextEl:e,$prevEl:n}=this.navigation;n&&n.length>0&&(this.isBeginning?n.addClass(t.disabledClass):n.removeClass(t.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass)),e&&e.length>0&&(this.isEnd?e.addClass(t.disabledClass):e.removeClass(t.disabledClass),e[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass))},onPrevClick(t){t.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick(t){t.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init(){const t=this.params.navigation;if(!t.nextEl&&!t.prevEl)return;let e,n;t.nextEl&&(e=he(t.nextEl),this.params.uniqueNavElements&&"string"==typeof t.nextEl&&e.length>1&&1===this.$el.find(t.nextEl).length&&(e=this.$el.find(t.nextEl))),t.prevEl&&(n=he(t.prevEl),this.params.uniqueNavElements&&"string"==typeof t.prevEl&&n.length>1&&1===this.$el.find(t.prevEl).length&&(n=this.$el.find(t.prevEl))),e&&e.length>0&&e.on("click",this.navigation.onNextClick),n&&n.length>0&&n.on("click",this.navigation.onPrevClick),fe.extend(this.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:n,prevEl:n&&n[0]})},destroy(){const{$nextEl:t,$prevEl:e}=this.navigation;t&&t.length&&(t.off("click",this.navigation.onNextClick),t.removeClass(this.params.navigation.disabledClass)),e&&e.length&&(e.off("click",this.navigation.onPrevClick),e.removeClass(this.params.navigation.disabledClass))}},Qe={update(){const t=this,e=t.rtl,n=t.params.pagination;if(!n.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length)return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,r=t.pagination.$el;let s;const o=t.params.loop?Math.ceil((i-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(s=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),s>i-1-2*t.loopedSlides&&(s-=i-2*t.loopedSlides),s>o-1&&(s-=o),s<0&&"bullets"!==t.params.paginationType&&(s=o+s)):s=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===n.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const i=t.pagination.bullets;let o,a,c;if(n.dynamicBullets&&(t.pagination.bulletSize=i.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(t.isHorizontal()?"width":"height",t.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==t.previousIndex&&(t.pagination.dynamicBulletIndex+=s-t.previousIndex,t.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?t.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:t.pagination.dynamicBulletIndex<0&&(t.pagination.dynamicBulletIndex=0)),o=s-t.pagination.dynamicBulletIndex,a=o+(Math.min(i.length,n.dynamicMainBullets)-1),c=(a+o)/2),i.removeClass(`${n.bulletActiveClass} ${n.bulletActiveClass}-next ${n.bulletActiveClass}-next-next ${n.bulletActiveClass}-prev ${n.bulletActiveClass}-prev-prev ${n.bulletActiveClass}-main`),r.length>1)i.each((t,e)=>{const i=he(e),r=i.index();r===s&&i.addClass(n.bulletActiveClass),n.dynamicBullets&&(r>=o&&r<=a&&i.addClass(`${n.bulletActiveClass}-main`),r===o&&i.prev().addClass(`${n.bulletActiveClass}-prev`).prev().addClass(`${n.bulletActiveClass}-prev-prev`),r===a&&i.next().addClass(`${n.bulletActiveClass}-next`).next().addClass(`${n.bulletActiveClass}-next-next`))});else{const e=i.eq(s),r=e.index();if(e.addClass(n.bulletActiveClass),n.dynamicBullets){const e=i.eq(o),s=i.eq(a);for(let t=o;t<=a;t+=1)i.eq(t).addClass(`${n.bulletActiveClass}-main`);if(t.params.loop)if(r>=i.length-n.dynamicMainBullets){for(let t=n.dynamicMainBullets;t>=0;t-=1)i.eq(i.length-t).addClass(`${n.bulletActiveClass}-main`);i.eq(i.length-n.dynamicMainBullets-1).addClass(`${n.bulletActiveClass}-prev`)}else e.prev().addClass(`${n.bulletActiveClass}-prev`).prev().addClass(`${n.bulletActiveClass}-prev-prev`),s.next().addClass(`${n.bulletActiveClass}-next`).next().addClass(`${n.bulletActiveClass}-next-next`);else e.prev().addClass(`${n.bulletActiveClass}-prev`).prev().addClass(`${n.bulletActiveClass}-prev-prev`),s.next().addClass(`${n.bulletActiveClass}-next`).next().addClass(`${n.bulletActiveClass}-next-next`)}}if(n.dynamicBullets){const r=Math.min(i.length,n.dynamicMainBullets+4),s=(t.pagination.bulletSize*r-t.pagination.bulletSize)/2-c*t.pagination.bulletSize,o=e?"right":"left";i.css(t.isHorizontal()?o:"top",`${s}px`)}}if("fraction"===n.type&&(r.find(`.${n.currentClass}`).text(n.formatFractionCurrent(s+1)),r.find(`.${n.totalClass}`).text(n.formatFractionTotal(o))),"progressbar"===n.type){let e;e=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const i=(s+1)/o;let a=1,c=1;"horizontal"===e?a=i:c=i,r.find(`.${n.progressbarFillClass}`).transform(`translate3d(0,0,0) scaleX(${a}) scaleY(${c})`).transition(t.params.speed)}"custom"===n.type&&n.renderCustom?(r.html(n.renderCustom(t,s+1,o)),t.emit("paginationRender",t,r[0])):t.emit("paginationUpdate",t,r[0]),r[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](n.lockClass)},render(){const t=this,e=t.params.pagination;if(!e.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length)return;const n=t.pagination.$el;let i="";if("bullets"===e.type){const r=t.params.loop?Math.ceil(((t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length)-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;for(let n=0;n<r;n+=1)i+=e.renderBullet?e.renderBullet.call(t,n,e.bulletClass):`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;n.html(i),t.pagination.bullets=n.find(`.${e.bulletClass}`)}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`,n.html(i)),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`,n.html(i)),"custom"!==e.type&&t.emit("paginationRender",t.pagination.$el[0])},init(){const t=this,e=t.params.pagination;if(!e.el)return;let n=he(e.el);0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&n.length>1&&(n=t.$el.find(e.el)),"bullets"===e.type&&e.clickable&&n.addClass(e.clickableClass),n.addClass(e.modifierClass+e.type),"bullets"===e.type&&e.dynamicBullets&&(n.addClass(`${e.modifierClass}${e.type}-dynamic`),t.pagination.dynamicBulletIndex=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.addClass(e.progressbarOppositeClass),e.clickable&&n.on("click",`.${e.bulletClass}`,function(e){e.preventDefault();let n=he(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)}),fe.extend(t.pagination,{$el:n,el:n[0]}))},destroy(){const t=this.params.pagination;if(!t.el||!this.pagination.el||!this.pagination.$el||0===this.pagination.$el.length)return;const e=this.pagination.$el;e.removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),this.pagination.bullets&&this.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click",`.${t.bulletClass}`)}},Ye={setTranslate(){if(!this.params.scrollbar.el||!this.scrollbar.el)return;const{scrollbar:t,rtlTranslate:e,progress:n}=this,{dragSize:i,trackSize:r,$dragEl:s,$el:o}=t,a=this.params.scrollbar;let c=i,u=(r-i)*n;e?(u=-u,u>0?(c=i-u,u=0):-u+i>r&&(c=r+u)):u<0?(c=i+u,u=0):u+i>r&&(c=r-u),this.isHorizontal()?(s.transform(`translate3d(${u}px, 0, 0)`),s[0].style.width=`${c}px`):(s.transform(`translate3d(0px, ${u}px, 0)`),s[0].style.height=`${c}px`),a.hide&&(clearTimeout(this.scrollbar.timeout),o[0].style.opacity=1,this.scrollbar.timeout=setTimeout(()=>{o[0].style.opacity=0,o.transition(400)},1e3))},setTransition(t){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(t)},updateSize(){if(!this.params.scrollbar.el||!this.scrollbar.el)return;const{scrollbar:t}=this,{$dragEl:e,$el:n}=t;e[0].style.width="",e[0].style.height="";const i=this.isHorizontal()?n[0].offsetWidth:n[0].offsetHeight,r=this.size/this.virtualSize,s=r*(i/this.size);let o;o="auto"===this.params.scrollbar.dragSize?i*r:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?e[0].style.width=`${o}px`:e[0].style.height=`${o}px`,n[0].style.display=r>=1?"none":"",this.params.scrollbar.hide&&(n[0].style.opacity=0),fe.extend(t,{trackSize:i,divider:r,moveDivider:s,dragSize:o}),t.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)},getPointerPosition(t){return this.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientX:t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientY:t.clientY},setDragPosition(t){const{scrollbar:e,rtlTranslate:n}=this,{$el:i,dragSize:r,trackSize:s,dragStartPos:o}=e;let a;a=(e.getPointerPosition(t)-i.offset()[this.isHorizontal()?"left":"top"]-(null!==o?o:r/2))/(s-r),a=Math.max(Math.min(a,1),0),n&&(a=1-a);const c=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*a;this.updateProgress(c),this.setTranslate(c),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart(t){const e=this.params.scrollbar,{scrollbar:n,$wrapperEl:i}=this,{$el:r,$dragEl:s}=n;this.scrollbar.isTouched=!0,this.scrollbar.dragStartPos=t.target===s[0]||t.target===s?n.getPointerPosition(t)-t.target.getBoundingClientRect()[this.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),i.transition(100),s.transition(100),n.setDragPosition(t),clearTimeout(this.scrollbar.dragTimeout),r.transition(0),e.hide&&r.css("opacity",1),this.params.cssMode&&this.$wrapperEl.css("scroll-snap-type","none"),this.emit("scrollbarDragStart",t)},onDragMove(t){const{scrollbar:e,$wrapperEl:n}=this,{$el:i,$dragEl:r}=e;this.scrollbar.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),n.transition(0),i.transition(0),r.transition(0),this.emit("scrollbarDragMove",t))},onDragEnd(t){const e=this.params.scrollbar,{scrollbar:n,$wrapperEl:i}=this,{$el:r}=n;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,this.params.cssMode&&(this.$wrapperEl.css("scroll-snap-type",""),i.transition("")),e.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=fe.nextTick(()=>{r.css("opacity",0),r.transition(400)},1e3)),this.emit("scrollbarDragEnd",t),e.snapOnRelease&&this.slideToClosest())},enableDraggable(){if(!this.params.scrollbar.el)return;const{scrollbar:t,touchEventsTouch:e,touchEventsDesktop:n,params:i}=this,r=t.$el[0],s=!(!_e.passiveListener||!i.passiveListeners)&&{passive:!1,capture:!1},o=!(!_e.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};_e.touch?(r.addEventListener(e.start,this.scrollbar.onDragStart,s),r.addEventListener(e.move,this.scrollbar.onDragMove,s),r.addEventListener(e.end,this.scrollbar.onDragEnd,o)):(r.addEventListener(n.start,this.scrollbar.onDragStart,s),ae.addEventListener(n.move,this.scrollbar.onDragMove,s),ae.addEventListener(n.end,this.scrollbar.onDragEnd,o))},disableDraggable(){if(!this.params.scrollbar.el)return;const{scrollbar:t,touchEventsTouch:e,touchEventsDesktop:n,params:i}=this,r=t.$el[0],s=!(!_e.passiveListener||!i.passiveListeners)&&{passive:!1,capture:!1},o=!(!_e.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};_e.touch?(r.removeEventListener(e.start,this.scrollbar.onDragStart,s),r.removeEventListener(e.move,this.scrollbar.onDragMove,s),r.removeEventListener(e.end,this.scrollbar.onDragEnd,o)):(r.removeEventListener(n.start,this.scrollbar.onDragStart,s),ae.removeEventListener(n.move,this.scrollbar.onDragMove,s),ae.removeEventListener(n.end,this.scrollbar.onDragEnd,o))},init(){if(!this.params.scrollbar.el)return;const{scrollbar:t,$el:e}=this,n=this.params.scrollbar;let i=he(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&i.length>1&&1===e.find(n.el).length&&(i=e.find(n.el));let r=i.find(`.${this.params.scrollbar.dragClass}`);0===r.length&&(r=he(`<div class="${this.params.scrollbar.dragClass}"></div>`),i.append(r)),fe.extend(t,{$el:i,el:i[0],$dragEl:r,dragEl:r[0]}),n.draggable&&t.enableDraggable()},destroy(){this.scrollbar.disableDraggable()}},Xe={setTransform(t,e){const{rtl:n}=this,i=he(t),r=n?-1:1,s=i.attr("data-swiper-parallax")||"0";let o=i.attr("data-swiper-parallax-x"),a=i.attr("data-swiper-parallax-y");const c=i.attr("data-swiper-parallax-scale"),u=i.attr("data-swiper-parallax-opacity");if(o||a?(o=o||"0",a=a||"0"):this.isHorizontal()?(o=s,a="0"):(a=s,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*e*r+"%":o*e*r+"px",a=a.indexOf("%")>=0?parseInt(a,10)*e+"%":a*e+"px",null!=u){const t=u-(u-1)*(1-Math.abs(e));i[0].style.opacity=t}if(null==c)i.transform(`translate3d(${o}, ${a}, 0px)`);else{const t=c-(c-1)*(1-Math.abs(e));i.transform(`translate3d(${o}, ${a}, 0px) scale(${t})`)}},setTranslate(){const t=this,{$el:e,slides:n,progress:i,snapGrid:r}=t;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e,n)=>{t.parallax.setTransform(n,i)}),n.each((e,n)=>{let s=n.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(s+=Math.ceil(e/2)-i*(r.length-1)),s=Math.min(Math.max(s,-1),1),he(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e,n)=>{t.parallax.setTransform(n,s)})})},setTransition(t=this.params.speed){const{$el:e}=this;e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e,n)=>{const i=he(n);let r=parseInt(i.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),i.transition(r)})}},Ze={getDistanceBetweenTouches:t=>t.targetTouches.length<2?1:Math.sqrt((t.targetTouches[1].pageX-t.targetTouches[0].pageX)**2+(t.targetTouches[1].pageY-t.targetTouches[0].pageY)**2),onGestureStart(t){const e=this.params.zoom,n=this.zoom,{gesture:i}=n;if(n.fakeGestureTouched=!1,n.fakeGestureMoved=!1,!_e.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.fakeGestureTouched=!0,i.scaleStart=Ze.getDistanceBetweenTouches(t)}i.$slideEl&&i.$slideEl.length||(i.$slideEl=he(t.target).closest(`.${this.params.slideClass}`),0===i.$slideEl.length&&(i.$slideEl=this.slides.eq(this.activeIndex)),i.$imageEl=i.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),i.$imageWrapEl=i.$imageEl.parent(`.${e.containerClass}`),i.maxRatio=i.$imageWrapEl.attr("data-swiper-zoom")||e.maxRatio,0!==i.$imageWrapEl.length)?(i.$imageEl&&i.$imageEl.transition(0),this.zoom.isScaling=!0):i.$imageEl=void 0},onGestureChange(t){const e=this.params.zoom,n=this.zoom,{gesture:i}=n;if(!_e.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;n.fakeGestureMoved=!0,i.scaleMove=Ze.getDistanceBetweenTouches(t)}i.$imageEl&&0!==i.$imageEl.length&&(n.scale=_e.gestures?t.scale*n.currentScale:i.scaleMove/i.scaleStart*n.currentScale,n.scale>i.maxRatio&&(n.scale=i.maxRatio-1+(n.scale-i.maxRatio+1)**.5),n.scale<e.minRatio&&(n.scale=e.minRatio+1-(e.minRatio-n.scale+1)**.5),i.$imageEl.transform(`translate3d(0,0,0) scale(${n.scale})`))},onGestureEnd(t){const e=this.params.zoom,n=this.zoom,{gesture:i}=n;if(!_e.gestures){if(!n.fakeGestureTouched||!n.fakeGestureMoved)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!Se.android)return;n.fakeGestureTouched=!1,n.fakeGestureMoved=!1}i.$imageEl&&0!==i.$imageEl.length&&(n.scale=Math.max(Math.min(n.scale,i.maxRatio),e.minRatio),i.$imageEl.transition(this.params.speed).transform(`translate3d(0,0,0) scale(${n.scale})`),n.currentScale=n.scale,n.isScaling=!1,1===n.scale&&(i.$slideEl=void 0))},onTouchStart(t){const e=this.zoom,{gesture:n,image:i}=e;n.$imageEl&&0!==n.$imageEl.length&&(i.isTouched||(Se.android&&t.cancelable&&t.preventDefault(),i.isTouched=!0,i.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove(t){const e=this,n=e.zoom,{gesture:i,image:r,velocity:s}=n;if(!i.$imageEl||0===i.$imageEl.length)return;if(e.allowClick=!1,!r.isTouched||!i.$slideEl)return;r.isMoved||(r.width=i.$imageEl[0].offsetWidth,r.height=i.$imageEl[0].offsetHeight,r.startX=fe.getTranslate(i.$imageWrapEl[0],"x")||0,r.startY=fe.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),e.rtl&&(r.startX=-r.startX,r.startY=-r.startY));const o=r.width*n.scale,a=r.height*n.scale;if(!(o<i.slideWidth&&a<i.slideHeight)){if(r.minX=Math.min(i.slideWidth/2-o/2,0),r.maxX=-r.minX,r.minY=Math.min(i.slideHeight/2-a/2,0),r.maxY=-r.minY,r.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,r.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!r.isMoved&&!n.isScaling){if(e.isHorizontal()&&(Math.floor(r.minX)===Math.floor(r.startX)&&r.touchesCurrent.x<r.touchesStart.x||Math.floor(r.maxX)===Math.floor(r.startX)&&r.touchesCurrent.x>r.touchesStart.x))return void(r.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(r.minY)===Math.floor(r.startY)&&r.touchesCurrent.y<r.touchesStart.y||Math.floor(r.maxY)===Math.floor(r.startY)&&r.touchesCurrent.y>r.touchesStart.y))return void(r.isTouched=!1)}t.cancelable&&t.preventDefault(),t.stopPropagation(),r.isMoved=!0,r.currentX=r.touchesCurrent.x-r.touchesStart.x+r.startX,r.currentY=r.touchesCurrent.y-r.touchesStart.y+r.startY,r.currentX<r.minX&&(r.currentX=r.minX+1-(r.minX-r.currentX+1)**.8),r.currentX>r.maxX&&(r.currentX=r.maxX-1+(r.currentX-r.maxX+1)**.8),r.currentY<r.minY&&(r.currentY=r.minY+1-(r.minY-r.currentY+1)**.8),r.currentY>r.maxY&&(r.currentY=r.maxY-1+(r.currentY-r.maxY+1)**.8),s.prevPositionX||(s.prevPositionX=r.touchesCurrent.x),s.prevPositionY||(s.prevPositionY=r.touchesCurrent.y),s.prevTime||(s.prevTime=Date.now()),s.x=(r.touchesCurrent.x-s.prevPositionX)/(Date.now()-s.prevTime)/2,s.y=(r.touchesCurrent.y-s.prevPositionY)/(Date.now()-s.prevTime)/2,Math.abs(r.touchesCurrent.x-s.prevPositionX)<2&&(s.x=0),Math.abs(r.touchesCurrent.y-s.prevPositionY)<2&&(s.y=0),s.prevPositionX=r.touchesCurrent.x,s.prevPositionY=r.touchesCurrent.y,s.prevTime=Date.now(),i.$imageWrapEl.transform(`translate3d(${r.currentX}px, ${r.currentY}px,0)`)}},onTouchEnd(){const t=this.zoom,{gesture:e,image:n,velocity:i}=t;if(!e.$imageEl||0===e.$imageEl.length)return;if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;let r=300,s=300;const o=n.currentX+i.x*r,a=n.currentY+i.y*s;0!==i.x&&(r=Math.abs((o-n.currentX)/i.x)),0!==i.y&&(s=Math.abs((a-n.currentY)/i.y));const c=Math.max(r,s);n.currentX=o,n.currentY=a;const u=n.height*t.scale;n.minX=Math.min(e.slideWidth/2-n.width*t.scale/2,0),n.maxX=-n.minX,n.minY=Math.min(e.slideHeight/2-u/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),e.$imageWrapEl.transition(c).transform(`translate3d(${n.currentX}px, ${n.currentY}px,0)`)},onTransitionEnd(){const t=this.zoom,{gesture:e}=t;e.$slideEl&&this.previousIndex!==this.activeIndex&&(e.$imageEl&&e.$imageEl.transform("translate3d(0,0,0) scale(1)"),e.$imageWrapEl&&e.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,e.$slideEl=void 0,e.$imageEl=void 0,e.$imageWrapEl=void 0)},toggle(t){const e=this.zoom;e.scale&&1!==e.scale?e.out():e.in(t)},in(t){const e=this.zoom,n=this.params.zoom,{gesture:i,image:r}=e;if(i.$slideEl||(i.$slideEl=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.$wrapperEl.children(`.${this.params.slideActiveClass}`):this.slides.eq(this.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),i.$imageWrapEl=i.$imageEl.parent(`.${n.containerClass}`)),!i.$imageEl||0===i.$imageEl.length)return;let s,o,a,c,u,l,h,d,p,f,_,g,m,v,y,b,E,O;i.$slideEl.addClass(`${n.zoomedSlideClass}`),void 0===r.touchesStart.x&&t?(s="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,o="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(s=r.touchesStart.x,o=r.touchesStart.y),e.scale=i.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,e.currentScale=i.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,t?(E=i.$slideEl[0].offsetWidth,O=i.$slideEl[0].offsetHeight,a=i.$slideEl.offset().left,c=i.$slideEl.offset().top,u=a+E/2-s,l=c+O/2-o,p=i.$imageEl[0].offsetWidth,f=i.$imageEl[0].offsetHeight,_=p*e.scale,g=f*e.scale,m=Math.min(E/2-_/2,0),v=Math.min(O/2-g/2,0),y=-m,b=-v,h=u*e.scale,d=l*e.scale,h<m&&(h=m),h>y&&(h=y),d<v&&(d=v),d>b&&(d=b)):(h=0,d=0),i.$imageWrapEl.transition(300).transform(`translate3d(${h}px, ${d}px,0)`),i.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${e.scale})`)},out(){const t=this.zoom,e=this.params.zoom,{gesture:n}=t;n.$slideEl||(n.$slideEl=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.$wrapperEl.children(`.${this.params.slideActiveClass}`):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),n.$imageWrapEl=n.$imageEl.parent(`.${e.containerClass}`)),n.$imageEl&&0!==n.$imageEl.length&&(t.scale=1,t.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(`${e.zoomedSlideClass}`),n.$slideEl=void 0)},enable(){const t=this.zoom;if(t.enabled)return;t.enabled=!0;const e=!("touchstart"!==this.touchEvents.start||!_e.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},n=!_e.passiveListener||{passive:!1,capture:!0},i=`.${this.params.slideClass}`;_e.gestures?(this.$wrapperEl.on("gesturestart",i,t.onGestureStart,e),this.$wrapperEl.on("gesturechange",i,t.onGestureChange,e),this.$wrapperEl.on("gestureend",i,t.onGestureEnd,e)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,i,t.onGestureStart,e),this.$wrapperEl.on(this.touchEvents.move,i,t.onGestureChange,n),this.$wrapperEl.on(this.touchEvents.end,i,t.onGestureEnd,e),this.touchEvents.cancel&&this.$wrapperEl.on(this.touchEvents.cancel,i,t.onGestureEnd,e)),this.$wrapperEl.on(this.touchEvents.move,`.${this.params.zoom.containerClass}`,t.onTouchMove,n)},disable(){const t=this.zoom;if(!t.enabled)return;this.zoom.enabled=!1;const e=!("touchstart"!==this.touchEvents.start||!_e.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},n=!_e.passiveListener||{passive:!1,capture:!0},i=`.${this.params.slideClass}`;_e.gestures?(this.$wrapperEl.off("gesturestart",i,t.onGestureStart,e),this.$wrapperEl.off("gesturechange",i,t.onGestureChange,e),this.$wrapperEl.off("gestureend",i,t.onGestureEnd,e)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,i,t.onGestureStart,e),this.$wrapperEl.off(this.touchEvents.move,i,t.onGestureChange,n),this.$wrapperEl.off(this.touchEvents.end,i,t.onGestureEnd,e),this.touchEvents.cancel&&this.$wrapperEl.off(this.touchEvents.cancel,i,t.onGestureEnd,e)),this.$wrapperEl.off(this.touchEvents.move,`.${this.params.zoom.containerClass}`,t.onTouchMove,n)}},Je={loadInSlide(t,e=!0){const n=this,i=n.params.lazy;if(void 0===t)return;if(0===n.slides.length)return;const r=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children(`.${n.params.slideClass}[data-swiper-slide-index="${t}"]`):n.slides.eq(t);let s=r.find(`.${i.elementClass}:not(.${i.loadedClass}):not(.${i.loadingClass})`);!r.hasClass(i.elementClass)||r.hasClass(i.loadedClass)||r.hasClass(i.loadingClass)||(s=s.add(r[0])),0!==s.length&&s.each((t,s)=>{const o=he(s);o.addClass(i.loadingClass);const a=o.attr("data-background"),c=o.attr("data-src"),u=o.attr("data-srcset"),l=o.attr("data-sizes"),h=o.parent("picture");n.loadImage(o[0],c||a,u,l,!1,()=>{if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(a?(o.css("background-image",`url("${a}")`),o.removeAttr("data-background")):(u&&(o.attr("srcset",u),o.removeAttr("data-srcset")),l&&(o.attr("sizes",l),o.removeAttr("data-sizes")),h.length&&h.children("source").each((t,e)=>{const n=he(e);n.attr("data-srcset")&&(n.attr("srcset",n.attr("data-srcset")),n.removeAttr("data-srcset"))}),c&&(o.attr("src",c),o.removeAttr("data-src"))),o.addClass(i.loadedClass).removeClass(i.loadingClass),r.find(`.${i.preloaderClass}`).remove(),n.params.loop&&e){const t=r.attr("data-swiper-slide-index");if(r.hasClass(n.params.slideDuplicateClass)){const e=n.$wrapperEl.children(`[data-swiper-slide-index="${t}"]:not(.${n.params.slideDuplicateClass})`);n.lazy.loadInSlide(e.index(),!1)}else{const e=n.$wrapperEl.children(`.${n.params.slideDuplicateClass}[data-swiper-slide-index="${t}"]`);n.lazy.loadInSlide(e.index(),!1)}}n.emit("lazyImageReady",r[0],o[0]),n.params.autoHeight&&n.updateAutoHeight()}}),n.emit("lazyImageLoad",r[0],o[0])})},load(){const t=this,{$wrapperEl:e,params:n,slides:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,o=n.lazy;let a=n.slidesPerView;function c(t){if(s){if(e.children(`.${n.slideClass}[data-swiper-slide-index="${t}"]`).length)return!0}else if(i[t])return!0;return!1}function u(t){return s?he(t).attr("data-swiper-slide-index"):he(t).index()}if("auto"===a&&(a=0),t.lazy.initialImageLoaded||(t.lazy.initialImageLoaded=!0),t.params.watchSlidesVisibility)e.children(`.${n.slideVisibleClass}`).each((e,n)=>{const i=s?he(n).attr("data-swiper-slide-index"):he(n).index();t.lazy.loadInSlide(i)});else if(a>1)for(let l=r;l<r+a;l+=1)c(l)&&t.lazy.loadInSlide(l);else t.lazy.loadInSlide(r);if(o.loadPrevNext)if(a>1||o.loadPrevNextAmount&&o.loadPrevNextAmount>1){const e=o.loadPrevNextAmount,n=a,s=Math.min(r+n+Math.max(e,n),i.length),u=Math.max(r-Math.max(n,e),0);for(let i=r+a;i<s;i+=1)c(i)&&t.lazy.loadInSlide(i);for(let i=u;i<r;i+=1)c(i)&&t.lazy.loadInSlide(i)}else{const i=e.children(`.${n.slideNextClass}`);i.length>0&&t.lazy.loadInSlide(u(i));const r=e.children(`.${n.slidePrevClass}`);r.length>0&&t.lazy.loadInSlide(u(r))}}},tn={LinearSpline:function(t,e){const n=function(){let t,e,n;return(i,r)=>{for(e=-1,t=i.length;t-e>1;)n=t+e>>1,i[n]<=r?e=n:t=n;return t}}();let i,r;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(r=n(this.x,t),i=r-1,(t-this.x[i])*(this.y[r]-this.y[i])/(this.x[r]-this.x[i])+this.y[i]):0},this},getInterpolateFunction(t){this.controller.spline||(this.controller.spline=this.params.loop?new tn.LinearSpline(this.slidesGrid,t.slidesGrid):new tn.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate(t,e){const n=this,i=n.controller.control;let r,s;function o(t){const e=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(n.controller.getInterpolateFunction(t),s=-n.controller.spline.interpolate(-e)),s&&"container"!==n.params.controller.by||(r=(t.maxTranslate()-t.minTranslate())/(n.maxTranslate()-n.minTranslate()),s=(e-n.minTranslate())*r+t.minTranslate()),n.params.controller.inverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setTranslate(s,n),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(i))for(let a=0;a<i.length;a+=1)i[a]!==e&&i[a]instanceof Le&&o(i[a]);else i instanceof Le&&e!==i&&o(i)},setTransition(t,e){const n=this,i=n.controller.control;let r;function s(e){e.setTransition(t,n),0!==t&&(e.transitionStart(),e.params.autoHeight&&fe.nextTick(()=>{e.updateAutoHeight()}),e.$wrapperEl.transitionEnd(()=>{i&&(e.params.loop&&"slide"===n.params.controller.by&&e.loopFix(),e.transitionEnd())}))}if(Array.isArray(i))for(r=0;r<i.length;r+=1)i[r]!==e&&i[r]instanceof Le&&s(i[r]);else i instanceof Le&&e!==i&&s(i)}},en={makeElFocusable:t=>(t.attr("tabIndex","0"),t),makeElNotFocusable:t=>(t.attr("tabIndex","-1"),t),addElRole:(t,e)=>(t.attr("role",e),t),addElLabel:(t,e)=>(t.attr("aria-label",e),t),disableEl:t=>(t.attr("aria-disabled",!0),t),enableEl:t=>(t.attr("aria-disabled",!1),t),onEnterKey(t){const e=this.params.a11y;if(13!==t.keyCode)return;const n=he(t.target);this.navigation&&this.navigation.$nextEl&&n.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.a11y.notify(this.isEnd?e.lastSlideMessage:e.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&n.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.a11y.notify(this.isBeginning?e.firstSlideMessage:e.prevSlideMessage)),this.pagination&&n.is(`.${this.params.pagination.bulletClass}`)&&n[0].click()},notify(t){const e=this.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},updateNavigation(){if(this.params.loop||!this.navigation)return;const{$nextEl:t,$prevEl:e}=this.navigation;e&&e.length>0&&(this.isBeginning?(this.a11y.disableEl(e),this.a11y.makeElNotFocusable(e)):(this.a11y.enableEl(e),this.a11y.makeElFocusable(e))),t&&t.length>0&&(this.isEnd?(this.a11y.disableEl(t),this.a11y.makeElNotFocusable(t)):(this.a11y.enableEl(t),this.a11y.makeElFocusable(t)))},updatePagination(){const t=this,e=t.params.a11y;t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.bullets.each((n,i)=>{const r=he(i);t.a11y.makeElFocusable(r),t.a11y.addElRole(r,"button"),t.a11y.addElLabel(r,e.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1))})},init(){this.$el.append(this.a11y.liveRegion);const t=this.params.a11y;let e,n;this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(n=this.navigation.$prevEl),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,t.nextSlideMessage),e.on("keydown",this.a11y.onEnterKey)),n&&(this.a11y.makeElFocusable(n),this.a11y.addElRole(n,"button"),this.a11y.addElLabel(n,t.prevSlideMessage),n.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown",`.${this.params.pagination.bulletClass}`,this.a11y.onEnterKey)},destroy(){let t,e;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(t=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(e=this.navigation.$prevEl),t&&t.off("keydown",this.a11y.onEnterKey),e&&e.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown",`.${this.params.pagination.bulletClass}`,this.a11y.onEnterKey)}},nn={init(){if(!this.params.history)return;if(!ue.history||!ue.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);const t=this.history;t.initialized=!0,t.paths=nn.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||ue.addEventListener("popstate",this.history.setHistoryPopState))},destroy(){this.params.history.replaceState||ue.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState(){this.history.paths=nn.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues(){const t=ue.location.pathname.slice(1).split("/").filter(t=>""!==t),e=t.length;return{key:t[e-2],value:t[e-1]}},setHistory(t,e){if(!this.history.initialized||!this.params.history.enabled)return;const n=this.slides.eq(e);let i=nn.slugify(n.attr("data-history"));ue.location.pathname.includes(t)||(i=`${t}/${i}`);const r=ue.history.state;r&&r.value===i||(this.params.history.replaceState?ue.history.replaceState({value:i},null,i):ue.history.pushState({value:i},null,i))},slugify:t=>t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),scrollToSlide(t,e,n){const i=this;if(e)for(let r=0,s=i.slides.length;r<s;r+=1){const s=i.slides.eq(r);if(nn.slugify(s.attr("data-history"))===e&&!s.hasClass(i.params.slideDuplicateClass)){const e=s.index();i.slideTo(e,t,n)}}else i.slideTo(0,t,n)}},rn={onHashCange(){const t=this;t.emit("hashChange");const e=ae.location.hash.replace("#","");if(e!==t.slides.eq(t.activeIndex).attr("data-hash")){const n=t.$wrapperEl.children(`.${t.params.slideClass}[data-hash="${e}"]`).index();if(void 0===n)return;t.slideTo(n)}},setHash(){const t=this;if(t.hashNavigation.initialized&&t.params.hashNavigation.enabled)if(t.params.hashNavigation.replaceState&&ue.history&&ue.history.replaceState)ue.history.replaceState(null,null,`#${t.slides.eq(t.activeIndex).attr("data-hash")}`||""),t.emit("hashSet");else{const e=t.slides.eq(t.activeIndex),n=e.attr("data-hash")||e.attr("data-history");ae.location.hash=n||"",t.emit("hashSet")}},init(){const t=this;if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;t.hashNavigation.initialized=!0;const e=ae.location.hash.replace("#","");if(e){const n=0;for(let i=0,r=t.slides.length;i<r;i+=1){const r=t.slides.eq(i);if((r.attr("data-hash")||r.attr("data-history"))===e&&!r.hasClass(t.params.slideDuplicateClass)){const e=r.index();t.slideTo(e,n,t.params.runCallbacksOnInit,!0)}}}t.params.hashNavigation.watchState&&he(ue).on("hashchange",t.hashNavigation.onHashCange)},destroy(){this.params.hashNavigation.watchState&&he(ue).off("hashchange",this.hashNavigation.onHashCange)}},sn={run(){const t=this,e=t.slides.eq(t.activeIndex);let n=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(n=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(t.autoplay.timeout),t.autoplay.timeout=fe.nextTick(()=>{t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")),t.params.cssMode&&t.autoplay.running&&t.autoplay.run()},n)},start(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause(t){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==t&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))}},on={setTranslate(){const t=this,{slides:e}=t;for(let n=0;n<e.length;n+=1){const e=t.slides.eq(n);let i=-e[0].swiperSlideOffset;t.params.virtualTranslate||(i-=t.translate);let r=0;t.isHorizontal()||(r=i,i=0);const s=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:s}).transform(`translate3d(${i}px, ${r}px, 0px)`)}},setTransition(t){const e=this,{slides:n,$wrapperEl:i}=e;if(n.transition(t),e.params.virtualTranslate&&0!==t){let t=!1;n.transitionEnd(()=>{if(t)return;if(!e||e.destroyed)return;t=!0,e.animating=!1;const n=["webkitTransitionEnd","transitionend"];for(let t=0;t<n.length;t+=1)i.trigger(n[t])})}}},an={setTranslate(){const{$el:t,$wrapperEl:e,slides:n,width:i,height:r,rtlTranslate:s,size:o}=this,a=this.params.cubeEffect,c=this.isHorizontal(),u=this.virtual&&this.params.virtual.enabled;let l,h=0;a.shadow&&(c?(l=e.find(".swiper-cube-shadow"),0===l.length&&(l=he('<div class="swiper-cube-shadow"></div>'),e.append(l)),l.css({height:`${i}px`})):(l=t.find(".swiper-cube-shadow"),0===l.length&&(l=he('<div class="swiper-cube-shadow"></div>'),t.append(l))));for(let d=0;d<n.length;d+=1){const t=n.eq(d);let e=d;u&&(e=parseInt(t.attr("data-swiper-slide-index"),10));let i=90*e,r=Math.floor(i/360);s&&(i=-i,r=Math.floor(-i/360));const l=Math.max(Math.min(t[0].progress,1),-1);let p=0,f=0,_=0;e%4==0?(p=4*-r*o,_=0):(e-1)%4==0?(p=0,_=4*-r*o):(e-2)%4==0?(p=o+4*r*o,_=o):(e-3)%4==0&&(p=-o,_=3*o+4*o*r),s&&(p=-p),c||(f=p,p=0);const g=`rotateX(${c?0:-i}deg) rotateY(${c?i:0}deg) translate3d(${p}px, ${f}px, ${_}px)`;if(l<=1&&l>-1&&(h=90*e+90*l,s&&(h=90*-e-90*l)),t.transform(g),a.slideShadows){let e=t.find(c?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),n=t.find(c?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===e.length&&(e=he(`<div class="swiper-slide-shadow-${c?"left":"top"}"></div>`),t.append(e)),0===n.length&&(n=he(`<div class="swiper-slide-shadow-${c?"right":"bottom"}"></div>`),t.append(n)),e.length&&(e[0].style.opacity=Math.max(-l,0)),n.length&&(n[0].style.opacity=Math.max(l,0))}}if(e.css({"-webkit-transform-origin":`50% 50% -${o/2}px`,"-moz-transform-origin":`50% 50% -${o/2}px`,"-ms-transform-origin":`50% 50% -${o/2}px`,"transform-origin":`50% 50% -${o/2}px`}),a.shadow)if(c)l.transform(`translate3d(0px, ${i/2+a.shadowOffset}px, ${-i/2}px) rotateX(90deg) rotateZ(0deg) scale(${a.shadowScale})`);else{const t=Math.abs(h)-90*Math.floor(Math.abs(h)/90),e=1.5-(Math.sin(2*t*Math.PI/360)/2+Math.cos(2*t*Math.PI/360)/2),n=a.shadowScale/e;l.transform(`scale3d(${a.shadowScale}, 1, ${n}) translate3d(0px, ${r/2+a.shadowOffset}px, ${-r/2/n}px) rotateX(-90deg)`)}e.transform(`translate3d(0px,0,${Ue.isSafari||Ue.isWebView?-o/2:0}px) rotateX(${this.isHorizontal()?0:h}deg) rotateY(${this.isHorizontal()?-h:0}deg)`)},setTransition(t){const{$el:e,slides:n}=this;n.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}},cn={setTranslate(){const t=this,{slides:e,rtlTranslate:n}=t;for(let i=0;i<e.length;i+=1){const r=e.eq(i);let s=r[0].progress;t.params.flipEffect.limitRotation&&(s=Math.max(Math.min(r[0].progress,1),-1));let o=-180*s,a=0,c=-r[0].swiperSlideOffset,u=0;if(t.isHorizontal()?n&&(o=-o):(u=c,c=0,a=-o,o=0),r[0].style.zIndex=-Math.abs(Math.round(s))+e.length,t.params.flipEffect.slideShadows){let e=t.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),n=t.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===e.length&&(e=he(`<div class="swiper-slide-shadow-${t.isHorizontal()?"left":"top"}"></div>`),r.append(e)),0===n.length&&(n=he(`<div class="swiper-slide-shadow-${t.isHorizontal()?"right":"bottom"}"></div>`),r.append(n)),e.length&&(e[0].style.opacity=Math.max(-s,0)),n.length&&(n[0].style.opacity=Math.max(s,0))}r.transform(`translate3d(${c}px, ${u}px, 0px) rotateX(${a}deg) rotateY(${o}deg)`)}},setTransition(t){const e=this,{slides:n,activeIndex:i,$wrapperEl:r}=e;if(n.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.virtualTranslate&&0!==t){let t=!1;n.eq(i).transitionEnd(function(){if(t)return;if(!e||e.destroyed)return;t=!0,e.animating=!1;const n=["webkitTransitionEnd","transitionend"];for(let t=0;t<n.length;t+=1)r.trigger(n[t])})}}},un={setTranslate(){const{width:t,height:e,slides:n,$wrapperEl:i,slidesSizesGrid:r}=this,s=this.params.coverflowEffect,o=this.isHorizontal(),a=this.translate,c=o?t/2-a:e/2-a,u=o?s.rotate:-s.rotate,l=s.depth;for(let h=0,d=n.length;h<d;h+=1){const t=n.eq(h),e=r[h],i=(c-t[0].swiperSlideOffset-e/2)/e*s.modifier;let a=o?u*i:0,d=o?0:u*i,p=-l*Math.abs(i),f=s.stretch;"string"==typeof f&&-1!==f.indexOf("%")&&(f=parseFloat(s.stretch)/100*e);let _=o?0:f*i,g=o?f*i:0,m=1-(1-s.scale)*Math.abs(i);if(Math.abs(g)<.001&&(g=0),Math.abs(_)<.001&&(_=0),Math.abs(p)<.001&&(p=0),Math.abs(a)<.001&&(a=0),Math.abs(d)<.001&&(d=0),Math.abs(m)<.001&&(m=0),t.transform(`translate3d(${g}px,${_}px,${p}px)  rotateX(${d}deg) rotateY(${a}deg) scale(${m})`),t[0].style.zIndex=1-Math.abs(Math.round(i)),s.slideShadows){let e=t.find(o?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),n=t.find(o?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===e.length&&(e=he(`<div class="swiper-slide-shadow-${o?"left":"top"}"></div>`),t.append(e)),0===n.length&&(n=he(`<div class="swiper-slide-shadow-${o?"right":"bottom"}"></div>`),t.append(n)),e.length&&(e[0].style.opacity=i>0?i:0),n.length&&(n[0].style.opacity=-i>0?-i:0)}}(_e.pointerEvents||_e.prefixedPointerEvents)&&(i[0].style.perspectiveOrigin=`${c}px 50%`)},setTransition(t){this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}},ln={init(){const{thumbs:t}=this.params,e=this.constructor;t.swiper instanceof e?(this.thumbs.swiper=t.swiper,fe.extend(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),fe.extend(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):fe.isObject(t.swiper)&&(this.thumbs.swiper=new e(fe.extend({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick)},onThumbClick(){const t=this,e=t.thumbs.swiper;if(!e)return;const n=e.clickedIndex,i=e.clickedSlide;if(i&&he(i).hasClass(t.params.thumbs.slideThumbActiveClass))return;if(null==n)return;let r;if(r=e.params.loop?parseInt(he(e.clickedSlide).attr("data-swiper-slide-index"),10):n,t.params.loop){let e=t.activeIndex;t.slides.eq(e).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,e=t.activeIndex);const n=t.slides.eq(e).prevAll(`[data-swiper-slide-index="${r}"]`).eq(0).index(),i=t.slides.eq(e).nextAll(`[data-swiper-slide-index="${r}"]`).eq(0).index();r=void 0===n?i:void 0===i?n:i-e<e-n?i:n}t.slideTo(r)},update(t){const e=this,n=e.thumbs.swiper;if(!n)return;const i="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView,r=e.params.thumbs.autoScrollOffset,s=r&&!n.params.loop;if(e.realIndex!==n.realIndex||s){let o,a,c=n.activeIndex;if(n.params.loop){n.slides.eq(c).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,c=n.activeIndex);const t=n.slides.eq(c).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),i=n.slides.eq(c).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();o=void 0===t?i:void 0===i?t:i-c==c-t?c:i-c<c-t?i:t,a=e.activeIndex>e.previousIndex?"next":"prev"}else o=e.realIndex,a=o>e.previousIndex?"next":"prev";s&&(o+="next"===a?r:-1*r),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(o)<0&&(n.params.centeredSlides?o=o>c?o-Math.floor(i/2)+1:o+Math.floor(i/2)-1:o>c&&(o=o-i+1),n.slideTo(o,t?0:void 0))}let o=1;const a=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(o=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(o=1),o=Math.floor(o),n.slides.removeClass(a),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(let c=0;c<o;c+=1)n.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+c}"]`).addClass(a);else for(let c=0;c<o;c+=1)n.slides.eq(e.realIndex+c).addClass(a)}},hn=[je,Ne,Be,Fe,Ve,Ge,ze,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create(){fe.extend(this,{mousewheel:{enabled:!1,enable:$e.enable.bind(this),disable:$e.disable.bind(this),handle:$e.handle.bind(this),handleMouseEnter:$e.handleMouseEnter.bind(this),handleMouseLeave:$e.handleMouseLeave.bind(this),animateSlider:$e.animateSlider.bind(this),releaseScroll:$e.releaseScroll.bind(this),lastScrollTime:fe.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[]}})},on:{init(){!this.params.mousewheel.enabled&&this.params.cssMode&&this.mousewheel.disable(),this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy(){this.params.cssMode&&this.mousewheel.enable(),this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create(){fe.extend(this,{navigation:{init:He.init.bind(this),update:He.update.bind(this),destroy:He.destroy.bind(this),onNextClick:He.onNextClick.bind(this),onPrevClick:He.onPrevClick.bind(this)}})},on:{init(){this.navigation.init(),this.navigation.update()},toEdge(){this.navigation.update()},fromEdge(){this.navigation.update()},destroy(){this.navigation.destroy()},click(t){const e=this,{$nextEl:n,$prevEl:i}=e.navigation;if(e.params.navigation.hideOnClick&&!he(t.target).is(i)&&!he(t.target).is(n)){let t;n?t=n.hasClass(e.params.navigation.hiddenClass):i&&(t=i.hasClass(e.params.navigation.hiddenClass)),e.emit(!0===t?"navigationShow":"navigationHide",e),n&&n.toggleClass(e.params.navigation.hiddenClass),i&&i.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create(){fe.extend(this,{pagination:{init:Qe.init.bind(this),render:Qe.render.bind(this),update:Qe.update.bind(this),destroy:Qe.destroy.bind(this),dynamicBulletIndex:0}})},on:{init(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange(){(this.params.loop||void 0===this.snapIndex)&&this.pagination.update()},snapIndexChange(){this.params.loop||this.pagination.update()},slidesLengthChange(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy(){this.pagination.destroy()},click(t){const e=this;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!he(t.target).hasClass(e.params.pagination.bulletClass)){const t=e.pagination.$el.hasClass(e.params.pagination.hiddenClass);e.emit(!0===t?"paginationShow":"paginationHide",e),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create(){fe.extend(this,{scrollbar:{init:Ye.init.bind(this),destroy:Ye.destroy.bind(this),updateSize:Ye.updateSize.bind(this),setTranslate:Ye.setTranslate.bind(this),setTransition:Ye.setTransition.bind(this),enableDraggable:Ye.enableDraggable.bind(this),disableDraggable:Ye.disableDraggable.bind(this),setDragPosition:Ye.setDragPosition.bind(this),getPointerPosition:Ye.getPointerPosition.bind(this),onDragStart:Ye.onDragStart.bind(this),onDragMove:Ye.onDragMove.bind(this),onDragEnd:Ye.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update(){this.scrollbar.updateSize()},resize(){this.scrollbar.updateSize()},observerUpdate(){this.scrollbar.updateSize()},setTranslate(){this.scrollbar.setTranslate()},setTransition(t){this.scrollbar.setTransition(t)},destroy(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create(){fe.extend(this,{parallax:{setTransform:Xe.setTransform.bind(this),setTranslate:Xe.setTranslate.bind(this),setTransition:Xe.setTransition.bind(this)}})},on:{beforeInit(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition(t){this.params.parallax.enabled&&this.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create(){const t=this,e={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(n=>{e[n]=Ze[n].bind(t)}),fe.extend(t,{zoom:e});let n=1;Object.defineProperty(t.zoom,"scale",{get:()=>n,set(e){n!==e&&t.emit("zoomChange",e,t.zoom.gesture.$imageEl?t.zoom.gesture.$imageEl[0]:void 0,t.zoom.gesture.$slideEl?t.zoom.gesture.$slideEl[0]:void 0),n=e}})},on:{init(){this.params.zoom.enabled&&this.zoom.enable()},destroy(){this.zoom.disable()},touchStart(t){this.zoom.enabled&&this.zoom.onTouchStart(t)},touchEnd(t){this.zoom.enabled&&this.zoom.onTouchEnd(t)},doubleTap(t){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(t)},transitionEnd(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()},slideChange(){this.zoom.enabled&&this.params.zoom.enabled&&this.params.cssMode&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create(){fe.extend(this,{lazy:{initialImageLoaded:!1,load:Je.load.bind(this),loadInSlide:Je.loadInSlide.bind(this)}})},on:{beforeInit(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove(){this.params.lazy.enabled&&this.lazy.load()},transitionStart(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()},slideChange(){this.params.lazy.enabled&&this.params.cssMode&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create(){fe.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:tn.getInterpolateFunction.bind(this),setTranslate:tn.setTranslate.bind(this),setTransition:tn.setTransition.bind(this)}})},on:{update(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate(t,e){this.controller.control&&this.controller.setTranslate(t,e)},setTransition(t,e){this.controller.control&&this.controller.setTransition(t,e)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create(){const t=this;fe.extend(t,{a11y:{liveRegion:he(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}}),Object.keys(en).forEach(e=>{t.a11y[e]=en[e].bind(t)})},on:{init(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create(){fe.extend(this,{history:{init:nn.init.bind(this),setHistory:nn.setHistory.bind(this),setHistoryPopState:nn.setHistoryPopState.bind(this),scrollToSlide:nn.scrollToSlide.bind(this),destroy:nn.destroy.bind(this)}})},on:{init(){this.params.history.enabled&&this.history.init()},destroy(){this.params.history.enabled&&this.history.destroy()},transitionEnd(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)},slideChange(){this.history.initialized&&this.params.cssMode&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create(){fe.extend(this,{hashNavigation:{initialized:!1,init:rn.init.bind(this),destroy:rn.destroy.bind(this),setHash:rn.setHash.bind(this),onHashCange:rn.onHashCange.bind(this)}})},on:{init(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd(){this.hashNavigation.initialized&&this.hashNavigation.setHash()},slideChange(){this.hashNavigation.initialized&&this.params.cssMode&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create(){const t=this;fe.extend(t,{autoplay:{running:!1,paused:!1,run:sn.run.bind(t),start:sn.start.bind(t),stop:sn.stop.bind(t),pause:sn.pause.bind(t),onVisibilityChange(){"hidden"===document.visibilityState&&t.autoplay.running&&t.autoplay.pause(),"visible"===document.visibilityState&&t.autoplay.paused&&(t.autoplay.run(),t.autoplay.paused=!1)},onTransitionEnd(e){t&&!t.destroyed&&t.$wrapperEl&&e.target===this&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}}})},on:{init(){this.params.autoplay.enabled&&(this.autoplay.start(),document.addEventListener("visibilitychange",this.autoplay.onVisibilityChange))},beforeTransitionStart(t,e){this.autoplay.running&&(e||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(t):this.autoplay.stop())},sliderFirstMove(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},touchEnd(){this.params.cssMode&&this.autoplay.paused&&!this.params.autoplay.disableOnInteraction&&this.autoplay.run()},destroy(){this.autoplay.running&&this.autoplay.stop(),document.removeEventListener("visibilitychange",this.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create(){fe.extend(this,{fadeEffect:{setTranslate:on.setTranslate.bind(this),setTransition:on.setTransition.bind(this)}})},on:{beforeInit(){if("fade"!==this.params.effect)return;this.classNames.push(`${this.params.containerModifierClass}fade`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};fe.extend(this.params,t),fe.extend(this.originalParams,t)},setTranslate(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition(t){"fade"===this.params.effect&&this.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create(){fe.extend(this,{cubeEffect:{setTranslate:an.setTranslate.bind(this),setTransition:an.setTransition.bind(this)}})},on:{beforeInit(){if("cube"!==this.params.effect)return;this.classNames.push(`${this.params.containerModifierClass}cube`),this.classNames.push(`${this.params.containerModifierClass}3d`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};fe.extend(this.params,t),fe.extend(this.originalParams,t)},setTranslate(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition(t){"cube"===this.params.effect&&this.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create(){fe.extend(this,{flipEffect:{setTranslate:cn.setTranslate.bind(this),setTransition:cn.setTransition.bind(this)}})},on:{beforeInit(){if("flip"!==this.params.effect)return;this.classNames.push(`${this.params.containerModifierClass}flip`),this.classNames.push(`${this.params.containerModifierClass}3d`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};fe.extend(this.params,t),fe.extend(this.originalParams,t)},setTranslate(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition(t){"flip"===this.params.effect&&this.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create(){fe.extend(this,{coverflowEffect:{setTranslate:un.setTranslate.bind(this),setTransition:un.setTransition.bind(this)}})},on:{beforeInit(){"coverflow"===this.params.effect&&(this.classNames.push(`${this.params.containerModifierClass}coverflow`),this.classNames.push(`${this.params.containerModifierClass}3d`),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition(t){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create(){fe.extend(this,{thumbs:{swiper:null,init:ln.init.bind(this),update:ln.update.bind(this),onThumbClick:ln.onThumbClick.bind(this)}})},on:{beforeInit(){const{thumbs:t}=this.params;t&&t.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange(){this.thumbs.swiper&&this.thumbs.update()},update(){this.thumbs.swiper&&this.thumbs.update()},resize(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate(){this.thumbs.swiper&&this.thumbs.update()},setTransition(t){const e=this.thumbs.swiper;e&&e.setTransition(t)},beforeDestroy(){const t=this.thumbs.swiper;t&&this.thumbs.swiperCreated&&t&&t.destroy()}}}];void 0===Le.use&&(Le.use=Le.Class.use,Le.installModule=Le.Class.installModule),Le.use(hn);var dn=Le;const pn=function(t){return{"swiper-container":t}},fn=["*"];let _n=(()=>{class t{constructor(t,e){this.elementRef=t,this.changeDetectorRef=e,this.slideCount=0,this.initialized=!1,this.shouldInitialize=!0}set initialize(t){this.shouldInitialize=!this.initialized&&t}ngAfterViewInit(){this.shouldInitialize&&this.setup()}setup(){this.swiper||(this.elementRef.nativeElement.querySelector&&(this.swiperWrapper=this.elementRef.nativeElement.querySelector(".swiper-wrapper"),this.slideCount=this.swiperWrapper.childElementCount,this.swiper=new dn(this.elementRef.nativeElement.querySelector("swiper > div"),this.config),this.changeDetectorRef.detectChanges()),this.shouldInitialize=!1)}ngAfterViewChecked(){this.shouldInitialize&&this.setup(),this.swiperWrapper&&this.slideCount!==this.swiperWrapper.childElementCount&&(this.slideCount=this.swiperWrapper.childElementCount,this.swiper.update())}ngOnDestroy(){this.swiper.destroy(!0,!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.h))},t.\u0275cmp=r.Kb({type:t,selectors:[["swiper"]],inputs:{initialize:"initialize",config:"config"},ngContentSelectors:fn,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(t,e){1&t&&(r.nc(),r.Vb(0,"div",0),r.mc(1),r.Ub()),2&t&&r.oc("ngClass",r.sc(1,pn,void 0===(null==e.config?null:e.config.containerModifierClass)))},directives:[s.j],styles:["[_nghost-%COMP%]{display:block}.swiper-container[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),t})(),gn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[s.b]]}),t})();const mn=["frameElement"],vn=["panElement"],yn=["zoomElement"],bn=["panzoomOverlay"],En=["*"];let On=(()=>{class t{constructor(t){this.zone=t,this.isDragging=!1,this.lastTick=0,this.isChrome=!1,this.willChangeNextFrame=!0,this.isMobile=!1,this.isFirstSync=!0,this.zoomLevelIsChanging=!1,this.dragFinishing=!1,this.onMouseWheel=t=>{if(!(t&&t.pageX&&t.pageY))return;let e=t.deltaY;if(this.config.zoomOnMouseWheel){if(this.animationParams)return;this.config.invertMouseWheel||(e=-e);const n=this.getFrameElementOffset(),i={x:t.pageX-n.left,y:t.pageY-n.top};this.lastClickPoint=i,this.config.freeMouseWheel?this.freeZoom(i,e):e<0?this.zoomInToPoint(i):e>0&&this.zoomOutFromPoint(i)}},this.onMousedown=t=>{if(!this.config.noDragFromElementClass||!this.isParentElement(this.config.noDragFromElementClass,t.srcElement))return t.button===this.dragMouseButton||"touchstart"===t.type?("touchstart"!==t.type&&t.preventDefault(),this.dragFinishing=!1,this.panVelocity=void 0,this.config.panOnClickDrag&&(this.previousPosition={x:t.pageX,y:t.pageY},this.lastMouseEventTime=t.timeStamp,this.isDragging=!0,this.model.isPanning=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.addEventListener("touchend",this.onTouchEnd,!1)),this.zone.runOutsideAngular(()=>document.addEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.addEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.addEventListener("mouseup",this.onMouseUp)))),!1):void 0},this.onTouchStart=t=>{if(1!==t.touches.length){const e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY;this.previousPosition={length:e*e+n*n}}this.onMousedown(t)},this.onMouseMove=t=>{let e;if(t&&t.pageX&&t.pageY)e=t;else{if("touchmove"!==t.type||!t.touches[0].pageX||!t.touches[0].pageY)return;e={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY}}const n=t.timeStamp,i=(n-this.lastMouseEventTime)/1e3;this.lastMouseEventTime=n;const r={x:e.pageX-this.previousPosition.x,y:e.pageY-this.previousPosition.y};if(this.config.keepInBounds){const t=this.getViewPosition({x:0,y:0}),e=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});t.x>0&&r.x>0&&(r.x*=Math.min(1,Math.pow(t.x,-this.config.keepInBoundsDragPullback))),t.y>0&&r.y>0&&(r.y*=Math.min(1,Math.pow(t.y,-this.config.keepInBoundsDragPullback))),e.x<this.contentWidth&&r.x<0&&(r.x*=Math.min(1,Math.pow(this.contentWidth-e.x,-this.config.keepInBoundsDragPullback))),e.y<this.contentHeight&&r.y<0&&(r.y*=Math.min(1,Math.pow(this.contentHeight-e.y,-this.config.keepInBoundsDragPullback)))}const s=r.y||0;this.model.pan.x+=r.x||0,this.model.pan.y+=s,this.syncBaseToModel(),this.animationTick(),this.model.isPanning||(this.panzoomOverlayRef.nativeElement.style.display="block"),this.model.isPanning=!0;const o=r.x/i,a=r.y/i;this.panVelocity={x:Number.isFinite(o)?o:0,y:Number.isFinite(a)?a:0},this.previousPosition={x:e.pageX,y:e.pageY}},this.onTouchMove=t=>{if(1===t.touches.length)this.onMouseMove(t);else{const e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=e*e+n*n,r=i-this.previousPosition.length;if(Math.abs(r)<100)return;const s=t.touches[1].pageX+e/2,o=t.touches[1].pageY+n/2,a=this.getFrameElementOffset(),c={x:s-a.left,y:o-a.top};this.lastClickPoint=c,this.changeZoomLevel(this.base.zoomLevel+1e-4*r,c),this.previousPosition={length:i}}},this.onMouseUp=t=>{if(t.button!==this.dragMouseButton&&"touchend"!==t.type)return;"touchend"!==t.type&&t.preventDefault();const e=(t.timeStamp-this.lastMouseEventTime)/1e3;if(!this.panVelocity||0===this.panVelocity.x&&0===this.panVelocity.y)this.panVelocity=void 0,this.dragFinishing=!1,this.model.isPanning=!1,this.config.modelChanged.next(this.model),this.syncBaseToModel();else{const t=Math.max(0,-.2+Math.pow(e+1,-4));this.panVelocity.x*=t,this.panVelocity.y*=t,this.dragFinishing=!0,this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}this.isDragging=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.removeEventListener("touchend",this.onTouchEnd)),this.zone.runOutsideAngular(()=>document.removeEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.removeEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.removeEventListener("mouseup",this.onMouseUp,{passive:!0}))),this.panzoomOverlayRef.nativeElement.style.display="none"},this.onTouchEnd=t=>{this.onMouseUp(t)},this.onDblClick=t=>{if(t.preventDefault(),!this.config.zoomOnDoubleClick)return;const e=this.getFrameElementOffset(),n={x:t.pageX-e.left,y:t.pageY-e.top};this.lastClickPoint=n,this.zoomInToPoint(n)},this.preventDefault=t=>{t.preventDefault()},this.animationTick=(t=performance.now())=>{let e=0;if(0!==this.lastTick&&(e=t-this.lastTick),this.lastTick=t,this.animationParams&&(this.animationParams.progress+=Math.abs(e/this.animationParams.duration),this.animationParams.progress>=1&&(this.animationParams.progress=1,this.updateDOM(),this.animationParams=void 0)),this.panVelocity&&this.dragFinishing)for(e>0&&(e/=1e3);e>0;){const t=Math.min(.02,e);if(e-=t,this.model.pan.x=this.model.pan.x+this.panVelocity.x*t,this.panVelocity.x=this.panVelocity.x*(1-this.config.friction*t),this.model.pan.y=this.model.pan.y+this.panVelocity.y*t,this.panVelocity.y=this.panVelocity.y*(1-this.config.friction*t),this.length(this.panVelocity)<=this.config.haltSpeed){this.panVelocity=void 0,this.dragFinishing=!1;break}}if(this.config.keepInBounds||this.dragFinishing){const t=this.getViewPosition({x:0,y:0}),e=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});t.x>0&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*t.x),t.y>0&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*t.y),e.x<this.contentWidth&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*(e.x-this.contentWidth)),e.y<this.contentHeight&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*(e.y-this.contentHeight))}if(this.updateDOM(),this.config.modelChanged.next(this.model),this.animationParams||this.panVelocity&&this.dragFinishing)this.isChrome&&this.zoomLevelIsChanging&&(this.zoomElementRef.nativeElement.style.willChange=this.willChangeNextFrame?"auto":"transform",this.willChangeNextFrame=!this.willChangeNextFrame),this.animationFrameFunc(this.animationTick);else{if(this.panVelocity&&!this.dragFinishing)return;this.model.isPanning&&(this.model.isPanning=!1),this.syncBaseToModel(),this.config.modelChanged.next(this.model),this.scale=this.getCssScale(this.base.zoomLevel),this.willChangeNextFrame=!0,this.zoomElementRef.nativeElement.style.willChange="transform",this.zoomLevelIsChanging=!1,this.lastTick=0}}}ngOnInit(){switch(this.base=this.config.initialZoomToFit?this.calcZoomToFit(this.config.initialZoomToFit):{zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}},this.model={zoomLevel:this.base.zoomLevel,isPanning:!1,pan:{x:this.base.pan.x,y:this.base.pan.y}},this.config.modelChanged.next(this.model),this.api={model:this.model,config:this.config,changeZoomLevel:this.zoomToLevelAndPoint.bind(this),zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),zoomToFit:this.zoomToFit.bind(this),resetView:this.resetView.bind(this),getViewPosition:this.getViewPosition.bind(this),getModelPosition:this.getModelPosition.bind(this),panToPoint:this.panToPoint.bind(this),panDelta:this.panDelta.bind(this),panDeltaPercent:this.panDeltaPercent.bind(this),panDeltaAbsolute:this.panDeltaAbsolute.bind(this),centerContent:this.centerContent.bind(this),centerX:this.centerX.bind(this),centerY:this.centerY.bind(this),centerTopLeft:this.centerTopLeftCorner.bind(this),centerBottomLeft:this.centerBottomLeftCorner.bind(this),centerTopRight:this.centerTopRightCorner.bind(this),centerBottomRight:this.centerBottomRightCorner.bind(this),updateContentDimensions:this.updateContentDimensions.bind(this),detectContentDimensions:this.detectContentDimensions.bind(this)},this.config.api.next(this.api),this.config.freeMouseWheel&&(this.scale=this.getCssScale(this.config.initialZoomLevel),this.maxScale=this.getCssScale(this.config.zoomLevels-1),this.minScale=this.getCssScale(0)),this.minimumAllowedZoomLevel=0,this.config.keepInBounds&&(this.minimumAllowedZoomLevel=this.config.neutralZoomLevel,this.minScale=this.getCssScale(this.config.neutralZoomLevel)),this.zoomElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.zoomElementRef.nativeElement.style.transform="translateZ(0)"),this.config.acceleratePan&&(this.panElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.panElementRef.nativeElement.style.transform="translateZ(0)")),this.animationTick(),this.scale=this.getCssScale(this.base.zoomLevel),this.isFirstSync=!1,this.config.dragMouseButton){case"left":this.dragMouseButton=0;break;case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.addEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2;break;default:this.dragMouseButton=0}}ngAfterViewInit(){this.detectContentDimensions();const t=getComputedStyle(this.frameElementRef.nativeElement);this.frameHeight=parseInt(t.getPropertyValue("height").split("px")[0]),this.frameWidth=parseInt(t.getPropertyValue("width").split("px")[0]),this.zone.runOutsideAngular(()=>this.animationFrameFunc=window.requestAnimationFrame),this.config.dynamicContentDimensions&&(window.ResizeObserver?(this.resizeObserver=new window.ResizeObserver(t=>this.onContentDimensionsChangeDetected(t)),this.zone.runOutsideAngular(()=>this.resizeObserver.observe(this.zoomElementRef.nativeElement))):console.error("ResizeObserver API is not supported by this browser.  See https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver for info on browser compatibility.")),this.isMobileDevice()?(this.isMobile=!0,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("touchstart",this.onTouchStart))):this.zone.runOutsideAngular(()=>{this.frameElementRef.nativeElement.addEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.addEventListener("dblclick",this.onDblClick),this.frameElementRef.nativeElement.addEventListener("wheel",t=>this.animationFrameFunc(()=>this.onMouseWheel(t)),{passive:!0})})}ngOnDestroy(){switch(this.isMobile?this.frameElementRef.nativeElement.removeEventListener("touchstart",this.onTouchStart):(this.frameElementRef.nativeElement.removeEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.removeEventListener("wheel",t=>this.animationFrameFunc(()=>this.onMouseWheel(t)),{passive:!0}),this.frameElementRef.nativeElement.removeEventListener("dblclick",this.onDblClick)),this.animationFrameFunc&&this.animationId&&window.cancelAnimationFrame(this.animationId),this.resizeObserver&&this.resizeObserver.disconnect(),this.config.dragMouseButton){case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.removeEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.removeEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}isParentElement(t,e){let n=e.parentNode;for(;null!==n;){if(n.classList&&n.classList.contains(t))return!0;n=n.parentNode}return!1}updateDOM(){if(this.animationParams){this.model.zoomLevel=this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress;const t=this.animationParams.panStepFunc(this.model.zoomLevel);if(this.model.pan.x=this.base.pan.x+t.x,this.model.pan.y=this.base.pan.y+t.y,this.config.keepInBounds){const t=this.getViewPosition({x:0,y:0}),e=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});t.x>0&&(this.model.pan.x=0),t.y>0&&(this.model.pan.y=0),e.x<this.contentWidth&&(this.model.pan.x-=e.x-this.contentWidth),e.y<this.contentHeight&&(this.model.pan.y-=e.y-this.contentHeight)}}if(this.animationParams||this.isFirstSync){const t=this.getCssScale(this.model.zoomLevel);this.zoomElementRef.nativeElement.setAttribute("style",`transform-origin: 0 0; transform: scale(${t});`)}this.panElementRef.nativeElement.style.transform=`translate3d(${this.model.pan.x}px, ${this.model.pan.y}px, 0)`}freeZoom(t,e){if(this.isDragging)return;this.animationParams&&(this.animationParams=void 0),this.panVelocity&&(this.dragFinishing=!1,this.panVelocity=void 0);const n=this.model.pan.x,i=this.model.pan.y,r=this.scale;let s=this.scale+e*this.config.freeMouseWheelFactor*this.scale;s=Math.max(this.minScale,Math.min(this.maxScale,s)),this.scale=s;const o={x:t.x-s/r*(t.x-n),y:t.y-s/r*(t.y-i)};this.panElementRef.nativeElement.style.transform=`translate3d(${o.x}px, ${o.y}px, 0)`;let a=`transform-origin: 0 0; transform: scale(${this.scale});`;this.isChrome&&(a+=this.willChangeNextFrame?" will-change: auto;":" will-change: transform;",this.willChangeNextFrame=!this.willChangeNextFrame),this.zoomElementRef.nativeElement.setAttribute("style",a),this.model.pan.x=o.x,this.model.pan.y=o.y,this.model.zoomLevel=this.getZoomLevel(this.scale),this.config.modelChanged.next(this.model),this.syncBaseToModel()}isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}syncBaseToModel(){this.base.pan.x=this.model.pan.x,this.base.pan.y=this.model.pan.y,this.base.zoomLevel=this.model.zoomLevel}length(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getCentrePoint(){return{x:this.frameElementRef.nativeElement.offsetWidth/2,y:this.frameElementRef.nativeElement.offsetHeight/2}}getCssScale(t){return Math.pow(this.config.scalePerZoomLevel,t-this.config.neutralZoomLevel)}getZoomLevel(t){return Math.log10(t)/Math.log10(this.config.scalePerZoomLevel)+this.config.neutralZoomLevel}calcZoomToFit(t){const e=this.frameElementRef.nativeElement.offsetWidth,n=this.frameElementRef.nativeElement.offsetHeight,i=t.width,r=t.height,s=Math.min(e/i,n/r),o=this.getZoomLevel(s)*this.config.zoomToFitZoomLevelFactor,a=this.getCssScale(o);return{zoomLevel:o,pan:{x:-t.x*a+(e-i*a)/2,y:-t.y*a+(n-r*a)/2}}}zoomToFitModel(t,e){this.model.isPanning=!0,this.animateToTarget(t,e)}zoomToLevelAndPoint(t,e){this.changeZoomLevel(t,e)}zoomIn(t="lastPoint"){"lastPoint"===t?this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===t&&this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.getCentrePoint())}zoomOut(t="lastPoint"){"lastPoint"===t?this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===t&&this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.getCentrePoint())}startAnimation(){this.lastTick=performance.now(),this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}getFrameElementOffset(){const t=this.frameElementRef.nativeElement.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}}onContentDimensionsChangeDetected(t){this.contentHeight=t[0].contentRect.height,this.contentWidth=t[0].contentRect.width}getViewPosition(t){let e,n;if(this.animationParams){e=this.getCssScale(this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress);let t=this.animationParams.panStepFunc(this.model.zoomLevel);n={x:this.base.pan.x+t.x,y:this.base.pan.y+t.y}}else e=this.getCssScale(this.base.zoomLevel),n=this.base.pan;return{x:t.x*e+n.x,y:t.y*e+n.y}}getModelPosition(t){const e=t,n=this.getCssScale(this.base.zoomLevel),i=this.base.pan;return{x:1/n*(e.x-i.x),y:1/n*(e.y-i.y)}}resetView(){this.config.initialZoomToFit?this.zoomToFit(this.config.initialZoomToFit):void 0!==this.config.initialPanX&&void 0!==this.config.initialPanY&&void 0!==this.config.initialZoomLevel?this.zoomToFitModel({zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}}):(console.error("PanZoomComponent: resetView() could not reset view as some vars were not set.  The culprits are either config.initialZoomLevel, config.initialPanX, or config.initialPanY.  Or just set panzoomConfig.initialZoomToFit"),console.log("config.initialZoomLevel: "+this.config.initialZoomLevel),console.log("config.initialPanX: "+this.config.initialPanX),console.log("config.initialPanY: "+this.config.initialPanY))}zoomToFit(t,e){const n=this.calcZoomToFit(t);this.model.isPanning=!0,this.animateToTarget(n,e)}zoomInToPoint(t){this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,t)}zoomOutFromPoint(t){this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,t)}panToPoint(t,e){const n={pan:{x:this.frameWidth/2-t.x*this.scale,y:this.frameHeight/2-t.y*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(n,e)}panToPointCurrentScale(t,e){const n={pan:{x:this.frameWidth/2-t.x,y:this.frameHeight/2-t.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(n,e)}panDelta(t,e){const n={pan:{x:this.base.pan.x-this.scale*t.x,y:this.base.pan.y-this.scale*t.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(n,e)}panDeltaAbsolute(t,e){const n={pan:{x:this.base.pan.x-t.x,y:this.base.pan.y-t.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(n,e)}panDeltaPercent(t,e){let n=0,i=0;0!==t.x&&(n=this.contentWidth*(t.x/100)*this.scale),0!==t.y&&(i=this.contentHeight*(t.y/100)*this.scale);const r={pan:{x:this.base.pan.x-n,y:this.base.pan.y-i},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(r,e)}centerContent(t){this.panToPoint({x:this.contentWidth/2,y:this.contentHeight/2},t)}centerX(t){const e={pan:{x:this.frameWidth/2-this.contentWidth/2*this.scale,y:this.base.pan.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(e,t)}centerY(t){const e={pan:{x:this.base.pan.x,y:this.frameHeight/2-this.contentHeight/2*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(e,t)}centerTopLeftCorner(t){this.panToPoint({x:0,y:0},t)}centerBottomLeftCorner(t){this.panToPoint({x:0,y:this.contentHeight},t)}centerTopRightCorner(t){this.panToPoint({x:this.contentWidth,y:0},t)}centerBottomRightCorner(t){this.panToPoint({x:this.contentWidth,y:this.contentHeight},t)}updateContentDimensions(t,e){void 0!==e&&(this.contentHeight=e),void 0!==t&&(this.contentWidth=t)}detectContentDimensions(){const t=getComputedStyle(this.zoomElementRef.nativeElement);this.contentHeight=parseInt(t.getPropertyValue("height").split("px")[0]),this.contentWidth=parseInt(t.getPropertyValue("width").split("px")[0])}animateToTarget(t,e){if(this.animationParams)return;this.zoomLevelIsChanging=!1,this.base.zoomLevel!==t.zoomLevel&&(this.zoomLevelIsChanging=!0);const n=t.zoomLevel-this.base.zoomLevel,i=this.base.pan.x,r=this.base.pan.y;this.model.pan.x=this.base.pan.x,this.model.pan.y=this.base.pan.y,this.animationParams={deltaZoomLevel:n,panStepFunc:e=>({x:-(i-t.pan.x)*this.animationParams.progress,y:-(r-t.pan.y)*this.animationParams.progress}),duration:e=e?1e3*e:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}changeZoomLevel(t,e){if(this.animationParams)return;this.zoomLevelIsChanging=!0,t=Math.max(this.minimumAllowedZoomLevel,t);const n=(t=Math.min(this.config.zoomLevels-1,t))-this.base.zoomLevel;if(!n)return;const i=this.base.pan.x,r=this.base.pan.y,s=this.scale,o=e||this.getCentrePoint();this.animationParams={deltaZoomLevel:n,panStepFunc:t=>{const e=this.getCssScale(t);return{x:o.x-e/s*(o.x-i)-i,y:o.y-e/s*(o.y-r)-r}},duration:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.A))},t.\u0275cmp=r.Kb({type:t,selectors:[["pan-zoom"]],viewQuery:function(t,e){if(1&t&&(r.Mc(mn,3),r.Mc(vn,3),r.Mc(yn,3),r.Mc(bn,3)),2&t){let t;r.zc(t=r.gc())&&(e.frameElementRef=t.first),r.zc(t=r.gc())&&(e.panElementRef=t.first),r.zc(t=r.gc())&&(e.zoomElementRef=t.first),r.zc(t=r.gc())&&(e.panzoomOverlayRef=t.first)}},inputs:{config:"config"},ngContentSelectors:En,decls:9,vars:0,consts:[[1,"pan-zoom-frame"],["frameElement",""],[1,"pan-element"],["panElement",""],[1,"zoom-element"],["zoomElement",""],[1,"pan-zoom-overlay"],["panzoomOverlay",""]],template:function(t,e){1&t&&(r.nc(),r.Vb(0,"div",0,1),r.Vb(2,"div",2,3),r.Vb(4,"div",4,5),r.mc(6),r.Ub(),r.Ub(),r.Ub(),r.Rb(7,"div",6,7))},styles:[".pan-zoom-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.pan-element[_ngcontent-%COMP%], .pan-zoom-overlay[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.pan-zoom-overlay[_ngcontent-%COMP%]{display:none;right:0;bottom:0;opacity:0;pointer-events:none}"]}),t})(),Sn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[],imports:[[]]}),t})();class Cn{constructor(t){this.zoomLevels=5,this.neutralZoomLevel=2,this.scalePerZoomLevel=2,this.initialZoomLevel=this.neutralZoomLevel,this.friction=10,this.haltSpeed=100,this.initialPanX=0,this.initialPanY=0,this.keepInBounds=!1,this.keepInBoundsDragPullback=.7,this.keepInBoundsRestoreForce=.5,this.panOnClickDrag=!0,this.dragMouseButton="left",this.zoomButtonIncrement=1,this.zoomOnDoubleClick=!0,this.zoomOnMouseWheel=!0,this.invertMouseWheel=!1,this.zoomStepDuration=.2,this.zoomToFitZoomLevelFactor=.95,this.freeMouseWheel=!0,this.freeMouseWheelFactor=.08,this.modelChanged=new f.a({isPanning:null,zoomLevel:null,pan:{x:null,y:null}}),this.api=new f.a({model:null,config:null,changeZoomLevel:null,zoomIn:null,zoomOut:null,zoomToFit:null,getViewPosition:null,getModelPosition:null,resetView:null,panToPoint:null,panDelta:null,panDeltaPercent:null,panDeltaAbsolute:null,centerContent:null,centerX:null,centerY:null,centerTopLeft:null,centerTopRight:null,centerBottomLeft:null,centerBottomRight:null,updateContentDimensions:null,detectContentDimensions:null}),this.acceleratePan=!0,this.dynamicContentDimensions=!1,void 0!==t&&("zoomLevels"in t&&(this.zoomLevels=t.zoomLevels),"neutralZoomLevel"in t&&(this.neutralZoomLevel=t.neutralZoomLevel),"scalePerZoomLevel"in t&&(this.scalePerZoomLevel=t.scalePerZoomLevel),"initialZoomLevel"in t&&(this.initialZoomLevel=t.initialZoomLevel),"friction"in t&&(this.friction=t.friction),"haltSpeed"in t&&(this.haltSpeed=t.haltSpeed),"initialPanX"in t&&(this.initialPanX=t.initialPanX),"initialPanY"in t&&(this.initialPanY=t.initialPanY),"initialZoomToFit"in t&&(this.initialZoomToFit=t.initialZoomToFit),"keepInBounds"in t&&(this.keepInBounds=t.keepInBounds),"keepInBoundsDragPullback"in t&&(this.keepInBoundsDragPullback=t.keepInBoundsDragPullback),"keepInBoundsRestoreForce"in t&&(this.keepInBoundsRestoreForce=t.keepInBoundsRestoreForce),"panOnClickDrag"in t&&(this.panOnClickDrag=t.panOnClickDrag),"dragMouseButton"in t&&(this.dragMouseButton=t.dragMouseButton),"zoomButtonIncrement"in t&&(this.zoomButtonIncrement=t.zoomButtonIncrement),"zoomOnDoubleClick"in t&&(this.zoomOnDoubleClick=t.zoomOnDoubleClick),"zoomOnMouseWheel"in t&&(this.zoomOnMouseWheel=t.zoomOnMouseWheel),"invertMouseWheel"in t&&(this.invertMouseWheel=t.invertMouseWheel),"zoomStepDuration"in t&&(this.zoomStepDuration=t.zoomStepDuration),"zoomToFitZoomLevelFactor"in t&&(this.zoomToFitZoomLevelFactor=t.zoomToFitZoomLevelFactor),"freeMouseWheel"in t&&(this.freeMouseWheel=t.freeMouseWheel),"freeMouseWheelFactor"in t&&(this.freeMouseWheelFactor=t.freeMouseWheelFactor),this.keepInBounds&&0!==this.neutralZoomLevel&&console.warn("You have set keepInBounds to true and neutralZoomLevel to "+this.neutralZoomLevel+". Be aware that the zoom level cannot go below "+this.neutralZoomLevel),"noDragFromElementClass"in t&&(this.noDragFromElementClass=t.noDragFromElementClass),"acceleratePan"in t&&(this.acceleratePan=t.acceleratePan),"dynamicContentDimensions"in t&&(this.dynamicContentDimensions=t.dynamicContentDimensions))}}var Tn=n("KDNa"),wn=n("nYR2");const Dn=["pic"];function Pn(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"img",2,3),r.fc("load",function(){return r.Bc(t),r.jc().onImgLoad()}),r.Ub(),r.Sb()}if(2&t){const t=r.jc();r.Db(1),r.oc("src",t.assetData.data,r.Ec)}}function An(t,e){1&t&&(r.Vb(0,"div",4),r.Jc(1,"\xa0"),r.Ub())}let In=(()=>{class t{constructor(t,e){this.http=t,this.sanitizer=e}getAsset(t){const e=t.split("."),n=C(e).last();return this.http.get(t,{responseType:"blob"}).pipe(Object(m.a)(t=>this.parseBytype(n,t)),Object(y.a)(t=>{console.log("SecureAssetsPipe -> constructor -> val",t)}),Object(b.a)(t=>Object(p.a)(t.message)))}parseBytype(t,e){return this.isImage(t)?{type:"image",data:this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(e))}:this.isSvg(t)?{type:"svg",data:this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(new Blob([e],{type:"image/svg+xml"})))}:void 0}isImage(t){return!!/(jpe?g|png|gif|bmp)$/i.test(t)}isSvg(t){return!!/(svg)$/i.test(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(g.b),r.cc(i.b))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),Mn=(()=>{class t{constructor(t,e){this.afsLibSecureAssetService=t,this.cdRef=e,this.loader=!0,this.load=new r.n}set url(t){this._url=t,this.init()}get url(){return this._url}ngOnInit(){}init(){this.afsLibSecureAssetService.getAsset(this.url).pipe(Object(ot.a)(1),Object(wn.a)(()=>{console.log("finally"),this.loader=!1,this.cdRef.detectChanges()})).subscribe(t=>{this.assetData=t},t=>{console.log("Image loading failed!")})}onImgLoad(){this.load.emit(this.pic.nativeElement.width/this.pic.nativeElement.naturalWidth*100<=50)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(In),r.Qb(r.h))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-lib-secure-asset"]],viewQuery:function(t,e){if(1&t&&r.Mc(Dn,1),2&t){let t;r.zc(t=r.gc())&&(e.pic=t.first)}},inputs:{url:"url"},outputs:{load:"load"},features:[r.Cb([In])],decls:2,vars:2,consts:[[4,"ngIf"],["class","status",4,"ngIf"],[3,"src","load"],["pic",""],[1,"status"]],template:function(t,e){1&t&&(r.Hc(0,Pn,3,1,"ng-container",0),r.Hc(1,An,2,0,"div",1)),2&t&&(r.oc("ngIf",e.assetData),r.Db(1),r.oc("ngIf",e.loader))},directives:[s.l],styles:[".status[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/niklausgerber/PreLoadMe/master/img/status.gif);background-repeat:no-repeat;background-position:50%;width:30px;height:30px;margin:auto}"]}),t})(),xn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[s.b]]}),t})();var Rn=n("Cfvw"),kn=n("jtHE"),Ln=n("oB13"),jn=n("x+ZX");const Nn=["container"],Un=new r.r("LottieOptions"),Bn=new r.r("AnimationCache");let Fn=(()=>{class t{constructor(t,e,n,i){this.ngZone=t,this.platformId=e,this.options=n,this.animationCache=i,this.player$=function(t){const e=t();return e instanceof Promise?Object(Rn.a)(e).pipe(Object(m.a)(t=>t.default||t),function(t,e,n,i){const r=new kn.a(1,void 0,void 0);return t=>Object(Ln.a)(()=>r,void 0)(t)}(),Object(jn.a)()):Object(I.a)(e)}(this.options.player)}resolveLoaderAndLoadAnimation(t,e,n,i,r,o){Object(s.B)(this.platformId)||this.player$.pipe(Object(E.a)(o)).subscribe(s=>{const o=function(t,e,n){const i=Object.assign({container:e,renderer:"svg",loop:!0,autoplay:!0},t);return null!==n?n.transformOptions(i):i}(t,e,this.animationCache);this.loadAnimation(s,o,n,i,r)})}loadAnimation(t,e,n,i,r){const s=this.ngZone.runOutsideAngular(()=>t.loadAnimation(e));!function(t,e,n){null!==t&&n.addEventListener("config_ready",()=>{t.set(e,n)})}(this.animationCache,e,s),i.emit(s),n.addEventListeners(r,s)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A),r.cc(r.C),r.cc(Un),r.cc(Bn))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),qn=(()=>{class t{constructor(t,e){this.platformId=t,this.animationLoader=e,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=new r.n,this.complete=new r.n,this.loopComplete=new r.n,this.enterFrame=new r.n,this.segmentStart=new r.n,this.configReady=new r.n,this.dataReady=new r.n,this.domLoaded=new r.n,this.destroy=new r.n,this.error=new r.n,this.destroy$=new _.a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnimation(t,e,n,i){!Object(s.B)(this.platformId)&&t.options&&(n.destroyAnimation(),this.animationLoader.resolveLoaderAndLoadAnimation(t.options.currentValue,e,n,this.animationCreated,i,this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.C),r.Qb(Fn))},t.\u0275dir=r.Lb({type:t,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),t})();class Vn{constructor(){this.cache=new Map}static create(t){return t.useCache?new Vn:null}transformOptions(t){const e=t.path;return e&&this.cache.has(e)&&(delete t.path,t.animationData=this.cache.get(e)),t}set(t,e){t.animationData||this.cache.set(t.path,e.animationData)}}let Wn=(()=>{class t{constructor(t,e){this.ngZone=t,this.platformId=e,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}ngOnDestroy(){this.destroyAnimation()}addEventListeners(t,e){this.animationItem=e,this.ngZone.runOutsideAngular(()=>this.addEventListenersToObservedEventEmitters(t))}destroyAnimation(){Object(s.B)(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)}addEventListenersToObservedEventEmitters(t){const e=function(t,e){return Object.keys(t).map(e=>[e,t[e]]).filter(([t,n])=>n instanceof r.n&&n.observers.length>0&&e.hasOwnProperty(t)).map(([t,n])=>({eventEmitter:n,name:e[t]}))}(t,this.eventsMap);for(const{name:n,eventEmitter:i}of e)this.animationItem.addEventListener(n,t=>{i.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A),r.cc(r.C))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),Gn=(()=>{class t extends qn{constructor(t,e,n){super(t,n),this.eventsFacade=e,this.width=null,this.height=null,this.container=null}ngOnChanges(t){super.loadAnimation(t,this.container.nativeElement,this.eventsFacade,this)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.C),r.Qb(Wn,2),r.Qb(Fn))},t.\u0275cmp=r.Kb({type:t,selectors:[["ng-lottie"]],viewQuery:function(t,e){if(1&t&&r.Mc(Nn,3),2&t){let t;r.zc(t=r.gc())&&(e.container=t.first)}},inputs:{width:"width",height:"height"},features:[r.Cb([Wn]),r.Ab,r.Bb],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(t,e){1&t&&r.Rb(0,"div",0,1),2&t&&(r.Gc("width",e.width||"100%")("height",e.height||"100%"),r.oc("ngStyle",e.styles)("ngClass",e.containerClass))},directives:[s.m,s.j],encapsulation:2,changeDetection:0}),t})(),Kn=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Fn,{provide:Un,useValue:e},{provide:Bn,useFactory:Vn.create,deps:[Un]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[s.b]]}),t})();var zn=n("lPHp"),$n=n.n(zn);function Hn(t,e){if(1&t&&r.Rb(0,"nx-afs-image-viewer",23),2&t){const t=r.jc().$implicit;r.oc("attachment",t.media)}}function Qn(t,e){if(1&t&&r.Rb(0,"nx-afs-video-viewer",23),2&t){const t=r.jc().$implicit;r.oc("attachment",t.media)}}function Yn(t,e){if(1&t&&r.Rb(0,"nx-afs-pdf-viewer",23),2&t){const t=r.jc().$implicit;r.oc("attachment",t.media)}}function Xn(t,e){if(1&t&&(r.Vb(0,"div"),r.Vb(1,"h6"),r.Jc(2),r.Ub(),r.Rb(3,"tce-quiz-quill-view",21),r.Vb(4,"div"),r.Hc(5,Hn,1,1,"nx-afs-image-viewer",22),r.Hc(6,Qn,1,1,"nx-afs-video-viewer",22),r.Hc(7,Yn,1,1,"nx-afs-pdf-viewer",22),r.Ub(),r.Ub()),2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.Db(2),r.Lc("Step",n+1,""),r.Db(1),r.oc("content",t.text),r.Db(2),r.oc("ngIf",i.utility.checkImageAvailability(t.media)),r.Db(1),r.oc("ngIf",i.utility.checkVideoAvailability(t.media)),r.Db(1),r.oc("ngIf",i.utility.checkPdfAvailability(t.media))}}function Zn(t,e){if(1&t&&(r.Vb(0,"div"),r.Hc(1,Xn,8,5,"div",20),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("ngForOf",t.solutionData.data)}}function Jn(t,e){if(1&t&&r.Rb(0,"nx-afs-image-viewer",23),2&t){const t=r.jc().$implicit;r.oc("attachment",t.media)}}function ti(t,e){if(1&t&&r.Rb(0,"nx-afs-video-viewer",23),2&t){const t=r.jc().$implicit;r.oc("attachment",t.media)}}function ei(t,e){if(1&t&&r.Rb(0,"nx-afs-pdf-viewer",23),2&t){const t=r.jc().$implicit;r.oc("attachment",t.media)}}function ni(t,e){if(1&t&&(r.Vb(0,"div",29),r.Vb(1,"h6"),r.Jc(2),r.Ub(),r.Rb(3,"tce-quiz-quill-view",21),r.Vb(4,"div"),r.Hc(5,Jn,1,1,"nx-afs-image-viewer",22),r.Hc(6,ti,1,1,"nx-afs-video-viewer",22),r.Hc(7,ei,1,1,"nx-afs-pdf-viewer",22),r.Ub(),r.Ub()),2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.Db(2),r.Lc("Step",n+1,""),r.Db(1),r.oc("content",t.text),r.Db(2),r.oc("ngIf",i.utility.checkImageAvailability(t.media)),r.Db(1),r.oc("ngIf",i.utility.checkVideoAvailability(t.media)),r.Db(1),r.oc("ngIf",i.utility.checkPdfAvailability(t.media))}}function ii(t,e){if(1&t&&(r.Vb(0,"div"),r.Vb(1,"div",24),r.Rb(2,"div",25),r.Vb(3,"swiper",26),r.Vb(4,"div",27),r.Hc(5,ni,8,5,"div",28),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t){const t=r.jc();r.Db(3),r.oc("config",t.config),r.Db(2),r.oc("ngForOf",t.solutionData.data)}}function ri(t,e){if(1&t&&r.Rb(0,"nx-afs-lib-secure-asset",32,33),2&t){const t=r.jc().$implicit,e=r.jc(2);r.oc("url",e.questionCtrl.getBasePath()+t.media)}}function si(t,e){if(1&t&&(r.Tb(0),r.Rb(1,"tce-quiz-quill-view",21),r.Hc(2,ri,2,1,"nx-afs-lib-secure-asset",31),r.Sb()),2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.oc("content",t.text),r.Db(1),r.oc("ngIf",n.utility.checkImageAvailability(t.media))}}function oi(t,e){if(1&t&&(r.Vb(0,"div",30),r.Hc(1,si,3,2,"ng-container",20),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("ngForOf",t.solutionData.answer)}}function ai(t,e){if(1&t&&(r.Vb(0,"div",34),r.Rb(1,"tce-quiz-quill-view",21),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("content",t.solutionData.answer)}}function ci(t,e){if(1&t&&r.Rb(0,"nx-afs-image-viewer",10),2&t){const t=r.jc();r.oc("attachment",t.attachmentForOther)}}function ui(t,e){if(1&t&&r.Rb(0,"nx-afs-video-viewer",10),2&t){const t=r.jc();r.oc("attachment",t.attachmentForOther)}}function li(t,e){if(1&t&&r.Rb(0,"nx-afs-pdf-viewer",10),2&t){const t=r.jc();r.oc("attachment",t.attachmentForOther)}}function hi(t,e){if(1&t&&r.Rb(0,"nx-afs-text-viewer",10),2&t){const t=r.jc();r.oc("attachment",t.attachmentForOther)}}function di(t,e){if(1&t&&r.Rb(0,"nx-afs-external-link",10),2&t){const t=r.jc();r.oc("attachment",t.attachmentForOther)}}function pi(t,e){if(1&t&&r.Rb(0,"nx-afs-notes-viewer",10),2&t){const t=r.jc();r.oc("attachment",t.attachmentNote)}}function fi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",24),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"button",25),r.Vb(2,"span",26),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub()}}function _i(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",27),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}const gi=function(t){return{intructionStyle:"",data:t}};function mi(t,e){if(1&t&&(r.Vb(0,"div",28),r.Vb(1,"div",29),r.Rb(2,"tce-instructions",30),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.oc("instructionData",r.sc(1,gi,t.questionCtrl.pendingAttempt))}}function vi(t,e){if(1&t&&r.Rb(0,"nx-afs-lib-secure-asset",31,32),2&t){const t=r.jc(2);r.oc("url",t.questionCtrl.getBasePath()+t.questionCtrl.configData.qStyle.bg)}}const yi=function(t,e,n,i,r,s){return[t,e,n,i,r,s]};function bi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-option",33),r.fc("stateChange",function(n){r.Bc(t);const i=e.index;return r.jc(2).onStateChange(n,i)}),r.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.oc("option",t)("index",n)("$resetScreen",i.$resetScreen)("configData",i.questionCtrl.configData)("ngClass",r.xc(6,yi,t.isSelected?"selectedOtp":"",1===t.isCorrect&&t.isSelected?"correct":"",0===t.isCorrect&&t.isSelected?"incorrect":"",1===t.isCorrect?"tick":"",1===t.isCorrect&&!t.isSelected&&i.getMissed()?"missed":"",i.questionCtrl.configData.userInteraction.styleOpt?i.questionCtrl.configData.userInteraction.styleOpt:""))("index",n)}}function Ei(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Rb(14,"tce-question",13),r.Ub(),r.Hc(15,fi,4,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"div",15),r.Vb(17,"div",16),r.Vb(18,"div",9),r.Hc(19,_i,1,2,"tce-question-feedback",17),r.Rb(20,"tce-instructions",18),r.Hc(21,mi,3,3,"div",19),r.Ub(),r.Ub(),r.Vb(22,"div",20),r.Vb(23,"div",9),r.Vb(24,"div",21),r.Hc(25,vi,2,1,"nx-afs-lib-secure-asset",22),r.Hc(26,bi,1,13,"tce-option",23),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(4),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("instructionData",r.sc(10,gi,t.questionCtrl.getInstruction(t.quizData,1))),r.Db(1),r.oc("ngIf",t.questionCtrl.isPendingAttempt),r.Db(4),r.oc("ngIf",t.questionCtrl.configData.qStyle.bg&&""!==t.questionCtrl.configData.qStyle.bg),r.Db(1),r.oc("ngForOf",t.quizData[0].data.options)}}function Oi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",31),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"button",32),r.Vb(2,"span",33),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub()}}function Si(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",34),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)}}function Ci(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-solutions",35),r.fc("closeModel",function(){return r.Bc(t),r.jc(2).onSolutionClose()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("solutionData",t.solution)}}function Ti(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",31),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"button",32),r.Vb(2,"span",33),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub()}}function wi(t,e){if(1&t&&r.Rb(0,"tce-solution-strategies",36),2&t){const t=r.jc(2);r.oc("solutionStrtegiesData",t.solutionStrtegiesData)}}const Di=function(t,e){return{"composite-nav-disable":t,active:e}};function Pi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"li",38),r.fc("click",function(){r.Bc(t);const e=r.jc().index;return r.jc(2).loadQuestion(e)}),r.Jc(1),r.Ub()}if(2&t){const t=r.jc().index,e=r.jc(2);r.oc("ngClass",r.tc(2,Di,!(null!=e.quizData[t-1].attemptedOptions&&e.quizData[t-1].attemptedOptions.length)&&1!==t,t===e.qCounter)),r.Db(1),r.Lc(" ",t," ")}}function Ai(t,e){if(1&t&&(r.Tb(0),r.Hc(1,Pi,2,5,"li",37),r.Sb()),2&t){const t=e.index;r.Db(1),r.oc("ngIf",0!==t)}}function Ii(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-scq",39),r.fc("questAttempted",function(e){return r.Bc(t),r.jc(2).attemptedQuest(e)})("questLoad",function(e){return r.Bc(t),r.jc(2).questLoaded(e)})("attempted",function(e){return r.Bc(t),r.jc(2).onAttempt(e)}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("quizData",t.que)("attemptedOps",t.attemptedOption)("configData",t.questionCtrl.configData)("mode",t.mode)}}function Mi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-mcq",39),r.fc("questAttempted",function(e){return r.Bc(t),r.jc(2).attemptedQuest(e)})("questLoad",function(e){return r.Bc(t),r.jc(2).questLoaded(e)})("attempted",function(e){return r.Bc(t),r.jc(2).onAttempt(e)}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("quizData",t.que)("attemptedOps",t.attemptedOption)("configData",t.questionCtrl.configData)("mode",t.mode)}}function xi(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Rb(14,"tce-question",13),r.Ub(),r.Hc(15,Oi,4,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"div",15),r.Vb(17,"div",16),r.Vb(18,"div",9),r.Hc(19,Si,1,1,"tce-question-feedback",17),r.Hc(20,Ci,1,1,"tce-solutions",18),r.Hc(21,Ti,4,0,"div",14),r.Vb(22,"div",19),r.Hc(23,wi,1,1,"tce-solution-strategies",20),r.Ub(),r.Rb(24,"tce-instructions",21),r.Vb(25,"div",22),r.Vb(26,"div",23),r.Rb(27,"tce-instructions",24),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(28,"div",25),r.Vb(29,"div",9),r.Vb(30,"div",26),r.Vb(31,"ul"),r.Hc(32,Ai,2,1,"ng-container",27),r.Ub(),r.Ub(),r.Vb(33,"div",28),r.Vb(34,"div",29),r.Hc(35,Ii,1,7,"tce-scq",30),r.Hc(36,Mi,1,7,"tce-mcq",30),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(4),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("ngIf",t.isSolution),r.Db(1),r.oc("ngIf",t.attachment),r.Db(2),r.oc("ngIf",""!==(null==t.solutionStrtegiesData?null:t.solutionStrtegiesData.data)),r.Db(1),r.oc("instructionData",r.sc(14,gi,t.questionCtrl.getInstruction(t.quizData,""))),r.Db(3),r.oc("instructionData",r.sc(16,gi,t.questionCtrl.pendingAttempt)),r.Db(5),r.oc("ngForOf",t.quizData),r.Db(3),r.oc("ngIf","SCQ"===t.que[0].data.type),r.Db(1),r.oc("ngIf","MCQ"===t.que[0].data.type)}}const Ri=function(t,e,n,i){return[t,e,n,i]};function ki(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-option",34),r.fc("onClickEvent",function(e){return r.Bc(t),r.jc(3).getEventOption(e)})("stateChange",function(e){return r.Bc(t),r.jc(3).onStateChange(e)}),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc().index,i=r.jc(2);r.oc("option",t)("configData",i.questionCtrl.configData)("ngClass",r.vc(4,Ri,t.isSelected?"selectedOtp":"",t.index==n&&1===t.isCorrect?"correct":"incorrect",1===t.isCorrect?"tick":"",1!==t.isCorrect||t.isSelected?"":"missed"))("index",n)}}function Li(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"div"),r.Rb(2,"tce-quiz-quill-view",30),r.Ub(),r.Rb(3,"tce-instructions",19),r.Rb(4,"tce-instructions",31),r.Vb(5,"div",32),r.fc("click",function(){r.Bc(t);const n=e.index;return r.jc(2).openComponent(n)}),r.Hc(6,ki,1,9,"tce-option",33),r.Ub(),r.Sb()}if(2&t){const t=e.$implicit,n=r.jc(2);r.Db(2),r.oc("content",t.questions),r.Db(1),r.oc("instructionData",r.sc(4,gi,n.questionCtrl.pendingAttempt)),r.Db(1),r.oc("instructionData",r.sc(6,gi,n.questionCtrl.getInstruction(n.quizData,n.quizData.length-1))),r.Db(2),r.oc("ngForOf",t.attemptedOptions)}}function ji(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",35),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"span",36),r.Jc(2,"Attachment"),r.Ub(),r.Ub()}}function Ni(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",37),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function Ui(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-scq",38),r.fc("attempted",function(e){return r.Bc(t),r.jc(2).optionClickEvent(e)}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("quizData",t.modifiedDataStructure)("attemptedOps",t.attemptedOption)("configData",t.questionCtrl.configData)("mode",t.mode)("$resetScreen",t.$resetScreen)("$showCorrectAns",t.$showCorrectAns)("$iDontknw",t.$iDontknw)}}function Bi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-subjective",39),r.fc("attempted",function(e){return r.Bc(t),r.jc(2).optionClickEvent(e)})("change",function(e){return r.Bc(t),r.jc(2).onchange(e)}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("quizData",t.modifiedDataStructure)("configData",t.questionCtrl.configData)("mode",t.mode)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("$showCorrectAns",t.$showCorrectAns)}}function Fi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",40),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)}}function qi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-solutions",41),r.fc("closeModel",function(){return r.Bc(t),r.jc(2).onSolutionClose()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("solutionData",t.solution)}}function Vi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-attachment",42),r.fc("closeModel",function(){return r.Bc(t),r.jc(2).cloasemodal()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("attachment",t.attachment)}}const Wi=function(){return{intructionStyle:"",data:"Select the correct answer for each blank."}};function Gi(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Vb(14,"div",13),r.Hc(15,Li,7,8,"ng-container",14),r.Ub(),r.Hc(16,ji,3,0,"div",15),r.Ub(),r.Ub(),r.Ub(),r.Vb(17,"div",16),r.Vb(18,"div",17),r.Vb(19,"div",9),r.Hc(20,Ni,1,2,"tce-question-feedback",18),r.Rb(21,"tce-instructions",19),r.Rb(22,"tce-instructions",20),r.Vb(23,"div",21),r.Vb(24,"div",22),r.Rb(25,"tce-instructions",23),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(26,"div",24),r.Vb(27,"div",9),r.Hc(28,Ui,1,7,"tce-scq",25),r.Hc(29,Bi,1,6,"tce-subjective",26),r.Hc(30,Fi,1,1,"tce-question-feedback",27),r.Hc(31,qi,1,1,"tce-solutions",28),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Hc(32,Vi,1,1,"nx-afs-attachment",29),r.Ub(),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(5),r.oc("ngForOf",t.question),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("instructionData",r.sc(14,gi,t.questionCtrl.pendingAttempt)),r.Db(1),r.oc("instructionData",r.rc(16,Wi)),r.Db(3),r.oc("instructionData",r.sc(17,gi,t.questionCtrl.pendingAttempt)),r.Db(3),r.oc("ngIf","SCQ"===t.currQuestion.type),r.Db(1),r.oc("ngIf","SUBJECTIVE"===t.currQuestion.type),r.Db(1),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("ngIf",t.isSolution),r.Db(1),r.oc("ngIf",t.showattachment)}}function Ki(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",25),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"span",26),r.Jc(2,"Attachment"),r.Ub(),r.Ub()}}function zi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",27),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function $i(t,e){if(1&t&&(r.Vb(0,"div",28),r.Vb(1,"div",29),r.Rb(2,"tce-instructions",30),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.oc("instructionData",r.sc(1,gi,t.questionCtrl.pendingAttempt))}}function Hi(t,e){1&t&&r.Rb(0,"tce-quiz-quill-view",33),2&t&&r.oc("content",e.$implicit)}function Qi(t,e){if(1&t&&(r.Vb(0,"option",42),r.Jc(1),r.Ub()),2&t){const t=e.$implicit,n=r.jc(5);r.oc("ngValue",t),r.Db(1),r.Lc("",n.getLabel(t.label)," ")}}function Yi(t,e){if(1&t){const t=r.Wb();r.Vb(0,"select",40),r.fc("ngModelChange",function(e){r.Bc(t);const n=r.jc(2).index;return r.jc(2).quizData[n+1].atempted=e})("ngModelChange",function(){r.Bc(t);const e=r.jc(2).index;return r.jc(2).onAttempt(e)}),r.Hc(1,Qi,2,2,"option",41),r.Ub()}if(2&t){const t=r.jc(2).index,e=r.jc(2);r.oc("ngModel",e.quizData[t+1].atempted),r.Db(1),r.oc("ngForOf",e.quizData[t+1].data.options)}}function Xi(t,e){if(1&t&&(r.Vb(0,"option",45),r.Jc(1),r.Ub()),2&t){const t=e.$implicit,n=r.jc(5);r.oc("ngValue",t)("selected",1===t.isCorrect),r.Db(1),r.Lc("",n.getLabel(t.label)," ")}}function Zi(t,e){if(1&t&&(r.Vb(0,"select",43),r.Hc(1,Xi,2,3,"option",44),r.Ub()),2&t){const t=r.jc(2).index,e=r.jc(2);r.Db(1),r.oc("ngForOf",e.quizData[t+1].data.options)}}function Ji(t,e){if(1&t&&r.Rb(0,"span",46),2&t){const t=r.jc(2).index,e=r.jc(2);r.oc("innerHTML",e.fibOptionFeedBack(e.quizData[t+1].data.options),r.Cc)}}const tr=function(t,e,n){return[t,e,n]};function er(t,e){if(1&t&&(r.Vb(0,"span",34),r.Hc(1,Yi,2,2,"select",35),r.Hc(2,Zi,2,1,"ng-template",null,36,r.Ic),r.Vb(4,"div",37),r.Rb(5,"span",38),r.Hc(6,Ji,1,1,"span",39),r.Ub(),r.Ub()),2&t){const t=r.Ac(3),e=r.jc().index,n=r.jc(2);r.oc("ngClass",r.uc(4,tr,1===(null==n.quizData[e+1]||null==n.quizData[e+1].atempted?null:n.quizData[e+1].atempted.isCorrect)?"correct":"",0===(null==n.quizData[e+1]||null==n.quizData[e+1].atempted?null:n.quizData[e+1].atempted.isCorrect)?"incorrect":"",null!=n.quizData[e+1]&&n.quizData[e+1].atempted||!n.getMissed()?"":"missed")),r.Db(1),r.oc("ngIf",n.setValueInOpt(n.quizData[e+1]))("ngIfElse",t),r.Db(5),r.oc("ngIf",0===(null==n.quizData[e+1]||null==n.quizData[e+1].atempted?null:n.quizData[e+1].atempted.isCorrect))}}function nr(t,e){if(1&t&&(r.Tb(0),r.Hc(1,Hi,1,1,"tce-quiz-quill-view",31),r.Hc(2,er,7,8,"span",32),r.Sb()),2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.Db(1),r.oc("ngForOf",i.splitQuestion(t.questions)),r.Db(1),r.oc("ngIf",i.quizData[n+1])}}function ir(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-solutions",47),r.fc("closeModel",function(){return r.Bc(t),r.jc(2).onSolutionClose()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("solutionData",t.solution)}}function rr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-attachment",48),r.fc("closeModel",function(){return r.Bc(t),r.jc(2).cloasemodal()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("attachment",t.attachment)}}function sr(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Vb(14,"div",12),r.Rb(15,"tce-question",13),r.Ub(),r.Hc(16,Ki,3,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(17,"div",15),r.Vb(18,"div",16),r.Vb(19,"div",9),r.Hc(20,zi,1,2,"tce-question-feedback",17),r.Rb(21,"tce-instructions",18),r.Hc(22,$i,3,3,"div",19),r.Ub(),r.Ub(),r.Vb(23,"div",20),r.Vb(24,"div",9),r.Vb(25,"div",21),r.Hc(26,nr,3,2,"ng-container",22),r.Ub(),r.Hc(27,ir,1,1,"tce-solutions",23),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Hc(28,rr,1,1,"nx-afs-attachment",24),r.Ub(),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(5),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("instructionData",r.sc(11,gi,t.questionCtrl.getInstruction(t.quizData,t.quizData.length-1))),r.Db(1),r.oc("ngIf",t.questionCtrl.isPendingAttempt),r.Db(4),r.oc("ngForOf",t.question),r.Db(1),r.oc("ngIf",t.isSolution),r.Db(1),r.oc("ngIf",t.showattachment)}}function or(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",7),r.fc("click",function(){return r.Bc(t),r.jc().showAttachment()}),r.Vb(1,"span",8),r.Jc(2,"Attachment"),r.Ub(),r.Ub()}}function ar(t,e){if(1&t&&r.Rb(0,"img",16),2&t){const t=r.jc(2);r.oc("src",t.questionCtrl.configData.qStyle.bg,r.Ec)}}function cr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-option",22),r.fc("onClickEvent",function(e){return r.Bc(t),r.jc(3).getEventOption(e)})("stateChange",function(e){return r.Bc(t),r.jc(3).onStateChange(e)})("dndMoved",function(){r.Bc(t);const n=e.$implicit,i=r.jc(3);return i.onDragged(n,i.optionHolder)}),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc().index,i=r.jc(2);r.oc("option",t)("configData",i.questionCtrl.configData)("ngClass",r.vc(6,Ri,t.isSelected?"selectedOtp":"",t.index==n&&t.isSelected?"correct":"incorrect",1===t.isCorrect?"tick":"",1!==t.isCorrect||t.isSelected?"":"missed"))("index",n)("dndDraggable",t)("dndType",t)}}function ur(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Rb(1,"tce-quiz-quill-view",17),r.Rb(2,"tce-instructions",18),r.Rb(3,"tce-instructions",19),r.Vb(4,"div",20),r.fc("click",function(){r.Bc(t);const n=e.$implicit;return r.jc(2).onDrop1(n.attemptedOptions)})("dndDrop",function(n){r.Bc(t);const i=e.$implicit;return r.jc(2).onDrop(n,i.attemptedOptions)}),r.Hc(5,cr,1,11,"tce-option",21),r.Ub(),r.Sb()}if(2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.oc("content",t.questions),r.Db(1),r.oc("instructionData",r.sc(4,gi,n.questionCtrl.pendingAttempt)),r.Db(1),r.oc("instructionData",r.sc(6,gi,n.questionCtrl.getInstruction(n.quizData,n.quizData.length-1))),r.Db(2),r.oc("ngForOf",t.attemptedOptions)}}const lr=function(t,e,n,i,r){return[t,e,n,i,r]};function hr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-option",23),r.fc("click",function(){r.Bc(t);const n=e.$implicit;return r.jc(2).setDragMode(n)})("dndMoved",function(){r.Bc(t);const n=e.$implicit,i=r.jc(2);return i.onDragged(n,i.optionHolder)}),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc(2);r.oc("option",t)("configData",n.questionCtrl.configData)("ngClass",r.wc(5,lr,t.isSelected?"selectedOtp":"",1===t.isCorrect&&t.isSelected?"correct":"",0===t.isCorrect&&t.isSelected?"incorrect":"",1===t.isCorrect?"tick":"",1!==t.isCorrect||t.isSelected?"":"missed"))("dndDraggable",t)("dndType",t)}}function dr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",24),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function pr(t,e){if(1&t&&(r.Vb(0,"div",9),r.Hc(1,ar,1,1,"img",10),r.Vb(2,"div",11),r.Hc(3,ur,6,8,"ng-container",12),r.Ub(),r.Vb(4,"div",13),r.Hc(5,hr,1,11,"tce-option",14),r.Ub(),r.Hc(6,dr,1,2,"tce-question-feedback",15),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("ngIf",t.questionCtrl.configData.qStyle.bg&&""!==t.questionCtrl.configData.qStyle.bg),r.Db(2),r.oc("ngForOf",t.question),r.Db(2),r.oc("ngForOf",t.optionHolder),r.Db(1),r.oc("ngIf",t.questionCtrl.questFeedback)}}function fr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-solutions",25),r.fc("closeModel",function(){return r.Bc(t),r.jc().onSolutionClose()}),r.Ub()}if(2&t){const t=r.jc();r.oc("solutionData",t.solution)}}function _r(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-attachment",26),r.fc("closeModel",function(){return r.Bc(t),r.jc().cloasemodal()}),r.Ub()}if(2&t){const t=r.jc();r.oc("attachment",t.attachment)}}function gr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",23),r.fc("click",function(){return r.Bc(t),r.jc().showAttachment()}),r.Vb(1,"button",24),r.Vb(2,"span",25),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub()}}function mr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",26),r.fc("showSolution",function(){return r.Bc(t),r.jc().onShowSolution()}),r.Ub()}if(2&t){const t=r.jc();r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function vr(t,e){if(1&t&&r.Rb(0,"img",33),2&t){const t=r.jc(2);r.oc("src",t.questionCtrl.configData.qStyle.bg,r.Ec)}}function yr(t,e){if(1&t&&(r.Vb(0,"div",34),r.Rb(1,"tce-question",12),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.oc("quizData",t)}}function br(t,e){if(1&t&&(r.Vb(0,"div",35),r.Rb(1,"tce-option",36),r.Ub()),2&t){const t=e.$implicit,n=r.jc(2);r.oc("ngClass",r.vc(3,Ri,""!==t.status?"selectedOtp":"",1===t.status?"correct":"",0===t.status?"incorrect":"",1===t.status?"tick":"")),r.Db(1),r.oc("option",t)("configData",n.questionCtrl.configData)}}function Er(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",27),r.Hc(1,vr,1,1,"img",28),r.Vb(2,"div",29),r.Hc(3,yr,2,1,"div",30),r.Ub(),r.Vb(4,"div",31),r.fc("cdkDropListDropped",function(e){return r.Bc(t),r.jc().drop(e)}),r.Hc(5,br,2,8,"div",32),r.Ub(),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.oc("ngIf",t.questionCtrl.configData.qStyle.bg&&""!==t.questionCtrl.configData.qStyle.bg),r.Db(2),r.oc("ngForOf",t.quizData[0].data.column),r.Db(2),r.oc("ngForOf",t.optionHolder)}}function Or(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-solutions",37),r.fc("closeModel",function(){return r.Bc(t),r.jc().onSolutionClose()}),r.Ub()}if(2&t){const t=r.jc();r.oc("solutionData",t.solution)}}function Sr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-attachment",38),r.fc("closeModel",function(){return r.Bc(t),r.jc().cloasemodal()}),r.Ub()}if(2&t){const t=r.jc();r.oc("attachment",t.attachment)}}function Cr(t,e){if(1&t&&r.Rb(0,"tce-question",24),2&t){const t=r.jc(2);r.oc("quizData",t.quizData)}}function Tr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",25),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"button",26),r.Vb(2,"span",27),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub()}}function wr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",28),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function Dr(t,e){if(1&t&&(r.Vb(0,"div",29),r.Vb(1,"div",30),r.Rb(2,"tce-instructions",31),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.oc("instructionData",r.sc(1,gi,t.questionCtrl.pendingAttempt))}}function Pr(t,e){if(1&t&&r.Rb(0,"nx-afs-lib-secure-asset",32,33),2&t){const t=r.jc(2);r.oc("url",t.questionCtrl.getBasePath()+t.questionCtrl.configData.qStyle.bg)}}function Ar(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-option",34),r.fc("stateChange",function(n){r.Bc(t);const i=e.index;return r.jc(2).onStateChange(n,i)}),r.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.oc("option",t)("configData",i.questionCtrl.configData)("ngClass",r.xc(6,yi,t.isSelected?"selectedOtp":"",1===t.isCorrect&&t.isSelected?"correct":"",0===t.isCorrect&&t.isSelected?"incorrect":"",1===t.isCorrect?"tick":"",1===t.isCorrect&&!t.isSelected&&i.getMissed()?"missed":"",i.questionCtrl.configData.userInteraction.styleOpt?i.questionCtrl.configData.userInteraction.styleOpt:""))("index",n)("$otherOptChange",i.otherOptChange.asObservable())("$resetOverFlow",i.$resetScreen)}}function Ir(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Hc(14,Cr,1,1,"tce-question",13),r.Ub(),r.Hc(15,Tr,4,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"div",15),r.Vb(17,"div",16),r.Vb(18,"div",9),r.Hc(19,wr,1,2,"tce-question-feedback",17),r.Rb(20,"tce-instructions",18),r.Hc(21,Dr,3,3,"div",19),r.Ub(),r.Ub(),r.Vb(22,"div",20),r.Vb(23,"div",9),r.Vb(24,"div",21),r.Hc(25,Pr,2,1,"nx-afs-lib-secure-asset",22),r.Hc(26,Ar,1,13,"tce-option",23),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(4),r.oc("ngIf",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("instructionData",r.sc(10,gi,t.questionCtrl.getInstruction(t.quizData,1))),r.Db(1),r.oc("ngIf",t.questionCtrl.isPendingAttempt),r.Db(4),r.oc("ngIf",t.questionCtrl.configData.qStyle.bg&&""!==t.questionCtrl.configData.qStyle.bg),r.Db(1),r.oc("ngForOf",t.quizData[0].data.options)}}function Mr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",23),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"button",24),r.Vb(2,"span",25),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub()}}function xr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",26),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function Rr(t,e){if(1&t&&(r.Vb(0,"div",27),r.Vb(1,"div",28),r.Rb(2,"tce-instructions",29),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.oc("instructionData",r.sc(1,gi,t.questionCtrl.pendingAttempt))}}function kr(t,e){if(1&t&&r.Rb(0,"nx-afs-lib-secure-asset",37,38),2&t){const t=r.jc(3);r.oc("url",t.questionCtrl.getBasePath()+t.questionCtrl.configData.qStyle.bg)}}function Lr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-sorting-option",44),r.fc("click",function(n){r.Bc(t);const i=e.$implicit;return r.jc(4).setMoveOption(i,n,!0)}),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc().index,i=r.jc(3);r.oc("option",t)("configData",i.questionCtrl.configData)("ngClass",r.wc(4,lr,t.isSelected?"selectedOtp":"",t.index==n&&t.isSelected?"correct":"",t.index!=n&&t.isSelected?"incorrect":"",1===t.isCorrect?"tick":"",1===t.isCorrect&&!t.isSelected&&i.getMissed()?"missed":""))("cdkDragData",t)}}const jr=function(t,e){return[t,e]};function Nr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",39),r.Vb(1,"div",40),r.Jc(2),r.Ub(),r.Vb(3,"div",41,42),r.fc("click",function(){r.Bc(t);const n=e.$implicit;return r.jc(3).onDropClick(n)})("cdkDropListDropped",function(n){r.Bc(t);const i=e.$implicit;return r.jc(3).onDrop(n,i)}),r.Hc(5,Lr,1,10,"tce-sorting-option",43),r.Ub(),r.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=r.Ac(4);r.jc();const s=r.Ac(5),o=r.jc(2);r.Db(2),r.Kc(t.column_title),r.Db(1),r.oc("ngStyle",o.gatCategoryStyle(n))("cdkDropListData",t.attemptedOptions)("cdkDropListConnectedTo",r.tc(5,jr,s,i)),r.Db(2),r.oc("ngForOf",t.attemptedOptions)}}function Ur(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-sorting-option",45),r.fc("cdkDragStarted",function(n){r.Bc(t);const i=e.$implicit;return r.jc(3).setDragMode(i,n,!1)})("click",function(n){r.Bc(t);const i=e.$implicit;return r.jc(3).setDragMode(i,n,!0)}),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc(3);r.oc("option",t)("configData",n.questionCtrl.configData)("ngClass",r.tc(4,jr,t.isSelected?"selectedOtp":"",n.utility.checkImageAvailability(t.media)?"sorting-media":""))("cdkDragData",t)}}const Br=function(t){return[t]};function Fr(t,e){if(1&t&&(r.Vb(0,"div",30),r.Hc(1,kr,2,1,"nx-afs-lib-secure-asset",31),r.Vb(2,"div",32),r.Hc(3,Nr,6,8,"div",33),r.Ub(),r.Vb(4,"div",34,35),r.Hc(6,Ur,1,7,"tce-sorting-option",36),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.oc("ngIf",t.questionCtrl.configData.qStyle.bg&&""!==t.questionCtrl.configData.qStyle.bg),r.Db(2),r.oc("ngForOf",t.quizData[0].data.column),r.Db(1),r.oc("cdkDropListData",t.optionHolder)("cdkDropListConnectedTo",r.sc(5,Br,t.doneList)),r.Db(2),r.oc("ngForOf",t.optionHolder)}}function qr(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Rb(14,"tce-question",13),r.Ub(),r.Hc(15,Mr,4,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"div",15),r.Vb(17,"div",16),r.Vb(18,"div",9),r.Hc(19,xr,1,2,"tce-question-feedback",17),r.Rb(20,"tce-instructions",18),r.Rb(21,"tce-instructions",19),r.Hc(22,Rr,3,3,"div",20),r.Ub(),r.Ub(),r.Vb(23,"div",21),r.Vb(24,"div",9),r.Hc(25,Fr,7,7,"div",22),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(4),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("instructionData",r.sc(10,gi,t.questionCtrl.pendingAttempt)),r.Db(1),r.oc("instructionData",r.sc(12,gi,t.questionCtrl.getInstruction(t.quizData,1))),r.Db(1),r.oc("ngIf",t.questionCtrl.isPendingAttempt),r.Db(3),r.oc("ngIf",t.questionCtrl.configData)}}const Vr=["subjectiveWrapper"];function Wr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",28),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"span",29),r.Jc(2,"Attachment"),r.Ub(),r.Ub()}}function Gr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",30),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function Kr(t,e){if(1&t&&r.Rb(0,"tce-instructions",31),2&t){const t=r.jc(2);r.oc("instructionData",r.sc(1,gi,t.questionCtrl.getInstruction(t.quizData,1)))}}function zr(t,e){if(1&t&&r.Rb(0,"nx-afs-lib-secure-asset",34,35),2&t){const t=r.jc(3);r.oc("url",t.questionCtrl.configData.qStyle.bg)}}function $r(t,e){if(1&t&&(r.Vb(0,"div",32),r.Hc(1,zr,2,1,"nx-afs-lib-secure-asset",33),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.oc("ngIf",t.questionCtrl.configData.qStyle.bg&&""!==t.questionCtrl.configData.qStyle.bg)}}function Hr(t,e){if(1&t&&r.Rb(0,"nx-afs-image-zoom",41,35),2&t){const t=r.jc().$implicit;r.oc("imgSrc",t.media)}}function Qr(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"tce-quiz-quill-view",39),r.fc("equationRendered",function(){return r.Bc(t),r.jc(3).checkForZoom()}),r.Ub(),r.Hc(2,Hr,2,1,"nx-afs-image-zoom",40),r.Sb()}if(2&t){const t=e.$implicit,n=r.jc(3);r.Db(1),r.oc("content",t.text),r.Db(1),r.oc("ngIf",n.utility.checkImageAvailability(t.media))}}function Yr(t,e){if(1&t&&(r.Vb(0,"div",36,37),r.Hc(2,Qr,3,2,"ng-container",38),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.oc("ngForOf",t.solution)}}function Xr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",36,37),r.Vb(2,"tce-quiz-quill-view",39),r.fc("equationRendered",function(){return r.Bc(t),r.jc(2).checkForZoom()}),r.Ub(),r.Ub()}if(2&t){const t=r.jc(2);r.Db(2),r.oc("content",t.solution)}}function Zr(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",42),r.Vb(1,"button",43),r.fc("click",function(){return r.Bc(t),r.jc(2).showAnswer()}),r.Jc(2," Show Answer "),r.Ub(),r.Ub()}}const Jr=function(t){return{active:t}};function ts(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",44),r.Vb(1,"div",45),r.Vb(2,"h4",46),r.Jc(3,"Did you get it right?"),r.Ub(),r.Ub(),r.Vb(4,"div",47),r.Vb(5,"button",48),r.fc("click",function(){return r.Bc(t),r.jc(2).updateAttempt(2)}),r.Vb(6,"span"),r.Jc(7," Correct"),r.Ub(),r.Vb(8,"span",49),r.ic(),r.Vb(9,"svg",50),r.Vb(10,"g",51),r.Vb(11,"g",52),r.Vb(12,"g",53),r.Vb(13,"g",54),r.Vb(14,"g",55),r.Vb(15,"g",56),r.Rb(16,"circle",57),r.Rb(17,"circle",58),r.Rb(18,"circle",59),r.Vb(19,"g",60),r.Rb(20,"path",61),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.hc(),r.Vb(21,"div",47),r.Vb(22,"button",62),r.fc("click",function(){return r.Bc(t),r.jc(2).updateAttempt(1)}),r.Vb(23,"span"),r.Jc(24," Partially correct "),r.Ub(),r.Vb(25,"span",49),r.ic(),r.Vb(26,"svg",50),r.Rb(27,"title"),r.Vb(28,"g",51),r.Vb(29,"g",63),r.Vb(30,"g",53),r.Vb(31,"g",54),r.Vb(32,"g",64),r.Vb(33,"g",65),r.Rb(34,"circle",66),r.Rb(35,"circle",67),r.Rb(36,"circle",68),r.Rb(37,"ellipse",69),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.hc(),r.Vb(38,"div",47),r.Vb(39,"button",70),r.fc("click",function(){return r.Bc(t),r.jc(2).updateAttempt(0)}),r.Vb(40,"span"),r.Jc(41," Incorrect "),r.Ub(),r.Vb(42,"span",49),r.ic(),r.Vb(43,"svg",50),r.Vb(44,"g",51),r.Vb(45,"g",71),r.Vb(46,"g",53),r.Vb(47,"g",54),r.Vb(48,"g",72),r.Vb(49,"g",73),r.Rb(50,"circle",74),r.Rb(51,"circle",58),r.Rb(52,"circle",59),r.Rb(53,"path",75),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.jc(2);r.Db(5),r.oc("ngClass",r.sc(3,Jr,2===t.userInput)),r.Db(17),r.oc("ngClass",r.sc(5,Jr,1===t.userInput)),r.Db(17),r.oc("ngClass",r.sc(7,Jr,0===t.userInput))}}function es(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Rb(14,"tce-question",13),r.Ub(),r.Hc(15,Wr,3,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"div",15),r.Vb(17,"div",16),r.Vb(18,"div",9),r.Hc(19,Gr,1,2,"tce-question-feedback",17),r.Hc(20,Kr,1,3,"tce-instructions",18),r.Vb(21,"div",19),r.Vb(22,"div",20),r.Rb(23,"tce-instructions",21),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(24,"div",22),r.Vb(25,"div",9),r.Hc(26,$r,2,1,"div",23),r.Vb(27,"div",24),r.fc("click",function(){return r.Bc(t),r.jc().onTouchEnter()})("mouseenter",function(){return r.Bc(t),r.jc().onMouseEnter()})("mouseleave",function(){return r.Bc(t),r.jc().onMouseLeave()}),r.Hc(28,Yr,3,1,"div",25),r.Hc(29,Xr,3,1,"div",25),r.Ub(),r.Hc(30,Zr,3,0,"div",26),r.Hc(31,ts,54,9,"div",27),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(4),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("ngIf",t.quizData[0].instuctions&&""!=t.quizData[0].instuctions),r.Db(3),r.oc("instructionData",r.sc(13,gi,t.questionCtrl.pendingAttempt)),r.Db(3),r.oc("ngIf",t.questionCtrl.configData),r.Db(2),r.oc("ngIf",t.isShowAnswer&&t.isArray(t.solution)),r.Db(1),r.oc("ngIf",t.isShowAnswer&&!t.isArray(t.solution)),r.Db(1),r.oc("ngIf",t.solution&&""!=t.solution&&!t.isShowAnswer),r.Db(1),r.oc("ngIf",t.isShowAnswer)}}const ns=["container"],is=["line"],rs=["imgG"],ss=["circleG"],os=["polygonG"],as=["numberG"];function cs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",25),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"button",26),r.Vb(2,"span",27),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub()}}function us(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",28),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function ls(t,e){if(1&t&&(r.Vb(0,"div",13),r.Vb(1,"div",14),r.Vb(2,"div",15),r.Rb(3,"lib-difficulty-level",16),r.Rb(4,"lib-flag"),r.Ub(),r.Ub(),r.Vb(5,"div",17),r.Rb(6,"lib-bonus",18),r.Ub(),r.Vb(7,"div",19),r.Rb(8,"tce-question",20),r.Ub(),r.Hc(9,cs,4,0,"div",21),r.Rb(10,"tce-instructions",22),r.Rb(11,"tce-instructions",23),r.Hc(12,us,1,2,"tce-question-feedback",24),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(3),r.oc("difficultyType","difficul"),r.Db(3),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(2),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(1),r.oc("instructionData",r.sc(8,gi,t.questionCtrl.pendingAttempt)),r.Db(1),r.oc("instructionData",r.sc(10,gi,t.questionCtrl.getInstruction(t.quizData,"Select the correct answer"))),r.Db(1),r.oc("ngIf",t.questionCtrl.questFeedback)}}function hs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-solutions",29),r.fc("closeModel",function(){return r.Bc(t),r.jc().onSolutionClose()}),r.Ub()}if(2&t){const t=r.jc();r.oc("solutionData",t.solution)}}function ds(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-attachment",30),r.fc("closeModel",function(){return r.Bc(t),r.jc().cloasemodal()}),r.Ub()}if(2&t){const t=r.jc();r.oc("attachment",t.attachment)}}const ps=["dynamic"];function fs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-mcq",16),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questAttempted",function(e){return r.Bc(t),r.jc().attemptedQuest(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("quizData",t.qData)("attemptedOps",t.attemptedOps)("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("configData",t.configData)("mode",t.mode)}}function _s(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-scq",17),r.fc("questAttempted",function(e){return r.Bc(t),r.jc().attemptedQuest(e)})("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("quizData",t.qData)("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("configData",t.configData)("mode",t.mode)("attemptedOps",t.attemptedOps)}}function gs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-sorting",18),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("quizData",t.qData)("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("configData",t.configData)("mode",t.mode)("attemptedOps",t.attemptedOps)}}function ms(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-sorting",18),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("quizData",t.qData)("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("configData",t.configData)("mode",t.mode)("attemptedOps",t.attemptedOps)}}function vs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-subjective",19),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("attemptedOps",t.attemptedOps)("quizData",t.qData)("configData",t.configData)("mode",t.mode)("$iDontknw",t.$iDontknw)}}function ys(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-composite-steps",20),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questAttempted",function(e){return r.Bc(t),r.jc().attemptedQuest(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("attemptedOps",t.attemptedOps)("$resetScreen",t.$resetScreen)("quizData",t.qData)("mode",t.mode)("$iDontknw",t.$iDontknw)("$nextSubQ",t.$nextSubQ)("$iDontknw",t.$iDontknw)}}function bs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-composite-steps",21),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)})("questAttempted",function(e){return r.Bc(t),r.jc().attemptedQuest(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("attemptedOps",t.attemptedOps)("$resetScreen",t.$resetScreen)("quizData",t.qData)("mode",t.mode)("$iDontknw",t.$iDontknw)("$nextSubQ",t.$nextSubQ)("$iDontknw",t.$iDontknw)}}function Es(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-match",22),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("quizData",t.qData)("$iDontknw",t.$iDontknw)("configData",t.configData)("mode",t.mode)("$iDontknw",t.$iDontknw)}}function Os(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-match",23),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("quizData",t.qData)("$iDontknw",t.$iDontknw)("configData",t.configData)("mode",t.mode)("attemptedOps",t.attemptedOps)("$iDontknw",t.$iDontknw)}}function Ss(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-fib",24),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("attemptedOps",t.attemptedOps)("$resetScreen",t.$resetScreen)("quizData",t.qData)("configData",t.configData)("mode",t.mode)("$iDontknw",t.$iDontknw)}}function Cs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-fib-drop-down",25),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("mode",t.mode)("attemptedOps",t.attemptedOps)("$resetScreen",t.$resetScreen)("quizData",t.qData)("configData",t.configData)("$iDontknw",t.$iDontknw)}}function Ts(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-fib-select",24),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("attemptedOps",t.attemptedOps)("$resetScreen",t.$resetScreen)("quizData",t.qData)("configData",t.configData)("mode",t.mode)("$iDontknw",t.$iDontknw)}}function ws(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-fib-dnd",26),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("quizData",t.qData)("configData",t.configData)("mode",t.mode)("attemptedOps",t.attemptedOps)("$iDontknw",t.$iDontknw)}}function Ds(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-hotspot",26),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("quizData",t.qData)("configData",t.configData)("mode",t.mode)("attemptedOps",t.attemptedOps)("$iDontknw",t.$iDontknw)}}function Ps(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-world-select",27),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questAttempted",function(e){return r.Bc(t),r.jc().attemptedQuest(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("quizData",t.qData)("mode",t.mode)("attemptedOps",t.attemptedOps)("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("configData",t.configData)}}function As(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-word-select-v2",27),r.fc("attempted",function(e){return r.Bc(t),r.jc().optionClickEvent(e)})("questAttempted",function(e){return r.Bc(t),r.jc().attemptedQuest(e)})("questLoad",function(e){return r.Bc(t),r.jc().questLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.theme),r.oc("quizData",t.qData)("mode",t.mode)("attemptedOps",t.attemptedOps)("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw)("configData",t.configData)}}const Is=["feedbackWrapper"];function Ms(t,e){if(1&t&&r.Rb(0,"nx-afs-image-zoom",6),2&t){const t=r.jc();r.oc("imgSrc",t.feedback.feedback[0].media)}}function xs(t,e){if(1&t&&r.Rb(0,"video",7),2&t){const t=r.jc();r.oc("src",t.feedback.feedback[0].media,r.Ec)}}function Rs(t,e){if(1&t&&r.Rb(0,"audio",7),2&t){const t=r.jc();r.oc("src",t.feedback.feedback[0].media,r.Ec)}}const ks=["optionWrapper"];function Ls(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",13),r.Vb(1,"div",14),r.Vb(2,"ng-lottie",15),r.fc("animationCreated",function(e){return r.Bc(t),r.jc().animationCreated(e)})("dataReady",function(e){return r.Bc(t),r.jc().onAnimationReady(e)}),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.jc();r.Db(2),r.oc("options",t.pathConfig)}}function js(t,e){if(1&t&&r.Rb(0,"nx-afs-image-zoom",16),2&t){const t=r.jc();r.oc("imgSrc",t.option.media)}}function Ns(t,e){if(1&t&&r.Rb(0,"video",17),2&t){const t=r.jc();r.oc("src",t.option.media,r.Ec)}}function Us(t,e){if(1&t&&r.Rb(0,"audio",17),2&t){const t=r.jc();r.oc("src",t.option.media,r.Ec)}}function Bs(t,e){if(1&t&&(r.Vb(0,"div",18),r.Rb(1,"tce-question-feedback",19),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("message",t.optMsg)}}function Fs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",20),r.Vb(1,"tce-feedback",21),r.fc("widthExceedClass",function(){return r.Bc(t),r.jc().onWidthExceedClass()}),r.Ub(),r.Rb(2,"span",22),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.oc("feedback",t.option)("$resetOverFlow",t.$resetOverFlow)}}const qs=function(t,e,n,i,r,s,o){return[t,e,n,i,r,s,o]};function Vs(t,e){if(1&t&&(r.Vb(0,"div",6),r.Rb(1,"tce-quiz-quill-view",7),r.Vb(2,"p",8),r.Jc(3),r.Ub(),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("content",null==t.quizData[0]?null:t.quizData[0].data.stimulus),r.Db(2),r.Lc("(",t.quizData[0].maxScore,")")}}function Ws(t,e){if(1&t&&(r.Vb(0,"div",6),r.Rb(1,"tce-quiz-quill-view",7),r.Vb(2,"p",8),r.Jc(3),r.Ub(),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("content",null==t.quizData?null:t.quizData.column_title),r.Db(2),r.Lc("(",null==t.quizData[0]?null:t.quizData[0].maxScore,")")}}function Gs(t,e){if(1&t&&r.Rb(0,"nx-afs-image-zoom",9),2&t){const t=r.jc();r.oc("imgSrc",null==t.quizData[0]?null:t.quizData[0].data.stimulus_media)}}function Ks(t,e){if(1&t&&r.Rb(0,"video",10),2&t){const t=r.jc();r.oc("src",t.quizData[0].data.stimulus_media,r.Ec)}}function zs(t,e){if(1&t&&r.Rb(0,"audio",10),2&t){const t=r.jc();r.oc("src",t.quizData[0].data.stimulus_media,r.Ec)}}const $s=function(t){return{textSizeExtended:t}};function Hs(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.fc("click",function(){return r.Bc(t),r.jc().onColutionClicked()}),r.Rb(1,"span",4),r.Ub()}}function Qs(t,e){1&t&&(r.Vb(0,"div"),r.ic(),r.Vb(1,"svg",1),r.Rb(2,"path",2),r.Ub(),r.Ub())}function Ys(t,e){1&t&&(r.Vb(0,"div"),r.ic(),r.Vb(1,"svg",1),r.Rb(2,"path",3),r.Ub(),r.Ub())}function Xs(t,e){1&t&&(r.Vb(0,"div"),r.ic(),r.Vb(1,"svg",1),r.Rb(2,"path",4),r.Ub(),r.Ub())}const Zs=["pic"];function Js(t,e){if(1&t){const t=r.Wb();r.Vb(0,"img",5),r.fc("click",function(e){r.Bc(t);const n=r.jc(),i=r.Ac(5);return n.openZoom(i,e)})("mousedown",function(e){return r.Bc(t),r.jc().stopIt(e)})("mousemove",function(e){return r.Bc(t),r.jc().stopIt(e)})("touchmove",function(e){return r.Bc(t),r.jc().stopIt(e)})("touch",function(e){return r.Bc(t),r.jc().stopIt(e)})("pan",function(e){return r.Bc(t),r.jc().stopIt(e)})("touchstart",function(e){return r.Bc(t),r.jc().stopIt(e)}),r.Ub()}}function to(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",6),r.Vb(1,"h4",7),r.Jc(2,"Zoom View"),r.Ub(),r.Vb(3,"button",8),r.fc("click",function(){return e.$implicit.dismiss("Cross click")}),r.ic(),r.Vb(4,"svg",9),r.Rb(5,"circle",10),r.Vb(6,"g",11),r.Rb(7,"line",12),r.Rb(8,"line",13),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.hc(),r.Vb(9,"div",14),r.Vb(10,"div",15),r.Vb(11,"pan-zoom",16),r.Vb(12,"div",17),r.Rb(13,"nx-afs-lib-secure-asset",18,1),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(15,"div",19),r.Vb(16,"a",20),r.fc("click",function(){return r.Bc(t),r.jc().resetZoom()}),r.Vb(17,"span",21),r.Jc(18,"Reset"),r.Ub(),r.Ub(),r.Vb(19,"a",22),r.fc("click",function(){return r.Bc(t),r.jc().zoomIn()}),r.Vb(20,"span",21),r.Jc(21,"Zoom In"),r.Ub(),r.Ub(),r.Vb(22,"a",22),r.fc("click",function(){return r.Bc(t),r.jc().zoomOut()}),r.Vb(23,"span",21),r.Jc(24,"Zoom Out"),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.jc();r.Db(11),r.oc("config",t.panZoomConfig),r.Db(2),r.oc("url",t.questionCtrl.getBasePath()+t.imgSrc)}}function eo(t,e){1&t&&(r.Vb(0,"div",24),r.Vb(1,"button",25),r.Vb(2,"span",26),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub())}function no(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",27),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function io(t,e){if(1&t&&(r.Vb(0,"div",28),r.Vb(1,"div",29),r.Rb(2,"tce-instructions",30),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.oc("instructionData",r.sc(1,gi,t.questionCtrl.pendingAttempt))}}function ro(t,e){if(1&t&&(r.Vb(0,"div",39),r.Rb(1,"tce-question-feedback",40),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(1),r.oc("message",t.msg)}}function so(t,e){if(1&t&&r.Rb(0,"tce-feedback",41),2&t){const t=r.jc().$implicit;r.oc("feedback",t)}}function oo(t,e){if(1&t&&(r.Vb(0,"div",33),r.Vb(1,"div",34),r.Vb(2,"p"),r.Jc(3),r.Ub(),r.Ub(),r.Hc(4,ro,2,1,"div",35),r.Vb(5,"div",36),r.Hc(6,so,1,1,"tce-feedback",37),r.Rb(7,"span",38),r.Ub(),r.Ub()),2&t){const t=e.$implicit,n=r.jc(3);r.oc("ngClass",r.tc(4,jr,1===t.isCorrect?"correct":"",0===t.isCorrect?"incorrect":"")),r.Db(3),r.Kc(t.word),r.Db(1),r.oc("ngIf",n.questionCtrl.isActiveInstandFeed()),r.Db(2),r.oc("ngIf",null==t?null:t.feedback)}}function ao(t,e){if(1&t&&(r.Vb(0,"div",31),r.Hc(1,oo,8,7,"div",32),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.oc("ngForOf",t.selectedWord)}}function co(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Rb(14,"tce-question",13),r.Ub(),r.Hc(15,eo,4,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"div",15),r.Vb(17,"div",16),r.Vb(18,"div",9),r.Hc(19,no,1,2,"tce-question-feedback",17),r.Rb(20,"tce-instructions",18),r.Hc(21,io,3,3,"div",19),r.Ub(),r.Ub(),r.Vb(22,"div",20),r.Vb(23,"div",9),r.Vb(24,"div",21),r.Vb(25,"nx-afs-word",22),r.fc("selectedWord",function(e){return r.Bc(t),r.jc().selectWord(e)})("dataLoaded",function(e){return r.Bc(t),r.jc().onDataLoad(e)})("dataArrCreated",function(e){return r.Bc(t),r.jc().getCorrectOptionCount(e)}),r.Ub(),r.Hc(26,ao,2,1,"div",23),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(4),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("instructionData",r.sc(15,gi,t.questionCtrl.getInstruction(t.quizData,t.quizData[0].data.options.length))),r.Db(1),r.oc("ngIf",t.questionCtrl.isPendingAttempt),r.Db(4),r.oc("options",t.quizData[0].data.options)("sentence",t.quizData[0].data.questionData)("selectedWords",t.selectedWord)("$showCorrectAns",t.$showCorrectAns)("$resetScreen",t.$resetScreen)("$iDontknw",t.$iDontknw),r.Db(1),r.oc("ngIf",t.selectedWord.length>0)}}const uo=["wsv2QuizWrapper"];function lo(t,e){1&t&&(r.Vb(0,"div",25),r.Vb(1,"button",26),r.Vb(2,"span",27),r.Jc(3,"Attachment"),r.Ub(),r.Ub(),r.Ub())}function ho(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",28),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function po(t,e){if(1&t&&(r.Vb(0,"div",29),r.Vb(1,"div",30),r.Rb(2,"tce-instructions",31),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.oc("instructionData",r.sc(1,gi,t.questionCtrl.pendingAttempt))}}function fo(t,e){if(1&t&&(r.Vb(0,"div",40),r.Rb(1,"tce-question-feedback",41),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(1),r.oc("message",t.msg)}}function _o(t,e){if(1&t&&r.Rb(0,"tce-feedback",42),2&t){const t=r.jc().$implicit;r.oc("feedback",t)}}function go(t,e){if(1&t&&(r.Vb(0,"div",34),r.Vb(1,"div",35),r.Vb(2,"p"),r.Jc(3),r.Ub(),r.Ub(),r.Hc(4,fo,2,1,"div",36),r.Vb(5,"div",37),r.Hc(6,_o,1,1,"tce-feedback",38),r.Rb(7,"span",39),r.Ub(),r.Ub()),2&t){const t=e.$implicit,n=r.jc(3);r.oc("ngClass",r.tc(4,jr,1===t.state?"correct":"",0===t.state?"incorrect":"")),r.Db(3),r.Kc(t.word),r.Db(1),r.oc("ngIf",n.questionCtrl.isActiveInstandFeed()),r.Db(2),r.oc("ngIf",null==t?null:t.feedback)}}function mo(t,e){if(1&t&&(r.Vb(0,"div",32),r.Hc(1,go,8,7,"div",33),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.oc("ngForOf",t.selectedWord)}}function vo(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Rb(14,"tce-question",13),r.Ub(),r.Hc(15,lo,4,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"div",15),r.Vb(17,"div",16),r.Vb(18,"div",9),r.Hc(19,ho,1,2,"tce-question-feedback",17),r.Rb(20,"tce-instructions",18),r.Hc(21,po,3,3,"div",19),r.Ub(),r.Ub(),r.Vb(22,"div",20),r.Vb(23,"div",9),r.Vb(24,"div",21),r.Rb(25,"div",22,23),r.Hc(27,mo,2,1,"div",24),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(4),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("instructionData",r.sc(9,gi,t.questionCtrl.getInstruction(t.quizData,t.quizData[0].data.options.length))),r.Db(1),r.oc("ngIf",t.questionCtrl.isPendingAttempt),r.Db(6),r.oc("ngIf",t.selectedWord.length>0)}}function yo(t,e){if(1&t){const t=r.Wb();r.Vb(0,"p",2),r.fc("click",function(){r.Bc(t);const n=e.$implicit;return r.jc().selectWord(n)}),r.Vb(1,"span",3),r.Jc(2),r.Ub(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.oc("ngClass",r.sc(3,Br,n.punctuation.indexOf(t.word)>-1?"punctuation":"")),r.Db(1),r.oc("ngClass",r.uc(5,tr,1!==t.isCorrect||!0!==(null==t?null:t.isSelected)&&1!==t.isSelected?"":"wordColor correct",0!==t.isCorrect||!0!==(null==t?null:t.isSelected)&&1!==t.isSelected?"":"wordColor incorrect",1!==t.isCorrect||!1!==(null==t?null:t.isSelected)&&0!==t.isSelected||!n.getMissed()?"":"wordColor missed")),r.Db(1),r.Kc(t.word)}}function bo(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",25),r.fc("click",function(){return r.Bc(t),r.jc(2).showAttachment()}),r.Vb(1,"span",26),r.Jc(2,"Attachment"),r.Ub(),r.Ub()}}function Eo(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-question-feedback",27),r.fc("showSolution",function(){return r.Bc(t),r.jc(2).onShowSolution()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("message",t.questionCtrl.questFeedback)("solutionData",t.quizData[0].solution)}}function Oo(t,e){if(1&t&&(r.Vb(0,"div",28),r.Vb(1,"div",29),r.Rb(2,"tce-instructions",30),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.oc("instructionData",r.sc(1,gi,t.questionCtrl.pendingAttempt))}}function So(t,e){if(1&t&&(r.Vb(0,"option",38),r.Jc(1),r.Ub()),2&t){const t=e.$implicit,n=r.jc(3);r.oc("ngValue",t)("disabled",n.isDisable(t)),r.Db(1),r.Lc("",t.label," ")}}function Co(t,e){if(1&t&&(r.Vb(0,"span",39),r.Jc(1),r.Ub()),2&t){const t=r.jc().index,e=r.jc(2);r.Db(1),r.Kc(e.fibOptionFeedBack[t])}}function To(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Rb(1,"tce-quiz-quill-view",31),r.Vb(2,"span",32),r.Vb(3,"select",33),r.fc("ngModelChange",function(n){r.Bc(t);const i=e.index;return r.jc(2).atempted[i]=n})("ngModelChange",function(){r.Bc(t);const n=e.index;return r.jc(2).onAttempt(n)}),r.Hc(4,So,2,3,"option",34),r.Ub(),r.Vb(5,"div",35),r.Rb(6,"span",36),r.Hc(7,Co,2,1,"span",37),r.Ub(),r.Ub(),r.Sb()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.Db(1),r.oc("content",t.questions),r.Db(1),r.oc("ngClass",r.tc(5,jr,1===(null==i.fibAttemptedOpt[n]?null:i.fibAttemptedOpt[n].isCorrect)?"correct":"",0===(null==i.fibAttemptedOpt[n]?null:i.fibAttemptedOpt[n].isCorrect)?"incorrect":"")),r.Db(1),r.oc("ngModel",i.atempted[n]),r.Db(1),r.oc("ngForOf",i.fibOption),r.Db(3),r.oc("ngIf",0===(null==i.fibAttemptedOpt[n]?null:i.fibAttemptedOpt[n].isCorrect))}}function wo(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-solutions",40),r.fc("closeModel",function(){return r.Bc(t),r.jc(2).onSolutionClose()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("solutionData",t.solution)}}function Do(t,e){if(1&t){const t=r.Wb();r.Vb(0,"nx-afs-attachment",41),r.fc("closeModel",function(){return r.Bc(t),r.jc(2).cloasemodal()}),r.Ub()}if(2&t){const t=r.jc(2);r.oc("attachment",t.attachment)}}function Po(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Vb(2,"div",3),r.Vb(3,"div",4),r.Vb(4,"div",5),r.Vb(5,"div",6),r.Rb(6,"lib-difficulty-level",7),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",8),r.Vb(9,"div",9),r.Rb(10,"lib-bonus",10),r.Ub(),r.Ub(),r.Vb(11,"div",11),r.Vb(12,"div",9),r.Vb(13,"div",12),r.Vb(14,"div",12),r.Rb(15,"tce-question",13),r.Ub(),r.Hc(16,bo,3,0,"div",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(17,"div",15),r.Vb(18,"div",16),r.Vb(19,"div",9),r.Hc(20,Eo,1,2,"tce-question-feedback",17),r.Rb(21,"tce-instructions",18),r.Hc(22,Oo,3,3,"div",19),r.Ub(),r.Ub(),r.Vb(23,"div",20),r.Vb(24,"div",9),r.Vb(25,"div",21),r.Hc(26,To,8,8,"ng-container",22),r.Ub(),r.Hc(27,wo,1,1,"tce-solutions",23),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Hc(28,Do,1,1,"nx-afs-attachment",24),r.Ub(),r.Ub()),2&t){const t=r.jc();r.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),r.Db(6),r.oc("difficultyType","difficul"),r.Db(4),r.oc("bonusStr",t.questionCtrl.bonusStr),r.Db(5),r.oc("quizData",t.quizData),r.Db(1),r.oc("ngIf",t.attachment),r.Db(4),r.oc("ngIf",t.questionCtrl.questFeedback),r.Db(1),r.oc("instructionData",r.sc(11,gi,t.questionCtrl.getInstruction(t.quizData,t.quizData.length-1))),r.Db(1),r.oc("ngIf",t.questionCtrl.isPendingAttempt),r.Db(4),r.oc("ngForOf",t.question),r.Db(1),r.oc("ngIf",t.isSolution),r.Db(1),r.oc("ngIf",t.showattachment)}}const Ao=["quillViewLable"];function Io(t,e){1&t&&r.Rb(0,"div",4)}const Mo=function(t){return{opacity:t}};function xo(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",12),r.Vb(1,"div",13),r.Vb(2,"ng-lottie",14),r.fc("animationCreated",function(e){return r.Bc(t),r.jc().animationCreated(e)})("dataReady",function(e){return r.Bc(t),r.jc().onAnimationReady(e)}),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.jc();r.Db(2),r.oc("options",t.pathConfig)}}function Ro(t,e){if(1&t&&r.Rb(0,"nx-afs-image-zoom",15),2&t){const t=r.jc();r.oc("imgSrc",t.option.media)}}function ko(t,e){if(1&t&&r.Rb(0,"video",16),2&t){const t=r.jc();r.oc("src",t.option.media,r.Ec)}}function Lo(t,e){if(1&t&&r.Rb(0,"audio",16),2&t){const t=r.jc();r.oc("src",t.option.media,r.Ec)}}function jo(t,e){if(1&t&&(r.Vb(0,"div",17),r.Rb(1,"tce-question-feedback",18),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("message",t.optMsg)}}function No(t,e){if(1&t&&(r.Vb(0,"div",19),r.Rb(1,"tce-feedback",20),r.Rb(2,"span",21),r.Ub()),2&t){const t=r.jc();r.Db(1),r.oc("feedback",t.option)}}const Uo=".pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:-2px}.optionBox[_ngcontent-%COMP%]   .pretty[_ngcontent-%COMP%]{display:block}.feedbackBox[_ngcontent-%COMP%]{display:none}.optMediaWrapper[_ngcontent-%COMP%]{max-width:100%}.optMediaWrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.optMediaWrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;position:relative;z-index:5}.mcqIndex[_ngcontent-%COMP%], .scqInput[_ngcontent-%COMP%]{display:none}.pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after, .pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{top:4px;border-width:2px}.pretty.p-icon[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:4px}.pretty[_ngcontent-%COMP%]{padding-left:25px}";let Bo=(()=>{class t{constructor(t){this.http=t,this.dataUrlToObs=t=>new d.a(e=>{const n=new FileReader;return n.readAsDataURL(t),n.onload=()=>{console.log("SecureImageService -> reader.onload ->  reader.result as string",n.result),e.next("data:audio/mpeg;base64,"+n.result.split(",")[1]),e.complete()},n.onerror=()=>e.error(n.error),()=>n.abort()})}getConfigFile(t){return this.serviceCall(t)}serviceCall(t){return this.http.get(t).pipe(Object(m.a)(t=>t))}audioServiceCall(t){return this.http.get(t,{responseType:"blob"}).pipe(Object(v.a)(t=>this.dataUrlToObs(t)),Object(m.a)(t=>t),Object(y.a)(t=>{console.log("ApiManagerService -> audioServiceCall -> val",t)}),Object(b.a)(t=>Object(p.a)(t.message)))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(g.b))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(g.b))},token:t,providedIn:"root"}),t})(),Fo=(()=>{class t{constructor(t){this.api=t,this.confidence=0,this._duration=0,this.attempt_count=0,this.questionState=0,this.pending=0,this._marks=0,this.attemptedOps=[],this.correctOptIds=[],this._parentsQstate=0,this.dictQuestFeedback=Object(),this.processDic={},this.bonusStr="Bonus text will come here",this.basePath="",this.pendingAttempt="You have one attempt left",this.isPendingAttempt=!1,this.obtainScore=0,this.currentQuestFeedback=0,this.optionDictPrefix=[],this.optionKey=[],this.spendTime=0,this.persist_max_attempt=0,this._isAnimation=!1,this._idle_time=0,this.instructions={SCQ:"Select the correct answer.",MCQ:"Select the correct answers.",SORTING:"Drag and drop each option into the correct column.",WS:"Select the correct answer.",WS2:"Select the correct answers.",WSV2:"Select the correct answer.",WSV22:"Select the correct answers.",COMPOSITE:"",FIBSCQ:"Select the correct answer.",FIBSCQ2:"Select the correct answer for each blank.",SUBJECTIVE:"Write the answer in the space provided."},this.attemptCountEvent=new f.a(null),this.dictQuestFeedback[0]='You are <span class="redFont">incorrect!</span>',this.dictQuestFeedback[1]='You are <span class="redFont">partially correct!</span>',this.dictQuestFeedback[2]='You are <span class="greenFont">correct!</span> Well done!',this.randomNum=Math.random()}questionLevelFeedbackWithAttemptCount(t,e){let n="";const i="Q_"+t+"_"+this.attempt_count+"_"+this.quizRule.parameters.maxAttempt;console.log("isCorrect "+t,"\nthis.attempt_count "+this.attempt_count+"\nthis.quizRule.parameters.maxAttempt "+this.quizRule.parameters.maxAttempt),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 81 ~ QuestionCntrlService ~ questionLevelFeedbackWithAttemptCount ~ optionsState",i);const r=this.quizRule.msgRule.find(t=>t.rule===i);if(r){const t=r.value.sort(()=>.5-this.randomNum)[0];n=this.getMessageKey(t)}return n}getMessageKey(t){return this.optionDictPrefix.find(e=>e.key===t).msg}getOptionPrefixFeedback(t,e,n,i){let r="";void 0!==n&&void 0!==i&&(t=n===i?1:0);const s=t+"_"+(e?1:0)+"_"+this.attempt_count,o=this.quizRule.msgRule.find(t=>t.rule===s);if(o){const t=Math.floor(Math.random()*o.value.length),e=o.value.sort(()=>.5-this.randomNum)[t];r=this.optionDictPrefix.find(t=>t.key===e).msg}return r}getCofigData(){return this.configData}setConfigData(t){this.configData=t}setcurrentQuestFeedback(t){this.currentQuestFeedback=t}getcurrentQuestFeedback(){return this.currentQuestFeedback}ngOnInit(){this.optionDictPrefix=[],this.optionKey=[]}executeAction(t){for(let e=0;e<t.length;e++){const n=t[e];"applyClass"===n.type?this.applyClass(n.value,n.data):"removeClass"===n.type?this.removeClass(n.value,n.data):"execute"===n.type&&this.showPrefix(n.data)}}attemptCountAsbroadcaster(t){this.attemptCountEvent.next(t)}attemptCountAsSubscriber(){return this.attemptCountEvent.asObservable()}showPrefix(t){this.questFeedback=this.getMessageKey(t)}isActiveInstandFeed(){return-1!==this.configData.userInteraction[this.getClass(this.mode)].indexOf("instantFeedback")}setObtainScore(t){void 0!==t&&NaN!==t||(t=0),this.obtainScore=t}getObtainScore(){return this.obtainScore}setBasePath(t){this.basePath=t}getBasePath(){return this.basePath}resetBasePath(){this.basePath=""}getInstruction(t,e){return t[0].instructions&&""!==t[0].instructions?t[0].instructions:this.instructions[t[0].data.type+(e>1?"2":"")]}setVersionNumber(t){this.version=t}getVersionNumber(){return this.version}isFeedBackAnimation(){return-1!==this.configData.userInteraction.styleAttempt.indexOf("showthemeAnimation")}initialise(t,e,n){this.configData=t,this.quizRule=e,this.persist_max_attempt=e.parameters.maxAttempt,this.mode=n,this._viewState=2,this.reset()}attmptViewState(){this._viewState=1}setAttemptedOptions(t){var e;this.attemptedOps=JSON.parse(JSON.stringify(t)),this._viewState=this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?1:2}getAttemptedOptions(){return this.attemptedOps}setCorrectOptions(t){this.correctOptIds=JSON.parse(JSON.stringify(t))}getCorrectOptions(){return this.correctOptIds}setDuration(t){this._duration=t}getDuration(){return this._duration}setMarks(t){this._marks=t}getMarks(){return this._marks}getMaxTextLength(t){const e=[];for(const n of t)n.label&&n.label.length>0&&e.push(n.label.length);this.maxTextLength=Math.max.apply(null,e),this.getSubTextMaxLength(t)}getSubTextMaxLength(t){const e=[];for(const n of t)if(n.label&&n.label.length>0){const t=n.label.replace(/(<([^>]+)>)/gi,"").split(" ");for(const n of t)e.push(n.length)}this.maxSubTextLength=Math.max.apply(null,e)}onTemplateInit(t){this.quizRule&&0===this.quizRule.parameters.maxAttempt&&(this.quizRule.parameters.maxAttempt=t-1)}changeMaxAttempt(t){this.quizRule.parameters.maxAttempt>t&&(this.quizRule.parameters.maxAttempt=t)}applyClass(t,e){const n=this.configData.userInteraction[t].split(" ");n.push(e),this.configData.userInteraction[t]=n.join(" ")}onEventTrgger(t){if(console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 346 ~ QuestionCntrlService ~ onEventTrgger ~ this.quizRule",this.quizRule),this.quizRule){const e=this.quizRule.event[t];console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 349 ~ QuestionCntrlService ~ onEventTrgger ~ obj",e),void 0!==e&&this.executeAction(e.actions)}}setQueState(t){this.setMsgState(t),this.questionState=t}setMsgState(t){this.questFeedback=this.questionLevelFeedbackWithAttemptCount(t,this.attempt_count),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 378 ~ QuestionCntrlService ~ setMsgState ~ this.questFeedback",this.questFeedback)}getQuestState(){return this.questionState}setParentsQState(t){this._parentsQstate=t}getParentsQState(){return this._parentsQstate}getEventAction(t){const e=this.quizRule.event[t];if(void 0!==e)return e.actions}reset(){this.questionState=0,this.confidence=0,this.timeTaken=0,this.obtainScore=0,this.pending=0,this.attemptedOps=[],this.resetTime()}resetTime(){this.timeStamp=(new Date).getTime(),this.reSetIdeaTimeStemp()}reSetIdeaTimeStemp(){this._idle_time=0}resetMAXAttempt(){this.quizRule.parameters.maxAttempt=this.persist_max_attempt}getAttemptCount(){return this.attempt_count}validateQuestion(){return Object(o.__awaiter)(this,void 0,void 0,function*(){let t;return this.attempt_count++,this.attemptCountAsbroadcaster(this.attempt_count),this.computationConfidenc(),yield new Promise(e=>{setTimeout(()=>{t={attemptCount:this.attempt_count,confidence:this.confidence},this.getValidationState()?(this.onEventTrgger("correctAttemptFb"),t.event="correctAttemptFb",e(t)):this.attempt_count>=this.quizRule.parameters.maxAttempt?(this.onEventTrgger("maxAttemptFb"),t.event="maxAttemptFb",e(t)):(this.onEventTrgger("attemptFb"),t.event="attemptFb",e(t))},10)})})}computeConfidenceMatrix(){let t=this.timeSpend(this.timeStamp);t>1?(this.timeTaken=t+this.spendTime+this._idle_time,this._idle_time=0):this.timeTaken=this.spendTime,console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 457 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ this._idle_time",this._idle_time),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 455 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ timeDiff",t),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 458 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ this.spendTime",this.spendTime),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 457 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ this.timeTaken",this.timeTaken),this.timeStamp=(new Date).getTime(),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 451 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ this.timeStamp",this.timeStamp),this.computationConfidenc()}computationConfidenc(){const t={};t.attemptState=this.questionState/2,t.attemptCnt=1/Math.pow(2,this.attempt_count-1),t.timeTaken=this.timeTaken<=60?1:.5,this.confidence=t.attemptState*t.attemptCnt*t.timeTaken}timeSpend(t){console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 476 ~ QuestionCntrlService ~ timeSpend ~ startTime",t);const e=t-(new Date).getTime();return console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 466 ~ QuestionCntrlService ~ timeSpend ~ diff",Math.abs(e/1e3)),Math.abs(e/1e3)}getValidationState(){return 2===this.questionState}idleTimeValidation(){console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 510 ~ QuestionCntrlService ~ idleTimeValidation ~ this._idle_time",this._idle_time),this._idle_time+=this.timeSpend(this.timeStamp)}getIdleTime(){return this._idle_time}removeClass(t,e){let n=this.configData.userInteraction[t].split(" ");n=n.filter(t=>t!==e),this.configData.userInteraction[t]=n.join(" ")}getQAttemptType(){return this.quizRule.parameters.allOption}getClass(t){return"style"+t.charAt(0).toUpperCase()+t.slice(1)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Bo))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(Bo))},token:t,providedIn:"root"}),t})(),qo=(()=>{class t{constructor(){}checkDataAvailability(t){return!(!t||""===t.trim()||"null"===t||"NA"===t||"na"===t||"undefined"===t)}checkImageAvailability(t){return!!t&&null!=t.match(/\.(jpeg|jpg|gif|png|svg|JPEG|JPG|GIF|PNG|SVG)$/)}checkVideoAvailability(t){return!!t&&null!=t.match(/\.(mp4|m4v|f4v|m4b|ogg|mov|wmv|webm|flv|PM4|M4V|F4V|M4B|OGG|MOV|WMV|WEBM|FLV)$/)}checkPdfAvailability(t){return!!t&&null!=t.match(/\.(pdf)$/)}checkLinkAvailability(t){return!!t&&null!=t.match(/\.(com|in|org|html|php)$/)}checkAudioAvailability(t){return!!t&&null!=t.match(/\.(wav|mp3|mov|WAV|MP3|MOV)$/)}isMediaAvailable(t){return!!(this.checkAudioAvailability(t)||this.checkVideoAvailability(t)||this.checkImageAvailability(t)||this.checkPdfAvailability(t)||this.checkLinkAvailability(t))}shuffle(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Vo=(()=>{class t{constructor(t,e,n){this.utility=t,this.modalService=e,this.questionCtrl=n,this.closeModel=new r.n,this.config={pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1.1,spaceBetween:0}}ngOnInit(){console.log("SolutionsComponent -> ngOnInit -> this.solutionData",this.solutionData)}onClose(t){console.log("SolutionsComponent -> onClose -> e",t),this.closeModel.emit()}isArray(t){return Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(qo),r.Qb(S.b),r.Qb(Fo))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-solutions"]],inputs:{solutionData:"solutionData"},outputs:{closeModel:"closeModel"},features:[r.Cb([S.a])],decls:24,vars:5,consts:[["solutionModal",""],[1,"modal-header"],[1,"modal-title"],[1,"icon","icon-solution","d-block","mr-2"],["type","button","aria-label","Close",1,"btn","btn-icon","close","close-icon",3,"click"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","40px","height","40px","viewBox","0 0 40 40","version","1.1"],["id","Quiz-Solution-AFS-2250","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","AFS-2288-01","transform","translate(-304.000000, -217.000000)"],["id","Compounds/Notifications/Toast/Solution","transform","translate(16.000000, 217.000000)"],["id","Elements/CTAs/IconBased/CR-Copy","transform","translate(288.000000, 0.000000)"],["id","Close/White","transform","translate(8.000000, 8.000000)"],["id","Oval","fill-opacity","0.06","fill","#1268B3","cx","12","cy","12","r","12"],["id","Group","transform","translate(7.000000, 7.000000)","stroke","#0069B9"],["x1","0.550252532","y1","9.55025253","x2","9.55025253","y2","0.550252532","id","Path-5"],["x1","0.550252532","y1","9.55025253","x2","9.55025253","y2","0.550252532","id","Path-5","transform","translate(5.050253, 5.050253) scale(-1, 1) translate(-5.050253, -5.050253) "],[1,"modal-body"],[4,"ngIf"],["class","solutionAnsView","style"," padding: 10px 0px;",4,"ngIf"],["class","solutionAnsView","style"," padding: 10px;",4,"ngIf"],[1,"modal-footer"],[4,"ngFor","ngForOf"],[1,"tce-quill-view",3,"content"],[3,"attachment",4,"ngIf"],[3,"attachment"],[1,"subQWrapper"],[1,"swiper-pagination"],[3,"config"],[1,"swiper-wrapper"],["class","swiper-slide",4,"ngFor","ngForOf"],[1,"swiper-slide"],[1,"solutionAnsView",2,"padding","10px 0px"],[3,"url",4,"ngIf"],[3,"url"],["pic",""],[1,"solutionAnsView",2,"padding","10px"]],template:function(t,e){1&t&&(r.Vb(0,"div",null,0),r.Vb(2,"div",1),r.Vb(3,"h5",2),r.Rb(4,"span",3),r.Jc(5),r.Ub(),r.Vb(6,"button",4),r.fc("click",function(){return e.modalService.dismissAll("Cross click")}),r.ic(),r.Vb(7,"svg",5),r.Rb(8,"title"),r.Vb(9,"g",6),r.Vb(10,"g",7),r.Vb(11,"g",8),r.Vb(12,"g",9),r.Vb(13,"g",10),r.Rb(14,"circle",11),r.Vb(15,"g",12),r.Rb(16,"line",13),r.Rb(17,"line",14),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.hc(),r.Vb(18,"div",15),r.Hc(19,Zn,2,1,"div",16),r.Hc(20,ii,6,2,"div",16),r.Hc(21,oi,2,1,"div",17),r.Hc(22,ai,2,1,"div",18),r.Ub(),r.Rb(23,"div",19),r.Ub()),2&t&&(r.Db(5),r.Lc(" ",e.solutionData.type,""),r.Db(14),r.oc("ngIf",!e.solutionData.step_nav),r.Db(1),r.oc("ngIf",e.solutionData.step_nav),r.Db(1),r.oc("ngIf",e.isArray(e.solutionData.answer)),r.Db(1),r.oc("ngIf",!e.isArray(e.solutionData.answer)))},directives:function(){return[s.l,s.k,Sa,ua,la,ha,_n,Mn]},styles:["[_nghost-%COMP%]    .subQWrapper{position:relative}[_nghost-%COMP%]    .subQWrapper .swiper-pagination{position:relative;margin:10px}[_nghost-%COMP%]    .subQWrapper .swiper-pagination .swiper-pagination-bullet{background-color:#3fcaaa;margin:2px;padding:2px;width:12px;height:12px}header#modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}header#modal-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}[_nghost-%COMP%]     .solutions{font-size:14px;border:1px solid #cdcdcd}[_nghost-%COMP%]     .solutions #modal-body div div h6, [_nghost-%COMP%]     .solutions .ql-editor{padding:10px}[_nghost-%COMP%]     .solutions header{padding:10px;background-color:#cdcdcd}.modal-backdrop.fade[_ngcontent-%COMP%]{opacity:.5}.modal-open[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{opacity:1}.solutionAnsView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}  .solutionAnsView .ql-editor{background-color:transparent;padding:0}  .solutionAnsView .ql-editor p{font-size:15px;letter-spacing:0;line-height:20px}  .modal-dialog-scrollable .modal-body{max-height:calc(100vh - 210px)}"]}),t})(),Wo=(()=>{class t{constructor(t,e){this.utility=t,this.activeModal=e,this.closeModel=new r.n}ngOnInit(){Array.isArray(this.attachment)?this.attachmentNote=this.attachment:this.attachmentForOther=this.attachment}onClose(){this.closeModel.emit()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(qo),r.Qb(S.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-attachment"]],inputs:{attachment:"attachment"},outputs:{closeModel:"closeModel"},decls:16,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn","btn-icon","close","close-icon",3,"click"],["width","24px","height","24px","viewBox","0 0 24 24","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Oval","fill-opacity","0.06","fill","#1268B3","cx","12","cy","12","r","12"],["x1","7.55025253","y1","16.5502525","x2","16.5502525","y2","7.55025253","id","Path-5","stroke","#000"],["x1","7.55025253","y1","16.5502525","x2","16.5502525","y2","7.55025253","id","Path-5","stroke","#000","transform","translate(12.050253, 12.050253) scale(-1, 1) translate(-12.050253, -12.050253) "],[1,"modal-body"],[3,"attachment",4,"ngIf"],[1,"modal-footer"],[3,"attachment"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"h5",1),r.Jc(2,"Attachment"),r.Ub(),r.Vb(3,"button",2),r.fc("click",function(){return e.activeModal.dismiss("Cross click")}),r.ic(),r.Vb(4,"svg",3),r.Rb(5,"circle",4),r.Rb(6,"line",5),r.Rb(7,"line",6),r.Ub(),r.Ub(),r.Ub(),r.hc(),r.Vb(8,"div",7),r.Hc(9,ci,1,1,"nx-afs-image-viewer",8),r.Hc(10,ui,1,1,"nx-afs-video-viewer",8),r.Hc(11,li,1,1,"nx-afs-pdf-viewer",8),r.Hc(12,hi,1,1,"nx-afs-text-viewer",8),r.Hc(13,di,1,1,"nx-afs-external-link",8),r.Hc(14,pi,1,1,"nx-afs-notes-viewer",8),r.Ub(),r.Rb(15,"div",9)),2&t&&(r.Db(9),r.oc("ngIf",e.utility.checkImageAvailability(e.attachmentForOther)),r.Db(1),r.oc("ngIf",e.utility.checkVideoAvailability(e.attachmentForOther)),r.Db(1),r.oc("ngIf",e.utility.checkPdfAvailability(e.attachmentForOther)),r.Db(1),r.oc("ngIf",!(e.utility.checkImageAvailability(e.attachmentForOther)||e.utility.checkVideoAvailability(e.attachmentForOther)||e.utility.checkPdfAvailability(e.attachmentForOther)||e.utility.checkLinkAvailability(e.attachmentForOther))),r.Db(1),r.oc("ngIf",e.utility.checkLinkAvailability(e.attachmentForOther)),r.Db(1),r.oc("ngIf",e.attachmentNote))},directives:function(){return[s.l,ua,la,ha,da,pa,ga]},styles:[""]}),t})(),Go=(()=>{class t{constructor(t,e,n,i){this.questionCtrl=t,this.utility=e,this.zone=n,this.modalService=i,this.attempted=new r.n,this.submited=new r.n,this.questAttempted=new r.n,this.$onOptClick=new f.a(null),this.destroy$=new _.a,this.isSolution=!1,this.showattachment=!1,this.attemptedOption=[],this.optDisplayPos=[],this.animationFlag=!1,this.totalCorrectOptionCount=-1,this.selectOptionCounter=0,this.resetFlag=!1,this.selectedOptionEvent=new r.n,this.userAttempt=new r.n,this.questLoad=new r.n}ngOnInit(){this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),this.animationFlag=!0,this.solution=this.quizData[0].solution,this.initEvent(),this.zone.run(()=>{this.toggelSelection("review"===this.mode)}),this.checkAttempted(),this.questionCtrl.pending=this.quizData.length}set quizData(t){this._quizData=Object(C.cloneDeep)(t),this.questionCtrl.getMaxTextLength(this.quizData[0].data.options),this.changeAttemptCount(this.quizData[0].data.options),this.totalCorrectOptionCount=-1,this.selectOptionCounter=0,this.setTotalCorrectOptionCount(this.getCorrectOptionCount(this.quizData[0].data.options)),this.questionCtrl._isAnimation=!0,this.$onOptClick.next(null),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.checkShuffle()}get quizData(){return this._quizData}set attemptedOps(t){this._attemptedOps=t,this.checkAttempted()}get attemptedOps(){return this._attemptedOps}checkAttempted(){var t;this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?(this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOps)),this.updateAttemptedOption(),this.questionCtrl.setQueState(this.getQValidate("checkAttempted")),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.setSelectOptionCounter(this.attemptedOption[0].options.length),this.updateOptState()):this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}],this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted")),this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState)}checkShuffle(){this.quizData[0].data.metadata&&this.quizData[0].data.metadata.shuffle&&this.shuffleOptions()}shuffleOptions(){this.utility.shuffle(this.quizData[0].data.options)}updateAttemptedOption(){for(const t of this.quizData[0].data.options)for(const e of this.attemptedOption[0].options)t.value===e&&(t.isSelected=!0,this.questionAttempted(t))}initEvent(){this.$resetScreen.subscribe(t=>{this.reset(),this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}]}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()}),this.$iDontknw.subscribe(t=>{this.questionCtrl.onEventTrgger("iDontKnow")}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(E.a)(this.destroy$)).subscribe(t=>{if(null!==t){let t=JSON.parse(JSON.stringify(this.attemptedOption));t=this.chnageAttemptObj(t)}})}showAnswer(){for(const t of this.quizData[0].data.options)1===t.isCorrect&&(t.isSelected=!0)}reset(){this.zone.run(()=>{this.quizData[0].data.options.map(t=>t.isSelected=!1)})}toggelSelection(t){for(const e of this.quizData[0].data.options)e.isSelected=t}doSomething(t){this.configData=t}questionAttempted(t){let e=this.manipulation(t),n=JSON.parse(JSON.stringify(this.attemptedOption));n=this.attemptedOption[0].options.length>0?this.chnageAttemptObj(n):[],this.setSelectOptionCounter(this.attemptedOption[0].options.length),this.updateOptState();const i={event:"onOptClick",attemptedOption:n,marksObtained:e,qState:this.questionCtrl.getQuestState()};this.questAttempted.emit(this.getDispatchObj(i))}getCorrectOptionCount(t){let e=0,n=[];for(const i of t)1===i.isCorrect&&(e++,n.push(i.value));return this.questionCtrl.setCorrectOptions(n),e}manipulation(t){return this.updateUserAttempted(t),this.selectedOption=t,this.questionCtrl.setcurrentQuestFeedback(t.isCorrect),this.questionCtrl.setQueState(this.getQValidate("onStateChange")),this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted")),this.computeAttemptedMarks()}onStateChange(t,e){this.optDisplayPos.includes(e)?this.optDisplayPos.splice(this.optDisplayPos.indexOf(e),1):this.optDisplayPos.push(e);let n=this.manipulation(t),i=JSON.parse(JSON.stringify(this.attemptedOption));i=this.attemptedOption[0].options.length>0?this.chnageAttemptObj(i):[],this.setSelectOptionCounter(this.attemptedOption[0].options.length),this.updateOptState();const r={event:"onOptClick",attemptedOption:i,marksObtained:n,qState:this.questionCtrl.getQuestState()};this.attempted.emit(this.getDispatchObj(r)),this.$onOptClick.next(!0)}chnageAttemptObj(t){return t.forEach(t=>{t.qState=this.questionCtrl.getQuestState(),t.correctOptId=this.questionCtrl.getCorrectOptions(),t.optDisplayPos=JSON.parse(JSON.stringify(this.optDisplayPos)),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.getAttemptCount(),t.pending=this.questionCtrl.pending,t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(t),t}updateOptState(){this.isOptionRestrict()?this.questionCtrl.onEventTrgger("optionRestriction"):this.questionCtrl.onEventTrgger("optionActivation")}getMissed(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}updateUserAttempted(t){t.isSelected?this.addAttemtedOption(t):this.removeAttemtedOption(t),this.questionCtrl.setAttemptedOptions(this.attemptedOption)}computeAttemptedMarks(){const t=this.attemptedOption[0].options.length>0?this.attemptedOption[0].options.map(t=>this.getOptionById(t)).reduce((t,e)=>t+e):0;return this.questionCtrl.setObtainScore(t),t}getOptionById(t){for(const e of this.quizData[0].data.options)if(t===e.value)return e.score;return 0}changeAttemptCount(t){2===t.length&&this.questionCtrl.changeMaxAttempt(1)}addAttemtedOption(t){this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOption)),this.addAttemptedOptionNoCommon(t)}addAttemptedOptionNoCommon(t){-1===this.attemptedOption[0].options.indexOf(t.value)&&this.attemptedOption[0].options.push(t.value)}removeAttemtedOption(t){this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOption));let e=this.attemptedOption[0].options.indexOf(t.value);this.attemptedOption[0].options.splice(e,1)}getQValidate(t){const e=[],n=this.getValidationArr(this.quizData[0].data);let i=n.reduce((t,e)=>t+e,0);const r=n.length-i;for(let c=0;c<this.attemptedOption[0].options.length;c++){const t=this.getIndexByOption(this.attemptedOption[0].options[c]);e.push(1===n[t]?r+1:-1)}let s=e.reduce((t,e)=>t+e,0),o=i*(r+1),a=Math.ceil(s/o);return a<0&&(a=0),(Math.floor(s/o)+1)*a}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}getIndexByOption(t){return this.quizData[0].data.options.findIndex(e=>e.value===t)}getValidationArr(t){const e=[];for(const n of t.options)e.push(n.isCorrect);return e}subscribeEvent(){}onOptionAttempted(t){this.attempted.emit(t)}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}onSolutionClose(){this.isSolution=!1}cloasemodal(){this.showattachment=!1}showAttachment(){this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}setTotalCorrectOptionCount(t){this.totalCorrectOptionCount=t}setSelectOptionCounter(t){this.selectOptionCounter=t}isOptionRestrict(){return this.totalCorrectOptionCount<=this.selectOptionCounter}getDispatchObj(t){return t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t.attemptedOption.forEach(e=>{e.timeTaken=Object(C.cloneDeep)(t.timeTaken),e.idleTime=Object(C.cloneDeep)(this.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",t.attemptedOption),t}ngOnDestroy(){try{this.eventsSubscription.unsubscribe(),this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null),this.$onOptClick.next(null)}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(qo),r.Qb(r.A),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-mcq"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questAttempted:"questAttempted",selectedOptionEvent:"selectedOptionEvent",userAttempt:"userAttempt",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"mainOptionBox"],[3,"url",4,"ngIf"],[3,"option","index","$resetScreen","configData","ngClass","stateChange",4,"ngFor","ngForOf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[3,"url"],["pic",""],[3,"option","index","$resetScreen","configData","ngClass","stateChange"]],template:function(t,e){1&t&&r.Hc(0,Ei,27,12,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,sa,oa,s.k,ca,Mn,ra]},styles:[".mainOptionBox[_ngcontent-%COMP%]{position:relative}.mainOptionBox[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;display:none}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .mcq .mcqInput, [_nghost-%COMP%]     .showFeedback .feedbackBox{display:block}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}"]}),t})(),Ko=(()=>{class t{constructor(t,e){this.resolver=t,this.rendererFactory=e,this.renderer=this.rendererFactory.createRenderer(null,null)}createComponent(t,e,n,i,r,s,o){this.entryContainer=t;const a=this.resolver.resolveComponentFactory(i);this.componentRef=this.entryContainer.createComponent(a),this.componentRef.instance.quizData=e,this.componentRef.instance.configData=n,this.componentRef.instance.mode=r,this.componentRef.instance.$showCorrectAns=s,this.componentRef.instance.$resetScreen=o}get getComponentRef(){return this.componentRef}clear(){this.entryContainer.clear()}destroyComponent(){this.componentRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.j),r.cc(r.F))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(r.j),Object(r.cc)(r.F))},token:t,providedIn:"root"}),t})(),zo=(()=>{class t{constructor(t,e){this.questionCtrl=t,this.modalService=e,this.attempted=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.questAttempted=new r.n,this.check=!1,this.config={pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1.1,spaceBetween:0},this.que=[],this.qCounter=1,this.attemp=!1,this.hideContinue=!0,this.showattachment=!1,this.isSolution=!1,this.configData={},this._marksObtained=[],this.userAttempted=[],this._attemptedOps=[],this.destroy$=new _.a}ngOnInit(){this.intializeEvent()}set quizData(t){console.log("\ud83d\ude80 ~ file: composite-steps.component.ts ~ line 75 ~ CompositeStepsComponent ~ @Input ~ value",JSON.parse(JSON.stringify(t))),this._quizData=t,this.intiQuizData()}get quizData(){return this._quizData}intiQuizData(){this.qCounter=1,this.questionCtrl.pending=this.quizData.length-this.qCounter,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:this.qCounter,totalSubQ:this.quizData.length-1,marks:this.questionCtrl.getMarks()}),this.configData=this.quizData[0].style,this.que=[this.quizData[this.qCounter]],this.questionCtrl.setConfigData(this.que[0].style),this.check=!0,this.que[0].attachment&&(this.attachment=this.que[0].attachment.data),this.instructionData={data:"Let\u2019s break this question into smaller steps.",intructionStyle:""},this.solutionStrtegiesData={data:this.quizData[0].solutionStrategies}}set attemptedOps(t){this._attemptedOps=t,this.userAttempted=Object(C.cloneDeep)(this.attemptedOps),this.getCurrentAttemptedQ()}get attemptedOps(){return this._attemptedOps}getCurrentAttemptedQ(){var t;this.questionCtrl.timeStamp=(new Date).getTime();let e=this.getCurrSubQ();return null!==e&&(null==e?void 0:e.options.length)>0?(this.attemptedOption=null!=e?[e]:[],this.questionCtrl.spendTime=null!=e?null!==(t=e.timeTaken)&&void 0!==t?t:e.timeTaken=0:0,console.log("attemptedOption",this.attemptedOption)):(this.attemptedOption=[],this.questionCtrl.spendTime=0),this.attemptedOption}getCurrSubQ(){let t=null;return this.attemptedOps&&this.attemptedOps.length>0&&(t=this.attemptedOps[this.qCounter-1]),t}setQuestionIndex(){}createNotAttemptedOptionStructure(){let t=0;for(let e=0;e<this.userAttempted.length;e++)this.userAttempted[e]?(void 0===this.userAttempted[e].marksObtained&&(this.userAttempted[e].marksObtained=0),t+=this.userAttempted[e].marksObtained):this.userAttempted[e]={qid:this.quizData[this.qCounter-1].questionID,options:[]};this.questionCtrl.setObtainScore(t)}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}onSolutionClose(){this.isSolution=!1}intializeEvent(){this.$nextSubQ&&this.$nextSubQ.subscribe(t=>{t?this.previousSate(t):this.continue()})}attemptCountAsSubscriber(){this.questionCtrl.attemptCountAsbroadcaster(null),Object(C.delay)(()=>{this.questionCtrl.attemptCountAsSubscriber().pipe(Object(E.a)(this.destroy$)).subscribe(t=>{console.log("CompositeStepsComponent -> intializeEvent -> val",t),null!==t&&this.userAttempted.length>0&&(this.userAttempted=Object(C.cloneDeep)(this.userAttempted),this.userAttempted[this.qCounter-1].attemptCount=this.questionCtrl.attempt_count,console.log("CompositeStepsComponent -> intializeEvent -> this.userAttempted",this.userAttempted),this.questionCtrl.setAttemptedOptions(this.userAttempted))})},20)}continue(){this.attemp=!1,this.check=!1,this.qCounter++,this.qCounter<this.quizData.length&&(this.questionCtrl.onEventTrgger("nextQuest"),this.resetParam(),this.getCurrentAttemptedQ(),console.log(" totalSubQ:this.quizData.length-1",this.quizData.length-1,this.attemptedOps),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:this.qCounter,totalSubQ:this.quizData.length-1,marks:this.questionCtrl.getMarks()}),this.que=[Object(C.cloneDeep)(this.quizData[this.qCounter])],this.reset(),this.questionCtrl.setConfigData(this.que[0].style),this.que[0].nextState=!0,this.que[0].attachment&&(this.attachment=this.que[0].attachment.data),this.instructionData={data:"Let\u2019s break this question into smaller steps.",intructionStyle:""})}loadQuestion(t){}questLoaded(t){console.log("CompositeStepsComponent -> questLoaded -> event",t),console.log(" totalSubQ:this.quizData.length-1",this.quizData.length-1),this.triggerPrefix(),this.attemptCountAsSubscriber()}triggerPrefix(){let t=this.getCurrentAttemptedQ();console.log("CompositeStepsComponent -> triggerPrefix -> attemptedCurOpt",t),(0===t.length||0==t[0].options.length)&&this.questionCtrl.onEventTrgger("mode_"+this.mode+"_-1")}getQData(t){let e=[];return e.push(t),e}resetParam(){this.questionCtrl.pending=this.quizData.length-this.qCounter,this.hideContinue=!1,this.questionCtrl.attempt_count=0,this.questionCtrl.questionState=0,this.questionCtrl.resetMAXAttempt(),this.questionCtrl.resetTime()}onAttempt(t){this.attemp=!0;const e=Object(C.cloneDeep)(t);this.questionCtrl.setQueState(e.qState),e.attemptedOption.length>0?(this._attemptedOps=Object(C.cloneDeep)(this._attemptedOps),this._attemptedOps[this.qCounter-1]=e.attemptedOption[0],this.userAttempted=Object(C.cloneDeep)(this.userAttempted),this.userAttempted[this.qCounter-1]=e.attemptedOption[0],this.userAttempted[this.qCounter-1].version=this.questionCtrl.getVersionNumber(),this.userAttempted[this.qCounter-1].attemptCount=this.questionCtrl.getAttemptCount(),this.userAttempted[this.qCounter-1].pending=this.questionCtrl.pending,this.userAttempted[this.qCounter-1].status=this.questionCtrl.getQuestState(),this.userAttempted[this.qCounter-1].marksObtained=e.marksObtained,console.log("CompositeStepsComponent -> onAttempt -> userAttempted",this.userAttempted)):(this.userAttempted=Object(C.cloneDeep)(this.userAttempted),this._attemptedOps=Object(C.cloneDeep)(this._attemptedOps),this.userAttempted[this.qCounter-1].options=[],this.userAttempted[this.qCounter-1].status=this.questionCtrl.getQuestState(),this.userAttempted[this.qCounter-1].marksObtained=e.marksObtained,this._attemptedOps[this.qCounter-1]=this.userAttempted[this.qCounter-1]),this.createNotAttemptedOptionStructure(),console.log("CompositeStepsComponent -> onAttempt -> attempOpt",e),this.questionCtrl.setParentsQState(this.getQValidate()),this.questionCtrl.setAttemptedOptions(this.userAttempted),this.attempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:this.userAttempted}))}reset(){for(const t of this.que[0].data.options)t.isSelected=!1}attemptedQuest(t){const e=Object(C.cloneDeep)(t);e.attemptedOption.length>0?(this.attemptedOps[this.qCounter-1]=e.attemptedOption[0],this.userAttempted=Object(C.cloneDeep)(this.userAttempted),this.userAttempted[this.qCounter-1]=e.attemptedOption[0],this.userAttempted[this.qCounter-1].version=this.questionCtrl.getVersionNumber(),this.userAttempted[this.qCounter-1].attemptCount=this.questionCtrl.getAttemptCount(),this.userAttempted[this.qCounter-1].pending=this.questionCtrl.pending,this.userAttempted[this.qCounter-1].status=this.questionCtrl.getQuestState(),this.userAttempted[this.qCounter-1].marksObtained=e.marksObtained,console.log("CompositeStepsComponent -> onAttempt -> userAttempted",this.userAttempted)):(this.userAttempted=Object(C.cloneDeep)(this.userAttempted),this.userAttempted[this.qCounter-1].options=[],this.userAttempted[this.qCounter-1].status=this.questionCtrl.getQuestState(),this.userAttempted[this.qCounter-1].marksObtained=e.marksObtained),this.createNotAttemptedOptionStructure(),this.questionCtrl.setQueState(e.qState),console.log("CompositeStepsComponent -> onAttempt -> attempOpt",e),this.questionCtrl.setParentsQState(this.getQValidate()),this.questionCtrl.setAttemptedOptions(this.userAttempted),this.questAttempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:this.userAttempted}))}getQValidate(){let t=0;console.log("CompositeStepsComponent -> getQValidate -> this.userAttempted",this.userAttempted);for(const n of this.userAttempted)n.status&&(t+=n.status);let e=t/(2*(this.quizData.length-1));return 1===e?2:0===e?0:1}updateState(t){this.quizData[this.qCounter].questionState=this.questionCtrl.questionState}cloasemodal(){this.showattachment=!1}showAttachment(){this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}previousSate(t){this.qCounter=t,this.qCounter<this.quizData.length&&(this.resetParam(),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:this.qCounter,totalSubQ:this.quizData.length-1,marks:this.questionCtrl.getMarks()}),this.que=[Object(C.cloneDeep)(this.quizData[this.qCounter])],this.reset(),this.que[0].nextState=!0,this.questionCtrl.setConfigData(this.que[0].style),this.getCurrentAttemptedQ(),this.que[0].attachment&&(this.attachment=this.que[0].attachment.data),this.instructionData={data:"Let\u2019s break this question into smaller steps.",intructionStyle:""})}getDispatchObj(t){t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore();const e=t.attemptedOption[this.qCounter-1];return e.timeTaken=Object(C.cloneDeep)(this.questionCtrl.timeTaken),e.idleTime=Object(C.cloneDeep)(this.questionCtrl.getIdleTime()),t.timeTaken=t.attemptedOption.map(t=>t.timeTaken).reduce((t,e)=>t+e,0),console.log("\ud83d\ude80 ~ file: composite-steps.component.ts ~ line 439 ~ CompositeStepsComponent ~ getDispatchObj ~ obj.timeTaken",t.timeTaken),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",t),t}ngOnDestroy(){try{this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null)}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-composite-steps"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$nextSubQ:"$nextSubQ",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad",questAttempted:"questAttempted"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox","questionBoxTop"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],["class","d-none",3,"message","showSolution",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[1,"tce-solution-strategies"],["class","tce-instructions instruction-attempnt text-center qsn-instructions",3,"solutionStrtegiesData",4,"ngIf"],[1,"tce-instructions","instruction-attempnt","text-center","qsn-instructions","quest-intro",3,"instructionData"],[1,"instruction-attempnt","text-center","pendingAttemptMsgBox"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"qsn-opsns-box"],[1,"navigation"],[4,"ngFor","ngForOf"],[1,"swiper-wrapper"],[1,"swiper-slide"],["class","comp-sub-qsn",3,"$showCorrectAns","$resetScreen","$iDontknw","quizData","attemptedOps","configData","mode","questAttempted","questLoad","attempted",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[1,"d-none",3,"message","showSolution"],[3,"solutionData","closeModel"],[1,"tce-instructions","instruction-attempnt","text-center","qsn-instructions",3,"solutionStrtegiesData"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],[1,"comp-sub-qsn",3,"$showCorrectAns","$resetScreen","$iDontknw","quizData","attemptedOps","configData","mode","questAttempted","questLoad","attempted"]],template:function(t,e){1&t&&r.Hc(0,xi,37,18,"div",0),2&t&&r.oc("ngIf",e.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,sa,oa,s.k,ca,Vo,aa,Xo,Go]},styles:['[_nghost-%COMP%]     .composite tce-instructions>div{font-style:italic;padding:10px 0;font-weight:700}[_nghost-%COMP%]     .composite tce-instructions .ql-editor{padding:0}[_nghost-%COMP%]     .composite tce-solution-strategies div{background-color:#dcdcdc;padding:10px}[_nghost-%COMP%]     .composite tce-solution-strategies div li{margin-bottom:10px}[_nghost-%COMP%]     .composite tce-solution-strategies div li:last-child{margin-bottom:0}[_nghost-%COMP%]     .composite tce-solution-strategies .ql-editor{padding:0}[_nghost-%COMP%]     .composite tce-scq .pretty.p-curve .state label:after, [_nghost-%COMP%]     .composite tce-scq .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .composite tce-scq .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .composite .subQWrapper{position:relative}[_nghost-%COMP%]     .composite .subQWrapper .swiper-pagination{position:relative;margin:10px}[_nghost-%COMP%]     .composite .subQWrapper .swiper-pagination .swiper-pagination-bullet{background-color:#3fcaaa;margin:2px;padding:2px;width:12px;height:12px}.composite-nav-disable[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;list-style:none}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:25px;width:25px;border:2px solid #989898;border-radius:50px;margin:0 5px}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#1268b3;border-color:#1268b3}[_nghost-%COMP%]    .print .swiper-pagination{display:none}[_nghost-%COMP%]    .print .swiper-container{pointer-events:none}[_nghost-%COMP%]    .print .swiper-container .swiper-wrapper{display:block}[_nghost-%COMP%]    .print .swiper-container .swiper-wrapper .swiper-slide{width:100%;margin-right:0;margin-bottom:20px}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}.BigIdea[_ngcontent-%COMP%]   .continueBt[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.BigIdea[_ngcontent-%COMP%]   .masterQFeed[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center}tce-quest-feedback[_ngcontent-%COMP%]{display:none}']}),t})(),$o=(()=>{class t{constructor(t,e){this.questionCtrl=t,this.modalService=e,this.attempted=new r.n,this.change=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.question=[],this.optionHolder=[],this.currQuestion=[],this.isSolution=!1,this.attachment="",this.showattachment=!1,this.draggable={data:"myDragData",effectAllowed:"all",disable:!1,handle:!1},this.fibAttemptesOpt=[]}ngOnInit(){this.solution=this.quizData[0].solution,this.attachment=this.quizData[0].attachment.data;const t=this.quizData[0].data.stimulus.split("####");this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this.quizData.length}),t.pop(),t.forEach(t=>{this.question.push({questions:t})}),this.userAttempted=JSON.parse(JSON.stringify(this.attemptedOps)),this.checkAttemptedOps()}checkAttemptedOps(){var t;console.log("attemptedOps",this.attemptedOps),this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?this.updateAttemptedOption():this.attemptedOption=[]}updateAttemptedOption(){for(let t=0;t<this.question.length;t++){const e=this.quizData[0].data.blanks[t];console.log("currQ",e);for(let n=0;n<this.attemptedOps.length;n++)e.options.forEach(e=>{e.value==this.attemptedOps[n].options[0]&&(e.isSelected=!0,this.question[t].attemptedOptions=[],this.question[t].attemptedOptions.push(e))})}}getCurrentAttemptedQ(t){var e;if(this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0){let e=this.attemptedOps[t];this.attemptedOption=null!=e?[e]:[]}else this.attemptedOption=[]}onStateChange(t){console.log(t)}getQValidate(){const t=[],e=this.getValidationArr(this.quizData[0].data);for(let s=0;s<this.quizData[0].data.options.length;s++)t.push(this.quizData[0].data.options[s].isSelected&&1===e[s]?1:0);const n=t.reduce((t,e)=>t+e,0),i=e.reduce((t,e)=>t+e,0),r=Math.ceil(n/i);return(Math.floor(n/i)+1)*r}getValidationArr(t){const e=[];console.log(t);for(const n of t.options)e.push(n.isCorrect);return e}updateAttempt(t){console.log("opt",t);const e=this.quizData[0].attemptedOptions.indexOf(t);-1===e?this.quizData[0].attemptedOptions.push(t):this.quizData[0].attemptedOptions.splice(e,1)}onShowSolution(){this.isSolution=!0}openComponent(t){this.currentindex=t,console.log("cuu--",this.currQuestion.options),this.currQuestion=this.quizData[0].data.blanks[t],this.metadata=this.quizData[0].metadata,console.log(this.currQuestion),this.modifiedDataStructure=[{questionID:this.currQuestion.blankId,data:{options:this.currQuestion.options},metadata:this.metadata}],this.getCurrentAttemptedQ(t),console.log("modified",this.modifiedDataStructure)}onSolutionClose(){this.isSolution=!1}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}onchange(){}optionClickEvent(t){this.userAttempted=JSON.parse(JSON.stringify(this.userAttempted)),this.userAttempted[this.currentindex]=t.attemptedOption[0],this.markFibOpt(t.attemptedOption[0].options[0]),this.attempted.emit({event:"onOptClick",attemptedOption:this.userAttempted})}getEventOption(){}markFibOpt(t){this.currQuestion.options.forEach(e=>{e.value==t&&(this.question[this.currentindex].attemptedOptions=[],this.question[this.currentindex].attemptedOptions.push(e))})}cloasemodal(){console.log("ds"),this.showattachment=!1}showAttachment(){console.log(this.solution),this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}ngOnDestroy(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe()}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-fib"]],inputs:{quizData:"quizData",configData:"configData",mode:"mode",attemptedOps:"attemptedOps",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",change:"change",submited:"submited",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","mainOptionBox"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[1,"fibWrapper"],[4,"ngFor","ngForOf"],["class","vjs-notes-btn",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"qsn-instructions",3,"instructionData"],[1,"instruction-attempnt","text-center","pendingAttemptMsgBox"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"qsn-opsns-box"],[3,"quizData","attemptedOps","configData","mode","$resetScreen","$showCorrectAns","$iDontknw","attempted",4,"ngIf"],[3,"quizData","configData","mode","$resetScreen","$iDontknw","$showCorrectAns","attempted","change",4,"ngIf"],[3,"message","showSolution",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"tce-quill-view",3,"content"],[1,"tce-instructions","quest-intro",3,"instructionData"],[1,"bucket",3,"click"],[3,"option","configData","ngClass","index","onClickEvent","stateChange",4,"ngFor","ngForOf"],[3,"option","configData","ngClass","index","onClickEvent","stateChange"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[3,"message","solutionData","showSolution"],[3,"quizData","attemptedOps","configData","mode","$resetScreen","$showCorrectAns","$iDontknw","attempted"],[3,"quizData","configData","mode","$resetScreen","$iDontknw","$showCorrectAns","attempted","change"],[3,"message","showSolution"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(t,e){1&t&&r.Hc(0,Gi,33,19,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,s.k,oa,Sa,ra,ca,Xo,Jo,Vo,Wo]},styles:['[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .fib tce-scq .questionFeedback, [_nghost-%COMP%]     .fib tce-subjective .questionFeedback{display:none}[_nghost-%COMP%]     .fib .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper{border:none!important;margin:0;padding:0 5px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .optionBox{margin-top:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .state.p-primary-o{display:none}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .pretty{margin-right:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox{position:absolute;padding:10px;background-position:0 0;background-size:25px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox .tce-quill-view{display:none}.fibWrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.bucket[_ngcontent-%COMP%]{border-bottom:1px dashed #000;min-width:50px;cursor:pointer;min-height:25px}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}[_nghost-%COMP%]     .horizontal .pendingAttemptMsgBox{display:none}']}),t})(),Ho=(()=>{class t{constructor(t,e,n){this.questionCtrl=t,this.modalService=e,this.utility=n,this.attempted=new r.n,this.change=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.question=[],this.isSolution=!1,this.attachment="",this.showattachment=!1,this.destroy$=new _.a}ngOnInit(){this.initEvent()}set quizData(t){this._quizData=t,this.getCorrectOptionCount(this.quizData),this.blankGenerator(),this.checkShuffle()}get quizData(){return this._quizData}set attemptedOps(t){this._attemptedOps=t}get attemptedOps(){return this._attemptedOps}getCorrectOptionCount(t){let e=[];for(const n of t)for(const t of n.data.options)1===t.isCorrect&&t.value&&e.push(t.value);this.questionCtrl.setCorrectOptions(e)}blankGenerator(){var t;this.question=[],this.solution=this.quizData[0].solution,this.attachment=this.quizData[0].attachment.data;const e=this.ExtractElementByIdFromString(this.quizData[0].data.questionData).split("####");this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:1,marks:this.questionCtrl.getMarks()}),this.changeAttemptCount(this.quizData)," "!==e[e.length-1]&&""!==e[e.length-1]||e.pop(),e.forEach(t=>{this.question.push({questions:t})}),this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0&&(this.attemptedOption=this.attemptedOps,this.checkAttempted())}setValueInOpt(t){if(t.atempted||"preview"!==this.mode&&!this.getMissed())return!0;t.data.options.forEach(t=>{if(1===t.isCorrect)return!1})}checkAttempted(){var t;let e=-1;for(let n=0;n<this.quizData.length;n++){const t=this.quizData[n];for(const i of this.attemptedOps)e=0,this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),t.questionID==i.qid&&this.fetchAttempted(n,i)}this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0&&this.validationBlank(),this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState)}fetchAttempted(t,e){for(let n=0;n<this.quizData[t].data.options.length;n++){const i=this.quizData[t].data.options[n];for(const r of e.options)i.value==r&&(this.quizData[t].atempted=this.quizData[t].data.options[n])}}initEvent(){this.$resetScreen.subscribe(t=>{this.reset()}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()}),this.$iDontknw.subscribe(t=>{this.questionCtrl.onEventTrgger("iDontKnow"),this.showAnswer()}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(E.a)(this.destroy$)).subscribe(t=>{if(console.log("ScqComponent -> initEvent -> val",t),null!==t&&this.attemptedOption){let t=JSON.parse(JSON.stringify(this.attemptedOption));t=this.chnageAttemptObj(t)}})}getLabel(t){return t.replace(/(<([^>]+)>)/gi,"")}reset(){for(const t of this.quizData)if(t.atempted&&delete t.atempted,t.data.options)for(const e of t.data.options)e.isSelected=!1}changeAttemptCount(t){this.questionCtrl.changeMaxAttempt(1)}checkShuffle(){this.quizData[0].data.metadata&&this.quizData[0].data.metadata.shuffle&&this.shuffleOptions()}shuffleOptions(){for(let t=1;t<this.quizData.length;t++)this.utility.shuffle(this.quizData[t].data.options)}showAnswer(){let t=0;for(const e of this.quizData){if(e.data.options)for(const n of e.data.options)1==n.isCorrect&&(this.quizData[t].atempted=n);t++}}onSolutionClose(){this.isSolution=!1}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}cloasemodal(){this.showattachment=!1}splitQuestion(t){let e=t.split(" ");return e=e.filter(t=>""!==t),e}showAttachment(){this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}onAttempt(t){const e=[];let n=0;for(const r of this.quizData)r.atempted&&(e.push({qid:r.questionID,options:[r.atempted.value],correctOptId:this.questionCtrl.getCorrectOptions()[r.questionID],optDisplayPos:[r.data.options.indexOf(r.atempted)]}),n+=r.atempted.score);this.questionCtrl.setObtainScore(n),this.attemptedOption=e,this.validationBlank();let i=JSON.parse(JSON.stringify(this.attemptedOption));i=this.chnageAttemptObj(i),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 279 ~ FibDropDownComponent ~ onAttempt ~ obj",i),this.attempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:i}))}validationBlank(){let t=[];for(const i of this.quizData)if(i.data.options&&i.atempted){const e=this.getQValidate(i.data);t.push(e)}let e=t.reduce((t,e)=>t+e,0),n=e/(this.quizData.length-1);n>0&&n<1&&(n=1),this.questionCtrl.setQueState(Math.floor(n)),this.questionCtrl.setParentsQState(Math.floor(n)),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 314 ~ FibDropDownComponent ~ validationBlank ~ this.quizData.length - 1",this.quizData.length-1),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 313 ~ FibDropDownComponent ~ totalCorrect ~ totalCorrect",e),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 314 ~ FibDropDownComponent ~ validationBlank ~ isCorrect",n),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 304 ~ FibDropDownComponent ~ validationBlank ~ confidenceValue",t)}getQValidate(t){const e=[],n=this.getValidationArr(t);let i=n.reduce((t,e)=>t+e,0);const r=n.length-i;for(let c=0;c<this.attemptedOption.length;c++){const i=this.getIndexByOption(t,this.attemptedOption[c]);e.push(1===n[i]?r+1:0)}let s=e.reduce((t,e)=>t+e,0),o=i*(r+1),a=Math.ceil(s/o);return a<0&&(a=0),(Math.floor(s/o)+1)*a}getMissed(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}getIndexByOption(t,e){let n=0;return n=t.options.findIndex(t=>t.value===e.options[0]),n}fibOptionFeedBack(t){for(const e of t)if(1===e.isCorrect)return e.label}getValidationArr(t){const e=[];for(const n of t.options)e.push(n.isCorrect);return e}ExtractElementByIdFromString(t){let e=document.createElement("div");e.innerHTML=t;let n=e.innerHTML,i=e.getElementsByClassName("fibBlank");for(const r of i)n=n.replace(r.outerHTML,"####");return n}chnageAttemptObj(t){return t.forEach(t=>{t.qState=this.questionCtrl.getQuestState(),t.correctOptId=this.questionCtrl.getCorrectOptions(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.getAttemptCount(),t.pending=this.questionCtrl.pending,t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(t),t}getDispatchObj(t){let e=this.questionCtrl.timeTaken;return t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=e+this.questionCtrl.timeTaken,t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t.attemptedOption.forEach(e=>{e.timeTaken=Object(C.cloneDeep)(t.timeTaken),e.idleTime=Object(C.cloneDeep)(this.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",t.attemptedOption),t}ngOnDestroy(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(S.b),r.Qb(qo))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-fib-drop-down"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",change:"change",submited:"submited",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box","mainOptionBox"],[1,"fibWrapper"],[4,"ngFor","ngForOf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],["class","tce-quill-view",3,"content",4,"ngFor","ngForOf"],["class","optionSelection",3,"ngClass",4,"ngIf"],[1,"tce-quill-view",3,"content"],[1,"optionSelection",3,"ngClass"],["class","custom-select",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["other_content",""],[1,"feedbackBox"],[1,"tick-icon"],["class","feedbackText",3,"innerHTML",4,"ngIf"],[1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"custom-select"],[3,"ngValue","selected",4,"ngFor","ngForOf"],[3,"ngValue","selected"],[1,"feedbackText",3,"innerHTML"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(t,e){1&t&&r.Hc(0,sr,29,13,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,sa,oa,s.k,ca,Sa,a.i,a.f,a.g,a.h,a.j,Vo,Wo]},styles:['[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .fib tce-scq .questionFeedback, [_nghost-%COMP%]     .fib tce-subjective .questionFeedback{display:none}[_nghost-%COMP%]     .fib .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper{border:none!important;margin:0;padding:0 5px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .optionBox{margin-top:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .state.p-primary-o{display:none}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .pretty{margin-right:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox{position:absolute;padding:10px;background-position:0 0;background-size:25px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox tce-quiz-quill-view{display:none}.fibWrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.fibWrapper[_ngcontent-%COMP%]   tce-quiz-quill-view[_ngcontent-%COMP%]{margin-right:4px}.fibWrapper[_ngcontent-%COMP%]   .questBox[_ngcontent-%COMP%]{display:flex;align-items:center}.bucket[_ngcontent-%COMP%]{border-bottom:1px dashed #000;min-width:50px;cursor:pointer;min-height:25px}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}[_nghost-%COMP%]     .horizontal .pendingAttemptMsgBox{display:none}.optionSelection[_ngcontent-%COMP%]{min-width:90px;width:auto;margin:5px 5px 5px 0;min-height:36px;border:2px solid #cbcbcb;border-radius:1.6rem;background-color:#fff;box-shadow:0 2px 6px 0 hsla(0,0%,86.7%,.8);color:#232323;position:relative;display:flex;align-items:center}.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{background-color:transparent;border:none}.instantFeedback[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]{position:relative}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]{border-color:#f93eba;background-color:#ffe5ec;color:#f93eba;border-radius:0;pointer-events:none}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#f93eba;background-image:none;padding-right:6px;text-decoration:line-through}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}.instantFeedback[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]   .feedbackText[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:700}.instantFeedback[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{position:relative}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]{border-color:#07d600;background-color:#d9f4e7;color:#07d600;opacity:1;pointer-events:none;border-radius:0}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#07d600;background-image:none;padding-right:6px}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}.missed[_ngcontent-%COMP%]{position:relative}.missed.optionSelection[_ngcontent-%COMP%]{border-color:#fc0;background-color:#fff8d9;color:#fc0;opacity:1;pointer-events:none;border-radius:0}.missed.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#fc0;background-image:none;padding-right:6px}.missed.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}.feedbackText[_ngcontent-%COMP%]{display:none}']}),t})(),Qo=(()=>{class t{constructor(t,e,n){this.questionCtrl=t,this.utility=e,this.modalService=n,this.attempted=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.question=[],this.optionHolder=[],this.isSolution=!1,this.showattachment=!1,this.draggable={data:"myDragData",effectAllowed:"all",disable:!1,handle:!1}}ngOnInit(){Object(T.polyfill)({dragImageTranslateOverride:w.scrollBehaviourDragImageTranslateOverride});try{window.addEventListener("touchmove",function(){},{passive:!1})}catch(e){}console.log("atatat",this.attemptedOps),console.log("configData",this.configData),this.solution=this.quizData[0].solution,console.log("quizData",this.quizData),this.attachment=this.quizData[0].attachment.data,this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this.quizData.length}),this.initEvent();const t=this.quizData[0].data.stimulus.split("####");t.pop(),t.forEach(t=>{this.question.push({questions:t,attemptedOptions:[]})}),console.log(this.question),this.getOptions(),this.checkShuffle(),this.checkAttemptedOps()}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}onSolutionClose(){this.isSolution=!1}onShowSolution(){console.log(this.solution),this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}checkShuffle(){this.quizData[0].metadata.shuffle&&this.shuffleOptions()}shuffleOptions(){this.utility.shuffle(this.optionHolder),console.log("this.quizData[0].data.options",this.quizData[0].data.options)}onStateChange(t){console.log(t),this.questionCtrl.setQueState(this.getQValidate()),this.updateAttempt(t),this.selectedOption=t,this.attempted.emit({event:"onOptClick",data:t})}updateAttempt(t){console.log("opt",t);const e=this.quizData[0].attemptedOptions.indexOf(t);-1===e?this.quizData[0].attemptedOptions.push(t):this.quizData[0].attemptedOptions.splice(e,1)}checkAttemptedOps(){var t;console.log("attemptedOps",this.attemptedOps),this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0&&(console.log("q="),this.updateAttemptedOption())}updateAttemptedOption(){console.log("optt=",this.optionHolder);for(let t=0;t<this.question.length;t++){const e=this.attemptedOps[0].options[t];for(let n=0;n<this.optionHolder.length;n++)this.optionHolder[n].value==e&&(this.optionHolder[n].isSelected=!0,this.question[t].attemptedOptions.push(this.optionHolder[n]),this.optionHolder.splice(n,1))}}setDragMode(t){this.clickedOpt="",this.clickedOpt=t}getQValidate(){const t=[],e=this.getValidationArr(this.quizData[0].data);for(let s=0;s<this.quizData[0].data.options.length;s++)t.push(this.quizData[0].data.options[s].isSelected&&1===e[s]?1:0);const n=t.reduce((t,e)=>t+e,0),i=e.reduce((t,e)=>t+e,0),r=Math.ceil(n/i);return(Math.floor(n/i)+1)*r}getOptions(){this.optionHolder=[];for(let t=0;t<this.quizData[0].data.blanks.length;t++){const e=this.quizData[0].data.blanks[t];console.log(e);for(const n of e.options)console.log(n),n.isSelected=!1,n.index=t,this.optionHolder.push(n)}this.questionCtrl.getMaxTextLength(this.optionHolder)}getValidationArr(t){const e=[];console.log(t);for(const n of t.options)e.push(n.isCorrect);return e}initEvent(){this.$resetScreen&&this.$resetScreen.subscribe(t=>{this.reset()}),this.$showCorrectAns&&this.$showCorrectAns.subscribe(t=>{this.showAnswer()})}showAnswer(){for(let t=0;t<this.quizData[0].data.blanks.length;t++){const e=this.quizData[0].data.blanks[t];console.log(e);for(const n of e.options)n.index=t,n.isSelected=!0,this.question[t].attemptedOptions.push(n)}}reset(){this.getOptions();for(const t of this.question)t.attemptedOptions=[]}onDragged(t,e){console.log("item onDragged",t);const n=e.indexOf(t);e.splice(n,1)}onDrop(t,e){t.data.isSelected=!0,e.push(t.data),console.log("list",e),console.log("this.quizData",this.quizData),this.attempted.emit({event:"onOptClick"})}onDrop1(t){this.clickedOpt.isSelected=!0,t.push(this.clickedOpt),console.log("list",t),console.log("this.quizData",this.quizData);const e=this.optionHolder.indexOf(this.clickedOpt);this.optionHolder.splice(e,1)}getEventOption(t){console.log("getEventOption:-",t)}cloasemodal(){console.log("ds"),this.showattachment=!1}showAttachment(){console.log(this.solution),this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}ngOnDestroy(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe()}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(qo),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-fib-dnd"]],inputs:{quizData:"quizData",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw",attemptedOps:"attemptedOps"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad"},decls:8,vars:7,consts:[[1,"mainWrapper",3,"ngClass"],[3,"difficultyType"],[3,"bonusStr"],["class","vjs-notes-btn",3,"click",4,"ngIf"],["class","mainOptionBox",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[1,"mainOptionBox"],["alt","",3,"src",4,"ngIf"],[1,"fibWrapper"],[4,"ngFor","ngForOf"],[1,"Options"],["dndEffectAllowed","move",3,"option","configData","ngClass","dndDraggable","dndType","click","dndMoved",4,"ngFor","ngForOf"],[3,"message","solutionData","showSolution",4,"ngIf"],["alt","",3,"src"],[1,"tce-quill-view",3,"content"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"tce-instructions","quest-intro",3,"instructionData"],["dndDropzone","","dndEffectAllowed","move",1,"bucket",3,"click","dndDrop"],["dndEffectAllowed","move",3,"option","configData","ngClass","index","dndDraggable","dndType","onClickEvent","stateChange","dndMoved",4,"ngFor","ngForOf"],["dndEffectAllowed","move",3,"option","configData","ngClass","index","dndDraggable","dndType","onClickEvent","stateChange","dndMoved"],["dndEffectAllowed","move",3,"option","configData","ngClass","dndDraggable","dndType","click","dndMoved"],[3,"message","solutionData","showSolution"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Rb(1,"lib-difficulty-level",1),r.Rb(2,"lib-flag"),r.Rb(3,"lib-bonus",2),r.Hc(4,or,3,0,"div",3),r.Hc(5,pr,7,4,"div",4),r.Hc(6,fr,1,1,"tce-solutions",5),r.Hc(7,_r,1,1,"nx-afs-attachment",6),r.Ub()),2&t&&(r.oc("ngClass",e.questionCtrl.configData.userInteraction[e.questionCtrl.getClass(e.mode)]),r.Db(1),r.oc("difficultyType","medium"),r.Db(2),r.oc("bonusStr",e.questionCtrl.bonusStr),r.Db(1),r.oc("ngIf",e.attachment),r.Db(1),r.oc("ngIf",e.questionCtrl.configData),r.Db(1),r.oc("ngIf",e.isSolution),r.Db(1),r.oc("ngIf",e.showattachment))},directives:function(){return[s.j,_a,fa,ma,s.l,s.k,Sa,oa,ra,ca,Vo,Wo]},styles:['[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .fib .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper{border:none!important;margin:0;padding:0 5px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .optionBox{margin-top:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .state.p-primary-o{display:none}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .pretty{margin-right:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox{position:absolute;padding:10px;background-position:0 0;background-size:25px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox .tce-quill-view{display:none}[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:0;border:none;background-image:url(http://image.flaticon.com/icons/png/512/13/13155.png);background-size:cover;background-repeat:no-repeat}[_nghost-%COMP%]     .fib .mdi-check, [_nghost-%COMP%]     .print label:before{display:none}.fibWrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.fibWrapper[_ngcontent-%COMP%]   .questBox[_ngcontent-%COMP%]   .ql-container[_ngcontent-%COMP%]{font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.bucket[_ngcontent-%COMP%]{padding-left:30px}.sortingBox[_ngcontent-%COMP%]{min-height:50px;display:flex;width:100%;margin-top:10px}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]{width:calc(100% / 2);border:1px solid #cdcdcd;position:relative}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .categoryHeader[_ngcontent-%COMP%]{text-align:center;padding:10px;border-bottom:1px solid #cdcdcd}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]{width:100%;min-height:150px;position:relative}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]   .placeHolder[_ngcontent-%COMP%]{display:none}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]{position:absolute;top:0;margin:0;height:100%}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .categoryHeader[_ngcontent-%COMP%]{display:none}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]{height:100%;position:absolute}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]   .placeHolder[_ngcontent-%COMP%]{border-radius:3px;background-color:hsla(0,0%,100%,.6784313725490196);border-bottom:2px dashed #220d0a;position:absolute;pointer-events:all}.bucket[_ngcontent-%COMP%]{border-bottom:1px dashed #000;min-width:50px;cursor:pointer;min-height:25px}.Options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:50px}.Options[_ngcontent-%COMP%]   tce-option[_ngcontent-%COMP%]{margin-right:10px}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}']}),t})(),Yo=(()=>{class t{constructor(t,e,n){this.questionCtrl=t,this.utility=e,this.modalService=n,this.attempted=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.optionHolder=[],this.correctSequence=[],this.newquestion=[],this.corectshuffle=[],this.isSolution=!1,this.showattachment=!1,this.counter=0}ngOnInit(){Object(T.polyfill)({dragImageTranslateOverride:w.scrollBehaviourDragImageTranslateOverride});try{window.addEventListener("touchmove",function(){},{passive:!1})}catch(t){}this.checkIsSolution(),this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this.quizData.length}),this.initEvent()}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}set quizData(t){this._quizData=t}get quizData(){return this._quizData}set attemptedOps(t){this._attemptedOps=t,this.initMatch(),this.checkAttempted()}get attemptedOps(){return this._attemptedOps}initEvent(){this.$resetScreen.subscribe(t=>{this.reset()}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()})}drop(t){var e=this.optionHolder[t.previousIndex];if(e.status=e.value===t.currentIndex?1:0,this.checkIsSelected()==this.optionHolder.length-1)for(let i=0;i<this.optionHolder.length;i++)""===this.optionHolder[i].status&&(this.optionHolder[i].status=this.optionHolder[i].value==i?1:0);this.updateUserAttempted(e,t.currentIndex),this.questionCtrl.setQueState(this.getQValidate());let n=JSON.parse(JSON.stringify(this.attemptedOption));this.attempted.emit({event:"onOptClick",attemptedOption:n}),Mt(this.optionHolder,t.previousIndex,t.currentIndex)}checkAttempted(){var t;if(this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0)this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOps)),this.updateAttemptedOption(),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED");else{this.attemptedOption=[];for(let t=0;t<this.quizData[0].data.column.length;t++)this.attemptedOption.push({qid:this.quizData[0].data.column[t].columnId,options:[]})}}updateAttemptedOption(){for(let t=0;t<this.attemptedOption.length;t++)for(let e=0;e<this.optionHolder.length;e++)if(this.attemptedOption[t].qid===this.optionHolder[e].index){const n=this.attemptedOption[t];this.optionHolder[e].status=0==n.options.length?"":n.qid===n.options[0]?1:0}}getQValidate(){let t=0;for(let e=0;e<this.attemptedOption.length;e++){const n=this.attemptedOption[e];n.qid===n.options[0]&&t++}return t===this.attemptedOption.length?2:t>0&&t<this.attemptedOption.length?1:0}updateUserAttempted(t,e){this.addAttemtedOption(t,e),this.questionCtrl.setAttemptedOptions(this.attemptedOption)}addAttemtedOption(t,e){for(let n=0;n<this.attemptedOption.length;n++)this.attemptedOption[n].qid===t.index&&(this.attemptedOption[n].options[0]=e)}showAnswer(){for(const t of this.optionHolder)1===t.isCorrect&&(t.status=1)}reset(){for(const t of this.optionHolder)t.status=""}initMatch(){for(let t=0;t<this.quizData[0].data.column.length;t++){const e=this.quizData[0].data.column[t];for(const n of e.options)n.index=t,n.status="",this.optionHolder.push(n)}this.optionHolder=this.utility.shuffle(this.optionHolder);for(let t=0;t<this.quizData[0].data.column.length;t++){const e=this.quizData[0].data.column[t];for(const n of e.options)n.index=t,this.correctSequence.push(n)}this.verifyshuffle(),this.questionCtrl.getMaxTextLength(this.optionHolder)}verifyshuffle(){const t=this.getwrongshuffle();if(t.wrong.length>1)this.counter<2&&this.reshuffle(t.wrong);else if(1===t.wrong.length){const e=t.wrong[0],n=t.correct[0];this.optionHolder[e.index]=n.value,this.optionHolder[n.index]=e.value}}getwrongshuffle(){let t=[],e=[];for(let n=0;n<this.optionHolder.length;n++)this.optionHolder[n].index===n?t.push({index:n,value:this.optionHolder[n]}):e.push({index:n,value:this.optionHolder[n]});return{wrong:t,correct:e}}reshuffle(t){this.counter++;const e=this.utility.shuffle(t);for(let n=0;n<e.length;n++)this.optionHolder[t[n].index]=e[n].value;this.verifyshuffle()}onSolutionClose(){this.isSolution=!1}checkIsSelected(){var t=0;for(let e=0;e<this.optionHolder.length;e++)""!==this.optionHolder[e].status&&t++;return t}listOrderChanged(t){}cloasemodal(){this.showattachment=!1}showAttachment(){this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}ngOnDestroy(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe()}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(qo),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-match"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad"},decls:27,vars:15,consts:[[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"tce-instructions","quest-intro","qsn-instructions",3,"instructionData"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-opsns-box"],["class","mainOptionBox",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"mainOptionBox"],["alt","",3,"src",4,"ngIf"],[1,"matching"],["class","categoryWrapper",4,"ngFor","ngForOf"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],["alt","",3,"src"],[1,"categoryWrapper"],["cdkDrag","",1,"example-box",3,"ngClass"],[3,"option","configData"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Vb(4,"div",4),r.Vb(5,"div",5),r.Rb(6,"lib-difficulty-level",6),r.Rb(7,"lib-flag"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",7),r.Vb(9,"div",8),r.Rb(10,"lib-bonus",9),r.Ub(),r.Ub(),r.Vb(11,"div",10),r.Vb(12,"div",8),r.Vb(13,"div",11),r.Rb(14,"tce-question",12),r.Ub(),r.Hc(15,gr,4,0,"div",13),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"div",14),r.Vb(17,"div",15),r.Vb(18,"div",8),r.Rb(19,"tce-instructions",16),r.Rb(20,"tce-instructions",17),r.Hc(21,mr,1,2,"tce-question-feedback",18),r.Ub(),r.Ub(),r.Vb(22,"div",19),r.Vb(23,"div",8),r.Hc(24,Er,6,3,"div",20),r.Ub(),r.Ub(),r.Hc(25,Or,1,1,"tce-solutions",21),r.Hc(26,Sr,1,1,"nx-afs-attachment",22),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.oc("ngClass",e.questionCtrl.configData.userInteraction[e.questionCtrl.getClass(e.mode)]),r.Db(6),r.oc("difficultyType","medium"),r.Db(4),r.oc("bonusStr",e.questionCtrl.bonusStr),r.Db(4),r.oc("quizData",e.quizData),r.Db(1),r.oc("ngIf",e.attachment),r.Db(4),r.oc("instructionData",r.sc(11,gi,e.questionCtrl.pendingAttempt)),r.Db(1),r.oc("instructionData",r.sc(13,gi,e.questionCtrl.getInstruction(e.quizData,"Rearrange answers next to its respective questions"))),r.Db(1),r.oc("ngIf",e.questionCtrl.questFeedback),r.Db(3),r.oc("ngIf",e.questionCtrl.configData),r.Db(1),r.oc("ngIf",e.isSolution),r.Db(1),r.oc("ngIf",e.showattachment))},directives:function(){return[s.j,_a,fa,ma,sa,s.l,oa,ca,s.k,Qt,Jt,ra,Vo,Wo]},styles:["[_nghost-%COMP%]     .match .pretty.p-curve .state{opacity:1;position:absolute;left:-31px;top:17px}[_nghost-%COMP%]     .match .freeFlow .instantFeedback .selectedOtp.correct .optionWrapper{background-color:transparent}[_nghost-%COMP%]     .match .pretty.p-curve .state label:after, [_nghost-%COMP%]     .match .pretty.p-curve .state label:before{border-radius:0;border:none;background-image:url(https://www.pngkey.com/png/full/79-797206_double-arrow-vertical-symbol-icon-move-up-down.png);background-size:contain;background-repeat:no-repeat;top:0;background-position:50%;margin:auto;bottom:0;left:2px}[_nghost-%COMP%]     .match .mdi-check{display:none}[_nghost-%COMP%]     .match .mainOptionBox{display:flex;justify-content:space-between;margin:0 -5px}[_nghost-%COMP%]     .match .mainOptionBox .matching{min-width:50%;padding:0 5px}[_nghost-%COMP%]     .match .mainOptionBox .matching .categoryWrapper{max-width:200px;width:100%;padding:8px 10px;border-radius:5px;overflow:hidden;margin:0 0 10px;position:relative;left:0;top:0;transition:all .5s;border:2px solid #cbcbcb;border-radius:24px;background-color:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,.32);color:#232323}[_nghost-%COMP%]     .match .mainOptionBox .matching .categoryWrapper .questBox{font-size:16px}[_nghost-%COMP%]     .match .mainOptionBox .matching .categoryWrapper .questionWrapper{margin:0}[_nghost-%COMP%]     .match .mainOptionBox .example-list{min-width:50%;padding:0 5px}[_nghost-%COMP%]     .match .mainOptionBox .optionWrapper{max-width:200px;width:100%;border-radius:5px;margin:0 0 10px;overflow:hidden;border:2px solid #cdcdcd;border-radius:20px}[_nghost-%COMP%]     .match .mainOptionBox .optionWrapper .optionBox{margin-top:0;font-size:16px}[_nghost-%COMP%]     .match .mainOptionBox .optionWrapper .pretty{padding:10px 8px 10px 25px}[_nghost-%COMP%]     .match .mainOptionBox .optionWrapper .pretty .state label{margin:0}[_nghost-%COMP%]     .match .optMediaWrapper img, [_nghost-%COMP%]     .match .optMediaWrapper video, [_nghost-%COMP%]     .match .questMediaWrapper img, [_nghost-%COMP%]     .match .questMediaWrapper video{width:100%}[_nghost-%COMP%]     .print label:after, [_nghost-%COMP%]     .print label:before{display:none}[_nghost-%COMP%]     .print .mainOptionBox .optionWrapper .pretty{padding:10px 8px}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.dndPlaceholder[_ngcontent-%COMP%]{height:45px;border:1px dashed #cdcdcd!important}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}"]}),t})(),Xo=(()=>{class t{constructor(t,e,n){this.questionCtrl=t,this.utility=e,this.modalService=n,this.otherOptChange=new _.a,this.attempted=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.questAttempted=new r.n,this.showattachment=!1,this.isSolution=!1,this.optDisplayPos=[],this.attemptedOption=[],this._quizData=[],this._attemptedOps=[],this.destroy$=new _.a,this.$onOptClick=new f.a(null)}ngOnInit(){this.solution=this.quizData[0].solution,this.quizData[0].data.attemptedOptions=[],this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),this.initEvent(),this.toggelSelection("review"===this.mode),this.checkAttempted(),this.questionCtrl.pending=this.quizData.length}checkShuffle(){this.quizData[0].data.metadata&&this.quizData[0].data.metadata.shuffle&&this.shuffleOptions()}shuffleOptions(){this.utility.shuffle(this.quizData[0].data.options),console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 77 ~ ScqComponent ~ shuffleOptions ~ this.quizData[0].data.options",this.quizData[0].data.options)}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}set quizData(t){this._quizData=t,this.questionCtrl._isAnimation=!0,this.$onOptClick.next(null),console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 96 ~ ScqComponent ~ @Input ~ this.quizData",this.quizData),this.questionCtrl.getMaxTextLength(this.quizData[0].data.options),this.changeAttemptCount(this.quizData[0].data.options),this.getCorrectOptionCount(this.quizData[0].data.options),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.checkShuffle()}get quizData(){return this._quizData}set attemptedOps(t){this._attemptedOps=t,this.checkAttempted()}get attemptedOps(){return this._attemptedOps}checkAttempted(){var t;this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?(this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOps)),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.updateAttemptedOption()):this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}],this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState)}onSolutionClose(){this.isSolution=!1}updateAttemptedOption(){this.attemptedOption.filter(t=>t.qid==this.quizData[0].questionID);for(const t of this.quizData[0].data.options){console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 151 ~ ScqComponent ~ updateAttemptedOption ~ this.quizData[0].data.options",this.quizData[0].data.options);for(const e of this.attemptedOption[0].options)t.value===e&&(t.isSelected=!0,this.questionAttempted(t))}}initEvent(){this.$resetScreen.subscribe(t=>{this.reset(),this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}]}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()}),this.$iDontknw.subscribe(t=>{this.questionCtrl.onEventTrgger("iDontKnow")}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(E.a)(this.destroy$)).subscribe(t=>{if(null!==t){let t=JSON.parse(JSON.stringify(this.attemptedOption));t=this.chnageAttemptObj(t)}})}showAnswer(){for(const t of this.quizData[0].data.options)console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 193 ~ ScqComponent ~ showAnswer ~ this.quizData[0].data.options",this.quizData[0].data.options),1===t.isCorrect&&(t.isSelected=!0)}reset(){for(const t of this.quizData[0].data.options)console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 202 ~ ScqComponent ~ reset ~ this.quizData[0].data.options",this.quizData[0].data.options),t.isSelected=!1}toggelSelection(t){for(const e of this.quizData[0].data.options)console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 209 ~ ScqComponent ~ toggelSelection ~ this.quizData[0].data.options",this.quizData[0].data.options),e.isSelected=t}changeAttemptCount(t){2===t.length&&this.questionCtrl.changeMaxAttempt(1)}updateUserAttempted(t){t.isSelected?this.addAttemtedOption(t):this.removeAttemtedOption(t),this.questionCtrl.setAttemptedOptions(this.attemptedOption)}addAttemtedOption(t){this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOption)),this.attemptedOption[0].options.length>0&&!this.getValidationMode()&&this.attemptedOption[0].options.pop(),this.addAttemptedOptionNoCommon(t)}addAttemptedOptionNoCommon(t){-1===this.attemptedOption[0].options.indexOf(t.value)&&this.attemptedOption[0].options.push(t.value)}removeAttemtedOption(t){this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOption));let e=this.attemptedOption[0].options.indexOf(t.value);this.attemptedOption[0].options.splice(e,1)}onStateChange(t,e){this.optDisplayPos=[e];let n=this.manipulation(t),i=JSON.parse(JSON.stringify(this.attemptedOption));i=this.attemptedOption[0].options.length>0?this.chnageAttemptObj(i):[];const r={event:"onOptClick",attemptedOption:i,marksObtained:n,score:n,qState:this.questionCtrl.getQuestState()};this.attempted.emit(this.getDispatchObj(r)),this.$onOptClick.next(!0),this.otherOptChange.next()}chnageAttemptObj(t){return t.forEach(t=>{t.qState=this.questionCtrl.getQuestState(),t.correctOptId=this.questionCtrl.getCorrectOptions(),t.optDisplayPos=JSON.parse(JSON.stringify(this.optDisplayPos)),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.getAttemptCount(),t.pending=this.questionCtrl.pending,t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(t),t}questionAttempted(t){let e=this.manipulation(t),n=JSON.parse(JSON.stringify(this.attemptedOption));n=this.chnageAttemptObj(n);const i={event:"onOptClick",attemptedOption:n,marksObtained:e,score:e,qState:this.questionCtrl.getQuestState()};this.questAttempted.emit(this.getDispatchObj(i))}getCorrectOptionCount(t){let e=[];for(const n of t)1===n.isCorrect&&e.push(n.value);this.questionCtrl.setCorrectOptions(e)}manipulation(t){return this.questionCtrl.setcurrentQuestFeedback(t.isCorrect),1===t.isCorrect&&t.isSelected?(this.questionCtrl.setQueState(2),this.questionCtrl.setParentsQState(2)):(this.questionCtrl.setQueState(0),this.questionCtrl.setParentsQState(0)),this.updateUserAttempted(t),this.refresh(t),this.computeAttemptedMarks()}computeAttemptedMarks(){const t=this.attemptedOption[0].options.length>0?this.attemptedOption[0].options.map(t=>this.getOptionById(t)).reduce((t,e)=>t+e):0;return this.questionCtrl.setObtainScore(t),t}getOptionById(t){for(const e of this.quizData[0].data.options)if(console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 355 ~ ScqComponent ~ getOptionById ~ this.quizData[0].data.options",this.quizData[0].data.options),t===e.value)return e.score;return 0}getValidationMode(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("instantFeedback")}getMissed(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}refresh(t){this.getValidationMode()&&t.isSelected&&(t.active=!1);for(let e of this.quizData[0].data.options)console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 381 ~ ScqComponent ~ refresh ~ this.quizData[0].data.options",this.quizData[0].data.options),e.value!==t.value&&!1!==t.active&&(e.isSelected=!1)}onOptionAttempted(t){}cloasemodal(){this.showattachment=!1}showAttachment(){this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}getDispatchObj(t){return t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t.attemptedOption.forEach(e=>{e.timeTaken=Object(C.cloneDeep)(t.timeTaken),e.idleTime=Object(C.cloneDeep)(this.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",t.attemptedOption),t}ngOnDestroy(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null),this.$onOptClick.next(null)}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(qo),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-scq"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad",questAttempted:"questAttempted"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData",4,"ngIf"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"mainOptionBox"],[3,"url",4,"ngIf"],[3,"option","configData","ngClass","index","$otherOptChange","$resetOverFlow","stateChange",4,"ngFor","ngForOf"],[3,"quizData"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[3,"url"],["pic",""],[3,"option","configData","ngClass","index","$otherOptChange","$resetOverFlow","stateChange"]],template:function(t,e){1&t&&r.Hc(0,Ir,27,12,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,oa,s.k,sa,ca,Mn,ra]},styles:['[_nghost-%COMP%]     .scq .pretty.p-curve .state label:after, [_nghost-%COMP%]     .scq .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .scq .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}']}),t})(),Zo=(()=>{class t{constructor(t,e,n,i){this.questionCtrl=t,this.utility=e,this.modalService=n,this.cdRef=i,this.attempted=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.isSolution=!1,this.optionCount=0,this.showattachment=!1,this.draggable={data:"myDragData",effectAllowed:"all",disable:!1,handle:!1},this.optionHolder=[],this.attemptedOption=[],this.destroy$=new _.a}ngOnInit(){Object(T.polyfill)({dragImageTranslateOverride:w.scrollBehaviourDragImageTranslateOverride});try{window.addEventListener("touchmove",function(){},{passive:!1})}catch(t){}this.checkAttechment(),this.checkSolution(),this.initEvent(),this.questionCtrl.pending=this.quizData.length}ngAfterViewChecked(){this.cdRef.detectChanges()}set quizData(t){this._quizData=t,this.getCorrectOptionCount(this.quizData[0].data.column),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.initSorting()}get quizData(){return this._quizData}set attemptedOps(t){this._attemptedOps=t,this.checkAttempted()}get attemptedOps(){return this._attemptedOps}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}getCorrectOptionCount(t){let e=Object();for(const n of t){e[n.columnId]=[];for(const t of n.options)1===t.isCorrect&&e[n.columnId].push(t.value)}this.questionCtrl.setCorrectOptions(e)}checkAttechment(){this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data)}checkSolution(){this.quizData[0].solution&&(this.solution=this.quizData[0].solution)}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}initEvent(){this.$resetScreen.subscribe(t=>{this.reset(),this.setAttemptedState()}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()}),this.$iDontknw.subscribe(t=>{this.questionCtrl.onEventTrgger("iDontKnow"),this.showiDontKnowAnswer()}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(E.a)(this.destroy$)).subscribe(t=>{if(null!==t){let e=JSON.parse(JSON.stringify(this.attemptedOption));e=this.changeAttemptObj(e,t),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 164 ~ SortingComponent ~ this.questionCtrl.attemptCountAsSubscriber ~ obj",e)}})}checkShuffle(){this.quizData[0].data.metadata.shuffle&&this.shuffleOptions()}shuffleOptions(){this.utility.shuffle(this.optionHolder),this.optionHolder.forEach((t,e)=>{t.position=e})}showAnswer(){this.optionHolder=[];for(const t of this.quizData[0].data.column){t.attemptedOptions=[];for(const e of t.options)e.isSelected=!0,t.attemptedOptions.push(e)}}showiDontKnowAnswer(){this.optionHolder=[];for(const t of this.quizData[0].data.column){t.attemptedOptions=[];for(const e of t.options)e.isSelected=e.curColl===e.index,t.attemptedOptions.push(e)}}checkAttempted(){var t;this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?(this.updateAttemptedOption(),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.attemptedOption=this.attemptedOps,this.questionCtrl.setQueState(this.validateQuest())):this.setAttemptedState(),this.updatePreviewMode()}updatePreviewMode(){if("preview"===this.mode){this.showMissedAnswer(),this.questionCtrl.setParentsQState(this.validateQuest());const t="mode_"+this.mode+"_"+this.validateQuest();this.questionCtrl.onEventTrgger(t)}}computeAttemptedMarks(){const t=this.getOptionById();this.questionCtrl.setObtainScore(t)}getOptionById(){let t=0;for(let e=0;e<this.quizData[0].data.column.length;e++){const n=this.quizData[0].data.column[e];if(n.columnId===e)for(const i of n.attemptedOptions)i.index===e&&i.isSelected&&(t+=i.score)}return t}showMissedAnswer(){const t=Object.assign([],this.optionHolder);for(let e=0;e<t.length;e++){const n=t[e],i=this.getColumnByOptionIndex(n.value);null!=i&&(this.removeOptionFrnOptionHolder(n),i.attemptedOptions.push(n))}}setAttemptedState(){let t=0;for(const e of this.quizData[0].data.column)this.attemptedOption[t]={qid:e.columnId,options:[],optDisplayPos:[]},t++}getCategoryWidth(t){return 100/t.length+"%"}updateAttemptedOption(){for(const t of this.attemptedOps){const e=this.getColumnById(t.qid);null!==e&&this.updateOptionForAttemp(t.options,e)}}getColumnByOptionIndex(t){for(const e of this.quizData[0].data.column)for(const n of e.options)if(t===n.value)return e;return null}getColumnById(t){for(const e of this.quizData[0].data.column)if(t==e.columnId)return e;return null}updateOptionForAttemp(t,e){for(const n of t){const t=this.getOptionByValue(n);this.removeOptionFrnOptionHolder(t),null!==t&&(t.isSelected=!0,t.curColl=e.columnId,e.attemptedOptions.push(t))}}getOptionByValue(t){for(const e of this.optionHolder)if(t===e.value)return e;return null}removeOptionFrnOptionHolder(t){const e=this.optionHolder.indexOf(t);this.optionHolder.splice(e,1)}onSolutionClose(){this.isSolution=!1}cloasemodal(){this.showattachment=!1}showAttachment(){this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}reset(){this.optionHolder=[],this.attemptedOption=[];for(const t of this.quizData[0].data.column)for(const e of t.options)e.questionText=t.questionText,e.isSelected=!1,this.optionHolder.push(e),t.attemptedOptions=[]}initSorting(){this.optionHolder=[],this.optionCount=0;for(let t=0;t<this.quizData[0].data.column.length;t++){this.quizData[0].data.column[t].attemptedOptions=[];for(const e of this.quizData[0].data.column[t].options)e.index=t,this.optionHolder.push(e)}this.optionCount=this.optionHolder.length,this.checkShuffle(),this.questionCtrl.getMaxTextLength(this.optionHolder),this.changeAttemptCount(this.optionHolder)}getTotalOption(){let t=0;const e=this.quizData[0].data.column;for(const n of e)t+=n.options.length;return t}opAppemtHolder(t,e){}onDragged(t,e){console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 372 ~ SortingComponent ~ onDragged ~ list",e),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 372 ~ SortingComponent ~ onDragged ~ item",t),this.removeSelection(t)}dispatchOption(){this.computeAttemptedMarks();let t=JSON.parse(JSON.stringify(this.attemptedOption));t=this.attemptedOption.length>0?this.changeAttemptObj(t,this.questionCtrl.attempt_count):[],this.attempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:t}))}changeAttemptObj(t,e){const n=Object(C.cloneDeep)(this.questionCtrl.attempt_count);console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 405 ~ SortingComponent ~ changeAttemptObj ~ attemptCount",n);const i=Object(C.cloneDeep)(t),r=Object(C.map)(i,t=>(t.qState=this.questionCtrl.getQuestState(),t.correctOptId=this.questionCtrl.getCorrectOptions()[t.qid],t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.getAttemptCount(),t.pending=this.questionCtrl.pending,t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t));return t=JSON.parse(JSON.stringify(r)),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 434 ~ SortingComponent ~ changeAttemptObj ~ updatedState",r),this.questionCtrl.setAttemptedOptions(r),r}addAttemptedOption(t,e){for(let n=0;n<this.attemptedOption.length;n++)if(this.attemptedOption[n].qid===e.columnId)this.attemptedOption[n].options.push(t.value),this.attemptedOption[n].optDisplayPos.push(t.position);else{const e=this.attemptedOption[n].options.findIndex(e=>e===t.value);e>-1&&(this.attemptedOption[n].options.splice(e,1),this.attemptedOption[n].optDisplayPos.splice(e,1))}}onDrop(t,e){this.clickedOpt=t.item.data,console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 457 ~ SortingComponent ~ onDrop ~ event",t),t.previousContainer===t.container?Mt(t.container.data,t.previousIndex,t.currentIndex):this.onDropClick(e),this.removeSelection(t)}setDragMode(t,e,n){console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 490 ~ SortingComponent ~ setDragMode ~ opt",t),t.isSelected=!t.isSelected,n&&e.stopPropagation(),t.isSelected?(this.clickedOpt="",this.clickedOpt=t):(this.clickedOpt="",this.resetAllOpt()),this.removeSelection(t)}setMoveOption(t,e,n){e.stopPropagation(),this.clickedOpt="",this.clickedOpt=t,this.resetAllOpt()}removeSelection(t){for(const e of this.optionHolder)e.value!==t.value&&(e.isSelected=!1)}resetAllOpt(){for(const t of this.optionHolder)t.isSelected=!1}changeAttemptCount(t){2===t.length&&this.questionCtrl.changeMaxAttempt(1)}onDropClick(t){""!=this.clickedOpt&&this.onOptDrop(t)}onOptDrop(t){if(console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 505 ~ SortingComponent ~ onOptDrop ~ subQ",t),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 505 ~ SortingComponent ~ onOptDrop ~ this.clickedOpt",this.clickedOpt),this.clickedOpt.isSelected=!0,this.clickedOpt.curColl=t.columnId,this.isPresentSameCol(t)){this.addAttemptedOption(this.clickedOpt,t),t.attemptedOptions.push(this.clickedOpt);const e=this.optionHolder.find(t=>t.value===this.clickedOpt.value);e&&(e.curColl=t.columnId);const n=this.optionHolder.findIndex(t=>t.value===this.clickedOpt.value);-1!=n&&this.optionHolder.splice(n,1),this.removeFromBucket(t),this.questionCtrl.setQueState(this.validateQuest()),this.questionCtrl.setParentsQState(this.validateQuest()),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 529 ~ SortingComponent ~ onOptDrop ~ this.questionCtrl.getQAttemptType()",this.questionCtrl.getQAttemptType()),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 533 ~ SortingComponent ~ onOptDrop ~ this.optionHolder.length",this.optionHolder.length),(0===this.questionCtrl.getQAttemptType()||0===this.optionHolder.length)&&this.dispatchOption()}this.clickedOpt=""}isPresentSameCol(t){console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 543 ~ SortingComponent ~ isPresentSameCol ~ subQ",JSON.parse(JSON.stringify(t))),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 546 ~ SortingComponent ~ isPresentSameCol ~ this.clickedOpt",JSON.parse(JSON.stringify(this.clickedOpt)));const e=t.attemptedOptions.findIndex(t=>t.value===this.clickedOpt.value);return console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 550 ~ SortingComponent ~ isPresentSameCol ~ presentValue",e),-1===e}removeFromBucket(t){for(const e of this.quizData[0].data.column)if(e.columnId!==t.columnId)for(let t=0;t<e.attemptedOptions.length;t++)e.attemptedOptions[t].value===this.clickedOpt.value&&e.attemptedOptions.splice(t,1)}validateQuest(){let t=0;const e=this.quizData[0].data.column;for(const n of e)for(const e of n.attemptedOptions)e.index===n.columnId&&e.isSelected&&t++;return t===this.getTotalOption()?2:t>0?1:0}getEventOption(t){}gatCategoryStyle(t){if(this.questionCtrl.configData.userInteraction.position&&this.questionCtrl.configData.userInteraction.position[t]){const e=this.questionCtrl.configData.userInteraction.position[t];return{height:e.height+"%",width:e.width+"%",left:e.x+"%",top:e.y+"%"}}return{}}getSubQPos(t){Object();for(const e of this.configData.userInteraction.subQuestions)if(t.qntId===e.qntId)return{height:e.height+"%",width:e.width+"%",left:e.x+"%",top:e.y+"%"};return{}}getMissed(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}getDispatchObj(t){return console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 640 ~ SortingComponent ~ getDispatchObj ~ obj",t),t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t.attemptedOption.forEach(e=>{e.timeTaken=Object(C.cloneDeep)(t.timeTaken),e.idleTime=Object(C.cloneDeep)(this.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",t.attemptedOption),t}ngOnDestroy(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null)}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(qo),r.Qb(S.b),r.Qb(r.h))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-sorting"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],["class","mainOptionBox","cdkDropListGroup","",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],["cdkDropListGroup","",1,"mainOptionBox"],[3,"url",4,"ngIf"],[1,"sortingBox"],["class","categoryWrapper",4,"ngFor","ngForOf"],["cdkDropList","",1,"Options","example-list",3,"cdkDropListData","cdkDropListConnectedTo"],["todoList","cdkDropList"],["class","example-box","cdkDrag","",3,"option","configData","ngClass","cdkDragData","cdkDragStarted","click",4,"ngFor","ngForOf"],[3,"url"],["pic",""],[1,"categoryWrapper"],[1,"categoryHeader"],["cdkDropList","",1,"bucket","example-list",3,"ngStyle","cdkDropListData","cdkDropListConnectedTo","click","cdkDropListDropped"],["doneList","cdkDropList"],["cdkDrag","",3,"option","configData","ngClass","cdkDragData","click",4,"ngFor","ngForOf"],["cdkDrag","",3,"option","configData","ngClass","cdkDragData","click"],["cdkDrag","",1,"example-box",3,"option","configData","ngClass","cdkDragData","cdkDragStarted","click"]],template:function(t,e){1&t&&r.Hc(0,qr,26,14,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,sa,oa,ca,Kt,s.k,Qt,Mn,s.m,Ca,Jt]},styles:["[_nghost-%COMP%]     .sorting .pretty.p-curve .state label:after, [_nghost-%COMP%]     .sorting .pretty.p-curve .state label:before{border-radius:0;border:none;background-image:url(http://image.flaticon.com/icons/png/512/13/13155.png);background-size:cover;background-repeat:no-repeat}[_nghost-%COMP%]     .print label:before, [_nghost-%COMP%]     .sorting .mdi-check{display:none}.sortingBox[_ngcontent-%COMP%]{min-height:50px;display:flex;width:100%;margin-top:10px;padding:0 0 5px;flex-wrap:wrap}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]{width:calc(100% / 2 - 4px);border:1px solid #cdcdcd;position:relative;border-radius:20px;margin:0 2px 5px}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .categoryHeader[_ngcontent-%COMP%]{text-align:center;padding:10px;border-bottom:1px solid #cdcdcd}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]{width:100%;min-height:150px;position:relative;padding-bottom:30px;height:calc(100% - 40px);padding-top:10px}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]   .placeHolder[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .freeFlow .mainOptionBox{position:relative}[_nghost-%COMP%]     .freeFlow .sortingBox{position:absolute;top:0;margin:0;height:100%}[_nghost-%COMP%]     .freeFlow .sortingBox .categoryWrapper{position:absolute;left:0;top:0;width:100%;height:100%;border:unset;border-radius:0;margin:0;pointer-events:none}[_nghost-%COMP%]     .freeFlow .sortingBox .categoryWrapper .categoryHeader{display:none}[_nghost-%COMP%]     .freeFlow .sortingBox .categoryWrapper .bucket{position:absolute!important;min-height:1%!important;pointer-events:all;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .freeFlow .sortingBox .categoryWrapper .bucket .placeHolder{height:100%;width:100%}[_nghost-%COMP%]     .freeFlow.hilightHover .bucket:hover{border:2px solid #ffc400}.Options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -5px}.Options[_ngcontent-%COMP%]   .sorting-media[_ngcontent-%COMP%]{max-width:calc(50% - 10px);margin-right:10px}.Options[_ngcontent-%COMP%]   tce-option[_ngcontent-%COMP%]{padding:0 5px;max-width:calc(50%)}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),t})(),Jo=(()=>{class t{constructor(t,e,n,i){this.questionCtrl=t,this.modalService=e,this.utility=n,this.renderer=i,this.isZoom=!1,this.attempted=new r.n,this.submited=new r.n,this.change=new r.n,this.questLoad=new r.n,this.attemptedOption=[],this.showattachment=!1,this.isShowAnswer=!1,this.isSolution=!1,this.isShowAnswerHide=!1,this.isText=!0}ngOnInit(){this.solution=this.quizData[0].solution.answer,this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),this.questionCtrl.pending=this.quizData.length,this.initEvent()}set quizData(t){this._quizData=t,this.reset(),this.userInput="",this.checkAttempted(),this.solutionShow(),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()})}get quizData(){return this._quizData}set attemptedOps(t){this._attemptedOps=t,this.checkAttempted()}get attemptedOps(){return this._attemptedOps}setting(){}checkAttempted(){var t;this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?(this.attemptedOption=this.attemptedOps,this.updateAttemptedOption()):this.quizData&&this.quizData[0]&&(this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}])}solutionShow(){this.quizData[0].solution.answer&&(this.solution=this.quizData[0].solution.answer)}updateAttemptedOption(){this.userInput=this.attemptedOps[0].options[0],console.log("updateAttemptedOption",this.userInput)}initEvent(){this.$resetScreen.subscribe(t=>{this.reset(),this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}]}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()})}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}reset(){this.isShowAnswer=!1}onFocus(){}onContentChanged(t){t!==this.userInput?(this.updateAttempt(t),this.change.emit(t)):this.updateAttempt(t)}updateAttempt(t){this.questionCtrl.setQueState(t),this.questionCtrl.setParentsQState(t),this.userInput=t,this.attemptedOption[0].options=[t];const e=this.chnageAttemptObj(JSON.parse(JSON.stringify(this.attemptedOption)));this.computeAttemptedMarks(t);const n=this.questionCtrl.getMarks(),i={event:"onOptClick",attemptedOption:e,marksObtained:n,score:n,qState:this.questionCtrl.getQuestState()};this.attempted.emit(this.getDispatchObj(i))}chnageAttemptObj(t){return t.forEach(t=>{t.qState=this.questionCtrl.getQuestState(),t.correctOptId=this.questionCtrl.getCorrectOptions(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.getAttemptCount(),t.pending=this.questionCtrl.pending,t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(t),t}getDispatchObj(t){return t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t.attemptedOption.forEach(e=>{e.timeTaken=Object(C.cloneDeep)(t.timeTaken),e.idleTime=Object(C.cloneDeep)(this.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",t.attemptedOption),t}computeAttemptedMarks(t){const e=2===t?this.questionCtrl.getMarks():0;this.questionCtrl.setObtainScore(e)}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.quizData[0].solution}showAnswer(){this.isShowAnswer=!0}isArray(t){return Array.isArray(t)}getEventOption(t){}onSolutionClose(){this.isSolution=!1}cloasemodal(){this.showattachment=!1}showAttachment(){this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}checkForZoom(){if(this.subjectiveWrapper){const t=[].slice.call(this.subjectiveWrapper.nativeElement.querySelectorAll("span")),e=[].slice.call(this.subjectiveWrapper.nativeElement.querySelectorAll("img")),n=Math.max(...t.concat(e).map(t=>(t.offsetWidth>300&&console.log("\ud83d\ude80 ~ file: subjective.component.ts ~ line 269 ~ SubjectiveComponent ~ maxWidth ~ o",t),t.offsetWidth)));console.log("\ud83d\ude80 ~ file: subjective.component.ts ~ line 267 ~ SubjectiveComponent ~ checkForZoom ~ maxWidth",n),console.log("\ud83d\ude80 ~ file: subjective.component.ts ~ line 269 ~ SubjectiveComponent ~ checkForZoom ~ this.subjectiveWrapper.nativeElement.offsetWidth",this.subjectiveWrapper.nativeElement.offsetWidth),n>this.subjectiveWrapper.nativeElement.offsetWidth-5&&(this.renderer.addClass(this.subjectiveWrapper.nativeElement,"subjectiveWidthExceeded"),this.isZoom=!0)}}onTouchEnter(t){this.isZoom&&this.addClass()}onMouseEnter(t){this.isZoom&&this.addClass()}onMouseLeave(){this.isZoom&&this.removeClass()}addClass(){navigator.userAgent.indexOf("Mobile")>-1?this.renderer.addClass(this.subjectiveWrapper.nativeElement.parentElement,"subjectiveMobWidthExceededWrapper"):this.renderer.addClass(this.subjectiveWrapper.nativeElement.parentElement,"subjectiveWidthExceededWrapper")}removeClass(){this.renderer.addClass(this.subjectiveWrapper.nativeElement.parentElement,"subjectiveWidthExceededWrapper"),this.renderer.addClass(this.subjectiveWrapper.nativeElement.parentElement,"subjectiveMobWidthExceededWrapper")}ngOnDestroy(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe()}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(S.b),r.Qb(qo),r.Qb(r.E))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-subjective"]],viewQuery:function(t,e){if(1&t&&r.Mc(Vr,1),2&t){let t;r.zc(t=r.gc())&&(e.subjectiveWrapper=t.first)}},inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",change:"change",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],["class","pendingAttemptMsgBox",3,"instructionData",4,"ngIf"],[1,"instruction-attempnt","text-center","pendingAttemptMsgBox"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"qsn-opsns-box"],["class","mainOptionBox",4,"ngIf"],[1,"w-100","inputArea","position-relative",3,"click","mouseenter","mouseleave"],["class","w-100 outputArea",4,"ngIf"],["class","actionBox",4,"ngIf"],["class","row flex-wrap action-display",4,"ngIf"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[3,"message","solutionData","showSolution"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"mainOptionBox"],[3,"url",4,"ngIf"],[3,"url"],["pic",""],[1,"w-100","outputArea"],["subjectiveWrapper",""],[4,"ngFor","ngForOf"],[1,"tce-quill-view",3,"content","equationRendered"],[3,"imgSrc",4,"ngIf"],[3,"imgSrc"],[1,"actionBox"],[1,"btn","btn-outline-primary",3,"click"],[1,"row","flex-wrap","action-display"],[1,"col-12"],[1,"heading5","text-center","m-5"],[1,"col-12","mb-4"],[1,"btn","btn-outline-primary","d-flex","btn-sm","quiz-opt-correct","h-100","align-items-center","w-100","justify-content-center",3,"ngClass","click"],[1,"subjectiveicon"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["id","Mobile","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","D-09.4-ST-OralQuiz","transform","translate(-309.000000, -463.000000)","fill-rule","nonzero"],["id","Group","transform","translate(0.000000, 330.000000)"],["id","Interaction-Panel","transform","translate(0.000000, 80.000000)"],["id","Option-1","transform","translate(16.000000, 40.000000)"],["id","CorrectAnswer","transform","translate(293.000000, 13.000000)"],["id","Oval","stroke","#202020","stroke-width","1.3","fill","#07D600","transform","translate(12.000000, 12.000000) scale(1, -1) translate(-12.000000, -12.000000) ","cx","12","cy","12","r","11.35"],["id","Oval","fill","#202020","transform","translate(8.200000, 9.200000) scale(1, -1) translate(-8.200000, -9.200000) ","cx","8.2","cy","9.2","r","1.2"],["id","Oval","fill","#202020","transform","translate(16.200000, 9.200000) scale(1, -1) translate(-16.200000, -9.200000) ","cx","16.2","cy","9.2","r","1.2"],["id","Group","transform","translate(12.000000, 17.062500) scale(1, -1) translate(-12.000000, -17.062500) translate(6.000000, 15.062500)","fill","#202020"],["d","M11,3.5985 C10.808,3.5985 10.616,3.5255 10.47,3.3785 C9.276,2.1845 7.688,1.5265 6,1.5265 C4.312,1.5265 2.724,2.1845 1.53,3.3785 C1.237,3.6715 0.762,3.6715 0.469,3.3785 C0.176,3.0855 0.176,2.6105 0.469,2.3175 C1.947,0.8405 3.911,0.0265 6,0.0265 C8.089,0.0265 10.053,0.8395 11.53,2.3175 C11.823,2.6105 11.823,3.0855 11.53,3.3785 C11.384,3.5245 11.192,3.5985 11,3.5985 Z","id","Path"],[1,"btn","btn-outline-primary","d-flex","btn-sm","quiz-opt-partiallycorrect","h-100","align-items-center","w-100","justify-content-center",3,"ngClass","click"],["id","D-09.4-ST-OralQuiz","transform","translate(-310.000000, -528.000000)"],["id","Option-2","transform","translate(16.000000, 105.000000)"],["id","MissedAnswer","transform","translate(294.000000, 13.000000)"],["id","Oval","stroke","#202020","stroke-width","1.3","fill","#FFCC00","fill-rule","nonzero","transform","translate(12.000000, 12.000000) scale(1, -1) translate(-12.000000, -12.000000) ","cx","12","cy","12","r","11.35"],["id","Oval","fill","#202020","fill-rule","nonzero","transform","translate(8.200000, 9.200000) scale(1, -1) translate(-8.200000, -9.200000) ","cx","8.2","cy","9.2","r","1.2"],["id","Oval","fill","#202020","fill-rule","nonzero","transform","translate(16.200000, 9.200000) scale(1, -1) translate(-16.200000, -9.200000) ","cx","16.2","cy","9.2","r","1.2"],["id","Oval","stroke","#202020","stroke-width","1.25","cx","12","cy","16.5","rx","2.375","ry","2.875"],[1,"btn","btn-outline-primary","d-flex","btn-sm","quiz-opt-incorrect","h-100","align-items-center","w-100","justify-content-center",3,"ngClass","click"],["id","D-09.4-ST-OralQuiz","transform","translate(-310.000000, -593.000000)","fill-rule","nonzero"],["id","Option-3","transform","translate(16.000000, 170.000000)"],["id","Smiley-Wrong","transform","translate(294.000000, 13.000000)"],["id","Oval","stroke","#202020","stroke-width","1.3","fill","#FF3EB9","transform","translate(12.000000, 12.000000) scale(1, -1) translate(-12.000000, -12.000000) ","cx","12","cy","12","r","11.35"],["d","M17,19.036 C16.808,19.036 16.616,18.963 16.47,18.816 C15.276,17.622 13.688,16.964 12,16.964 C10.312,16.964 8.724,17.622 7.53,18.816 C7.237,19.109 6.762,19.109 6.469,18.816 C6.176,18.523 6.176,18.048 6.469,17.755 C7.947,16.278 9.911,15.464 12,15.464 C14.089,15.464 16.053,16.277 17.53,17.755 C17.823,18.048 17.823,18.523 17.53,18.816 C17.384,18.962 17.192,19.036 17,19.036 Z","id","Path","fill","#202020"]],template:function(t,e){1&t&&r.Hc(0,es,32,15,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,sa,oa,ca,Mn,s.k,Sa,va]},styles:["[_nghost-%COMP%]     .inputArea>.optionWrapper{min-height:120px;border:1px solid #cdcdcd;margin:0 0 10px;border-radius:10px;padding:10px}[_nghost-%COMP%]     .inputArea>.optionWrapper *{text-align:left!important}[_nghost-%COMP%]     .inputArea>.optionWrapper .ql-editor{min-height:120px}.outputArea[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:200px}[_nghost-%COMP%]     .outputArea{padding:15px 12px;margin-bottom:20px;border-radius:6px;background-color:#f6fcff;box-shadow:0 2px 4px 0 rgba(0,0,0,.15)}[_nghost-%COMP%]     .outputArea .ql-editor{color:#202020;font-size:15px;font-weight:300;letter-spacing:0;line-height:20px}[_nghost-%COMP%]     .outputArea .pretty{padding:0}[_nghost-%COMP%]     .outputArea .pretty .icon{display:none}[_nghost-%COMP%]     .outputArea .pretty span{background-color:transparent!important}[_nghost-%COMP%]     .outputArea .pretty.p-curve .state label:after, [_nghost-%COMP%]     .outputArea .pretty.p-curve .state label:before{display:none}.actionBox[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]     .print .actionBox{display:none}[_nghost-%COMP%]     .print .optionWrapper{min-height:160px}.pendingAttemptMsgBox[_ngcontent-%COMP%], [_nghost-%COMP%]     .print .optionWrapper .ql-editor{display:none}.subjectiveicon[_ngcontent-%COMP%]{font-size:20px;margin-right:5px;position:absolute;right:10px}.action-display[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{font-size:18px;font-weight:700;letter-spacing:.25px;line-height:22px;padding:13px;border:1px solid}.btn-outline-primary.quiz-opt-correct[_ngcontent-%COMP%]:hover, .quiz-opt-correct.active[_ngcontent-%COMP%]{background-color:#d9f4e7!important;color:#07d600!important;border:1px solid #07d600!important}.btn-outline-primary.quiz-opt-partiallycorrect[_ngcontent-%COMP%]:hover, .quiz-opt-partiallycorrect.active[_ngcontent-%COMP%]{background-color:#fff8d9!important;color:#fc0!important;border:1px solid #fc0!important}.btn-outline-primary.quiz-opt-incorrect[_ngcontent-%COMP%]:hover, .quiz-opt-incorrect.active[_ngcontent-%COMP%]{background-color:#ffe5ec!important;color:#f93eba!important;border:1px solid #f93eba!important}"]}),t})(),ta=(()=>{class t{constructor(t,e,n,i,s){this.questionCtrl=t,this.utility=e,this.zone=n,this.renderer=i,this.modalService=s,this.attempted=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.isSolution=!1,this.showattachment=!1,this.saveArr=[],this.attemptedOption=[],this.selectedOptionEvent=new r.n,this.userAttempt=new r.n}ngOnInit(){console.log("configData",this.questionCtrl.configData),console.log("quizData",this.quizData),this.image=this.questionCtrl.configData.image,this.saveArr=this.quizData[0].data.options,console.log(this.saveArr),this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),console.log(this.attachment),this.solution=this.quizData[0].solution,console.log("qw---",this.solution),console.log("solution",this.solution),this.initEvent(),this.zone.run(()=>{this.toggelSelection("review"===this.mode)}),this.checkAttempted(),this.checkShuffle(),this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this.quizData.length}),this.questionCtrl.getMaxTextLength(this.quizData[0].data.options)}ngAfterViewInit(){this.populateImage(this.image),this.reRenderAllPolygons()}reRenderAllPolygons(){let t=this.saveArr.length;console.log(this.saveArr);for(let e=0;e<t;e++){console.log("json",JSON.stringify(this.saveArr[e].label));let t=this.deSerializePoints(JSON.parse(this.saveArr[e].label));console.log(t),this.createNewPolyGon(t,null,e)}}deSerializePoints(t){let e=t.length,n=[];for(let i=0;i<e;i++){let e=t[i];n.push(`${e.x},${e.y} `)}return n}optionclicked(t){console.log(t),console.log(t.target.id),this.opt=this.saveArr[t.target.id],console.log(this.opt),1==this.opt.isCorrect?(this.renderer.setStyle(t.target,"fill","rgb(101, 161, 41)"),this.renderer.setStyle(t.target,"stroke","rgb(101, 161, 41)")):(this.renderer.setStyle(t.target,"fill","rgb(255,0,0)"),this.renderer.setStyle(t.target,"stroke","rgb(255,0,0)"))}createNewPolyGon(t,e,n){let i,r=this.renderer.createElement("polygon","svg");this.renderer.appendChild(this.polygonG.nativeElement,r),i=n>-1?n:e?parseInt(e.getAttribute("id")):this.saveArr.length,this.renderer.setAttribute(r,"id",`${i}`),this.renderer.setAttribute(r,"points",`${t}`),this.renderer.setStyle(r,"fill","rgb(34, 176, 214)"),this.renderer.setStyle(r,"fill-opacity","0.5"),this.renderer.setStyle(r,"cursor","inherit"),this.renderer.setStyle(r,"z-index","0"),this.renderer.setStyle(r,"stroke","rgb(34, 176, 214)"),this.renderer.setStyle(r,"stroke-width","2px"),this.renderer.setStyle(r,"stroke-opacity","1"),this.renderer.setStyle(r,"stroke-dasharray","none"),this.renderer.setStyle(r,"stroke-linecap","round"),this.renderer.setStyle(r,"stroke-linejoin","round")}populateImage(t){console.log(t),t.width=parseInt(t.width),t.height=parseInt(t.height),this.renderer.setStyle(this.container.nativeElement,"width",t.width),this.renderer.setStyle(this.container.nativeElement,"height",t.height),this.renderer.setStyle(this.imgG.nativeElement,"width",t.width),this.renderer.setStyle(this.imgG.nativeElement,"height",t.height),this.renderer.setAttribute(this.imgG.nativeElement,"href",t.src)}checkAttempted(){var t;this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?(this.attemptedOption=this.attemptedOps,this.updateAttemptedOption(),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED")):this.attemptedOption=[{qid:this.quizData.data.questions[0].questionID,options:[]}]}checkShuffle(){this.quizData.data.questions[0].metadata.shuffle&&this.shuffleOptions()}shuffleOptions(){this.utility.shuffle(this.quizData.data.questions[0].data.options)}updateAttemptedOption(){for(const t of this.quizData.data.questions[0].data.options)for(const e of this.attemptedOption[0].options)t.value===e&&(t.isSelected=!0)}initEvent(){this.$resetScreen.subscribe(t=>{this.reset()}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()})}showAnswer(){for(const t of this.quizData.data.questions)for(const e of t.data.options)1===e.isCorrect&&(e.isSelected=!0)}reset(){for(const t of this.quizData.data.questions)for(const e of t.data.options)e.isSelected=!1}toggelSelection(t){console.log("quizData",this.configData);for(const e of this.quizData.data.questions)for(const n of e.data.options)n.isSelected=t}doSomething(t){console.log("event:-",t),this.configData=t}onStateChange(t){console.log(t),this.questionCtrl.setQueState(this.getQValidate()),"MCQ"===this.quizData.data.questions[0].data.type&&this.updateAttempt(t),this.selectedOption=t,this.attempted.emit({event:"onOptClick",attemptedOption:this.attemptedOption})}updateAttempt(t){if(t.isSelected)this.attemptedOption[0].options.push(t.value);else{let e=this.attemptedOption[0].options.indexOf(t.value);this.attemptedOption[0].options.splice(e,1)}this.questionCtrl.setAttemptedOptions(this.attemptedOption)}getQValidate(){const t=[],e=this.getValidationArr(this.quizData.data.questions[0].data);for(let s=0;s<this.quizData.data.questions[0].data.options.length;s++)t.push(this.quizData.data.questions[0].data.options[s].isSelected&&1===e[s]?1:0);const n=t.reduce((t,e)=>t+e,0),i=e.reduce((t,e)=>t+e,0),r=Math.ceil(n/i);return(Math.floor(n/i)+1)*r}checkIsSolution(){return!!(this.quizData.data.questions[0].data.solution&&this.quizData.data.questions[0].data.solution.data.length>0)}getValidationArr(t){const e=[];console.log(t);for(const n of t.options)e.push(n.isCorrect);return e}subscribeEvent(){}onOptionAttempted(t){this.attempted.emit(t)}onShowSolution(){this.isSolution=!0,console.log(this.solution),this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}onSolutionClose(){this.isSolution=!1}cloasemodal(){console.log("ds"),this.showattachment=!1}showAttachment(){console.log(this.solution),this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}ngOnDestroy(){try{this.eventsSubscription.unsubscribe(),this.submited.unsubscribe(),this.attempted.unsubscribe(),this.questLoad.unsubscribe()}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(qo),r.Qb(r.A),r.Qb(r.E),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-hotspot"]],viewQuery:function(t,e){if(1&t&&(r.Mc(ns,1),r.Mc(is,3),r.Mc(rs,1),r.Mc(ss,3),r.Mc(os,3),r.Mc(as,3)),2&t){let t;r.zc(t=r.gc())&&(e.container=t.first),r.zc(t=r.gc())&&(e.line=t.first),r.zc(t=r.gc())&&(e.imgG=t.first),r.zc(t=r.gc())&&(e.circleG=t.first),r.zc(t=r.gc())&&(e.polygonG=t.first),r.zc(t=r.gc())&&(e.numberG=t.first)}},inputs:{configData:"configData",quizData:"quizData",mode:"mode",attemptedOps:"attemptedOps",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad",selectedOptionEvent:"selectedOptionEvent",userAttempt:"userAttempt"},decls:16,vars:3,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],["container",""],["transform","rotate(0,0,0)",2,"z-index","0","cursor","inherit"],["x","0","y","0","href","",2,"opacity","1"],["imgG",""],["x1","0","y1","0","x2","0","y2","0",2,"z-index","0","cursor","inherit","stroke","black","stroke-width","2px","stroke-opacity","1","stroke-dasharray","6, 8","stroke-linecap","round","stroke-linejoin","round"],["line",""],[3,"click"],["polygonG",""],["circleG",""],["numberG",""],[1,"mainWrapper",3,"ngClass"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"sec","d-flex"],[3,"difficultyType"],[1,"qusn-bonus"],[3,"bonusStr"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"qsn-instructions","quest-intro",3,"instructionData"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(t,e){1&t&&(r.Hc(0,ls,13,12,"div",0),r.Hc(1,hs,1,1,"tce-solutions",1),r.Hc(2,ds,1,1,"nx-afs-attachment",2),r.ic(),r.Vb(3,"svg",null,3),r.Vb(5,"g",4),r.Rb(6,"image",5,6),r.Ub(),r.Rb(8,"line",7,8),r.Vb(10,"g",9,10),r.fc("click",function(t){return e.optionclicked(t)}),r.Ub(),r.Rb(12,"g",null,11),r.Rb(14,"g",null,12),r.Ub()),2&t&&(r.oc("ngIf",e.questionCtrl.configData),r.Db(1),r.oc("ngIf",e.isSolution),r.Db(1),r.oc("ngIf",e.showattachment))},directives:function(){return[s.l,s.j,_a,fa,ma,sa,oa,ca,Vo,Wo]},styles:[".pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}"]}),t})(),ea=(()=>{class t{constructor(t,e){this.api=t,this.howl=e,this.oldType=""}getSfxFile(t){this.api.getConfigFile("assets/static_json/big-idea/big-idea-sfx-rule.json").subscribe(e=>{console.log("SfxService -> getSfxFile -> resp",e),this.sfxData=e,re.Howler.autoUnlock=!1,this.registerAudios(t)})}registerAudios(t){this.backGroundSound(this.sfxData[t].bgSfx),this.correctSound(this.sfxData[t].correctSfx),this.incorrectSound(this.sfxData[t].incorrectSfx)}backGroundSound(t){this.api.audioServiceCall(t).subscribe(t=>{this.howl.register("bg",{src:[t],html5:!0,pool:20}).subscribe(t=>{console.log("SfxService -> registerAudios -> status",t),this.playBg()})},t=>{console.log("SfxService -> backGroundSound -> error",t)})}correctSound(t){this.api.audioServiceCall(t).subscribe(t=>{this.howl.register("correct",{src:[t],html5:!0,pool:20}).subscribe(t=>{console.log("SfxService -> registerAudios -> status",t)})},t=>{console.log("SfxService -> backGroundSound -> error",t)})}incorrectSound(t){this.api.audioServiceCall(t).subscribe(t=>{this.howl.register("incorrect",{src:[t],html5:!0,pool:20}).subscribe(t=>{console.log("SfxService -> registerAudios -> status",t)})},t=>{console.log("SfxService -> backGroundSound -> error",t)})}play(t){this.howl&&this.howl.get(t)&&(this.howl.get(this.oldType)&&(this.howl.get(this.oldType).stop(),this.howl.get(this.oldType).unload()),this.howl.get(t).play(),this.oldType=t)}stopAllFeedback(){this.howl&&(this.howl.get("correct").stop(),this.howl.get("incorrect").stop(),this.howl.get("correct").unload(),this.howl.get("incorrect").unload())}playBg(){this.howl&&(this.howl.get("bg").play(),this.howl.get("bg").volume(.1),this.howl.get("bg").loop(!0))}resumeBg(){this.howl&&this.howl.get("bg").play()}pauseBg(){this.howl&&this.howl.get("bg").pause()}stopBg(){this.howl&&(this.howl.get("bg").stop(),this.howl.get("bg").unload())}isBgPlaying(){return this.howl.get("bg").playing()}destroy(){console.log("\ud83d\ude80 ~ file: sfx.service.ts ~ line 132 ~ SfxService ~ destroy ~ this.howl",this.howl),this.howl&&(this.stopBg(),this.howl.unregister("bg"),this.howl.unregister("correct"),this.howl.unregister("incorrect"))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Bo),r.cc(ie))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.cc)(Bo),Object(r.cc)(ie))},token:t,providedIn:"root"}),t})(),na=(()=>{class t{constructor(t,e,n,i,s){this.templateLoader=t,this.questionCtrl=e,this.sanitizer=n,this.sfx=i,this.modalService=s,this.attempted=new r.n,this.submitted=new r.n,this.questLoad=new r.n,this.onIdleTime=new r.n,this.tempUrl="",this.eventConfigData=new _.a,this.libVersion="0.0.39.5",this._attemptCount=0,this.themeRelativePath="assets/quizEngine/Theme1.css",this.themeBasePath="assets/quizEngine/bigIdeaTheme/",this.componentType={},this.componentType.MCQ=Go,this.componentType.SCQ=Xo,this.componentType.CATEGORY=Zo,this.componentType.SUBJECTIVE=Jo,this.componentType.SERIES=zo,this.componentType.MATCH=Yo,this.componentType.FIB=$o,this.componentType.FIBDND=Qo,this.componentType.HOTSPOT=ta}ngOnInit(){this.questionCtrl.initialise(this.qData[0].style,this.quizrules,this.mode),this.intializeEvent(),this.checkMode()}set rules(t){this.quizrules=Object(C.cloneDeep)(t),this.questionCtrl.optionKey=t.msgRule,this.updateConfigData()}set quizData(t){console.log("quizData",t);const e=JSON.stringify(t).replace(/{{{plus}}}/gi,"+");this.qData=JSON.parse(e),this.intiVariables(),this.intiThemesForBigidea(),this.quizrules&&(this.questionCtrl.onEventTrgger("resetQuestion"),this.trggerQinit(),this.questionCtrl.initialise(this.qData[0].style,this.quizrules,this.mode),this.updateConfigData())}set basePath(t){this.questionCtrl.resetBasePath(),this.questionCtrl.setBasePath(t)}set attemptedOps(t){this._attemptedOps=t,this.trggerQinit()}get attemptedOps(){return this._attemptedOps}set isSound(t){this._isSound=t}get isSound(){return this._isSound}set timeSpend(t){console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 154 ~ RendererComponent ~ @Input ~ value",t),this.questionCtrl.spendTime=t,this._timeSpend=t}get timeSpend(){return this._timeSpend}set idleTime(t){console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 154 ~ RendererComponent ~ @Input ~ value",t),this.questionCtrl._idle_time=t,this._idleTime=t}get idleTime(){return this._idleTime}set messageOption(t){this._messageOption=t,console.log("RendererComponent -> @Input -> value",t),this.questionCtrl.optionDictPrefix=t.messages?t.messages:[]}get messageOption(){return this._messageOption}set attemptCount(t){console.log("attemptCount",t),this._attemptCount=t,this.manipulationAttemptCount(t)}get attemptCount(){return this._attemptCount}updateConfigData(){this.qData[0].style.evtCss&&(this.quizrules.event.onOptClick=this.qData[0].style.evtCss[0].onOptClick)}intializeEvent(){this.$validateQuestion&&(this.subscription=this.$validateQuestion.subscribe(t=>{this.questionCtrl.validateQuestion().then(t=>{console.log("RendererComponent -> intializeEvent -> validateSate",t),this.questionCtrl.onEventTrgger("qValidation"),this.questionCtrl.isPendingAttempt=!1,this.submitted.emit(t)})})),this.$resetScreen&&this.$resetScreen.subscribe(t=>{this.questionCtrl.onEventTrgger("resetQuestion"),this.questionCtrl.timeStamp=(new Date).getTime(),this.showAttemptedNotification()}),this.$bgAudio&&this.$bgAudio.subscribe(t=>{"pause"===t?this.pauseBgAudio():this.playBgAudio()}),this.$showCorrectAns&&this.$showCorrectAns.subscribe(t=>{this.questionCtrl.onEventTrgger("correctQuestion")}),this.$nextSubQ&&this.$nextSubQ.pipe(Object(O.a)(100)).subscribe(t=>{console.log("RendererComponent -> intializeEvent -> val",t),this.manipulationAttemptCount(this.attemptCount),this.questionCtrl.onEventTrgger("loadQuestion"),this.questionCtrl.theme&&this.sfx.stopAllFeedback()}),this.$nagivation&&(this.nagivation_subscription=this.$nagivation.subscribe(t=>{this.questionCtrl.idleTimeValidation();const e=this.questionCtrl.getIdleTime();console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 249 ~ RendererComponent ~ this.nagivation_subscription=this.$nagivation.subscribe ~ idelTime",e),this.onIdleTime.emit(e)}))}intiThemesForBigidea(){if(this.questionCtrl.theme=null,console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 272 ~ RendererComponent ~ intiThemesForBigidea ~ this.qData[0].style",this.qData[0].style),this.qData[0].style.extCss){const t=this.qData[0].style.extCss===this.themeRelativePath?this.themeRelativePath:this.themeBasePath+this.qData[0].style.extCss+"/theme.css";void 0!==this.isSound&&!0!==this.isSound||this.sfx.getSfxFile(this.qData[0].style.extCss),this.questionCtrl.theme=t,console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 283 ~ RendererComponent ~ intiThemesForBigidea ~ this.questionCtrl.theme",this.questionCtrl.theme),window.document.getElementById("big-idea-theme").setAttribute("href",t)}}intiVariables(){this.questionCtrl.setDuration(this.qData[0].data.metadata.duration?this.qData[0].data.metadata.duration:0),this.questionCtrl.setVersionNumber(this.qData[0].data.metadata.version?this.qData[0].data.metadata.version:1),this.questionCtrl.setMarks(this.computeMaxScore())}showAttemptedNotification(){this.questionCtrl.isPendingAttempt=2!==this.questionCtrl.getQuestState()}computeOptScore(t){let e=0;for(const n of t)1===n.isCorrect&&(e+=Number(n.score));return e}computeMaxScore(){let t=0;if("SORTING"===this.qData[0].data.type)for(const e of this.qData[0].data.column)t+=this.computeOptScore(e.options);else if("COMPOSITE"===this.qData[0].data.type||"FIBSCQ"===this.qData[0].data.type)for(const e of this.qData)t+=this.computeOptScore(e.data.options);else if("FIB"===this.qData[0].data.type)for(const e of this.qData[0].data.blanks)t+=this.computeOptScore(e.options);else if("FIBSCQ"===this.qData[0].data.type)for(const e of this.qData)e.options&&(t+=this.computeOptScore(e.options));else t+=this.computeOptScore(this.qData[0].data.options);return console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 259 ~ RendererComponent ~ computeMaxScore ~ maxScore",t),t}manipulationAttemptCount(t){this.questionCtrl.attempt_count=t,this.questionCtrl.isPendingAttempt=!1,this.questionCtrl.attempt_count>0&&(this.questionCtrl.isPendingAttempt=!0)}trggerQinit(){console.log("RendererComponent -> trggerQinit -> trggerQinit"),"preview"===this.mode?(this.questionCtrl.onEventTrgger("qInit_preview"),this.triggerPrefix()):this.questionCtrl.onEventTrgger("qInit")}triggerPrefix(){var t;console.log("attemptCount",this.attemptedOps),(0===this.attemptedOps.length||0===(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length))&&this.questionCtrl.onEventTrgger("mode_"+this.mode+"_-1")}ngAfterViewInit(){this.trggerQinit()}questLoaded(t){this.questLoad.emit(t)}attemptedOpt(t){}subscribeEvents(){try{this.templateLoader.componentRef.instance.attempted.subscribe(t=>{this.optionClickEvent(t)}),this.templateLoader.componentRef.instance.onSubmit.subscribe(t=>this.questSubmited(t)),this.templateLoader.componentRef.instance.selectedOptionEvent.subscribe(t=>{this.questSubmited(t)})}catch(t){}}questAttempted(t){}questSubmited(t){}checkMode(){console.log("RendererComponent -> checkMode -> this.mode",this.mode),"review"===this.mode&&this.questionCtrl.setQueState(2)}optionClickEvent(t){this.questionCtrl.onEventTrgger("onOptClick"),this.playAudio(t),this.attempted.emit(t),this.questionCtrl.timeStamp=(new Date).getTime(),console.log("RendererComponent -> optionClickEvent -> obj",t)}playAudio(t){console.log("RendererComponent -> playAudio -> this.questionCtrl.getcurrentQuestFeedback()",this.questionCtrl.getcurrentQuestFeedback()),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 471 ~ RendererComponent ~ playAudio ~ this.questionCtrl.theme",this.questionCtrl.theme),this.questionCtrl.theme&&(1===this.questionCtrl.getcurrentQuestFeedback()?this.sfx.play("correct"):this.sfx.play("incorrect"))}playBgAudio(){this.sfx.isBgPlaying()||this.sfx.resumeBg()}pauseBgAudio(){this.sfx.pauseBg(),this.sfx.stopAllFeedback()}attemptedQuest(t){console.log("RendererComponent -> attemptedQuest -> obj",t),this.attempted.emit(t)}manipulation(t,e=!0){return t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,e&&this.questionCtrl.computeConfidenceMatrix(),t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t.attemptedOption.forEach(t=>{}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",t.attemptedOption),t}ngOnDestroy(){try{this.subscription.unsubscribe(),this.nagivation_subscription.unsubscribe(),this.attempted.unsubscribe(),this.submitted.unsubscribe(),this.questLoad.unsubscribe(),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 524 ~ RendererComponent ~ ngOnDestroy ~ this.questionCtrl.theme",this.questionCtrl.theme)}catch(t){}this.questionCtrl.theme&&this.sfx.destroy(),this.modalService.hasOpenModals()&&this.modalService.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ko),r.Qb(Fo),r.Qb(i.b),r.Qb(ea),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-renderer"]],viewQuery:function(t,e){if(1&t&&r.Mc(ps,1,r.R),2&t){let t;r.zc(t=r.gc())&&(e.widgetTargets=t.first)}},inputs:{rules:"rules",quizData:"quizData",basePath:"basePath",attemptedOps:"attemptedOps",isSound:"isSound",timeSpend:"timeSpend",idleTime:"idleTime",messageOption:"messageOption",attemptCount:"attemptCount",mode:"mode",theme:"theme",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$validateQuestion:"$validateQuestion",$nextSubQ:"$nextSubQ",$iDontknw:"$iDontknw",$bgAudio:"$bgAudio",$nagivation:"$nagivation"},outputs:{attempted:"attempted",submitted:"submitted",questLoad:"questLoad",onIdleTime:"onIdleTime"},decls:20,vars:18,consts:[["id","big-idea-theme","rel","stylesheet","href",""],[2,"position","fixed","bottom","0","left","0","z-index","1","padding","1px 5px","font-size","12px","color","#757575"],[1,"space",3,"ngClass"],[3,"quizData","attemptedOps","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","class","attempted","questAttempted","questLoad",4,"ngIf"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attemptedOps","class","questAttempted","attempted","questLoad",4,"ngIf"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attemptedOps","class","attempted","questLoad",4,"ngIf"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","class","attemptedOps","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","$resetScreen","attemptedOps","quizData","configData","mode","class","$iDontknw","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","mode","$iDontknw","$nextSubQ","class","attempted","questAttempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","mode","$iDontknw","$nextSubQ","class","attempted","questLoad","questAttempted",4,"ngIf"],[3,"$showCorrectAns","$resetScreen","quizData","$iDontknw","configData","mode","class","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","$resetScreen","quizData","$iDontknw","configData","mode","attemptedOps","class","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","configData","mode","$iDontknw","class","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","mode","attemptedOps","$resetScreen","quizData","configData","$iDontknw","class","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","$resetScreen","quizData","configData","mode","attemptedOps","$iDontknw","class","attempted","questLoad",4,"ngIf"],[3,"quizData","mode","attemptedOps","$showCorrectAns","$resetScreen","$iDontknw","configData","class","attempted","questAttempted","questLoad",4,"ngIf"],[3,"quizData","attemptedOps","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attempted","questAttempted","questLoad"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attemptedOps","questAttempted","attempted","questLoad"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attemptedOps","attempted","questLoad"],[3,"$showCorrectAns","$resetScreen","attemptedOps","quizData","configData","mode","$iDontknw","attempted","questLoad"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","mode","$iDontknw","$nextSubQ","attempted","questAttempted","questLoad"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","mode","$iDontknw","$nextSubQ","attempted","questLoad","questAttempted"],[3,"$showCorrectAns","$resetScreen","quizData","$iDontknw","configData","mode","attempted","questLoad"],[3,"$showCorrectAns","$resetScreen","quizData","$iDontknw","configData","mode","attemptedOps","attempted","questLoad"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","configData","mode","$iDontknw","attempted","questLoad"],[3,"$showCorrectAns","mode","attemptedOps","$resetScreen","quizData","configData","$iDontknw","attempted","questLoad"],[3,"$showCorrectAns","$resetScreen","quizData","configData","mode","attemptedOps","$iDontknw","attempted","questLoad"],[3,"quizData","mode","attemptedOps","$showCorrectAns","$resetScreen","$iDontknw","configData","attempted","questAttempted","questLoad"]],template:function(t,e){1&t&&(r.Rb(0,"link",0),r.Vb(1,"div",1),r.Jc(2),r.Ub(),r.Vb(3,"div",2),r.Hc(4,fs,1,10,"tce-mcq",3),r.Hc(5,_s,1,10,"tce-scq",4),r.Hc(6,gs,1,10,"tce-sorting",5),r.Hc(7,ms,1,10,"tce-sorting",6),r.Hc(8,vs,1,10,"tce-subjective",7),r.Hc(9,ys,1,11,"tce-composite-steps",8),r.Hc(10,bs,1,11,"tce-composite-steps",9),r.Hc(11,Es,1,10,"tce-match",10),r.Hc(12,Os,1,11,"tce-match",11),r.Hc(13,Ss,1,10,"tce-fib",12),r.Hc(14,Cs,1,10,"nx-afs-fib-drop-down",13),r.Hc(15,Ts,1,10,"nx-afs-fib-select",12),r.Hc(16,ws,1,10,"nx-afs-fib-dnd",14),r.Hc(17,Ds,1,10,"nx-afs-hotspot",14),r.Hc(18,Ps,1,10,"nx-afs-world-select",15),r.Hc(19,As,1,10,"nx-afs-word-select-v2",15),r.Ub()),2&t&&(r.Db(2),r.Lc(" ",e.libVersion,"\n"),r.Db(1),r.oc("ngClass","quizEngine_"+e.mode),r.Db(1),r.oc("ngIf","MCQ"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","SCQ"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","SORTING"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","CATEGORY"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","SUBJECTIVE"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","SERIES"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","COMPOSITE"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","MATCHING"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","MATCH"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","FIB"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","FIBSCQ"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","FIBMCQ"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","FIBDND"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","HOTSPOT"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","WS"===e.qData[0].data.type),r.Db(1),r.oc("ngIf","WSV2"===e.qData[0].data.type))},directives:function(){return[s.j,s.l,Go,Xo,Zo,Jo,zo,Yo,$o,Ho,Oa,Qo,ta,ya,ba]},styles:[""]}),t})(),ia=(()=>{class t{constructor(t,e){this.utility=t,this.renderer=e,this.widthExceedClass=new r.n,this.isZoomFeed=!0}ngOnInit(){this.$resetOverFlow&&this.$resetOverFlow.subscribe(t=>{this.removeAllClass()})}removeAllClass(){this.renderer.removeClass(this.feedbackWrapper.nativeElement.parentElement.parentElement,"feedbackWidthExceededWrapper"),this.renderer.removeClass(this.feedbackWrapper.nativeElement,"feedbackWidthExceeded"),this.isZoomFeed=!1}eqRendred(t){this.isZoomFeed=!1}checkForZoom(){if(this.feedbackWrapper&&!this.isZoomFeed){const t=this.feedbackWrapper.nativeElement.querySelectorAll(".ql-editor")[0],e=[].slice.call(t.querySelectorAll("span")),n=[].slice.call(t.querySelectorAll("img"));if(Math.max(...e.concat(n).map(t=>t.offsetWidth))-5>t.offsetWidth)return this.isZoomFeed=!0,this.renderer.addClass(this.feedbackWrapper.nativeElement.parentElement.parentElement,"feedbackWidthExceededWrapper"),this.renderer.addClass(this.feedbackWrapper.nativeElement,"feedbackWidthExceeded"),this.widthExceedClass.emit(),!0}return!1}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(qo),r.Qb(r.E))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-feedback"]],viewQuery:function(t,e){if(1&t&&r.Mc(Is,1),2&t){let t;r.zc(t=r.gc())&&(e.feedbackWrapper=t.first)}},inputs:{$resetOverFlow:"$resetOverFlow",feedback:"feedback"},outputs:{widthExceedClass:"widthExceedClass"},decls:7,vars:9,consts:[[1,"pb-4","text-center","justify-content-center",3,"ngClass"],["feedbackWrapper",""],[1,"tce-quill-view",3,"content","equationRendered"],[1,"optMediaWrapper"],[3,"imgSrc",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[3,"imgSrc"],["controls","",3,"src"]],template:function(t,e){1&t&&(r.Vb(0,"div",0,1),r.Vb(2,"tce-quiz-quill-view",2),r.fc("equationRendered",function(t){return e.eqRendred(t)}),r.Ub(),r.Ub(),r.Vb(3,"div",3),r.Hc(4,Ms,1,1,"nx-afs-image-zoom",4),r.Hc(5,xs,1,1,"video",5),r.Hc(6,Rs,1,1,"audio",5),r.Ub()),2&t&&(r.oc("ngClass",r.uc(5,tr,e.feedback.feedback[0].text&&e.feedback.feedback[0].text.length>50&&e.feedback.feedback[0].text.length<100?"textSizeExtended":"",e.feedback.feedback[0].text&&e.feedback.feedback[0].text.length>100?"textSizeExtreme":"",(e.checkForZoom(),""))),r.Db(2),r.oc("content",e.feedback.feedback[0].text),r.Db(2),r.oc("ngIf",e.utility.checkImageAvailability(e.feedback.feedback[0].media)),r.Db(1),r.oc("ngIf",e.utility.checkVideoAvailability(e.feedback.feedback[0].media)),r.Db(1),r.oc("ngIf",e.utility.checkAudioAvailability(e.feedback.feedback[0].media)))},directives:function(){return[s.j,Sa,s.l,va]},styles:[""]}),t})(),ra=(()=>{class t{constructor(t,e,n,i){this.utility=t,this.questCtrl=e,this.ngZone=n,this.renderer=i,this.isZoom=!1,this.isFeedZoom=!1,this.stateChange=new r.n,this.isAnimation=!0,this.optMsg=""}set option(t){var e,n;console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 23 ~ OptionComponent ~ @Input ~ opt",t),this._option=t,this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(e=this.option)||void 0===e?void 0:e.index,null===(n=this.option)||void 0===n?void 0:n.curColl)}get option(){return this._option}onTouchEnter(t){this.isZoom&&(this.addClass(),this.addParentClass()),console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 60 ~ OptionComponent ~ @HostListener ~ this.isFeedZoom",this.isFeedZoom),console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 54 ~ OptionComponent ~ @HostListener ~ this.isZoom",this.isZoom),this.isFeedZoom&&navigator.userAgent.indexOf("Mobile")>-1&&this.renderer.addClass(this.optionWrapper.nativeElement.parentElement,"optFeedMobWidthExceededWrapper")}onMouseEnter(t){this.isZoom&&(this.addClass(),this.addParentClass()),this.isFeedZoom&&-1===navigator.userAgent.indexOf("Mobile")&&this.renderer.addClass(this.optionWrapper.nativeElement.parentElement,"optFeedWidthExceededWrapper")}onMouseLeave(){this.isZoom&&(this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optionMobWrapperIncrease"),this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optionWrapperIncrease"),this.renderer.removeClass(this.optionWrapper.nativeElement,"optionMobWidthIncrease"),this.renderer.removeClass(this.optionWrapper.nativeElement,"optionWidthIncrease")),this.isFeedZoom&&(this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optFeedWidthExceededWrapper"),this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optFeedMobWidthExceededWrapper"))}ngOnInit(){var t,e;this.isAnimation=!0,this.checkAttempt(),this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(e=this.option)||void 0===e?void 0:e.curColl),this.$resetScreen&&this.$resetScreen.subscribe(t=>{this.reset()}),this.$resetOverFlow&&this.$resetOverFlow.subscribe(t=>{this.removeFeedClasses()}),this.$otherOptChange&&this.$otherOptChange.subscribe(()=>{var t,e;console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 69 ~ OptionComponent ~ this.$otherOptChange.subscribe ~ this.optMsg",this.optMsg),this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(e=this.option)||void 0===e?void 0:e.curColl)})}removeFeedClasses(){this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optFeedWidthExceededWrapper"),this.renderer.removeClass(this.optionWrapper.nativeElement,"optFeedWidthExceeded"),this.isFeedZoom=!1}checkForZoom(){const t=this.optionWrapper.nativeElement.querySelectorAll(".ql-editor")[0],e=[].slice.call(t.querySelectorAll("span")),n=[].slice.call(t.querySelectorAll("img"));Math.max(...e.concat(n).map(t=>t.offsetWidth))>t.offsetWidth&&(this.isZoom=!0,this.renderer.addClass(this.optionWrapper.nativeElement.parentElement.parentElement,"optionWidthExceededWrapper"),this.renderer.addClass(this.optionWrapper.nativeElement,"optionWidthExceeded"),console.log("---wider---"))}addClass(){navigator.userAgent.indexOf("Mobile")>-1?this.renderer.addClass(this.optionWrapper.nativeElement,"optionMobWidthIncrease"):this.renderer.addClass(this.optionWrapper.nativeElement,"optionWidthIncrease")}addParentClass(){navigator.userAgent.indexOf("Mobile")>-1?this.renderer.addClass(this.optionWrapper.nativeElement.parentElement.parentElement,"optionMobWrapperIncrease"):this.renderer.addClass(this.optionWrapper.nativeElement.parentElement.parentElement,"optionWrapperIncrease")}onWidthExceedClass(){this.isFeedZoom=!0,this.renderer.addClass(this.optionWrapper.nativeElement,"optFeedWidthExceeded")}reset(){var t,e;this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(e=this.option)||void 0===e?void 0:e.curColl)}checkAttempt(){if(this.questCtrl.theme){const t=this.questCtrl.theme.replace("theme.css","");this.option.isSelected&&1===this.option.isCorrect?(this.isAnimation=!1,this.pathConfig={path:t+"correct.json",loop:!1}):this.option.isSelected&&(this.isAnimation=!1,this.pathConfig={path:t+"incorrect.json",loop:!1})}}getOptionPrefixFeedback(t,e,n,i){return this.questCtrl.getOptionPrefixFeedback(t,e,n,i)}getFreeStyle(){if(this.configData.userInteraction.position)for(let t=0;t<this.configData.userInteraction.position.length;t++){const e=this.configData.userInteraction.position[t];if(t===this.index)return{top:e.y+"%",left:e.x+"%",width:"calc("+e.width+"% - 12px)",height:e.height+"%"}}return{}}onStateChange(){var t,e;0===this.option.isCorrect&&(this.option.score=0),this.isAnimation=!0,this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(e=this.option)||void 0===e?void 0:e.curColl),console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 126 ~ OptionComponent ~ onStateChange ~ this.optMsg",this.optMsg),this.stateChange.emit(this.option),this.initAnimation()}initAnimation(){if(this.questCtrl.theme){const t=this.questCtrl.theme.replace("theme.css","");this.option.isSelected&&1===this.option.isCorrect?this.pathConfig={path:t+"correct.json",loop:!1}:this.option.isSelected&&(this.pathConfig={path:t+"incorrect.json",loop:!1})}}animationCreated(t){this.animationItem=t}onAnimationReady(t){this.isAnimation||this.ngZone.runOutsideAngular(()=>this.animationItem.goToAndStop(this.animationItem.totalFrames-1,!0))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(qo),r.Qb(Fo),r.Qb(r.A),r.Qb(r.E))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-option"]],viewQuery:function(t,e){if(1&t&&r.Mc(ks,1),2&t){let t;r.zc(t=r.gc())&&(e.optionWrapper=t.first)}},hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.onTouchEnter()})("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{option:"option",$resetScreen:"$resetScreen",$resetOverFlow:"$resetOverFlow",configData:"configData",index:"index",$otherOptChange:"$otherOptChange"},outputs:{stateChange:"stateChange"},decls:14,vars:19,consts:[[1,"optionWrapper",3,"ngClass","ngStyle"],["optionWrapper",""],[1,"optionBox"],["class","lottieAnimationFeedback",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange","change"],["for","customCheck1",1,"custom-control-label"],[1,"optMediaWrapper"],[3,"imgSrc",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[1,"tce-quill-view",3,"content","equationRendered"],["class","feedbackPrefix",4,"ngIf"],["class","feedbackBox",4,"ngIf"],[1,"lottieAnimationFeedback"],[1,"lottieAnimationMidBox"],[1,"lottie",3,"options","animationCreated","dataReady"],[3,"imgSrc"],["controls","",3,"src"],[1,"feedbackPrefix"],[3,"message"],[1,"feedbackBox"],[3,"feedback","$resetOverFlow","widthExceedClass"],[1,"tick-icon"]],template:function(t,e){1&t&&(r.Vb(0,"div",0,1),r.Vb(2,"div",2),r.Hc(3,Ls,3,1,"div",3),r.Vb(4,"div",4),r.Vb(5,"input",5),r.fc("ngModelChange",function(t){return e.option.isSelected=t})("change",function(){return e.onStateChange()}),r.Ub(),r.Vb(6,"label",6),r.Vb(7,"div",7),r.Hc(8,js,1,1,"nx-afs-image-zoom",8),r.Hc(9,Ns,1,1,"video",9),r.Hc(10,Us,1,1,"audio",9),r.Ub(),r.Vb(11,"tce-quiz-quill-view",10),r.fc("equationRendered",function(){return e.checkForZoom()}),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Hc(12,Bs,2,1,"div",11),r.Hc(13,Fs,3,2,"div",12),r.Ub()),2&t&&(r.oc("ngClass",r.yc(11,qs,e.utility.isMediaAvailable(e.option.media)?"mediaWrapper":"",e.questCtrl.maxTextLength>25&&e.questCtrl.maxTextLength<32?"textSizeEasy":"",e.questCtrl.maxTextLength>32&&e.questCtrl.maxTextLength<64?"textSizeExtended":"",e.questCtrl.maxTextLength>64?"textSizeExtreme":"",e.questCtrl.maxSubTextLength>0&&e.questCtrl.maxSubTextLength<=3?"textStyle1":"",e.questCtrl.maxSubTextLength>3&&e.questCtrl.maxSubTextLength<=6?"textStyle2":"",e.questCtrl.maxSubTextLength>6?"textStyle3":""))("ngStyle",e.getFreeStyle()),r.Db(3),r.oc("ngIf",e.questCtrl.theme),r.Db(2),r.oc("id",e.index)("ngModel",e.option.isSelected),r.Db(3),r.oc("ngIf",e.utility.checkImageAvailability(e.option.media)),r.Db(1),r.oc("ngIf",e.utility.checkVideoAvailability(e.option.media)),r.Db(1),r.oc("ngIf",e.utility.checkAudioAvailability(e.option.media)),r.Db(1),r.oc("content",e.option.label),r.Db(1),r.oc("ngIf",e.questCtrl.isActiveInstandFeed()),r.Db(1),r.oc("ngIf",e.option.feedback))},directives:function(){return[s.j,s.m,s.l,a.a,a.f,a.g,Sa,Gn,va,ca,ia]},styles:[Uo]}),t})(),sa=(()=>{class t{constructor(t){this.utility=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(qo))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-question"]],inputs:{quizData:"quizData"},decls:7,vars:8,consts:[[1,"questionWrapper",3,"ngClass"],["class","questBox ",4,"ngIf"],["class","questBox",4,"ngIf"],[1,"questMediaWrapper"],[3,"imgSrc",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[1,"questBox"],[1,"tce-quill-view",3,"content"],[1,"marks"],[3,"imgSrc"],["controls","",3,"src"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Hc(1,Vs,4,2,"div",1),r.Hc(2,Ws,4,2,"div",2),r.Vb(3,"div",3),r.Hc(4,Gs,1,1,"nx-afs-image-zoom",4),r.Hc(5,Ks,1,1,"video",5),r.Hc(6,zs,1,1,"audio",5),r.Ub(),r.Ub()),2&t&&(r.oc("ngClass",r.sc(6,$s,(null==e.quizData[0]?null:e.quizData[0].data.stimulus)&&(null==e.quizData[0]?null:e.quizData[0].data.stimulus.length)>125)),r.Db(1),r.oc("ngIf",null==e.quizData[0]?null:e.quizData[0].data),r.Db(1),r.oc("ngIf",e.quizData.column_title),r.Db(2),r.oc("ngIf",e.utility.checkImageAvailability(null==e.quizData[0]?null:e.quizData[0].data.stimulus_media)),r.Db(1),r.oc("ngIf",e.utility.checkVideoAvailability(null==e.quizData[0]?null:e.quizData[0].data.stimulus_media)),r.Db(1),r.oc("ngIf",e.utility.checkAudioAvailability(null==e.quizData[0]?null:e.quizData[0].data.stimulus_media)))},directives:function(){return[s.j,s.l,Sa,va]},styles:[".questBox[_ngcontent-%COMP%]{display:flex}.marks[_ngcontent-%COMP%]{padding-top:3px;display:none}[_nghost-%COMP%]     .ql-container{font-size:inherit}"]}),t})(),oa=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-instructions"]],inputs:{instructionData:"instructionData"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],[1,"tce-quill-view",3,"content"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Rb(1,"tce-quiz-quill-view",1),r.Ub()),2&t&&(r.oc("ngStyle",e.instructionData.intructionStyle)("ngClass",r.uc(3,tr,e.instructionData.data.length>50&&e.instructionData.data.length<100?"textSizeEasy":"",e.instructionData.data.length>100&&e.instructionData.data.length<150?"textSizeExtended":"",e.instructionData.data.length>150?"textSizeExtreme":"")),r.Db(1),r.oc("content",e.instructionData.data))},directives:function(){return[s.m,s.j,Sa]},styles:[""]}),t})(),aa=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-solution-strategies"]],inputs:{solutionStrtegiesData:"solutionStrtegiesData"},decls:1,vars:1,consts:[[1,"tce-quill-view",3,"content"]],template:function(t,e){1&t&&r.Rb(0,"tce-quiz-quill-view",0),2&t&&r.oc("content",e.solutionStrtegiesData.data)},directives:function(){return[Sa]},styles:[""]}),t})(),ca=(()=>{class t{constructor(){this.showSolution=new r.n}set message(t){this._message=t}get message(){return this._message}ngOnInit(){}set solutionData(t){this._solutionData=t}get solutionData(){return this._solutionData}onColutionClicked(){this.showSolution.emit()}isSolution(){return!!(this.solutionData&&Object.keys(this.solutionData).length>0&&Array.isArray(this.solutionData.answer)&&this.solutionData.answer.length>0&&""!==this.solutionData.answer[0].text)||!(!(this.solutionData&&Object.keys(this.solutionData).length>0)||Array.isArray(this.solutionData.answer)||""===this.solutionData.answer)||!!(this.solutionData&&Object.keys(this.solutionData).length>0&&this.solutionData.data.length>0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-question-feedback"]],inputs:{message:"message",solutionData:"solutionData"},outputs:{showSolution:"showSolution"},decls:3,vars:2,consts:[[1,"questionFeedback","heading4","mb-3","text-center","justify-content-center"],[1,"textDisplay",3,"innerHTML"],["class","btn btn-icon justify-content-end",3,"click",4,"ngIf"],[1,"btn","btn-icon","justify-content-end",3,"click"],[1,"icon","icon-solution","d-block"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Rb(1,"div",1),r.Hc(2,Hs,2,0,"button",2),r.Ub()),2&t&&(r.Db(1),r.oc("innerHTML",e.message,r.Cc),r.Db(1),r.oc("ngIf",e.isSolution()))},directives:[s.l],styles:[".redFont[_ngcontent-%COMP%]{color:#c00000}.greenFont[_ngcontent-%COMP%]{color:#548135}.mdi-check[_ngcontent-%COMP%], .mdi-close[_ngcontent-%COMP%], .showSolutionBtn[_ngcontent-%COMP%]{display:none}.solution_button[_ngcontent-%COMP%]{position:relative;z-index:10;pointer-events:all}.questionFeedback[_ngcontent-%COMP%]{display:flex;padding:0;justify-content:center;align-items:center;position:relative}.questionFeedback[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:0}.questionFeedback[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:relative;right:0;top:0}[_nghost-%COMP%]     .feedbackPrefix .textDisplay{font-size:12px}[_nghost-%COMP%]     .feedbackPrefix .questionFeedback{padding:0}"]}),t})(),ua=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-image-viewer"]],inputs:{attachment:"attachment"},decls:1,vars:1,consts:[[3,"imgSrc"]],template:function(t,e){1&t&&r.Rb(0,"nx-afs-image-zoom",0),2&t&&r.oc("imgSrc",e.attachment)},directives:function(){return[va]},styles:[""]}),t})(),la=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-video-viewer"]],inputs:{attachment:"attachment"},decls:4,vars:1,consts:[[1,"embed-responsive","embed-responsive-21by9"],["width","100%","height","240","controls","","autoplay","",1,"embed-responsive-item"],["type","video/mp4",3,"src"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"video",1),r.Rb(2,"source",2),r.Jc(3," Your browser does not support the video tag.\n"),r.Ub(),r.Ub()),2&t&&(r.Db(2),r.oc("src",e.attachment,r.Ec))},styles:[""]}),t})(),ha=(()=>{class t{constructor(t){this.sanitizer=t}ngOnInit(){this.url=this.sanitizer.bypassSecurityTrustResourceUrl(this.attachment)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(i.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-pdf-viewer"]],inputs:{attachment:"attachment"},decls:1,vars:1,consts:[["width","100%","height","500px",3,"src"]],template:function(t,e){1&t&&r.Rb(0,"iframe",0),2&t&&r.oc("src",e.url,r.Dc)},styles:[""]}),t})(),da=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-text-viewer"]],inputs:{attachment:"attachment"},decls:1,vars:1,consts:[[1,"tce-quill-view",3,"content"]],template:function(t,e){1&t&&r.Rb(0,"tce-quiz-quill-view",0),2&t&&r.oc("content",e.attachment)},directives:function(){return[Sa]},styles:[""]}),t})(),pa=(()=>{class t{constructor(t){this.activeModal=t}ngOnInit(){this.openurl()}openurl(){window.open(this.attachment,"_blank"),this.activeModal.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(S.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-external-link"]],inputs:{attachment:"attachment"},decls:1,vars:1,consts:[["_blank","",3,"href"]],template:function(t,e){1&t&&r.Rb(0,"a",0),2&t&&r.oc("href",e.attachment,r.Ec)},styles:[""]}),t})(),fa=(()=>{class t{constructor(){this.status=!1}toggleFlag(){this.status=!this.status}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["lib-flag"]],decls:13,vars:2,consts:[[1,"flag-active"],["viewBox","0 0 24 24"],["d","M15.9027,1.15353333 C15.7344,1.0857 11.7377333,-0.478866667 8.62803333,1.17003333 C6.16403333,2.47793333 1.83883333,1.49673333 0.733333333,1.21293333 L0.733333333,0.366666667 C0.733333333,0.1639 0.569433333,0 0.366666667,0 C0.1639,0 0,0.1639 0,0.366666667 L0,1.46666667 C0,1.4718 0.00256666667,1.4762 0.00293333333,1.48133333 C0.00293333333,1.48573333 0,1.4894 0,1.4938 L0,12.1 L0,12.4938 L0,21.6333333 C0,21.8361 0.1639,22 0.366666667,22 C0.569433333,22 0.733333333,21.8361 0.733333333,21.6333333 L0.733333333,12.9708333 C1.56676667,13.1787333 3.38323333,13.5692333 5.26826667,13.5692333 C6.5725,13.5692333 7.90826667,13.3818667 8.97196667,12.8179333 C11.7777,11.3289 15.5925,12.8194 15.6306333,12.8344333 C15.7439333,12.8799 15.8715333,12.8659667 15.9723667,12.7970333 C16.0728333,12.7292 16.1333333,12.6155333 16.1333333,12.4938 L16.1333333,1.4938 C16.1333333,1.34383333 16.0420333,1.20926667 15.9027,1.15353333 Z"],[1,"flag-inactive"],["d","M15.9027,1.15353333 C15.7344,1.0857 11.7377333,-0.478866667 8.62803333,1.17003333 C6.16403333,2.47793333 1.83883333,1.49673333 0.733333333,1.21293333 L0.733333333,0.366666667 C0.733333333,0.1639 0.569433333,0 0.366666667,0 C0.1639,0 0,0.1639 0,0.366666667 L0,1.46666667 C0,1.4718 0.00256666667,1.4762 0.00293333333,1.48133333 C0.00293333333,1.48573333 0,1.4894 0,1.4938 L0,12.1 L0,12.4938 L0,21.6333333 C0,21.8361 0.1639,22 0.366666667,22 C0.569433333,22 0.733333333,21.8361 0.733333333,21.6333333 L0.733333333,12.9708333 C1.56676667,13.1787333 3.38323333,13.5692333 5.26826667,13.5692333 C6.5725,13.5692333 7.90826667,13.3818667 8.97196667,12.8179333 C11.7777,11.3289 15.5925,12.8194 15.6306333,12.8344333 C15.7439333,12.8799 15.8715333,12.8659667 15.9723667,12.7970333 C16.0728333,12.7292 16.1333333,12.6155333 16.1333333,12.4938 L16.1333333,1.4938 C16.1333333,1.34383333 16.0420333,1.20926667 15.9027,1.15353333 Z M15.4,11.9771667 C14.2046667,11.5965667 11.1298,10.8419667 8.62803333,12.1696667 C6.1644,13.4772 1.84066667,12.4967333 0.733333333,12.2129333 L0.733333333,12.1 L0.733333333,1.97083333 C2.1461,2.3232 6.37303333,3.1966 8.97196667,1.81793333 C11.3795,0.540833333 14.5299,1.45676667 15.4,1.75156667 L15.4,11.9771667 Z"],[1,"flag-toggle"],[3,"ngClass","click"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.ic(),r.Vb(1,"svg",1),r.Rb(2,"path",2),r.Ub(),r.Ub(),r.hc(),r.Vb(3,"div",3),r.ic(),r.Vb(4,"svg",1),r.Rb(5,"path",4),r.Ub(),r.Ub(),r.hc(),r.Vb(6,"div",5),r.Vb(7,"div",6),r.fc("click",function(){return e.toggleFlag()}),r.ic(),r.Vb(8,"svg",1),r.Rb(9,"path",4),r.Ub(),r.Ub(),r.hc(),r.Vb(10,"div",6),r.fc("click",function(){return e.toggleFlag()}),r.ic(),r.Vb(11,"svg",1),r.Rb(12,"path",2),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Db(7),r.oc("ngClass",e.status?"":"flag-inactive"),r.Db(3),r.oc("ngClass",e.status?"flag-active":""))},directives:[s.j],styles:["div[_ngcontent-%COMP%]{height:40px;width:40px;padding:5px}.flag-active[_ngcontent-%COMP%], .flag-inactive[_ngcontent-%COMP%], .flag-toggle[_ngcontent-%COMP%]{display:none}"]}),t})(),_a=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["lib-difficulty-level"]],inputs:{difficultyType:"difficultyType"},decls:3,vars:3,consts:[[4,"ngIf"],["viewBox","0 0 24 24"],["d","M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"],["d","M19.5,14.5A7.5,7.5 0 0,1 12,22A7.5,7.5 0 0,1 4.5,14.5C4.5,10.36 7.86,2 12,2C16.14,2 19.5,10.36 19.5,14.5Z"],["d","M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"]],template:function(t,e){1&t&&(r.Hc(0,Qs,3,0,"div",0),r.Hc(1,Ys,3,0,"div",0),r.Hc(2,Xs,3,0,"div",0)),2&t&&(r.oc("ngIf","easy"===e.difficultyType),r.Db(1),r.oc("ngIf","difficul"===e.difficultyType),r.Db(1),r.oc("ngIf","medium"===e.difficultyType))},directives:[s.l],styles:["div[_ngcontent-%COMP%]{height:40px;width:40px;padding:5px}"]}),t})(),ga=(()=>{class t{constructor(){}ngOnInit(){this.attachment.forEach(t=>{"text"===t.type&&(this.text=t.data),"image"===t.type&&(this.image=t.data)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-notes-viewer"]],inputs:{attachment:"attachment"},decls:2,vars:2,consts:[[1,"tce-quill-view",3,"content"],["width","300px",3,"src"]],template:function(t,e){1&t&&(r.Rb(0,"tce-quiz-quill-view",0),r.Rb(1,"img",1)),2&t&&(r.oc("content",e.text),r.Db(1),r.oc("src",e.image,r.Ec))},directives:function(){return[Sa]},styles:[""]}),t})(),ma=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["lib-bonus"]],inputs:{bonusStr:"bonusStr"},decls:15,vars:1,consts:[[1,"bonusWrapper"],["width","24px","height","24px","viewBox","0 0 60 60","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","path-1","x","1","y","1","width","58","height","58","rx","10"],["id","Elements/Graphics/Style1/Bonus/Colour","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","mask-2","fill","white"],[0,"xlink","href","#path-1"],["id","Rectangle","fill","#FF6107",0,"xlink","href","#path-1"],["id","Path-2","fill-opacity","0.4","fill","#FFC107","mask","url(#mask-2)","points","0 49.7783203 42.0615234 0 60 0 60 23.6054688 0 60"],["d","M47.9061651,25.0715943 C47.6705023,24.3426327 47.0239403,23.8248887 46.2589975,23.7559477 L35.8684109,22.8124726 L31.7596933,13.1956178 C31.4567375,12.4908268 30.7667784,12.0346079 30.0001877,12.0346079 C29.2335969,12.0346079 28.5436378,12.4908268 28.240682,13.1972659 L24.1319644,22.8124726 L13.7397298,23.7559477 C12.9761603,23.8265366 12.3312463,24.3426327 12.0942102,25.0715943 C11.8571741,25.8005558 12.0760823,26.6001064 12.6537033,27.1041172 L20.5077564,33.9921725 L18.1917789,44.1940642 C18.0223105,44.944175 18.3134556,45.719555 18.9358471,46.1694567 C19.2703894,46.4111621 19.6617874,46.5342122 20.0564813,46.5342122 C20.3967916,46.5342122 20.7343552,46.442474 21.037311,46.2611949 L30.0001877,40.9043984 L38.9597684,46.2611949 C39.6153944,46.6556142 40.4418621,46.6196331 41.0628802,46.1694567 C41.6855464,45.7181817 41.9764168,44.942527 41.8069484,44.1940642 L39.4909709,33.9921725 L47.345024,27.1054905 C47.9226451,26.6001064 48.1432013,25.8019292 47.9061651,25.0715943 Z","id","Path","fill","#FFC107","fill-rule","nonzero","mask","url(#mask-2)"],["id","Rectangle-2","stroke","#FFFFFF","stroke-width","2","mask","url(#mask-2)","x","1","y","1","width","58","height","58","rx","10"],[1,"tooltip","bs-tooltip-right","position-relative","show"],[1,"arrow"],[1,"tooltip-inner"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.ic(),r.Vb(1,"svg",1),r.Vb(2,"defs"),r.Rb(3,"rect",2),r.Ub(),r.Vb(4,"g",3),r.Vb(5,"mask",4),r.Rb(6,"use",5),r.Ub(),r.Rb(7,"use",6),r.Rb(8,"polygon",7),r.Rb(9,"path",8),r.Rb(10,"rect",9),r.Ub(),r.Ub(),r.hc(),r.Vb(11,"div",10),r.Rb(12,"div",11),r.Vb(13,"div",12),r.Rb(14,"p",13),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Db(14),r.oc("innerHTML",e.bonusStr,r.Cc))},styles:[".bonusWrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;padding:0;margin:0}.bonusWrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:25px;margin:0 10px 0 0}.bonusWrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}"]}),t})(),va=(()=>{class t{constructor(t,e){this.modalService=t,this.questionCtrl=e,this.panZoomConfig=new Cn({panOnClickDrag:!1}),this.isZoom=!1,this.apiSubscription=this.panZoomConfig.api.subscribe(t=>this.panZoomAPI=t)}ngOnInit(){}onLoad(t){console.log("ImageZoomComponent -> onLoad -> event",t),this.isZoom=!0}openZoom(t,e){e.stopPropagation(),this.isZoom&&(this.modalRef=this.modalService.open(t,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center "+(this.questionCtrl.theme?"BigIdea-imgZoom":"")}))}stopIt(t){t.stopPropagation()}zoomIn(){this.panZoomAPI.zoomIn()}zoomOut(){this.panZoomAPI.zoomOut()}resetZoom(){this.panZoomAPI.resetView()}close(){this.modalRef.dismiss()}ngOnDestroy(){this.apiSubscription.unsubscribe(),this.modalRef&&this.modalRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(S.b),r.Qb(Fo))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-image-zoom"]],viewQuery:function(t,e){if(1&t&&r.Mc(Zs,1),2&t){let t;r.zc(t=r.gc())&&(e.pic=t.first)}},inputs:{imgSrc:"imgSrc"},decls:6,vars:2,consts:[[1,"secure-asset-img",3,"url","click","load"],["pic",""],["class","imgZoomBtn","width","40px","height","40px","src","assets/images/quiz/search-black-icon.svg",3,"click","mousedown","mousemove","touchmove","touch","pan","touchstart",4,"ngIf"],["class","hello"],["zoom",""],["width","40px","height","40px","src","assets/images/quiz/search-black-icon.svg",1,"imgZoomBtn",3,"click","mousedown","mousemove","touchmove","touch","pan","touchstart"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn","btn-icon","close","close-icon",3,"click"],["width","24px","height","24px","viewBox","0 0 24 24","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Oval","fill-opacity","0.06","fill","#1268B3","cx","12","cy","12","r","12"],["id","Group","transform","translate(7.000000, 7.000000)","stroke","#0069B9"],["x1","0.550252532","y1","9.55025253","x2","9.55025253","y2","0.550252532","id","Path-5"],["x1","0.550252532","y1","9.55025253","x2","9.55025253","y2","0.550252532","id","Path-5","transform","translate(5.050253, 5.050253) scale(-1, 1) translate(-5.050253, -5.050253) "],[1,"modal-body"],[1,"zoom-view-sec"],[3,"config"],["cdkDrag","",2,"position","relative"],[3,"url"],[1,"modal-footer","justify-content-center"],[1,"btn","btn-sm","btn-link","float-left",3,"click"],[1,"bor"],[1,"btn","btn-sm","btn-link",3,"click"]],template:function(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div"),r.Vb(1,"nx-afs-lib-secure-asset",0,1),r.fc("click",function(n){r.Bc(t);const i=r.Ac(5);return e.openZoom(i,n)})("load",function(t){return e.onLoad(t)}),r.Ub(),r.Hc(3,Js,1,0,"img",2),r.Ub(),r.Hc(4,to,25,2,"ng-template",3,4,r.Ic)}2&t&&(r.Db(1),r.oc("url",e.questionCtrl.getBasePath()+e.imgSrc),r.Db(2),r.oc("ngIf",e.isZoom))},directives:[Mn,s.l,On,Jt],encapsulation:2}),t})(),ya=(()=>{class t{constructor(t,e,n,i){this.questionCtrl=t,this.utility=e,this.modalService=n,this.cdr=i,this.attempted=new r.n,this.submited=new r.n,this.questAttempted=new r.n,this.$onOptClick=new f.a(null),this.isSolution=!1,this.showattachment=!1,this.attemptedOption=[],this.attemptedOptionsObj=[],this.animationFlag=!1,this.totalCorrectOptionCount=-1,this.selectOptionCounter=0,this.selectedWord=[],this.destroy$=new _.a,this.optionCorretion={"0_0":"","1_0":"wordColor incorrect","0_1":"","1_1":"wordColor correct"},this.wordCorretion={0:"incorrect",1:"partially-correct",2:"correct"},this.selectedOptionEvent=new r.n,this.userAttempt=new r.n,this.questLoad=new r.n}ngAfterViewChecked(){this.cdr.detectChanges()}set quizData(t){this._quizData=t,this.quizData[0].data.options=this.ExtractElementByIdFromString(t[0].data.questionData,t[0].data.options),this.totalCorrectOptionCount=-1,this.selectOptionCounter=0,this.setTotalCorrectOptionCount(this.getTotalOptionCount(this.quizData[0].data.options)),this.changeAttemptCount(t[0].data.options),this.questionCtrl._isAnimation=!0,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.$onOptClick.next(null),this.solution=this.quizData[0].solution}get quizData(){return this._quizData}set attemptedOps(t){this._attemptedOps=t}get attemptedOps(){return this._attemptedOps}ngOnInit(){this.initEvent()}initEvent(){this.$resetScreen.subscribe(t=>{this.reset()}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()}),this.$iDontknw.subscribe(t=>{this.questionCtrl.onEventTrgger("iDontKnow"),this.showAnswer()}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(E.a)(this.destroy$)).subscribe(t=>{if(null!==t){let t=JSON.parse(JSON.stringify(this.attemptedOption));t=this.changeAttemptObj(t)}})}reset(){this.selectedWord=[],this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}],this.attemptedOptionsObj=[]}showAnswer(){}getTotalOptionCount(t){let e=0;for(const n of t)1===n.isCorrect&&e++;return e}getCorrectOptionCount(t){let e=[];for(const n of t)1===n.isCorrect&&e.push(n.position[0]);this.questionCtrl.setCorrectOptions(e)}checkAttempted(){var t;this.selectedWord=[],this.attemptedOptionsObj=[];this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?(this.attemptedOption=Object(C.cloneDeep)(this.attemptedOps),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.setSelectOptionCounter(this.attemptedOption[0].options.length),this.findSelectWords(this.attemptedOption[0].options),this.updateOptState()):this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}],this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState)}findSelectWords(t){t.forEach(t=>{let e=Object(C.find)(this.quizData[0].data.options,e=>e.position[0]===t),n=Object(C.find)(this.wordsArray,e=>e.position[0]===t);this.attemptedOptionsObj.push(n);let i={};i=n,i.isSelected=1,1==i.isCorrect&&(i.feedback=e.feedback),this.selectedWord.push({word:i.word,position:i.position,isCorrect:i.isCorrect,isSelected:i.isSelected,feedback:i.feedback,msg:this.questionCtrl.getOptionPrefixFeedback(i.isCorrect,i.isSelected,null==i?void 0:i.index,null==i?void 0:i.curColl)})}),this.questionCtrl.setQueState(this.getQValidate("checkAttempted")),this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted"))}onDataLoad(t){this.wordsArray=t,this.checkAttempted()}getWordBoundsAtPosition(t,e){const n=t=>/\s/.exec(t);let i=e-1,r=e;for(;i>=0&&!n(t[i]);)i-=1;for(i=Math.max(0,i+1);r<t.length&&!n(t[r]);)r+=1;return r=Math.max(i,r),t.substring(i,r)}selectWord(t){let e=t.word,n=t.position;if(0===this.selectedWord.length)this.selectedWord.push({word:e,position:n,isCorrect:t.isCorrect,isSelected:t.isSelected,feedback:t.feedback,msg:this.questionCtrl.getOptionPrefixFeedback(t.isCorrect,t.isSelected,null==e?void 0:e.index,null==e?void 0:e.curColl)});else{let i;i=this.selectedWord.filter((t,i)=>t.word===e&&Object(C.isEqual)(t.position,n)),0===i.length?this.selectedWord.push({word:e,position:n,isCorrect:t.isCorrect,isSelected:t.isSelected,feedback:t.feedback,msg:this.questionCtrl.getOptionPrefixFeedback(t.isCorrect,t.isSelected,null==e?void 0:e.index,null==e?void 0:e.curColl)}):this.removeSelectedWord(t)}this.setSelectOptionCounter(this.selectedWord.length),this.updateOptState(),this.attemptedWord(t)}updateOptState(){this.isOptionRestrict()?this.questionCtrl.onEventTrgger("optionRestriction"):this.questionCtrl.onEventTrgger("optionActivation")}removeSelectedWord(t){Object(C.remove)(this.selectedWord,function(e){return e.word===t.word&&Object(C.isEqual)(e.position,t.position)})}sortSelectWordByPosition(){this.selectedWord.sort(function(t,e){var n=t.position,i=e.position;return n<i?-1:n>i?1:0})}removeElement(t,e){const n=[];for(let i of t)i!==e.position[0]&&n.push(i);return n}removeArrElement(t,e){const n=[];for(let i of t)i!==e&&n.push(i);return n}attemptedWord(t){this.attemptedOption=Object(C.cloneDeep)(this.attemptedOption),t.isSelected?(this.attemptedOptionsObj.push(t),this.attemptedOption[0].options.push(t.position[0])):(this.attemptedOptionsObj=this.removeArrElement(this.attemptedOptionsObj,t),this.attemptedOption[0].options=this.removeElement(this.attemptedOption[0].options,t),t.isSelected=!1),this.questionCtrl.setcurrentQuestFeedback(t.isCorrect),this.questionCtrl.setQueState(this.getQValidate("onStateChange")),this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted")),this.computeAttemptedMarks();let e=Object(C.cloneDeep)(this.attemptedOption);e=this.attemptedOption[0].options.length>0?this.changeAttemptObj(e):[],this.attempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:e}))}changeAttemptObj(t){return t.forEach(t=>{t.qState=this.questionCtrl.getQuestState(),t.correctOptId=this.questionCtrl.getCorrectOptions(),t.optDisplayPos=this.optDisplayPos,t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(t),t}getQValidate(t){const e=[],n=this.getAttemptValidationArr(this.quizData[0].data.options,this.attemptedOptionsObj);let i=n.reduce((t,e)=>t+e,0);const r=n.length-i;for(let c=0;c<this.attemptedOption[0].options.length;c++)e.push(1===n[c]?r+n[c]:-1);let s=e.reduce((t,e)=>t+e,0),o=i*(r+1),a=Math.ceil(s/o);return a<0&&(a=0),(Math.floor(s/o)+1)*a}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}getIndexByOption(t){return this.quizData[0].data.options.findIndex(e=>e.value===t)}getAttemptValidationArr(t,e){const n=[];for(const r of e)n.push(r.isCorrect);const i=t.length-n.reduce((t,e)=>t+e,0);for(let r=0;r<i;r++)n.push(1);return n}getValidationArr(t){const e=[];for(const n of t)e.push(n.isCorrect);return e}computeAttemptedMarks(){const t=this.attemptedOption[0].options.length>0?this.attemptedOption[0].options.map(t=>this.getOptionById(t)).reduce((t,e)=>t+e):0;this.questionCtrl.setObtainScore(t)}getclickCount(){return this.getValidationArr(this.quizData[0].data.options).reduce((t,e)=>t+e,0)}getOptionById(t){for(const e of this.quizData[0].data.options)if(t===e.position[0])return e.score;return 0}selectedWordColor(t,e){let n,i;i=this.quizData[0].data.options.find(t=>{if(Object(C.isEqual)(t.position,e))return t}),n=this.selectedWord.find((n,i)=>{if(n.word===t&&Object(C.isEqual)(n.position,e))return n});const r=~~this.isObject(n)+"_"+~~this.isObject(i);return this.optionCorretion[r]}isObject(t){return"object"==typeof t}changeAttemptCount(t){1===t.length&&this.questionCtrl.changeMaxAttempt(2)}setTotalCorrectOptionCount(t){this.totalCorrectOptionCount=t}setSelectOptionCounter(t){this.selectOptionCounter=t}isOptionRestrict(){return this.totalCorrectOptionCount<=this.selectOptionCounter}questionStatus(){let t;t=this.selectedWord.filter(t=>this.quizData[0].data.options.find(e=>Object(C.isEqual)(e.position,t.position)));const e=this.getValidation(t.length,this.selectedWord.length);return this.wordCorretion[e]}getValidation(t,e){return this.getAbsoluteValue(t/e)}getAbsoluteValue(t){return 0!==t?Math.floor(t)+1:t}ExtractElementByIdFromString(t,e){this.optDisplayPos=[];let n=document.createElement("div");n.innerHTML=t;let i=0,r=t.replace(/(<([^>]+)>)/gi," ").split(" ");r=r.filter(t=>""!==t).join(" "),this.wordStr=r;let s=n.getElementsByClassName("fibBlank");for(const o of s){let t=Object(C.findIndex)(e,{value:parseInt(o.id)});if(t>-1){let n=o.innerText.match(/\\?.|^$/g).reduce((t,e)=>('"'===e?t.quote^=1:t.quote||" "!==e?t.a[t.a.length-1]+=e.replace(/\\(.)/,"$1"):t.a.push(""),t),{a:[""]}).a.filter(t=>""!==t).join(" ");i=r.search(new RegExp("\\b"+n+"\\b"));let s=r.indexOf(n,i);i=s+o.innerText.length,r=r.replace(new RegExp("\\b"+n+"\\b"),"####"),r=this.hasHindiCharacters(r)||n.match(/^[.,:''!?]/)?r.replace(n,"####"):r.replace(new RegExp("\\b"+n+"\\b"),"####"),e[t].position=[s],this.optDisplayPos.push(s)}}return e}hasHindiCharacters(t){return t.split("").filter(function(t){var e=t.charCodeAt();return e>=2309&&e<=2361}).length>0}getDispatchObj(t){return t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t.attemptedOption.forEach(e=>{e.timeTaken=Object(C.cloneDeep)(t.timeTaken),e.idleTime=Object(C.cloneDeep)(this.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",t.attemptedOption),t}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(qo),r.Qb(S.b),r.Qb(r.h))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-world-select"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questAttempted:"questAttempted",selectedOptionEvent:"selectedOptionEvent",userAttempt:"userAttempt",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"mainOptionBox"],[3,"options","sentence","selectedWords","$showCorrectAns","$resetScreen","$iDontknw","selectedWord","dataLoaded","dataArrCreated"],["class","selected-option-box",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"selected-option-box"],["class","selected-option",3,"ngClass",4,"ngFor","ngForOf"],[1,"selected-option",3,"ngClass"],[1,"option-box"],["class","feedbackPrefix",4,"ngIf"],[1,"feedbackBox"],[3,"feedback",4,"ngIf"],[1,"tick-icon"],[1,"feedbackPrefix"],[3,"message"],[3,"feedback"]],template:function(t,e){1&t&&r.Hc(0,co,27,17,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,sa,oa,Ea,ca,s.k,ia]},styles:["[_nghost-%COMP%]     .wordColor{background-color:rgba(100,198,253,.04);color:#64c6fd;font-weight:700}[_nghost-%COMP%]     .selected-option-box{display:flex;flex-direction:column;align-items:center;margin-top:40px;width:100%}[_nghost-%COMP%]     .selected-option-box span{font-size:15px;padding:15px 0;color:#757575}[_nghost-%COMP%]     .selected-option-box .selected-option{border:1px solid #64c5fb;border-radius:20px;padding:10px 15px;position:relative;margin-bottom:10px;width:100%;background-color:rgba(100,198,253,.04)}[_nghost-%COMP%]     .selected-option-box .selected-option .option-box{display:flex;flex-wrap:wrap;justify-content:center}[_nghost-%COMP%]     .selected-option-box .selected-option .option-box p{padding:2px;font-size:14px;font-weight:600;line-height:21.3px;margin:0;font-family:Montserrat,sans-serif;color:#202020}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect{background-color:#ffe5ec;color:#f93eba;border-color:#f93eba;border-radius:0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .option-box p{color:#f93eba;text-decoration:line-through}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct{background-color:#d9f4e7;color:#07d600;border-color:#07d600;border-radius:0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .option-box p{color:#07d600}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct{background-color:#f4ecd9;color:#d68700;border-color:#d68700}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .option-box p{color:#d68700}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-image:url(../assets/images/quiz/partially-icon.svg);background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed{background-color:#fff8d9;color:#fc0;border-color:#fc0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .option-box p{color:#fc0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-image:url(../assets/images/quiz/partially-icon.svg);background-repeat:no-repeat}.feedbackBox[_ngcontent-%COMP%]{display:none;font-family:Montserrat,sans-serif;font-size:12px;font-weight:700;line-height:17.04px;margin:10px;color:#202020}.feedbackBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     .instantFeedback .wordColor{background-color:rgba(100,198,253,.04);color:#64c6fd;font-weight:700}[_nghost-%COMP%]     .instantFeedback .wordColor.incorrect{background-color:#ffe5ec;color:#f93eba;text-decoration:line-through}[_nghost-%COMP%]     .instantFeedback .wordColor.correct{background-color:#d9f4e7;color:#07d600}[_nghost-%COMP%]     .instantFeedback .wordColor.missed{background-color:#fff8d9;color:#fc0;border-color:#fc0}[_nghost-%COMP%]     .mainOptionBox{display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .mainOptionBox .optiontext{margin:0;padding:0 5px 5px 0}"]}),t})(),ba=(()=>{class t{constructor(t,e,n){this.questionCtrl=t,this.render=e,this.modalService=n,this.attempted=new r.n,this.questLoad=new r.n,this.destroy$=new _.a,this.optionCorretion={"0_0":"","1_0":"wordColor incorrect","0_1":"","1_1":"wordColor correct"},this.wordCorretion={0:"incorrect",1:"partially-correct",2:"correct"},this.selectedWord=[],this.spanCounter=0,this.punctuations=[".",",","!","?","'",'"',"\u2018","\u2019"],this.isQReady=""}set quizData(t){this.isQReady="qDataLoad",this._quizData=t,this.changeAttemptCount(t[0].data.options),this.questionCtrl._isAnimation=!0,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.changeQuizTextToHtmlString()}get quizData(){return this._quizData}set configData(t){this._configData=t}get configData(){return this._configData}set attemptedOps(t){this._attemptedOps=t,this.initCheckAttempt()}get attemptedOps(){return this._attemptedOps}initCheckAttempt(){"qDataReady"===this.isQReady?(console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 99 ~ WordSelectV2Component ~ initCheckAttempt ~ this.isQReady",this.isQReady),this.checkAttemptedData()):this.attemptedOps.length>0&&this.attemptedOps[0].options.length>0&&setTimeout(()=>{this.initCheckAttempt()},200)}ngAfterViewInit(){this.initEvent()}changeQuizTextToHtmlString(){this.qWrapper?(this.spanCounter=-1,this.generateWordsArr(this.quizData[0].data.questionData,t=>{this.questHtmlString=this.combinePunctuations(t).join(" "),this.qWrapper.nativeElement.innerHTML=this.questHtmlString,this.initAttemptEvent(),this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState),console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 124 ~ WordSelectV2Component ~ this.generateWordsArr ~ this.isQReady",this.isQReady),this.isQReady="qDataReady"})):setTimeout(()=>{this.changeQuizTextToHtmlString()},100)}combinePunctuations(t){const e=[];for(let n=0;n<=t.length;n++){const i=t[n+1]?t[n+1].replace(/(<([^>]+)>)/gi," ").trim():null;i&&this.punctuations.indexOf(i)>-1?(e.push('<span class="combine">'+t[n]),e.push(t[n+1]+"</span>"),t.splice(n+1,1)):e.push(t[n])}return e}changeAttemptCount(t){1===t.length&&this.questionCtrl.changeMaxAttempt(2)}initEvent(){this.$resetScreen.subscribe(t=>{this.reset()}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()}),this.$iDontknw.subscribe(t=>{this.questionCtrl.onEventTrgger("iDontKnow"),this.showAnswer()}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(E.a)(this.destroy$)).subscribe(t=>{if(null!==t){let t=JSON.parse(JSON.stringify(this.selectedWord));t=this.changeAttemptObj(t)}})}checkAttemptedData(){this.selectedWord=[],console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 192 ~ WordSelectV2Component ~ getElementById ~ this.qWrapper.nativeElement.querySelectorAll('span')",this.qWrapper.nativeElement),this.attemptedOps.length>0&&this.attemptedOps[0].options.length>0&&(this.attemptedOps[0].options.forEach(t=>{const e=Number(t)<0?"w"+t:t;console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 161 ~ WordSelectV2Component ~ this.attemptedOps[0].options.forEach ~ id",e),console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 177 ~ WordSelectV2Component ~ this.attemptedOps[0].options.forEach ~ document.getElementById(id.toString())",document.getElementById(e.toString()));const n=document.getElementById(e.toString());this.checkAllreadyAttemt(e.toString(),n)}),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.updateOptState(),this.questionCtrl.setQueState(this.getQValidate("checkAttempted")))}isNegative(t){return t<0}changeAttemptObj(t){return t.forEach(t=>{t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(t),t}getDispatchObj(t){return t.qState=this.questionCtrl.getQuestState(),t.parentsQstate=this.questionCtrl.getParentsQState(),t.attemptCount=this.questionCtrl.attempt_count,t.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),t.confidence=this.questionCtrl.confidence,t.duration=this.questionCtrl.getDuration(),t.timeTaken=this.questionCtrl.timeTaken,t.idleTime=this.questionCtrl.getIdleTime(),t.version=this.questionCtrl.getVersionNumber(),t.marks=this.questionCtrl.getMarks(),t.obtainMarks=this.questionCtrl.getObtainScore(),t.attemptedOption.forEach(e=>{e.timeTaken=Object(C.cloneDeep)(t.timeTaken),e.idleTime=Object(C.cloneDeep)(this.questionCtrl.getIdleTime())}),t}showAnswer(){}initAttemptEvent(){this.qWrapper.nativeElement.querySelectorAll("span").forEach(t=>{t.addEventListener("click",t=>{this.onAttempt(t)})})}updateOptState(){console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 268 ~ WordSelectV2Component ~ updateOptState ~ this.selectedWord.length",this.selectedWord.length),console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 268 ~ WordSelectV2Component ~ updateOptState ~ this.quizData[0].data.options.length",this.quizData[0].data.options.length),this.questionCtrl.onEventTrgger(this.quizData[0].data.options.length<=this.selectedWord.length?"optionRestriction":"optionActivation")}onAttempt(t){t.stopPropagation(),this.checkAllreadyAttemt(t.target.id,t.target),this.updateOptState();let e,n=[{qid:this.quizData[0].questionID,options:[]}];this.selectedWord.map(t=>{let e;e=t.id.indexOf("-")>-1?"-"+t.id.split("-")[1]:t.id,n[0].options.push(Number(e))}),e=n[0].options.length>0?Object(C.cloneDeep)(n):[],e=this.changeAttemptObj(e),this.questionCtrl.setQueState(this.getQValidate("onStateChange")),this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted")),this.computeAttemptedMarks();const i=Object();i.attemptedOption=e,this.attempted.emit(this.getDispatchObj(i))}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.quizData[0].solution}getQValidate(t){const e=[],n=this.getAttemptValidationArr(this.quizData[0].data.options,this.selectedWord);let i=n.reduce((t,e)=>t+e,0);const r=n.length-i;for(let c=0;c<this.selectedWord.length;c++)e.push(1===n[c]?r+n[c]:-1);let s=e.reduce((t,e)=>t+e,0),o=i*(r+1),a=Math.ceil(s/o);return a<0&&(a=0),(Math.floor(s/o)+1)*a}getAttemptValidationArr(t,e){const n=[];for(const r of e)n.push(r.state);const i=t.length-n.reduce((t,e)=>t+e,0);for(let r=0;r<i;r++)n.push(1);return n}computeAttemptedMarks(){let t=0;console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 384 ~ WordSelectV2Component ~ computeAttemptedMarks ~ this.selectedWord",this.selectedWord),this.selectedWord.length>0&&(t=this.selectedWord.map(t=>t.score).reduce((t,e)=>t+e)),this.questionCtrl.setObtainScore(t)}checkAllreadyAttemt(t,e){this.selectedWord.filter(e=>e.id===t).length>0?(this.removeAttempt(t),this.removeClass(e)):this.addAttempt(t,e)}addAttempt(t,e){console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 356 ~ WordSelectV2Component ~ addAttempt ~ target",e),console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 356 ~ WordSelectV2Component ~ addAttempt ~ id",t);let n=0;this.validate(t)?(n=1,this.addClass(e,1),this.questionCtrl.setcurrentQuestFeedback(1)):(this.addClass(e,0),this.questionCtrl.setcurrentQuestFeedback(0)),this.selectedWord.push({id:t,word:e.innerHTML,state:n,score:this.getScore(t),feedback:this.getFeedback(t),msg:this.questionCtrl.getOptionPrefixFeedback(n,!0,void 0,void 0)})}removeAttempt(t){const e=this.selectedWord.findIndex(e=>e.id.toString()===t.toString());this.selectedWord.splice(e,1)}validate(t){return this.quizData[0].data.options[this.quizData[0].data.options.map(t=>t.value.toString()).indexOf(t.toString())]}getFeedback(t){const e=this.quizData[0].data.options.filter(e=>e.value.toString()===t.toString());return e.length>0?e[0].feedback:null}getScore(t){const e=this.quizData[0].data.options.filter(e=>e.value.toString()===t.toString());return e.length>0?e[0].score:0}removeClass(t){this.render.removeClass(t,"wordColor"),this.render.removeClass(t,"correct"),this.render.removeClass(t,"incorrect")}addClass(t,e){1===e?(this.render.addClass(t,"wordColor"),this.render.addClass(t,"correct")):0===e&&(this.render.addClass(t,"wordColor"),this.render.addClass(t,"incorrect"))}generateWordsArr(t,e){const n=this.htmlToPhrases(t).filter(t=>""!==t);for(let s=0;s<n.length;s++){let t=n[s].replace("<p>","@@@").replace("</p>","###");t=this.htmlToPhrases(t),n[s]=this.subStrArray(t)}const i=this.flatten(n).filter(t=>""!==t),r=this.punctuationBreak(i);e(this.addSpans(r))}punctuationBreak(t){let e=[],n=!1;for(let i=0;i<t.length;i++){const r=t[i];for(let s=0;s<r.length;s++)if(this.punctuations.indexOf(r[s])>-1&&-1===r.indexOf("<span")){n=!0;const o=this.punctuations.indexOf(r[s]),a=t[i].split(this.punctuations[o]);e.push(a[0]),e.push(this.punctuations[o]),e.push(a[1])}n||e.push(r),n=!1}return e.filter(t=>""!==t)}subStrArray(t){let e=[];for(let n=0;n<t.length;n++)-1===t[n].indexOf("<")?e.push(this.checkPuntuation(t[n].trim().split(" "))):e.push([t[n].trim()]);return e}checkPuntuation(t){const e=[];return t.map((t,n)=>{e.push(t)}),e}flatten(t){for(var e=[],n=0;n<t.length;n++)Array.isArray(t[n])?e=e.concat(this.flatten(t[n])):e.push(t[n]);return e}addSpans(t){const e=[];for(let n of t)this.spanCounter--,n.indexOf("<span")>-1?e.push(this.parseHtmlForId(n)):e.push(this.checkForLineBreak(n));return e}checkForLineBreak(t){return t.indexOf("@@@")>-1?(t=t.replace("@@@",""),`<p><span id="w${this.spanCounter}">${t}</span>`):t.indexOf("###")>-1?(t=t.replace("###",""),`<span id="w${this.spanCounter}">${t}</span></p>`):this.punctuations.indexOf(t)>-1?`<span id="w${this.spanCounter}" class="punctuation">${t}</span>`:`<span id="w${this.spanCounter}">${t}</span>`}parseHtmlForId(t){const e=(new DOMParser).parseFromString(t,"text/html");return e.getElementsByTagName("span").length>0&&""===e.getElementsByTagName("span")[0].id?(e.getElementsByTagName("span")[0].id="w"+this.spanCounter.toString(),e.getElementsByTagName("span")[0].outerHTML):e.getElementsByTagName("span")[0].outerHTML}reset(){this.spanCounter=-1,this.selectedWord=[],this.qWrapper.nativeElement.querySelectorAll("span").forEach(t=>{this.render.removeClass(t,"wordColor"),this.render.removeClass(t,"incorrect"),this.render.removeClass(t,"correct")})}htmlToPhrases(t){let e=[];for(;t;){if("<"!==t[0]){const n=t.indexOf("<");e.push(-1===n?t:t.substr(0,n))}else e.push(this.getFirstTag(t));t=t.substr(e[e.length-1].length)}return e}getFirstTag(t,e="",n=0){const i=t.indexOf("<")+1;return n+="/"===t[i]?-1:1,e+=t.substr(0,i),t=t.substr(i),0===n?e+t.substr(0,t.indexOf(">")+1):this.getFirstTag(t,e,n)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(r.E),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-word-select-v2"]],viewQuery:function(t,e){if(1&t&&r.Mc(uo,1),2&t){let t;r.zc(t=r.gc())&&(e.qWrapper=t.first)}},inputs:{quizData:"quizData",configData:"configData",attemptedOps:"attemptedOps",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"mainOptionBox"],[1,"wsv2QuizWrapper"],["wsv2QuizWrapper",""],["class","selected-option-box",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"selected-option-box"],["class","selected-option",3,"ngClass",4,"ngFor","ngForOf"],[1,"selected-option",3,"ngClass"],[1,"option-box"],["class","feedbackPrefix",4,"ngIf"],[1,"feedbackBox"],[3,"feedback",4,"ngIf"],[1,"tick-icon"],[1,"feedbackPrefix"],[3,"message"],[3,"feedback"]],template:function(t,e){1&t&&r.Hc(0,vo,28,11,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:[s.l,s.j,_a,fa,ma,sa,oa,ca,s.k,ia],styles:["[_nghost-%COMP%]     .wordColor{background-color:rgba(100,198,253,.04);color:#64c6fd;font-weight:700}[_nghost-%COMP%]     .selected-option-box{display:flex;flex-direction:column;align-items:center;margin-top:40px;width:100%}[_nghost-%COMP%]     .selected-option-box span{font-size:15px;padding:15px 0;color:#757575}[_nghost-%COMP%]     .selected-option-box .selected-option{border:1px solid #64c5fb;border-radius:20px;padding:10px 15px;position:relative;margin-bottom:10px;width:100%;background-color:rgba(100,198,253,.04)}[_nghost-%COMP%]     .selected-option-box .selected-option .option-box{display:flex;flex-wrap:wrap;justify-content:center}[_nghost-%COMP%]     .selected-option-box .selected-option .option-box p{padding:2px;font-size:14px;font-weight:600;line-height:21.3px;margin:0;font-family:Montserrat,sans-serif;color:#202020}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect{background-color:#ffe5ec;color:#f93eba;border-color:#f93eba;border-radius:0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .option-box p{color:#f93eba;text-decoration:line-through}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct{background-color:#d9f4e7;color:#07d600;border-color:#07d600;border-radius:0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .option-box p{color:#07d600}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct{background-color:#f4ecd9;color:#d68700;border-color:#d68700}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .option-box p{color:#d68700}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-image:url(../assets/images/quiz/partially-icon.svg);background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed{background-color:#fff8d9;color:#fc0;border-color:#fc0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .option-box p{color:#fc0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-image:url(../assets/images/quiz/partially-icon.svg);background-repeat:no-repeat}.feedbackBox[_ngcontent-%COMP%]{display:none;font-family:Montserrat,sans-serif;font-size:12px;font-weight:700;line-height:17.04px;margin:10px;color:#202020}.feedbackBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     .instantFeedback .wordColor{background-color:rgba(100,198,253,.04);color:#64c6fd;font-weight:700}[_nghost-%COMP%]     .instantFeedback .wordColor.incorrect{background-color:#ffe5ec;color:#f93eba;text-decoration:line-through}[_nghost-%COMP%]     .instantFeedback .wordColor.missed{background-color:#fff8d9;color:#fc0;border-color:#fc0}[_nghost-%COMP%]     .instantFeedback .wordColor.correct{background-color:#d9f4e7;color:#07d600}[_nghost-%COMP%]     .mainOptionBox{display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .mainOptionBox .optiontext{margin:0;padding:0 5px 5px 0}"]}),t})(),Ea=(()=>{class t{constructor(t){this.questionCtrl=t,this.selectedWord=new r.n,this.dataLoaded=new r.n,this.dataArrCreated=new r.n,this.htmlValue="",this.punctuation="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"}set sentence(t){this._sentence=this.constructWord(t),this.dataLoaded.emit(this._sentence)}get sentence(){return this._sentence}set selectedWords(t){this._selectedWords=t;for(let e=0;e<this.sentence.length;e++)for(let t=0;t<this._selectedWords.length;t++)if(this.sentence[e].position[0]==this._selectedWords[t].position[0]){this.sentence[e].isSelected=!0;break}}get selectedWords(){return this._selectedWords}ngOnInit(){this.initEvent(),this.sentence.map(t=>(this.options.map(e=>{Object(C.isEqual)(t.position,e.position)&&(t.isCorrect=1)}),t))}initEvent(){this.$resetScreen.subscribe(t=>{this.reset()}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()}),this.$iDontknw.subscribe(t=>{})}reset(){for(const t of this.sentence)t.isSelected&&(t.isSelected=!1)}showAnswer(){for(let t of this.sentence)t=this.validationWords(t),1===t.isCorrect&&(t.isSelected=!0)}selectWord(t){(t=this.validationWords(t)).isSelected=!t.isSelected,this.selectedWord.emit(t)}validationWords(t){for(const e of this.options){if(Object(C.isEqual)(e.position,t.position)&&e.label===t.word)return t.isCorrect=1,t.value=e.value,t.score=e.score,t.feedback=e.feedback,t;t.feedback=[{text:"",media:null}]}return t}constructWord(t){const e=this.ExtractElementByIdFromString(t),n=e.wordPosi,i=e.wordStr;let r=[],s=-1,o=0;const a=this;let c,u=e.html.split("####");for(let l=0;l<u.length;l++){let t=u[l].replace(/(<([^>]+)>)/gi," ").split(" ");t=t.filter(t=>""!==t),console.log("\ud83d\ude80 ~ file: word.component.ts ~ line 153 ~ WordComponent ~ constructWord ~ wordArray",JSON.parse(JSON.stringify(t))),Object(C.map)(t,function(t,e){let u=-1;c=null,t=t.match(/\\?.|^$/g).reduce((t,e)=>('"'===e?t.quote^=1:t.quote||" "!==e?t.a[t.a.length-1]+=e.replace(/\\(.)/,"$1"):t.a.push(""),t),{a:[""]}).a.filter(function(t){return"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".indexOf(t)>-1&&(c=t),-1==="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".indexOf(t)}).join("");let l=i.indexOf(t);if(console.log("\ud83d\ude80 ~ file: word.component.ts ~ line 180 ~ WordComponent ~ _.map ~ stringPosi",l),s>=l){let e=a.getIndicesOf(t,i,!0);l=1==e.find(t=>t>s)?l:e.find(t=>t>s)}u=l;let h=n.findIndex(t=>t.index===l);h>-1&&!n[h].isUsed&&(u=n[h].index,n[h].isUsed=!0,o=n[h].index),s=l,r.push(c?{word:c,isCorrect:0,isSelected:!1,position:[u+1]}:{word:t,isCorrect:0,isSelected:!1,position:[u+o]})}),n.length>l&&r.push({word:n[l].word,isCorrect:1,isSelected:!1,position:[n[l].index]})}return console.log("\ud83d\ude80 ~ file: word.component.ts ~ line 228 ~ WordComponent ~ constructWord ~ wordObjArray",r),this.dataArrCreated.emit(r),r}getMissed(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}ExtractElementByIdFromString(t){let e=[],n=document.createElement("div");n.innerHTML=t;let i=0,r=t.replace(/(<([^>]+)>)/gi," ").split(" ");r=r.filter(t=>""!==t).join(" ");const s=r;let o=n.getElementsByClassName("fibBlank");for(const a of o){let t=a.innerText.match(/\\?.|^$/g).reduce((t,e)=>('"'===e?t.quote^=1:t.quote||" "!==e?t.a[t.a.length-1]+=e.replace(/\\(.)/,"$1"):t.a.push(""),t),{a:[""]}).a.filter(t=>""!==t).join(" ");i=r.search(new RegExp("\\b"+t+"\\b"));let n=r.indexOf(t,i);i=n+a.innerText.length,r=r.replace(new RegExp("\\b"+t+"\\b"),"####"),r=this.hasHindiCharacters(r)||t.match(/^[.,:''!?]/)?r.replace(t,"####"):r.replace(new RegExp("\\b"+t+"\\b"),"####"),this.htmlValue=r,e.push({index:n,isUsed:!1,word:t})}return console.log("\ud83d\ude80 ~ file: word.component.ts ~ line 273 ~ WordComponent ~ ExtractElementByIdFromString ~ { wordPosi: wordPosi, html: html, wordStr:coreHtml }",JSON.stringify({wordPosi:e,html:r,wordStr:s})),{wordPosi:e,html:r,wordStr:s}}hasHindiCharacters(t){return t.split("").filter(function(t){var e=t.charCodeAt();return e>=2309&&e<=2361}).length>0}getIndicesOf(t,e,n){var i=t.length;if(0==i)return[];for(var r,s=0,o=[];(r=e.indexOf(t,s))>-1;)o.push(r),s=r+i;return o}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-word"]],inputs:{sentence:"sentence",selectedWords:"selectedWords",options:"options",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{selectedWord:"selectedWord",dataLoaded:"dataLoaded",dataArrCreated:"dataArrCreated"},decls:2,vars:1,consts:[[1,"mainOptionBox"],["class","optiontext",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"optiontext",3,"ngClass","click"],[3,"ngClass"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Hc(1,yo,3,9,"p",1),r.Ub()),2&t&&(r.Db(1),r.oc("ngForOf",e.sentence))},directives:[s.k,s.j],styles:[".punctuation[_ngcontent-%COMP%]{margin-left:-4px!important;pointer-events:none}"]}),t})(),Oa=(()=>{class t{constructor(t,e){this.questionCtrl=t,this.modalService=e,this.attempted=new r.n,this.change=new r.n,this.submited=new r.n,this.questLoad=new r.n,this.question=[],this.isSolution=!1,this.atempted=[],this.attachment="",this.showattachment=!1,this.blankIndex=[],this.fibOptionFeedBack=[],this.fibOption=[],this.fibAttemptedOpt=[]}ngOnInit(){this.initEvent(),this.checkAttempted()}set quizData(t){this._quizData=t,this.blankGenerator(t[0].data.questionData,t[0].data.options)}get quizData(){return this._quizData}set attemptedOps(t){this._attemptedOps=t}get attemptedOps(){return this._attemptedOps}checkAttempted(){var t;this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?(this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOps)),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED")):this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}]}blankGenerator(t,e){const n=this.constructorBlankWithOpt(t,e).split("####");n.pop(),console.log("FibSelectComponent -> @Input -> ques",n),n.forEach(t=>{this.question.push({questions:t})})}showAttachment(){console.log(this.solution),this.modalService.open(Wo,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}onShowSolution(){this.modalService.open(Vo,{size:"lg",centered:!0,scrollable:!0}).componentInstance.solutionData=this.solution}onAttempt(t){console.log("FibSelectComponent -> onAttempt -> i",t,this.atempted),this.fibAttemptedOpt[t]=Object(C.cloneDeep)(this.atempted[t]),this.fibAttemptedOpt[t].position=this.blankIndex[t],this.fibAttemptedOpt[t]=this.validationWords(this.fibAttemptedOpt[t]),this.computeAttemptedMarks(),this.questionCtrl.setQueState(this.getQValidate("onStateChange")),this.AttemptedOptEmitter(this.fibAttemptedOpt),console.log("FibSelectComponent -> onAttempt -> i",t,this.fibAttemptedOpt[t])}initEvent(){this.$resetScreen.subscribe(t=>{this.reset()}),this.$showCorrectAns.subscribe(t=>{this.showAnswer()}),this.$iDontknw.subscribe(t=>{this.questionCtrl.onEventTrgger("iDontKnow"),this.showAnswer()})}reset(){this.fibAttemptedOpt=[],this.atempted=[]}showAnswer(){this.atempted=this.fibOption,this.fibAttemptedOpt=Object(C.cloneDeep)(this.atempted);for(const t of this.fibAttemptedOpt)t.isSeleted=!0;this.fibAttemptedOpt=Object(C.cloneDeep)(this.atempted)}onSolutionClose(){this.isSolution=!1}constructorBlankWithOpt(t,e){this.ExtractElementByIdFromString(t,e);let n=t.replace(/(<([^>]+)>)/gi," ").split(" ");return n=n.filter(t=>""!==t),Object(C.map)(n,(t,i)=>{t=t.replace(/[^A-Za-z0-9\s]/g,"").replace(/\s{2,}/g," ");let r=n.join(" ").indexOf(t),s=this.findOpt(e,r);return s&&(t=this.FibOptionBuilder(s,t)?"####":""),t}).join(" ")}setOptionwordOpsition(t,e){for(const n of t);}findOpt(t,e){return Object(C.find)(t,t=>{if(t.position)for(const n of t.position)if(n==e)return n==e})}checkIsSolution(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}cloasemodal(){console.log("ds"),this.showattachment=!1}validationWords(t){const e=Object(C.cloneDeep)(this.quizData[0].data.options);t.isCorrect=0,console.log("FibSelectComponent -> validationWords -> options",e);for(const n of e)Object(C.isEqual)(n.position,t.position)&&n.value===t.value&&(t.isCorrect=1);return t}FibOptionBuilder(t,e){let n=!0;const i=Object(C.findIndex)(this.fibOption,function(e){return e.value===t.value});return i>-1?(this.fibOption[i].label+=" "+e,n=!1):(t.label=e,this.fibOption.push(t),this.blankIndex.push(t.position),this.fibOptionFeedBack.push(t.label)),console.log("FibSelectComponent -> FibOptionBuilder ->  this.fibOption",this.fibOption),n}isDisable(t){let e=!1;for(const n of this.fibAttemptedOpt)(null==t?void 0:t.value)===(null==n?void 0:n.value)&&(e=!0);return e}computeAttemptedMarks(){let t=0;for(const e of this.fibAttemptedOpt)1===(null==e?void 0:e.isCorrect)&&(t+=e.score);console.log("computeAttemptedMarks==>",t),this.questionCtrl.setObtainScore(t)}AttemptedOptEmitter(t){let e=[];for(const n of t)n&&e.push(n.value);this.attemptedOption[0].options=e,this.attempted.emit({attemptedOption:this.attemptedOption})}getQValidate(t){let e=[],n=this.getValidationArr(this.quizData[0].data.options).reduce((t,e)=>t+e,0);for(const o of this.fibAttemptedOpt)o&&e.push(o.isCorrect);let i=e.reduce((t,e)=>t+e,0),r=n,s=Math.ceil(i/r);return s<0&&(s=0),(Math.floor(i/r)+1)*s}getValidationArr(t){const e=[];for(const n of t)e.push(n.isCorrect);return e}findPositionIndex(t,e){console.log("FibSelectComponent -> findPositionIndex -> str",this.getArrayTagsHtmlString(t));let n=this.getArrayTagsHtmlString(t);n.forEach((t,i)=>{if(t.includes("span")){n[i]=t.replace(/(<([^>]+)>)/gi,"").replace(/[^A-Za-z0-9\s]/g,"").replace(/\s{2,}/g,"");let r=Object(C.findIndex)(e,{label:n[i]});r>-1&&(e[r].position=[i])}}),console.log("FibSelectComponent -> findPositionIndex -> options",e)}getArrayTagsHtmlString(t){let e=t.split(" "),n=[];return e.forEach((t,i)=>{let r="";t.includes("span")?(r=t+e[i+1],e.splice(i+1,1)):r=t,n.push(r)}),n}ExtractElementByIdFromString(t,e){let n=document.createElement("div");n.innerHTML=t;let i=0,r=t.replace(/(<([^>]+)>)/gi," ").split(" ");r=r.filter(t=>""!==t).join(" ");let s=n.getElementsByClassName("fibBlank");for(const o of s){let t=Object(C.findIndex)(e,{value:parseInt(o.id)});if(t>-1){let n=o.innerText.split(" ").filter(t=>""!==t).join(" "),s=r.indexOf(n,i);i=s+o.innerText.length,r=r.replace(n,"####"),e[t].position=[s]}}return console.log("FibSelectComponent -> ExtractElementByIdFromString -> options",e),e}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Fo),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-fib-select"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",change:"change",submited:"submited",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"fibWrapper"],[4,"ngFor","ngForOf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"tce-quill-view",3,"content"],[1,"optionSelection",3,"ngClass"],[1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"feedbackBox"],[1,"tick-icon"],["class","feedbackText",4,"ngIf"],[3,"ngValue","disabled"],[1,"feedbackText"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(t,e){1&t&&r.Hc(0,Po,29,13,"div",0),2&t&&r.oc("ngIf",e.questionCtrl.configData)},directives:function(){return[s.l,s.j,_a,fa,ma,sa,oa,s.k,ca,Sa,a.i,a.f,a.g,a.h,a.j,Vo,Wo]},styles:['[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .fib tce-scq .questionFeedback, [_nghost-%COMP%]     .fib tce-subjective .questionFeedback{display:none}[_nghost-%COMP%]     .fib .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper{border:none!important;margin:0;padding:0 5px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .optionBox{margin-top:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .state.p-primary-o{display:none}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .pretty{margin-right:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox{position:absolute;padding:10px;background-position:0 0;background-size:25px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox .tce-quill-view{display:none}.fibWrapper[_ngcontent-%COMP%]{flex-wrap:wrap}.fibWrapper[_ngcontent-%COMP%], .fibWrapper[_ngcontent-%COMP%]   .questBox[_ngcontent-%COMP%]{display:flex;align-items:center}.bucket[_ngcontent-%COMP%]{border-bottom:1px dashed #000;min-width:50px;cursor:pointer;min-height:25px}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}[_nghost-%COMP%]     .horizontal .pendingAttemptMsgBox{display:none}.optionSelection[_ngcontent-%COMP%]{min-width:90px;width:auto;margin:5px;min-height:36px;border:2px solid #cbcbcb;border-radius:1.6rem;background-color:#fff;box-shadow:0 2px 6px 0 hsla(0,0%,86.7%,.8);color:#232323;position:relative;display:flex;align-items:center}.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{background-color:transparent;border:none}.feedbackText[_ngcontent-%COMP%]{display:none}.instantFeedback[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]{position:relative}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]{border-color:#f93eba;background-color:#ffe5ec;color:#f93eba;border-radius:0;pointer-events:none}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#f93eba;background-image:none;padding-right:6px;text-decoration:line-through}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}.instantFeedback[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]   .feedbackText[_ngcontent-%COMP%]{display:block}.instantFeedback[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{position:relative}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]{border-color:#07d600;background-color:#d9f4e7;color:#07d600;opacity:1;pointer-events:none;border-radius:0}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#07d600;background-image:none;padding-right:6px}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}']}),t})(),Sa=(()=>{class t{constructor(t,e){this.utility=t,this.ngZone=e,this.isVisible=!1,this.equationRendered=new r.n}set content(t){this._content=t,""!==t&&null!==t?this.loadData():this.isVisible=!0}get content(){return this._content}loadData(){this.quillViewLable?-1===this.content.indexOf("\xabmath")&&this.content.indexOf("<math")>-1?(this.quillViewLable.nativeElement.innerHTML=this.content,window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub],()=>{this.ngZone.run(()=>{this.isVisible=!0,this.equationRendered.emit()})})):this.ngZone.run(()=>{this.quillViewLable.nativeElement.innerHTML=this.content,this.equationRendered.emit(),this.isVisible=!0}):setTimeout(()=>{this.loadData()},10)}ngAfterViewInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(qo),r.Qb(r.A))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-quiz-quill-view"]],viewQuery:function(t,e){if(1&t&&r.Mc(Ao,1),2&t){let t;r.zc(t=r.gc())&&(e.quillViewLable=t.first)}},inputs:{content:"content"},outputs:{equationRendered:"equationRendered"},decls:4,vars:4,consts:[[1,"ql-container","ql-snow","htmlQuilView",2,"border-width","0"],["class","proccecing",4,"ngIf"],[1,"ql-editor",3,"ngStyle"],["quillViewLable",""],[1,"proccecing"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Hc(1,Io,1,0,"div",1),r.Rb(2,"div",2,3),r.Ub()),2&t&&(r.Db(1),r.oc("ngIf",!e.isVisible),r.Db(1),r.oc("ngStyle",r.sc(2,Mo,e.isVisible?1:0)))},directives:[s.l,s.m],styles:[".proccecing[_ngcontent-%COMP%]:empty{margin:auto;width:100%;height:18px;background-image:linear-gradient(100deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.5) 100%,hsla(0,0%,100%,0) 0),linear-gradient(#d3d3d3 20px,transparent 0);background-repeat:repeat-y;background-size:20px 100%,100% 200px,100% 200px,100% 0,100% 30px;background-position:100% 0,100% 0,0 30px,100% 80px,100% 10px;-webkit-animation:shine 1s infinite;animation:shine 1s infinite}@-webkit-keyframes shine{to{background-position:0 0,0 0,0 30px,0 70px,0 120px}}@keyframes shine{to{background-position:0 0,0 0,0 30px,0 70px,0 120px}}"]}),t})(),Ca=(()=>{class t{constructor(t,e,n){this.utility=t,this.questCtrl=e,this.ngZone=n,this.stateChange=new r.n,this.isAnimation=!0,this.optMsg=""}set option(t){var e,n;this._option=t,this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(e=this.option)||void 0===e?void 0:e.index,null===(n=this.option)||void 0===n?void 0:n.curColl)}get option(){return this._option}ngOnInit(){var t,e;this.isAnimation=!0,this.checkAttempt(),this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(e=this.option)||void 0===e?void 0:e.curColl),this.$resetScreen&&this.$resetScreen.subscribe(t=>{this.reset()}),this.$otherOptChange&&this.$otherOptChange.subscribe(()=>{var t,e;console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 69 ~ OptionComponent ~ this.$otherOptChange.subscribe ~ this.optMsg",this.optMsg),this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(e=this.option)||void 0===e?void 0:e.curColl)})}reset(){var t,e;this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(e=this.option)||void 0===e?void 0:e.curColl)}checkAttempt(){if(this.questCtrl.theme){const t=this.questCtrl.theme.replace("theme.css","");this.option.isSelected&&1===this.option.isCorrect?(this.isAnimation=!1,this.pathConfig={path:t+"correct.json",loop:!1}):this.option.isSelected&&(this.isAnimation=!1,this.pathConfig={path:t+"incorrect.json",loop:!1})}}getOptionPrefixFeedback(t,e,n,i){return this.questCtrl.getOptionPrefixFeedback(t,e,n,i)}getFreeStyle(){if(this.configData.userInteraction.position)for(let t=0;t<this.configData.userInteraction.position.length;t++){const e=this.configData.userInteraction.position[t];if(t===this.index)return{top:e.y+"%",left:e.x+"%",width:"calc("+e.width+"% - 12px)",height:e.height+"%"}}return{}}onStateChange(){var t,e;0===this.option.isCorrect&&(this.option.score=0),this.isAnimation=!0,this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(e=this.option)||void 0===e?void 0:e.curColl),console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 126 ~ OptionComponent ~ onStateChange ~ this.optMsg",this.optMsg),this.stateChange.emit(this.option),this.initAnimation()}initAnimation(){if(this.questCtrl.theme){const t=this.questCtrl.theme.replace("theme.css","");this.option.isSelected&&1===this.option.isCorrect?this.pathConfig={path:t+"correct.json",loop:!1}:this.option.isSelected&&(this.pathConfig={path:t+"incorrect.json",loop:!1})}}animationCreated(t){this.animationItem=t}onAnimationReady(t){this.isAnimation||this.ngZone.runOutsideAngular(()=>this.animationItem.goToAndStop(this.animationItem.totalFrames-1,!0))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(qo),r.Qb(Fo),r.Qb(r.A))},t.\u0275cmp=r.Kb({type:t,selectors:[["tce-sorting-option"]],inputs:{option:"option",configData:"configData",index:"index",$resetScreen:"$resetScreen",$otherOptChange:"$otherOptChange"},outputs:{stateChange:"stateChange"},decls:13,vars:18,consts:[[1,"optionWrapper",3,"ngClass","ngStyle"],[1,"optionBox"],["class","lottieAnimationFeedback",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],["for","customCheck1",1,"custom-control-label"],[1,"optMediaWrapper"],[3,"imgSrc",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[1,"tce-quill-view",3,"content"],["class","feedbackPrefix",4,"ngIf"],["class","feedbackBox",4,"ngIf"],[1,"lottieAnimationFeedback"],[1,"lottieAnimationMidBox"],[1,"lottie",3,"options","animationCreated","dataReady"],[3,"imgSrc"],["controls","",3,"src"],[1,"feedbackPrefix"],[3,"message"],[1,"feedbackBox"],[3,"feedback"],[1,"tick-icon"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Hc(2,xo,3,1,"div",2),r.Vb(3,"div",3),r.Vb(4,"input",4),r.fc("change",function(){return e.onStateChange()}),r.Ub(),r.Vb(5,"label",5),r.Vb(6,"div",6),r.Hc(7,Ro,1,1,"nx-afs-image-zoom",7),r.Hc(8,ko,1,1,"video",8),r.Hc(9,Lo,1,1,"audio",8),r.Ub(),r.Rb(10,"tce-quiz-quill-view",9),r.Ub(),r.Ub(),r.Ub(),r.Hc(11,jo,2,1,"div",10),r.Hc(12,No,3,1,"div",11),r.Ub()),2&t&&(r.oc("ngClass",r.yc(10,qs,e.utility.isMediaAvailable(e.option.media)?"mediaWrapper":"",e.questCtrl.maxTextLength>25&&e.questCtrl.maxTextLength<32?"textSizeEasy":"",e.questCtrl.maxTextLength>32&&e.questCtrl.maxTextLength<64?"textSizeExtended":"",e.questCtrl.maxTextLength>64?"textSizeExtreme":"",e.questCtrl.maxSubTextLength>0&&e.questCtrl.maxSubTextLength<=3?"textStyle1":"",e.questCtrl.maxSubTextLength>3&&e.questCtrl.maxSubTextLength<=6?"textStyle2":"",e.questCtrl.maxSubTextLength>6?"textStyle3":""))("ngStyle",e.getFreeStyle()),r.Db(2),r.oc("ngIf",e.questCtrl.theme),r.Db(2),r.oc("id",e.index),r.Db(3),r.oc("ngIf",e.utility.checkImageAvailability(e.option.media)),r.Db(1),r.oc("ngIf",e.utility.checkVideoAvailability(e.option.media)),r.Db(1),r.oc("ngIf",e.utility.checkAudioAvailability(e.option.media)),r.Db(1),r.oc("content",e.option.label),r.Db(1),r.oc("ngIf",e.questCtrl.isActiveInstandFeed()),r.Db(1),r.oc("ngIf",e.option.feedback))},directives:[s.j,s.m,s.l,Sa,Gn,va,ca,ia],styles:[Uo]}),t})();const Ta=Kn.forRoot({player:function(){return $n.a}});let wa=(()=>{class t{constructor(t){t.loadScript("https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js")}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ie))},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[ie,ea],imports:[[s.b,a.c,ee,h,gn,Sn,xn,Ta]]}),t})(),Da=(()=>{class t{constructor(){this.apiObservableObj={}}getDeviceType(t=""){return localStorage.getItem("deviceType")}getWebviewHeight(){const t=document.documentElement&&document.documentElement.getBoundingClientRect()?document.documentElement.getBoundingClientRect().height:0,e=document.body&&document.body.getBoundingClientRect()?document.body.getBoundingClientRect().height:0;return Math.ceil(Math.max(t,e))}passWebviewHeightToNative(){setTimeout(()=>{console.log("passWebviewHeightToNative call",this.getDeviceType());const t=this.getWebviewHeight();this.getDeviceType("passQuizControlSateToNative 2")==Tn.b.flutter?window.flutter_inappwebview.callHandler("webviewHeight",t):this.getDeviceType()==Tn.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.webviewHeight.postMessage(t),console.log("ios webviewHeight state",t)):window.androidApp&&window.androidApp.webviewHeight&&(window.androidApp.webviewHeight(t),console.log("androidApp webviewHeight state",t))},1)}passWebviewHeightToNative1(){setTimeout(()=>{console.log("passWebviewHeightToNative call",this.getDeviceType());const t=this.getWebviewHeight();this.getDeviceType("passQuizControlSateToNative 2")==Tn.b.flutter?window.flutter_inappwebview.callHandler("webviewHeight1",t):this.getDeviceType()==Tn.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.webviewHeight1.postMessage(t),console.log("ios webviewHeight state",t)):window.androidApp&&window.androidApp.webviewHeight1&&(window.androidApp.webviewHeight1(t),console.log("androidApp webviewHeight state",t))},1)}passAttemptDataToNative(t){this.getDeviceType("passQuizControlSateToNative 2")==Tn.b.flutter?window.flutter_inappwebview.callHandler("onAttempt",t):this.getDeviceType()==Tn.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.onAttempt.postMessage(t),console.log("ios onAttempt state",t)):window.androidApp&&window.androidApp.onAttempt&&(window.androidApp.onAttempt(t),console.log("androidApp onAttempt state",t))}questionLoadedDataToNative(t){this.getDeviceType("passQuizControlSateToNative 2")==Tn.b.flutter?window.flutter_inappwebview.callHandler("questionLoaded",t):this.getDeviceType()==Tn.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.questionLoaded.postMessage(t),console.log("ios questionLoaded state",t)):window.androidApp&&window.androidApp.questionLoaded&&(window.androidApp.questionLoaded(t),console.log("androidApp questionLoaded state",t))}passQuizControlSateToNative(t){console.log("passQuizControlSateToNative call",this.getDeviceType()),this.getDeviceType("passQuizControlSateToNative 2")==Tn.b.flutter?window.flutter_inappwebview.callHandler("quizControlState",t):this.getDeviceType()==Tn.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.quizControlState.postMessage(t),console.log("ios quizControlState state",t)):window.androidApp&&window.androidApp.quizControlState&&(window.androidApp.quizControlState(t),console.log("androidApp quizControlState state",t))}updateSubResourceDataToNative(t){console.log("\ud83d\ude80 ~ file: webview-to-native-interface.ts ~ line 112 ~ WebviewToNativeInterface ~ updateSubResourceDataToNative ~ subResourceData",t),this.getDeviceType("passQuizControlSateToNative 2")==Tn.b.flutter?window.flutter_inappwebview.callHandler("updateSubResourceData",t):this.getDeviceType()==Tn.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.updateSubResourceData.postMessage(JSON.stringify(t)),console.log("ios updateSubResourceDataToNative state")):window.androidApp&&window.androidApp.updateSubResourceData&&(window.androidApp.updateSubResourceData(JSON.stringify(t)),console.log("androidApp updateSubResourceDataToNative state"))}nativeHandleError(t){this.getDeviceType("passQuizControlSateToNative 2")==Tn.b.flutter?window.flutter_inappwebview.callHandler("handleError",t):"ios"==this.getDeviceType()?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.handleError.postMessage(t),console.log("nativeHandleError",t)):window.androidApp&&window.androidApp.handleError&&(window.androidApp.handleError(t),console.log("nativeHandleError",t))}passApiRequestToNative(t){t=JSON.stringify(t),console.log("proxyApiRequest state"+t),"flutter"==this.getDeviceType("passApiRequestToNative 2")?window.flutter_inappwebview.callHandler("proxyApiRequest",t):"ios"==this.getDeviceType()?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.proxyApiRequest.postMessage(t),console.log("ios proxyApiRequest state"+t)):window.androidApp&&window.androidApp.proxyApiRequest&&(window.androidApp.proxyApiRequest(t),console.log("androidApp proxyApiRequest state"+t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),Pa=(()=>{class t{constructor(){this.qStatus={0:2,1:3,2:1,3:0,4:4}}dataStructure(t,e){return console.log("\ud83d\ude80 ~ file: analytics.ts ~ line 18 ~ Analytics ~ dataStructure ~ questionData",e),console.log("\ud83d\ude80 ~ file: analytics.ts ~ line 18 ~ Analytics ~ dataStructure ~ eventData",t),{sessionId:"",lessonType:null,lessonId:"",section:1,event:2,questionId:e[0].questionID,tqId:null,version:1,type:e[0].data.type,info:{appVer:null,event:t.event,attempted:this.changeAttemptedOption(t.attemptedOption)},attemptCount:t.attemptCount,pending:t.pending,status:0==this.changeAttemptedOption(t.attemptedOption).length?0:this.qStatus[t.parentsQstate],timeSpent:t.timeTaken,duration:e[0].duration,confidence:t.confidence.toFixed(1),score:t.obtainMarks}}changeAttemptedOption(t){return t.map(t=>{const e=Object.assign({},t);return e.key=t.qid,e.qState=this.qStatus[t.qState],delete e.qid,e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const Aa=function(t){return{showCorrect:t}};function Ia(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tce-renderer",3),r.fc("attempted",function(e){return r.Bc(t),r.jc().onAttempt(e)})("submitted",function(e){return r.Bc(t),r.jc().onSubmit(e)})("questLoad",function(e){return r.Bc(t),r.jc().questionLoaded(e)}),r.Ub()}if(2&t){const t=r.jc();r.Fb(t.player_class),r.oc("isSound",t.isSoundEnabled)("quizData",t.subResourceData)("attemptCount",t.attempt_count)("rules",t.quizRules)("mode",t.mode)("theme",t.subjectTheme)("basePath",t.basePathMedia)("attemptedOps",t.selectedOptions)("timeSpend",t.spendTime)("$nextSubQ",t.nextSubQ.asObservable())("$resetScreen",t.reset.asObservable())("$bgAudio",t.bgAudio.asObservable())("$validateQuestion",t.validation.asObservable())("$showCorrectAns",t.correctAns.asObservable())("$iDontknw",t.onIDontKnw.asObservable())("messageOption",t.messageRule)("ngClass",r.sc(20,Aa,t.showCorrectAnswerOralTest))}}let Ma=(()=>{class t{constructor(t,e,i,r,s,a){this._zone=t,this._libConfigService=e,this._httpClient=i,this._nativeInterface=r,this.analytics=s,this.modalService=a,this.title="webview-quiz",this.reset=new _.a,this.validation=new _.a,this.correctAns=new _.a,this.nextSubQ=new _.a,this.bgAudio=new _.a,this.onIDontKnw=new _.a,this.destroy$=new _.a,this.selectedOptions=[],this.stateObj={},this.mode="attempt",this.pending=0,this.attempt_count=0,this.totalSubQ=0,this.subCounter=1,this.apiVersion=1,this.isSoundEnabled=!0,this.instructions={SCQ:"The correct answer is",MCQ:"The correct answers are",SORTING:"The correct answers are",SUBJECTIVE:"The correct answer is",WS:"The correct answer is",WSs:"The correct answers are",WSV2:"The correct answer is",WSV2s:"The correct answers are",FIBSCQ:"The correct answer is",FIBSCQs:"The correct answers are",COMPOSITE:""},this.basePathMedia="",this.subjectTheme="quiz-default-theme",this.quiz_player_class="revise-quiz-player-page",this.messageRule=[],this.showCorrectAnswerOralTest=!1,this.spendTime=0,(()=>{Object(o.__awaiter)(this,void 0,void 0,function*(){if(console.log("loading ResizeObserver!"),"ResizeObserver"in window==0){console.log("using polyfill ResizeObserver!");const t=yield n.e(5).then(n.bind(null,"HR/i"));window.ResizeObserver=t.ResizeObserver}new ResizeObserver((t,e)=>{console.log("Something has resized!"),this._nativeInterface.passWebviewHeightToNative()}).observe(document.body)})})()}ngOnInit(){window.angularReference={zone:this._zone,passQuizDataFromNative:(t,e,n)=>this.setQuizData(t,e,n),passQuizDataFromNativeJson:(t,e,n)=>this.setQuizDataJson(t,e,n),resetQuizFromNative:()=>this.resetQuiz(),showAnswerFromNative:()=>this.showAnswer(),validateQuizFromNative:()=>this.validateQuestion(),nextSubQuizFromNative:()=>this.nextSubQuestion(),prevSubQuizFromNative:()=>this.prevSubQuestion(),playBgAudioFromNative:()=>this.playBgAudio(),pauseBgAudioFromNative:()=>this.pauseBgAudio(),iDontKnowFromNative:()=>this.iDontKnow(),apiDataFromNative:(t,e,n)=>this.apiDataFromNative(t,e,n),component:this};const t=localStorage.getItem("subjectId");t&&(this.subjectTheme="quiz-"+this._libConfigService.getSubjectTheme(t)),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 91 ~ AppComponent ~ ngOnInit ~ window",window)}setQuizData(t,e,n){console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 119 ~ AppComponent ~ setQuizData ~ subResourceDataStr",t),this.subResourceData=null,console.log("1. setQuizData",t),this.subResourceData=JSON.parse(t),this._nativeInterface.passQuizControlSateToNative(Tn.d.onQLoad),this.setQuizDataJson(JSON.parse(t),e,n)}setQuizDataJson(t,e,n){this.mode=e,console.log("1. setQuizDataJson",t),this.subResourceData=null,this.messageRule.length||this.getRulesJson(n),console.log("isSoundEnabled",this._nativeInterface.getDeviceType(),this.isSoundEnabled),setTimeout(()=>{if(this.subResource=t,this.subResourceData=t.data,this.subResource.state){let t=JSON.parse(JSON.stringify(this.subResource.state));"practice_player"!==n?(this.spendTime=t.timeTaken,this.selectedOptions=JSON.parse(JSON.stringify(t.attemptedOption)),this.setAttemptCount(this.subResource),console.log("AppComponent -> setQuizDataJson -> this.selectedOptions",this.selectedOptions)):(this.setAttemptCount(this.subResource),this.spendTime=0,this.selectedOptions=[])}else this.selectedOptions=[],this.spendTime=0,this.attempt_count=0;console.log("3. setQuizDataJson"),this.player_class=n,console.log("4. setQuizDataJson",this.player_class,e),this.setBasePath(t.tqId,t.subResourceId),this._nativeInterface.passQuizControlSateToNative(Tn.d.onQLoad),this.quiz_player_class="test_player"==this.player_class||"oral_player"==this.player_class?"test-quiz-player-page":"practice-quiz-player-page","oral_player"==this.player_class&&this.changeInstruction()},50)}getRulesJson(t){this._httpClient.get("assets/static_json/lesson-player/rules/message-rule.json").subscribe(t=>{console.log("1. messageRule",t),this.messageRule=t});let e="bigIdea"==localStorage.getItem("lessonType")?"big-idea-rule.json":"revise-rule.json";switch(t){case"oral_player":e="oral-test-rule.json";break;case"practice_player":e="practise-rule.json";break;case"test_player":e="test-rule.json"}this._httpClient.get(`assets/static_json/lesson-player/rules/${e}`).subscribe(t=>{console.log("2. setQuizDataJson",e,t),this.quizRules=t})}setAttemptCount(t){console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 223 ~ AppComponent ~ setAttemptCount ~ subResource",t),t.state&&t.state.attemptedOption&&t.state.attemptedOption.length>0?(this.selectedOptions=t.state.attemptedOption,C.delay(()=>{for(let e=0;e<t.state.attemptedOption.length;e++){let n=t.state.attemptedOption[e].attemptCount;this.spendTime=t.state.timeTaken;let i=t.state.attemptedOption[e].qState;0==n||2!==n&&2!==i||"preview"==this.mode?this.attempt_count=n:(this.nextSubQ.next(),this.attempt_count=0)}},1)):(this.spendTime=0,this.attempt_count=0,this.selectedOptions=[])}changeInstruction(){this.subResourceData[0].data.instructions="";for(const t of this.subResourceData)t.instructions=this.instructions[this.getRightAnswer(t)]}getRightAnswer(t){let e=0;switch(t.data.type){case"SCQ":case"MCQ":case"SORTING":e=1;break;case"WS":case"WSV2":e=C.without(C.map(this.subResourceData[0].data.options,function(t){if(1===t.isCorrect)return t.value}),void 0).length;break;case"FIBSCQ":e=this.subResourceData.length-1;break;case"SUBJECTIVE":case"COMPOSITE":e=1}return e>1?t.data.type+"s":t.data.type}apiDataFromNative(t,e,n){if(console.log("in Quiz AppComponent => "+JSON.stringify(t)+" || "+JSON.stringify(e)),"success"==n){let n=new g.g({body:e,status:200,url:t.url});this._nativeInterface.apiObservableObj[t.method+t.url+t.timestamp].next(n)}else{let n=new g.d({status:500,error:e,url:t.url});this._nativeInterface.apiObservableObj[t.method+t.url+t.timestamp].error(n)}this._nativeInterface.apiObservableObj[t.method+t.url+t.timestamp].complete(),delete this._nativeInterface.apiObservableObj[t.method+t.url+t.timestamp]}resetQuiz(){console.log("reset quiz"),this.reset.next(),this.showCorrectAnswerOralTest=!1,this._nativeInterface.passQuizControlSateToNative(Tn.d.onQLoad)}showAnswer(){console.log("show answer",this.player_class,"oral_player"==this.player_class),this.correctAns.next(),this.showCorrectAnswerOralTest="oral_player"==this.player_class,this._nativeInterface.passQuizControlSateToNative(Tn.d.onQRetry)}setBasePath(t,e){const n=localStorage.getItem("bookId"),i=localStorage.getItem("lessonType");this.basePathMedia=this.getBaseUrl(n,t,"quiz",i)+e+"/",console.log("basePathMedia:",this.basePathMedia)}getBaseUrl(t,e,n,i){let r;return console.log("playerType",i,n,"res"),r=i&&"practice"===i?`content/1/res/v${this.apiVersion}/library/${t}/practice/concept/${e}`:!i||"test"!==i&&"digital_test"!==i?`content/1/res/v${this.apiVersion}/library/${t}/revise/concept/${e}`:`content/1/res/v${this.apiVersion}/library/${t}/test/concept/${e}`,{video:`${r}/assets/`,quiz:`${r}/question/`,summary:`${r}/notes/`}[n]}questionLoaded(t){console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 359 ~ AppComponent ~ questionLoaded ~ event",t),console.log("questionLoaded: "+JSON.stringify(t)),this._nativeInterface.questionLoadedDataToNative(JSON.stringify(t)),this.pending=t.pending,this.totalSubQ=t.totalSubQ,this.subCounter=t.subIndex}nextSubQuestion(){console.log("next nextSubQ quiz"),this.nextSubQ.next(),this.attempt_count=0,this._nativeInterface.passQuizControlSateToNative(Tn.d.onQLoad),this.hidePopup()}prevSubQuestion(){console.log("prev SubQ quiz"),this.isPrevSubQuestion()&&(this.nextSubQ.next(this.subCounter-1),this._nativeInterface.passQuizControlSateToNative(Tn.d.onQLoad)),this.hidePopup()}hidePopup(){this.modalService.hasOpenModals()&&this.modalService.dismissAll()}playBgAudio(){console.log("prev SubQ quiz"),this.bgAudio.next("play")}pauseBgAudio(){console.log("prev SubQ quiz"),this.bgAudio.next("pause")}validateQuestion(){console.log("validation quiz"),this.validation.next()}iDontKnow(){console.log("onIDontKnw quiz"),this.subResource.state.attemptedOption[this.subCounter-1]&&(this.subResource.state.attemptedOption[this.subCounter-1].attemptCount=2),this.onIDontKnw.next(),this._nativeInterface.passQuizControlSateToNative(Tn.d.onFinal),this._nativeInterface.updateSubResourceDataToNative(this.subResource)}isNextSubQuestion(){return this.subCounter===this.totalSubQ}isPrevSubQuestion(){return 1!==this.subCounter}onAttempt(t){return console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 424 ~ AppComponent ~ onAttempt ~ event",t),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 427 ~ AppComponent ~ onAttempt ~ this.player_class",this.player_class),t=this.checkParentQState(t),"revise_player"==this.player_class||"test_player"==this.player_class?(console.log("onAttempt call in if"),this.isNextSubQuestion()?(console.log("onAttempt call in onAttempt"),this._nativeInterface.passQuizControlSateToNative(Tn.d.onAttempt)):(console.log("onAttempt call in nextSubQ"),this._nativeInterface.passQuizControlSateToNative(Tn.d.nextSubQ)),this.setAttemptedData(t),this.passDataToNative(this.subResource.state),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 445 ~ AppComponent ~ onAttempt ~ this.subResource",this.subResource),void console.log("onAttempt call passed data to native")):(this.setAttemptedData(t),console.log("onAttempt call else"),this.checkAttempted(t)?this._nativeInterface.passQuizControlSateToNative(t.attemptedOption.length>0?Tn.d.onAttempt:Tn.d.onQLoad):this._nativeInterface.passQuizControlSateToNative(Tn.d.onQLoad),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 473 ~ AppComponent ~ onAttempt ~ this.subResource",this.subResource),this.subResource)}checkAttempted(t){return 1===this.totalSubQ&&t.attemptedOption.length>0||!!(this.totalSubQ>1&&t.attemptedOption[this.subCounter-1].options.length>0||t.attemptedOption[this.subCounter-1]&&t.attemptedOption[this.subCounter-1].options.length>0)}setAttemptedData(t){return console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 478 ~ AppComponent ~ setAttemptedData ~ event",t),this.subResource=C.cloneDeep(this.subResource),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 480 ~ AppComponent ~ setAttemptedData ~ this.subResource",this.subResource),1==this.totalSubQ?this.subResource.state=t:this.subResource.state&&this.subResource.state.attemptedOption?(this.subResource.state.attemptedOption[this.subCounter-1]=t.attemptedOption[this.subCounter-1],t.attemptedOption=this.subResource.state.attemptedOption,this.subResource.state=t):this.subResource.state=t,console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 496 ~ AppComponent ~ setAttemptedData ~ this.subResource",this.subResource),this.subResource.ledger=this.analytics.dataStructure(this.subResource.state,this.subResource.data),"revise_player"!=this.player_class&&"test_player"!=this.player_class||(this.selectedOptions=this.subResource.state.attemptedOption),this.subResource}checkParentQState(t){if(1===this.totalSubQ&&0===t.attemptedOption.length)t.parentsQstate=3;else if(this.totalSubQ>1){let e=t.parentsQstate;t.parentsQstate=3,t.attemptedOption.forEach(n=>{n.options.length>0&&(t.parentsQstate=e)})}return console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 562 ~ AppComponent ~ checkParentQState ~ event",t),t}passDataToNative(t){console.log("AppComponent -> passDataToNative -> event",t);let e=C.cloneDeep(this.subResource);e.state=Object.assign(Object.assign({},e.state),t),this._nativeInterface.updateSubResourceDataToNative(e),console.log("onAttempt quiz",e)}onSubmit(t){console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 506 ~ AppComponent ~ onSubmit ~ obj",t);let e=Object();e=C.cloneDeep(this.subResource.state),e.attemptedOption[this.subCounter-1].attemptCount=t.attemptCount,e.attemptedOption[this.subCounter-1].confidence=t.confidence,e.attemptCount=t.attemptCount,e.confidence=t.confidence,e.event=t.event,e=this.setAttemptedData(e).state,console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 509 ~ AppComponent ~ onSubmit ~ obj",t),"attemptFb"==t.event?(this.stateObj=t,this._nativeInterface.passQuizControlSateToNative(Tn.d.onQRetry)):this.isNextSubQuestion()?this._nativeInterface.passQuizControlSateToNative(Tn.d.onFinal):this._nativeInterface.passQuizControlSateToNative(Tn.d.nextSubQ);let n=C.cloneDeep(this.subResource);n.state=Object.assign(Object.assign({},n.state),e),this._nativeInterface.updateSubResourceDataToNative(n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.A),r.Qb(Tn.c),r.Qb(g.b),r.Qb(Da),r.Qb(Pa),r.Qb(S.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["nx-afs-root"]],decls:4,vars:4,consts:[[1,"container"],[1,"quiz-player-container","box-shadow-view"],[3,"isSound","quizData","attemptCount","rules","mode","theme","basePath","attemptedOps","timeSpend","$nextSubQ","$resetScreen","$bgAudio","$validateQuestion","$showCorrectAns","$iDontknw","messageOption","class","ngClass","attempted","submitted","questLoad",4,"ngIf"],[3,"isSound","quizData","attemptCount","rules","mode","theme","basePath","attemptedOps","timeSpend","$nextSubQ","$resetScreen","$bgAudio","$validateQuestion","$showCorrectAns","$iDontknw","messageOption","ngClass","attempted","submitted","questLoad"]],template:function(t,e){1&t&&(r.Vb(0,"div"),r.Vb(1,"div",0),r.Vb(2,"div",1),r.Hc(3,Ia,1,22,"tce-renderer",2),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Gb("quiz-player-page ",e.quiz_player_class,""),r.Db(3),r.oc("ngIf",e.subResourceData&&e.quizRules))},directives:[s.l,na,s.j],styles:[""]}),t})(),xa=(()=>{class t{constructor(){}gotoQuiz(){let t=window.location.search;if(t&&t.indexOf("token")){let e=t.split("&"),n="",i="",r="revise";e&&e.length&&(e.forEach(t=>{-1!==t.indexOf("deviceType")&&localStorage.setItem("deviceType",t.split("=")[1]),-1!==t.indexOf("token")&&(n=t.split("=")[1],localStorage.setItem("authtoken",n)),-1!==t.indexOf("bookId")&&(n=t.split("=")[1],localStorage.setItem("bookId",n)),-1!==t.indexOf("subjectId")&&(n=t.split("=")[1],localStorage.setItem("subjectId",n)),-1!==t.indexOf("apiurl")&&(i=t.split("=")[1]),-1!==t.indexOf("lessonType")&&(r=t.split("=")[1])}),localStorage.setItem("apiurl",i),localStorage.setItem("lessonType",r))}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ra=(()=>{class t{constructor(){}getAccessToken(){return localStorage.getItem("authtoken")}addAuthenticationToken(t){const e={};e.Authorization=`Bearer ${this.getAccessToken()}`,e["Content-Type"]="application/json";for(const n of t.headers.keys())e[n]=t.headers.getAll(n);return t.url.includes("attachment")&&delete e["Content-Type"],t.clone({setHeaders:e,withCredentials:!0})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),ka=(()=>{class t extends Ra{constructor(){super()}intercept(t,e){if(t.headers.has("noAuth")){const e=t.headers.delete("noAuth");t=t.clone({headers:e,withCredentials:!0})}else t=this.addAuthenticationToken(t);return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),La=(()=>{class t{constructor(){}getApiUrl(){return localStorage.getItem("apiurl")}intercept(t,e){let n=t.url.split("/");return t=n.includes("static_json")&&n.includes("big-idea")?t.clone({url:`${t.url}`}):(n.includes("tce-resources.s3.ap-south-1.amazonaws.com"),t.clone({url:t.url})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),ja=(()=>{class t extends Ra{constructor(t){super(),this.nativeService=t}intercept(t,e){console.log("RefreshTokenInterceptor",t);let n={url:t.url,method:t.method,body:t.body,timestamp:(new Date).getTime(),responseType:"JSON"};if(null!=t.url.match(/\.(jpeg|jpg|gif|png|svg|mp3|JPEG|JPG|GIF|PNG|SVG|MP3)$/)){n={url:t.url,method:t.method,body:t.body,timestamp:(new Date).getTime(),responseType:"blob"};let e=new ne;return this.nativeService.apiObservableObj[n.method+n.url+n.timestamp]=e,this.nativeService.passApiRequestToNative(n),e.asObservable()}return e.handle(t).pipe(Object(b.a)(t=>(this.nativeService.nativeHandleError(t),Object(p.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Da))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();function Na(t){return()=>t.gotoQuiz()}let Ua=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t,bootstrap:[Ma]}),t.\u0275inj=r.Nb({providers:[Da,Pa,{provide:r.d,useFactory:Na,deps:[xa],multi:!0},{provide:g.a,useClass:La,multi:!0},{provide:g.a,useClass:ka,multi:!0},{provide:g.a,useClass:ja,multi:!0}],imports:[[i.a,g.c,h.forRoot(),Tn.a,wa]]}),t})();Object(r.U)(),i.f().bootstrapModule(Ua).catch(t=>console.error(t))},qgXg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?c(l.errors):[l]}if(Object(i.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(c(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},sYmb:function(t,e,n){"use strict";n.d(e,"a",function(){return k}),n.d(e,"b",function(){return R});var i=n("fXoL"),r=n("LRne"),s=n("7+OI"),o=n("cp0P"),a=n("GyhO"),c=n("NXyV"),u=n("IzEk"),l=n("UXun"),h=n("lJxs"),d=n("bOdf"),p=n("eIep");class f{}let _=(()=>{class t extends f{getTranslation(t){return Object(r.a)({})}}return t.\u0275fac=function(e){return g(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const g=i.Xb(_);class m{}let v=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();function y(t){return null!=t}function b(t){return t&&"object"==typeof t&&!Array.isArray(t)}function E(t,e){let n=Object.assign({},t);return b(t)&&b(e)&&Object.keys(e).forEach(i=>{b(e[i])?i in t?n[i]=E(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n}class O{}let S=(()=>{class t extends O{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!y(t)||!y(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let i=this.getValue(e,n);return y(i)?i:t}):t}}return t.\u0275fac=function(e){return C(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const C=i.Xb(S);class T{}let w=(()=>{class t extends T{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return D(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const D=i.Xb(w);class P{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.n,this.onLangChange=new i.n,this.onDefaultLangChange=new i.n}}const A=new i.r("USE_STORE"),I=new i.r("USE_DEFAULT_LANG"),M=new i.r("DEFAULT_LANGUAGE"),x=new i.r("USE_EXTEND");let R=(()=>{class t{constructor(t,e,n,r,s,o=!0,a=!1,c=!1,u){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=r,this.missingTranslationHandler=s,this.useDefaultLang=o,this.isolate=a,this.extend=c,this.pending=!1,this._onTranslationChange=new i.n,this._onLangChange=new i.n,this._onDefaultLangChange=new i.n,this._langs=[],this._translations={},this._translationRequests={},u&&this.setDefaultLang(u)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Object(u.a)(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Object(r.a)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Object(u.a)(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),Object(r.a)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(Object(l.a)(1),Object(u.a)(1));return this.loadingTranslations=e.pipe(Object(h.a)(e=>this.compiler.compileTranslations(e,t)),Object(l.a)(1),Object(u.a)(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?E(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let i;if(e instanceof Array){let i={},a=!1;for(let r of e)i[r]=this.getParsedResult(t,r,n),Object(s.a)(i[r])&&(a=!0);if(a){const t=e.map(t=>Object(s.a)(i[t])?i[t]:Object(r.a)(i[t]));return Object(o.a)(t).pipe(Object(h.a)(t=>{let n={};return t.forEach((t,i)=>{n[e[i]]=t}),n}))}return i}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),i=this.missingTranslationHandler.handle(t)}return void 0!==i?i:e}get(t,e){if(!y(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Object(d.a)(n=>(n=this.getParsedResult(n,t,e),Object(s.a)(n)?n:Object(r.a)(n))));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return Object(s.a)(n)?n:Object(r.a)(n)}}getStreamOnTranslationChange(t,e){if(!y(t)||!t.length)throw new Error('Parameter "key" required');return Object(a.a)(Object(c.a)(()=>this.get(t,e)),this.onTranslationChange.pipe(Object(p.a)(n=>{const i=this.getParsedResult(n.translations,t,e);return"function"==typeof i.subscribe?i:Object(r.a)(i)})))}stream(t,e){if(!y(t)||!t.length)throw new Error('Parameter "key" required');return Object(a.a)(Object(c.a)(()=>this.get(t,e)),this.onLangChange.pipe(Object(p.a)(n=>{const i=this.getParsedResult(n.translations,t,e);return Object(s.a)(i)?i:Object(r.a)(i)})))}instant(t,e){if(!y(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(Object(s.a)(n)){if(t instanceof Array){let e={};return t.forEach((n,i)=>{e[t[i]]=t[i]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(i.cc(P),i.cc(f),i.cc(T),i.cc(O),i.cc(m),i.cc(I),i.cc(A),i.cc(x),i.cc(M))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:f,useClass:_},e.compiler||{provide:T,useClass:w},e.parser||{provide:O,useClass:S},e.missingTranslationHandler||{provide:m,useClass:v},P,{provide:A,useValue:e.isolate},{provide:I,useValue:e.useDefaultLang},{provide:x,useValue:e.extend},{provide:M,useValue:e.defaultLanguage},R]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:f,useClass:_},e.compiler||{provide:T,useClass:w},e.parser||{provide:O,useClass:S},e.missingTranslationHandler||{provide:m,useClass:v},{provide:A,useValue:e.isolate},{provide:I,useValue:e.useDefaultLang},{provide:x,useValue:e.extend},{provide:M,useValue:e.defaultLanguage},R]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({}),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return y}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return E}),n.d(e,"h",function(){return f}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return O});var i=n("qgXg"),r=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=i.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class p{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,r.a))}}function f(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const _=["ngOnDestroy"],g=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{var r;if(t[s])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(s,t[s]),t[s];if(_.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(s,n,r),r})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.r("angularfire2.app.options"),y=new c.r("angularfire2.app.nameOrConfig");class b{}function E(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}new c.Q("6.1.5");const O=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,i,r,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map),new c.B}).call(this,n("3UD+")(t))},t6oF:function(t,e,n){"use strict";var i=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];o in r||(r[o]={}),r=r[o]}(i=i(s=r[t=t[t.length-1]]))!=s&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=n.setTimeout;i.prototype.c=function(t){o(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){s(n)}}:e}var r,s,o=new e(function(t,e){r=t,s=e});return this.Ra(i(t,r),i(n,s)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)})},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e(function(t,e){function s(e){return function(n){o[e]=n,0==--a&&t(o)}}var o=[],a=0;do{o.push(void 0),a++,r(i.value).Ra(s(o.length-1),e),i=n.next()}while(!i.done)})},e});var o=o||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==d(t)}function _(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v)}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function O(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function C(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function w(t,e,n){this.code=A+t,this.message=e||I[t]||"",this.a=n||null}function D(t){var e=t&&t.code;return e?new w(e.substring(A.length),t.message,t.serverResponse):null}C(w,Error),w.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},w.prototype.toJSON=function(){return this.w()};var P,A="auth/",I={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},M={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in M)if(M[e].id===t)return{firebaseEndpoint:(t=M[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function k(t){if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");k.call(this,n+t[i])}function j(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function N(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function B(){this.b=this.a=null}P=x("__EID__")?"__EID__":void 0,C(k,Error),k.prototype.name="CustomError",C(L,k),L.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new N(function(){return new V},function(t){t.reset()});function q(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}B.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)},K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,s="string"==typeof t?t.split(""):t,o=0;o<n;o++)if(o in s){var a=s[o];e.call(void 0,a,o,t)&&(i[r++]=a)}return i},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,s=0;s<n;s++)s in r&&(i[s]=e.call(void 0,r[s],s,t));return i},$=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function H(t,e){return 0<=W(t,e)}function Q(t,e){var n;return(n=0<=(e=W(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)})}function X(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var J,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,it=/>/g,rt=/"/g,st=/'/g,ot=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){J=ht;break t}}J=""}function dt(t){return ct(J,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function _t(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<gt.length;s++)n=gt[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(o){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(_(t))try{var s=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(o){s="<object could not be stringified>"}else s=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,s)}}function yt(t,e){this.a=t===St&&e||"",this.b=Ot}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===Ot?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ta=!0,yt.prototype.sa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,Ot={},St={};function Ct(){if(void 0===Et){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){a.console&&a.console.error(n.message)}Et=t}else Et=t}return Et}function Tt(t,e){this.a=e===It?t:""}function wt(t){return t instanceof Tt&&t.constructor===Tt?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Dt(t,e){var n=bt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Ct();return new Tt(t=e?e.createScriptURL(t):t,It)}(t=n.replace(Pt,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof yt?bt(t):encodeURIComponent(String(t))}))}Tt.prototype.ta=!0,Tt.prototype.sa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={};function Mt(t,e){this.a=e===Ut?t:""}function xt(t){return t instanceof Mt&&t.constructor===Mt?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Mt.prototype.ta=!0,Mt.prototype.sa=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,kt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Mt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t))t=new Mt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(kt);t=e&&Rt.test(e[1])?new Mt(t,Ut):null}return t}function Nt(t){return t instanceof Mt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Mt(t,Ut))}var Ut={},Bt=new Mt("about:invalid#zClosurez",Ut);function Ft(t,e,n){this.a=n===qt?t:""}Ft.prototype.ta=!0,Ft.prototype.sa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Vt(t,e,n,i){return t=t instanceof Mt?t:Nt(t),e=e||a,n=n instanceof yt?bt(n):n||"",e.open(xt(t),n,i,void 0)}function Wt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Gt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(st,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var zt,$t,Ht=dt("Opera"),Qt=dt("Trident")||dt("MSIE"),Yt=dt("Edge"),Xt=Yt||Qt,Zt=dt("Gecko")&&!(ct(J.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Jt=ct(J.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=($t=J,Zt?/rv:([^\);]+)(\)|;)/.exec($t):Yt?/Edge\/([\d\.]+)/.exec($t):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($t):Jt?/WebKit\/(\S+)/.exec($t):Ht?/(?:Version)[ \/]?(\S+)/.exec($t):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var ie=te();if(null!=ie&&ie>parseFloat(ee)){zt=String(ie);break t}}zt=ee}var re={};function se(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(zt)).split("."),i=tt(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ut(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==o[2].length,0==a[2].length)||ut(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var oe=a.document&&Qt&&(te()||parseInt(zt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch($t){}var ae=!Qt||9<=Number(oe);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){pt(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pe(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var s=n[r];if(!p(s)||_(s)&&0<s.nodeType)i(s);else{t:{if(s&&"number"==typeof s.length){if(_(s)){var o="function"==typeof s.item||"string"==typeof s.item;break t}if(f(s)){o="function"==typeof s.item;break t}}o=!1}G(o?Z(s):s,i)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function _e(t){a.setTimeout(function(){throw t},0)}function ge(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){i.next={Hb:t},i=i.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),me||(he(),me=!0),ve.add(t,e)}var me=!1,ve=new B;function ye(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){_e(e)}U(F,t)}me=!1}function be(t,e){if(this.a=Ee,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){ke(n,Oe,t)},function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ke(n,Se,t)})}catch(i){ke(this,Se,i)}}var Ee=0,Oe=2,Se=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new N(function(){return new Ce},function(t){t.reset()});function we(t,e,n){var i=Te.get();return i.g=t,i.b=e,i.f=n,i}function De(t){if(t instanceof be)return t;var e=new be(h);return ke(e,Oe,t),e}function Pe(t){return new be(function(e,n){n(t)})}function Ae(t,e,n){Le(t,e,n,null)||ge(O(e,t))}function Ie(t){return new be(function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,s){n--,i[t]=r?{Qb:!0,value:s}:{Qb:!1,reason:s},0==n&&e(i)},s=0;s<t.length;s++)Ae(t[s],O(r,s,!0),O(r,s,!1));else e(i)})}function Me(t,e){if(t.a==Ee)if(t.c){var n=t.c;if(n.b){for(var i=0,r=null,s=null,o=n.b;o&&(o.c||(i++,o.a==t&&(r=o),!(r&&1<i)));o=o.next)r||(s=o);r&&(n.a==Ee&&1==i?Me(n,e):(s?((i=s).next==n.f&&(n.f=i),i.next=i.next.next):Ne(n),Ue(n,r,Se,e)))}t.c=null}else ke(t,Se,e)}function xe(t,e){t.b||t.a!=Oe&&t.a!=Se||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,i){var r=we(null,null,null);return r.a=new be(function(t,s){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(o){s(o)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof qe?s(e):t(r)}catch(o){s(o)}}:s}),r.a.c=t,xe(t,r),r.a}function ke(t,e,n){t.a==Ee&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,je(t),e!=Se||n instanceof qe||function(t,e){t.g=!0,ge(function(){t.g&&Fe.call(null,e)})}(t,n)))}function Le(t,e,n,i){if(t instanceof be)return xe(t,we(e||h,n||null,i)),!0;if(R(t))return t.then(e,n,i),!0;if(_(t))try{var r=t.then;if(f(r))return function(t,e,n,i,r){function s(t){o||(o=!0,i.call(r,t))}var o=!1;try{e.call(t,function(t){o||(o=!0,n.call(r,t))},s)}catch(a){s(a)}}(t,r,e,n,i),!0}catch(s){return n.call(i,s),!0}return!1}function je(t){t.h||(t.h=!0,ge(t.gc,t))}function Ne(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,i){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,i);else try{e.c?e.g.call(e.f):Be(e,n,i)}catch(r){Fe.call(null,r)}U(Te,e)}function Be(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Re(this,f(t)?t:null,f(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=we(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==Ee){var e=new qe(t);ge(function(){Me(this,e)},this)}},t.$c=function(t){this.a=Ee,ke(this,Oe,t)},t.ad=function(t){this.a=Ee,ke(this,Se,t)},t.gc=function(){for(var t;t=Ne(this);)Ue(this,t,this.a,this.i);this.h=!1};var Fe=_e;function qe(t){k.call(this,t)}function Ve(){0!=We&&(Ge[g(this)]=this),this.ya=this.ya,this.pa=this.pa}C(qe,k),qe.prototype.name="cancel";var We=0,Ge={};function Ke(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=We)){var e=g(t);if(0!=We&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ge[e]}}Ve.prototype.ya=!1,Ve.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},$e=!Qt||9<=Number(oe),He=Qt&&!se("9"),Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Kt(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Xe,Ye);var Ze=ze({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Wa=r,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.wa&&s.listener==e&&s.capture==!!n&&s.Wa==i)return r}return-1}rn.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=on(t,e,i,r);return-1<o?(e=t[o],n||(e.Qa=!1)):((e=new en(e,this.src,s,!!i,r)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),cn={};function un(t,e,n,i,r){if(i&&i.once)hn(t,e,n,i,r);else if(Array.isArray(e))for(var s=0;s<e.length;s++)un(t,e[s],n,i,r);else n=bn(n),t&&t[Je]?On(t,e,n,_(i)?!!i.capture:!!i,r):ln(t,e,n,!1,i,r)}function ln(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=_(r)?!!r.capture:!!r,a=vn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,i,o,s)).proxy)if(i=function(){var t=mn,e=$e?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Qe||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(fn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function hn(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)hn(t,e[s],n,i,r);else n=bn(n),t&&t[Je]?Sn(t,e,n,_(i)?!!i.capture:!!i,r):ln(t,e,n,!0,i,r)}function dn(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)dn(t,e[s],n,i,r);else i=_(i)?!!i.capture:!!i,n=bn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(s=t.a[e],n,i,r))&&(nn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,i,r)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Je])sn(e.v,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(fn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=vn(e))?(sn(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function fn(t){return t in cn?cn[t]:cn[t]="on"+t}function _n(t,e,n,i){var r=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var s=e[t];s&&s.capture==n&&!s.wa&&(s=gn(s,i),r=r&&!1!==s)}return r}function gn(t,e){var n=t.listener,i=t.Wa||t.src;return t.Qa&&pn(t),n.call(i,e)}function mn(t,e){if(t.wa)return!0;if(!$e){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Xe(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(o){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var s=_n(i[r],t,!0,e);n=n&&s}for(r=0;r<i.length;r++)e.b=i[r],s=_n(i[r],t,!1,e),n=n&&s}return n}return gn(t,new Xe(e,this))}function vn(t){return(t=t[an])instanceof rn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return f(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function En(){Ve.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function On(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function Sn(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function Cn(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.wa&&o.capture==n){var a=o.listener,c=o.Wa||o.src;o.Qa&&sn(t.v,o),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}function Tn(t,e,n){if(f(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function wn(t){var e=null;return new be(function(n,i){-1==(e=Tn(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function Dn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Pn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof An)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Mn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Mn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(En,Ve),En.prototype[Je]=!0,En.prototype.addEventListener=function(t,e,n,i){un(this,t,e,n,i)},En.prototype.removeEventListener=function(t,e,n,i){dn(this,t,e,n,i)},En.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var i=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var r=t;mt(t=new Ye(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.b=e[s];r=Cn(o,i,!0,t)&&r}if(r=Cn(o=t.b=n,i,!0,t)&&r,r=Cn(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Cn(o=t.b=e[s],i,!1,t)&&r;return r},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)nn(n[i]);delete e.a[t],e.b--}}this.hb=null},(t=An.prototype).X=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Mn(this.b,t)?this.b[t]:e},t.set=function(t,e){Mn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,kn(this,t.c),this.l=t.l,this.a=t.a,Ln(this,t.g),this.f=t.f,jn(this,ei(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,kn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Ln(this,n[4]),this.f=qn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function kn(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),ti(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Vn(e,$n)),t.b=new Qn(e,t.i))}function Nn(t,e,n){t.b.set(e,n)}function Un(t,e){return t.b.get(e)}function Bn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function Fn(t,e,n,i){var r=new Rn(null,void 0);return t&&kn(r,t),e&&(r.a=e),n&&Ln(r,n),i&&(r.f=i),r}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Vn(e,Gn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Vn(e,Gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vn(n,"/"==n.charAt(0)?zn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Vn(n,Hn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?kn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)Ln(e,t.g);else if(n=!!t.f){if("/"!=i.charAt(0))if(this.a&&!this.f)i="/"+i;else{var r=e.f.lastIndexOf("/");-1!=r&&(i=e.f.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ct(r,"./")||ct(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var s=[],o=0;o<r.length;){var a=r[o++];"."==a?i&&o==r.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),i&&o==r.length&&s.push("")):(s.push(a),i=!0)}i=s.join("/")}else i=r}return n?e.f=i:n=""!==t.b.toString(),n?jn(e,ei(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Gn=/[#\/\?@]/g,Kn=/[#\?:]/g,zn=/[#\?]/g,$n=/[#\?@]/g,Hn=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xn(t){var e=Pn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=Dn(t);for(var i=0;i<e.length;i++){var r=e[i],s=t[i];Array.isArray(s)?ti(n,r,s):n.add(r,s)}return n}function Zn(t,e){Yn(t),e=ni(t,e),Mn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Mn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Jn(t,e){return Yn(t),e=ni(t,e),Mn(t.a.b,e)}function ti(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(ni(t,e),Z(n)),t.b+=n.length)}function ei(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function ni(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ii(t){var e=[];return si(new ri,t,e),e.join("")}function ri(){}function si(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var i=e;e=i.length,n.push("[");for(var r="",s=0;s<e;s++)n.push(r),si(t,i[s],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),r="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(s=e[i])&&(n.push(r),ci(i,n),n.push(":"),si(t,s,n),r=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ci(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Qn.prototype).add=function(t,e){Yn(this),this.c=null,t=ni(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach(function(n,i){G(n,function(n){t.call(e,n,i,this)},this)},this)},t.Y=function(){Yn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},t.X=function(t){Yn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=X(e,this.a.get(ni(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Jn(this,t=ni(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.X(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")};var oi={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ai=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ci(t,e){e.push('"',t.replace(ai,function(t){var e=oi[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),oi[t]=e),e}),'"')}function ui(){var t=Pi();return Qt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function li(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hi(t,e){e=e||a.window;var n="about:blank";t&&(n=xt(jt(t)||Bt)),e.location.href=n}function di(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<di(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i}function pi(t){return!!((t=(t||Pi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fi(t){t=t||a.window;try{t.close()}catch(e){}}function _i(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-e)/2;for(o in e={width:e,height:n,top:0<r?r:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pi().toLowerCase(),i&&(e.target=i,ct(n,"crios/")&&(e.target="_blank")),Ti(Pi())==Ci&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Mt?n:jt(void 0!==n.href?n.href:String(n))||Bt,n=t.target||n.target,r=[],t)switch(o){case"width":case"height":case"top":case"left":r.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(o+"="+(t[o]?1:0))}var o=r.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(vt(o=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof Mt?e:Nt(e),o.href=xt(e),o.setAttribute("target",n),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),o.dispatchEvent(t),o={}):t.noreferrer?(o=Vt("",i,n,o),t=xt(e),o&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),o.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gt(t)+'">',t=new Ft(t=(i=Ct())?i.createHTML(t):t,null,qt),i=o.document)&&(i.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),i.close())):(o=Vt(e,i,n,o))&&t.noopener&&(o.opener=null),o)try{o.focus()}catch(a){}return o}var gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mi=/^[^@]+@[^@]+$/;function vi(){var t=null;return new be(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function yi(t){return t=t||Pi(),!("file:"!==Ri()&&"ionic:"!==Ri()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function bi(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Ei(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Oi(){return i.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.default.INTERNAL.hasOwnProperty("node")?"Node":Ei()?"Worker":"Browser"}function Si(){var t=Oi();return"ReactNative"===t||"Node"===t}var Ci="Firefox";function Ti(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Ci:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var wi={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Di(t,e){e=e||[];var n,i=[],r={};for(n in wi)r[wi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=Oi())?i=Ti(r=Pi()):"Worker"===i&&(i=Ti(r=Pi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Pi(){return a.navigator&&a.navigator.userAgent||""}function Ai(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ii(){try{var t=a.localStorage,e=Ui();if(t)return t.setItem(e,"1"),t.removeItem(e),!ui()||!!a.indexedDB}catch(n){return Ei()&&!!a.indexedDB}return!1}function Mi(){return(xi()||"chrome-extension:"===Ri()||yi())&&!Si()&&Ii()&&!Ei()}function xi(){return"http:"===Ri()||"https:"===Ri()}function Ri(){return a.location&&a.location.protocol||null}function ki(t){return!pi(t=t||Pi())&&Ti(t)!=Ci}function Li(t){return void 0===t?null:ii(t)}function ji(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Ni(t){if(null!==t)return JSON.parse(t)}function Ui(t){return t||Math.floor(1e9*Math.random()).toString()}function Bi(t){return"Safari"!=Ti(t=t||Pi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fi(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pi(),e=Oi(),this.b=pi(t)||"ReactNative"===e}function Vi(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Wi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Gi(){return!(!Ai("fireauth.oauthhelper",a)&&!Ai("fireauth.iframe",a))}qi.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!xi()&&"chrome-extension:"!==Ri()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ki,zi={};function $i(t){zi[t]||(zi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Hi={};Object.defineProperty(Hi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hi,"abcd",{configurable:!0,enumerable:!0,value:2}),Ki=2==Hi.abcd}catch($t){Ki=!1}function Qi(t,e,n){Ki?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qi(t,n,e[n])}function Xi(t){var e={};return Yi(e,t),e}function Zi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qi(e,n,Zi(t[n]));return e}function Ji(t){var e=t&&(t[rr]?"phone":null);if(!(e&&t&&t[ir]))throw new w("internal-error","Internal assert: invalid MultiFactorInfo object");Qi(this,"uid",t[ir]),Qi(this,"displayName",t[er]||null);var n=null;t[nr]&&(n=new Date(t[nr]).toUTCString()),Qi(this,"enrollmentTime",n),Qi(this,"factorId",e)}function tr(t){try{var e=new sr(t)}catch(n){e=null}return e}Ji.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var er="displayName",nr="enrolledAt",ir="mfaEnrollmentId",rr="phoneInfo";function sr(t){Ji.call(this,t),Qi(this,"phoneNumber",t[rr])}function or(t){var e={},n=t[lr],i=t[dr],r=t[pr];if(t=tr(t[hr]),!r||r!=cr&&r!=ur&&!n||r==ur&&!i||r==ar&&!t)throw Error("Invalid checkActionCode response!");r==ur?(e[_r]=n||null,e[mr]=n||null,e[fr]=i):(e[_r]=i||null,e[mr]=i||null,e[fr]=n||null),e[gr]=t||null,Qi(this,yr,r),Qi(this,vr,Zi(e))}C(sr,Ji),sr.prototype.w=function(){var t=sr.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ar="REVERT_SECOND_FACTOR_ADDITION",cr="EMAIL_SIGNIN",ur="VERIFY_AND_CHANGE_EMAIL",lr="email",hr="mfaInfo",dr="newEmail",pr="requestType",fr="email",_r="fromEmail",gr="multiFactorInfo",mr="previousEmail",vr="data",yr="operation";function br(t){var e=Un(t=Bn(t),Er)||null,n=Un(t,Or)||null,i=Un(t,Tr)||null;if(i=i&&Dr[i]||null,!e||!n||!i)throw new w("argument-error",Er+", "+Or+"and "+Tr+" are required in a valid action code URL.");Yi(this,{apiKey:e,operation:i,code:n,continueUrl:Un(t,Sr)||null,languageCode:Un(t,Cr)||null,tenantId:Un(t,wr)||null})}var Er="apiKey",Or="oobCode",Sr="continueUrl",Cr="languageCode",Tr="mode",wr="tenantId",Dr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ar,signIn:cr,verifyAndChangeEmail:ur,verifyEmail:"VERIFY_EMAIL"};function Pr(t){try{return new br(t)}catch(e){return null}}function Ar(t){var e=t[kr];if(void 0===e)throw new w("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new w("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ir];if(n&&"object"==typeof n){e=n[Nr];var i=n[Lr];if(n=n[jr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new w("argument-error",Lr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new w("argument-error",jr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new w("argument-error",Nr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new w("missing-android-pkg-name")}}else if(void 0!==n)throw new w("argument-error",Ir+" property must be a non null object when specified.");if(this.f=null,(e=t[Rr])&&"object"==typeof e){if("string"==typeof(e=e[Ur])&&e.length)this.f=e;else if(void 0!==e)throw new w("argument-error",Ur+" property must be a non empty string when specified.")}else if(void 0!==e)throw new w("argument-error",Rr+" property must be a non null object when specified.");if(void 0!==(e=t[xr])&&"boolean"!=typeof e)throw new w("argument-error",xr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Mr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new w("argument-error",Mr+" property must be a non empty string when specified.");this.i=t||null}var Ir="android",Mr="dynamicLinkDomain",xr="handleCodeInApp",Rr="iOS",kr="url",Lr="installApp",jr="minimumVersion",Nr="packageName",Ur="bundleId";function Br(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fr=null;function qr(t){var e=Wr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vr(t){try{return new qr(t)}catch(e){return null}}function Wr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var i=function(t){var e=[];return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Fr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fr){Fr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var s=i[r];void 0===Fr[s]&&(Fr[s]=r)}}}();for(var i=0;;){var r=n(-1),s=n(0),o=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|s>>4),64!=o&&(e(s<<4&240|o>>2),64!=a&&e(o<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<i.length;){var r=i[e++];if(128>r)t[n++]=String.fromCharCode(r);else if(191<r&&224>r){var s=i[e++];t[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(239<r&&365>r){s=i[e++];var o=i[e++],a=((7&r)<<18|(63&s)<<12|(63&o)<<6|63&i[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else s=i[e++],o=i[e++],t[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}return JSON.parse(t.join(""))}catch(c){}return null}qr.prototype.T=function(){return this.f},qr.prototype.l=function(){return this.c},qr.prototype.toString=function(){return this.h};var Gr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Kr=["client_id","response_type","scope","redirect_uri","state"],zr={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Kr},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Kr},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Kr},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Gr},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $r(t){for(var e in zr)if(zr[e].fa==t)return zr[e];return null}function Hr(t){var e={};e["facebook.com"]=Jr,e["google.com"]=es,e["github.com"]=ts,e["twitter.com"]=ns;var n=t&&t[Yr];try{if(n)return e[n]?new e[n](t):new Zr(t);if(void 0!==t[Qr])return new Xr(t)}catch(i){}return null}var Qr="idToken",Yr="providerId";function Xr(t){var e=t[Yr];if(!e&&t[Qr]){var n=Vr(t[Qr]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qi(this,"providerId",e),Qi(this,"isNewUser",n)}function Zr(t){Xr.call(this,t),Qi(this,"profile",Zi((t=Ni(t.rawUserInfo||"{}"))||{}))}function Jr(t){if(Zr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ts(t){if(Zr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qi(this,"username",this.profile&&this.profile.login||null)}function es(t){if(Zr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ns(t){if(Zr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qi(this,"username",t.screenName||null)}function is(t){var e=Bn(t),n=Un(e,"link"),i=Un(Bn(n),"link");return e=Un(e,"deep_link_id"),Un(Bn(e),"link")||e||i||n||t}function rs(t,e){if(!t&&!e)throw new w("internal-error","Internal assert: no raw session string available");if(t&&e)throw new w("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ss:os}C(Zr,Xr),C(Jr,Zr),C(ts,Zr),C(es,Zr),C(ns,Zr);var ss="enroll",os="signin";function as(){}function cs(t,e){return t.then(function(t){if(t[Qo]){var n=Vr(t[Qo]);if(!n||e!=n.i)throw new w("user-mismatch");return t}throw new w("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==A+"user-not-found"?new w("user-mismatch"):t})}function us(t,e){if(!e)throw new w("internal-error","failed to construct a credential");this.a=e,Qi(this,"providerId",t),Qi(this,"signInMethod",t)}function ls(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function hs(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new us(t.providerId,t.pendingToken)}catch(e){}return null}function ds(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qi(this,"idToken",e.idToken),e.accessToken&&Qi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new w("internal-error","failed to construct a credential");Qi(this,"accessToken",e.oauthToken),Qi(this,"secret",e.oauthTokenSecret)}Qi(this,"providerId",t),Qi(this,"signInMethod",n)}function ps(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fs(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ds(t.providerId,e,t.signInMethod)}catch(n){}}return null}function _s(t,e){this.Qc=e||[],Yi(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=($r(t)||{}).Ja||null,this.pb=null}function gs(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new w("argument-error",'SAML provider IDs must be prefixed with "saml."');_s.call(this,t,[])}function ms(t){_s.call(this,t,Kr),this.a=[]}function vs(){ms.call(this,"facebook.com")}function ys(t){if(!t)throw new w("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return _(t)&&(e=t.accessToken),(new vs).credential({accessToken:e})}function bs(){ms.call(this,"github.com")}function Es(t){if(!t)throw new w("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return _(t)&&(e=t.accessToken),(new bs).credential({accessToken:e})}function Os(){ms.call(this,"google.com"),this.Ca("profile")}function Ss(t,e){var n=t;return _(t)&&(n=t.idToken,e=t.accessToken),(new Os).credential({idToken:n,accessToken:e})}function Cs(){_s.call(this,"twitter.com",Gr)}function Ts(t,e){var n=t;if(_(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new w("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ds("twitter.com",n,"twitter.com")}function ws(t,e,n){this.a=t,this.f=e,Qi(this,"providerId","password"),Qi(this,"signInMethod",n===Ps.EMAIL_LINK_SIGN_IN_METHOD?Ps.EMAIL_LINK_SIGN_IN_METHOD:Ps.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ds(t){return t&&t.email&&t.password?new ws(t.email,t.password,t.signInMethod):null}function Ps(){Yi(this,{providerId:"password",isOAuthProvider:!1})}function As(t,e){if(!(e=Is(e)))throw new w("argument-error","Invalid email link!");return new ws(t,e.code,Ps.EMAIL_LINK_SIGN_IN_METHOD)}function Is(t){return(t=Pr(t=is(t)))&&t.operation===cr?t:null}function Ms(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new w("internal-error");this.a=t,Qi(this,"providerId","phone"),this.fa="phone",Qi(this,"signInMethod","phone")}function xs(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Ms(e)}return null}function Rs(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function ks(t){try{this.a=t||i.default.auth()}catch(e){throw new w("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yi(this,{providerId:"phone",isOAuthProvider:!1})}function Ls(t,e){if(!t)throw new w("missing-verification-id");if(!e)throw new w("missing-verification-code");return new Ms({fb:t,eb:e})}function js(t){if(t.temporaryProof&&t.phoneNumber)return new Ms({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,s=t&&t.oauthIdToken,o=t&&t.pendingToken;try{switch(e){case"google.com":return Ss(s,n);case"facebook.com":return ys(n);case"github.com":return Es(n);case"twitter.com":return Ts(n,i);default:return n||i||s||o?o?0==e.indexOf("saml.")?new us(e,o):new ds(e,{pendingToken:o,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ms(e).credential({idToken:s,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function Ns(t){if(!t.isOAuthProvider)throw new w("invalid-oauth-provider")}function Us(t,e,n,i,r,s,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=s||null,this.h=o||null,this.a=r||null,!this.g&&!this.a)throw new w("invalid-auth-event");if(this.g&&this.a)throw new w("invalid-auth-event");if(this.g&&!this.f)throw new w("invalid-auth-event")}function Bs(t){return(t=t||{}).type?new Us(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&D(t.error),t.postBody,t.tenantId):null}function Fs(){this.b=null,this.a=[]}rs.prototype.Ha=function(){return De(this.a?this.a:this.b)},rs.prototype.w=function(){return this.type==ss?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},as.prototype.ka=function(){},as.prototype.b=function(){},as.prototype.c=function(){},as.prototype.w=function(){},us.prototype.ka=function(t){return ga(t,ls(this))},us.prototype.b=function(t,e){var n=ls(this);return n.idToken=e,ma(t,n)},us.prototype.c=function(t,e){return cs(va(t,ls(this)),e)},us.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ds.prototype.ka=function(t){return ga(t,ps(this))},ds.prototype.b=function(t,e){var n=ps(this);return n.idToken=e,ma(t,n)},ds.prototype.c=function(t,e){return cs(va(t,ps(this)),e)},ds.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},_s.prototype.Ka=function(t){return this.Jb=_t(t),this},C(gs,_s),C(ms,_s),ms.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},ms.prototype.Rb=function(){return Z(this.a)},ms.prototype.credential=function(t,e){var n;if(!(n=_(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new w("argument-error","credential failed: must provide the ID token and/or the access token.");return new ds(this.providerId,n,this.providerId)},C(vs,ms),Qi(vs,"PROVIDER_ID","facebook.com"),Qi(vs,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(bs,ms),Qi(bs,"PROVIDER_ID","github.com"),Qi(bs,"GITHUB_SIGN_IN_METHOD","github.com"),C(Os,ms),Qi(Os,"PROVIDER_ID","google.com"),Qi(Os,"GOOGLE_SIGN_IN_METHOD","google.com"),C(Cs,_s),Qi(Cs,"PROVIDER_ID","twitter.com"),Qi(Cs,"TWITTER_SIGN_IN_METHOD","twitter.com"),ws.prototype.ka=function(t){return this.signInMethod==Ps.EMAIL_LINK_SIGN_IN_METHOD?Ja(t,wa,{email:this.a,oobCode:this.f}):Ja(t,Ha,{email:this.a,password:this.f})},ws.prototype.b=function(t,e){return this.signInMethod==Ps.EMAIL_LINK_SIGN_IN_METHOD?Ja(t,Da,{idToken:e,email:this.a,oobCode:this.f}):Ja(t,Fa,{idToken:e,email:this.a,password:this.f})},ws.prototype.c=function(t,e){return cs(this.ka(t),e)},ws.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yi(Ps,{PROVIDER_ID:"password"}),Yi(Ps,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yi(Ps,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ms.prototype.ka=function(t){return t.gb(Rs(this))},Ms.prototype.b=function(t,e){var n=Rs(this);return n.idToken=e,Ja(t,Ya,n)},Ms.prototype.c=function(t,e){var n=Rs(this);return n.operation="REAUTH",cs(t=Ja(t,Xa,n),e)},Ms.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},ks.prototype.gb=function(t,e){var n=this.a.a;return De(e.verify()).then(function(i){if("string"!=typeof i)throw new w("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=_(t)?t.session:null,s=_(t)?t.phoneNumber:t;return(r&&r.type==ss?r.Ha().then(function(t){return function(t,e){return Ja(t,Va,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:i}})}):r&&r.type==os?r.Ha().then(function(e){return function(t,e){return Ja(t,Wa,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})}):function(t,e){return Ja(t,Ua,e)}(n,{phoneNumber:s,recaptchaToken:i})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new w("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yi(ks,{PROVIDER_ID:"phone"}),Yi(ks,{PHONE_SIGN_IN_METHOD:"phone"}),Us.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Us.prototype.T=function(){return this.h},Us.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qs,Vs=null;function Ws(t){var e="unauthorized-domain",n=void 0,i=Bn(t);t=i.a,"chrome-extension"==(i=i.c)?n=Wt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Wt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",w.call(this,e,n)}function Gs(t,e,n){w.call(this,t,n),(t=e||{}).Kb&&Qi(this,"email",t.Kb),t.ea&&Qi(this,"phoneNumber",t.ea),t.credential&&Qi(this,"credential",t.credential),t.$b&&Qi(this,"tenantId",t.$b)}function Ks(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:js(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new w(e,t.message||void 0);return new Gs(e,n,t.message)}return null}function zs(){}function $s(){}function Hs(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qs(){}function Ys(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function Xs(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zs(t,e,n){this.reset(t,e,n,void 0,void 0)}function Js(t){this.f=t,this.b=this.c=this.a=null}function to(t,e){this.name=t,this.value=e}C(Ws,w),C(Gs,w),Gs.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Gs.prototype.toJSON=function(){return this.w()},zs.prototype.c=null,C($s,zs),$s.prototype.a=function(){var t=Hs(this);return t?new ActiveXObject(t):new XMLHttpRequest},$s.prototype.b=function(){var t={};return Hs(this)&&(t[0]=!0,t[1]=!0),t},qs=new $s,C(Qs,zs),Qs.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ys;throw Error("Unsupported browser")},Qs.prototype.b=function(){return{}},(t=Ys.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xs(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Xs(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Xs(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zs.prototype.a=null,Zs.prototype.reset=function(t,e,n,i,r){i||S(),delete this.a},to.prototype.toString=function(){return this.name};var eo=new to("SEVERE",1e3),no=new to("WARNING",900),io=new to("CONFIG",700),ro=new to("FINE",500);function so(t){return t.c?t.c:t.a?so(t.a):(j("Root logger has no level set."),null)}Js.prototype.log=function(t,e,n){if(t.value>=so(this).value)for(f(e)&&(e=e()),t=new Zs(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oo={},ao=null;function co(t){var e;if(ao||(ao=new Js(""),oo[""]=ao,ao.c=io),!(e=oo[t])){e=new Js(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=co(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,oo[t]=e}return e}function uo(t,e){t&&t.log(ro,e,void 0)}function lo(t){this.f=t}function ho(t){En.call(this),this.u=t,this.h=void 0,this.readyState=po,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=co("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}C(lo,zs),lo.prototype.a=function(){return new ho(this.f)},lo.prototype.b=function(t){return function(){return t}}({}),C(ho,En);var po=0;function fo(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function _o(t){t.readyState=4,t.g=null,t.c=null,t.m=null,go(t)}function go(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function mo(t){En.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=vo,this.u=this.S=!1}(t=ho.prototype).open=function(t,e){if(this.readyState!=po)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,go(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_o(this)),this.readyState=po},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,go(this)),this.a&&(this.readyState=3,go(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,fo(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?_o(this):go(this),3==this.readyState&&fo(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,_o(this))},t.sc=function(t){this.a&&(this.response=t,_o(this))},t.Va=function(t){var e=this.i;e&&e.log(no,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&_o(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(no,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(no,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),C(mo,En);var vo="";mo.prototype.b=co("goog.net.XhrIo");var yo=/^https?$/i,bo=["POST","PUT"];function Eo(t){return"content-type"==t.toLowerCase()}function Oo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,So(t),To(t)}function So(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Co(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Do(t)&&2==Po(t))uo(t.b,Ao(t,"Local request error detected and ignored"));else if(t.i&&4==Do(t))Tn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Do(t)){uo(t.b,Ao(t,"Request complete")),t.c=!1;try{var e,n=Po(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.l).match(xn)[1]||null;if(!s&&a.self&&a.self.location){var c=a.self.location.protocol;s=c.substr(0,c.length-1)}r=!yo.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Do(t)?t.a.statusText:""}catch(l){uo(t.b,"Can not get status: "+l.message),u=""}t.h=u+" ["+Po(t)+"]",So(t)}}finally{To(t)}}}function To(t,e){if(t.a){wo(t);var n=t.a,i=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(eo,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function wo(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Do(t){return t.a?t.a.readyState:0}function Po(t){try{return 2<Do(t)?t.a.status:-1}catch(e){return-1}}function Ao(t,e){return e+" ["+t.P+" "+t.l+" "+Po(t)+"]"}function Io(t){var e=qo;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Mo(t,e,n){t.a=!0,t.c=n,t.f=!e,Lo(t)}function xo(t){if(t.a){if(!t.v)throw new jo(t);t.v=!1}}function Ro(t,e,n,i){t.g.push([e,n,i]),t.a&&Lo(t)}function ko(t){return $(t.g,function(t){return f(t[1])})}function Lo(t){if(t.h&&t.a&&ko(t)){var e=t.h,n=Bo[e];n&&(a.clearTimeout(n.a),delete Bo[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),s=r[0],o=r[1];if(r=r[2],s=t.f?o:s)try{var c=s.call(r||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(R(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(u){e=u,t.f=!0,ko(t)||(n=!0)}}t.c=e,i&&(c=E(t.m,t,!0),i=E(t.m,t,!1),e instanceof Io?(Ro(e,c,i),e.C=!0):e.then(c,i)),n&&(e=new Uo(e),Bo[e.a]=e,t.h=e.a)}function jo(){k.call(this)}function No(){k.call(this)}function Uo(t){this.a=a.setTimeout(E(this.c,this),0),this.b=t}(t=mo.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",uo(this.b,Ao(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(uo(this.b,Ao(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),To(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),To(this,!0)),mo.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Co(this):this.Jc())},t.Jc=function(){Co(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case vo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(eo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return uo(this.b,"Can not get response: "+e.message),null}},Io.prototype.cancel=function(t){if(this.a)this.c instanceof Io&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new No(this),xo(this),Mo(this,!1,t))}},Io.prototype.m=function(t,e){this.i=!1,Mo(this,t,e)},Io.prototype.then=function(t,e,n){var i,r,s=new be(function(t,e){i=t,r=e});return Ro(this,i,function(t){t instanceof No?s.cancel():r(t)}),s.then(t,e,n)},Io.prototype.$goog_Thenable=!0,C(jo,k),jo.prototype.message="Deferred has already fired",jo.prototype.name="AlreadyCalledError",C(No,k),No.prototype.message="Deferred was canceled",No.prototype.name="CanceledError",Uo.prototype.c=function(){throw delete Bo[this.a],this.b};var Bo={};function Fo(t){var e={},n=e.document||document,i=wt(t).toString(),r=fe(document,"SCRIPT"),s={Xb:r,Ma:void 0},o=new Io(s),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout(function(){Vo(r,!0);var t=new Ko(Go,"Timeout reached for loading script "+i);xo(o),Mo(o,!1,t)},h),s.Ma=c),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Vo(r,e.xd||!1,c),xo(o),Mo(o,!0,null))},r.onerror=function(){Vo(r,!0,c);var t=new Ko(Wo,"Error while loading script "+i);xo(o),Mo(o,!1,t)},mt(s=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(r,s),function(t,e){vt(t,"HTMLScriptElement"),t.src=wt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===u&&(u=l(a.document)),e=u),e&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),o}function qo(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Vo(t,!0,this.Ma)}}function Vo(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Wo=0,Go=1;function Ko(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),k.call(this,n),this.code=t}function zo(t){this.f=t}function $o(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Yo,this.g=_t(t.secureTokenHeaders||Xo),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zo,this.a=_t(t.firebaseHeaders||Jo),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Oi(),!(n=a.XMLHttpRequest||n&&i.default.INTERNAL.node&&i.default.INTERNAL.node.XMLHttpRequest)&&!Ei())throw new w("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Ei()?new lo(self):Si()?new zo(n):new Qs,this.b=null}C(Ko,k),C(zo,zs),zo.prototype.a=function(){return new this.f},zo.prototype.b=function(){return{}};var Ho,Qo="idToken",Yo=new qi(3e4,6e4),Xo={"Content-Type":"application/x-www-form-urlencoded"},Zo=new qi(3e4,6e4),Jo={"Content-Type":"application/json"};function ta(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ea(t,e){e&&(t.l=na("https://securetoken.googleapis.com/v1/token",e),t.h=na("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=na("https://identitytoolkit.googleapis.com/v2/",e))}function na(t,e){return t=Bn(t),e=Bn(e.url),t.f=t.a+t.f,kn(t,e.c),t.a=e.a,Ln(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ra(t,e,n,i,r,s,o){(function(){var t=Pi();return!((t="Chrome"!=Ti(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&oe&&!(9<oe))})()||Ei()?t=E(t.u,t):(Ho||(Ho=new be(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[oa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ro(t,null,e,void 0)}(Fo(Dt(sa,{onload:oa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=E(t.s,t)),t(e,n,i,r,s,o)}$o.prototype.T=function(){return this.b},$o.prototype.u=function(t,e,n,i,r,s){if(Ei()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new w("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var o=new mo(this.f);if(s){o.g=Math.max(0,s);var c=setTimeout(function(){o.dispatchEvent("timeout")},s)}On(o,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return uo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Sn(o,"ready",function(){c&&clearTimeout(c),Ke(this)}),Sn(o,"timeout",function(){c&&clearTimeout(c),Ke(this),e&&e(null)}),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qs.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:qs),t.a.onreadystatechange=E(t.Wb,t);try{uo(t.b,Ao(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(o){return uo(t.b,Ao(t,"Error opening Xhr: "+o.message)),void Oo(t,o)}e=i||"";var s=new An(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)G(t,e,void 0);else for(var n=Pn(t),i=Dn(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(r,function(t,e){s.set(e,t)}),r=function(t){t:{for(var e=Eo,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),i=a.FormData&&e instanceof a.FormData,!H(bo,n)||r||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{wo(t),0<t.g&&(t.u=function(t){return Qt&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),uo(t.b,Ao(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),uo(t.b,Ao(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(o){uo(t.b,Ao(t,"Send error: "+o.message)),Oo(t,o)}}(o,t,n,i,r)};var sa=new yt(St,"https://apis.google.com/js/client.js?onload=%{onload}"),oa="__fcb"+Math.floor(1e6*Math.random()).toString();function aa(t){if("string"!=typeof(t=t.email)||!mi.test(t))throw new w("invalid-email")}function ca(t){"email"in t&&aa(t)}function ua(t){if(!t[Qo]){if(t.mfaPendingCredential)throw new w("multi-factor-auth-required",null,_t(t));throw new w("internal-error")}}function la(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new w("internal-error")}else{if(!t.sessionInfo)throw new w("missing-verification-id");if(!t.code)throw new w("missing-verification-code")}}$o.prototype.s=function(t,e,n,i,r){var s=this;Ho.then(function(){window.gapi.client.setApiKey(s.c);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(o),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},$o.prototype.Ab=function(){return Ja(this,qa,{})},$o.prototype.Cb=function(t,e){return Ja(this,Ba,{idToken:t,email:e})},$o.prototype.Db=function(t,e){return Ja(this,Fa,{idToken:t,password:e})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new w("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new w("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new w("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new w("internal-error")}function fa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function _a(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ks(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ks(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ks(t)):t.errorMessage&&(e=tc(t.errorMessage)),e)throw e;ua(t)}function ga(t,e){return e.returnIdpCredential=!0,Ja(t,Ga,e)}function ma(t,e){return e.returnIdpCredential=!0,Ja(t,za,e)}function va(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ja(t,Ka,e)}function ya(t){if(!t.oobCode)throw new w("invalid-action-code")}(t=$o.prototype).Eb=function(t,e){var n={idToken:t},i=[];return pt(ha,function(t,r){var s=e[r];null===s?i.push(t):r in e&&(n[r]=s)}),i.length&&(n.deleteAttribute=i),Ja(this,Ba,n)},t.wb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),Ja(this,ka,t)},t.xb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ja(this,Ma,t)},t.vb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ja(this,xa,t)},t.Fb=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ja(this,Ra,t)},t.gb=function(t){return Ja(this,Qa,t)},t.ob=function(t,e){return Ja(this,Na,{oobCode:t,newPassword:e})},t.Sa=function(t){return Ja(this,Ea,{oobCode:t})},t.kb=function(t){return Ja(this,ba,{oobCode:t})};var ba={endpoint:"setAccountInfo",A:ya,Z:"email",B:!0},Ea={endpoint:"resetPassword",A:ya,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new w("internal-error")},B:!0},Oa={endpoint:"signupNewUser",A:function(t){if(aa(t),!t.password)throw new w("weak-password")},G:ua,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},Ca={endpoint:"deleteAccount",O:["idToken"]},Ta={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new w("internal-error")}},wa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:aa,G:ua,V:!0,B:!0},Da={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:aa,G:ua,V:!0},Pa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:da,G:ua,B:!0,Na:!0},Aa={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:ua,B:!0,Na:!0},Ia={endpoint:"getAccountInfo"},Ma={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new w("internal-error");aa(t)},Z:"email",B:!0},xa={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new w("internal-error")},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new w("internal-error")},Z:"email",B:!0},ka={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new w("internal-error");aa(t)},Z:"email",B:!0},La={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ja={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new w("internal-error")}},Na={endpoint:"resetPassword",A:ya,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ba={endpoint:"setAccountInfo",O:["idToken"],A:ca,V:!0},Fa={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ca(t),!t.password)throw new w("weak-password")},G:ua,V:!0},qa={endpoint:"signupNewUser",G:ua,V:!0,B:!0},Va={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new w("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new w("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new w("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new w("internal-error")},B:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new w("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new w("internal-error")},B:!0,Na:!0},Ga={endpoint:"verifyAssertion",A:pa,Za:fa,G:_a,V:!0,B:!0},Ka={endpoint:"verifyAssertion",A:pa,Za:fa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new w("user-not-found");if(t.errorMessage)throw tc(t.errorMessage);ua(t)},V:!0,B:!0},za={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new w("internal-error")},Za:fa,G:_a,V:!0},$a={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new w("invalid-custom-token")},G:ua,V:!0,B:!0},Ha={endpoint:"verifyPassword",A:function(t){if(aa(t),!t.password)throw new w("wrong-password")},G:ua,V:!0,B:!0},Qa={endpoint:"verifyPhoneNumber",A:la,G:ua,B:!0},Ya={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new w("internal-error");la(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ks(t);ua(t)}},Xa={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:la,G:ua,B:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qo]^!!t.refreshToken)throw new w("internal-error")},B:!0,Na:!0};function Ja(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.O))return Pe(new w("internal-error"));var i,r=!!e.Na,s=e.Vb||"POST";return De(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,s,o){var a=Bn(e+n);Nn(a,"key",t.c),o&&Nn(a,"cb",Date.now().toString());var c="GET"==i;if(c)for(var u in r)r.hasOwnProperty(u)&&Nn(a,u,r[u]);return new be(function(e,n){ra(t,a.toString(),function(t){t?t.error?n(ec(t,s||{})):e(t):n(new w("network-request-failed"))},i,c?void 0:ii(ji(r)),t.a,t.v.get())})}(t,r?t.i:t.h,e.endpoint,s,n,e.Ib,e.mb||!1)}).then(function(t){return i=t,e.Za?e.Za(n,i):i}).then(e.G).then(function(){if(!e.Z)return i;if(!(e.Z in i))throw new w("internal-error");return i[e.Z]})}function tc(t){return ec({error:{errors:[{message:t}],code:400,message:t}})}function ec(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new w(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",mt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new w(i[r],e);return!e&&t&&(e=Li(t)),new w("internal-error",e)}function nc(t){this.b=t,this.a=null,this.sb=function(t){return(oc||(oc=new be(function(t,e){function n(){Fi(),Ai("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fi(),e(Error("Network Error"))},timeout:rc.get()})}if(Ai("gapi.iframes.Iframe"))t();else if(Ai("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){Ai("gapi.load")?n():e(Error("Network Error"))},De(Fo(i=Dt(ic,{onload:i}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw oc=null,t}))).then(function(){return new be(function(e,n){Ai("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(s),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var s=setTimeout(function(){n(Error("Network Error"))},sc.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}(this)}var ic=new yt(St,"https://apis.google.com/js/api.js?onload=%{onload}"),rc=new qi(3e4,6e4),sc=new qi(5e3,15e3),oc=null;function ac(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,t=this.g?Fn((t=Bn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Nn(this.a,"apiKey",this.h),Nn(this.a,"appName",this.i),this.b=null,this.c=[]}function cc(t,e,n,i,r,s){this.u=t,this.s=e,this.c=n,this.m=i,this.v=s,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function uc(t){try{return i.default.app(t).auth().Ga()}catch(e){return[]}}function lc(t,e,n,i,r,s){this.s=t,this.g=e,this.b=n,this.f=s,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hc(t){var e=li();return function(t){return Ja(t,La,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Bn(e),i=n.c;n=n.a;for(var r=0;r<t.length;r++){var s=t[r],o=n,a=i;if(0==s.indexOf("chrome-extension://")?o=Bn(s).a==o&&"chrome-extension"==a:"http"!=a&&"https"!=a?o=!1:gi.test(s)?o=o==s:(s=s.split(".").join("\\."),o=new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new Ws(li())})}function dc(t){return t.m||(t.m=vi().then(function(){if(!t.u){var e=t.c,n=t.i,i=uc(t.b),r=new ac(t.s,t.g,t.b,t.f);r.f=e,r.b=n,r.c=Z(i||[]),t.u=r.toString()}t.v=new nc(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Bs(e.authEvent),n=0;n<t.h.length;n++)i=t.h[n](e)||i;return(n={}).status=i?"ACK":"ERROR",De(n)}return n.status="ERROR",De(n)})}(t)})),t.m}function pc(t){return t.l||(t.C=t.c?Di(t.c,uc(t.b)):null,t.l=new $o(t.g,x(t.i),t.C),t.f&&ea(t.l,t.f)),t.l}function fc(t,e,n,i,r,s,o,a,c,u,l,h){return(t=new cc(t,e,n,i,r,h)).l=s,t.g=o,t.i=a,t.b=_t(c||null),t.f=u,t.zb(l).toString()}function _c(t){if(this.a=t||i.default.INTERNAL.reactNative&&i.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new w("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function gc(t){this.b=t,this.a={},this.f=E(this.c,this)}ac.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Nn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},cc.prototype.zb=function(t){return this.h=t,this},cc.prototype.toString=function(){if(this.v){var t=Bn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Nn(t,"apiKey",this.s),Nn(t,"appName",this.c),Nn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=i.default.app(this.c).auth().la()}catch(c){n=null}for(var r in e.pb=n,Nn(t,"providerId",this.a.providerId),e=ji((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=_t(e);for(var s=0;s<r.length;s++){var o=r[s];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),ft(e)||Nn(t,"customParameters",Li(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Nn(t,"scopes",n.join(",")),this.l?Nn(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?Nn(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?Nn(t,"v",this.i):Zn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(t,a)&&Nn(t,a,this.b[a]);return this.h?Nn(t,"tid",this.h):Zn(t.b,"tid"),this.f?Nn(t,"eid",this.f):Zn(t.b,"eid"),(a=uc(this.c)).length&&Nn(t,"fw",a.join(",")),t.toString()},(t=lc.prototype).Pb=function(t,e,n){var i=new w("popup-closed-by-user"),r=new w("web-storage-unsupported"),s=this,o=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return dc(t).then(function(){return function(t,e){return t.sb.then(function(){return new be(function(n){t.a.send(e.type,e,n,Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(s).then(function(n){n||(t&&fi(t),e(r),o=!0)})}).o(function(){}).then(function(){if(!o)return function(t){return new be(function(e){return function n(){wn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!o)return wn(n).then(function(){e(i)})})},t.Yb=function(){var t=Pi();return!ki(t)&&!Bi(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,i,r,s,o,a){if(!t)return Pe(new w("popup-blocked"));if(o&&!ki())return this.ma().o(function(e){fi(t),r(e)}),i(),De();this.a||(this.a=hc(pc(this)));var c=this;return this.a.then(function(){var e=c.ma().o(function(e){throw fi(t),r(e),e});return i(),e}).then(function(){Ns(n),o||hi(fc(c.s,c.g,c.b,e,n,null,s,c.c,void 0,c.i,a,c.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t})},t.Ob=function(t,e,n,i){this.a||(this.a=hc(pc(this)));var r=this;return this.a.then(function(){Ns(e),hi(fc(r.s,r.g,r.b,t,e,li(),n,r.c,void 0,r.i,i,r.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ma=function(){var t=this;return dc(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new w("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Y(this.h,function(e){return e==t})},(t=_c.prototype).get=function(t){return De(this.a.getItem(t)).then(function(t){return t&&Ni(t)})},t.set=function(t,e){return De(this.a.setItem(t,Li(e)))},t.U=function(t){return De(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var mc,vc=[];function yc(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bc(t){this.a=t}function Ec(t){this.c=t,this.b=!1,this.a=[]}function Oc(t,e,n,i){var r,s,o,a,c=n||{},u=null;if(t.b)return Pe(Error("connection_unavailable"));var l=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),o=setTimeout(function(){i(Error("unsupported_event"))},l),t.a.push(u={messageChannel:h,onMessage:s=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(o),a=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(o),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",s),t.c.postMessage({eventType:e,eventId:r,data:c},[h.port2])):i(Error("connection_unavailable"))}).then(function(e){return Sc(t,u),e}).o(function(e){throw Sc(t,u),e})}function Sc(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,function(t){return t==e})}}function Cc(){if(!Pc())throw new w("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Ei()&&self?(this.v=function(){var t=Ei()?self:null;if(G(vc,function(n){n.b==t&&(e=n)}),!e){var e=new gc(t);vc.push(e)}return e}(),yc(this.v,"keyChanged",function(e,n){return Rc(t).then(function(e){return 0<e.length&&G(t.a,function(t){t(e)}),{keyProcessed:H(e,n.key)}})}),yc(this.v,"ping",function(){return De(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?De().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):De(null)}().then(function(e){(t.h=e)&&(t.g=new Ec(new bc(e)),Oc(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Tc(t){return new be(function(e,n){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new be(function(e,n){var i=t.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Tc(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function wc(t){return t.i||(t.i=Tc(t)),t.i}function Dc(t,e){var n=0;return new be(function i(r,s){wc(t).then(e).then(r).o(function(e){if(!(3<++n))return wc(t).then(function(e){return e.close(),t.i=void 0,i(r,s)}).o(function(t){s(t)});s(e)})})}function Pc(){try{return!!a.indexedDB}catch($t){return!1}}function Ac(t){return t.objectStore("firebaseLocalStorage")}function Ic(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Mc(t){return new be(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function xc(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Oc(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):De()}function Rc(t){return wc(t).then(function(t){var e=Ac(Ic(t,!1));return e.getAll?Mc(e.getAll()):new be(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=di(t.c,n),t.c=n}return i})}function kc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Lc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=De().then(function(){if(Pc()){var t=Ui(),i="__sak"+t;return mc||(mc=new Cc),(n=mc).set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(i)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){G(e.a,function(e){e(t)})}),t})}function jc(){this.a={},this.type="inMemory"}function Nc(){if(!function(){var t="Node"==Oi();if(!(t=Uc()||t&&i.default.INTERNAL.node&&i.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Oi())throw new w("internal-error","The LocalStorage compatibility library was not found.");throw new w("web-storage-unsupported")}this.a=Uc()||i.default.INTERNAL.node.localStorage,this.type="localStorage"}function Uc(){try{var t=a.localStorage,e=Ui();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bc(){this.type="nullStorage"}function Fc(){if(!function(){var t="Node"==Oi();if(!(t=qc()||t&&i.default.INTERNAL.node&&i.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Oi())throw new w("internal-error","The SessionStorage compatibility library was not found.");throw new w("web-storage-unsupported")}this.a=qc()||i.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qc(){try{var t=a.sessionStorage,e=Ui();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vc(){var t={};t.Browser=Kc,t.Node=zc,t.ReactNative=$c,t.Worker=Hc,this.a=t[Oi()]}gc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];G(i,function(e){r.push(De().then(function(){return e(t.origin,t.data.data)}))}),Ie(r).then(function(i){var r=[];G(i,function(t){r.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),G(r,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},bc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ec.prototype.close=function(){for(;0<this.a.length;)Sc(this,this.a[0]);this.b=!0},(t=Cc.prototype).set=function(t,e){var n=this,i=!1;return Dc(this,function(e){return Mc((e=Ac(Ic(e,!0))).get(t))}).then(function(r){return Dc(n,function(s){if(s=Ac(Ic(s,!0)),r)return r.value=e,Mc(s.put(r));n.b++,i=!0;var o={};return o.fbase_key=t,o.value=e,Mc(s.add(o))})}).then(function(){return n.c[t]=e,xc(n,t)}).oa(function(){i&&n.b--})},t.get=function(t){return Dc(this,function(e){return Mc(Ac(Ic(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Dc(this,function(i){return n=!0,e.b++,Mc(Ac(Ic(i,!0)).delete(t))}).then(function(){return delete e.c[t],xc(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){kc(t),function e(){t.f=setTimeout(function(){t.l=Rc(t).then(function(e){0<e.length&&G(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t}),0==this.a.length&&kc(this)},(t=Lc.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t})},(t=jc.prototype).get=function(t){return De(this.a[t])},t.set=function(t,e){return this.a[t]=e,De()},t.U=function(t){return delete this.a[t],De()},t.ca=function(){},t.ia=function(){},(t=Nc.prototype).get=function(t){var e=this;return De().then(function(){return Ni(e.a.getItem(t))})},t.set=function(t,e){var n=this;return De().then(function(){var i=Li(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return De().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Bc.prototype).get=function(){return De(null)},t.set=function(){return De()},t.U=function(){return De()},t.ca=function(){},t.ia=function(){},(t=Fc.prototype).get=function(t){var e=this;return De().then(function(){return Ni(e.a.getItem(t))})},t.set=function(t,e){var n=this;return De().then(function(){var i=Li(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return De().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Wc,Gc,Kc={F:Nc,cb:Fc},zc={F:Nc,cb:Fc},$c={F:_c,cb:Bc},Hc={F:Nc,cb:Bc},Qc={rd:"local",NONE:"none",td:"session"};function Yc(){var t=!(Bi(Pi())||!bi()),e=ki(),n=Ii();this.m=t,this.h=e,this.l=n,this.a={},Wc||(Wc=new Vc),t=Wc;try{this.g=!ui()&&Gi()||!a.indexedDB?new t.a.F:new Lc(Ei()?new jc:new t.a.F)}catch(i){this.g=new jc,this.h=!0}try{this.i=new t.a.cb}catch(i){this.i=new jc}this.v=new jc,this.f=E(this.Zb,this),this.b={}}function Xc(){return Gc||(Gc=new Yc),Gc}function Zc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Jc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function tu(t,e,n){return n=Jc(e,n),"local"==e.F&&(t.b[n]=null),Zc(t,e.F).U(n)}function eu(t){t.c&&(clearInterval(t.c),t.c=null)}function nu(t){this.a=t,this.b=Xc()}(t=Yc.prototype).get=function(t,e){return Zc(this,t.F).get(Jc(t,e))},t.set=function(t,e,n){var i=Jc(t,n),r=this,s=Zc(this,t.F);return s.set(i,e).then(function(){return s.get(i)}).then(function(e){"local"==t.F&&(r.b[i]=e)})},t.addListener=function(t,e,n){t=Jc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ft(this.a)&&(Zc(this,"local").ca(this.f),this.h||(ui()||!Gi())&&a.indexedDB||!this.l||function(t){eu(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Jc(t,e),this.a[t]&&(Y(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(Zc(this,"local").ia(this.f),eu(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zc(this,"local").ia(this.f):eu(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var s=this;n=function(){void 0===t.a.a&&s.b[e]===a.localStorage.getItem(e)||(s.b[e]=a.localStorage.getItem(e),s.nb(e))},Qt&&oe&&10==oe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,E(this.nb,this))},t.nb=function(t){this.a[t]&&G(this.a[t],function(t){t()})};var iu,ru={name:"authEvent",F:"local"};function su(){this.a=Xc()}function ou(t,e){this.b=au,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===iu&&(iu=a.Int32Array?new Int32Array(fu):fu),this.reset()}C(ou,function(){this.b=-1});for(var au=64,cu=au-1,uu=[],lu=0;lu<cu;lu++)uu[lu]=0;var hu=X(128,uu);function du(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var s=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,o=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=s+o|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(s=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;o=(s=s+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((o=(o=u&l^~u&h)+(0|iu[e])|0)+(0|n[e])|0)|0,s=h,h=l,l=u,u=c+o|0,c=a,a=r,r=i,i=o+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+s|0}function pu(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(du(t),r=0);else{if(!p(e))throw Error("message must be string or array");for(;i<n;){var s=e[i++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");t.f[r++]=s,r==t.b&&(du(t),r=0)}}t.c=r,t.g+=n}ou.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Z(this.h)};var fu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _u(){ou.call(this,8,gu)}C(_u,ou);var gu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function mu(t,e,n,i,r,s){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=s,this.h=e+":"+n,this.C=new su,this.g=new nu(this.h),this.f=null,this.b=[],this.a=this.c=null}function vu(t){return new w("invalid-cordova-configuration",t)}function yu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function bu(t){return t.f||(t.f=t.ma().then(function(){return new be(function(e){t.Ea(function n(i){return e(i),t.Ta(n),!1}),function(t){function e(e){i=!0,r&&r.cancel(),Eu(t).then(function(i){var r=n;if(i&&e&&e.url){var s=null;-1!=(r=is(e.url)).indexOf("/__/auth/callback")&&(s=(s="object"==typeof(s=Ni(Un(s=Bn(r),"firebaseError")||null))?D(s):null)?new Us(i.c,i.b,null,null,s,null,i.T()):new Us(i.c,i.b,r,i.f,null,null,i.T())),r=s||n}yu(t,r)})}var n=new Us("unknown",null,null,null,new w("no-auth-event")),i=!1,r=wn(500).then(function(){return Eu(t).then(function(){i||yu(t,n)})}),s=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ai("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof s)try{s(t)}catch(n){console.error(n)}},Vs||(Vs=new Fs),function(t){var e=Vs;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ai("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Eu(t){var e=null;return function(t){return t.b.get(ru,t.a).then(function(t){return Bs(t)})}(t.g).then(function(n){return e=n,tu((n=t.g).b,ru,n.a)}).then(function(){return e})}function Ou(t){this.a=t,this.b=Xc()}(t=mu.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yi(void 0)?vi().then(function(){return new be(function(t,e){var n=a.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Pe(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ai("universalLinks.subscribe",a))throw vu("cordova-universal-links-plugin-fix is not installed");if(void 0===Ai("BuildInfo.packageName",a))throw vu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ai("cordova.plugins.browsertab.openUrl",a))throw vu("cordova-plugin-browsertab is not installed");if("function"!=typeof Ai("cordova.InAppBrowser.open",a))throw vu("cordova-plugin-inappbrowser is not installed")},function(){throw new w("cordova-not-ready")})},t.Pb=function(t,e){return e(new w("operation-not-supported-in-this-environment")),De()},t.Nb=function(){return Pe(new w("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,i){if(this.c)return Pe(new w("redirect-operation-pending"));var r=this,s=a.document,o=null,c=null,u=null,l=null;return this.c=De().then(function(){return Ns(e),bu(r)}).then(function(){return function(t,e,n,i,r){var s=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new Us(e,i,null,s,new w("no-auth-event"),null,r),c=Ai("BuildInfo.packageName",a);if("string"!=typeof c)throw new w("invalid-cordova-configuration");var u=Ai("BuildInfo.displayName",a),l={};if(Pi().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!Pi().toLowerCase().match(/android/))return Pe(new w("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),s=function(t){var e=new _u;pu(e,t),t=[];var n=8*e.g;pu(e,hu,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(du(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return z(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(s),l.sessionId=s;var h=fc(t.v,t.i,t.l,e,n,null,i,t.m,l,t.u,r,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(ru,o.w(),e)}).then(function(){var e=Ai("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new w("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ai("cordova.plugins.browsertab.openUrl",a)))throw new w("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ai("cordova.InAppBrowser.open",a)))throw new w("invalid-cordova-configuration");e=Pi(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new be(function(t,e){c=function(){var e=Ai("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(c),l=function(){Vi()&&u()},s.addEventListener("resume",u=function(){o||(o=wn(2e3).then(function(){e(new w("redirect-cancelled-by-user"))}))},!1),Pi().toLowerCase().match(/android/)||s.addEventListener("visibilitychange",l,!1)}).o(function(t){return Eu(r).then(function(){throw t})})}).oa(function(){u&&s.removeEventListener("resume",u,!1),l&&s.removeEventListener("visibilitychange",l,!1),o&&o.cancel(),c&&r.Ta(c),r.c=null})},t.Ea=function(t){this.b.push(t),bu(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Us("unknown",null,null,null,new w("no-auth-event")),t(e))})},t.Ta=function(t){Y(this.b,function(e){return e==t})};var Su={name:"pendingRedirect",F:"session"};function Cu(t){return tu(t.b,Su,t.a)}function Tu(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Fu,this.C=new Ku,this.g=new Ou(Uu(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wu(this.D,this.v,this.m,P,this.J)}function wu(t,e,n,r,s){var o=i.default.SDK_VERSION||null;return yi()?new mu(t,e,n,o,r,s):new lc(t,e,n,o,r,s)}function Du(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Pu(t){t.a.Yb()&&Du(t).o(function(e){var n=new Us("unknown",null,null,null,new w("operation-not-supported-in-this-environment"));ku(e)&&t.s(n)}),t.a.Ub()||qu(t.b)}function Au(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Su,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Cu(t.g).then(function(){Du(t).o(function(e){var n=new Us("unknown",null,null,null,new w("operation-not-supported-in-this-environment"));ku(e)&&t.s(n)})}):Pu(t)}).o(function(){Pu(t)})}function Iu(t,e){Y(t.h,function(t){return t==e})}Tu.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=wu(this.D,this.v,this.m,null,this.J),this.i={}},Tu.prototype.s=function(t){if(!t)throw new w("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return qu(this.b),e};var Mu=new qi(2e3,1e4),xu=new qi(3e4,6e4);function Ru(t,e,n,i,r,s,o){return t.a.Nb(e,n,i,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},r,s,o)}function ku(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lu(t,e,n,i,r){var s;return function(t){return t.b.set(Su,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,i,r).o(function(e){if(ku(e))throw new w("operation-not-supported-in-this-environment");return s=e,Cu(t.g).then(function(){throw s})}).then(function(){return t.a.ac()?new be(function(){}):Cu(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function ju(t,e,n,i,r){return t.a.Pb(i,function(t){e.na(n,null,t,r)},Mu.get())}Tu.prototype.ra=function(){return this.b.ra()};var Nu={};function Uu(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Bu(t,e,n,i){var r=Uu(e,n,i);return Nu[r]||(Nu[r]=new Tu(t,e,n,i)),Nu[r]}function Fu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qu(t){t.g||(t.g=!0,Gu(t,!1,null,null))}function Vu(t){t.g&&!t.i&&Gu(t,!1,null,null)}function Wu(t,e){if(t.b=function(){return De(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Gu(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Pe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Wu(t,n):Wu(t,{user:null}),t.f=[],t.c=[]}function Ku(){}function zu(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function $u(t,e){this.a=e,Qi(this,"verificationId",t)}function Hu(t,e,n,i){return new ks(t).gb(e,n).then(function(t){return new $u(t,i)})}function Qu(t){var e=Wr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new w("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yi(this,{token:t,expirationTime:Wi(1e3*e.exp),authTime:Wi(1e3*e.auth_time),issuedAtTime:Wi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yu(t,e,n){var i=e&&e[Zu];if(!i)throw new w("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=_t(e),this.g=n,this.c=new rs(null,i),this.b=[];var r=this;G(e[Xu]||[],function(t){(t=tr(t))&&r.b.push(t)}),Qi(this,"auth",this.a),Qi(this,"session",this.c),Qi(this,"hints",this.b)}Fu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,s=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!s),"unknown"!=n||r||s?t.a?(Gu(this,!0,null,t.a),De()):e.Fa(n,i)?function(t,e,n){n=n.Fa(e.c,e.b);var i=e.g,r=e.f,s=e.i,o=e.T(),a=!!e.c.match(/Redirect$/);n(i,r,o,s).then(function(e){Gu(t,a,e,null)}).o(function(e){Gu(t,a,null,e)})}(this,t,e):Pe(new w("invalid-auth-event")):(Gu(this,!1,null,null),De())}else Pe(new w("invalid-auth-event"))},Fu.prototype.ra=function(){var t=this;return new be(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new w("timeout");t.a&&t.a.cancel(),t.a=wn(xu.get()).then(function(){t.b||(t.g=!0,Gu(t,!0,null,e))})}(t))})},Ku.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.na(t.c,null,t.a,t.b),De()):e.Fa(n,i)?function(t,e){var n=t.b,i=t.c;e.Fa(i,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(i,t,null,n)}).o(function(t){e.na(i,null,t,n)})}(t,e):Pe(new w("invalid-auth-event"))}else Pe(new w("invalid-auth-event"))},$u.prototype.confirm=function(t){return t=Ls(this.verificationId,t),this.a(t)};var Xu="mfaInfo",Zu="mfaPendingCredential";function Ju(t,e,n,i){w.call(this,"multi-factor-auth-required",i,e),this.b=new Yu(t,e,n),Qi(this,"resolver",this.b)}function tl(t,e,n){if(t&&_(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Ju(e,t.serverResponse,n,t.message)}catch(i){}return null}function el(){}function nl(t){Qi(this,"factorId",t.fa),this.a=t}function il(t){if(nl.call(this,t),this.a.fa!=ks.PROVIDER_ID)throw new w("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function rl(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,function(t){var e=null,i={};if(t){t.uid&&(i[ir]=t.uid),t.displayName&&(i[er]=t.displayName),t.enrollmentTime&&(i[nr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[rr]=t.phoneNumber);try{e=new sr(i)}catch(r){}t=e}else t=null;t&&n.push(t)}),ol(this,n)}function ol(t,e){t.b=e,Qi(t,"enrolledFactors",e)}function al(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=wn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Vi()||!t?De():new be(function(n){e=function(){Vi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ul(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ll(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function hl(t,e){t.b=Vr(e[Qo]||""),t.a=e.refreshToken,ll(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function dl(t,e){this.a=t||null,this.b=e||null,Yi(this,{lastSignInTime:Wi(e||null),creationTime:Wi(t||null)})}function pl(t,e,n,i,r,s){Yi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:s||null,providerId:e})}function fl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=i.default.SDK_VERSION?Di(i.default.SDK_VERSION):null;this.a=new $o(this.l,x(P),r),(this.u=t.emulatorConfig||null)&&ea(this.a,this.u),this.h=new ul(this.a),Sl(this,e[Qo]),hl(this.h,e),Qi(this,"refreshToken",this.h.a),wl(this,n||{}),En.call(this),this.P=!1,this.s&&Mi()&&(this.b=Bu(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new al(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=E(this.ib,this);var s=this;this.za=null,this.Pa=function(t){s.xa(t.h)},this.qa=null,this.Ba=function(t){_l(s,t.c)},this.$=null,this.aa=[],this.Oa=function(t){vl(s,t.f)},this.ja=null,this.S=new sl(this,n),Qi(this,"multiFactor",this.S)}function _l(t,e){t.u=e,ea(t.a,e),t.b&&(e=t.b,t.b=Bu(t.s,t.l,t.m,t.u),t.P&&(Iu(e,t),Au(t.b,t)))}function gl(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&un(e,"languageCodeChanged",t.Pa)}function ml(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&un(e,"emulatorConfigChanged",t.Ba)}function vl(t,e){t.aa=e,ia(t.a,i.default.SDK_VERSION?Di(i.default.SDK_VERSION,t.aa):null)}function yl(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&un(e,"frameworkChanged",t.Oa)}function bl(t){try{return i.default.app(t.m).auth()}catch(e){throw new w("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function El(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),un(t,"tokenChanged",t.ba))}function Ol(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function Sl(t,e){t.Aa=e,Qi(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ie(e).then(function(){return t})}function Tl(t){t.b&&!t.P&&(t.P=!0,Au(t.b,t))}function wl(t,e){Yi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new dl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Dl(){}function Pl(t){return De().then(function(){if(t.J)throw new w("app-deleted")})}function Al(t){return z(t.providerData,function(t){return t.providerId})}function Il(t,e){e&&(Ml(t,e.providerId),t.providerData.push(e))}function Ml(t,e){Y(t.providerData,function(t){return t.providerId==e})}function xl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qi(t,e,n)}function Rl(t,e){t!=e&&(Yi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Qi(t,"metadata",e.metadata?function(t){return new dl(t.a,t.b)}(e.metadata):new dl),G(e.providerData,function(e){Il(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Qi(t,"refreshToken",t.h.a),ol(t.S,e.S.b))}function kl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Ja(t.a,Ia,{idToken:e}).then(E(t.Kc,t))}(t,e).then(function(){return n||xl(t,"isAnonymous",!1),e})})}function Ll(t,e){e[Qo]&&t.Aa!=e[Qo]&&(hl(t.h,e),t.dispatchEvent(new rl("tokenChanged")),Sl(t,e[Qo]),xl(t,"refreshToken",t.h.a))}function jl(t,e){return kl(t).then(function(){if(H(Al(t),e))return Cl(t).then(function(){throw new w("provider-already-linked")})})}function Nl(t,e,n){return Xi({user:t,credential:js(e),additionalUserInfo:e=Hr(e),operationType:n})}function Ul(t,e){return Ll(t,e),t.reload().then(function(){return t})}function Bl(t,e,n,r,s){if(!Mi())return Pe(new w("operation-not-supported-in-this-environment"));if(t.i&&!s)return Pe(t.i);var o=$r(n.providerId),a=Ui(t.uid+":::"),c=null;(!ki()||bi())&&t.s&&n.isOAuthProvider&&(c=fc(t.s,t.l,t.m,e,n,null,a,i.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=_i(c,o&&o.va,o&&o.ua);return r=r().then(function(){if(ql(t),!s)return t.I().then(function(){})}).then(function(){return Ru(t.b,u,e,n,a,!!c,t.tenantId)}).then(function(){return new be(function(n,i){t.na(e,null,new w("cancelled-popup-request"),t.g||null),t.f=n,t.C=i,t.g=a,t.c=ju(t.b,t,e,u,a)})}).then(function(t){return u&&fi(u),t?Xi(t):null}).o(function(t){throw u&&fi(u),t}),Vl(t,r,s)}function Fl(t,e,n,i,r){if(!Mi())return Pe(new w("operation-not-supported-in-this-environment"));if(t.i&&!r)return Pe(t.i);var s=null,o=Ui(t.uid+":::");return i=i().then(function(){if(ql(t),!r)return t.I().then(function(){})}).then(function(){return t.ga=o,Cl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Kl,t.w(),e.a)),e}).then(function(){return Lu(t.b,e,n,o,t.tenantId)}).o(function(e){if(s=e,t.ha)return zl(t.ha);throw s}).then(function(){if(s)throw s}),Vl(t,i,r)}function ql(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new w("internal-error");throw new w("auth-domain-config-required")}}function Vl(t,e,n){var i=function(t,e,n){return t.i&&!n?(e.cancel(),Pe(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new rl("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(i),i.oa(function(){Q(t.N,i)}),i.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),bl(t),E(t.jc,t))),n||e})}function Wl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new fl(e,n,t);return t.providerData&&G(t.providerData,function(t){t&&Il(r,Xi(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Gl(t){this.a=t,this.b=Xc()}Yu.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=_t(e.f);return delete n[Xu],delete n[Zu],mt(n,t),e.g(n)})},C(Ju,w),el.prototype.tb=function(t,e,n){return e.type==ss?function(t,e,n,i){return n.Ha().then(function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),mt(n,{phoneVerificationInfo:Rs(t.a)}),Ja(e,Pa,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Rs(t.a)}),Ja(e,Aa,n)})}(this,t,e)},C(nl,el),C(il,nl),C(rl,Ye),(t=sl.prototype).yc=function(t){ol(this,function(t){var e=[];return G(t.mfaInfo||[],function(t){(t=tr(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new rs(t,null)})},t.fc=function(t,e){var n=this,i=this.a.a;return this.Sb().then(function(n){return t.tb(i,n,e)}).then(function(t){return Ll(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then(function(t){return Ja(i,Za,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var i=K(e.b,function(t){return t.uid!=n});return ol(e,i),Ll(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,function(t){return t.w()})}}},al.prototype.start=function(){this.a=this.c,cl(this,!0)},al.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ul.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ul.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Pe(new w("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new be(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ra(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?i(ec(t)):t.access_token&&t.refresh_token?n(t):i(new w("internal-error")):i(new w("network-request-failed"))},"POST",Xn(e).toString(),t.g,t.m.get()):i(new w("internal-error"))})}(t.f,e).then(function(e){return t.b=Vr(e.access_token),t.a=e.refresh_token,ll(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):De(null):De({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(fl,En),fl.prototype.xa=function(t){this.za=t,ta(this.a,t)},fl.prototype.la=function(){return this.za},fl.prototype.Ga=function(){return Z(this.aa)},fl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qi(fl.prototype,"providerId","firebase"),(t=fl.prototype).reload=function(){var t=this;return Vl(this,Pl(this).then(function(){return kl(t).then(function(){return Cl(t)}).then(Dl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Qu(t)})},t.I=function(t){var e=this;return Vl(this,Pl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new w("internal-error");return t.accessToken!=e.Aa&&(Sl(e,t.accessToken),e.dispatchEvent(new rl("tokenChanged"))),xl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new w("internal-error");wl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Il(this,e[n]);xl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new rl("userReloaded",{hd:t}))},t.Lc=function(t){return $i("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Vl(this,t.c(this.a,this.uid).then(function(t){return Ll(e,t),n=Nl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return $i("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Vl(this,jl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Nl(e,t,"link"),Ul(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Vl(this,jl(this,"phone").then(function(){return Hu(bl(n),t,e,E(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Vl(this,De().then(function(){return Hu(bl(n),t,e,E(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Vl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.ed=function(t){var e=this;return Vl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ll(e,t),e.reload()}))},t.Db=function(t){var e=this;return Vl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return Vl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ll(e,t),xl(e,"displayName",t.displayName||null),xl(e,"photoURL",t.photoUrl||null),G(e.providerData,function(t){"password"===t.providerId&&(Qi(t,"displayName",e.displayName),Qi(t,"photoURL",e.photoURL))}),Cl(e)}).then(Dl))},t.cd=function(t){var e=this;return Vl(this,kl(this).then(function(n){return H(Al(e),t)?function(t,e,n){return Ja(t,Ta,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return G(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),G(Al(e),function(t){n[t]||Ml(e,t)}),n[ks.PROVIDER_ID]||Qi(e,"phoneNumber",null),Cl(e)}):Cl(e).then(function(){throw new w("no-such-provider")})}))},t.delete=function(){var t=this;return Vl(this,this.I().then(function(e){return Ja(t.a,Ca,{idToken:e})}).then(function(){t.dispatchEvent(new rl("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");gl(t,null),ml(t,null),yl(t,null),t.N=[],t.J=!0,Ol(t),Qi(t,"refreshToken",null),t.b&&Iu(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Mb,this):null},t.Ec=function(t){var e=this;return Bl(this,"linkViaPopup",t,function(){return jl(e,t.providerId).then(function(){return Cl(e)})},!1)},t.Nc=function(t){return Bl(this,"reauthViaPopup",t,function(){return De()},!0)},t.Fc=function(t){var e=this;return Fl(this,"linkViaRedirect",t,function(){return jl(e,t.providerId)},!1)},t.Oc=function(t){return Fl(this,"reauthViaRedirect",t,function(){return De()},!0)},t.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return Vl(this,this.I().then(function(n){return ma(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})}).then(function(t){return s=Nl(r,t,"link"),Ul(r,t)}).then(function(){return s}))},t.Mb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return Vl(this,De().then(function(){return cs(va(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return s=Nl(r,t,"reauthenticate"),Ll(r,t),r.i=null,r.reload()}).then(function(){return s}),!0)},t.vb=function(t){var e=this,n=null;return Vl(this,this.I().then(function(e){return n=e,void 0===t||ft(t)?{}:Br(new Ar(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,i=null;return Vl(this,this.I().then(function(t){return i=t,void 0===e||ft(e)?{}:Br(new Ar(e))}).then(function(e){return n.a.Fb(i,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Vl(this,t=cs(De(t),n.uid).then(function(t){return e=Nl(n,t,"reauthenticate"),Ll(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),G(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),mt(t,this.S.w()),t};var Kl={name:"redirectUser",F:"session"};function zl(t){return tu(t.b,Kl,t.a)}function $l(t){this.a=t,this.b=Xc(),this.c=null,this.f=function(t){var e=Yl("local"),n=Yl("session"),i=Yl("none");return function(t,e,n){var i=Jc(e,n),r=Zc(t,e.F);return t.get(e,n).then(function(s){var o=null;try{o=Ni(a.localStorage.getItem(i))}catch(c){}if(o&&!s)return a.localStorage.removeItem(i),t.set(e,o,n);o&&s&&"localStorage"!=r.type&&a.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Ql,t.a).then(function(t){return t?Yl(t):e})})})}).then(function(e){return t.c=e,Hl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Yl("local"),this.a,E(this.g,this))}function Hl(t,e){var n,i=[];for(n in Qc)Qc[n]!==e&&i.push(tu(t.b,Yl(Qc[n]),t.a));return i.push(tu(t.b,Ql,t.a)),function(t){return new be(function(e,n){var i=t.length,r=[];if(i)for(var s=function(t,n){i--,r[t]=n,0==i&&e(r)},o=function(t){n(t)},a=0;a<t.length;a++)Ae(t[a],O(s,a),o);else e(r)})}(i)}$l.prototype.g=function(){var t=this,e=Yl("local");th(this,function(){return De().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Hl(t,"local").then(function(){t.c=e})})})};var Ql={name:"persistence",F:"session"};function Yl(t){return{name:"authUser",F:t}}function Xl(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Zl(t){return th(t,function(){return tu(t.b,t.c,t.a)})}function Jl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Wl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Qi(this,"settings",new zu),Qi(this,"app",t),!uh(this).options||!uh(this).options.apiKey)throw new w("invalid-api-key");t=i.default.SDK_VERSION?Di(i.default.SDK_VERSION):null,this.a=new $o(uh(this).options&&uh(this).options.apiKey,x(P),t),this.P=[],this.s=[],this.N=[],this.Pa=i.default.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=i.default.INTERNAL.createSubscribe(E(this.Ac,this)),ah(this,null),this.i=new $l(uh(this).options.apiKey+":"+uh(this).name),this.D=new Gl(uh(this).options.apiKey+":"+uh(this).name),this.$=ph(this,function(t){var e=uh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Kl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Wl(t||{})})}(t.D,uh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),zl(t.D)});return ph(t,e)}(t).then(function(){return Jl(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Xl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Zl(t.i)})):null}).then(function(e){ah(t,e||null)});return ph(t,n)}(this)),this.h=ph(this,function(t){return t.$.then(function(){return oh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Yl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=uh(t).options.authDomain,n=uh(t).options.apiKey;e&&Mi()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Bu(e,n,uh(t).name,t.R),Au(t.b,t),lh(t)&&Tl(lh(t)),t.m){Tl(t.m);var i=t.m;i.xa(t.la()),gl(i,t),vl(i=t.m,t.J),yl(i,t),_l(i=t.m,t.R),ml(i,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Bn(this.R.url);t=Xi({protocol:t.c,host:t.a,port:t.g,options:Xi({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function nh(t){Ye.call(this,"languageCodeChanged"),this.h=t}function ih(t){Ye.call(this,"emulatorConfigChanged"),this.c=t}function rh(t){Ye.call(this,"frameworkChanged"),this.f=t}function sh(t){return t.Oa||Pe(new w("auth-domain-config-required"))}function oh(t){if(!Mi())return Pe(new w("operation-not-supported-in-this-environment"));var e=sh(t).then(function(){return t.b.ra()}).then(function(t){return t?Xi(t):null});return ph(t,e)}function ah(t,e){lh(t)&&(function(t,e){Y(t.W,function(t){return t==e})}(lh(t),t.Ba),dn(lh(t),"tokenChanged",t.qa),dn(lh(t),"userDeleted",t.za),dn(lh(t),"userInvalidated",t.Aa),Ol(lh(t))),e&&(e.W.push(t.Ba),un(e,"tokenChanged",t.qa),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&El(e)),Qi(t,"currentUser",e),e&&(e.xa(t.la()),gl(e,t),vl(e,t.J),yl(e,t),_l(e,t.R),ml(e,t))}function ch(t,e){var n=null,i=null;return ph(t,e.then(function(e){return n=js(e),i=Hr(e),function(t,e){var n={};return n.apiKey=uh(t).options.apiKey,n.authDomain=uh(t).options.authDomain,n.appName=uh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,i){var r=new fl(t,e);return n&&(r.ha=n),i&&vl(r,i),r.reload().then(function(){return r})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Rl(lh(t),e),t.da(e)):(ah(t,e),Tl(e),t.da(e))}).then(function(){dh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),t,E(t.kc,t))),n||e}).then(function(){return Xi({user:lh(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function uh(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function dh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](hh(t))}}function ph(t,e){return t.P.push(e),e.oa(function(){Q(t.P,e)}),e}function fh(){}function _h(){this.a={},this.b=1e12}$l.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new w("invalid-persistence-type"),n=new w("unsupported-persistence-type");t:{for(i in Qc)if(Qc[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(Oi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Pc()&&"none"!==t)throw n;break;default:if(!Ii()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(i){return e=i,Hl(n,t)}).then(function(){if(n.c=Yl(t),e)return n.b.set(n.c,e,n.a)}):De()})},C(eh,En),C(nh,Ye),C(ih,Ye),C(rh,Ye),(t=eh.prototype).yb=function(t){return ph(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ta(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new w("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&vi().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ea(this.a,this.R),this.dispatchEvent(new ih(this.R))}},t.Gc=function(t){this.J.push(t),ia(this.a,i.default.SDK_VERSION?Di(i.default.SDK_VERSION,this.J):null),this.dispatchEvent(new rh(this.J))},t.Ga=function(){return Z(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:uh(this).options.apiKey,authDomain:uh(this).options.authDomain,appName:uh(this).name,currentUser:lh(this)&&lh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},t.ic=function(t,e,n,i){var r=this,s={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then(function(){return ch(r,ga(r.a,s))})},t.Xc=function(t){if(!Mi())return Pe(new w("operation-not-supported-in-this-environment"));var e=this,n=$r(t.providerId),r=Ui(),s=null;(!ki()||bi())&&uh(this).options.authDomain&&t.isOAuthProvider&&(s=fc(uh(this).options.authDomain,uh(this).options.apiKey,uh(this).name,"signInViaPopup",t,null,r,i.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=_i(s,n&&n.va,n&&n.ua);return ph(this,n=sh(this).then(function(n){return Ru(n,o,"signInViaPopup",t,r,!!s,e.T())}).then(function(){return new be(function(t,n){e.na("signInViaPopup",null,new w("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=ju(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&fi(o),t?Xi(t):null}).o(function(t){throw o&&fi(o),t}))},t.Yc=function(t){if(!Mi())return Pe(new w("operation-not-supported-in-this-environment"));var e=this;return ph(this,sh(this).then(function(){return function(t){return th(t,function(){return t.b.set(Ql,t.c.F,t.a)})}(e.i)}).then(function(){return Lu(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return oh(this).then(function(e){return t.b&&Vu(t.b.b),e}).o(function(e){throw t.b&&Vu(t.b.b),e})},t.dd=function(t){if(!t)return Pe(new w("null-user"));if(this.S!=t.tenantId)return Pe(new w("tenant-id-mismatch"));var e=this,n={};n.apiKey=uh(this).options.apiKey,n.authDomain=uh(this).options.authDomain,n.appName=uh(this).name;var i=function(t,e,n,i){var r=t.h,s={};return s[Qo]=r.b&&r.b.toString(),s.refreshToken=r.a,e=new fl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},s),n&&(e.ha=n),i&&vl(e,i),Rl(e,t),e}(t,n,e.D,e.Ga());return ph(this,this.h.then(function(){if(uh(e).options.apiKey!=t.l)return i.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Rl(lh(e),t),e.da(t)):(ah(e,i),Tl(i),e.da(i))}).then(function(){dh(e)}))},t.Bb=function(){var t=this;return ph(this,this.h.then(function(){return t.b&&Vu(t.b.b),lh(t)?(ah(t,null),Zl(t.i).then(function(){dh(t)})):De()}))},t.Zc=function(){var t=this;return Jl(this.i,uh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return Rl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Tl(e),e.ha=t.D),t.b&&Au(t.b,t),dh(t))}})},t.da=function(t){return Xl(this.i,t)},t.mc=function(){dh(this),this.da(lh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return ch(e,De(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ph(t,t.h.then(function(){!t.l&&H(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){i.W=i.getUid(),"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return ph(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ch(e,Ja(e.a,$a,{token:t}))}).then(function(t){var n=t.user;return xl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ch(n,Ja(n.a,Ha,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,Ja(n.a,Oa,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return ch(e,t.ka(e.a))})},t.Sc=function(t){return $i("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Xi({providerId:null,isNewUser:!1});return Xi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.Ab()).then(function(e){var n=e.user;return xl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&El(lh(this))},t.Pc=function(t){var e=this;G(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Ol(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ph(this,this.h.then(function(){e.l||H(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){Y(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Yl("local"),t.a,this.ja),this.b&&(Iu(this.b,this),Vu(this.b.b)),Promise.resolve()},t.hc=function(t){return ph(this,function(t,e){return Ja(t,Sa,{identifier:e,continueUri:xi()?li():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Is(t)},t.xb=function(t,e){var n=this;return ph(this,De().then(function(){var t=new Ar(e);if(!t.c)throw new w("argument-error",xr+" must be true when sending sign in link to email");return Br(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return ph(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return ph(this,this.a.Sa(t).then(function(t){return new or(t)}))},t.kb=function(t){return ph(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return ph(this,De().then(function(){return void 0===e||ft(e)?{}:Br(new Ar(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return ph(this,Hu(this,t,e,E(this.ab,this)))},t.Vc=function(t,e){var n=this;return ph(this,De().then(function(){var i=e||li(),r=As(t,i);if(!(i=Is(i)))throw new w("argument-error","Invalid email link!");if(i.tenantId!==n.T())throw new w("tenant-id-mismatch");return n.ab(r)}))},fh.prototype.render=function(){},fh.prototype.reset=function(){},fh.prototype.getResponse=function(){},fh.prototype.execute=function(){};var gh=null;function mh(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t=void 0===t?1e12:t)?t.toString():null}function yh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function bh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Eh(){}function Oh(){}_h.prototype.render=function(t,e){return this.a[this.b.toString()]=new yh(t,e),this.b++},_h.prototype.reset=function(t){var e=mh(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},_h.prototype.getResponse=function(t){return(t=mh(this,t))?t.getResponse():null},_h.prototype.execute=function(t){(t=mh(this,t))&&t.execute()},yh.prototype.getResponse=function(){return bh(this),this.b},yh.prototype.execute=function(){bh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()},6e4)},500))},yh.prototype.delete=function(){bh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qi(Eh,"FACTOR_ID","phone"),Oh.prototype.g=function(){return gh||(gh=new _h),De(gh)},Oh.prototype.c=function(){};var Sh=null;function Ch(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Th=new yt(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),wh=new qi(3e4,6e4);Ch.prototype.g=function(t){var e=this;return new be(function(n,i){var r=setTimeout(function(){i(new w("network-request-failed"))},wh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var s=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=s(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new w("internal-error"));delete a[e.a]},De(Fo(Dt(Th,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(r),i(new w("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),n(a.grecaptcha))})},Ch.prototype.c=function(){this.b--};var Dh=null;function Ph(t,e,n,i,r,s,o){if(Qi(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,o?(Sh||(Sh=new Oh),o=Sh):(Dh||(Dh=new Ch),o=Dh),this.m=o,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Mh])throw new w("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xh],!a.document)throw new w("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new w("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $o(t,s||null,r||null),this.u=i||function(){return null};var c=this;this.l=[];var u=this.a[Ah];this.a[Ah]=function(t){if(Rh(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Ai(u,a);"function"==typeof e&&e(t)}};var l=this.a[Ih];this.a[Ih]=function(){if(Rh(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ai(l,a);"function"==typeof t&&t()}}}var Ah="callback",Ih="expired-callback",Mh="sitekey",xh="size";function Rh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function kh(t,e){return t.h.push(e),e.oa(function(){Q(t.h,e)}),e}function Lh(t){if(t.J)throw new w("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(t,e,n){var r=!1;try{this.b=n||i.default.app()}catch(a){throw new w("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new w("invalid-api-key");n=this.b.options.apiKey;var s=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=i.default.SDK_VERSION?Di(i.default.SDK_VERSION,o):null,Ph.call(this,n,t,e,function(){try{var t=s.b.auth().la()}catch(e){t=null}return t},o,x(P),r)}function Nh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,s=!1,o=0;o<e.length;o++)if(e[o].optional)s=!0;else{if(s)throw new w("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(s=e.length,n.length<r||s<n.length)i="Expected "+(r==s?1==r?"1 argument":r+" arguments":r+"-"+s+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(s=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!s){if(e=e[r],0>r||r>=Uh.length)throw new w("internal-error","Argument validator received an unsupported number of arguments.");n=Uh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new w("argument-error",t+" failed: "+i)}(t=Ph.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=kh(this,De().then(function(){if(xi()&&!Ei())return vi();throw new w("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Ja(t.s,ja,{})}).then(function(e){t.a[Mh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Lh(this);var t=this;return kh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=function(t,e,n){var i=arguments,r=document,s=String(i[0]),o=i[1];if(!ae&&o&&(o.name||o.type)){if(s=["<",s],o.name&&s.push(' name="',Gt(o.name),'"'),o.type){s.push(' type="',Gt(o.type),'"');var a={};mt(a,o),delete a.type,o=a}s.push(">"),s=s.join("")}return s=fe(r,s),o&&("string"==typeof o?s.className=o:Array.isArray(o)?s.className=o.join(" "):ue(s,o)),2<i.length&&pe(r,s,i),s}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Lh(this);var t=this;return kh(this,this.render().then(function(e){return new be(function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){Y(t.l,function(t){return t==e})}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Lh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Lh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},C(jh,Ph);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Fh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:_}}function Vh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Gh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Kh(t,e){return _(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function zh(t){return _(t)&&"string"==typeof t.uid}function $h(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function Hh(t,e){for(var n in e){var i=e[n].name;t[i]=Xh(i,t[n],e[n].j)}}function Qh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:O(function(t){return this[t]},n),set:O(function(t,e,n,i){Nh(t,[n],[i],!0),this[e]=i},i,n,e[n].lb),enumerable:!0})}}function Yh(t,e,n,i){t[e]=Xh(e,n,i)}function Xh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Nh(s,n,t),e.apply(this,t)}if(!n)return e;var r,s=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Hh(eh.prototype,{kb:{name:"applyActionCode",j:[Bh("code")]},Sa:{name:"checkActionCode",j:[Bh("code")]},ob:{name:"confirmPasswordReset",j:[Bh("code"),Bh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bh("email"),Bh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Bh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Bh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(qh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(qh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Bh("email"),$h(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Bh("email"),qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Bh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Gh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Gh()]},Tc:{name:"signInWithCustomToken",j:[Bh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Vc:{name:"signInWithEmailLink",j:[Bh("email"),Bh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof fl)}},Wh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Bh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Bh("code")]}}),Qh(eh.prototype,{lc:{name:"languageCode",lb:$h(Bh(),Wh(),"languageCode")},ti:{name:"tenantId",lb:$h(Bh(),Wh(),"tenantId")}}),(eh.Persistence=Qc).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Hh(fl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Gh()]},rb:{name:"linkWithCredential",j:[Gh()]},Dc:{name:"linkWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gh()]},ub:{name:"reauthenticateWithCredential",j:[Gh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$h(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},cd:{name:"unlink",j:[Bh("provider")]},Cb:{name:"updateEmail",j:[Bh("email")]},Db:{name:"updatePassword",j:[Bh("password")]},ed:{name:"updatePhoneNumber",j:[Gh("phone")]},Eb:{name:"updateProfile",j:[qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Bh("email"),$h(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),Hh(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Hh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Hh(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qh(zu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Fh("appVerificationDisabledForTesting")}}),Hh($u.prototype,{confirm:{name:"confirm",j:[Bh("verificationCode")]}}),Yh(as,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fs,Ds,xs,hs],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[$h(Bh(),qh(),"json")]),Yh(Ps,"credential",function(t,e){return new ws(t,e)},[Bh("email"),Bh("password")]),Hh(ws.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Hh(vs.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(vs,"credential",ys,[$h(Bh(),qh(),"token")]),Yh(Ps,"credentialWithLink",As,[Bh("email"),Bh("emailLink")]),Hh(bs.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(bs,"credential",Es,[$h(Bh(),qh(),"token")]),Hh(Os.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(Os,"credential",Ss,[$h(Bh(),$h(qh(),Wh()),"idToken"),$h(Bh(),Wh(),"accessToken",!0)]),Hh(Cs.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(Cs,"credential",Ts,[$h(Bh(),qh(),"token"),Bh("secret",!0)]),Hh(ms.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},credential:{name:"credential",j:[$h(Bh(),$h(qh(),Wh()),"optionsOrIdToken"),$h(Bh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Hh(ds.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Hh(us.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(ks,"credential",Ls,[Bh("verificationId"),Bh("verificationCode")]),Hh(ks.prototype,{gb:{name:"verifyPhoneNumber",j:[$h(Bh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Kh(t.session,ss)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Kh(t.session,os)&&zh(t.multiFactorHint):t.session&&t.multiFactorUid?Kh(t.session,os)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Hh(Ms.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Hh(w.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Hh(Gs.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Hh(Ws.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Hh(Ju.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Hh(Yu.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Hh(sl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Bh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zh},Bh(),"multiFactorInfoIdentifier")]}}),Hh(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yh(br,"parseLink",Pr,[Bh("link")]),Yh(Eh,"assertion",function(t){return new il(t)},[Gh("phone")]),function(){if(void 0===i.default||!i.default.INTERNAL||!i.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ar,VERIFY_AND_CHANGE_EMAIL:ur,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:as,Error:w};Yh(t,"EmailAuthProvider",Ps,[]),Yh(t,"FacebookAuthProvider",vs,[]),Yh(t,"GithubAuthProvider",bs,[]),Yh(t,"GoogleAuthProvider",Os,[]),Yh(t,"TwitterAuthProvider",Cs,[]),Yh(t,"OAuthProvider",ms,[Bh("providerId")]),Yh(t,"SAMLAuthProvider",gs,[Bh("providerId")]),Yh(t,"PhoneAuthProvider",ks,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),Yh(t,"RecaptchaVerifier",jh,[$h(Bh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.default.app.App)}}]),Yh(t,"ActionCodeURL",br,[]),Yh(t,"PhoneMultiFactorGenerator",Eh,[]),i.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),i.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.default.registerVersion("@firebase/auth","0.16.8"),i.default.INTERNAL.extendNamespace({User:fl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("7Hc7"),s=n("Y7HM");class o extends i.a{constructor(t,e=0,n=r.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.a)}static create(t,e=0,n=r.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},"tk/3":function(t,e,n){"use strict";n.d(e,"a",function(){return P}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return q}),n.d(e,"d",function(){return C}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return _}),n.d(e,"g",function(){return S});var i=n("fXoL"),r=n("LRne"),s=n("HDdC"),o=n("bOdf"),a=n("pLZG"),c=n("lJxs"),u=n("ofXK");class l{}class h{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class p{encodeKey(t){return f(t)}encodeValue(t){return f(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function f(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class _{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new _({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function g(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function m(t){return"undefined"!=typeof Blob&&t instanceof Blob}function v(t){return"undefined"!=typeof FormData&&t instanceof FormData}class y{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new d),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new _,this.urlWithParams=e}serializeBody(){return null===this.body?null:g(this.body)||m(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof _?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v(this.body)?null:m(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new y(e,n,r,{params:c,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var b=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class E{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class O extends E{constructor(t={}){super(t),this.type=b.ResponseHeader}clone(t={}){return new O({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class S extends E{constructor(t={}){super(t),this.type=b.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new S({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C extends E{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function T(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let w=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof y)i=t;else{let r,s;r=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(s=n.params instanceof _?n.params:new _({fromObject:n.params})),i=new y(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=Object(r.a)(i).pipe(Object(o.a)(t=>this.handler.handle(t)));if(t instanceof y||"events"===n.observe)return s;const u=s.pipe(Object(a.a)(t=>t instanceof S));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(c.a)(t=>t.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new _).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,T(n,e))}post(t,e,n={}){return this.request("POST",t,T(n,e))}put(t,e,n={}){return this.request("PUT",t,T(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.cc(l))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();class D{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const P=new i.r("HTTP_INTERCEPTORS");let A=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const I=/^\)\]\}',?\n/;class M{}let x=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),R=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new s.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new d(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new O({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(I,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new S({body:c,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new C({error:c,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new C({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let c=!1;const u=i=>{c||(e.next(s()),c=!0);let r={type:b.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},l=t=>{let n={type:b.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",l)),n.send(i),e.next({type:b.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.cc(M))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const k=new i.r("XSRF_COOKIE_NAME"),L=new i.r("XSRF_HEADER_NAME");class j{}let N=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u.F)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.cc(u.c),i.cc(i.C),i.cc(k))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(j),i.cc(L))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),B=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(P,[]);this.chain=t.reduceRight((t,e)=>new D(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(h),i.cc(i.s))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:U,useClass:A}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:k,useValue:e.cookieName}:[],e.headerName?{provide:L,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({providers:[U,{provide:P,useExisting:U,multi:!0},{provide:j,useClass:N},{provide:k,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({providers:[w,{provide:l,useClass:B},R,{provide:h,useExisting:R},x,{provide:M,useExisting:x}],imports:[[F.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return Z}),n.d(e,"b",function(){return on}),n.d(e,"c",function(){return V}),n.d(e,"d",function(){return fe});var i=n("ofXK"),r=n("fXoL"),s=n("Cfvw"),o=n("LRne"),a=n("2Vo4"),c=n("itXk"),u=n("HDdC"),l=n("sVev"),h=n("GyhO"),d=n("NXyV"),p=n("EY2u"),f=n("EQ5u"),_=n("XNiG"),g=n("lJxs"),m=n("eIep"),v=n("IzEk"),y=n("JX91"),b=n("Kqap"),E=n("pLZG"),O=n("JIr8"),S=n("bOdf"),C=n("7o/Q"),T=n("4I5i");function w(t){return function(e){return 0===t?Object(p.b)():e.lift(new D(t))}}class D{constructor(t){if(this.total=t,this.total<0)throw new T.a}call(t,e){return e.subscribe(new P(t,this.total))}}class P extends C.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}var A=n("XDbj"),I=n("xbPD"),M=n("SpAZ"),x=n("SxV6"),R=n("5+tZ"),k=n("vkgz"),L=n("x+ZX"),j=n("nYR2");n("bHdf");class N{constructor(t,e){this.id=t,this.url=e}}class U extends N{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class B extends N{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class F extends N{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q extends N{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class V extends N{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W extends N{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G extends N{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K extends N{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z extends N{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ${constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class H{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Q{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function tt(t){return new J(t)}function et(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function nt(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function it(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!rt(t[r],e[r]))return!1;return!0}function rt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function st(t){return t.length>0?t[t.length-1]:null}function ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function at(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function ct(t,e,n){return n?function(t,e){return it(t,e)}(t.queryParams,e.queryParams)&&ut(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rt(t[n],e[n]))}(t.queryParams,e.queryParams)&&lt(t.root,e.root)}function ut(t,e){if(!_t(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!ut(t.children[n],e.children[n]))return!1}return!0}function lt(t,e){return ht(t,e,e.segments)}function ht(t,e,n){if(t.segments.length>n.length)return!!_t(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!_t(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!lt(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!_t(t.segments,i)&&!!t.children.primary&&ht(t.children.primary,e,r)}}class dt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tt(this.queryParams)),this._queryParamMap}toString(){return vt.serialize(this)}}class pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ot(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yt(this)}}class ft{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=tt(this.parameters)),this._parameterMap}toString(){return wt(this)}}function _t(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class gt{}class mt{parse(t){const e=new Mt(t);return new dt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${bt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ot(e)}=${Ot(t)}`).join("&"):`${Ot(e)}=${Ot(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const vt=new mt;function yt(t){return t.segments.map(t=>wt(t)).join("/")}function bt(t,e){if(!t.hasChildren())return yt(t);if(e){const e=t.children.primary?bt(t.children.primary,!1):"",n=[];return ot(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${bt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ot(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),ot(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>"primary"===n?[bt(t.children.primary,!1)]:[`${n}:${bt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${yt(t)}/${e[0]}`:`${yt(t)}/(${e.join("//")})`}}function Et(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ot(t){return Et(t).replace(/%3B/gi,";")}function St(t){return Et(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ct(t){return decodeURIComponent(t)}function Tt(t){return Ct(t.replace(/\+/g,"%20"))}function wt(t){return`${St(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${St(t)}=${St(e[t])}`).join("")}`;var e}const Dt=/^[^\/()?;=#]+/;function Pt(t){const e=t.match(Dt);return e?e[0]:""}const At=/^[^=?&#]+/,It=/^[^?&#]+/;class Mt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new pt(t,e)),n}parseSegment(){const t=Pt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ft(Ct(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Pt(this.remaining);t&&(n=t,this.capture(n))}t[Ct(e)]=Ct(n)}parseQueryParam(t){const e=function(t){const e=t.match(At);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(It);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Tt(e),r=Tt(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Pt(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new pt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Rt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Rt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return kt(t,this._root).map(t=>t.value)}}function Rt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Rt(t,n);if(e)return e}return null}function kt(t,e){if(t===e.value)return[e];for(const n of e.children){const i=kt(t,n);if(i.length)return i.unshift(e),i}return[]}class Lt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Nt extends xt{constructor(t,e){super(t),this.snapshot=e,Wt(this,t)}toString(){return this.snapshot.toString()}}function Ut(t,e){const n=function(t,e){const n=new qt([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Vt("",new Lt(n,[]))}(t,e),i=new a.a([new ft("",{})]),r=new a.a({}),s=new a.a({}),o=new a.a({}),c=new a.a(""),u=new Bt(i,r,o,c,s,"primary",e,n.root);return u.snapshot=n.root,new Nt(new Lt(u,[]),n)}class Bt{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(g.a)(t=>tt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(g.a)(t=>tt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ft(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class qt{constructor(t,e,n,i,r,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vt extends xt{constructor(t,e){super(e),this.url=t,Wt(this,e)}toString(){return Gt(this._root)}}function Wt(t,e){e.value._routerState=t,e.children.forEach(e=>Wt(t,e))}function Gt(t){const e=t.children.length>0?` { ${t.children.map(Gt).join(", ")} } `:"";return`${t.value}${e}`}function Kt(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,it(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),it(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!it(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),it(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function zt(t,e){var n,i;return it(t.params,e.params)&&_t(n=t.url,i=e.url)&&n.every((t,e)=>it(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||zt(t.parent,e.parent))}function $t(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return $t(t,e,i);return $t(t,e)})}(t,e,n);return new Lt(i,r)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Ht(e,t),t}}const n=new Bt(new a.a((i=e.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),r=e.children.map(e=>$t(t,e));return new Lt(n,r)}var i}function Ht(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ht(t.children[n],e.children[n])}function Qt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yt(t){return"object"==typeof t&&null!=t&&t.outlets}function Xt(t,e,n,i,r){let s={};return i&&ot(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new dt(n.root===t?e:Zt(n.root,t,e),s,r)}function Zt(t,e,n){const i={};return ot(t.children,(t,r)=>{i[r]=t===e?n:Zt(t,e,n)}),new pt(t.segments,i)}class Jt{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Qt(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Yt);if(i&&i!==st(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class te{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ee(t,e,n){if(t||(t=new pt([],{})),0===t.segments.length&&t.hasChildren())return ne(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(Yt(o))break;const a=`${o}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!oe(a,c,e))return s;i+=2}else{if(!oe(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new pt(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new pt(t.segments.slice(i.pathIndex),t.children),ne(e,0,r)}return i.match&&0===r.length?new pt(t.segments,{}):i.match&&!t.hasChildren()?ie(t,e,n):i.match?ne(t,0,r):ie(t,e,n)}function ne(t,e,n){if(0===n.length)return new pt(t.segments,{});{const i=function(t){return Yt(t[0])?t[0].outlets:{primary:t}}(n),r={};return ot(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=ee(t.children[i],e,n))}),ot(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new pt(t.segments,r)}}function ie(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(Yt(s)){const t=re(s.outlets);return new pt(i,t)}if(0===r&&Qt(n[0])){i.push(new ft(t.segments[e].path,se(n[0]))),r++;continue}const o=Yt(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Qt(a)?(i.push(new ft(o,se(a))),r+=2):(i.push(new ft(o,{})),r++)}return new pt(i,{})}function re(t){const e={};return ot(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ie(new pt([],{}),0,t))}),e}function se(t){const e={};return ot(t,(t,n)=>e[n]=`${t}`),e}function oe(t,e,n){return t==n.path&&it(e,n.parameters)}class ae{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kt(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=jt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),ot(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=jt(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=jt(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Z(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Y(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Kt(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ce(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ce(t){Kt(t.value),t.children.forEach(ce)}class ue{constructor(t,e){this.routes=t,this.module=e}}function le(t){return"function"==typeof t}function he(t){return t instanceof dt}const de=Symbol("INITIAL_VALUE");function pe(){return Object(m.a)(t=>Object(c.a)(t.map(t=>t.pipe(Object(v.a)(1),Object(y.a)(de)))).pipe(Object(b.a)((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==de)return t;if(i===de&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||he(i))return i}return t},t)},de),Object(E.a)(t=>t!==de),Object(g.a)(t=>he(t)?t:!0===t),Object(v.a)(1)))}let fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Rb(0,"router-outlet")},directives:function(){return[an]},encapsulation:2}),t})();function _e(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];ge(i,me(e,i))}}function ge(t,e){t.children&&_e(t.children,e)}function me(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ve(t){const e=t.children&&t.children.map(ve),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=fe),n}function ye(t){return t.outlet||"primary"}function be(t,e){const n=t.filter(t=>ye(t)===e);return n.push(...t.filter(t=>ye(t)!==e)),n}const Ee={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Oe(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ee):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||nt)(n,t,e);if(!r)return Object.assign({},Ee);const s={};ot(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Se(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ce(t,e,n)&&"primary"!==ye(n))}(t,n,i)){const r=new pt(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==ye(s)){const n=new pt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[ye(s)]=n}return r}(t,e,i,new pt(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ce(t,e,n))}(t,n,i)){const s=new pt(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(Ce(t,n,a)&&!r[ye(a)]){const n=new pt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[ye(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new pt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ce(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Te(t,e,n,i){return!!(ye(t)===i||"primary"!==i&&Ce(e,n,t))&&("**"===t.path||Oe(e,t,n).matched)}function we(t,e,n){return 0===e.length&&!t.children[n]}class De{constructor(t){this.segmentGroup=t||null}}class Pe{constructor(t){this.urlTree=t}}function Ae(t){return new u.a(e=>e.error(new De(t)))}function Ie(t){return new u.a(e=>e.error(new Pe(t)))}function Me(t){return new u.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class xe{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Se(this.urlTree.root,[],[],this.config).segmentGroup,e=new pt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(g.a)(t=>this.createUrlTree(Re(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(O.a)(t=>{if(t instanceof Pe)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof De)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(g.a)(e=>this.createUrlTree(Re(e),t.queryParams,t.fragment))).pipe(Object(O.a)(t=>{if(t instanceof De)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new pt([],{primary:t}):t;return new dt(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(g.a)(t=>new pt([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return Object(s.a)(i).pipe(Object(S.a)(i=>{const r=n.children[i],s=be(e,i);return this.expandSegmentGroup(t,s,r,i).pipe(Object(g.a)(t=>({segment:t,outlet:i})))}),Object(b.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Object(E.a)((e,n)=>t(e,n,i)):M.a,w(1),n?Object(I.a)(e):Object(A.a)(()=>new l.a))}())}expandSegment(t,e,n,i,r,a){return Object(s.a)(n).pipe(Object(S.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,a).pipe(Object(O.a)(t=>{if(t instanceof De)return Object(o.a)(null);throw t}))),Object(x.a)(t=>!!t),Object(O.a)((t,n)=>{if(t instanceof l.a||"EmptyError"===t.name){if(we(e,i,r))return Object(o.a)(new pt([],{}));throw new De(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Te(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Ae(e):Ae(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ie(r):this.lineralizeSegments(n,r).pipe(Object(R.a)(n=>{const r=new pt(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Oe(e,i,r);if(!o)return Ae(e);const l=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?Ie(l):this.lineralizeSegments(i,l).pipe(Object(R.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(o.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(g.a)(t=>(n._loadedConfig=t,new pt(i,{})))):Object(o.a)(new pt(i,{}));const{matched:s,consumedSegments:a,lastChild:c}=Oe(e,n,i);if(!s)return Ae(e);const u=i.slice(c);return this.getChildConfig(t,n,i).pipe(Object(R.a)(t=>{const i=t.module,s=t.routes,{segmentGroup:c,slicedSegments:l}=Se(e,a,u,s),h=new pt(c.segments,c.children);if(0===l.length&&h.hasChildren())return this.expandChildren(i,s,h).pipe(Object(g.a)(t=>new pt(a,t)));if(0===s.length&&0===l.length)return Object(o.a)(new pt(a,{}));const d=ye(n)===r;return this.expandSegment(i,h,s,l,d?"primary":r,!0).pipe(Object(g.a)(t=>new pt(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new ue(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(R.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(g.a)(t=>(e._loadedConfig=t,t))):function(t){return new u.a(e=>e.error(et(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new ue([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return Object(o.a)(!0);const r=i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&le(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!le(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return at(s)});return Object(o.a)(r).pipe(pe(),Object(k.a)(t=>{if(!he(t))return;const e=et(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(g.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(o.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Me(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new dt(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ot(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return ot(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new pt(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Re(t){const e={};for(const n of Object.keys(t.children)){const i=Re(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new pt(t.segments.concat(e.segments),e.children)}return t}(new pt(t.segments,e))}class ke{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Le{constructor(t,e){this.component=t,this.route=e}}function je(t,e,n){const i=t._root;return Ue(i,e?e._root:null,n,[i.value])}function Ne(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Ue(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=jt(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_t(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_t(t.url,e.url)||!it(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zt(t,e)||!it(t.queryParams,e.queryParams);case"paramsChange":default:return!zt(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ke(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Ue(t,e,s.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Le(a.outlet.component,o))}else o&&Be(e,a,r),r.canActivateChecks.push(new ke(i)),Ue(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),ot(s,(t,e)=>Be(t,n.getContext(e),r)),r}function Be(t,e,n){const i=jt(t),r=t.value;ot(i,(t,i)=>{Be(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Le(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Fe{}function qe(t){return new u.a(e=>e.error(t))}class Ve{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=Se(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new qt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Lt(n,e),r=new Vt(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=Ft(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=be(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=Ge(n);return i.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return we(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Te(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?st(n).parameters:{};r=new qt(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$e(t),ye(t),t.component,t,Ke(e),ze(e)+n.length,He(t))}else{const i=Oe(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new qt(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$e(t),ye(t),t.component,t,Ke(e),ze(e)+s.length,He(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Se(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Lt(r,t)]}if(0===a.length&&0===u.length)return[new Lt(r,[])];const l=ye(t)===i,h=this.processSegment(a,c,u,l?"primary":i);return null===h?null:[new Lt(r,h)]}}function We(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ge(t){const e=[],n=new Set;for(const i of t){if(!We(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=Ge(i.children);e.push(new Lt(i.value,t))}return e.filter(t=>!n.has(t))}function Ke(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ze(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function $e(t){return t.data||{}}function He(t){return t.resolve||{}}function Qe(t){return Object(m.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(g.a)(()=>e)):Object(o.a)(e)})}class Ye extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Xe=new r.r("ROUTES");class Ze{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(g.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ue((s=i.injector.get(Xe,void 0,r.q.Self|r.q.Optional),Array.prototype.concat.apply([],s)).map(ve),i);var s}),Object(O.a)(t=>{throw e._loader$=void 0,t}));return e._loader$=new f.a(n,()=>new _.a).pipe(Object(L.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):at(t()).pipe(Object(R.a)(t=>t instanceof r.w?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class Je{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tn,this.attachRef=null}}class tn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Je,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class en{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function nn(t){throw t}function rn(t,e,n){return e.parse("/")}function sn(t,e){return Object(o.a)(null)}let on=(()=>{class t{constructor(t,e,n,i,s,o,c,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new _.a,this.errorHandler=nn,this.malformedUriErrorHandler=rn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sn,afterPreactivation:sn},this.urlHandlingStrategy=new en,this.routeReuseStrategy=new Ye,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const l=s.get(r.A);this.isNgZoneEnabled=l instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new dt(new pt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ze(o,c,t=>this.triggerEvent(new $(t)),t=>this.triggerEvent(new H(t))),this.routerState=Ut(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(E.a)(t=>0!==t.id),Object(g.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(m.a)(t=>{let n=!1,i=!1;return Object(o.a)(t).pipe(Object(k.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(m.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(m.a)(t=>{const n=this.transitions.getValue();return e.next(new U(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?p.a:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,a=this.config,Object(m.a)(t=>function(t,e,n,i,r){return new xe(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,a).pipe(Object(g.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(k.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return Object(R.a)(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const a=new Ve(t,e,n,i,r,s).recognize();return null===a?qe(new Fe):Object(o.a)(a)}catch(a){return qe(a)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(Object(g.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(k.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new V(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:a}=t,c=new U(n,this.serializeUrl(i),r,s);e.next(c);const u=Ut(i,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:i,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),p.a}),Qe(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(k.a)(t=>{const e=new W(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(g.a)(t=>Object.assign(Object.assign({},t),{guards:je(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(R.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(s.a)(t).pipe(Object(R.a)(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(s=>{const o=Ne(s,e,r);let a;if(function(t){return t&&le(t.canDeactivate)}(o))a=at(o.canDeactivate(t,e,n,i));else{if(!le(o))throw new Error("Invalid CanDeactivate guard");a=at(o(t,e,n,i))}return a.pipe(Object(x.a)())});return Object(o.a)(a).pipe(pe())}(t.component,t.route,n,e,i)),Object(x.a)(t=>!0!==t,!0))}(c,i,r,t).pipe(Object(R.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(s.a)(e).pipe(Object(S.a)(e=>Object(h.a)(function(t,e){return null!==t&&e&&e(new Q(t)),Object(o.a)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new X(t)),Object(o.a)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(d.a)(()=>{const r=e.guards.map(r=>{const s=Ne(r,e.node,n);let o;if(function(t){return t&&le(t.canActivateChild)}(s))o=at(s.canActivateChild(i,t));else{if(!le(s))throw new Error("Invalid CanActivateChild guard");o=at(s(i,t))}return o.pipe(Object(x.a)())});return Object(o.a)(r).pipe(pe())}));return Object(o.a)(r).pipe(pe())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(o.a)(!0);const r=i.map(i=>Object(d.a)(()=>{const r=Ne(i,e,n);let s;if(function(t){return t&&le(t.canActivate)}(r))s=at(r.canActivate(e,t));else{if(!le(r))throw new Error("Invalid CanActivate guard");s=at(r(e,t))}return s.pipe(Object(x.a)())}));return Object(o.a)(r).pipe(pe())}(t,e.route,n))),Object(x.a)(t=>!0!==t,!0))}(i,a,t,e):Object(o.a)(n)),Object(g.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(k.a)(t=>{if(he(t.guardsResult)){const e=et(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new G(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(E.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new F(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Qe(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(k.a)(t=>{const e=new K(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(m.a)(t=>{let n=!1;return Object(o.a)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,Object(R.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(Object(S.a)(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(o.a)({});const a={};return Object(s.a)(r).pipe(Object(R.a)(r=>function(t,e,n,i){const r=Ne(t,e,i);return at(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(k.a)(t=>{a[r]=t}))),w(1),Object(R.a)(()=>Object.keys(a).length===r.length?Object(o.a)(a):p.a))}(t._resolve,t,e,i).pipe(Object(g.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ft(t,n).resolve),null)))}(t.route,e,i,r)),Object(k.a)(()=>a++),w(1),Object(R.a)(e=>a===n.length?Object(o.a)(t):p.a))})),Object(k.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new F(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Object(k.a)(t=>{const e=new z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Qe(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(g.a)(t=>{const e=function(t,e,n){const i=$t(t,e._root,n?n._root:void 0);return new Nt(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(k.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,a=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(g.a)(t=>(new ae(a,t.targetRouterState,t.currentRouterState,c).activate(r),t))),Object(k.a)({next(){n=!0},complete(){n=!0}}),Object(j.a)(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new F(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(O.a)(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=he(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new F(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new q(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return p.a}));var r,a,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_e(t),this.config=t.map(ve),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:r;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return Xt(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Jt(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return ot(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new Jt(n,e,i)}(n);if(s.toRoot())return Xt(e.root,new pt([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new te(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new te(t,t===e.root,0)}const i=Qt(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new te(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ne(o.segmentGroup,o.index,s.commands):ee(o.segmentGroup,o.index,s.commands);return Xt(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=he(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(he(t))return ct(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ct(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new B(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;r?(c=r.resolve,u=r.reject,l=r.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.O),r.cc(gt),r.cc(tn),r.cc(i.h),r.cc(r.s),r.cc(r.x),r.cc(r.i),r.cc(void 0))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),an=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new cn(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(tn),r.Qb(r.R),r.Qb(r.j),r.dc("name"),r.Qb(r.h))},t.\u0275dir=r.Lb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class cn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Bt?this.route:t===tn?this.childContexts:this.parent.get(t,e)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r.a,this._tapError=r.a,this._tapComplete=r.a,this._tapError=n||r.a,this._tapComplete=i||r.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r.a,this._tapError=e.error||r.a,this._tapComplete=e.complete||r.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("oB13"),r=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>Object(r.a)()(Object(i.a)(o)(t))}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new o(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},x7I3:function(t,e,n){"use strict";n.d(e,"a",function(){return ai}),n.d(e,"b",function(){return ui}),n.d(e,"c",function(){return ci}),n.d(e,"d",function(){return hi}),n.d(e,"e",function(){return li}),n.d(e,"f",function(){return di}),n.d(e,"g",function(){return pi}),n.d(e,"h",function(){return si}),n.d(e,"i",function(){return oi});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},c=o||self;function u(){}function l(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function f(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:_).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function v(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function y(){this.s=this.s,this.o=this.o}var b={};y.prototype.s=!1,y.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this);delete b[t]}},y.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},O=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var w,D=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var I=c.navigator;if(I){var M=I.userAgent;if(M){w=M;break t}}w=""}function x(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<k.length;s++)n=k[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function j(t){return j[" "](t),t}j[" "]=u;var N,U,B=P(w,"Opera"),F=P(w,"Trident")||P(w,"MSIE"),q=P(w,"Edge"),V=q||F,W=P(w,"Gecko")&&!(P(w.toLowerCase(),"webkit")&&!P(w,"Edge"))&&!(P(w,"Trident")||P(w,"MSIE"))&&!P(w,"Edge"),G=P(w.toLowerCase(),"webkit")&&!P(w,"Edge");function K(){var t=c.document;return t?t.documentMode:void 0}t:{var z="",$=(U=w,W?/rv:([^\);]+)(\)|;)/.exec(U):q?/Edge\/([\d\.]+)/.exec(U):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):G?/WebKit\/(\S+)/.exec(U):B?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if($&&(z=$?$[1]:""),F){var H=K();if(null!=H&&H>parseFloat(z)){N=String(H);break t}}N=z}var Q={};var Y=c.document&&F&&(K()||parseInt(N,10))||void 0,X=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",u,e),c.removeEventListener("test",u,e)}catch(n){}return t}();function Z(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function J(t,e){if(Z.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&J.Z.h.call(this)}}Z.prototype.h=function(){this.defaultPrevented=!0},v(J,Z);var tt={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),nt=0;function it(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++nt,this.ca=this.fa=!1}function rt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function st(t){this.src=t,this.g={},this.h=0}function ot(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=E(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(rt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function at(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==i)return r}return-1}st.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=at(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new it(e,this.src,s,!!i,r)).fa=n,t.push(e)),e};var ct="closure_lm_"+(1e6*Math.random()|0),ut={};function lt(t,e,n,i,r){if(i&&i.once)return dt(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lt(t,e[s],n,i,r);return null}return n=yt(n),t&&t[et]?t.N(e,n,h(i)?!!i.capture:!!i,r):ht(t,e,n,!1,i,r)}function ht(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=h(r)?!!r.capture:!!r,a=mt(t);if(a||(t[ct]=a=new st(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=gt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)X||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(_t(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function dt(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dt(t,e[s],n,i,r);return null}return n=yt(n),t&&t[et]?t.O(e,n,h(i)?!!i.capture:!!i,r):ht(t,e,n,!0,i,r)}function pt(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)pt(t,e[s],n,i,r);else i=h(i)?!!i.capture:!!i,n=yt(n),t&&t[et]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=at(s=t.g[e],n,i,r))&&(rt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=mt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=at(e,n,i,r)),(n=-1<t?e[t]:null)&&ft(n))}function ft(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[et])ot(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(_t(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=mt(e))?(ot(n,t),0==n.h&&(n.src=null,e[ct]=null)):rt(t)}}}function _t(t){return t in ut?ut[t]:ut[t]="on"+t}function gt(t,e){if(t.ca)t=!0;else{e=new J(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&ft(t),t=n.call(i,e)}return t}function mt(t){return(t=t[ct])instanceof st?t:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(t){return"function"==typeof t?t:(t[vt]||(t[vt]=function(e){return t.handleEvent(e)}),t[vt])}function bt(){y.call(this),this.i=new st(this),this.P=this,this.I=null}function Et(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new Z(e,t);else if(e instanceof Z)e.target=e.target||t;else{var r=e;L(e=new Z(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Ot(o,i,!0,e)&&r}if(r=Ot(o=e.g=t,i,!0,e)&&r,r=Ot(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=Ot(o=e.g=n[s],i,!1,e)&&r}function Ot(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&ot(t.i,o),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}v(bt,y),bt.prototype[et]=!0,bt.prototype.removeEventListener=function(t,e,n,i){pt(this,t,e,n,i)},bt.prototype.M=function(){if(bt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)rt(n[i]);delete e.g[t],e.h--}}this.I=null},bt.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},bt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var St=c.JSON.stringify;function Ct(){var t=xt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Tt,wt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Dt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Dt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Pt},function(t){return t.reset()}),Pt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function At(t){c.setTimeout(function(){throw t},0)}function It(t,e){Tt||function(){var t=c.Promise.resolve(void 0);Tt=function(){t.then(Rt)}}(),Mt||(Tt(),Mt=!0),xt.add(t,e)}var Mt=!1,xt=new wt;function Rt(){for(var t;t=Ct();){try{t.h.call(t.g)}catch(n){At(n)}var e=Dt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mt=!1}function kt(t,e){bt.call(this),this.h=t||1,this.g=e||c,this.j=g(this.kb,this),this.l=Date.now()}function Lt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function jt(t,e,n){if("function"==typeof t)n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function Nt(t){t.g=jt(function(){t.g=null,t.i&&(t.i=!1,Nt(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}v(kt,bt),(s=kt.prototype).da=!1,s.S=null,s.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Et(this,"tick"),this.da&&(Lt(this),this.start()))}},s.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},s.M=function(){kt.Z.M.call(this),Lt(this),delete this.g};var Ut=function(t){function e(e,n){var i=t.call(this)||this;return i.m=e,i.j=n,i.h=null,i.i=!1,i.g=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Nt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(y);function Bt(t){y.call(this),this.h=t,this.g={}}v(Bt,y);var Ft=[];function qt(t,e,n,i){Array.isArray(n)||(n&&(Ft[0]=n.toString()),n=Ft);for(var r=0;r<n.length;r++){var s=lt(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Vt(t){x(t.g,function(t,e){this.g.hasOwnProperty(e)&&ft(t)},t),t.g={}}function Wt(){this.g=!0}function Gt(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return St(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}Bt.prototype.M=function(){Bt.Z.M.call(this),Vt(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.Aa=function(){this.g=!1},Wt.prototype.info=function(){};var Kt={},zt=null;function $t(){return zt=zt||new bt}function Ht(t){Z.call(this,Kt.Ma,t)}function Qt(t){var e=$t();Et(e,new Ht(e,t))}function Yt(t,e){Z.call(this,Kt.STAT_EVENT,t),this.stat=e}function Xt(t){var e=$t();Et(e,new Yt(e,t))}function Zt(t,e){Z.call(this,Kt.Na,t),this.size=e}function Jt(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){t()},e)}Kt.Ma="serverreachability",v(Ht,Z),Kt.STAT_EVENT="statevent",v(Yt,Z),Kt.Na="timingevent",v(Zt,Z);var te={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ee={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ne(){}function ie(){}ne.prototype.h=null;var re,se={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function oe(){Z.call(this,"d")}function ae(){Z.call(this,"c")}function ce(){}function ue(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Bt(this),this.P=he,this.W=new kt(t=V?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}v(oe,Z),v(ae,Z),v(ce,ne),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},re=new ce;var he=45e3,de={},pe={};function fe(t,e,n){t.K=1,t.v=Ne(Me(e)),t.s=n,t.U=!0,_e(t,null)}function _e(t,e){t.F=Date.now(),ye(t),t.A=Me(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),Ye(n.h,"t",i),t.C=0,n=t.l.H,t.h=new le,t.g=Zn(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ut(g(t.Ia,t,t.g),t.O)),qt(t.V,t.g,"readystatechange",t.gb),e=t.H?R(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Qt(1),function(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function ge(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function me(t,e,n){for(var i,r=!0;!t.I&&t.C<n.length;){if((i=ve(t,n))==pe){4==e&&(t.o=4,Xt(14),r=!1),Gt(t.j,t.m,null,"[Incomplete Response]");break}if(i==de){t.o=4,Xt(15),Gt(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Gt(t.j,t.m,i,null),Ce(t,i)}ge(t)&&i!=pe&&i!=de&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(e),e.L=!0,Xt(11))):(Gt(t.j,t.m,n,"[Invalid Chunked Response]"),Se(t),Oe(t))}function ve(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?pe:(n=Number(e.substring(n,i)),isNaN(n)?de:(i+=1)+n>e.length?pe:(e=e.substr(i,n),t.C=i+n,e))}function ye(t){t.Y=Date.now()+t.P,be(t,t.P)}function be(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Jt(g(t.eb,t),e)}function Ee(t){t.B&&(c.clearTimeout(t.B),t.B=null)}function Oe(t){0==t.l.G||t.I||$n(t.l,t)}function Se(t){Ee(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Lt(t.W),Vt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ce(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||rn(n.i,t)))if(n.I=t.N,!t.J&&rn(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(s){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;zn(n),Ln(n)}Wn(n),Xt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=Jt(g(n.ab,n),6e3));if(1>=nn(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else Qn(n,11)}else if((t.J||n.g==t)&&zn(n),!T(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){var s=r[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=s[5];null!=c&&"number"==typeof c&&0<c&&(n.K=i=1.5*c,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var u=t.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=i.i;!h.g&&(P(l,"spdy")||P(l,"quic")||P(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(sn(h,h.h),h.h=null))}if(i.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(i.sa=d,je(i.F,i.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=t;if((i=n).oa=Xn(i,i.H?i.la:null,i.W),p.J){on(i.i,p);var f=p,_=i.K;_&&f.setTimeout(_),f.B&&(Ee(f),ye(f)),i.g=p}else Vn(i);0<n.l.length&&Un(n)}else"stop"!=s[0]&&"close"!=s[0]||Qn(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Qn(n,7):kn(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}Qt(4)}catch(s){}}function Te(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)O(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(l(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function we(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof we)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function De(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Pe(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)Pe(r,i=t.g[e])||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(s=ue.prototype).setTimeout=function(t){this.P=t},s.gb=function(t){t=t.target;var e=this.L;e&&3==An(t)?e.l():this.Ia(t)},s.Ia=function(t){try{if(t==this.g)t:{var e=An(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(3!=e||V||this.g&&(this.h.h||this.g.ga()||In(this.g)))){this.I||4!=e||7==n||Qt(8==n||0>=i?3:2),Ee(this);var r=this.g.ba();this.N=r;e:if(ge(this)){var s=In(this.g);t="";var o=s.length,a=4==An(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Se(this),Oe(this);var u="";break e}this.h.i=new c.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==r,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,e,r),this.i){if(this.$&&!this.J){e:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(l)){var d=l;break e}}d=null}if(!(r=d)){this.i=!1,this.o=3,Xt(12),Se(this),Oe(this);break t}Gt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ce(this,r)}this.U?(me(this,e,u),V&&this.i&&3==e&&(qt(this.V,this.W,"tick",this.fb),this.W.start())):(Gt(this.j,this.m,u,null),Ce(this,u)),4==e&&Se(this),this.i&&!this.I&&(4==e?$n(this.l,this):(this.i=!1,ye(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Xt(12)):(this.o=0,Xt(13)),Se(this),Oe(this)}}}catch(e){}},s.fb=function(){if(this.g){var t=An(this.g),e=this.g.ga();this.C<e.length&&(Ee(this),me(this,t,e),this.i&&4!=t&&ye(this))}},s.cancel=function(){this.I=!0,Se(this)},s.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qt(3),Xt(17)),Se(this),this.o=2,Oe(this)):be(this,this.Y-t)},(s=we.prototype).R=function(){De(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},s.T=function(){return De(this),this.g.concat()},s.get=function(t,e){return Pe(this.h,t)?this.h[t]:e},s.set=function(t,e){Pe(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},s.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ie(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ie){this.g=void 0!==e?e:t.g,xe(this,t.j),this.s=t.s,Re(this,t.i),ke(this,t.m),this.l=t.l,e=t.h;var n=new ze;n.i=e.i,e.g&&(n.g=new we(e.g),n.h=e.h),Le(this,n),this.o=t.o}else t&&(n=String(t).match(Ae))?(this.g=!!e,xe(this,n[1]||"",!0),this.s=Ue(n[2]||""),Re(this,n[3]||"",!0),ke(this,n[4]),this.l=Ue(n[5]||"",!0),Le(this,n[6]||"",!0),this.o=Ue(n[7]||"")):(this.g=!!e,this.h=new ze(null,this.g))}function Me(t){return new Ie(t)}function xe(t,e,n){t.j=n?Ue(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Re(t,e,n){t.i=n?Ue(e,!0):e}function ke(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Le(t,e,n){e instanceof ze?(t.h=e,function(t,e){e&&!t.j&&($e(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(He(this,e),Ye(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Be(e,Ge)),t.h=new ze(e,t.g))}function je(t,e,n){t.h.set(e,n)}function Ne(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ie.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Be(e,qe,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Be(e,qe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?We:Ve,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Be(n,Ke)),t.join("")};var qe=/[#\/\?@]/g,Ve=/[#\?:]/g,We=/[#\?]/g,Ge=/[#\?@]/g,Ke=/#/g;function ze(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $e(t){t.g||(t.g=new we,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function He(t,e){$e(t),e=Xe(t,e),Pe(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Pe((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&De(t)))}function Qe(t,e){return $e(t),e=Xe(t,e),Pe(t.g.h,e)}function Ye(t,e,n){He(t,e),0<n.length&&(t.i=null,t.g.set(Xe(t,e),C(n)),t.h+=n.length)}function Xe(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(s=ze.prototype).add=function(t,e){$e(this),this.i=null,t=Xe(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},s.forEach=function(t,e){$e(this),this.g.forEach(function(n,i){O(n,function(n){t.call(e,n,i,this)},this)},this)},s.T=function(){$e(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},s.R=function(t){$e(this);var e=[];if("string"==typeof t)Qe(this,t)&&(e=S(e,this.g.get(Xe(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},s.set=function(t,e){return $e(this),this.i=null,Qe(this,t=Xe(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},s.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},s.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.i=t.join("&")};var Ze=function(){return function(t,e){this.h=t,this.g=e}}();function Je(t){this.l=t||tn,t=c.PerformanceNavigationTiming?0<(t=c.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(c.g&&c.g.Ea&&c.g.Ea()&&c.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tn=10;function en(t){return!!t.h||!!t.g&&t.g.size>=t.j}function nn(t){return t.h?1:t.g?t.g.size:0}function rn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function sn(t,e){t.g?t.g.add(e):t.h=e}function on(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function an(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var i=t.i;try{for(var s=r(t.g.values()),o=s.next();!o.done;o=s.next())i=i.concat(o.value.D)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}return C(t.i)}function cn(){}function un(){this.g=new cn}function ln(t,e,n){var i=n||"";try{Te(t,function(t,n){var r=t;h(t)&&(r=St(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function hn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function dn(t){this.l=t.$b||null,this.j=t.ib||!1}function pn(t,e){bt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=fn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je.prototype.cancel=function(){var t,e;if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=r(this.g.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},cn.prototype.stringify=function(t){return c.JSON.stringify(t,void 0)},cn.prototype.parse=function(t){return c.JSON.parse(t,void 0)},v(dn,ne),dn.prototype.g=function(){return new pn(this.l,this.j)},dn.prototype.i=function(t){return function(){return t}}({}),v(pn,bt);var fn=0;function _n(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function gn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mn(t)}function mn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(s=pn.prototype).open=function(t,e){if(this.readyState!=fn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mn(this)},s.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||c).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},s.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gn(this)),this.readyState=fn},s.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==c.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_n(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},s.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gn(this):mn(this),3==this.readyState&&_n(this)}},s.Ua=function(t){this.g&&(this.response=this.responseText=t,gn(this))},s.Ta=function(t){this.g&&(this.response=t,gn(this))},s.ha=function(){this.g&&gn(this)},s.setRequestHeader=function(t,e){this.v.append(t,e)},s.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var vn=c.JSON.parse;function yn(t){bt.call(this),this.headers=new we,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bn,this.K=this.L=!1}v(yn,bt);var bn="",En=/^https?$/i,On=["POST","PUT"];function Sn(t){return"content-type"==t.toLowerCase()}function Cn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Tn(t),Dn(t)}function Tn(t){t.D||(t.D=!0,Et(t,"complete"),Et(t,"error"))}function wn(t){if(t.h&&void 0!==a&&(!t.C[1]||4!=An(t)||2!=t.ba()))if(t.v&&4==An(t))jt(t.Fa,0,t);else if(Et(t,"readystatechange"),4==An(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.H).match(Ae)[1]||null;if(!s&&c.self&&c.self.location){var o=c.self.location.protocol;s=o.substr(0,o.length-1)}r=!En.test(s?s.toLowerCase():"")}e=r}if(e)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var u=2<An(t)?t.g.statusText:""}catch(l){u=""}t.j=u+" ["+t.ba()+"]",Tn(t)}}finally{Dn(t)}}}function Dn(t,e){if(t.g){Pn(t);var n=t.g,i=t.C[0]?u:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function Pn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(c.clearTimeout(t.A),t.A=null)}function An(t){return t.g?t.g.readyState:0}function In(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case bn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return x(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function xn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rn(t){this.za=0,this.l=[],this.h=new Wt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xn("baseRetryDelayMs",5e3,t),this.$a=xn("retryDelaySeedMs",1e4,t),this.Ya=xn("forwardChannelMaxRetries",2,t),this.ra=xn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Je(t&&t.concurrentRequestLimit),this.Ca=new un,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function kn(t){if(jn(t),3==t.G){var e=t.V++,n=Me(t.F);je(n,"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),Fn(t,n),(e=new ue(t,t.h,e,void 0)).K=2,e.v=Ne(Me(n)),n=!1,c.navigator&&c.navigator.sendBeacon&&(n=c.navigator.sendBeacon(e.v.toString(),"")),!n&&c.Image&&((new Image).src=e.v,n=!0),n||(e.g=Zn(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ye(e)}Yn(t)}function Ln(t){t.g&&(Gn(t),t.g.cancel(),t.g=null)}function jn(t){Ln(t),t.u&&(c.clearTimeout(t.u),t.u=null),zn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&c.clearTimeout(t.m),t.m=null)}function Nn(t,e){t.l.push(new Ze(t.Za++,e)),3==t.G&&Un(t)}function Un(t){en(t.i)||t.m||(t.m=!0,It(t.Ha,t),t.C=0)}function Bn(t,e){var n;n=e?e.m:t.V++;var i=Me(t.F);je(i,"SID",t.J),je(i,"RID",n),je(i,"AID",t.U),Fn(t,i),t.o&&t.s&&Mn(i,t.o,t.s),n=new ue(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=qn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),sn(t.i,n),fe(n,i,e)}function Fn(t,e){t.j&&Te({},function(t,n){je(e,n,t)})}function qn(t,e,n){n=Math.min(t.l.length,n);var i=t.j?g(t.j.Oa,t.j,t):null;t:for(var r=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=r[0].h)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=r[c].h,l=r[c].g;if(0>(u-=s))s=Math.max(0,r[c].h-100),a=!1;else try{ln(l,o,"req"+u+"_")}catch(h){i&&i(l)}}if(a){i=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function Vn(t){t.g||t.u||(t.Y=1,It(t.Ga,t),t.A=0)}function Wn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Jt(g(t.Ga,t),Hn(t,t.A)),t.A++,0))}function Gn(t){null!=t.B&&(c.clearTimeout(t.B),t.B=null)}function Kn(t){t.g=new ue(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Me(t.oa);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.N?"0":"1"),je(e,"AID",t.U),Fn(t,e),je(e,"TYPE","xmlhttp"),t.o&&t.s&&Mn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ne(Me(e)),n.s=null,n.U=!0,_e(n,t)}function zn(t){null!=t.v&&(c.clearTimeout(t.v),t.v=null)}function $n(t,e){var n=null;if(t.g==e){zn(t),Gn(t),t.g=null;var i=2}else{if(!rn(t.i,e))return;n=e.D,on(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;Et(i=$t(),new Zt(i,n,e,r)),Un(t)}else Vn(t);else if(3==(r=e.o)||0==r&&0<t.I||!(1==i&&function(t,e){return!(nn(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Jt(g(t.Ha,t,e),Hn(t,t.C)),t.C++,0)))}(t,e)||2==i&&Wn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Qn(t,5);break;case 4:Qn(t,10);break;case 3:Qn(t,6);break;default:Qn(t,2)}}function Hn(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Qn(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=g(t.jb,t);n||(n=new Ie("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||xe(n,"https"),Ne(n)),function(t,e){var n=new Wt;if(c.Image){var i=new Image;i.onload=m(hn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=m(hn,n,i,"TestLoadImage: error",!1,e),i.onabort=m(hn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=m(hn,n,i,"TestLoadImage: timeout",!1,e),c.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else Xt(2);t.G=0,t.j&&t.j.va(e),Yn(t),jn(t)}function Yn(t){t.G=0,t.I=-1,t.j&&(0==an(t.i).length&&0==t.l.length||(t.i.i.length=0,C(t.l),t.l.length=0),t.j.ua())}function Xn(t,e,n){var i=function(t){return t instanceof Ie?Me(t):new Ie(t,void 0)}(n);if(""!=i.i)e&&Re(i,e+"."+i.i),ke(i,i.m);else{var r=c.location;i=function(t,e,n,i){var r=new Ie(null,void 0);return t&&xe(r,t),e&&Re(r,e),n&&ke(r,n),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&x(t.aa,function(t,e){je(i,e,t)}),n=t.sa,(e=t.D)&&n&&je(i,e,n),je(i,"VER",t.ma),Fn(t,i),i}function Zn(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yn(n&&t.Ba&&!t.qa?new dn({ib:!0}):t.qa)).L=t.H,e}function Jn(){}function ti(){if(F&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function ei(t,e){bt.call(this),this.g=new Rn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ri(this)}function ni(t){oe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ii(){ae.call(this),this.status=1}function ri(t){this.g=t}(s=yn.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():re.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:re),this.g.onreadystatechange=g(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Cn(this,s)}t=n||"";var r=new we(this.headers);i&&Te(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=Sn,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.T()),n=c.FormData&&t instanceof c.FormData,!(0<=E(On,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pn(this),0<this.B&&((this.K=function(t){return F&&function(){return t=Q,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=D(String(N)).split("."),n=D("9").split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++){var s=e[r]||"",o=n[r]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=A(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||A(0==s[2].length,0==o[2].length)||A(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=g(this.pa,this)):this.A=jt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Cn(this,s)}},s.pa=function(){void 0!==a&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))},s.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Dn(this))},s.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dn(this,!0)),yn.Z.M.call(this)},s.Fa=function(){this.s||(this.F||this.v||this.l?wn(this):this.cb())},s.cb=function(){wn(this)},s.ba=function(){try{return 2<An(this)?this.g.status:-1}catch(U){return-1}},s.ga=function(){try{return this.g?this.g.responseText:""}catch(U){return""}},s.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vn(e)}},s.Da=function(){return this.m},s.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(s=Rn.prototype).ma=8,s.G=1,s.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},s.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ue(this,this.h,t,void 0),n=this.s;if(this.P&&(n?L(n=R(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){var s=this.l[r];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(i+=s)){i=r;break t}if(4096===i||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=qn(this,e,i),je(r=Me(this.F),"RID",t),je(r,"CVER",22),this.D&&je(r,"X-HTTP-Session-Id",this.D),Fn(this,r),this.o&&n&&Mn(r,this.o,n),sn(this.i,e),this.Ra&&je(r,"TYPE","init"),this.ja?(je(r,"$req",i),je(r,"SID","null"),e.$=!0,fe(e,r,null)):fe(e,r,i),this.G=2}}else 3==this.G&&(t?Bn(this,t):0==this.l.length||en(this.i)||Bn(this))},s.Ga=function(){if(this.u=null,Kn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Jt(g(this.bb,this),t)}},s.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xt(10),Ln(this),Kn(this))},s.ab=function(){null!=this.v&&(this.v=null,Ln(this),Wn(this),Xt(19))},s.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Xt(2)):(this.h.info("Failed to ping google.com"),Xt(1))},(s=Jn.prototype).xa=function(){},s.wa=function(){},s.va=function(){},s.ua=function(){},s.Oa=function(){},ti.prototype.g=function(t,e){return new ei(t,e)},v(ei,bt),ei.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),It(g(t.hb,t,e))),Xt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Xn(t,null,t.W),Un(t)},ei.prototype.close=function(){kn(this.g)},ei.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Nn(this.g,e)}else this.v?((e={}).__data__=St(t),Nn(this.g,e)):Nn(this.g,t)},ei.prototype.M=function(){this.g.j=null,delete this.j,kn(this.g),delete this.g,ei.Z.M.call(this)},v(ni,oe),v(ii,ae),v(ri,Jn),ri.prototype.xa=function(){Et(this.g,"a")},ri.prototype.wa=function(t){Et(this.g,new ni(t))},ri.prototype.va=function(t){Et(this.g,new ii(t))},ri.prototype.ua=function(){Et(this.g,"b")},ti.prototype.createWebChannel=ti.prototype.g,ei.prototype.send=ei.prototype.u,ei.prototype.open=ei.prototype.m,ei.prototype.close=ei.prototype.close,te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,ee.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",bt.prototype.listen=bt.prototype.N,yn.prototype.listenOnce=yn.prototype.O,yn.prototype.getLastError=yn.prototype.La,yn.prototype.getLastErrorCode=yn.prototype.Da,yn.prototype.getStatus=yn.prototype.ba,yn.prototype.getResponseJson=yn.prototype.Qa,yn.prototype.getResponseText=yn.prototype.ga,yn.prototype.send=yn.prototype.ea;var si=function(){return new ti},oi=function(){return $t()},ai=te,ci=ee,ui=Kt,li={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hi=dn,di=ie,pi=yn},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends i.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n,u){return Object(s.a)(n)&&(u=n,n=void 0),u?a(t,e,n).pipe(Object(o.a)(t=>Object(r.a)(t)?u(...t):u(t))):new i.a(i=>{c(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function c(t,e,n,i,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),s=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)c(t[s],e,n,i,r)}i.add(s)}},xo5E:function(t,e,n){"use strict";var i,r=n("zIRd"),s=n("pqa8"),o=n("/6Yf"),a=(n("qOnz"),n("q/0M"),n("x7I3"),{Firestore:s.f,GeoPoint:s.a,Timestamp:s.c,Blob:s.j,Transaction:s.l,WriteBatch:s.g,DocumentReference:s.t,DocumentSnapshot:s.h,Query:s.r,QueryDocumentSnapshot:s.i,QuerySnapshot:s.m,CollectionReference:s.q,FieldPath:s.p,FieldValue:s.n,setLogLevel:s.d,CACHE_SIZE_UNLIMITED:s.b});(function(t,e){t.INTERNAL.registerComponent(new o.Component("firestore",function(t){return function(t,e){return new s.f(t,new s.e(t,e),new s.o)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},a)))})(i=r.default),i.registerVersion("@firebase/firestore","2.4.0")},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t,e){return new i.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",function(){return v});var i,r,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new o.ErrorFactory("app","Firebase",u),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/app-check"]="fire-app-check",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new c.Logger("@firebase/app"),p=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.deepCopy)(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return i._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var i=this.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var f=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.contains)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var u=['Unable to register library "'+r+'" with version "'+e+'":'];return o&&u.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}s(new a.Component(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||"[DEFAULT]",!Object(o.contains)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?i[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.deepExtend)(c,s.serviceProps),i[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(s);return"PUBLIC"===s.type?i[a]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(p);return e.INTERNAL=Object(s.__assign)(Object(s.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.deepExtend)(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),_=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.isBrowser)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.isNode)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var v=f;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new _(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.30",void 0),t.registerVersion("fire-js","")}(v),e.default=v},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("l7GE"),r=n("ZUHj");function s(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new o(t,n))}}class o{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends i.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let s=0;s<i;s++){let t=e[s];this.add(Object(r.a)(this,t,t,s))}}notifyNext(t,e,n,i,r){this.values[n]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},zzrz:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("Aqzh");const r=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/,s=(t,e)=>"string"==typeof e&&r.test(e)?new Date(e):e,o=(t,e)=>e;function a(t,e){return e.reduce((e,n)=>{if("string"==typeof n||"number"==typeof n){const i=null==t?void 0:t[n];void 0!==i&&(e[n]=i)}else for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=a(t[i],n[i]));return e},{})}const c=(t,e,n,i,r,s)=>{if(s)try{if(!0!==s(t))return}catch(o){if(o instanceof TypeError)return;throw o}e.forEach(e=>{let s,c,u,l=t[e];if("object"==typeof e){let n=Object.keys(e)[0];if(l=t[n],void 0!==l&&e[n]){if(e[n].serialize)l=e[n].serialize(l);else{let t;e[n].reduce?t=e[n]:e[n].filter&&(t=e[n].filter),t&&(l=a(l,t)),e[n].encrypt&&e[n].decrypt?"function"==typeof e[n].encrypt&&(u=e[n].encrypt):(e[n].encrypt||e[n].decrypt)&&console.error(`Either encrypt or decrypt function is not present on '${e[n]}' key object.`)}s=e[n].replacer,c=e[n].space}e=n}if(void 0!==l&&void 0!==n)try{u&&(l=u("string"==typeof l?l:JSON.stringify(l,s,c))),n.setItem(i(e),"string"==typeof l?l:JSON.stringify(l,s,c))}catch(o){console.warn("Unable to save state to localStorage:",o)}else if(void 0===l&&r)try{n.removeItem(i(e))}catch(o){console.warn(`Exception on removing/cleaning undefined '${e}' state`,o)}})},u=(t,e,n)=>("@ngrx/store/init"!==n.type&&"@ngrx/store/update-reducers"!==n.type||!e||(t=i(t,e,{arrayMerge:(t,e,n)=>e})),t),l=t=>e=>{(void 0===t.storage&&!t.checkStorageAvailability||t.checkStorageAvailability&&"undefined"!=typeof window)&&(t.storage=localStorage||window.localStorage),void 0===t.storageKeySerializer&&(t.storageKeySerializer=t=>t),void 0===t.restoreDates&&(t.restoreDates=!0);let n=t.mergeReducer;void 0!==n&&"function"==typeof n||(n=u);const i=t.keys.map(t=>{let e=t;if("object"==typeof t&&(e=Object.keys(t)[0]),"string"!=typeof e)throw new TypeError("localStorageSync Unknown Parameter Type: Expected type of string, got "+typeof e);return t}),r=t.rehydrate?(a=t.storage,l=t.storageKeySerializer,h=t.restoreDates,i.reduce((t,e)=>{let n,i,r=e,c=h?s:o;if("object"==typeof r&&(r=Object.keys(r)[0],"function"==typeof e[r]?c=e[r]:(e[r].reviver&&(c=e[r].reviver),e[r].deserialize&&(n=e[r].deserialize)),e[r].encrypt&&e[r].decrypt?"function"==typeof e[r].encrypt&&"function"==typeof e[r].decrypt?i=e[r].decrypt:console.error(`Either encrypt or decrypt is not a function on '${e[r]}' key object.`):(e[r].encrypt||e[r].decrypt)&&console.error(`Either encrypt or decrypt function is not present on '${e[r]}' key object.`)),void 0!==a){let e=a.getItem(l(r));if(e){i&&(e=i(e));const s=new RegExp("{|\\[");let o=e;return("null"===e||"true"===e||"false"===e||s.test(e.charAt(0)))&&(o=JSON.parse(e,c)),Object.assign({},t,{[r]:n?n(o):o})}}return t},{})):void 0;var a,l,h;return function(s,o){let a;return a="@ngrx/store/init"!==o.type||s?Object.assign({},s):e(s,o),a=n(a,r,o),a=e(a,o),"@ngrx/store/init"!==o.type&&c(a,i,t.storage,t.storageKeySerializer,t.removeOnUndefined,t.syncCondition),a}}}},[[0,0]]]);