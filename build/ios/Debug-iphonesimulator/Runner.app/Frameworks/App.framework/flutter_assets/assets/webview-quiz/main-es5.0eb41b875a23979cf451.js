(function(){function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(e,t,n){"use strict";n.r(t),n.d(t,"Component",function(){return o}),n.d(t,"ComponentContainer",function(){return a}),n.d(t,"Provider",function(){return s});var r=n("mrSG"),i=n("qOnz"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.__read)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),Object(r.__read)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.__read)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var s=Object(r.__values)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),a=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},"/d8p":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("7o/Q"),i=n("EY2u");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return 0===e?Object(i.b)():t.lift(new s(e<0?-1:e-1,t))}}var s=function(){function e(t,n){_classCallCheck(this,e),this.count=t,this.source=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.count,this.source))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).count=r,o.source=i,o}return _createClass(n,[{key:"complete",value:function(){if(!this.isStopped){var e=this.source,t=this.count;if(0===t)return _get(_getPrototypeOf(n.prototype),"complete",this).call(this);t>-1&&(this.count=t-1),e.subscribe(this._unsubscribeAndRecycle())}}}]),n}(r.a)},"/uUt":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.compare,this.keySelector))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(r.a)},0:function(e,t,n){e.exports=n("qUr0")},"1G5W":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("l7GE"),i=n("ZUHj");function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new a(e),r=Object(i.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(r.a)},"1kSV":function(e,t,n){"use strict";n.d(t,"a",function(){return We}),n.d(t,"b",function(){return $e}),n.d(t,"c",function(){return Ge}),n.d(t,"d",function(){return _t}),n.d(t,"e",function(){return ct});var r=n("fXoL"),i=n("ofXK"),o=n("HDdC"),s=n("EY2u"),a=n("LRne"),u=n("XNiG"),c=n("xgIS"),l=n("PqYM"),h=n("DH7j"),d=n("yCtX"),f=n("l7GE"),p=n("ZUHj");function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!Object(h.a)(t[0]))return t[0];t=t[0]}return Object(d.a)(t,void 0).lift(new g)}var g=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new v(e))}}]),e}(),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return _createClass(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(p.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)}}]),n}(f.a);n("2Vo4"),n("itXk"),n("5yfJ");var m=n("7o/Q"),y=n("Lhse");function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return"function"==typeof r&&t.pop(),Object(d.a)(t,void 0).lift(new E(r))}var E=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new C(e,this.resultSelector))}}]),e}(),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return _classCallCheck(this,n),(i=t.call(this,e)).iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:null,i.values=o,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.iterators;Object(h.a)(e)?t.push(new S(e)):t.push("function"==typeof e[y.a]?new O(e[y.a]()):new T(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,s=[],a=0;a<t;a++){var u=e[a],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();s.push(c.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),o&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(m.a),O=function(){function e(t){_classCallCheck(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return e&&e.done}}]),e}(),S=function(e){function t(e){_classCallCheck(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return _createClass(t,[{key:e,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(y.a),T=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this,e)).parent=t,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return _createClass(r,[{key:t,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(e,t){return Object(p.a)(this,this.observable,this,t)}}]),r}(f.a,y.a),w=n("VRyK"),D=n("GyhO"),P=n("1G5W"),k=n("pLZG"),A=n("IzEk"),I=n("lJxs"),M=(n("JX91"),n("/uUt"),n("eIep")),R=n("vkgz"),x=n("zp1y"),L=n("3E0/"),j=n("5+tZ"),N=n("w1tV"),U=n("3Pt+"),B=["*"],F=["dialog"];function q(e){return null!=e}function V(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var W,G,K,z,H,$,Q=!0,Y=5,X=((W=_createClass(function e(){_classCallCheck(this,e),this.animation=Q})).\u0275fac=function(e){return new(e||W)},W.\u0275prov=Object(r.Mb)({factory:function(){return new W},token:W,providedIn:"root"}),W),Z=function(){},J=Y,ee=new Map,te=function(e,t,n,r){var i=r.context||{},h=ee.get(t);if(h)switch(r.runningTransition){case"continue":return s.a;case"stop":e.run(function(){return h.transition$.complete()}),i=Object.assign(h.context,i),ee.delete(t)}var d=n(t,r.animation,i)||Z;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(function(){return d()}),Object(a.a)(void 0).pipe(function(e){return function(t){return new o.a(function(n){return t.subscribe(function(t){return e.run(function(){return n.next(t)})},function(t){return e.run(function(){return n.error(t)})},function(){return e.run(function(){return n.complete()})})})}}(e));var f=new u.a,p=new u.a,g=f.pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return Object(D.a)(e,Object(a.a).apply(void 0,t))}}(!0));ee.set(t,{transition$:f,complete:function(){p.next(),p.complete()},context:i});var v=function(e){var t=window.getComputedStyle(e),n=t.transitionDelay,r=t.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(t);return e.runOutsideAngular(function(){var n=Object(c.a)(t,"transitionend").pipe(Object(P.a)(g),Object(k.a)(function(e){return e.target===t}));_(Object(l.a)(v+J).pipe(Object(P.a)(g)),n,p).pipe(Object(P.a)(g)).subscribe(function(){ee.delete(t),e.run(function(){d(),f.next(),f.complete()})})}),f.asObservable()},ne=(($=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||$)},$.\u0275mod=r.Ob({type:$}),$.\u0275inj=r.Nb({imports:[[i.b]]}),$),re=((H=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||H)},H.\u0275mod=r.Ob({type:H}),H.\u0275inj=r.Nb({imports:[[i.b]]}),H),ie=((z=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||z)},z.\u0275mod=r.Ob({type:z}),z.\u0275inj=r.Nb({}),z),oe=((K=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||K)},K.\u0275mod=r.Ob({type:K}),K.\u0275inj=r.Nb({imports:[[i.b]]}),K),se=((G=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||G)},G.\u0275mod=r.Ob({type:G}),G.\u0275inj=r.Nb({}),G),ae=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({}),ue=function(e,t){return!!t&&t.some(function(t){return t.contains(e)})},ce=function(e,t){return!t||null!=function(e,t){return t?void 0===e.closest?null:e.closest(t):null}(e,t)},le="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),he=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function de(e){var t=Array.from(e.querySelectorAll(he)).filter(function(e){return-1!==e.tabIndex});return[t[0],t[t.length-1]]}var fe=/\s+/,pe=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var i=this.offsetParent(e);t=this.offset(e,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return t.top-=r.top,t.bottom-=r.top,t.left-=r.left,t.right-=r.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(e,t,n,r){var i=_slicedToArray(n.split("-"),2),o=i[0],s=void 0===o?"top":o,a=i[1],u=void 0===a?"center":a,c=r?this.offset(e,!1):this.position(e,!1),l=this.getAllStyles(t),h=parseFloat(l.marginTop),d=parseFloat(l.marginBottom),f=parseFloat(l.marginLeft),p=parseFloat(l.marginRight),_=0,g=0;switch(s){case"top":_=c.top-(t.offsetHeight+h+d);break;case"bottom":_=c.top+c.height;break;case"left":g=c.left-(t.offsetWidth+f+p);break;case"right":g=c.left+c.width}switch(u){case"top":_=c.top;break;case"bottom":_=c.top+c.height-t.offsetHeight;break;case"left":g=c.left;break;case"right":g=c.left+c.width-t.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=c.left+c.width/2-t.offsetWidth/2:_=c.top+c.height/2-t.offsetHeight/2}t.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(_),"px)");var v=t.getBoundingClientRect(),m=document.documentElement,y=window.innerHeight||m.clientHeight,b=window.innerWidth||m.clientWidth;return v.left>=0&&v.top>=0&&v.right<=b&&v.bottom<=y}}]),e}());new Date(1882,10,12),new Date(2174,10,25);var _e,ge,ve,me,ye,be,Ee,Ce,Oe,Se,Te,we,De,Pe,ke,Ae,Ie,Me,Re,xe,Le=((ve=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||ve)},ve.\u0275mod=r.Ob({type:ve}),ve.\u0275inj=r.Nb({imports:[[i.b,U.c]]}),ve),je=((ge=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||ge)},ge.\u0275mod=r.Ob({type:ge}),ge.\u0275inj=r.Nb({}),ge),Ne=((_e=function(){function e(t){_classCallCheck(this,e),this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}return _createClass(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||_e)(r.cc(X))},_e.\u0275prov=Object(r.Mb)({factory:function(){return new _e(Object(r.cc)(X))},token:_e,providedIn:"root"}),_e),Ue=_createClass(function e(t,n,r){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r}),Be=function(){function e(t,n,r,i,o,s,a){_classCallCheck(this,e),this._type=t,this._injector=n,this._viewContainerRef=r,this._renderer=i,this._ngZone=o,this._componentFactoryResolver=s,this._applicationRef=a,this._windowRef=null,this._contentRef=null}return _createClass(e,[{key:"open",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));var i=this._windowRef.location.nativeElement,o=this._ngZone.onStable.pipe(Object(A.a)(1),Object(j.a)(function(){return te(n._ngZone,i,function(e){return e.classList.add("show")},{animation:r,runningTransition:"continue"})}));return{windowRef:this._windowRef,transition$:o}}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._windowRef?te(this._ngZone,this._windowRef.location.nativeElement,function(e){return e.classList.remove("show")},{animation:t,runningTransition:"stop"}).pipe(Object(R.a)(function(){var t;e._windowRef&&(e._viewContainerRef.remove(e._viewContainerRef.indexOf(e._windowRef.hostView)),e._windowRef=null),(null===(t=e._contentRef)||void 0===t?void 0:t.viewRef)&&(e._applicationRef.detachView(e._contentRef.viewRef),e._contentRef.viewRef.destroy(),e._contentRef=null)})):Object(a.a)(void 0)}},{key:"_getContentRef",value:function(e,t){if(e){if(e instanceof r.M){var n=e.createEmbeddedView(t);return this._applicationRef.attachView(n),new Ue([n.rootNodes],n)}return new Ue([[this._renderer.createText("".concat(e))]])}return new Ue([])}}]),e}(),Fe=function(){},qe=((ye=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Fe}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(r+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).\u0275fac=function(e){return new(e||ye)(r.cc(i.c))},ye.\u0275prov=Object(r.Mb)({factory:function(){return new ye(Object(r.cc)(i.c))},token:ye,providedIn:"root"}),ye),Ve=((me=function(){function e(t,n){_classCallCheck(this,e),this._el=t,this._zone=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._zone.onStable.asObservable().pipe(Object(A.a)(1)).subscribe(function(){te(e._zone,e._el.nativeElement,function(e,t){t&&V(e),e.classList.add("show")},{animation:e.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return te(this._zone,this._el.nativeElement,function(e){return e.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),e}()).\u0275fac=function(e){return new(e||me)(r.Qb(r.l),r.Qb(r.A))},me.\u0275cmp=r.Kb({type:me,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(r.Fb("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),r.Ib("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),me),We=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),Ge=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new u.a,this._dismissed=new u.a,this._hidden=new u.a,t.instance.dismissEvent.subscribe(function(e){o.dismiss(e)}),this.result=new Promise(function(e,t){o._resolve=e,o._reject=t}),this.result.then(null,function(){})}return _createClass(e,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(Object(P.a)(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(Object(P.a)(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&t._dismiss(e)},function(){}):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this,t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(a.a)(void 0);t.subscribe(function(){var t=e._windowCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._windowCmptRef.destroy(),e._contentRef&&e._contentRef.viewRef&&e._contentRef.viewRef.destroy(),e._windowCmptRef=null,e._contentRef=null}),n.subscribe(function(){if(e._backdropCmptRef){var t=e._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._backdropCmptRef.destroy(),e._backdropCmptRef=null}}),b(t,n).subscribe(function(){e._hidden.next(),e._hidden.complete()})}}]),e}(),Ke=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({}),ze=((Te=function(){function e(t,n,i){_classCallCheck(this,e),this._document=t,this._elRef=n,this._zone=i,this._closed$=new u.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new u.a,this.hidden=new u.a}return _createClass(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){var e=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Object(A.a)(1)).subscribe(function(){e._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var e=this,t=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=b(te(this._zone,t,function(){return t.classList.remove("show")},n),te(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){e.hidden.next(),e.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var e=this,t={animation:this.animation,runningTransition:"continue"};b(te(this._zone,this._elRef.nativeElement,function(e,t){t&&V(e),e.classList.add("show")},t),te(this._zone,this._dialogEl.nativeElement,function(){},t)).subscribe(function(){e.shown.next(),e.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var e=this,t=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){Object(c.a)(t,"keydown").pipe(Object(P.a)(e._closed$),Object(k.a)(function(e){return e.which===ae.Escape})).subscribe(function(t){e.keyboard?requestAnimationFrame(function(){t.defaultPrevented||e._zone.run(function(){return e.dismiss(Ke.ESC)})}):"static"===e.backdrop&&e._bumpBackdrop()});var n=!1;Object(c.a)(e._dialogEl.nativeElement,"mousedown").pipe(Object(P.a)(e._closed$),Object(R.a)(function(){return n=!1}),Object(M.a)(function(){return Object(c.a)(t,"mouseup").pipe(Object(P.a)(e._closed$),Object(A.a)(1))}),Object(k.a)(function(e){var n=e.target;return t===n})).subscribe(function(){n=!0}),Object(c.a)(t,"click").pipe(Object(P.a)(e._closed$)).subscribe(function(r){var i=r.target;t===i&&("static"===e.backdrop?e._bumpBackdrop():!0!==e.backdrop||n||e._zone.run(function(){return e.dismiss(Ke.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var e=this._elRef.nativeElement;if(!e.contains(document.activeElement)){var t=e.querySelector("[ngbAutofocus]"),n=de(e)[0];(t||n||e).focus()}}},{key:"_restoreFocus",value:function(){var e,t=this,n=this._document.body,r=this._elWithFocus;e=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()}),t._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&te(this._zone,this._elRef.nativeElement,function(e){var t=e.classList;return t.add("modal-static"),function(){return t.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),e}()).\u0275fac=function(e){return new(e||Te)(r.Qb(i.c),r.Qb(r.l),r.Qb(r.A))},Te.\u0275cmp=r.Kb({type:Te,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var n;1&e&&r.Mc(F,3),2&e&&r.zc(n=r.gc())&&(t._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(r.Eb("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),r.Fb("modal d-block"+(t.windowClass?" "+t.windowClass:"")),r.Ib("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:B,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(r.nc(),r.Vb(0,"div",0,1),r.Vb(2,"div",2),r.mc(3),r.Ub(),r.Ub()),2&e&&r.Fb("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),Te),He=((Se=function(){function e(t,n,i,o,s,a){var l=this;_classCallCheck(this,e),this._applicationRef=t,this._injector=n,this._document=i,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new u.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(function(){if(l._windowCmpts.length){var e=l._windowCmpts[l._windowCmpts.length-1];(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];l._ngZone.runOutsideAngular(function(){var e=Object(c.a)(t,"focusin").pipe(Object(P.a)(n),Object(I.a)(function(e){return e.target}));Object(c.a)(t,"keydown").pipe(Object(P.a)(n),Object(k.a)(function(e){return e.which===ae.Tab}),Object(x.a)(e)).subscribe(function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1],o=_slicedToArray(de(t),2),s=o[0],a=o[1];i!==s&&i!==t||!r.shiftKey||(a.focus(),r.preventDefault()),i!==a||r.shiftKey||(s.focus(),r.preventDefault())}),r&&Object(c.a)(t,"click").pipe(Object(P.a)(n),Object(x.a)(e),Object(I.a)(function(e){return e[1]})).subscribe(function(e){return e.focus()})})})(0,e.location.nativeElement,l._activeWindowCmptHasChanged),l._revertAriaHidden(),l._setAriaHidden(e.location.nativeElement)}})}return _createClass(e,[{key:"open",value:function(e,t,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:q(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),a=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(s.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new We,l=this._getContentRef(e,r.injector||t,n,c,r),h=!1!==r.backdrop?this._attachBackdrop(e,o):void 0,d=this._attachWindowComponent(e,o,l),f=new Ge(d,l,h,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(d),f.result.then(a,a),f.result.then(u,u),c.close=function(e){f.close(e)},c.dismiss=function(e){f.dismiss(e)},this._applyWindowOptions(d.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,r),h.changeDetectorRef.detectChanges()),d.changeDetectorRef.detectChanges(),f}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(e){this._modalRefs.forEach(function(t){return t.dismiss(e)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(Ve).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var r=e.resolveComponentFactory(ze).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach(function(n){q(t[n])&&(e[n]=t[n])})}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach(function(n){q(t[n])&&(e[n]=t[n])})}},{key:"_getContentRef",value:function(e,t,n,i,o){return n?n instanceof r.M?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,o):new Ue([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Ue([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new Ue([[t]])}},{key:"_createFromComponent",value:function(e,t,n,i,o){var s=e.resolveComponentFactory(n),a=r.s.create({providers:[{provide:We,useValue:i}],parent:t}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Ue([[c]],u.hostView,u)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&(t._modalRefs.splice(n,1),t._activeInstances.emit(t._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())})}}]),e}()).\u0275fac=function(e){return new(e||Se)(r.cc(r.g),r.cc(r.s),r.cc(i.c),r.cc(qe),r.cc(r.F),r.cc(r.A))},Se.\u0275prov=Object(r.Mb)({factory:function(){return new Se(Object(r.cc)(r.g),Object(r.cc)(r.o),Object(r.cc)(i.c),Object(r.cc)(qe),Object(r.cc)(r.F),Object(r.cc)(r.A))},token:Se,providedIn:"root"}),Se),$e=((Oe=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=r,this._config=i}return _createClass(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}()).\u0275fac=function(e){return new(e||Oe)(r.cc(r.j),r.cc(r.s),r.cc(He),r.cc(Ne))},Oe.\u0275prov=Object(r.Mb)({factory:function(){return new Oe(Object(r.cc)(r.j),Object(r.cc)(r.o),Object(r.cc)(He),Object(r.cc)(Ne))},token:Oe,providedIn:"root"}),Oe),Qe=((Ce=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Ce)},Ce.\u0275mod=r.Ob({type:Ce}),Ce.\u0275inj=r.Nb({providers:[$e]}),Ce),Ye=((Ee=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Ee)},Ee.\u0275mod=r.Ob({type:Ee}),Ee.\u0275inj=r.Nb({imports:[[i.b]]}),Ee),Xe=((be=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||be)},be.\u0275mod=r.Ob({type:be}),be.\u0275inj=r.Nb({imports:[[i.b]]}),be),Ze=function(){function e(t,n){_classCallCheck(this,e),this.open=t,this.close=n,n||(this.close=t)}return _createClass(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),Je={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},et=function(e){return e>0?Object(L.a)(e):function(e){return e}},tt=((xe=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||xe)},xe.\u0275mod=r.Ob({type:xe}),xe.\u0275inj=r.Nb({imports:[[i.b]]}),xe),nt=((Re=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=r.Ob({type:Re}),Re.\u0275inj=r.Nb({imports:[[i.b]]}),Re),rt=((Me=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Me)},Me.\u0275mod=r.Ob({type:Me}),Me.\u0275inj=r.Nb({imports:[[i.b]]}),Me),it=((Ie=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Ie)},Ie.\u0275mod=r.Ob({type:Ie}),Ie.\u0275inj=r.Nb({imports:[[i.b]]}),Ie),ot=((Ae=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Ae)},Ae.\u0275mod=r.Ob({type:Ae}),Ae.\u0275inj=r.Nb({imports:[[i.b]]}),Ae),st=((ke=function(){function e(t){_classCallCheck(this,e),this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}return _createClass(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}()).\u0275fac=function(e){return new(e||ke)(r.cc(X))},ke.\u0275prov=Object(r.Mb)({factory:function(){return new ke(Object(r.cc)(X))},token:ke,providedIn:"root"}),ke),at=0,ut=((Pe=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Pe)},Pe.\u0275cmp=r.Kb({type:Pe,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,t){2&e&&(r.Yb("id",t.id),r.Fb("tooltip"+(t.tooltipClass?" "+t.tooltipClass:"")),r.Ib("fade",t.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:B,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(e,t){1&e&&(r.nc(),r.Rb(0,"div",0),r.Vb(1,"div",1),r.mc(2),r.Ub())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{bottom:.4rem;top:auto}"],encapsulation:2,changeDetection:0}),Pe),ct=((De=function(){function e(t,n,i,o,s,a,u,c,l,h){var d=this;_classCallCheck(this,e),this._elementRef=t,this._renderer=n,this._ngZone=u,this._document=c,this._changeDetector=l,this.shown=new r.n,this.hidden=new r.n,this._ngbTooltipWindowId="ngb-tooltip-"+at++,this._windowRef=null,this.animation=a.animation,this.autoClose=a.autoClose,this.placement=a.placement,this.triggers=a.triggers,this.container=a.container,this.disableTooltip=a.disableTooltip,this.tooltipClass=a.tooltipClass,this.openDelay=a.openDelay,this.closeDelay=a.closeDelay,this._popupService=new Be(ut,i,s,n,this._ngZone,o,h),this._zoneSubscription=u.onStable.subscribe(function(){d._windowRef&&function(e,t,n,r,i){var o=Array.isArray(n)?n:n.split(fe),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,u=function(e){var t=_slicedToArray(e.split("-"),2),n=t[0],r=t[1],i=[];return i.push("bs-tooltip-".concat(n)),r&&i.push("bs-tooltip-".concat(n,"-").concat(r)),i.forEach(function(e){a.add(e)}),i};s.forEach(function(e){a.remove("bs-tooltip-".concat(e))});var c=o.findIndex(function(e){return"auto"===e});c>=0&&s.forEach(function(e){null==o.find(function(t){return-1!==t.search("^"+e)})&&o.splice(c++,1,e)});var l=t.style;l.position="absolute",l.top="0",l.left="0",l["will-change"]="transform";var h,d=null,f=!1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var _=u(d=h.value);if(pe.positionElements(e,t,d,r)){f=!0;break}_.forEach(function(e){a.remove(e)})}}catch(g){p.e(g)}finally{p.f()}f||(u(d=o[0]),pe.positionElements(e,t,d,r))}(d._elementRef.nativeElement,d._windowRef.location.nativeElement,d.placement,"body"===d.container)})}return _createClass(e,[{key:"ngbTooltip",get:function(){return this._ngbTooltip},set:function(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}},{key:"open",value:function(e){var t=this;if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){var n=this._popupService.open(this._ngbTooltip,e,this.animation),r=n.windowRef,i=n.transition$;this._windowRef=r,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(e,n,r,i,o,s,a,u){var l;r&&e.runOutsideAngular((l=function(){var i=Object(c.a)(n,"keydown").pipe(Object(P.a)(o),Object(k.a)(function(e){return e.which===ae.Escape}),Object(R.a)(function(e){return e.preventDefault()})),a=Object(c.a)(n,"mousedown").pipe(Object(I.a)(function(e){var t=e.target;return 2!==e.button&&!ue(t,void 0)&&("inside"===r?ue(t,s)&&ce(t,u):"outside"===r?!ue(t,s):ce(t,u)||!ue(t,s))}),Object(P.a)(o)),l=Object(c.a)(n,"mouseup").pipe(Object(x.a)(a),Object(k.a)(function(e){var t=_slicedToArray(e,2);return t[0],t[1]}),Object(L.a)(0),Object(P.a)(o));_([i.pipe(Object(I.a)(function(e){return 0})),l.pipe(Object(I.a)(function(e){return 1}))]).subscribe(function(n){return e.run(function(){return t.close()})})},le?function(){return setTimeout(function(){return l()},100)}:l))}(this._ngZone,this._document,this.autoClose,0,this.hidden,[this._windowRef.location.nativeElement]),i.subscribe(function(){return t.shown.emit()})}}},{key:"close",value:function(){var e=this;null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(function(){e._windowRef=null,e.hidden.emit(),e._changeDetector.markForCheck()}))}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=function(e,t,n,r,i,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je,n=(e||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map(function(e){return e.split(":")}).map(function(e){var n=t[e[0]]||e;return new Ze(n[0],n[1])}),i=r.filter(function(e){return e.isManual()});if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===c.length&&c[0].isManual())return function(){};var l=function(e,t,n,r){return new o.a(function(i){var o=[],s=function(){return i.next(!0)},a=function(){return i.next(!1)},u=function(){return i.next(!r())};return n.forEach(function(n){n.open===n.close?o.push(e.listen(t,n.open,u)):o.push(e.listen(t,n.open,s),e.listen(t,n.close,a))}),function(){o.forEach(function(e){return e()})}})}(e,t,c,r).pipe(function(e,t,n){return function(r){var i=null,o=r.pipe(Object(I.a)(function(e){return{open:e}}),Object(k.a)(function(e){var t=n();return t===e.open||i&&i.open!==t?(i&&i.open!==e.open&&(i=null),!1):(i=e,!0)}),Object(N.a)()),s=o.pipe(Object(k.a)(function(e){return e.open}),et(e)),a=o.pipe(Object(k.a)(function(e){return!e.open}),et(t));return Object(w.a)(s,a).pipe(Object(k.a)(function(e){return e===i&&(i=null,e.open!==n())}),Object(I.a)(function(e){return e.open}))}}(a,u,r)).subscribe(function(e){return e?i():s()});return function(){return l.unsubscribe()}}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(e){var t=e.tooltipClass;t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||De)(r.Qb(r.l),r.Qb(r.E),r.Qb(r.s),r.Qb(r.j),r.Qb(r.R),r.Qb(st),r.Qb(r.A),r.Qb(i.c),r.Qb(r.h),r.Qb(r.g))},De.\u0275dir=r.Lb({type:De,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[r.Bb]}),De),lt=((we=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||we)},we.\u0275mod=r.Ob({type:we}),we.\u0275inj=r.Nb({}),we);new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});var ht,dt,ft=((ht=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||ht)},ht.\u0275mod=r.Ob({type:ht}),ht.\u0275inj=r.Nb({imports:[[i.b]]}),ht),pt=[ne,re,ie,oe,se,Le,je,Qe,Ye,Xe,tt,nt,rt,it,ot,lt,ft],_t=((dt=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||dt)},dt.\u0275mod=r.Ob({type:dt}),dt.\u0275inj=r.Nb({imports:[pt,ne,re,ie,oe,se,Le,je,Qe,Ye,Xe,tt,nt,rt,it,ot,lt,ft]}),dt)},"2QA8":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("XNiG"),i=n("9ppp"),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(r.a)},"2fFW":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3E0/":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("D0XW"),i=n("7o/Q"),o=n("WMd4");function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a,i=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new a(i,n))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.delay,this.scheduler))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new c(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(o.a.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(o.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),n}(i.a),c=_createClass(function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n})},"3Kre":function(e,t,n){"use strict";var r,i=n("mrSG"),o=n("zIRd"),s=(n("fSjL"),n("q/0M")),a=n("qOnz"),u=n("/6Yf"),c="https://www.googletagmanager.com/gtag/js",l=function(e){return e.EVENT="event",e.SET="set",e.CONFIG="config",e}({}),h=function(e){return e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results",e}({}),d=new s.Logger("@firebase/analytics");function f(e,t,n,r,o,s){return Object(i.__awaiter)(this,void 0,void 0,function(){var a,u,c,h;return Object(i.__generator)(this,function(i){switch(i.label){case 0:a=r[o],i.label=1;case 1:return i.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return i.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=i.sent(),(c=u.find(function(e){return e.measurementId===o}))?[4,t[c.appId]]:[3,6];case 5:i.sent(),i.label=6;case 6:return[3,8];case 7:return h=i.sent(),d.error(h),[3,8];case 8:return e(l.CONFIG,o,s),[2]}})})}function p(e,t,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,function(){var s,a,u,c,h,f,p;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),s=[],o&&o.send_to?(a=o.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=i.sent(),c=function(e){var n=u.find(function(t){return t.measurementId===e}),r=n&&t[n.appId];if(!r)return s=[],"break";s.push(r)},h=0,f=a;h<f.length&&"break"!==c(f[h]);h++);i.label=2;case 2:return 0===s.length&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return i.sent(),e(l.EVENT,r,o||{}),[3,5];case 4:return p=i.sent(),d.error(p),[3,5];case 5:return[2]}})})}var _=((r={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',r),g=new a.ErrorFactory("analytics","Analytics",_),v=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function m(e){var t;return Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,o,s,a,u;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return n=e.appId,r={method:"GET",headers:(c=e.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,r)];case 1:if(200===(s=i.sent()).status||304===s.status)return[3,6];a="",i.label=2;case 2:return i.trys.push([2,4,,5]),[4,s.json()];case 3:return u=i.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(a=u.error.message),[3,5];case 4:return i.sent(),[3,5];case 5:throw g.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}var c})})}function y(e,t,n,r){var o=t.throttleEndTimeMillis,s=t.backoffCount;return void 0===r&&(r=v),Object(i.__awaiter)(this,void 0,void 0,function(){var t,u,c,l,h,f,p;return Object(i.__generator)(this,function(i){switch(i.label){case 0:t=e.appId,u=e.measurementId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,b(n,o)];case 2:return i.sent(),[3,4];case 3:if(c=i.sent(),u)return d.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:u}];throw c;case 4:return i.trys.push([4,6,,7]),[4,m(e)];case 5:return l=i.sent(),r.deleteThrottleMetadata(t),[2,l];case 6:if(!function(e){if(!(e instanceof a.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(h=i.sent())){if(r.deleteThrottleMetadata(t),u)return d.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:t,measurementId:u}];throw h}return f=503===Number(h.customData.httpStatus)?Object(a.calculateBackoffMillis)(s,r.intervalMillis,30):Object(a.calculateBackoffMillis)(s,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1},r.setThrottleMetadata(t,p),d.debug("Calling attemptFetch again in "+f+" millis"),[2,y(e,p,n,r)];case 7:return[2]}})})}function b(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(g.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}var E,C,O,S=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),T={},w=[],D={},P="dataLayer",k="gtag",A=!1;(O=o.default).INTERNAL.registerComponent(new u.Component("analytics",function(e){return function(e,t){!function(){var e=[];if(Object(a.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(a.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"("+(t+1)+") "+e}).join(" "),n=g.create("invalid-analytics-context",{errorInfo:t});d.warn(n.message)}}();var n=e.options.appId;if(!n)throw g.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw g.create("no-api-key");d.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=T[n])throw g.create("already-exists",{id:n});if(!A){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(P);var r=function(e,t,n,r,o){var s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(s=window[o]),window[o]=function(e,t,n,r){return function(o,s,a){return Object(i.__awaiter)(this,void 0,void 0,function(){var u;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),o!==l.EVENT?[3,2]:[4,p(e,t,n,s,a)];case 1:return i.sent(),[3,5];case 2:return o!==l.CONFIG?[3,4]:[4,f(e,t,n,r,s,a)];case 3:return i.sent(),[3,5];case 4:e(l.SET,s),i.label=5;case 5:return[3,7];case 6:return u=i.sent(),d.error(u),[3,7];case 7:return[2]}})})}}(s,e,t,n),{gtagCore:s,wrappedGtag:window[o]}}(T,w,D,P,k);C=r.wrappedGtag,E=r.gtagCore,A=!0}return T[n]=function(e,t,n,r,o,s){return Object(i.__awaiter)(this,void 0,void 0,function(){var u,h,f,p,_,m,b;return Object(i.__generator)(this,function(E){switch(E.label){case 0:return(u=function(e,t,n){return void 0===t&&(t=v),Object(i.__awaiter)(this,void 0,void 0,function(){var n,r,o,s,a,u,c=this;return Object(i.__generator)(this,function(l){if(o=(n=e.options).apiKey,s=n.measurementId,!(r=n.appId))throw g.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:r}];throw g.create("no-api-key")}return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new S,setTimeout(function(){return Object(i.__awaiter)(c,void 0,void 0,function(){return Object(i.__generator)(this,function(e){return u.abort(),[2]})})},6e4),[2,y({appId:r,apiKey:o,measurementId:s},a,u,t)]})})}(e)).then(function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&d.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return d.error(e)}),t.push(u),h=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(t){switch(t.label){case 0:return Object(a.isIndexedDBAvailable)()?[3,1]:(d.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),d.warn(g.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(e){return e?r.getId():void 0}),[4,Promise.all([u,h])];case 1:return f=E.sent(),p=f[0],_=f[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(c))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=c+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(s,p.measurementId),o("js",new Date),(b={}).origin="firebase",b.update=!0,m=b,null!=_&&(m.firebase_id=_),o(l.CONFIG,p.measurementId,m),[2,p.measurementId]}})})}(e,w,D,t,E,P),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,function(){var s,a;return Object(i.__generator)(this,function(u){switch(u.label){case 0:return o&&o.global?(e(l.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=u.sent(),a=Object(i.__assign)(Object(i.__assign)({},r),{send_to:s}),e(l.EVENT,n,a),u.label=3;case 3:return[2]}})})})(C,T[n],e,t,r).catch(function(e){return d.error(e)})},setCurrentScreen:function(e,t){(function(e,t,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var o;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return r&&r.global?(e(l.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=i.sent(),e(l.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}})})})(C,T[n],e,t).catch(function(e){return d.error(e)})},setUserId:function(e,t){(function(e,t,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var o;return Object(i.__generator)(this,function(i){switch(i.label){case 0:return r&&r.global?(e(l.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=i.sent(),e(l.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}})})})(C,T[n],e,t).catch(function(e){return d.error(e)})},setUserProperties:function(e,t){(function(e,t,n,r){return Object(i.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c;return Object(i.__generator)(this,function(i){switch(i.label){case 0:if(!r||!r.global)return[3,1];for(o={},s=0,a=Object.keys(n);s<a.length;s++)o["user_properties."+(u=a[s])]=n[u];return e(l.SET,o),[2,Promise.resolve()];case 1:return[4,t];case 2:c=i.sent(),e(l.CONFIG,c,{update:!0,user_properties:n}),i.label=3;case 3:return[2]}})})})(C,T[n],e,t).catch(function(e){return d.error(e)})},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Object(i.__awaiter)(this,void 0,void 0,function(){var n;return Object(i.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})})(T[n],e).catch(function(e){return d.error(e)})},INTERNAL:{delete:function(){return delete T[n],Promise.resolve()}}}}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(e){if(A)throw g.create("already-initialized");e.dataLayerName&&(P=e.dataLayerName),e.gtagName&&(k=e.gtagName)},EventName:h,isSupported:function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(e){switch(e.label){case 0:if(Object(a.isBrowserExtension)())return[2,!1];if(!Object(a.areCookiesEnabled)())return[2,!1];if(!Object(a.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}})),O.INTERNAL.registerComponent(new u.Component("analytics-internal",function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(t){throw g.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),O.registerVersion("@firebase/analytics","0.6.18")},"3N8a":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){return this}}]),n}(n("quSY").a))},"3Pt+":function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return te}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return k}),n.d(t,"g",function(){return G}),n.d(t,"h",function(){return Q}),n.d(t,"i",function(){return $}),n.d(t,"j",function(){return J});var r=n("fXoL"),i=n("ofXK"),o=n("Cfvw"),s=n("cp0P"),a=n("lJxs"),u=_createClass(function e(){_classCallCheck(this,e)}),c=new r.r("NgValueAccessor"),l={provide:c,useExisting:Object(r.V)(function(){return h}),multi:!0},h=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._renderer=e,i._elementRef=r,i.onChange=function(e){},i.onTouched=function(){},i}return _createClass(n,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),n}(u);return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.E),r.Qb(r.l))},e.\u0275dir=r.Lb({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&r.fc("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[r.Cb([l]),r.Ab]}),e}(),d={provide:c,useExisting:Object(r.V)(function(){return p}),multi:!0},f=new r.r("CompositionEventMode"),p=function(){var e=function(){function e(t,n,r){var o;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=Object(i.E)()?Object(i.E)().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.E),r.Qb(r.l),r.Qb(f,8))},e.\u0275dir=r.Lb({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.fc("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r.Cb([d])]}),e}(),_=new r.r("NgValidators"),g=new r.r("NgAsyncValidators");function v(e){return null!=e}function m(e){var t=Object(r.ub)(e)?Object(o.a)(e):e;return Object(r.tb)(t),t}function y(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function b(e,t){return t.map(function(t){return t(e)})}function E(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function C(e){return null!=e?function(e){if(!e)return null;var t=e.filter(v);return 0==t.length?null:function(e){return y(b(e,t))}}(E(e)):null}function O(e){return null!=e?function(e){if(!e)return null;var t=e.filter(v);return 0==t.length?null:function(e){var n=b(e,t).map(m);return Object(s.a)(n).pipe(Object(a.a)(y))}}(E(e)):null}function S(e,t){return null===e?[t]:Array.isArray(e)?[].concat(_toConsumableArray(e),[t]):[e,t]}var T=function(){var e=function(){function e(){_classCallCheck(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=C(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=O(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Lb({type:e}),e}(),w=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(T);return e.\u0275fac=function(t){return D(t||e)},e.\u0275dir=r.Lb({type:e,features:[r.Ab]}),e}(),D=r.Xb(w),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return _createClass(n)}(T),k=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n)}(function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"is",value:function(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}]),e}());return e.\u0275fac=function(t){return new(t||e)(r.Qb(P,2))},e.\u0275dir=r.Lb({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Ib("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.Ab]}),e}();function A(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function I(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function M(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function R(e){return(N(e)?e.validators:e)||null}function x(e){return Array.isArray(e)?C(e):e||null}function L(e,t){return(N(t)?t.asyncValidators:e)||null}function j(e){return Array.isArray(e)?O(e):e||null}function N(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var U=function(){function e(t,n){_classCallCheck(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=x(this._rawValidators),this._composedAsyncValidatorFn=j(this._rawAsyncValidators)}return _createClass(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=x(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=j(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=m(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach(function(e){r=r instanceof F?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof q&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){N(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),B=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,R(i),L(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){M(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){M(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(U),F=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,R(r),L(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof B?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(U),q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,R(r),L(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof B?e.value:e.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(U),V={provide:P,useExisting:Object(r.V)(function(){return G})},W=Promise.resolve(null),G=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this)).control=new B,a._registered=!1,a.update=new r.n,a._parent=e,a._setValidators(i),a._setAsyncValidators(o),a.valueAccessor=function(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===p?n=e:Object.getPrototypeOf(e.constructor)===u?r=e:i=e}),i||r||n||null):null;var n,r,i}(0,s),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?[].concat(_toConsumableArray(this._parent.path),[this.name]):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){var e,t;(function(e,t,n){var r=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(S(r,t.validator)):"function"==typeof r&&e.setValidators([r]);var i=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(S(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);var o=function(){return e.updateValueAndValidity()};A(t._rawValidators,o),A(t._rawAsyncValidators,o)})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&I(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&I(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;W.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;W.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(P);return e.\u0275fac=function(t){return new(t||e)(r.Qb(w,9),r.Qb(_,10),r.Qb(g,10),r.Qb(c,10))},e.\u0275dir=r.Lb({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Cb([V]),r.Ab,r.Bb]}),e}(),K=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({}),e}(),z={provide:c,useExisting:Object(r.V)(function(){return $}),multi:!0};function H(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var $=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._renderer=e,i._elementRef=r,i._optionMap=new Map,i._idCounter=0,i.onChange=function(e){},i.onTouched=function(){},i._compareWith=Object.is,i}return _createClass(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=H(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),n}(u);return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.E),r.Qb(r.l))},e.\u0275dir=r.Lb({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.fc("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([z]),r.Ab]}),e}(),Q=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(H(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.l),r.Qb(r.E),r.Qb($,9))},e.\u0275dir=r.Lb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),Y={provide:c,useExisting:Object(r.V)(function(){return Z}),multi:!0};function X(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Z=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._renderer=e,i._elementRef=r,i._optionMap=new Map,i._idCounter=0,i.onChange=function(e){},i.onTouched=function(){},i._compareWith=Object.is,i}return _createClass(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=t._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),n}(u);return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.E),r.Qb(r.l))},e.\u0275dir=r.Lb({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.fc("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([Y]),r.Ab]}),e}(),J=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(X(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(X(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.l),r.Qb(r.E),r.Qb(Z,9))},e.\u0275dir=r.Lb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),ee=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({imports:[[K]]}),e}(),te=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({imports:[ee]}),e}()},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"4I5i":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(u(function(n,r){return Object(a.a)(e(n,r)).pipe(Object(s.a)(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),s=this.destination;s.add(i);var a=Object(r.a)(this,e,void 0,void 0,i);a!==i&&s.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"5yfJ":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("HDdC"),i=n("KqfI"),o=new r.a(i.a)},"6Uf2":function(e,t,n){"use strict";(function(e){var t=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mrSG"),s=n("q/0M"),a="";function u(e){a=e}var c,l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(i.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(i.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(i.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),_=new s.Logger("@firebase/database"),g=(c=1,function(){return c++}),v=function(e){var t=Object(i.stringToByteArray)(e),n=new i.Sha1;n.update(t);var r=n.digest();return i.base64.encodeByteArray(r)},m=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=0;o<t.length;o++){var s=t[o];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?r+=e.apply(null,s):r+="object"==typeof s?Object(i.stringify)(s):s,r+=" "}return r},y=null,b=!0,E=function(e,t){Object(i.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(_.logLevel=s.LogLevel.VERBOSE,y=_.log.bind(_),t&&p.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,p.remove("logging_enabled"))},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===y&&!0===p.get("logging_enabled")&&E(!0)),y){var n=m.apply(null,e);y(n)}},O=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];C.apply(void 0,Object(o.__spreadArray)([e],Object(o.__read)(t)))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(e)));_.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(e)));throw _.error(n),new Error(n)},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(e)));_.warn(n)},D=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},P="[MIN_NAME]",k="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===P||t===k)return-1;if(t===P||e===k)return 1;var n=U(e),r=U(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},I=function(e,t){return e===t?0:e<t?-1:1},M=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(i.stringify)(t))},R=function e(t){if("object"!=typeof t||null===t)return Object(i.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var o="{",s=0;s<n.length;s++)0!==s&&(o+=","),o+=Object(i.stringify)(n[s]),o+=":",o+=e(t[n[s]]);return o+"}"},x=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function L(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var j=function(e){var t,n,r,o,s;Object(i.assert)(!D(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},N=new RegExp("^-?(0*)\\d{1,10}$"),U=function(e){if(N.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},B=function(e){try{e()}catch(t){setTimeout(function(){throw w("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},F=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(function(e){return n.appCheck=e})}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){w('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),V=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(e){return r.auth_=e})}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';w(e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},e}();function z(e,t,n){var r;if(Object(i.assert)("string"==typeof t,"typeof type must == string"),Object(i.assert)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var o=[];return L(n,function(e,t){o.push(e+"="+t)}),r+o.join("&")}var H=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(i.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(i.deepCopy)(this.counters_)},e}(),$={},Q={};function Y(e){var t=e.toString();return $[t]||($[t]=new H),$[t]}var X=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&B(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Z=function(){function e(e,t,n,r,i,o,s){var a=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O(e),this.stats_=Y(t),this.urlFn=function(e){return a.appCheckToken&&(e.ac=a.appCheckToken),z(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new X(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Object(i.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new J(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.__read)(e,5),i=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.__read)(e,2),i=r[0],s=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,s)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(Object(i.isNodeSdk)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(i.base64Encode)(t),r=x(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(i.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(i.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),J=function(){function e(t,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){C("frame writing exception"),u.stack&&C(u.stack),C(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})},e.prototype.addTag=function(e,t){var n=this;Object(i.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){C("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},e}(),ee=null;"undefined"!=typeof MozWebSocket?ee=MozWebSocket:"undefined"!=typeof WebSocket&&(ee=WebSocket);var te=function(){function e(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O(this.connId),this.stats_=Y(n),this.connURL=e.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var o={v:"5"};return!Object(i.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&G.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),z(e,"websocket",o)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(i.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new ee(this.connURL,[],r)}else this.mySock=new ee(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ee&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(i.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Object(i.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Object(i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=x(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ne=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Z,te]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=te&&te.isAvailable(),s=i&&!te.previouslyFailed();if(t.webSocketOnly&&(i||w("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[te];else{var a=this.transports_=[];try{for(var u=Object(o.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),re=function(){function e(e,t,n,r,i,o,s,a,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O("c:"+this.id+":"),this.transportManager_=new ne(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=F(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=M("t",e),n=M("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=M("t",e),n=M("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=M("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&w("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),F(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ie=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),oe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(i.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(o.__spreadArray)([],Object(o.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(i.assert)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),se=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.isMobileCordova)()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return Object(o.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(oe),ae=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ue(){return new ae("")}function ce(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function le(e){return e.pieces_.length-e.pieceNum_}function he(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ae(e.pieces_,t)}function de(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fe(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function pe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ae(t,0)}function _e(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ae)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ae(n,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function ve(e,t){var n=ce(e),r=ce(t);if(null===n)return t;if(n===r)return ve(he(e),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function me(e,t){for(var n=fe(e,0),r=fe(t,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ye(e,t){if(le(e)!==le(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function be(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(le(e)>le(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ee=function(e,t){this.errorPrefix_=t,this.parts_=fe(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.stringLength)(this.parts_[n]);Ce(this)};function Ce(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Oe(e))}function Oe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Se,Te,we=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return Object(o.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(oe),De=function(e){function t(n,r,o,s,a,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=O("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return we.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&se.getInstance().on("online",h.onOnline_,h),h}return Object(o.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Object(i.stringify)(o)),Object(i.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new i.Deferred,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=t.outstandingGets_[s];void 0!==e&&o===e&&(delete t.outstandingGets_[s],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.assert)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,a))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Object(i.contains)(e,"w")){var n=Object(i.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();w("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(i.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(i.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(i.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+Object(i.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(i.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(o.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,a,u,c,l,h,d,f,p,_,g=this;return Object(o.__generator)(this,function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(e){Object(i.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.__read.apply(void 0,[v.sent(),2]),f=d[0],p=d[1],u?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,c=new re(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,function(e){w(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},a)),[3,4];case 3:return _=v.sent(),this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&w(_),l()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(i.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return R(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ae(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){C("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.__values)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(n=void 0,Object(o.__values)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(i.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+a.replace(/\./g,"-")]=1,Object(i.isMobileCordova)()?e["framework.cordova"]=1:Object(i.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=se.getInstance().currentlyOnline();return Object(i.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ie),Pe=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),ke=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Pe(P,e),r=new Pe(P,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Pe.MIN},e}(),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Se},set:function(e){Se=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(i.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Pe.MIN},t.prototype.maxPost=function(){return new Pe(k,Se)},t.prototype.makePost=function(e,t){return Object(i.assert)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Pe(e,Se)},t.prototype.toString=function(){return".key"},t}(ke),Ie=new Ae,Me=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Re=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Le.EMPTY_NODE,this.right=null!=o?o:Le.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Le.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Le.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),xe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Re(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Le=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Re.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Re.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Me(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Me(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Me(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Me(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new xe,e}();function je(e,t){return A(e.name,t.name)}function Ne(e,t){return A(e,t)}var Ue,Be,Fe,qe,Ve,We=function(e){return"number"==typeof e?"number:"+j(e):"string:"+e},Ge=function(e){if(e.isLeafNode()){var t=e.val();Object(i.assert)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(i.contains)(t,".sv"),"Priority must be a string or number.")}else Object(i.assert)(e===Te||e.isEmpty(),"priority of unexpected type.");Object(i.assert)(e===Te||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ke=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(i.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ge(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ue},set:function(e){Ue=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ge(t)?this:".priority"===ce(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ce(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.assert)(".priority"!==r||1===le(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+We(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(i.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return Object(i.assert)(o>=0,"Unknown leaf type: "+n),Object(i.assert)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),ze=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Pe.MIN},t.prototype.maxPost=function(){return new Pe(k,new Ke("[PRIORITY-POST]",Fe))},t.prototype.makePost=function(e,t){var n=Be(e);return new Pe(t,new Ke("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(ke)),He=Math.log(2),$e=function(){function e(e){this.count=parseInt(Math.log(e+1)/He,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Qe=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=e[r],s=n?n(o):o,new Re(s,o.node,Re.BLACK,null,null);var u=parseInt(a/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],s=n?n(o):o,new Re(s,o.node,Re.BLACK,c,l)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var c=i(o+1,a),l=e[o],h=n?n(l):l;u(new Re(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?a(h,Re.BLACK):(a(h,Re.BLACK),a(h,Re.RED))}return o}(new $e(e.length));return new Le(r||t,o)},Ye={},Xe=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(i.assert)(Ye&&ze,"ChildrenNode.ts has not been loaded"),qe=qe||new e({".priority":Ye},{".priority":ze})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(i.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Le?t:null},e.prototype.hasIndex=function(e){return Object(i.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(i.assert)(t!==Ie,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(Pe.Wrap),c=u.getNext();c;)a=a||t.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?Qe(s,t.getCompare()):Ye;var l=t.toString(),h=Object(o.__assign)({},this.indexSet_);h[l]=t;var d=Object(o.__assign)({},this.indexes_);return d[l]=r,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(i.map)(this.indexes_,function(e,o){var s=Object(i.safeGet)(r.indexSet_,o);if(Object(i.assert)(s,"Missing index implementation for "+o),e===Ye){if(s.isDefinedOn(t.node)){for(var a=[],u=n.getIterator(Pe.Wrap),c=u.getNext();c;)c.name!==t.name&&a.push(c),c=u.getNext();return a.push(t),Qe(a,s.getCompare())}return Ye}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Pe(t.name,l))),h.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(i.map)(this.indexes_,function(e){if(e===Ye)return e;var r=n.get(t.name);return r?e.remove(new Pe(t.name,r)):e}),this.indexSet_)},e}(),Ze=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ge(this.priorityNode_),this.children_.isEmpty()&&Object(i.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ve||(Ve=new e(new Le(Ne),null,Xe.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ve},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ve:t},e.prototype.getChild=function(e){var t=ce(e);return null===t?this:this.getImmediateChild(t).getChild(he(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(i.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Pe(t,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=o.isEmpty()?Ve:this.priorityNode_;return new e(o,a,s)},e.prototype.updateChild=function(e,t){var n=ce(e);if(null===n)return t;Object(i.assert)(".priority"!==ce(e)||1===le(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(he(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ze,function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+We(this.getPriority().val())+":"),this.forEachChild(ze,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Pe(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Pe(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Pe(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,Pe.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,Pe.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Je?-1:0},e.prototype.withIndex=function(t){if(t===Ie||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ie||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ze),r=t.getIterator(ze),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ie?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Je=new(function(e){function t(){return e.call(this,new Le(Ne),Ze.EMPTY_NODE,Xe.Default)||this}return Object(o.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Ze.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ze));function et(e,t){if(void 0===t&&(t=null),null===e)return Ze.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(i.assert)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ke(e,et(t));if(e instanceof Array){var n=Ze.EMPTY_NODE;return L(e,function(t,r){if(Object(i.contains)(e,t)&&"."!==t.substring(0,1)){var o=et(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}}),n.updatePriority(et(t))}var r=[],o=!1;if(L(e,function(e,t){if("."!==e.substring(0,1)){var n=et(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Pe(e,n)))}}),0===r.length)return Ze.EMPTY_NODE;var s=Qe(r,je,function(e){return e.name},Ne);if(o){var a=Qe(r,ze.getCompare());return new Ze(s,et(t),new Xe({".priority":a},{".priority":ze}))}return new Ze(s,et(t),Xe.Default)}Object.defineProperties(Pe,{MIN:{value:new Pe(P,Ze.EMPTY_NODE)},MAX:{value:new Pe(k,Je)}}),Ae.__EMPTY_NODE=Ze.EMPTY_NODE,Ke.__childrenNodeConstructor=Ze,Te=Je,Fe=Je,Be=et;var tt,nt,rt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(i.assert)(!ge(t)&&".priority"!==ce(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=et(e),r=Ze.EMPTY_NODE.updateChild(this.indexPath_,n);return new Pe(t,r)},t.prototype.maxPost=function(){var e=Ze.EMPTY_NODE.updateChild(this.indexPath_,Je);return new Pe(k,e)},t.prototype.toString=function(){return fe(this.indexPath_,0).join("/")},t}(ke),it=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Pe.MIN},t.prototype.maxPost=function(){return Pe.MAX},t.prototype.makePost=function(e,t){var n=et(e);return new Pe(t,n)},t.prototype.toString=function(){return".value"},t}(ke)),ot="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",st=(tt=0,nt=[],function(e){var t,n=e===tt;tt=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ot.charAt(e%64),e=Math.floor(e/64);Object(i.assert)(0===e,"Cannot push at time == 0");var o=r.join("");if(n){for(t=11;t>=0&&63===nt[t];t--)nt[t]=0;nt[t]++}else for(t=0;t<12;t++)nt[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)o+=ot.charAt(nt[t]);return Object(i.assert)(20===o.length,"nextPushId: Length should be 20."),o}),at=function(e){if("2147483647"===e)return"-";var t=U(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return k;var o=ot.charAt(ot.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ut=function(e){if("-2147483648"===e)return P;var t=U(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ot.charAt(ot.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ct(e){return{type:"value",snapshotNode:e}}function lt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ht(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function dt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var ft=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,o,s){Object(i.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(ht(t,a)):Object(i.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(lt(t,n)):s.trackChildChange(dt(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ze,function(e,r){t.hasChild(e)||n.trackChildChange(ht(e,r))}),t.isLeafNode()||t.forEachChild(ze,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(dt(t,r,i))}else n.trackChildChange(lt(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Ze.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),pt=function(){function e(t){this.indexedFilter_=new ft(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Pe(t,n))||(n=Ze.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Ze.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ze.EMPTY_NODE);var i=this;return t.forEachChild(ze,function(e,t){i.matches(new Pe(e,t))||(r=r.updateImmediateChild(e,Ze.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),_t=function(){function e(e){this.rangedFilter_=new pt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Pe(t,n))||(n=Ze.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ze.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Ze.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Ze.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Ze.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(e,t){return a(t,e)}}else s=this.index_.getCompare();var u=e;Object(i.assert)(u.numChildren()===this.limit_,"");var c=new Pe(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(dt(t,n,d)),u.updateImmediateChild(t,n);null!=o&&o.trackChildChange(ht(t,d));var _=u.updateImmediateChild(t,Ze.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(lt(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}return n.isEmpty()?e:h&&s(l,c)>=0?(null!=o&&(o.trackChildChange(ht(l.name,l.node)),o.trackChildChange(lt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Ze.EMPTY_NODE)):e},e}(),gt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:k},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(i.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ze},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function vt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function mt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function yt(e,t){var n=e.copy();return n.index_=t,n}function bt(e){var t,n={};return e.isDefault()||(e.index_===ze?t="$priority":e.index_===it?t="$value":e.index_===Ie?t="$key":(Object(i.assert)(e.index_ instanceof rt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(i.stringify)(t),e.startSet_&&(n.startAt=Object(i.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(i.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(i.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(i.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Et(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ze&&(t.i=e.index_.toString()),t}var Ct=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=O("p:rest:"),o.listens_={},o}return Object(o.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(i.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,o){var s=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=bt(e._queryParams);this.restRequest_(a+".json",l,function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&s.onDataUpdate_(a,n,!1,r),Object(i.safeGet)(s.listens_,u)===c&&o(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=bt(e._queryParams),r=e._path.toString(),o=new i.Deferred;return this.restRequest_(r+".json",n,function(e,n){var i=n;404===e&&(i=null,e=null),null===e?(t.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))}),o.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(s){var a=Object(o.__read)(s,2),u=a[0],c=a[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(i.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=Object(i.jsonEval)(h.responseText)}catch(t){w("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&w("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},t}(ie),Ot=function(){function e(){this.rootNode_=Ze.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function St(){return{value:null,children:new Map}}function Tt(e,t,n){if(ge(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ce(t);e.children.has(r)||e.children.set(r,St()),Tt(e.children.get(r),t=he(t),n)}}function wt(e,t){if(ge(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ze,function(t,n){Tt(e,new ae(t),n)}),wt(e,t)}if(e.children.size>0){var r=ce(t);return t=he(t),e.children.has(r)&&wt(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function Dt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){Dt(r,new ae(t.toString()+"/"+e),n)})}var Pt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(o.__assign)({},e);return this.last_&&L(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),kt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Pt(e);var n=1e4+2e4*Math.random();F(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;L(t,function(t,o){o>0&&Object(i.contains)(e.statsToReport_,t)&&(n[t]=o,r=!0)}),r&&this.server_.reportStats(n),F(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),At=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function It(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Mt,Rt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=At.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ge(this.path)){if(null!=this.affectedTree.value)return Object(i.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ae(t));return new e(ue(),n,this.revert)}return Object(i.assert)(ce(this.path)===t,"operationForChild called for unrelated child."),new e(he(this.path),this.affectedTree,this.revert)},e}(),xt=function(){function e(e,t){this.source=e,this.path=t,this.type=At.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,ue()):new e(this.source,he(this.path))},e}(),Lt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=At.OVERWRITE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,ue(),this.snap.getImmediateChild(t)):new e(this.source,he(this.path),this.snap)},e}(),jt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=At.MERGE}return e.prototype.operationForChild=function(t){if(ge(this.path)){var n=this.children.subtree(new ae(t));return n.isEmpty()?null:n.value?new Lt(this.source,ue(),n.value):new e(this.source,ue(),n)}return Object(i.assert)(ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,he(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Nt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;var t=ce(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ut=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Bt(e,t,n,r,o,s){var a=r.filter(function(e){return e.type===n});a.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(i.assertionError)("Should only compare child_ events.");var r=new Pe(t.childName,t.snapshotNode),o=new Pe(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)}),a.forEach(function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);o.forEach(function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Ft(e,t){return{eventCache:e,serverCache:t}}function qt(e,t,n,r){return Ft(new Nt(t,n,r),e.serverCache)}function Vt(e,t,n,r){return Ft(e.eventCache,new Nt(t,n,r))}function Wt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Gt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Kt=function(){function e(e,t){void 0===t&&(Mt||(Mt=new Le(I)),t=Mt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return L(t,function(e,t){n=n.set(new ae(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ue(),value:this.value};if(ge(e))return null;var n=ce(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(he(e),t);return null!=i?{path:_e(new ae(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(ge(t))return this;var n=ce(t),r=this.children.get(n);return null!==r?r.subtree(he(t)):new e(null)},e.prototype.set=function(t,n){if(ge(t))return new e(n,this.children);var r=ce(t),i=(this.children.get(r)||new e(null)).set(he(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(ge(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ce(t),r=this.children.get(n);if(r){var i=r.remove(he(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(ge(e))return this.value;var t=ce(e),n=this.children.get(t);return n?n.get(he(e)):null},e.prototype.setTree=function(t,n){if(ge(t))return n;var r,i=ce(t),o=(this.children.get(i)||new e(null)).setTree(he(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(ue(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(_e(e,r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ue(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ge(e))return null;var i=ce(e),o=this.children.get(i);return o?o.findOnPath_(he(e),_e(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ue(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ge(t))return this;this.value&&r(n,this.value);var i=ce(t),o=this.children.get(i);return o?o.foreachOnPath_(he(t),_e(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ue(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(_e(e,n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e}(),zt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Kt(null))},e}();function Ht(e,t,n){if(ge(t))return new zt(new Kt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=ve(i,t);return o=o.updateChild(s,n),new zt(e.writeTree_.set(i,o))}var a=new Kt(n),u=e.writeTree_.setTree(t,a);return new zt(u)}function $t(e,t,n){var r=e;return L(n,function(e,n){r=Ht(r,_e(t,e),n)}),r}function Qt(e,t){if(ge(t))return zt.empty();var n=e.writeTree_.setTree(t,new Kt(null));return new zt(n)}function Yt(e,t){return null!=Xt(e,t)}function Xt(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ve(n.path,t)):null}function Zt(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ze,function(e,n){t.push(new Pe(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Pe(e,n.value))}),t}function Jt(e,t){if(ge(t))return e;var n=Xt(e,t);return new zt(null!=n?new Kt(n):e.writeTree_.subtree(t))}function en(e){return e.writeTree_.isEmpty()}function tn(e,t){return nn(ue(),e.writeTree_,t)}function nn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(t,o){".priority"===t?(Object(i.assert)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=nn(_e(e,t),o,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(_e(e,".priority"),r)),n}function rn(e,t){return _n(t,e)}function on(e,t){if(e.snap)return be(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&be(_e(e.path,n),t))return!0;return!1}function sn(e){return e.visible}function an(e,t,n){for(var r=zt.empty(),o=0;o<e.length;++o){var s=e[o];if(t(s)){var a=s.path,u=void 0;if(s.snap)be(n,a)?r=Ht(r,u=ve(n,a),s.snap):be(a,n)&&(u=ve(a,n),r=Ht(r,ue(),s.snap.getChild(u)));else{if(!s.children)throw Object(i.assertionError)("WriteRecord should have .snap or .children");if(be(n,a))r=$t(r,u=ve(n,a),s.children);else if(be(a,n))if(ge(u=ve(a,n)))r=$t(r,ue(),s.children);else{var c=Object(i.safeGet)(s.children,ce(u));if(c){var l=c.getChild(he(u));r=Ht(r,ue(),l)}}}}}return r}function un(e,t,n,r,i){if(r||i){var o=Jt(e.visibleWrites,t);return!i&&en(o)?n:i||null!=n||Yt(o,ue())?tn(an(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(be(e.path,t)||be(t,e.path))},t),n||Ze.EMPTY_NODE):null}var s=Xt(e.visibleWrites,t);if(null!=s)return s;var a=Jt(e.visibleWrites,t);return en(a)?n:null!=n||Yt(a,ue())?tn(a,n||Ze.EMPTY_NODE):null}function cn(e,t,n,r){return un(e.writeTree,e.treePath,t,n,r)}function ln(e,t){return function(e,t,n){var r=Ze.EMPTY_NODE,i=Xt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ze,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(n){var o=Jt(e.visibleWrites,t);return n.forEachChild(ze,function(e,t){var n=tn(Jt(o,new ae(e)),t);r=r.updateImmediateChild(e,n)}),Zt(o).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return Zt(Jt(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function hn(e,t,n,r){return function(e,t,n,r,o){Object(i.assert)(r||o,"Either existingEventSnap or existingServerSnap must exist");var s=_e(t,n);if(Yt(e.visibleWrites,s))return null;var a=Jt(e.visibleWrites,s);return en(a)?o.getChild(n):tn(a,o.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function dn(e,t){return function(e,t){return Xt(e.visibleWrites,t)}(e.writeTree,_e(e.treePath,t))}function fn(e,t,n){return function(e,t,n,r){var i=_e(t,n),o=Xt(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?tn(Jt(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function pn(e,t){return _n(_e(e.treePath,t),e.writeTree)}function _n(e,t){return{treePath:e,writeTree:t}}var gn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(i.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,dt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,ht(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,lt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Object(i.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,dt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),vn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),mn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Nt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){var a,u=Jt(e.visibleWrites,t),c=Xt(u,ue());if(null!=c)a=c;else{if(null==n)return[];a=tn(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(e.writeTree,e.treePath,t,n,0,i,o)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]},e}();function yn(e,t,n,r,o,s){var a=t.eventCache;if(null!=dn(r,n))return t;var u=void 0,c=void 0;if(ge(n))if(Object(i.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Gt(t),h=ln(r,l instanceof Ze?l:Ze.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{var d=cn(r,Gt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{var f=ce(n);if(".priority"===f){Object(i.assert)(1===le(n),"Can't have a priority with additional path components");var p=a.getNode(),_=hn(r,n,p,c=t.serverCache.getNode());u=null!=_?e.filter.updatePriority(p,_):a.getNode()}else{var g=he(n),v=void 0;if(a.isCompleteForChild(f)){c=t.serverCache.getNode();var m=hn(r,n,a.getNode(),c);v=null!=m?a.getNode().getImmediateChild(f).updateChild(g,m):a.getNode().getImmediateChild(f)}else v=fn(r,f,t.serverCache);u=null!=v?e.filter.updateChild(a.getNode(),f,v,g,o,s):a.getNode()}}return qt(t,u,a.isFullyInitialized()||ge(n),e.filter.filtersNodes())}function bn(e,t,n,r,i,o,s,a){var u,c=t.serverCache,l=s?e.filter:e.filter.getIndexedFilter();if(ge(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var d=ce(n);if(!c.isCompleteForPath(n)&&le(n)>1)return t;var f=he(n),p=c.getNode().getImmediateChild(d).updateChild(f,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,f,vn,null)}var _=Vt(t,u,c.isFullyInitialized()||ge(n),l.filtersNodes());return yn(e,_,n,i,new mn(i,_,o),a)}function En(e,t,n,r,i,o,s){var a,u,c=t.eventCache,l=new mn(i,t,o);if(ge(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),a=qt(t,u,!0,e.filter.filtersNodes());else{var h=ce(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),a=qt(t,u,c.isFullyInitialized(),c.isFiltered());else{var d=he(n),f=c.getNode().getImmediateChild(h),p=void 0;if(ge(d))p=r;else{var _=l.getCompleteChild(h);p=null!=_?".priority"===de(d)&&_.getChild(pe(d)).isEmpty()?_:_.updateChild(d,r):Ze.EMPTY_NODE}a=f.equals(p)?t:qt(t,e.filter.updateChild(c.getNode(),h,p,d,l,s),c.isFullyInitialized(),e.filter.filtersNodes())}}return a}function Cn(e,t){return e.eventCache.isCompleteForChild(t)}function On(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function Sn(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=ge(n)?r:new Kt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=On(0,t.serverCache.getNode().getImmediateChild(n),r);c=bn(e,c,new ae(n),u,i,o,s,a)}}),u.children.inorderTraversal(function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=On(0,t.serverCache.getNode().getImmediateChild(n),r);c=bn(e,c,new ae(n),h,i,o,s,a)}}),c}var Tn,wn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new ft(r.getIndex()),o=(n=r).loadsAllData()?new ft(n.getIndex()):n.hasLimit()?new _t(n):new pt(n);this.processor_=function(e){return{filter:e}}(o);var s=t.serverCache,a=t.eventCache,u=i.updateFullNode(Ze.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Ze.EMPTY_NODE,a.getNode(),null),l=new Nt(u,s.isFullyInitialized(),i.filtersNodes()),h=new Nt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ft(h,l),this.eventGenerator_=new Ut(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Dn(e,t){var n=Gt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ge(t)&&!n.getImmediateChild(ce(t)).isEmpty())?n.getChild(t):null}function Pn(e){return 0===e.eventRegistrations_.length}function kn(e,t,n){var r=[];if(n){Object(i.assert)(null==t,"A cancel should cancel all event registrations.");var o=e.query._path;e.eventRegistrations_.forEach(function(e){var t=e.createCancelEvent(n,o);t&&r.push(t)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var u=e.eventRegistrations_[a];if(u.matches(t)){if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}else s.push(u)}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function An(e,t,n,r){t.type===At.MERGE&&null!==t.source.queryId&&(Object(i.assert)(Gt(e.viewCache_),"We should always have a full cache before handling merges"),Object(i.assert)(Wt(e.viewCache_),"Missing event cache, even though we have a server cache"));var o,s,a=e.viewCache_,u=function(e,t,n,r,o){var s,a,u=new gn;if(n.type===At.OVERWRITE){var c=n;c.source.fromUser?s=En(e,t,c.path,c.snap,r,o,u):(Object(i.assert)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!ge(c.path),s=bn(e,t,c.path,c.snap,r,o,a,u))}else if(n.type===At.MERGE){var l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){var a=t;return r.foreach(function(r,u){var c=_e(n,r);Cn(t,ce(c))&&(a=En(e,a,c,u,i,o,s))}),r.foreach(function(r,u){var c=_e(n,r);Cn(t,ce(c))||(a=En(e,a,c,u,i,o,s))}),a}(e,t,l.path,l.children,r,o,u):(Object(i.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Sn(e,t,l.path,l.children,r,o,a,u))}else if(n.type===At.ACK_USER_WRITE){var h=n;s=h.revert?function(e,t,n,r,o,s){var a;if(null!=dn(r,n))return t;var u=new mn(r,t,o),c=t.eventCache.getNode(),l=void 0;if(ge(n)||".priority"===ce(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=cn(r,Gt(t));else{var d=t.serverCache.getNode();Object(i.assert)(d instanceof Ze,"serverChildren would be complete if leaf node"),h=ln(r,d)}l=e.filter.updateFullNode(c,h=h,s)}else{var f=ce(n),p=fn(r,f,t.serverCache);null==p&&t.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),(l=null!=p?e.filter.updateChild(c,f,p,he(n),u,s):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,Ze.EMPTY_NODE,he(n),u,s):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=cn(r,Gt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,a,s))}return a=t.serverCache.isFullyInitialized()||null!=dn(r,ue()),qt(t,l,a,e.filter.filtersNodes())}(e,t,h.path,r,o,u):function(e,t,n,r,i,o,s){if(null!=dn(i,n))return t;var a=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ge(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return bn(e,t,n,u.getNode().getChild(n),i,o,a,s);if(ge(n)){var c=new Kt(null);return u.getNode().forEachChild(Ie,function(e,t){c=c.set(new ae(e),t)}),Sn(e,t,n,c,i,o,a,s)}return t}var l=new Kt(null);return r.foreach(function(e,t){var r=_e(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))}),Sn(e,t,n,l,i,o,a,s)}(e,t,h.path,h.affectedTree,r,o,u)}else{if(n.type!==At.LISTEN_COMPLETE)throw Object(i.assertionError)("Unknown operation type: "+n.type);s=function(e,t,n,r,i){var o=t.serverCache;return yn(e,Vt(t,o.getNode(),o.isFullyInitialized()||ge(n),o.isFiltered()),n,r,vn,i)}(e,t,n.path,r,u)}var d=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Wt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ct(Wt(t)))}}(t,s,d),{viewCache:s,changes:d}}(e.processor_,a,t,n,r);return o=e.processor_,s=u.viewCache,Object(i.assert)(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.assert)(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.assert)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,In(e,u.changes,u.viewCache.eventCache.getNode(),null)}function In(e,t,n,r){return function(e,t,n,r){var i=[],o=[];return t.forEach(function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})}),Bt(e,i,"child_removed",t,r,n),Bt(e,i,"child_added",t,r,n),Bt(e,i,"child_moved",o,r,n),Bt(e,i,"child_changed",t,r,n),Bt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}var Mn,Rn=function(){this.views=new Map};function xn(e,t,n,r){var s,a,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(i.assert)(null!=c,"SyncTree gave us an op for an invalid query."),An(c,t,n,r)}var l=[];try{for(var h=Object(o.__values)(e.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(An(c=d.value,t,n,r))}catch(f){s={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Ln(e,t,n,r,i){var o=e.views.get(t._queryIdentifier);if(!o){var s=cn(n,i?r:null),a=!1;s?a=!0:r instanceof Ze?(s=ln(n,r),a=!1):(s=Ze.EMPTY_NODE,a=!1);var u=Ft(new Nt(s,a,!1),new Nt(r,i,!1));return new wn(t,u)}return o}function jn(e){var t,n,r=[];try{for(var i=Object(o.__values)(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Nn(e,t){var n,r,i=null;try{for(var s=Object(o.__values)(e.views.values()),a=s.next();!a.done;a=s.next())i=i||Dn(a.value,t)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function Un(e,t){return t._queryParams.loadsAllData()?qn(e):e.views.get(t._queryIdentifier)}function Bn(e,t){return null!=Un(e,t)}function Fn(e){return null!=qn(e)}function qn(e){var t,n;try{for(var r=Object(o.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Vn=1,Wn=function(e){this.listenProvider_=e,this.syncPointTree_=new Kt(null),this.pendingWriteTree_={visibleWrites:zt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Gn(e,t,n,r,o){return function(e,t,n,r,o){Object(i.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Ht(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?Yn(e,new Lt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Kn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});Object(i.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var o=r.visible,s=!1,a=e.allWrites.length-1;o&&a>=0;){var u=e.allWrites[a];u.visible&&(a>=n&&on(u,r.path)?o=!1:be(r.path,u.path)&&(s=!0)),a--}return!!o&&(s?(function(e){e.visibleWrites=an(e.allWrites,sn,ue()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=Qt(e.visibleWrites,r.path):L(r.children,function(t){e.visibleWrites=Qt(e.visibleWrites,_e(r.path,t))}),!0))}(e.pendingWriteTree_,t)){var o=new Kt(null);return null!=r.snap?o=o.set(ue(),!0):L(r.children,function(e){o=o.set(new ae(e),!0)}),Yn(e,new Rt(r.path,o,n))}return[]}function zn(e,t,n){return Yn(e,new Lt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Hn(e,t,n,r){var s=t._path,a=e.syncPointTree_.get(s),u=[];if(a&&("default"===t._queryIdentifier||Bn(a,t))){var c=function(e,t,n,r){var s,a,u=t._queryIdentifier,c=[],l=[],h=Fn(e);if("default"===u)try{for(var d=Object(o.__values)(e.views.entries()),f=d.next();!f.done;f=d.next()){var p,_=Object(o.__read)(f.value,2),g=_[0];l=l.concat(kn(p=_[1],n,r)),Pn(p)&&(e.views.delete(g),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(v){s={error:v}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}else(p=e.views.get(u))&&(l=l.concat(kn(p,n,r)),Pn(p)&&(e.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!Fn(e)&&c.push(new(Object(i.assert)(Tn,"Reference.ts has not been loaded"),Tn)(t._repo,t._path)),{removed:c,events:l}}(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(e){return e._queryParams.loadsAllData()}),d=e.syncPointTree_.findOnPath(s,function(e,t){return Fn(t)});if(h&&!d){var f=e.syncPointTree_.subtree(s);if(!f.isEmpty())for(var p=function(e){return e.fold(function(e,t,n){if(t&&Fn(t))return[qn(t)];var r=[];return t&&(r=jn(t)),L(n,function(e,t){r=r.concat(t)}),r})}(f),_=0;_<p.length;++_){var g=p[_],v=g.query,m=Jn(e,g);e.listenProvider_.startListening(or(v),er(e,v),m.hashFn,m.onComplete)}}!d&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(or(t),null):l.forEach(function(t){var n=e.queryToTagMap.get(tr(t));e.listenProvider_.stopListening(or(t),n)})),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=tr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function $n(e,t,n){var r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(e,t){var n=ve(e,r);o=o||Nn(t,n),s=s||Fn(t)});var a,u=e.syncPointTree_.get(r);u?(s=s||Fn(u),o=o||Nn(u,ue())):(u=new Rn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=o?a=!0:(a=!1,o=Ze.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=Nn(t,ue());n&&(o=o.updateImmediateChild(e,n))}));var c=Bn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=tr(t);Object(i.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Vn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var d=function(e,t,n,r,i,o){var s=Ln(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ze,function(e,t){r.push(lt(e,t))}),n.isFullyInitialized()&&r.push(ct(n.getNode())),In(e,r,n.getNode(),t)}(s,n)}(u,t,n,rn(e.pendingWriteTree_,r),o,a);if(!c&&!s){var f=Un(u,t);d=d.concat(function(e,t,n){var r=t._path,o=er(e,t),s=Jn(e,n),a=e.listenProvider_.startListening(or(t),o,s.hashFn,s.onComplete),u=e.syncPointTree_.subtree(r);if(o)Object(i.assert)(!Fn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(e,t,n){if(!ge(e)&&t&&Fn(t))return[qn(t).query];var r=[];return t&&(r=r.concat(jn(t).map(function(e){return e.query}))),L(n,function(e,t){r=r.concat(t)}),r}),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(or(h),er(e,h))}return a}(e,t,f))}return d}function Qn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,function(e,n){var r=Nn(n,ve(e,t));if(r)return r});return un(r,t,i,n,!0)}function Yn(e,t){return Xn(t,e.syncPointTree_,null,rn(e.pendingWriteTree_,ue()))}function Xn(e,t,n,r){if(ge(e.path))return Zn(e,t,n,r);var i=t.get(ue());null==n&&null!=i&&(n=Nn(i,ue()));var o=[],s=ce(e.path),a=e.operationForChild(s),u=t.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=pn(r,s);o=o.concat(Xn(a,u,c,l))}return i&&(o=o.concat(xn(i,e,r,n))),o}function Zn(e,t,n,r){var i=t.get(ue());null==n&&null!=i&&(n=Nn(i,ue()));var o=[];return t.children.inorderTraversal(function(t,i){var s=n?n.getImmediateChild(t):null,a=pn(r,t),u=e.operationForChild(t);u&&(o=o.concat(Zn(u,i,s,a)))}),i&&(o=o.concat(xn(i,e,r,n))),o}function Jn(e,t){var n=t.query,r=er(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Ze.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=nr(e,n);if(r){var i=rr(r),o=i.path,s=i.queryId,a=ve(o,t);return ir(e,o,new xt(It(s),a))}return[]}(e,n._path,r):function(e,t){return Yn(e,new xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Hn(e,n,null,i)}}}function er(e,t){var n=tr(t);return e.queryToTagMap.get(n)}function tr(e){return e._path.toString()+"$"+e._queryIdentifier}function nr(e,t){return e.tagToQueryMap.get(t)}function rr(e){var t=e.indexOf("$");return Object(i.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ae(e.substr(0,t))}}function ir(e,t,n){var r=e.syncPointTree_.get(t);return Object(i.assert)(r,"Missing sync point for query tag that we're tracking"),xn(r,n,rn(e.pendingWriteTree_,t),null)}function or(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(i.assert)(Mn,"Reference.ts has not been loaded"),Mn)(e._repo,e._path):e}var sr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),ar=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=_e(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Qn(this.syncTree_,this.path_)},e}(),ur=function(e,t,n){return e&&"object"==typeof e?(Object(i.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?cr(e[".sv"],t,n):"object"==typeof e[".sv"]?lr(e[".sv"],t):void Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},cr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(i.assert)(!1,"Unexpected server value: "+e)}},lr=function(e,t,n){e.hasOwnProperty("increment")||Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Object(i.assert)(!1,"Unexpected increment value: "+r);var o=t.node();if(Object(i.assert)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var s=o.getValue();return"number"!=typeof s?r:s+r},hr=function(e,t,n,r){return fr(t,new ar(n,e),r)},dr=function(e,t,n){return fr(e,new sr(t),n)};function fr(e,t,n){var r,i=e.getPriority().val(),o=ur(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=ur(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new Ke(a,et(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ke(o))),u.forEachChild(ze,function(e,i){var o=fr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))}),r}var pr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function _r(e,t){for(var n=t instanceof ae?t:new ae(t),r=e,o=ce(n);null!==o;){var s=Object(i.safeGet)(r.node.children,o)||{children:{},childCount:0};r=new pr(o,r,s),o=ce(n=he(n))}return r}function gr(e){return e.node.value}function vr(e,t){e.node.value=t,Cr(e)}function mr(e){return e.node.childCount>0}function yr(e,t){L(e.node.children,function(n,r){t(new pr(n,e,r))})}function br(e,t,n,r){n&&!r&&t(e),yr(e,function(e){br(e,t,!0,r)}),n&&r&&t(e)}function Er(e){return new ae(null===e.parent?e.name:Er(e.parent)+"/"+e.name)}function Cr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===gr(e)&&!mr(e)}(n),o=Object(i.contains)(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,Cr(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,Cr(e))}(e.parent,e.name,e)}var Or=/[\[\].#$\/\u0000-\u001F\u007F]/,Sr=/[\[\].#$\u0000-\u001F\u007F]/,Tr=function(e){return"string"==typeof e&&0!==e.length&&!Or.test(e)},wr=function(e){return"string"==typeof e&&0!==e.length&&!Sr.test(e)},Dr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!D(e)||e&&"object"==typeof e&&Object(i.contains)(e,".sv")},Pr=function(e,t,n,r){r&&void 0===t||kr(Object(i.errorPrefix)(e,"value"),t,n)},kr=function e(t,n,r){var o=r instanceof ae?new Ee(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Oe(o));if("function"==typeof n)throw new Error(t+"contains a function "+Oe(o)+" with contents = "+n.toString());if(D(n))throw new Error(t+"contains "+n.toString()+" "+Oe(o));if("string"==typeof n&&n.length>10485760/3&&Object(i.stringLength)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Oe(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var s=!1,a=!1;if(L(n,function(n,r){if(".value"===n)s=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!Tr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Oe(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(i.stringLength)(t),Ce(e)}(o,n),e(t,r,o),c=(u=o).parts_.pop(),u.byteLength_-=Object(i.stringLength)(c),u.parts_.length>0&&(u.byteLength_-=1)}),s&&a)throw new Error(t+' contains ".value" child '+Oe(o)+" in addition to actual children.")}},Ar=function(e,t,n,r){if(!r||void 0!==t){var o=Object(i.errorPrefix)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");var s=[];L(t,function(e,t){var r=new ae(e);if(kr(o,t,_e(n,r)),".priority"===de(r)&&!Dr(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=fe(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Tr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(me);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&be(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},Ir=function(e,t,n){if(!n||void 0!==t){if(D(t))throw new Error(Object(i.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dr(t))throw new Error(Object(i.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Rr=function(e,t,n,r){if(!(r&&void 0===n||Tr(n)))throw new Error(Object(i.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xr=function(e,t,n,r){if(!(r&&void 0===n||wr(n)))throw new Error(Object(i.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lr=function(e,t){if(".info"===ce(t))throw new Error(e+" failed = Can't modify data under /.info/")},jr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Tr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wr(e)}(n))throw new Error(Object(i.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Nr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.errorPrefix)(e,t)+"must be a boolean.")},Ur=function(){this.eventLists_=[],this.recursionDepth_=0};function Br(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||ye(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Fr(e,t,n){Br(e,n),Vr(e,function(e){return ye(e,t)})}function qr(e,t,n){Br(e,n),Vr(e,function(e){return be(e,t)||be(t,e)})}function Vr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Wr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Wr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();y&&C("event: "+n.toString()),B(r)}}}var Gr=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ur,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=St(),this.transactionQueueTree_=new pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Kr(e){var t=e.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function zr(e){return(t=(t={timestamp:Kr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Hr(e,t,n,r,o){e.dataUpdateCount++;var s=new ae(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(o)if(r){var u=Object(i.map)(n,function(e){return et(e)});a=function(e,t,n,r){var i=nr(e,r);if(i){var o=rr(i),s=o.path,a=o.queryId,u=ve(s,t),c=Kt.fromObject(n);return ir(e,s,new jt(It(a),u,c))}return[]}(e.serverSyncTree_,s,u,o)}else{var c=et(n);a=function(e,t,n,r){var i=nr(e,r);if(null!=i){var o=rr(i),s=o.path,a=o.queryId,u=ve(s,t);return ir(e,s,new Lt(It(a),u,n))}return[]}(e.serverSyncTree_,s,c,o)}else if(r){var l=Object(i.map)(n,function(e){return et(e)});a=function(e,t,n){var r=Kt.fromObject(n);return Yn(e,new jt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,l)}else{var h=et(n);a=zn(e.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=si(e,s)),qr(e.eventQueue_,d,a)}function $r(e,t){Qr(e,"connected",t),!1===t&&function(e){ni(e,"onDisconnectEvents");var t=zr(e),n=St();Dt(e.onDisconnect_,ue(),function(r,i){var o=hr(r,i,e.serverSyncTree_,t);Tt(n,r,o)});var r=[];Dt(n,ue(),function(t,n){r=r.concat(zn(e.serverSyncTree_,t,n));var i=hi(e,t);si(e,i)}),e.onDisconnect_=St(),qr(e.eventQueue_,ue(),r)}(e)}function Qr(e,t,n){var r=new ae("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);var o=zn(e.infoSyncTree_,r,i);qr(e.eventQueue_,r,o)}function Yr(e){return e.nextWriteId_++}function Xr(e,t,n,r,i){ni(e,"set",{path:t.toString(),value:n,priority:r});var o=zr(e),s=et(n,r),a=Qn(e.serverSyncTree_,t),u=dr(s,a,o),c=Yr(e),l=Gn(e.serverSyncTree_,t,u,c,!0);Br(e.eventQueue_,l),e.server_.put(t.toString(),s.val(!0),function(n,r){var o="ok"===n;o||w("set at "+t+" failed: "+n);var s=Kn(e.serverSyncTree_,c,!o);qr(e.eventQueue_,t,s),ri(0,i,n,r)});var h=hi(e,t);si(e,h),qr(e.eventQueue_,h,[])}function Zr(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&wt(e.onDisconnect_,t),ri(0,n,r,i)})}function Jr(e,t,n,r){var i=et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(n,o){"ok"===n&&Tt(e.onDisconnect_,t,i),ri(0,r,n,o)})}function ei(e,t,n){var r;r=".info"===ce(t._path)?Hn(e.infoSyncTree_,t,n):Hn(e.serverSyncTree_,t,n),Fr(e.eventQueue_,t._path,r)}function ti(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function ni(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),C.apply(void 0,Object(o.__spreadArray)([r],Object(o.__read)(t)))}function ri(e,t,n,r){t&&B(function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}})}function ii(e,t,n){return Qn(e.serverSyncTree_,t,n)||Ze.EMPTY_NODE}function oi(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||li(e,t),gr(t)){var n=ui(e,t);Object(i.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=n.map(function(e){return e.currentWriteId}),o=ii(e,t,r),s=o,a=o.hash(),u=0;u<n.length;u++){var c=n[u];Object(i.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=ve(t,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),d=t;e.server_.put(d.toString(),h,function(r){ni(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(t){n[t].status=2,i=i.concat(Kn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},a=0;a<n.length;a++)s(a);for(li(e,_r(e.transactionQueueTree_,t)),oi(e,e.transactionQueueTree_),qr(e.eventQueue_,t,i),a=0;a<o.length;a++)B(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(w("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;si(e,t)}},a)}(e,Er(t),n)}else mr(t)&&yr(t,function(t){oi(e,t)})}function si(e,t){var n=ai(e,t),r=Er(n);return function(e,t,n){if(0!==t.length){for(var r=[],o=[],s=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),a=function(a){var u,c=t[a],l=ve(n,c.path),h=!1;if(Object(i.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,o=o.concat(Kn(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",o=o.concat(Kn(e.serverSyncTree_,c.currentWriteId,!0));else{var d=ii(e,c.path,s);c.currentInputSnapshot=d;var f=t[a].update(d.val());if(void 0!==f){kr("transaction failed: Data returned ",f,c.path);var p=et(f);"object"==typeof f&&null!=f&&Object(i.contains)(f,".priority")||(p=p.updatePriority(d.getPriority()));var _=c.currentWriteId,g=zr(e),v=dr(p,d,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=v,c.currentWriteId=Yr(e),s.splice(s.indexOf(_),1),o=(o=o.concat(Gn(e.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally))).concat(Kn(e.serverSyncTree_,_,!0))}else h=!0,u="nodata",o=o.concat(Kn(e.serverSyncTree_,c.currentWriteId,!0))}qr(e.eventQueue_,n,o),o=[],h&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===u?function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)}:function(){return t[a].onComplete(new Error(u),!1,null)}))},u=0;u<t.length;u++)a(u);for(li(e,e.transactionQueueTree_),u=0;u<r.length;u++)B(r[u]);oi(e,e.transactionQueueTree_)}}(e,ui(e,n),r),r}function ai(e,t){var n,r=e.transactionQueueTree_;for(n=ce(t);null!==n&&void 0===gr(r);)r=_r(r,n),n=ce(t=he(t));return r}function ui(e,t){var n=[];return ci(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function ci(e,t,n){var r=gr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);yr(t,function(t){ci(e,t,n)})}function li(e,t){var n=gr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,vr(t,n.length>0?n:void 0)}yr(t,function(t){li(e,t)})}function hi(e,t){var n=Er(ai(e,t)),r=_r(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){di(e,t)}),di(e,r),br(r,function(t){di(e,t)}),n}function di(e,t){var n=gr(t);if(n){for(var r=[],o=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(i.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(i.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Kn(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?vr(t,void 0):n.length=s+1,qr(e.eventQueue_,Er(t),o),a=0;a<r.length;a++)B(r[a])}}var fi=function(e,t){var n=pi(e),r=n.namespace;return"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&w("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new K(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ae(n.pathString)}},pi=function(e){var t="",n="",r="",i="",s="",a=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,d)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(o.__values)(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):w("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:s}},_i=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.stringify)(this.snapshot.exportVal())},e}(),gi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),vi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(i.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),mi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new i.Deferred;return Zr(this._repo,this._path,e.wrapCallback(function(){})),e.promise},e.prototype.remove=function(){Lr("OnDisconnect.remove",this._path);var e=new i.Deferred;return Jr(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},e.prototype.set=function(e){Lr("OnDisconnect.set",this._path),Pr("OnDisconnect.set",e,this._path,!1);var t=new i.Deferred;return Jr(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e.prototype.setWithPriority=function(e,t){Lr("OnDisconnect.setWithPriority",this._path),Pr("OnDisconnect.setWithPriority",e,this._path,!1),Ir("OnDisconnect.setWithPriority",t,!1);var n=new i.Deferred;return function(e,t,n,r,i){var o=et(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),function(n,r){"ok"===n&&Tt(e.onDisconnect_,t,o),ri(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(function(){})),n.promise},e.prototype.update=function(e){Lr("OnDisconnect.update",this._path),Ar("OnDisconnect.update",e,this._path,!1);var t=new i.Deferred;return function(e,t,n,r){if(Object(i.isEmpty)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void ri(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,function(i,o){"ok"===i&&L(n,function(n,r){var i=et(r);Tt(e.onDisconnect_,_e(t,n),i)}),ri(0,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e}(),yi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return ge(this._path)?null:de(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Oi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Et(this._queryParams),t=R(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Et(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(i.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=ye(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function bi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ei(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ie){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==P)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==k)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(e.getIndex()===ze){if(null!=t&&!Dr(t)||null!=n&&!Dr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.assert)(e.getIndex()instanceof rt||e.getIndex()===it,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ci(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Oi=function(e){function t(t,n){return e.call(this,t,n,new gt,!1)||this}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=pe(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(yi),Si=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ae(t),r=Di(this.ref,t);return new e(this._node.getChild(n),r,ze)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return t(new e(i,Di(n.ref,r),ze))})},e.prototype.hasChild=function(e){var t=new ae(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Ti(e,t){return(e=Object(i.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Di(e._root,t):e._root}function wi(e,t){(e=Object(i.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=fi(t,e._repo.repoInfo_.nodeAdmin);jr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ti(e,n.path.toString())}function Di(e,t){var n;return null===ce((e=Object(i.getModularInstance)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xr("child","path",n,!1)):xr("child","path",t,!1),new Oi(e._repo,_e(e._path,t))}function Pi(e,t){e=Object(i.getModularInstance)(e),Lr("push",e._path),Pr("push",t,e._path,!0);var n,r=Kr(e._repo),o=st(r),s=Di(e,o),a=Di(e,o);return n=null!=t?Ai(a,t).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function ki(e){return Lr("remove",e._path),Ai(e,null)}function Ai(e,t){e=Object(i.getModularInstance)(e),Lr("set",e._path),Pr("set",t,e._path,!1);var n=new i.Deferred;return Xr(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function Ii(e,t){e=Object(i.getModularInstance)(e),Lr("setPriority",e._path),Ir("setPriority",t,!1);var n=new i.Deferred;return Xr(e._repo,_e(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function Mi(e,t,n){if(Lr("setWithPriority",e._path),Pr("setWithPriority",t,e._path,!1),Ir("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new i.Deferred;return Xr(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function Ri(e,t){Ar("update",t,e._path,!1);var n=new i.Deferred;return function(e,t,n,r){ni(e,"update",{path:t.toString(),value:n});var o=!0,s=zr(e),a={};if(L(n,function(n,r){o=!1,a[n]=hr(_e(t,n),et(r),e.serverSyncTree_,s)}),o)C("update() called with empty data.  Don't do anything."),ri(0,r,"ok",void 0);else{var u=Yr(e),c=function(e,t,n,r){!function(e,t,n,r){Object(i.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=$t(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var o=Kt.fromObject(n);return Yn(e,new jt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(e.serverSyncTree_,t,a,u);Br(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(n,i){var o="ok"===n;o||w("update at "+t+" failed: "+n);var s=Kn(e.serverSyncTree_,u,!o),a=s.length>0?si(e,t):t;qr(e.eventQueue_,a,s),ri(0,r,n,i)}),L(n,function(n){var r=hi(e,_e(t,n));si(e,r)}),qr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}var xi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new _i("value",this,new Si(e.snapshotNode,new Oi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new gi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Li=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return this.eventType===("children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new gi(this,e,t):null},e.prototype.createEvent=function(e,t){Object(i.assert)(null!=e.childName,"Child events should have a childName.");var n=Di(new Oi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new _i(e.type,this,new Si(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function ji(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(t,n){ei(e._repo,e,c),s(t,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new vi(n,o||void 0),c="value"===t?new xi(u):new Li(t,u);return function(e,t,n){var r;r=".info"===ce(t._path)?$n(e.infoSyncTree_,t,n):$n(e.serverSyncTree_,t,n),Fr(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return ei(e._repo,e,c)}}function Ni(e,t,n,r){return ji(e,"value",t,n,r)}function Ui(e,t,n,r){return ji(e,"child_added",t,n,r)}function Bi(e,t,n,r){return ji(e,"child_changed",t,n,r)}function Fi(e,t,n,r){return ji(e,"child_moved",t,n,r)}function qi(e,t,n,r){return ji(e,"child_removed",t,n,r)}function Vi(e,t,n){var r=null,i=n?new vi(n):null;"value"===t?r=new xi(i):t&&(r=new Li(t,i)),ei(e._repo,e,r)}var Wi=function(){},Gi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Pr("endAt",this._value,e._path,!0);var t=mt(e._queryParams,this._value,this._key);if(Ci(t),Ei(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yi(e._repo,e._path,t,e._orderByCalled)},t}(Wi);function Ki(e,t){return Rr("endAt","key",t,!0),new Gi(e,t)}var zi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Pr("endBefore",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Ie?("string"==typeof n&&(n=ut(n)),i=mt(t,n,r)):i=mt(t,n,null==r?P:ut(r)),i.endBeforeSet_=!0,i);if(Ci(o),Ei(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yi(e._repo,e._path,o,e._orderByCalled)},t}(Wi);function Hi(e,t){return Rr("endBefore","key",t,!0),new zi(e,t)}var $i=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Pr("startAt",this._value,e._path,!0);var t=vt(e._queryParams,this._value,this._key);if(Ci(t),Ei(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yi(e._repo,e._path,t,e._orderByCalled)},t}(Wi);function Qi(e,t){return void 0===e&&(e=null),Rr("startAt","key",t,!0),new $i(e,t)}var Yi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Pr("startAfter",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Ie?("string"==typeof n&&(n=at(n)),i=vt(t,n,r)):i=vt(t,n,null==r?k:at(r)),i.startAfterSet_=!0,i);if(Ci(o),Ei(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yi(e._repo,e._path,o,e._orderByCalled)},t}(Wi);function Xi(e,t){return Rr("startAfter","key",t,!0),new Yi(e,t)}var Zi=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="l",n),e._orderByCalled);var t,n},t}(Wi);function Ji(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Zi(e)}var eo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="r",n),e._orderByCalled);var t,n},t}(Wi);function to(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new eo(e)}var no=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(o.__extends)(t,e),t.prototype._apply=function(e){bi(e,"orderByChild");var t=new ae(this._path);if(ge(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new rt(t),r=yt(e._queryParams,n);return Ei(r),new yi(e._repo,e._path,r,!0)},t}(Wi);function ro(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xr("orderByChild","path",e,!1),new no(e)}var io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype._apply=function(e){bi(e,"orderByKey");var t=yt(e._queryParams,Ie);return Ei(t),new yi(e._repo,e._path,t,!0)},t}(Wi);function oo(){return new io}var so=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype._apply=function(e){bi(e,"orderByPriority");var t=yt(e._queryParams,ze);return Ei(t),new yi(e._repo,e._path,t,!0)},t}(Wi);function ao(){return new so}var uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype._apply=function(e){bi(e,"orderByValue");var t=yt(e._queryParams,it);return Ei(t),new yi(e._repo,e._path,t,!0)},t}(Wi);function co(){return new uo}var lo,ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){if(Pr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Gi(this._value,this._key)._apply(new $i(this._value,this._key)._apply(e))},t}(Wi);function fo(e,t){return Rr("equalTo","key",t,!0),new ho(e,t)}function po(e){for(var t,n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=Object(i.getModularInstance)(e);try{for(var u=Object(o.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;a=l._apply(a)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a}lo=Oi,Object(i.assert)(!Tn,"__referenceConstructor has already been defined"),Tn=lo,function(e){Object(i.assert)(!Mn,"__referenceConstructor has already been defined"),Mn=e}(Oi);var _o={},go=!1;function vo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var s,a=fi(o,i),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=fi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new W(W.OWNER):new V(e.name,e.options,t);jr("Invalid Firebase Database URL",a),ge(a.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=_o[t.name];i||(_o[t.name]=i={});var o=i[e.toURLString()];return o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Gr(e,go,n,r),i[e.toURLString()]=o,o}(u,e,l,new q(e.name,n));return new mo(h,e)}var mo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=Y(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ct(e.repoInfo_,function(t,n,r,i){Hr(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return $r(e,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}e.persistentConnection_=new De(e.repoInfo_,t,function(t,n,r,i){Hr(e,t,n,r,i)},function(t){$r(e,t)},function(t){!function(e,t){L(t,function(t,n){Qr(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,o;e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=(r=function(){return new kt(e.stats_,e.server_)},o=e.repoInfo_.toString(),Q[o]||(Q[o]=r()),Q[o]),e.infoData_=new Ot,e.infoSyncTree_=new Wn({startListening:function(t,n,r,i){var o=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=zn(e.infoSyncTree_,t._path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),Qr(e,"connected",!1),e.serverSyncTree_=new Wn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,function(n,r){var o=i(n,r);qr(e.eventQueue_,t._path,o)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Oi(this._repo,ue())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,(n=_o[t=this.app.name])&&n[e.key]===e||T("Database "+t+"("+e.repoInfo_+") has already been deleted."),ti(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")},e}();function yo(e){(e=Object(i.getModularInstance)(e))._checkNotDeleted("goOffline"),ti(e._repo)}function bo(e){var t;(e=Object(i.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}var Eo={".sv":"timestamp"},Co=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Oo(e,t,n){var r;if(e=Object(i.getModularInstance)(e),Lr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new i.Deferred,a=Ni(e,function(){});return function(t,n,r,o,a,u){ni(t,"transaction on "+n);var c={path:n,update:r,onComplete:function(t,n,r){var i=null;t?s.reject(t):(i=new Si(r,new Oi(e._repo,e._path),ze),s.resolve(new Co(n,i)))},status:null,order:g(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=ii(t,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{kr("transaction failed: Data returned ",h,c.path),c.status=0;var d=_r(t.transactionQueueTree_,n),f=gr(d)||[];f.push(c),vr(d,f);var p=void 0;"object"==typeof h&&null!==h&&Object(i.contains)(h,".priority")?(p=Object(i.safeGet)(h,".priority"),Object(i.assert)(Dr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Qn(t.serverSyncTree_,n)||Ze.EMPTY_NODE).getPriority().val();var _=zr(t),v=et(h,p),m=dr(v,l,_);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=m,c.currentWriteId=Yr(t);var y=Gn(t.serverSyncTree_,n,m,c.currentWriteId,c.applyLocally);qr(t.eventQueue_,n,y),oi(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,a,o),s.promise}var So=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(i.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.remove=function(e){Object(i.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.set=function(e,t){Object(i.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(i.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},e.prototype.setWithPriority=function(e,t,n){Object(i.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},e.prototype.update=function(e,t){if(Object(i.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,w("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.validateCallback)("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then(function(){return t(null)},function(e){return t(e)}),o},e}(),To=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(i.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),wo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(i.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(i.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(i.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(i.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(i.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),xr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(i.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),xr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(i.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(i.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(i.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return Object(i.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(i.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(i.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Po(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Do=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,o){var s,a=this;Object(i.validateArgCount)("Query.on",2,4,arguments.length),Object(i.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,o),c=function(e,t){n.call(u.context,new wo(a.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(t){case"value":return Ni(this._delegate,c,l),n;case"child_added":return Ui(this._delegate,c,l),n;case"child_removed":return qi(this._delegate,c,l),n;case"child_changed":return Bi(this._delegate,c,l),n;case"child_moved":return Fi(this._delegate,c,l),n;default:throw new Error(Object(i.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(i.validateArgCount)("Query.off",0,3,arguments.length),Mr("Query.off",e,!0),Object(i.validateCallback)("Query.off","callback",t,!0),Object(i.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Vi(this._delegate,e,r)}else Vi(this._delegate,e)},e.prototype.get=function(){var e=this;return function(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(e,t){var i=ve(e,n);r=r||Nn(t,i)});var i=e.syncPointTree_.get(n);i?r=r||Nn(i,ue()):(i=new Rn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,s=o?new Nt(r,!0,!1):null;return Wt(Ln(i,t,rn(e.pendingWriteTree_,t._path),o?s.getNode():Ze.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(function(n){var r=et(n).withIndex(t._queryParams.getIndex()),i=zn(e.serverSyncTree_,t._path,r);return Fr(e.eventQueue_,t._path,i),Promise.resolve(r)},function(n){return ni(e,"get for query "+Object(i.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))})}((e=Object(i.getModularInstance)(e))._repo,e).then(function(t){return new Si(t,new Oi(e._repo,e._path),e._queryParams.getIndex())})}(this._delegate).then(function(t){return new wo(e.database,t)})},e.prototype.once=function(t,n,r,o){var s=this;Object(i.validateArgCount)("Query.once",1,4,arguments.length),Object(i.validateCallback)("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,o),u=new i.Deferred,c=function(e,t){var r=new wo(s.database,e);n&&n.call(a.context,r,t),u.resolve(r)};c.userCallback=n,c.context=a.context;var l=function(e){a.cancel&&a.cancel.call(a.context,e),u.reject(e)};switch(t){case"value":Ni(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Ui(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":qi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Bi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Fi(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(i.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(i.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,po(this._delegate,Ji(t)))},e.prototype.limitToLast=function(t){return Object(i.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,po(this._delegate,to(t)))},e.prototype.orderByChild=function(t){return Object(i.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,po(this._delegate,ro(t)))},e.prototype.orderByKey=function(){return Object(i.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,po(this._delegate,oo()))},e.prototype.orderByPriority=function(){return Object(i.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,po(this._delegate,ao()))},e.prototype.orderByValue=function(){return Object(i.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,po(this._delegate,co()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,po(this._delegate,Qi(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,po(this._delegate,Xi(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,po(this._delegate,Ki(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,po(this._delegate,Hi(t,n)))},e.prototype.equalTo=function(t,n){return Object(i.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,po(this._delegate,fo(t,n)))},e.prototype.toString=function(){return Object(i.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(i.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(i.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(i.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,Object(i.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(i.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Po(this.database,new Oi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Po=function(e){function t(t,n){var r=e.call(this,t,new yi(n._repo,n._path,new gt,!1))||this;return r.database=t,r._delegate=n,r}return Object(o.__extends)(t,e),t.prototype.getKey=function(){return Object(i.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(i.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,Di(this._delegate,e))},t.prototype.getParent=function(){Object(i.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(i.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(i.validateArgCount)("Reference.set",1,2,arguments.length),Object(i.validateCallback)("Reference.set","onComplete",t,!0);var n=Ai(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},t.prototype.update=function(e,t){if(Object(i.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,w("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lr("Reference.update",this._delegate._path),Object(i.validateCallback)("Reference.update","onComplete",t,!0);var o=Ri(this._delegate,e);return t&&o.then(function(){return t(null)},function(e){return t(e)}),o},t.prototype.setWithPriority=function(e,t,n){Object(i.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Mi(this._delegate,e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},t.prototype.remove=function(e){Object(i.validateArgCount)("Reference.remove",0,1,arguments.length),Object(i.validateCallback)("Reference.remove","onComplete",e,!0);var t=ki(this._delegate);return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},t.prototype.transaction=function(e,t,n){var r=this;Object(i.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(i.validateCallback)("Reference.transaction","transactionUpdate",e,!1),Object(i.validateCallback)("Reference.transaction","onComplete",t,!0),Nr("Reference.transaction","applyLocally",n,!0);var o=Oo(this._delegate,e,{applyLocally:n}).then(function(e){return new To(e.committed,new wo(r.database,e.snapshot))});return t&&o.then(function(e){return t(null,e.committed,e.snapshot)},function(e){return t(e,!1,null)}),o},t.prototype.setPriority=function(e,t){Object(i.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(i.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=Ii(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},t.prototype.push=function(e,n){var r=this;Object(i.validateArgCount)("Reference.push",0,2,arguments.length),Object(i.validateCallback)("Reference.push","onComplete",n,!0);var o=Pi(this._delegate,e),s=o.then(function(e){return new t(r.database,e)});n&&s.then(function(){return n(null)},function(e){return n(e)});var a=new t(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},t.prototype.onDisconnect=function(){return Lr("Reference.onDisconnect",this._delegate._path),new So(new mi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Do),ko=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),(e=Object(i.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var o=e._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new W(W.OWNER);else if(r.mockUserToken){var a="string"==typeof r.mockUserToken?r.mockUserToken:Object(i.createMockUserToken)(r.mockUserToken,e.app.options.projectId);s=new W(a)}!function(e,t,n,r){e.repoInfo_=new K(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(o,t,n,s)}(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(i.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Po){var t=wi(this._delegate,e.toString());return new Po(this,t)}return t=Ti(this._delegate,e),new Po(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(i.validateArgCount)(t,1,1,arguments.length);var n=wi(this._delegate,e);return new Po(this,n)},e.prototype.goOffline=function(){return Object(i.validateArgCount)("database.goOffline",0,0,arguments.length),yo(this._delegate)},e.prototype.goOnline=function(){return Object(i.validateArgCount)("database.goOnline",0,0,arguments.length),bo(this._delegate)},e.ServerValue={TIMESTAMP:Eo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),Ao=Object.freeze({__proto__:null,forceLongPolling:function(){te.forceDisallow(),Z.forceAllow()},forceWebSockets:function(){Z.forceDisallow()},isWebSocketsAvailable:function(){return te.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Pt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(e,t){return Math.max(t.length,e)},0);L(n,function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)})}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){e.stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,i=e.customAuthImpl,o=e.namespace,s=e.nodeAdmin,a=void 0!==s&&s;u(e.version);var c=new r.Provider("auth-internal",new r.ComponentContainer("database-standalone"));return c.setComponent(new r.Component("auth-internal",function(){return i},"PRIVATE")),{instance:new ko(vo(t,c,void 0,n,a),t),namespace:o}}}),Io=De;De.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},De.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Mo=Object.freeze({__proto__:null,DataConnection:Io,RealTimeConnection:re,hijackHash:function(e){var t=De.prototype.put;return De.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){De.prototype.put=t}},ConnectionTarget:K,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){go=e}(e)}}),Ro=ko.ServerValue;!function(t){u(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new r.Component("database",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ko(vo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Po,Query:Do,Database:ko,DataSnapshot:wo,enableLogging:E,INTERNAL:Ao,ServerValue:Ro,TEST_ACCESS:Mo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),Object(i.isNodeSdk)()&&(e.exports=n)}(t.default)}).call(this,n("3UD+")(e))},"7+OI":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("HDdC");function i(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},"7Hc7":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=1,i=Promise.resolve(),o={};function s(e){return e in o&&(delete o[e],!0)}var a=function(e){var t=r++;return o[t]=!0,i.then(function(){return s(t)&&e()}),t},u=function(e){s(e)},c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=a(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(u(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(c)},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a"),c=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e,t,o){var s;switch(_classCallCheck(this,r),(s=n.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!e){s.destination=i.a;break}if("object"==typeof e){e instanceof r?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(_assertThisInitialized(s))):(s.syncErrorThrowable=!0,s.destination=new l(_assertThisInitialized(s),e));break}default:s.syncErrorThrowable=!0,s.destination=new l(_assertThisInitialized(s),e,t,o)}return s}return _createClass(r,[{key:t,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(r.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,n){var i=new r(e,t,n);return i.syncErrorThrowable=!1,i}}]),r}(o.a,s.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,s,a){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,s=o.error,a=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=s,u._complete=a,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=a.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},"9jGm":function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d});var r=n("l7P3"),i=(n("VRyK"),n("HDdC"));n("XNiG"),n("NXyV"),n("WMd4"),n("mCNh"),n("LRne"),n("7o/Q"),n("dkDA"),n("lJxs"),n("JIr8");var o=n("pLZG");n("OQgR"),n("5+tZ"),n("l7GE"),n("51Dv"),n("ZUHj"),n("Cfvw"),n("kgNN"),n("IzEk"),n("bOdf"),n("nYR2"),n("zp1y");var s=n("fXoL"),a={dispatch:!0,useEffectsErrorHandler:!0};function u(e,t){var n=e(),r=Object.assign(Object.assign({},a),t);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:r}),n}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r,i;r=t,i=Object.assign(Object.assign(Object.assign({},a),e),{propertyName:n}),function(e){return e.constructor.hasOwnProperty("__@ngrx/effects__")}(r)?r.constructor["__@ngrx/effects__"].push(i):Object.defineProperty(r.constructor,"__@ngrx/effects__",{value:[i]})}}var l,h=((l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this),e&&(r.source=e),r}return _createClass(n,[{key:"lift",value:function(e){var t=new n;return t.source=this,t.operator=e,t}}]),n}(i.a)).\u0275fac=function(e){return new(e||l)(s.cc(r.b))},l.\u0275prov=s.Mb({token:l,factory:l.\u0275fac}),l);function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(o.a)(function(e){return t.some(function(t){return"string"==typeof t?t===e.type:t.type===e.type})})}new s.r("@ngrx/effects Internal Root Guard"),new s.r("@ngrx/effects User Provided Effects"),new s.r("@ngrx/effects Internal Root Effects"),new s.r("@ngrx/effects Root Effects"),new s.r("@ngrx/effects Internal Feature Effects"),new s.r("@ngrx/effects Feature Effects"),new s.r("@ngrx/effects Effects Error Handler"),Object(r.g)("@ngrx/effects/init")},"9ppp":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},Amjd:function(e,t,n){!function(e){"use strict";var t="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"],i=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}();function o(e){return e&&e.tagName}function s(e,t,n){void 0===n&&(n=!0),document.addEventListener(e,t,!!i&&{passive:n})}function a(e,t){document.removeEventListener(e,t)}function u(e,t,n,r){void 0===r&&(r=!1);var o=i?{passive:!0,capture:r}:r;return e.addEventListener(t,n,o),{off:function(){e.removeEventListener(t,n,o)}}}function c(e){return 0===e.length?0:e.reduce(function(e,t){return t+e},0)/e.length}function l(e,t){for(var n=0;n<e.changedTouches.length;n++)if(e.changedTouches[n].identifier===t)return!0;return!1}function h(e,t,n){for(var r=[],i=[],o=0;o<t.touches.length;o++){var s=t.touches[o];r.push(s[e+"X"]),i.push(s[e+"Y"])}n.x=c(r),n.y=c(i)}var d=["","-webkit-"];function f(e,t,n,r,i){void 0===i&&(i=!0);var o=t.x,s=t.y;r&&(o+=r.x,s+=r.y),i&&(o-=parseInt(e.offsetWidth,10)/2,s-=parseInt(e.offsetHeight,10)/2);for(var a="translate3d("+o+"px,"+s+"px, 0)",u=0;u<d.length;u++)e.style[d[u]+"transform"]=a+" "+n[u]}var p=function(){function e(e,t){this.t=e,this.i=t,this.s=r[0]}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this.s},set:function(e){0!==this.t.mode&&n.indexOf(e)>-1&&(this.s=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(e){2===this.t.mode&&n.indexOf(e)>-1&&(this.t.effectAllowed=e)},enumerable:!0,configurable:!0}),e.prototype.setData=function(e,t){if(2===this.t.mode){if(e.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[e]=t,-1===this.t.types.indexOf(e)&&this.t.types.push(e)}},e.prototype.getData=function(e){if(1===this.t.mode||2===this.t.mode)return this.t.data[e]||""},e.prototype.clearData=function(e){if(2===this.t.mode){if(e&&this.t.data[e]){delete this.t.data[e];var t=this.t.types.indexOf(e);return void(t>-1&&this.t.types.splice(t,1))}this.t.data={},this.t.types=[]}},e.prototype.setDragImage=function(e,t,n){2===this.t.mode&&this.i(e,t,n)},e}();function _(e,t){return e?e===n[0]?r[0]:0===e.indexOf(n[1])||e===n[7]?r[1]:0===e.indexOf(n[4])?r[3]:e===n[6]?r[2]:r[1]:3===t.nodeType&&"A"===t.tagName?r[3]:r[1]}function g(e,t,n,r,i,o,s){void 0===o&&(o=!0),void 0===s&&(s=null);var a=function(e,t,n,r,i,o,s){void 0===s&&(s=null);var a=t.changedTouches[0],u=new Event(n,{bubbles:!0,cancelable:r});u.dataTransfer=o,u.relatedTarget=s,u.screenX=a.screenX,u.screenY=a.screenY,u.clientX=a.clientX,u.clientY=a.clientY,u.pageX=a.pageX,u.pageY=a.pageY;var c=e.getBoundingClientRect();return u.offsetX=u.clientX-c.left,u.offsetY=u.clientY-c.top,u}(t,n,e,o,document,i,s),u=!t.dispatchEvent(a);return r.mode=0,u}function v(e,t){if(!e||e===n[7])return t;if(t===r[1]){if(0===e.indexOf(r[1]))return r[1]}else if(t===r[3]){if(0===e.indexOf(r[3])||e.indexOf("Link")>-1)return r[3]}else if(t===r[2]&&(0===e.indexOf(r[2])||e.indexOf("Move")>-1))return r[2];return r[0]}var m,y=function(){function e(e,t,n,r){this.h=e,this.o=t,this.u=n,this.l=r,this.v=0,this.p=null,this.g=null,this.m=e,this.I=e.changedTouches[0],this.j=this.C.bind(this),this.S=this.k.bind(this),s("touchmove",this.j,!1),s("touchend",this.S,!1),s("touchcancel",this.S,!1)}return e.prototype.A=function(){var e=this;this.v=1,this.O=r[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var t=this.u;if(this.N=new p(this.D,function(n,r,i){t=n,"number"!=typeof r&&"number"!=typeof i||(e.P={x:r||0,y:i||0})}),this.D.mode=2,this.N.dropEffect=r[0],g("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;h("page",this.m,this.F);var n,i=this.o.dragImageSetup(t);if(this.L=(n=i,d.map(function(e){var t=n.style[e+"transform"];return t&&"none"!==t?t.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.zIndex="999999",i.classList.add("dnd-poly-drag-image"),i.classList.add("dnd-poly-icon"),this._=i,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var o=getComputedStyle(t);this.P={x:0-parseInt(o.marginLeft,10),y:0-parseInt(o.marginTop,10)}}else{var s=t.getBoundingClientRect();o=getComputedStyle(t),this.P={x:s.left-this.I.clientX-parseInt(o.marginLeft,10)+s.width/2,y:s.top-this.I.clientY-parseInt(o.marginTop,10)+s.height/2}}return f(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval(function(){e.X||(e.X=!0,e.Y(),e.X=!1)},this.o.iterationInterval),!0},e.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),a("touchmove",this.j),a("touchend",this.S),a("touchcancel",this.S),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},e.prototype.C=function(e){var t=this;if(!1!==l(e,this.I.identifier)){if(this.m=e,0===this.v){var n=void 0;if(this.o.dragStartConditionOverride)try{n=this.o.dragStartConditionOverride(e)}catch(e){n=!1}else n=1===e.touches.length;return n?void(!0===this.A()&&(this.h.preventDefault(),e.preventDefault())):void this.T()}if(e.preventDefault(),h("client",e,this.M),h("page",e,this.F),this.o.dragImageTranslateOverride)try{var r=!1;if(this.o.dragImageTranslateOverride(e,{x:this.M.x,y:this.M.y},this.p,function(e,n){t._&&(r=!0,t.M.x+=e,t.M.y+=n,t.F.x+=e,t.F.y+=n,f(t._,t.F,t.L,t.P,t.o.dragImageCenterOnTouch))}),r)return}catch(e){}f(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},e.prototype.k=function(e){if(!1!==l(e,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(e){}0!==this.v?(e.preventDefault(),this.v="touchcancel"===e.type?3:2):this.T()}},e.prototype.Y=function(){var e=this,n=this.O;this.D.mode=3,this.N.dropEffect=r[0];var i=g("drag",this.u,this.m,this.D,this.N);if(i&&(this.O=r[0]),i||2===this.v||3===this.v)return this.q(this.v)?void function(e,t,n,r){var i=getComputedStyle(e);if("hidden"!==i.visibility&&"none"!==i.display){t.classList.add("dnd-poly-snapback");var o=getComputedStyle(t),s=parseFloat(o.transitionDuration);if(isNaN(s)||0===s)r();else{var a=e.getBoundingClientRect(),u={x:a.left,y:a.top};u.x+=document.body.scrollLeft||document.documentElement.scrollLeft,u.y+=document.body.scrollTop||document.documentElement.scrollTop,u.x-=parseInt(i.marginLeft,10),u.y-=parseInt(i.marginTop,10);var c=parseFloat(o.transitionDelay),l=Math.round(1e3*(s+c));f(t,u,n,void 0,!1),setTimeout(r,l)}}else r()}(this.u,this._,this.L,function(){e.B()}):void this.B();var s=this.o.elementFromPoint(this.M.x,this.M.y),a=this.g;s!==this.p&&s!==this.g&&(this.p=s,null!==this.g&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=_(this.D.effectAllowed,this.u),g("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.O=v(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),a!==this.g&&o(a)&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragleave",a,this.m,this.D,this.N,!1,this.g)),o(this.g)&&(this.D.mode=3,this.N.dropEffect=_(this.D.effectAllowed,this.u),this.O=!1===g("dragover",this.g,this.m,this.D,this.N)?r[0]:v(this.N.effectAllowed,this.N.dropEffect)),n!==this.O&&this._.classList.remove(t+n),this._.classList.add(t+this.O)},e.prototype.q=function(e){var t=this.O===r[0]||null===this.g||3===e;return t?o(this.g)&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragleave",this.g,this.m,this.D,this.N,!1)):o(this.g)&&(this.D.mode=1,this.N.dropEffect=this.O,this.O=!0===g("drop",this.g,this.m,this.D,this.N)?this.N.dropEffect:r[0]),t},e.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.O,g("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},e}(),b={iterationInterval:150,tryFindDraggableTarget:function(e){var t=e.target;do{if(!1!==t.draggable){if(!0===t.draggable)return t;if(t.getAttribute&&"true"===t.getAttribute("draggable"))return t}}while((t=t.parentNode)&&t!==document.body)},dragImageSetup:function(e){var t=e.cloneNode(!0);return function e(t,n){if(1===t.nodeType){for(var r=getComputedStyle(t),i=0;i<r.length;i++){var o=r[i];n.style.setProperty(o,r.getPropertyValue(o),r.getPropertyPriority(o))}if(n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName){var s=t,a=n,u=s.getContext("2d").getImageData(0,0,s.width,s.height);a.getContext("2d").putImageData(u,0,0)}}if(t.hasChildNodes())for(i=0;i<t.childNodes.length;i++)e(t.childNodes[i],n.childNodes[i])}(e,t),t},elementFromPoint:function(e,t){return document.elementFromPoint(e,t)}};function E(e){if(!m){var t=b.tryFindDraggableTarget(e);if(t)try{m=new y(e,b,t,O)}catch(t){throw O(b,e,3),t}}}function C(e){var t=e.target,n=function(e){i.off(),o.off(),s.off(),a.off(),t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(r)};t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var r=window.setTimeout(function(){i.off(),o.off(),s.off(),a.off(),E(e)},b.holdToDrag),i=u(t,"touchend",n),o=u(t,"touchcancel",n),s=u(t,"touchmove",n),a=u(window,"scroll",n,!0)}function O(e,t,n){if(0===n&&e.defaultActionOverride)try{e.defaultActionOverride(t)}catch(e){}m=null}e.polyfill=function(e){if(e&&Object.keys(e).forEach(function(t){b[t]=e[t]}),!b.forceApply){var t=(n={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},r=!!window.chrome||/chrome/i.test(navigator.userAgent),n.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||r&&"ontouchstart"in document.documentElement),n);if(t.userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)return!1}var n,r;return s("touchstart",b.holdToDrag?C:E,!1),!0},Object.defineProperty(e,"__esModule",{value:!0})}(t)},Aqzh:function(e,t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o(Array.isArray(e)?[]:{},e,t):e}function r(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function o(t,s,a){(a=a||{}).arrayMerge=a.arrayMerge||r,a.isMergeableObject=a.isMergeableObject||e;var u=Array.isArray(s);return u===Array.isArray(t)?u?a.arrayMerge(t,s,a):function(e,t,r){var s={};return r.isMergeableObject(e)&&i(e).forEach(function(t){s[t]=n(e[t],r)}),i(t).forEach(function(i){s[i]=r.isMergeableObject(t[i])&&e[i]?function(e,t){if(!t.customMerge)return o;var n=t.customMerge(e);return"function"==typeof n?n:o}(i,r)(e[i],t[i],r):n(t[i],r)}),s}(t,s,a):n(s,a)}return o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return o(e,n,t)},{})},o}()},Cfvw:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new r.a(function(n){var r=new o.a;return r.add(t.schedule(function(){var i=e[s.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a(function(n){var r=new o.a;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(Object(l.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[u.a](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},CqXF:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.value))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).value=r,i}return _createClass(n,[{key:"_next",value:function(e){this.destination.next(this.value)}}]),n}(r.a)},D0XW:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},EQ5u:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),s=(n("7o/Q"),n("quSY")),a=n("x+ZX"),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e}},{key:"refCount",value:function(){return Object(a.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(i.b)},EY2u:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(e){return e.complete()});function o(e){return e?function(e){return new r.a(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},GyhO:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("LRne"),i=n("bHdf");function o(){return Object(i.a)(1)(Object(r.a).apply(void 0,arguments))}},HDdC:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),a=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(e){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,a=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(s.a)}(e,t,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:e,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(u.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),t}(a.a)).create=function(e){return new r(e)},r);function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},HlzF:function(e,t,n){var r;!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var s=t._howls[n]._soundById(r[o]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var s=t._howls[n]._soundById(r[o]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(l){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),s=o&&parseInt(o[0].split("/")[1],10)<33,a=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=a&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(s||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var o=e._howls[i]._getSoundIds(),s=0;s<o.length;s++){var a=e._howls[i]._soundById(o[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new n,o=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return i.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&i.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&u(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(o++,r=n._sounds[s]._id);1===o?e=null:r=null}}var a=r?n._soundById(r):n._inactiveSound();if(!a)return null;if(r&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state){a._sprite=e,a._ended=!1;var u=a._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!a._paused)return t||n._loadQueue("play"),a._id;n._webAudio&&i._autoResume();var c=Math.max(0,a._seek>0?a._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),h=1e3*l/Math.abs(a._rate),d=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var p=function(){a._paused=!1,a._seek=c,a._start=d,a._stop=f,a._loop=!(!a._loop&&!n._sprite[e][2])};if(!(c>=f)){var _=a._node;if(n._webAudio){var g=function(){n._playLock=!1,p(),n._refreshBuffer(a),_.gain.setValueAtTime(a._muted||n._muted?0:a._volume,i.ctx.currentTime),a._playStart=i.ctx.currentTime,void 0===_.bufferSource.start?_.bufferSource.noteGrainOn(0,c,a._loop?86400:l):_.bufferSource.start(0,c,a._loop?86400:l),h!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),h)),t||setTimeout(function(){n._emit("play",a._id),n._loadQueue()},0)};"running"===i.state&&"interrupted"!==i.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(a._id))}else{var v=function(){_.currentTime=c,_.muted=a._muted||n._muted||i._muted||_.muted,_.volume=a._volume*i.volume(),_.playbackRate=a._rate;try{var r=_.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,p(),r.then(function(){n._playLock=!1,_._unlocked=!0,t?n._loadQueue():n._emit("play",a._id)}).catch(function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0})):t||(n._playLock=!1,p(),n._emit("play",a._id)),_.playbackRate=a._rate,_.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),h):(n._endTimers[a._id]=function(){n._ended(a),_.removeEventListener("ended",n._endTimers[a._id],!1)},_.addEventListener("ended",n._endTimers[a._id],!1))}catch(o){n._emit("playerror",a._id,o)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=n._src,_.load());var m=window&&window.ejecta||!_.readyState&&i._navigator.isCocoonJS;if(_.readyState>=3||m)v();else{n._playLock=!0,n._state="loading";_.addEventListener(i._canPlayEvent,function e(){n._state="loaded",v(),_.removeEventListener(i._canPlayEvent,e,!1)},!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var s=n._soundById(r[o]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,i.ctx.currentTime):s._node&&(s._node.muted=!!i._muted||e),n._emit("mute",s._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){var s=r._getSoundIds(),a=s.indexOf(o[0]);a>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)(n=r._soundById(t[u]))&&(n._volume=e,o[2]||r._stopFade(t[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if(r||o._stopFade(s[a]),o._webAudio&&!u._muted){var c=i.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(u,e,t,n,s[a],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,i,o){var s=this,a=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),h=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var i=(Date.now()-h)/r;h=Date.now(),a+=u*i,a=Math.round(100*a)/100,a=u<0?Math.max(n,a):Math.min(n,a),s._webAudio?e._volume=a:s.volume(a,e._id,!0),o&&(s._volume=a),(n<t&&a<=n||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))},l)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;r._loop=e=i[0]}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var o=r._getSoundIds(t),s=0;s<o.length;s++)(n=r._soundById(o[s]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(o[s])&&(r.pause(o[s],!0),r.play(o[s],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){var s=r._getSoundIds(),a=s.indexOf(o[0]);a>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=r._soundById(t[u])){r.playing(t[u])&&(n._rateSeek=r.seek(t[u]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var c=r.seek(t[u]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-c,h=1e3*l/Math.abs(n._rate);!r._endTimers[t[u]]&&n._paused||(r._clearTimer(t[u]),r._endTimers[t[u]]=setTimeout(r._ended.bind(r,n),h)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var o=n._getSoundIds(),s=o.indexOf(r[0]);s>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var a=n._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?i.ctx.currentTime-a._playStart:0,c=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(c+u*Math.abs(a._rate))}return a._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=e);var h=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var d=function e(){n._playLock?setTimeout(e,0):h()};setTimeout(d,0)}else h()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return a&&o&&delete a[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){return"function"==typeof t&&this["_on"+e].push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<r.length;i++){var o=n===r[i].id;if(t===r[i].fn&&o||!t&&o){r.splice(i,1);break}}else if(e)this["_on"+e]=[];else{var s=Object.keys(this);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(this[s[i]])&&(this[s[i]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==t&&"load"!==e||(setTimeout((function(e){e.call(this,t,n)}).bind(this,r[i].fn),0),r[i].once&&this.off(e,r[i].fn,r[i].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),i._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=a[this._src],e._node.bufferSource.connect(e._panner?e._panner:e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=i._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(t,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*i.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var a={},u=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void h(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);l(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){o.setRequestHeader(t,e._xhr.headers[t])}),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?l(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},c(o)}},c=function(e){try{e.send()}catch(t){e.onerror()}},l=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(a[t._src]=e,h(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},h=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(o){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=(function(){return{Howler:i,Howl:o}}).apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=o,"undefined"!=typeof global?(global.HowlerGlobal=n,global.Howler=i,global.Howl=o,global.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=i,window.Howl=o,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?"number"!=typeof e?this._pos:(this._pos=[e,t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){if(!this.ctx||!this.ctx.listener)return this;var s=this._orientation;return"number"!=typeof e?s:(this._orientation=[e,t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,i="number"!=typeof i?s[4]:i,o="number"!=typeof o?s[5]:o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,i,o),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var o=r._getSoundIds(n),s=0;s<o.length;s++){var a=r._soundById(o[s]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,i),"spatial"===i?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",a._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,r,i)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof e)return o._pos;o._pos=[e,n,r]}for(var s=o._getSoundIds(i),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,r,i)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===i){if("number"!=typeof e)return o._orientation;o._orientation=[e,n,r]}for(var s=o._getSoundIds(i),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(r=i._soundById(parseInt(o[0],10)))?r._pannerAttr:i._pannerAttr;e=o[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var s=i._getSoundIds(n),a=0;a<s.length;a++)if(r=i._soundById(s[a])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),t(r,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},"I/3d":function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n("fXoL"),i=n("D0XW"),o=n("HDdC"),s=n("Cfvw"),a=n("LRne"),u=n("JX91"),c=n("Zy1z"),l=n("lJxs"),h=n("Kqap"),d=n("/uUt"),f=n("pLZG"),p=n("pxpQ"),_=n("spgP"),g=n("ofXK"),v=n("Jgta"),m=(n("xo5E"),n("UbJi"));function y(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return new o.a(function(n){var r;return null!=t?t.schedule(function(){r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(e,t)}function b(e,t){return y(e,t).pipe(Object(l.a)(function(e){return{payload:e,type:"query"}}))}function E(e,t){return b(e,t).pipe(Object(u.a)(void 0),Object(c.a)(),Object(l.a)(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=r.payload.docChanges(),o=i.map(function(e){return{type:e.type,payload:e}});return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach(function(e,t){var r=i.find(function(t){return t.doc.ref.isEqual(e.ref)}),s=null==n?void 0:n.payload.docs.find(function(t){return t.ref.isEqual(e.ref)});r&&JSON.stringify(r.doc.metadata)===JSON.stringify(e.metadata)||!r&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||o.push({type:"modified",payload:{oldIndex:t,newIndex:t,type:"modified",doc:e}})}),o}))}function C(e,t,n){return E(e,n).pipe(Object(h.a)(function(e,n){return function(e,t,n){return t.forEach(function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return O(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return O(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return O(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(function(e){return e.payload}),t)},[]),Object(d.a)(),Object(l.a)(function(e){return e.map(function(e){return{type:e.type,payload:e}})}))}function O(e,t,n){for(var r=e.slice(),i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return r.splice.apply(r,[t,n].concat(o)),r}function S(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var T=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){var t=E(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Object(l.a)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}))),t.pipe(Object(u.a)(void 0),Object(c.a)(),Object(f.a)(function(e){var t=_slicedToArray(e,2),n=t[0];return t[1].length>0||!n}),Object(l.a)(function(e){var t=_slicedToArray(e,2);t[0];return t[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Object(h.a)(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=S(e);return C(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(function(t){return t.payload.docs.map(function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(s.a)(this.query.get(e)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new w(this.ref.doc(e),this.afs)}}]),e}(),w=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=M(this.ref.collection(e),t),r=n.ref,i=n.query;return new T(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return y(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(void 0),Object(c.a)(),Object(l.a)(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(l.a)(function(t){var n=t.payload;return e.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},e.idField,n.id)):n.data()}))}},{key:"get",value:function(e){return Object(s.a)(this.ref.get(e)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}}]),e}(),D=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?E(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}),Object(f.a)(function(e){return e.length>0}),this.afs.keepUnstableUntilFirst):E(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Object(h.a)(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=S(e);return C(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(function(t){return t.payload.docs.map(function(t){return e.idField?Object.assign(_defineProperty({},e.idField,t.id),t.data()):t.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(s.a)(this.query.get(e)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}}]),e}(),P=new r.r("angularfire2.enableFirestorePersistence"),k=new r.r("angularfire2.firestore.persistenceSettings"),A=new r.r("angularfire2.firestore.settings"),I=new r.r("angularfire2.firestore.use-emulator");function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var R,x=((R=function(){function e(t,n,r,i,o,u,c,l,h){_classCallCheck(this,e),this.schedulers=new _.d(u),this.keepUnstableUntilFirst=Object(_.h)(this.schedulers);var d=Object(_.g)(t,u,n);!v.a.auth&&h&&Object(_.j)();var f=l,p=_slicedToArray(Object(_.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var e=u.runOutsideAngular(function(){return d.firestore()});return i&&e.settings(i),f&&e.useEmulator.apply(e,_toConsumableArray(f)),r&&!Object(g.B)(o)?[e,u.runOutsideAngular(function(){try{return Object(s.a)(e.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(t){return"undefined"!=typeof console&&console.warn(t),Object(a.a)(!1)}})]:[e,Object(a.a)(!1)]},[i,f,r]),2);this.firestore=p[0],this.persistenceEnabled$=p[1]}return _createClass(e,[{key:"collection",value:function(e,t){var n=M("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new T(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new D(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run(function(){return t});return new w(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275fac=function(e){return new(e||R)(r.cc(_.b),r.cc(_.a,8),r.cc(P,8),r.cc(A,8),r.cc(r.C),r.cc(r.A),r.cc(k,8),r.cc(I,8),r.cc(m.b,8))},R.\u0275prov=r.Mb({factory:function(){return new R(r.cc(_.b),r.cc(_.a,8),r.cc(P,8),r.cc(A,8),r.cc(r.C),r.cc(r.A),r.cc(k,8),r.cc(I,8),r.cc(m.b,8))},token:R,providedIn:"any"}),R)},I55L:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},IzEk:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(e){return function(t){return 0===e?Object(o.b)():t.lift(new a(e))}}var a=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new i.a}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.total))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(r.a)},JIr8:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function s(e){return function(t){var n=new a(e),r=t.lift(n);return n.caught=r}}var a=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.selector,this.caught))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(a){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var r=new i.a(this,void 0,void 0);this.add(r);var s=Object(o.a)(this,t,void 0,void 0,r);s!==r&&this.add(s)}}}]),n}(r.a)},JX91:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("GyhO"),i=n("z+Ro");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return Object(i.a)(o)?(t.pop(),function(e){return Object(r.a)(t,e,o)}):function(e){return Object(r.a)(t,e)}}},JZFu:function(e,t,n){"use strict";n.d(t,"a",function(){return i.default});var r,i=n("zIRd"),o=(n("t6oF"),n("6Uf2"),n("xo5E"),n("pqa8")),s=n("qOnz"),a=n("q/0M");n("x7I3"),(r=o.f).prototype.loadBundle=o.k,r.prototype.namedQuery=o.s;var u=n("mrSG"),c=n("/6Yf"),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return Object(u.__extends)(t,e),t}(Error),d=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(e){return n.auth=e},function(){}),this.messaging||t.get().then(function(e){return n.messaging=e},function(){})}return e.prototype.getAuthToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}();function f(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var p,_,g,v=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"==typeof e||"object"==typeof e)return f(e,function(e){return t.encode(e)});throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"==typeof e||"object"==typeof e?f(e,function(e){return t.decode(e)}):e},e}(),m=function(){function e(e,t,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new d(t,n),this.cancelAllRequests=new Promise(function(e){s.deleteService=function(){return e()}});try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(u){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},e.prototype.getAppCheckToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype.call=function(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,c,d,f,p,_;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(s=u.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(e){var t,n=new Promise(function(n,r){t=setTimeout(function(){r(new h("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}(n.timeout||7e4),c=a.timer,d=a.promise,[4,Promise.race([y(c,this.postJSON(r,i,o)),d,y(c,this.cancelAllRequests)])];case 2:if(!(f=u.sent()))throw new h("cancelled","Firebase Functions instance was deleted.");if(p=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var s=t&&t.error;if(s){var a=s.status;if("string"==typeof a){if(!l[a])return new h("internal","internal");r=l[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(c){}return"ok"===r?null:new h(r,i,o)}(f.status,f.json,this.serializer))throw p;if(!f.json)throw new h("internal","Response is not valid JSON object.");if(void 0===(_=f.json.data)&&(_=f.json.result),void 0===_)throw new h("internal","Response is missing data field.");return[2,{data:this.serializer.decode(_)}]}})})},e}();function y(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}p=i.default,_=fetch.bind(self),g={Functions:m},p.INTERNAL.registerComponent(new c.Component("functions",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new m(r,i,s,o,n,_)},"PUBLIC").setServiceProps(g).setMultipleInstances(!0)),i.default.registerVersion("@firebase/functions","0.6.15"),n("fSjL");var b,E=n("nbvr"),C=((b={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',b["only-available-in-window"]="This method is available in a Window context.",b["only-available-in-sw"]="This method is available in a service worker context.",b["permission-default"]="The notification permission was not granted and dismissed instead.",b["permission-blocked"]="The notification permission was not granted and blocked instead.",b["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",b["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",b["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",b["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",b["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",b["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",b["token-update-no-token"]="FCM returned no token when updating the user to push.",b["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",b["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",b["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",b["invalid-vapid-key"]="The public VAPID key must be a string.",b["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",b),O=new s.ErrorFactory("messaging","Messaging",C),S="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",T=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}({});function w(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(u.__spreadArray)([],Object(u.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function D(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function P(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(e){return e.name}).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return t=null,[4,Object(E.openDb)("fcm_token_details_db",5,function(r){return Object(u.__awaiter)(n,void 0,void 0,function(){var n,i,o,s;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:w(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:w(o.auth),p256dh:w(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:w(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,Object(E.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(E.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(E.deleteDb)("undefined")];case 6:return r.sent(),[2,k(t)?t:null]}})})}function k(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var A="firebase-messaging-store",I=null;function M(){return I||(I=Object(E.openDb)("firebase-messaging-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(A)}})),I}function R(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return t=j(e),[4,M()];case 1:return[4,i.sent().transaction(A).objectStore(A).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,P(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,x(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function x(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return n=j(e),[4,M()];case 1:return r=o.sent(),[4,(i=r.transaction(A,"readwrite")).objectStore(A).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}})})}function L(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return t=j(e),[4,M()];case 1:return n=i.sent(),[4,(r=n.transaction(A,"readwrite")).objectStore(A).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function j(e){return e.appConfig.appId}function N(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return[4,q(e)];case 1:n=a.sent(),r=V(t),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(F(e.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),O.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw O.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw O.create("token-subscribe-no-token");return[2,o.token]}})})}function U(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return[4,q(e)];case 1:n=a.sent(),r=V(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(F(e.appConfig)+"/"+t.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),O.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw O.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw O.create("token-update-no-token");return[2,o.token]}})})}function B(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return[4,q(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(F(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw O.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),O.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function F(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function q(e){var t=e.appConfig,n=e.installations;return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}})})}function V(e){var t=e.vapidKey,n={web:{endpoint:e.endpoint,auth:e.auth,p256dh:e.p256dh}};return t!==S&&(n.web.applicationPubKey=t),n}function W(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(u.__generator)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw O.create("permission-blocked");return[4,H(t,n)];case 1:return r=a.sent(),[4,R(e)];case 2:return i=a.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:w(r.getKey("auth")),p256dh:w(r.getKey("p256dh"))},i?[3,3]:[2,z(e,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,B(e,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,z(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,K({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l})})}function G(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,R(e)];case 1:return(n=i.sent())?[4,B(e,n.token)]:[3,4];case 2:return i.sent(),[4,L(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function K(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,U(t,e)];case 1:return r=s.sent(),i=Object(u.__assign)(Object(u.__assign)({},e),{token:r,createTime:Date.now()}),[4,x(t,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,G(t,n)];case 4:throw s.sent(),o;case 5:return[2]}})})}function z(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,N(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,x(e,r)];case 2:return i.sent(),[2,r.token]}})})}function H(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:D(t)})]}})})}function $(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function Q(e){return new Promise(function(t){setTimeout(t,e)})}var Y=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(e){e.waitUntil(t.onPush(e))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(t.onSubChange(e))}),self.addEventListener("notificationclick",function(e){e.waitUntil(t.onNotificationClick(e))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw O.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,R(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:S,r.label=2;case 2:return[2,W(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return G(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw O.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw O.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw O.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw O.create("only-available-in-window")},e.prototype.onMessage=function(){throw O.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw O.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,ee()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,J(n,t)]:(r=!1,t.notification?[4,te(X(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Q(1e3)]);case 4:return o.sent(),[2]}})})},e.prototype.onSubChange=function(e){var t,n;return Object(u.__awaiter)(this,void 0,void 0,function(){var r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,G(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,R(this.firebaseDependencies)];case 3:return r=i.sent(),[4,G(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,W(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:S)];case 5:return i.sent(),[2]}})})},e.prototype.onNotificationClick=function(e){var t,n;return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r;return(null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action)||($(e.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,Z(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=u.sent(),[4,Q(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=T.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}})})},e}();function X(e){var t,n=Object(u.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Z(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return Object(u.__generator)(this,function(c){switch(c.label){case 0:return[4,ee()];case 1:t=c.sent();try{for(n=Object(u.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(l){s={error:l}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}function J(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=T.PUSH_RECEIVED;try{for(var i=Object(u.__values)(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ee(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function te(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var ne=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(e){return t.messageEventListener(e)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===T.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),$(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw O.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,W(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=S),[2]})})},e.prototype.updateSwReg=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw O.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},e.prototype.registerDefaultSw=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=n.sent(),O.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,G(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw O.create("denied"===e?"permission-blocked":"permission-default")}})})},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw O.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw O.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw O.create("invalid-sw-registration");if(this.swRegistration)throw O.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw O.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw O.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return n=function(e){switch(e){case T.NOTIFICATION_CLICKED:return"notification_open";case T.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function re(e){return O.create("missing-app-config-values",{valueName:e})}var ie={isSupported:oe};function oe(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}i.default.INTERNAL.registerComponent(new c.Component("messaging",function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw re("App Configuration Object");if(!e.name)throw re("App Name");var r=e.options;try{for(var i=Object(u.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw re(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!oe())throw O.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Y(n):new ne(n)},"PUBLIC").setServiceProps(ie));var se=function(e){function t(n,r){var i=e.call(this,ae(n),"Firebase Storage: "+r+" ("+ae(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Object(u.__extends)(t,e),t.prototype._codeEquals=function(e){return ae(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),t}(s.FirebaseError);function ae(e){return"storage/"+e}function ue(){return new se("unknown","An unknown error occurred, please check the error payload for server response.")}function ce(){return new se("canceled","User canceled the upload/download.")}function le(){return new se("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function he(e){return new se("invalid-argument",e)}function de(){return new se("app-deleted","The Firebase app was deleted.")}function fe(e){return new se("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pe(e,t){return new se("invalid-format","String does not match format '"+e+"': "+t)}function _e(e){throw new se("internal-error","Internal error: "+e)}var ge={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ve=function(e,t){this.data=e,this.contentType=t||null};function me(e,t){switch(e){case ge.RAW:return new ve(ye(t));case ge.BASE64:case ge.BASE64URL:return new ve(be(e,t));case ge.DATA_URL:return new ve((n=new Ee(t)).base64?be(ge.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw pe(ge.DATA_URL,"Malformed data URL.")}return ye(t)}(n.rest),new Ee(t).contentType)}var n;throw ue()}function ye(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function be(e,t){switch(e){case ge.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw pe(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ge.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw pe(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(c){throw pe(e,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Ee=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw pe(ge.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},Ce={STATE_CHANGED:"state_changed"},Oe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Se(e){switch(e){case"running":case"pausing":case"canceling":return Oe.RUNNING;case"paused":return Oe.PAUSED;case"success":return Oe.SUCCESS;case"canceled":return Oe.CANCELED;case"error":default:return Oe.ERROR}}var Te=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),we=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Te.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=Te.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=Te.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw _e("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw _e("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw _e("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw _e("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),De=function(){function e(){}return e.prototype.createConnection=function(){return new we},e}(),Pe=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new se("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(t);if(l){var h=l[c.indices.path];h||(h=""),r=new e(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(e){return new se("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),ke=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Ae(e){return"string"==typeof e||e instanceof String}function Ie(e){return Me()&&e instanceof Blob}function Me(){return"undefined"!=typeof Blob}function Re(e,t,n,r){if(r<t)throw he("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw he("Invalid value for '"+e+"'. Expected "+n+" or less.")}function xe(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Le(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var je=function(){function e(e,t,n,r,i,o,s,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){h.resolve_=e,h.reject_=t,h.start_()})}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=e.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(u){o(u)}else null!==s?((r=ue()).serverResponse=s.getResponseText(),o(e.errorCallback_?e.errorCallback_(s,r):r)):o(r=n.canceled?e.appDelete_?de():ce():new se("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Ne(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,s=!1,a=0;function c(){return 2===a}var l=!1;function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l||(l=!0,n.apply(null,e))}function d(t){o=setTimeout(function(){o=null,function(t,n){if(n)t(!1,new Ne(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Te.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var s=-1!==e.successCodes_.indexOf(o);t(!0,new Ne(s,r))}else{var a=r.getErrorCode()===Te.ABORT;t(!1,new Ne(!1,null,a))}})}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(f,c())},t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!l)if(e)h.call.apply(h,Object(u.__spreadArray)([null,e],t));else{var r;c()||s?h.call.apply(h,Object(u.__spreadArray)([null,e],t)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),d(r))}}var p=!1;function _(e){p||(p=!0,l||(null!==o?(e||(a=2),clearTimeout(o),d(0)):e||(a=1)))}return d(0),setTimeout(function(){s=!0,_(!0)},r),_}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Ne=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Ue(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ue();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Me())return new Blob(e);throw new se("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Fe=function(){function e(e,t){var n=0,r="";Ie(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Ie(this.data_)){var r=(o=t,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new e(r)}var i,o,s;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Me()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(Be.apply(null,r))}var i=t.map(function(e){return Ae(e)?me(ge.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)s[a++]=e[t]}),new e(s,!0)},e.prototype.uploadData=function(){return this.data_},e}();function qe(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function Ve(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function We(e,t){return t}var Ge=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||We},Ke=null;function ze(){if(Ke)return Ke;var e=[];e.push(new Ge("bucket")),e.push(new Ge("generation")),e.push(new Ge("metageneration")),e.push(new Ge("name","fullPath",!0));var t=new Ge("name");t.xform=function(e,t){return function(e){return!Ae(e)||e.length<2?e:Ve(e)}(t)},e.push(t);var n=new Ge("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ge("timeCreated")),e.push(new Ge("updated")),e.push(new Ge("md5Hash",null,!0)),e.push(new Ge("cacheControl",null,!0)),e.push(new Ge("contentDisposition",null,!0)),e.push(new Ge("contentEncoding",null,!0)),e.push(new Ge("contentLanguage",null,!0)),e.push(new Ge("contentType",null,!0)),e.push(new Ge("metadata","customMetadata",!0)),Ke=e}function He(e,t,n){var r=qe(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,t[s.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new Pe(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function $e(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Qe=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ye(e){if(!e)throw ue()}function Xe(e,t){return function(n,r){var i=He(e,r,t);return Ye(null!==i),i}}function Ze(e){return function(t,n){var r;return(r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new se("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new se("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new se("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new se("unauthorized","User does not have permission to access '"+e.path+"'."):n).serverResponse=n.serverResponse,r}}function Je(e){var t=Ze(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new se("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function et(e,t,n){var r=xe(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Qe(r,"GET",Xe(e,n),i);return o.errorHandler=Je(t),o}function tt(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var nt=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function rt(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ye(!1)}return Ye(!!n&&-1!==(t||["active"]).indexOf(n)),n}var it=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function ot(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}var st=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ze(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise(function(e,t){r._resolve=e,r._reject=t,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},e.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s=tt(t,r,i),a={name:s.fullPath},u=xe(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=$e(s,n),h=new Qe(u,"POST",function(e){var t;rt(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ye(!1)}return Ye(Ae(t)),t},e.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Ze(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var i=function(e,t,n,r){var i=new Qe(n,"POST",function(e){var t=rt(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Ye(!1)}n||Ye(!1);var i=Number(n);return Ye(!isNaN(i)),new nt(i,r.size(),"final"===t)},e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Ze(t),i}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new nt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(e,t,n,r,i,o,s,a){var u=new nt(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new se("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},f=r.slice(h,h+l);if(null===f)throw le();var p=new Qe(n,"POST",function(e,n){var i,s=rt(e,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Xe(t,o)(e,n):null,new nt(a,c,"final"===s,i)},t.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=Ze(e),p}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var a=e._ref.storage._makeRequest(s,i,o);e._request=a,a.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,n){var r=et(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;var u=tt(t,r,i),c=$e(u,n),l=Fe.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw le();var h={name:u.fullPath},d=xe(o,e.host),f=e.maxUploadRetryTime,p=new Qe(d,"POST",Xe(e,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Ze(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ce(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Se(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new it(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Se(this._state)){case Oe.SUCCESS:ot(this._resolve.bind(null,this.snapshot))();break;case Oe.CANCELED:case Oe.ERROR:ot(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Se(this._state)){case Oe.RUNNING:case Oe.PAUSED:e.next&&ot(e.next.bind(e,this.snapshot))();break;case Oe.SUCCESS:e.complete&&ot(e.complete.bind(e))();break;case Oe.CANCELED:case Oe.ERROR:e.error&&ot(e.error.bind(e,this._error))();break;default:e.error&&ot(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),at=function(){function e(e,t){this._service=e,this._location=t instanceof Pe?t:Pe.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Pe(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Ve(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Pe(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw fe(e)},e}();function ut(e){var t={prefixes:[],items:[]};return ct(e,t).then(function(){return t})}function ct(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return[4,lt(e,{pageToken:n})];case 1:return r=s.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,ct(e,t,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function lt(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&Re("options.maxResults",1,1e3,t.maxResults),r=function(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=xe(t.bucketOnlyServerUrl(),e.host),a=e.maxOperationRetryTime,u=new Qe(s,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=qe(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=e._makeStorageReference(new Pe(t,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=e._makeStorageReference(new Pe(t,c[u].name)),r.items.push(a);return r}(e,t,r)}(e,t,r);return Ye(null!==i),i}}(e,t.bucket),a);return u.urlParams=o,u.errorHandler=Ze(t),u}(e.storage,e._location,0,(n=t||{}).pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function ht(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Pe(e._location.bucket,n);return new at(e.storage,r)}function dt(e){return/^[A-Za-z]+:\/\//.test(e)}function ft(e,t){if(e instanceof gt){var n=e;if(null==n._bucket)throw new se("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new at(n,n._bucket);return null!=t?ft(r,t):r}return void 0!==t?ht(e,t):e}function pt(e,t){if(t&&dt(t)){if(e instanceof gt)return new at(e,t);throw he("To use ref(service, url), the first argument must be a Storage instance.")}return ft(e,t)}function _t(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:Pe.makeFromBucketSpec(n,e)}var gt=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Pe.makeFromBucketSpec(i,this._host):_t(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?Pe.makeFromBucketSpec(this._url,e):_t(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Re("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Re("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new at(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new ke(de());var i=function(e,t,n,r,i,o){var s=Le(e.urlParams),a=e.url+s,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new je(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e.prototype.makeRequestWithTokens=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=n.sent(),[2,this._makeRequest(e,t[0],t[1])]}})})},e}();function vt(e,t){return pt(e=Object(s.getModularInstance)(e),t)}var mt=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),yt=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new mt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new mt(t,n,n._ref))},t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new mt(e,i,i._ref))}:{next:t.next?function(e){return t.next(new mt(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),bt=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new Et(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new Et(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Et=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return ht(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new yt(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new st(e,new Fe(t),n)}(e=Object(s.getModularInstance)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=ge.RAW),this._throwIfRoot("putString");var r=me(t,e),i=Object(u.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new yt(new st(this._delegate,new Fe(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,ut(e=Object(s.getModularInstance)(e))).then(function(e){return new bt(e,t.storage)})},e.prototype.list=function(e){var t=this;return function(e,t){return lt(e=Object(s.getModularInstance)(e),t)}(this._delegate,e||void 0).then(function(e){return new bt(e,t.storage)})},e.prototype.getMetadata=function(){return e=this._delegate,function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=et(e.storage,e._location,ze()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=Object(s.getModularInstance)(e));var e},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=xe(t.fullServerUrl(),e.host),o=$e(n,r),s=e.maxOperationRetryTime,a=new Qe(i,"PATCH",Xe(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Je(t),a}(e.storage,e._location,t,ze()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(e=Object(s.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=xe(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Qe(r,"GET",function(e,t){return function(n,r){var i=He(e,r,t);return Ye(null!==i),function(e,t,n){var r=qe(t);if(null===r)return null;if(!Ae(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(t){var r=e.fullPath;return xe("/b/"+o(e.bucket)+"/o/"+o(r),n)+Le({alt:"media",token:t})})[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=Je(t),o}(e.storage,e._location,ze()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(e){if(null===e)throw new se("no-download-url","The given file does not have any download URLs.");return e})]}})})}(e=Object(s.getModularInstance)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=xe(t.fullServerUrl(),e.host),r=new Qe(n,"DELETE",function(e,t){},e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Je(t),r}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=Object(s.getModularInstance)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw fe(e)},e}(),Ct=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(dt(e))throw he("ref() expected a child path but got a URL, use refFromURL instead.");return new Et(vt(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!dt(e))throw he("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Pe.makeFromUrl(e,this._delegate.host)}catch(t){throw he("refFromUrl() expected a valid full URL but got an invalid one.")}return new Et(vt(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"==typeof i?i:Object(s.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}(this._delegate,e,t,n)},e}();function Ot(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ct(r,new gt(r,o,s,new De,n,i.default.SDK_VERSION))}!function(e){var t={TaskState:Oe,TaskEvent:Ce,StringFormat:ge,Storage:gt,Reference:Et};e.INTERNAL.registerComponent(new c.Component("storage",Ot,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.0")}(i.default);var St,Tt,wt,Dt=((St={})["trace started"]="Trace {$traceName} was started before.",St["trace stopped"]="Trace {$traceName} is not running.",St["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",St["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",St["no window"]="Window is not available.",St["no app id"]="App id is not available.",St["no project id"]="Project id is not available.",St["no api key"]="Api key is not available.",St["invalid cc log"]="Attempted to queue invalid cc event",St["FB not default"]="Performance can only start when Firebase app instance is the default one.",St["RC response not ok"]="RC response is not ok",St["invalid attribute name"]="Attribute name {$attributeName} is invalid.",St["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",St["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",St["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",St),Pt=new s.ErrorFactory("performance","Performance",Dt),kt=new a.Logger("Performance");kt.logLevel=a.LogLevel.INFO;var At,It=function(){function e(e){if(this.window=e,!e)throw Pt.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(s.isIndexedDBAvailable)()||(kt.info("IndexedDB is not supported by current browswer"),!1):(kt.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(e){for(var n=0,r=e.getEntries();n<r.length;n++)t(r[n])}).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===Tt&&(Tt=new e(wt)),Tt},e}();function Mt(e,t){var n=e.length-t.length;if(n<0||n>1)throw Pt.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Rt,xt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Mt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Mt("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Pt.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Pt.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Pt.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===At&&(At=new e),At},e}();function Lt(){return Rt}var jt=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e}({}),Nt=["firebase_","google_","ga_"],Ut=new RegExp("^[a-zA-Z]\\w*$");function Bt(){var e=It.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function Ft(){switch(It.getInstance().document.visibilityState){case"visible":return jt.VISIBLE;case"hidden":return jt.HIDDEN;default:return jt.UNKNOWN}}function qt(){var e=It.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Vt(e){if(!e)return e;var t=xt.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Wt(t.tracesSamplingRate),t.logNetworkAfterSampling=Wt(t.networkRequestsSamplingRate),e}function Wt(e){return Math.random()<=e}var Gt,Kt=1;function zt(){return Kt=2,Gt=Gt||function(){var e=It.getInstance().document;return new Promise(function(t){if(e&&"complete"!==e.readyState){e.addEventListener("readystatechange",function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())})}else t()})}().then(function(){return(e=xt.getInstance().installationsService.getId()).then(function(e){Rt=e}),e;var e}).then(function(e){return function(e){var t=function(){var e=It.getInstance().localStorage;if(e){var t=e.getItem("@firebase/performance/configexpire");if(t&&Number(t)>Date.now()){var n=e.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(r){return}}}}();return t?(Vt(t),Promise.resolve()):function(e){return(t=xt.getInstance().installationsService.getToken(),t.then(function(e){}),t).then(function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+xt.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+xt.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:xt.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(r).then(function(e){if(e.ok)return e.json();throw Pt.create("RC response not ok")})}).catch(function(){kt.info("Could not fetch config, will use default configs")});var t}(e).then(Vt).then(function(e){return function(e){var t=It.getInstance().localStorage;e&&t&&(t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*xt.getInstance().configTimeToLive*60*1e3)))}(e)},function(){})}(e)}).then(function(){return Ht()},function(){return Ht()})}function Ht(){Kt=3}var $t,Qt=3,Yt=[],Xt=!1;function Zt(e){setTimeout(function(){var e,t;if(0!==Qt)return Yt.length?(t=(e=Yt.splice(0,1e3)).map(function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}),void function(e,t){return function(e){var t=xt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then(function(e){return e.ok||kt.info("Call to Firebase backend failed."),e.json()}).then(function(e){var n=Number(e.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Yt=Object(u.__spreadArray)(Object(u.__spreadArray)([],t),Yt),kt.info("Retry transport request later.")),Qt=3,Zt(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:xt.getInstance().logSource,log_event:t},e).catch(function(){Yt=Object(u.__spreadArray)(Object(u.__spreadArray)([],e),Yt),Qt--,kt.info("Tries left: "+Qt+"."),Zt(1e4)})):Zt(1e4)},e)}function Jt(e){if(!e.eventTime||!e.message)throw Pt.create("invalid cc log");Yt=Object(u.__spreadArray)(Object(u.__spreadArray)([],Yt),[e])}function en(e,t){$t||($t=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Jt({message:e.apply(void 0,t),eventTime:Date.now()})}}(rn)),$t(e,t)}function tn(e){var t=xt.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&It.getInstance().requiredApisAvailable()&&(e.isAuto&&Ft()!==jt.VISIBLE||(3===Kt?nn(e):zt().then(function(){return nn(e)},function(){return nn(e)})))}function nn(e){if(Lt()){var t=xt.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(function(){return en(e,1)},0)}}function rn(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:on(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:on(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function on(){return{google_app_id:xt.getInstance().getAppId(),app_instance_id:Lt(),web_app_info:{sdk_version:"0.4.18",page_url:It.getInstance().getUrl(),service_worker_status:Bt(),visibility_state:Ft(),effective_connection_type:qt()},application_process_state:0}}var sn=["_fp","_fcp","_fid"],an=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=It.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Pt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Pt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),tn(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Pt.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Pt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object(u.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}tn(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(o=this.name,0===(i=e).length||i.length>100||!(o&&o.startsWith("_wt_")&&sn.indexOf(i)>-1)&&i.startsWith("_"))throw Pt.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&kt.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||Nt.some(function(e){return n.startsWith(e)})||!n.match(Ut)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Pt.create("invalid attribute name",{attributeName:e});if(!i)throw Pt.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return Object(u.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=It.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),s=Math.floor(1e3*It.getInstance().getTimeOrigin());if(o.setStartTime(s),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var a=n.find(function(e){return"first-paint"===e.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find(function(e){return"first-contentful-paint"===e.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}tn(o)}},e.createUserTimingTrace=function(t){tn(new e(t,!1,t))},e}();function un(e){var t=e;if(t&&void 0!==t.responseStart){var n=It.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=xt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return en(e,0)},0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function cn(){Lt()&&(setTimeout(function(){return function(){var e=It.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){an.createOobTrace(t,n),r=void 0},5e3);e.onFirstInputDelay(function(e){r&&(clearTimeout(r),an.createOobTrace(t,n,e))})}else an.createOobTrace(t,n)}()},0),setTimeout(function(){return function(){for(var e=It.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)un(n[t]);e.setupObserver("resource",un)}()},0),setTimeout(function(){return function(){for(var e=It.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)ln(n[t]);e.setupObserver("measure",ln)}()},0))}function ln(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&an.createUserTimingTrace(t)}var hn=function(){function e(e){this.app=e,It.getInstance().requiredApisAvailable()&&Object(s.validateIndexedDBOpenable)().then(function(e){e&&(Xt||(Zt(5500),Xt=!0),zt().then(cn,cn))}).catch(function(e){kt.info("Environment doesn't support IndexedDB: "+e)})}return e.prototype.trace=function(e){return new an(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return xt.getInstance().instrumentationEnabled},set:function(e){xt.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return xt.getInstance().dataCollectionEnabled},set:function(e){xt.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){e.INTERNAL.registerComponent(new c.Component("performance",function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw Pt.create("FB not default");if("undefined"==typeof window)throw Pt.create("no window");return function(e){wt=e}(window),xt.getInstance().firebaseAppInstance=e,xt.getInstance().installationsService=t,new hn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC")),e.registerVersion("@firebase/performance","0.4.18")}(i.default),n("3Kre");var dn,fn=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=s.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}})})},e}(),pn=((dn={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",dn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",dn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",dn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",dn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",dn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",dn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",dn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",dn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",dn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',dn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',dn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",dn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",dn),_n=new s.ErrorFactory("remoteconfig","Remote Config",pn),gn=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,s,a,c,l,h,d,f,p,_,g,v;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=u.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:t[0],app_instance_id_token:t[1],app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise(function(t,n){e.signal.addEventListener(function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)})}),u.label=2;case 2:return u.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return u.sent(),[4,s];case 4:return c=u.sent(),[3,6];case 5:throw l=u.sent(),h="fetch-client-network","AbortError"===l.name&&(h="fetch-timeout"),_n.create(h,{originalErrorMessage:l.message});case 6:if(d=c.status,f=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];g=void 0,u.label=7;case 7:return u.trys.push([7,9,,10]),[4,c.json()];case 8:return g=u.sent(),[3,10];case 9:throw v=u.sent(),_n.create("fetch-client-parse",{originalErrorMessage:v.message});case 10:p=g.entries,_=g.state,u.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?d=500:"NO_CHANGE"===_?d=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(p={}),304!==d&&200!==d)throw _n.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:f,config:p}]}var m})})},e}(),vn=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),mn=["1","true","t","yes","y","on"],yn=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&mn.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),bn=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=a.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=a.LogLevel.SILENT;break;default:this._logger.logLevel=a.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t,n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),n=e[1],(t=e[0])&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t,n,r=this;return Object(u.__generator)(this,function(i){switch(i.label){case 0:e=new vn,setTimeout(function(){return Object(u.__awaiter)(r,void 0,void 0,function(){return Object(u.__generator)(this,function(t){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=(o=t)instanceof s.FirebaseError&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var o})})},e.prototype.fetchAndActivate=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(Object(u.__assign)(Object(u.__assign)({},e),t))).reduce(function(e,t){return e[t]=n.getValue(t),e},{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new yn("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new yn("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new yn("static"))},e}();function En(e,t){var n=e.target.error||void 0;return _n.create(t,{originalErrorMessage:n&&n.message})}var Cn=function(){function e(e,t,n,r){void 0===r&&(r=new Promise(function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(En(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}})),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise(function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(e);try{var a=o.get(s);a.onerror=function(e){i(En(e,"storage-get"))},a.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(u){i(_n.create("storage-get",{originalErrorMessage:u&&u.message}))}})]}})})},e.prototype.set=function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r=this;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(e);try{var u=s.put({compositeKey:a,value:t});u.onerror=function(e){o(En(e,"storage-set"))},u.onsuccess=function(){i()}}catch(c){o(_n.create("storage-set",{originalErrorMessage:c&&c.message}))}})]}})})},e.prototype.delete=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise(function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(e);try{var a=o.delete(s);a.onerror=function(e){i(En(e,"storage-delete"))},a.onsuccess=function(){r()}}catch(u){i(_n.create("storage-delete",{originalErrorMessage:u&&u.message}))}})]}})})},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),On=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i,o;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}})})},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Sn(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(_n.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}var Tn,wn=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}})})},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Object(u.__awaiter)(this,void 0,void 0,function(){var t,i,o;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return[4,Sn(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof s.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(s.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}})})},e}();(Tn=i.default).INTERNAL.registerComponent(new c.Component("remoteConfig",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw _n.create("registration-window");var o=r.options,s=o.projectId,u=o.apiKey,c=o.appId;if(!s)throw _n.create("registration-project-id");if(!u)throw _n.create("registration-api-key");if(!c)throw _n.create("registration-app-id");var l=new Cn(c,r.name,n=n||"firebase"),h=new On(l),d=new a.Logger("@firebase/remote-config");d.logLevel=a.LogLevel.ERROR;var f=new gn(i,Tn.SDK_VERSION,n,s,u,c),p=new wn(f,l),_=new fn(p,l,h,d),g=new bn(r,_,h,l,d);return g.ensureInitialized(),g},"PUBLIC").setMultipleInstances(!0)),Tn.registerVersion("@firebase/remote-config","0.1.43"),n("X8/r"),i.default.registerVersion("firebase","8.10.0","app"),i.default.SDK_VERSION="8.10.0",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.default.registerVersion("firebase","8.10.0")},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",function(){return r.default}),r.default.registerVersion("firebase","8.10.0","app"),r.default.SDK_VERSION="8.10.0"},KDNa:function KDNa(module,__webpack_exports__,__webpack_require__){"use strict";var _PageDataConstants,_RouteEnums$HOME,_RouteEnums$ASSIGNMEN2,_RouteEnums$ASSIGNMEN3,_RouteEnums$ASSIGNMEN4,_RouteEnums$ASSIGNMEN5,_RouteEnums$STUDY_PLA2,_RoutePairWiseEventsC,_LessonPlayerEventsCo,_LessonTypesEnum$REVI,_LessonPlayerIntroEve,_LessonTypesEnum$REVI2,_LessonTypesEnum$PRAC2,_LessonTypesEnum$DIGI2,_LessonTypesEnum$MOCK2,_LessonTypesEnum$ORAL2,_QuestionPlayerEvents,_LessonTypesEnum$REVI3,_LessonTypesEnum$BIG_,_LessonTypesEnum$PRAC3,_LessonTypesEnum$DIGI3,_LessonTypesEnum$MOCK3,_AssetPlayerEventsCon,_LessonControlContext,_LessonPlayerModuleCo,_LessonPlayerOpenPage,_RouteEnums$BROWSEBOO8,_RouteEnums$BROWSEBOO9,_BookOpenClosedRoutes,_RouteEnums$STUDY_PLA4;__webpack_require__.d(__webpack_exports__,"a",function(){return ConfigLibModule}),__webpack_require__.d(__webpack_exports__,"b",function(){return DeviceType}),__webpack_require__.d(__webpack_exports__,"c",function(){return LibAppConfigService}),__webpack_require__.d(__webpack_exports__,"d",function(){return QuizControlState}),__webpack_require__.d(__webpack_exports__,"e",function(){return SanitizeHtmlPipe}),__webpack_require__.d(__webpack_exports__,"f",function(){return UtilityLibModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ofXK"),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("tk/3"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("sYmb"),firebase__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("JZFu"),moment__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("VDUF"),moment__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__),lodash__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("LvDl"),lodash__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("XNiG"),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("Cfvw"),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("VRyK"),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("LRne"),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("xgIS"),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("NXyV"),rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("l5mm"),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("2Vo4"),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("z6cu"),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("5yfJ"),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("PqYM"),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("cp0P"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("CqXF"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("/d8p"),rxjs_operators__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("nYR2"),rxjs_operators__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("Zy1z"),rxjs_operators__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("dkDA"),rxjs_operators__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("kgNN"),rxjs_operators__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("5+tZ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("vkgz"),rxjs_operators__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("w1tV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("/uUt"),rxjs_operators__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("JX91"),rxjs_operators__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("zp1y"),rxjs_operators__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("MtjB"),rxjs_operators__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("3E0/"),rxjs_operators__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("f29J"),_angular_router__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("tyNb"),angular_google_tag_manager__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("egL7"),_angular_animations__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("R0Ic"),_ngrx_store__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("l7P3"),_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("R0sL"),_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("9jGm"),ngrx_store_localstorage__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("zzrz"),tslib__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("mrSG"),_angular_fire_analytics__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__("h+eY"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__("1kSV"),_angular_forms__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__("3Pt+"),_angular_fire_firestore__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__("I/3d"),RemoteConfigService=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"remoteConfig",get:function(){return firebase__WEBPACK_IMPORTED_MODULE_4__.a.remoteConfig()}},{key:"activeSignUp",value:function(){return this.remoteConfig.defaultConfig={activate_sign_up:JSON.stringify({signin_web_active:!0,signin_android_active:!0,signin_ios_active:!0,deactivate_msg:"currently we are expericing a heavy traffic and would start the new Registration very soon."})},this.remoteConfig.fetchAndActivate()}},{key:"signInWithOTP",value:function(){return this.remoteConfig.defaultConfig={active_sign_in_with_otp:JSON.stringify({status:!0,deactivate_msg:"currently we are expericing a heavy traffic and would start the new SignIn with OTP very soon."})},this.remoteConfig.fetchAndActivate()}},{key:"bookChapterPreview",value:function(){return this.remoteConfig.defaultConfig={onboarding_book_chapter_preview:JSON.stringify({preview_subjects:!1,show_subjects:!1,show_chapter:!1})},this.remoteConfig.fetchAndActivate()}},{key:"profileImageSize",value:function(){return this.remoteConfig.defaultConfig={child_profile_image_size_kb:1e3},this.remoteConfig.fetchAndActivate()}},{key:"advancePayment",value:function(){return this.remoteConfig.defaultConfig={advance_payment:JSON.stringify({status:!1,rulesExpire:[],rulesAdvance:[]})},this.remoteConfig.fetchAndActivate()}},{key:"recommendedPlan",value:function(){return this.remoteConfig.defaultConfig={recommended_plan:JSON.stringify({studictrial:"studicannualnonref",studicmonthly:"studicannualnonref",studichalf:"studicannualnonref",studicannualnonref:"studicannualnonref18m"})},this.remoteConfig.fetchAndActivate()}},{key:"confidenceRanges",value:function(){return this.remoteConfig.defaultConfig={confidence_range:JSON.stringify({low:[0,.3],medium:[.31,.6],high:[.61,100]})},this.remoteConfig.fetchAndActivate()}},{key:"showBooksForPrint",value:function(){return this.remoteConfig.defaultConfig={print_test_books:JSON.stringify([""])},this.remoteConfig.fetchAndActivate()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),LibCommonUtilityService=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.translate=t,this.remoteConfigService=n,this.confidenceLabels=["low","medium","high","high"]}return _createClass(e,[{key:"findAncestorElement",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"getConfidenceLabels",value:function(){return this.confidenceLabels}},{key:"getConfRing",value:function(e,t,n,r){var i;return console.log(e,t,n,r,"accessedOn, completedInSchool, confidence, exclude"),n>=0&&null!==e?(console.log("enter in if when confi is greater than 0 in lib common utility"),i="icon-"+this.getConfidence(n)):t?(console.log("enter in else if when completedInschool === lib common utility"),i="icon-completed-in-school"):(console.log("enter in else when no studied === lib common utility"),i="icon-not-studied"),r&&(i+=" icon-exclude"),i}},{key:"getConfidenceTooltipData",value:function(e){var t={low:this.translate.instant("browsebook.chapters.lowConf"),medium:this.translate.instant("browsebook.chapters.mediumConf"),high:this.translate.instant("browsebook.chapters.highConf"),"not-studied":this.translate.instant("browsebook.chapters.notAssessedConf"),"completed-in-school":this.translate.instant("browsebook.chapters.completedConf")},n={low:this.translate.instant("browsebook.chapters.lowConfTooltip"),medium:this.translate.instant("browsebook.chapters.mediumConfTooltip"),high:this.translate.instant("browsebook.chapters.highConfTooltip"),"not-studied":this.translate.instant("browsebook.chapters.notAssessedConfTooltip"),"completed-in-school":this.translate.instant("browsebook.chapters.completedConfTooltip")};return{header:t[e],text:n[e]}}},{key:"getConfidence",value:function(e){var t;this.remoteConfigService.confidenceRanges();var n=this.remoteConfigService.remoteConfig.getValue("confidence_range").asString();for(var r in console.log(n,"getconfidenceRange in lib common utlity service"),t=JSON.parse(n)){var i=_slicedToArray(t[r],2),o=i[0],s=i[1];if(e>=o&&e<=s)return r}}},{key:"convertJSONtoFORMDATA",value:function(e){var t=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.f;return Object.keys(e).forEach(function(n){return t=t.append(n,e[n])}),t}},{key:"flattenBookNodes",value:function(e,t,n){var r=this;return t&&t.length&&t.forEach(function(t){r.flattenBookNodes(e,t.node,t.id),e.push({nodeId:t.id,nodeLabel:t.label,nodeType:t.type,parentNodeId:n,duration:t.duration?Math.ceil(t.duration/60):0})}),e}},{key:"flattenCurriculumNodes",value:function(e){var t=[];return e&&e.length&&e.forEach(function(e){t.push({nodeId:e.gradeId,nodeLabel:e.gradeTitle,nodeType:"grades",parentNodeId:""}),e.subjects.forEach(function(n){t.push({nodeId:n.subjectId,nodeLabel:n.subjectTitle,nodeType:"subjects",parentNodeId:e.gradeId}),n.books.forEach(function(e){t.push({nodeId:e.bookId,nodeLabel:e.title,nodeType:"book",parentNodeId:n.subjectId})})})}),console.log("flattenCurriculumNodes",t),t}},{key:"shuffleQuestionList",value:function(e){if(e.length>1){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return _toConsumableArray(e)}return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(RemoteConfigService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),LibTimeUtilityService=function(){var e=function(){function e(){var t=this;_classCallCheck(this,e),this.date={time:function(e){return t.getCurrentDateTime(e)}}}return _createClass(e,[{key:"getCurrentDate",value:function(e){var t=new Date;return e?this.date[e](t):(console.log(t),t)}},{key:"getCurrentDateTime",value:function(e){return e.getTime()}},{key:"getLastDayOfWeek",value:function(e){var t=new Date(e);return new Date(t.setDate(t.getDate()-(t.getDay()-1)+5))}},{key:"getFirstDayOfWeek",value:function(e){var t=new Date(e);return new Date(t.setDate(t.getDate()-6))}},{key:"getWeekCount",value:function(e,t){e=new Date(e);var n=this.getLastDayOfWeek(e),r=this.getFirstDayOfWeek(n);t=new Date(t);var i=this.getLastDayOfWeek(t),o=this.getFirstDayOfWeek(i),s=this.differenceInTime(o,r);return Math.floor(s.days/7+1)}},{key:"getTotalWeek",value:function(e,t){e=new Date(e);var n=new Date(e.setDate(e.getDate()-(e.getDay()-1)+5)),r=new Date(new Date(n).setDate(new Date(n).getDate()-6));t=new Date(t);var i=new Date(t.setDate(t.getDate()-(t.getDay()-1)+5)),o=new Date(new Date(i).setDate(new Date(i).getDate()-6)),s=this.differenceInTime(o,r);return Math.floor(s.days/7+1)}},{key:"getStartWeekDate",value:function(e){e=new Date(e);var t=this.getLastDayOfWeek(e);return this.getFirstDayOfWeek(t)}},{key:"getDateLabel",value:function(e){var t=new Date(e).toLocaleDateString("default",{weekday:"short"}),n=new Date(e).getDate(),r=new Date(e).toLocaleDateString("default",{month:"short"});return new Date(e).getFullYear(),"".concat(t,", ").concat(n,"-").concat(r)}},{key:"twoDateCompareStatus",value:function(e,t){return e.getTime()===t.getTime()?0:e.getTime()<t.getTime()?1:2}},{key:"differenceInTime",value:function(e,t){var n=Math.abs(e.getTime()-t.getTime())/1e3;return{days:Math.floor((e.getTime()-t.getTime())/864e5),hours:Math.floor(n/3600)%24,minutes:Math.floor(n/60)%60,seconds:Math.floor(n%60)}}},{key:"incrementDate",value:function(e,t){return new Date(new Date(e).setDate(e.getDate()+t))}},{key:"decrementDate",value:function(e,t){return new Date(new Date(e).setDate(e.getDate()-t))}},{key:"formatDate",value:function(e,t){return new _angular_common__WEBPACK_IMPORTED_MODULE_1__.d("en-US").transform(e,t)}},{key:"getStartOfTheMonth",value:function(e){return new Date(e.getFullYear(),e.getMonth(),1)}},{key:"getEndOfTheMonth",value:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}},{key:"convertSecToTime",value:function(e,t){var n=Math.floor(e/60/60),r=Math.floor(e/60)-60*n,i=e%60;return{format:lodash__WEBPACK_IMPORTED_MODULE_6__([n,r,i]).compact().value().join(t||"."),totalHours:n,totalMinutes:Math.floor(e/60),minutes:r,seconds:i}}},{key:"getFormattedDate",value:function(e){if(!e)return"";var t=moment__WEBPACK_IMPORTED_MODULE_5__(),n=t.clone().startOf("day"),r=t.clone().subtract(1,"days").startOf("day"),i=t.clone().subtract(1,"weeks").startOf("isoWeek"),o=t.clone().subtract(1,"months").startOf("month"),s=t.clone().subtract(1,"years").startOf("day"),a=t.clone().add(1,"days").startOf("day"),u=t.clone().add(1,"weeks").startOf("isoWeek"),c=t.clone().add(1,"months").startOf("month"),l=t.clone().add(1,"years").startOf("day");if(!e)return null;var h=moment__WEBPACK_IMPORTED_MODULE_5__(new Date(e)),d=moment__WEBPACK_IMPORTED_MODULE_5__(h).diff(t)>0;return h.isSame(n,"d")?"Today":h.isSame(r,"d")?"Yesterday":h.isSame(a,"d")?"Tomorrow":h.isSame(t,"isoWeek")&&!d?"Earlier this week":h.isSame(t,"isoWeek")&&d?"Later this week":h.isSame(i,"isoWeek")?"Last week":h.isSame(u,"isoWeek")?"Next week":h.isSame(t,"month")&&!d?"earlier this Month":h.isSame(t,"month")&&d?"Later this Month":h.isSame(o,"month")?"Last Month":h.isSame(c,"month")?"Next Month":h.isSame(t,"year")?h.format("MMM"):h.isBetween(s,t)?"Last "+h.format("MMM"):h.isBetween(t,l)?"Next "+h.format("MMM"):h>=moment__WEBPACK_IMPORTED_MODULE_5__(l)?"Get a time machine":h<=moment__WEBPACK_IMPORTED_MODULE_5__(s)?"":void 0}},{key:"getMomentFormattedDate",value:function(e,t){return moment__WEBPACK_IMPORTED_MODULE_5__(e).format(t)}},{key:"isSameDate",value:function(e,t){return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()}},{key:"formatTimeInHoursAndMinutes",value:function(e){var t,n=Math.floor(e/60),r=e%60;if(0!==r&&30!==r){var i=Math.floor(r/30);t=1===i?0:30,n=1===i?n+1:n}else t=r;var o,s=n+t/60,a=n>=1?"".concat(n," hour"):"",u=a=n>1?"".concat(a,"s"):a;return u=0!==t?"".concat(u," ").concat(t," minutes"):u,o=s%n==0?a:0!==n?"".concat(n," 1/2 hours"):"1/2 hour",{timeString:u.trim(),timeDecimal:s,timeMinutes:60*s,timeInHours:o}}},{key:"compareTwoDays",value:function(e,t){e.setHours(0,0,0,0),t.setHours(0,0,0,0);var n=e.getTime(),r=t.getTime();return n===r?0:n<r?1:2}},{key:"setZeroHours",value:function(e){return new Date(e).setHours(0,0,0,0)}},{key:"differenceInTwoDays",value:function(e,t){e=new Date(this.setZeroHours(e)),t=new Date(this.setZeroHours(t));var n=Math.abs(e.getTime()-t.getTime())/1e3;return{days:Math.floor((e.getTime()-t.getTime())/864e5),hours:Math.floor(n/3600)%24,minutes:Math.floor(n/60)%60,seconds:Math.floor(n%60)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),LIB_APP_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("LIB_APP_CONFIG"),GTM_ID=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("googleTagManagerId"),GTM_ID_VALUE="GTM-NHKK69W",ENVIRONMENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("ENVIRONMENT"),APP_VERSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("APP_VERSION"),APP_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("APP_CONFIG"),SCREEN_RESOLUTION_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("SCREEN_RESOLUTION_CONFIG"),INTRO_SCREEN_DYNAMIC_COMPONENTS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("INTRO_SCREEN_DYNAMIC_COMPONENTS"),COMPONENTS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("COMPONENTS"),UTITLITY_APP_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("UTITLITY_APP_CONFIG"),LibUtilityConfigService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.appConfig=t}return _createClass(e,[{key:"getAppConfig",value:function(){return this.appConfig.default}},{key:"getSubjectTheme",value:function(e){var t=this.getAppConfig().theme.subject,n=t.default;return t.hasOwnProperty(e)&&(n=t[e]),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UTITLITY_APP_CONFIG))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),global={ttlState:24},sentry=!1,theme={subject:{"sub-af6ba448-e9e1-4dd3-bc2e-772e1181b56e":"blue-theme","sub-1a92d675-3730-4df5-a2eb-0ad64a159a93":"orange-theme","sub-e71b1a16-85ea-4e12-bb4f-5cb58a98cc54":"purple-theme","sub-ae8fce9e-0bfc-4c9c-9562-9d5823788a6b":"pink-theme","sub-30160d4e-0ed9-48b6-9ab1-c733fbccfa07":"yellow-theme","sub-d4e48d9c-07ba-4e20-9884-18267769843b":"green-theme","sub-b8908fdc-a31f-4a0a-997e-033e1db1760d":"turquoise-blue-theme","sub-87bf8b45-0ef3-409e-9e62-fc3c83b1a24a":"turquoise-blue1-theme","sub-b544faca-dbb4-4777-8396-c2124e80362b":"turquoise-blue2-theme","sub-86aef7d4-54f7-46f8-95b8-3c7540e9cb7a":"turquoise-blue2-theme","sub-48ae28de-2d3a-4373-aaca-f855765a70c6":"orchid-purple-theme","sub-fa9b4e4a-d64d-47d0-bb74-2ba0c7723f9a":"orchid-purple1-theme","sub-ecea33ab-b799-4268-a83d-32e68575b4bd":"orchid-purple1-theme","sub-552d6a1b-a761-4e7a-9e98-b9d51b36a420":"orchid-purple2-theme","sub-bb9e7451-4661-4021-9317-ec89e570f699":"watermelon-pink-theme","sub-9c46340c-98c2-41c8-8df7-1c0ae6b1cee1":"watermelon-pink1-theme","sub-795e8cb9-8d13-486f-a498-65502c456a3b":"economics-theme","sub-3743422b-46d1-42eb-93b8-20e9b4e79a71":"SocialStudies-theme","sub-de52e516-6002-4140-8558-c62df87a7c8c":"biology-theme","sub-dcae372d-dc9e-490e-b14c-55f2f7bd2c3d":"physics-theme","sub-16234be5-8402-4cb4-8ada-b63422f6ea1a":"chemistry-theme",default:"default-theme",geography:"green-theme",maths:"orange-theme",science:"purple-theme",gk:"default-theme",english:"default-theme"}},subjectName={subject:{"sub-af6ba448-e9e1-4dd3-bc2e-772e1181b56e":"Geography","sub-1a92d675-3730-4df5-a2eb-0ad64a159a93":"History","sub-e71b1a16-85ea-4e12-bb4f-5cb58a98cc54":"Political Science","sub-ae8fce9e-0bfc-4c9c-9562-9d5823788a6b":"Mathematics","sub-30160d4e-0ed9-48b6-9ab1-c733fbccfa07":"Science","sub-d4e48d9c-07ba-4e20-9884-18267769843b":"Environmental Science","sub-b8908fdc-a31f-4a0a-997e-033e1db1760d":"English Literature","sub-87bf8b45-0ef3-409e-9e62-fc3c83b1a24a":"English Reader","sub-b544faca-dbb4-4777-8396-c2124e80362b":"English Grammar","sub-86aef7d4-54f7-46f8-95b8-3c7540e9cb7a":"English Language","sub-48ae28de-2d3a-4373-aaca-f855765a70c6":"Hindi Literature","sub-fa9b4e4a-d64d-47d0-bb74-2ba0c7723f9a":"Hindi Grammar","sub-ecea33ab-b799-4268-a83d-32e68575b4bd":"Hindi Language","sub-552d6a1b-a761-4e7a-9e98-b9d51b36a420":"Hindi Reader","sub-bb9e7451-4661-4021-9317-ec89e570f699":"Sanskrit Literature","sub-9c46340c-98c2-41c8-8df7-1c0ae6b1cee1":"Sanskrit Grammar","sub-795e8cb9-8d13-486f-a498-65502c456a3b":"Economics","sub-3743422b-46d1-42eb-93b8-20e9b4e79a71":"Social Studies","sub-de52e516-6002-4140-8558-c62df87a7c8c":"Biology","sub-dcae372d-dc9e-490e-b14c-55f2f7bd2c3d":"Physics","sub-16234be5-8402-4cb4-8ada-b63422f6ea1a":"Chemistry"}},revise={config:{}},practise={config:{}},intent={config:[{id:1,intentType:"mock",label:"MOCK TEST",icon:"printed",source:["assignment","browsebook"],category:"ASSIGN",module:"browseBook/subjects",description:"Test your confidence with digital evaluation",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:2,intentType:"digital",label:"DIGITAL TEST",icon:"digital",source:["assignment","browsebook"],category:"ASSIGN",module:"browseBook/subjects",description:"Test your confidence with digital evaluation",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:4,intentType:"task",label:"TASK",module:"assignment/create-task-assignment",icon:"task",source:["assignment"],category:"ASSIGN",description:"Never forget what you need to get done",actionControls:{pending:{mark_complete:!1,pri:"Mark as Completed",sec:"",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:5,intentType:"studyplan",label:"STUDI PLAN",icon:"studyplan",source:["browsebook"],category:"CREATE",description:"Create your studyplan instantly",module:"lessonPlayer",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}}]},studyPlan={config:[{id:2,intentType:"study-plan",label:"Deadline",icon:"study-plan-move",source:["study-plan-progress"],category:"Modify",description:"Give yourself more or less time to finish portion.",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:3,intentType:"study-plan",label:"Portion",icon:"study-plan-update",source:["study-plan-progress"],category:"Modify",description:"Add or remove topics from the portion",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:4,intentType:"study-plan",label:"Plan: PlanTitle",icon:"study-plan-pause",source:["study-plan-progress"],category:"Pause",description:"Stop scheduling daily STUDi tasks for a few days",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:5,intentType:"study-plan",label:"RESUME PLAN",icon:"current",source:["study-plan-progress"],category:"EDIT",description:"Resume plan now",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:6,intentType:"study-plan",label:"ACTIVATE PLAN",icon:"current",source:["study-plan-progress"],category:"",description:"Activate plan now",module:"study-plan-progress",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:7,intentType:"study-plan",label:"STUDI PLAN",icon:"studyplan",source:["active-plan"],category:"CREATE",description:"Make your own Studi Schedule",module:"active-plan",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:8,intentType:"study-plan",label:"Reorder Chapters",icon:"study-plan-reorder",source:["manage-study-plan-subject"],category:"EDIT",description:"Arrange chapters as you like",module:"manage-study-plan-subject",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}},{id:9,intentType:"study-plan",label:"CURRENT PLAN",icon:"current",source:["manage-study-plan-paused-plan"],category:"ACTIVATE",description:"You have paused this plan",module:"manage-study-plan-paused-plan",actionControls:{pending:{mark_complete:!1,pri:"Start Test",sec:"Edit Assignment",ter:[]},completed:{mark_complete:!1,pri:"Reattempt Test",sec:"",ter:[]}}}]},createSPSteps={config:[{component:"",instruction:"Let's tap on a subject to select chapters from it. Then we can come back here and pick another subject.",isMaximized:!0,label:"Step 1 Of 4",mLabel:"Select Portion",btnLabel:"Next Step",nextStep:!0,prevStep:!1,stepData:[],stepId:1},{component:"",instruction:"Let's tap on a subject to select chapters from it. Then we can come back here and pick another subject.",isMaximized:!0,label:"Step 1 Of 4",mLabel:"Select Portion",btnLabel:"Next Step",nextStep:!0,prevStep:!1,stepData:[],stepId:1},{component:"",instruction:"Spend more time to get better at tougher subjects. Instead of two revisions do three.",isMaximized:!0,label:"Step 2 Of 4",mLabel:"Pay Extra Attention",btnLabel:"Next Step",nextStep:!0,prevStep:!0,stepData:[],stepId:2},{component:"test-setting",instruction:"What date would you like us to finish the portion by?",isMaximized:!0,label:"Step 3 Of 4",mLabel:"Set Deadline",btnLabel:"Next Step",nextStep:!0,prevStep:!0,stepData:[],stepId:3},{component:"",instruction:"Does everything look good? Great. Let's activate the plan, so that we can start studying it.",isMaximized:!0,label:"Step 4 Of 4",mLabel:"Review Goal",btnLabel:"Activate Plan",nextStep:!0,prevStep:!0,stepData:[],stepId:4}]},config={global:global,sentry:sentry,theme:theme,subjectName:subjectName,revise:revise,practise:practise,intent:intent,studyPlan:studyPlan,createSPSteps:createSPSteps},appConfig=Object.freeze({__proto__:null,global:global,sentry:sentry,theme:theme,subjectName:subjectName,revise:revise,practise:practise,intent:intent,studyPlan:studyPlan,createSPSteps:createSPSteps,default:config}),SanitizeHtmlPipe=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb({name:"sanitizeHtml",type:e,pure:!1}),e}(),\u02750=appConfig,UtilityLibModule=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({providers:[LibCommonUtilityService,LibTimeUtilityService,LibUtilityConfigService,{provide:UTITLITY_APP_CONFIG,useValue:\u02750}],imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.a]]}),e}(),BrowserCapabilitiesService=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"browserPreRequisite",value:function(){return this.checkOtherCapabilities().then(function(e){var t={canvas:Modernizr.canvas,cookies:Modernizr.cookies,history:Modernizr.history,json:Modernizr.json,lowbandwidth:Modernizr.lowbandwidth,svg:Modernizr.svg,unicode:Modernizr.unicode,unicoderange:Modernizr.unicoderange,webworkers:Modernizr.webworkers},n=Object.assign(Object.assign({},Object.assign.apply(Object,[{}].concat(_toConsumableArray(e)))),t);console.log("BrowserCapabilitiesService -> browserPreRequisite -> result",n)})}},{key:"checkOtherCapabilities",value:function(){return Promise.all([this.checkIndexedDb(),this.checkAudio(),this.checkVideo()])}},{key:"checkIndexedDb",value:function(){return new Promise(function(e){Modernizr.on("indexeddb",function(t){e({indexeddb:t.valueOf()})})})}},{key:"checkAudio",value:function(){return new Promise(function(e){Modernizr.on("audio",function(t){e({audio:t.valueOf()})})})}},{key:"checkVideo",value:function(){return new Promise(function(e){Modernizr.on("video",function(t){e({video:t.valueOf()})})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),SharedModuleEventHandlerService=function(){var e=function(){function e(){var t=this;_classCallCheck(this,e),this.listeners={},this.eventsSubject=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a,this.events=Object(rxjs__WEBPACK_IMPORTED_MODULE_8__.a)(this.eventsSubject),this.events.subscribe(function(e){var n=e.name,r=e.args;if(t.listeners[n]){var i,o=_createForOfIteratorHelper(t.listeners[n]);try{for(o.s();!(i=o.n()).done;){i.value.apply(void 0,_toConsumableArray(r))}}catch(s){o.e(s)}finally{o.f()}}})}return _createClass(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e){this.listeners[e]=null}},{key:"destroyLisners",value:function(e){this.listeners[e]&&delete this.listeners[e]}},{key:"broadcast",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.eventsSubject.next({name:e,args:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),SharedModuleEventHandlerModule=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[SharedModuleEventHandlerService]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({}),e}(),sharedModuleEventHandlerType=function(e){return e.NEXT_LESSON="NEXT_LESSON",e.CONTROL_NAVIGATION="CONTROL_NAVIGATION",e.LESSON_OBJECTIVE_TOGGLE="LESSON_OBJECTIVE_TOGGLE",e.LESSON_OVERVIEW_TOGGLE="LESSON_OVERVIEW_TOGGLE",e.CONTINUE_FLOW="CONTINUE_FLOW",e.PAUSE_VIDEO="PAUSE_VIDEO",e.PLAY_VIDEO="PLAY_VIDEO",e.CUE_POINT_LOADER="CUE_POINT_LOADER",e.INTENT_NEXT="INTENT_NEXT",e.ASSIGN_INTENT="ASSIGN_INTENT",e.SUBJECT_SELECT="SUBJECT_SELECT",e.REVIEW_ATTEMPTED="REVIEW_ATTEMPTED",e.PREVIOUS="PREVIOUS",e.BACK_CONFIRM_ALERT="BACK_CONFIRM_ALERT",e.VIDEO_PLAYER_BANDWIDTH="VIDEO_PLAYER_BANDWIDTH",e}({}),NetworkConnectionStatusService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.sharedModuleEventHandlerService=t,this.LATENCY_THRESHOLD=6e3,this.fastnetCallInProgress=!1,this.httpcallsDict={},this.checkAfterTime=1e3,this.lowInternetCounter=0,this.status=Object(rxjs__WEBPACK_IMPORTED_MODULE_9__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(navigator.onLine),Object(rxjs__WEBPACK_IMPORTED_MODULE_11__.a)(window,"online").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(!0)),Object(rxjs__WEBPACK_IMPORTED_MODULE_11__.a)(window,"offline").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(!1))),console.log(this.status),this.isInternetFast=this.initIsInternetFast(),this.videoBufferHandler()}return _createClass(e,[{key:"initIsInternetFast",value:function(){var e=this;return console.log("initIsInternetFast",this.httpcallsDict),Object(rxjs__WEBPACK_IMPORTED_MODULE_12__.a)(function(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_13__.a)(e.checkAfterTime)}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.a)()).subscribe(function(){e.checkDelayedCalls()}),new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(!0)}},{key:"videoBufferHandler",value:function(){var e=this;setTimeout(function(){e.lowInternetCounter=0},6e3),this.sharedModuleEventHandlerService.on(sharedModuleEventHandlerType.VIDEO_PLAYER_BANDWIDTH,function(t){e.checkVideoPlayerSpeed(t.bandwidth,t.bandwidthSegments)})}},{key:"addHttpCall",value:function(e){this.httpcallsDict[e.url+e.method]=Date.now()}},{key:"removeHttpCall",value:function(e){delete this.httpcallsDict[e.url+e.method]}},{key:"checkDelayedCalls",value:function(){var e=this;if(this.httpcallsDict){var t=Date.now(),n=0;Object.keys(this.httpcallsDict).forEach(function(r){t-e.httpcallsDict[r]>e.LATENCY_THRESHOLD?e.checkInternetSpeed():n++}),Object.keys(this.httpcallsDict).length<=n&&this.isInternetFast.next(!0)}}},{key:"testObserver",value:function(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)("").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.a)(function(){console.log("this is testObserver finalize")}))}},{key:"printSubscribe",value:function(){this.status.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.a)(function(){console.log("this is status finalize")})).subscribe(function(e){console.log("this is status",e)}),this.isInternetFast.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.a)(function(){console.log("this is isInternetFast finalize")})).subscribe(function(e){console.log("this is isInternetFast",e)})}},{key:"checkVideoPlayerSpeed",value:function(e,t){e<t[360]?this.lowInternetCounter+=1:this.lowInternetCounter=0,this.isInternetFast.next(!(this.lowInternetCounter>=3))}},{key:"checkInternetSpeed",value:function(){var e=this;this.status&&!this.fastnetCallInProgress&&(this.fastnetCallInProgress=!0,isFastNet(function(t){e.fastnetCallInProgress=!1,console.log("Received latency data: "+JSON.stringify(t)),e.isInternetFast.next(t.isFast),e.checkAfterTime=t.isFast?3e3:7e3},{timesToTest:2,threshold:this.LATENCY_THRESHOLD,image:"https://www.google.com/images/phd/px.gif",allowEarlyExit:!0,verbose:!0}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(SharedModuleEventHandlerService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(SharedModuleEventHandlerService))},token:e,providedIn:"root"}),e}(),DeviceType=function(e){return e.android="android",e.ios="ios",e.flutter="flutter",e}({}),QuizAttemptState=function(e){return e.correct="correct",e.incorrect="incorrect",e}({}),QuizControlState=function(e){return e.onQLoad="onQLoad",e.onAttempt="onAttempt",e.onQRetry="Wrong Answer",e.onFinal="fb_final",e.nextSubQ="nextSubQ",e}({}),RouteEnums=function(e){return e.HOME="/menu",e.STUDY_PLAN="/study-plan/my-lesson",e.STUDY_PLAN_SCHEDULED_LESSONS="/study-plan/schedule",e.STUDY_PLAN_MANAGE_MY_PLANS="/study-plan/my-plans",e.STUDY_PLAN_MANAGE_PROGRESS="/study-plan/progress",e.STUDY_PLAN_MANAGE_PORTION_BOOK="/study-plan/portion-book",e.STUDY_PLAN_CREATE_LANDING="/study-plan/create/(comp:init/1/0)",e.STUDY_PLAN_CREATE_SELECT_PORTION="/study-plan/create/(comp:1)",e.STUDY_PLAN_CREATE_EXTRA_ATTENTION="/study-plan/create/(comp:2)",e.STUDY_PLAN_CREATE_SELECT_DATE="/study-plan/create/(comp:3)",e.STUDY_PLAN_CREATE_ACTIVATE_PLAN="/study-plan/create/(comp:5)",e.STUDY_PLAN_DEADLINE_MISSED="/study-plan/deadline-missed",e.STUDY_PLAN_PAUSED_PLAN="/study-plan/paused-plan",e.BROWSEBOOKS_LANDING="/browseBook/subjects",e.BROWSEBOOKS="/browseBook/subjects/(comp:d)",e.BROWSEBOOKS_BOOK_OPEN="/browseBook/chapters/(comp:d)",e.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK="/browseBook/subjects/browsebook/1/(comp:creation/0)",e.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS="/browseBook/chapters/browsebook/1/(comp:creation/1)",e.BROWSEBOOKS_ORAL_TEST_FILL_DETAILS="/browseBook/chapters/browsebook/1/(comp:setting/2)",e.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK="/browseBook/subjects/browsebook/2/(comp:creation/0)",e.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS="/browseBook/chapters/browsebook/2/(comp:creation/1)",e.BROWSEBOOKS_DIGITAL_TEST_FILL_DETAILS="/browseBook/chapters/browsebook/2/(comp:setting/2)",e.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK="/browseBook/subjects/browsebook/2/(comp:creation/0)",e.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS="/browseBook/chapters/browsebook/2/(comp:creation/1)",e.BROWSEBOOKS_MOCK_TEST_FILL_DETAILS="/browseBook/chapters/browsebook/2/(comp:setting/2)",e.ASSIGNMENTS_LANDING="/assignment/list",e.ASSIGNMENTS="/assignment/list/(comp:d)",e.ASSIGNMENTS_COMPLETED_TASKS="/assignment/task-completed/(comp:d)",e.ASSIGNMENTS_PREVIEW="/assignment/preview",e.ASSIGNMENTS_CREATE_TASK="/assignment/create-task-assignment/assignment/4",e.ASSIGNMENTS_ORAL_TEST_SELECT_BOOK="/browseBook/subjects/assignment/1/(comp:creation/0)",e.ASSIGNMENTS_ORAL_TEST_SELECT_TOPICS="/browseBook/chapters/assignment/1/(comp:creation/1)",e.ASSIGNMENTS_ORAL_TEST_FILL_DETAILS="/browseBook/chapters/assignment/1/(comp:setting/2)",e.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK="/browseBook/subjects/assignment/2/(comp:creation/0)",e.ASSIGNMENTS_DIGITAL_TEST_SELECT_TOPICS="/browseBook/chapters/assignment/2/(comp:creation/1)",e.ASSIGNMENTS_DIGITAL_TEST_FILL_DETAILS="/browseBook/chapters/assignment/2/(comp:setting/2)",e.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK="/browseBook/subjects/assignment/2/(comp:creation/0)",e.ASSIGNMENTS_MOCK_TEST_SELECT_TOPICS="/browseBook/chapters/assignment/2/(comp:creation/1)",e.ASSIGNMENTS_MOCK_TEST_FILL_DETAILS="/browseBook/chapters/assignment/2/(comp:setting/2)",e.ASSIGNMENTS_TASK="/assignment/create-task-assignment/assignment/4",e.LESSON_PLAYER_PRACTICE_BROWSEBOOK="/lesson/player?player=practice&module=browseBook",e.LESSON_PLAYER_REVISE_BROWSEBOOK="/lesson/player?player=revise&module=browseBook",e.LESSON_PLAYER_BIG_IDEA_BROWSEBOOK="/lesson/player?player=bigidea&module=browseBook",e.LESSON_PLAYER_SPACED_PRACTICE_1_BROWSEBOOK="/lesson/player?player=spacedpractice1&module=browseBook",e.LESSON_PLAYER_SPACED_PRACTICE_2_BROWSEBOOK="/lesson/player?player=spacedpractice2&module=browseBook",e.LESSON_PLAYER_DIGITAL_TEST_ASSIGNMENTS="/lesson/player?player=test&module=assignment",e.LESSON_PLAYER_DIGITAL_TEST_STUDY_PLAN="/lesson/player?player=test&module=studyPlan",e.LESSON_PLAYER_MOCK_TEST_ASSIGNMENTS="/lesson/player?player=test&module=assignment",e.LESSON_PLAYER_MOCK_TEST_STUDY_PLAN="/lesson/player?player=test&module=studyPlan",e.LESSON_PLAYER_ORAL_TEST_ASSIGNMENTS="/lesson/player?player=oral&module=assignment",e.LESSON_PLAYER_ORAL_TEST_STUDY_PLAN="/lesson/player?player=oral&module=studyPlan",e.LESSON_PLAYER_BIG_IDEA_STUDY_PLAN="/lesson/player?player=bigidea&module=studyPlan",e.LESSON_PLAYER_REVISE_STUDY_PLAN="/lesson/player?player=revise&module=studyPlan",e.LESSON_PLAYER_PRACTICE_STUDY_PLAN="/lesson/player?player=practice&module=studyPlan",e.LESSON_PLAYER_SPACED_PRACTICE_1_STUDY_PLAN="/lesson/player?player=spacedpractice1&module=studyPlan",e.LESSON_PLAYER_SPACED_PRACTICE_2_STUDY_PLAN="/lesson/player?player=spacedpractice2&module=studyPlan",e.LESSON_PLAYER_SUMMARY_STUDY_PLAN="/lesson/player?player=summary&module=studyPlan",e.AUTH_SIGN_IN_USERNAME_PARENT="/authentication/sign-in/(step:enter-username)",e.AUTH_SIGN_IN_PASSWORD_PARENT="/authentication/sign-in/(step:enter-password)",e.AUTH_SIGN_IN_USERNAME_CHILD="/authentication/sign-in/(step:enter-username/child)",e.AUTH_SIGN_IN_PASSWORD_CHILD="/authentication/sign-in/(step:enter-password/child)",e.AUTH_TERMS_AND_CONDITIONS="/authentication/terms-and-conditions",e.AUTH_REGISTRATION="/authentication/register",e.AUTH_REGISTRATION_CHILD_DETAILS="/authentication/register/child-details",e.AUTH_REGISTRATION_CONTACT_DETAILS="/authentication/register/contact-details",e.AUTH_REGISTRATION_OTP_VALIDATION="/authentication/register/otp-validation",e.AUTH_CREATE_PASSWORD="/parent/create-password",e.SUBSCRIPTION_DASHBOARD="/parent/dashboard",e.SUBSCRIPTION_REGISTER_CHILD="/parent/register-child",e.SUBSCRIPTION_PLANS="/parent/plans",e.SUBSCRIPTION_ORDER_SUMMARY="/parent/order-summary",e.SUBSCRIPTION_ACKNOWLEDGEMENT="/parent/acknowledgement",e.SUBSCRIPTION_REDIRECT_PAYMENT="/parent/redirect-payment",e}({}),ApiStatusEnum=function(e){return e[e.SUCCESS=200]="SUCCESS",e[e.BAD_REQUEST=400]="BAD_REQUEST",e}({}),ApiUrlsEnum=function(e){return e.SIGN_IN="auth-api/0/api/1/sso/token",e}({}),LessonTypesEnum=function(e){return e.BIG_IDEA="bigIdea",e.PRACTICE="practice",e.REVISE="revise",e.SPACED_PRACTICE_1="spacedPractice1",e.SPACED_PRACTICE_2="spacedPractice2",e.DIGITAL_TEST="digital_test",e.ORAL_TEST="oral_test",e.MOCK_TEST="mock_test",e.SUMMARY="summary",e}({}),LessonPlayerIntroScreenActionsEnum=function(e){return e.START="start",e.EXIT="exit",e.NEXT="next",e}({}),LessonPlayerStateEnum=function(e){return e.OPEN="open",e.SESSION_START="session_start",e.SESSION_END="session_end",e.CLOSE="close",e}({}),QuestionPlayerStateEnum=function(e){return e.ATTEMPT="attempt",e.SKIP="skipped",e.RETRY="retry",e.QUIZ_END="quiz_end",e.ABANDONED="abandoned",e.REVIEW_ATTEMPT="review_attempt",e}({}),AssetPlayerStateEnum=function(e){return e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.END="end",e.PULSE="pulse",e.REPLAY="replay",e}({}),ContentTypesEnum=function(e){return e.QUIZ="quiz",e.ASSET="asset",e.SUMMARY="summary",e.CARD="card",e}({}),LessonPlayerPageNamesEnum=function(e){return e.REVIEW="review",e.QUIZ="quiz",e.SUMMARY="summary",e.CARD="card",e.VIDEO="video",e}({}),RingTypes=function(e){return e.GOALS_RING="goals",e.LESSONS_RING="lessons",e.DURATION_RING="duration",e.TICK="tick",e}({}),RingUnits=function(e){return e.GOALS_RING="stars",e.LESSONS_RING="tasks",e.DURATION_RING="mins",e}({}),RingJsonPaths=function(e){return e.GOALS_RING="assets/lottie_jsons/inner.json",e.LESSONS_RING="assets/lottie_jsons/middle.json",e.DURATION_RING="assets/lottie_jsons/outer.json",e.TRACK="assets/lottie_jsons/tracks.json",e.TICK="assets/lottie_jsons/tick.json",e}({}),ApiRequestEnum=function(e){return e.RESOURCE="res",e.API="api",e}({}),AuthTypeEnum=function(e){return e[e.NO_AUTH=0]="NO_AUTH",e[e.AUTH=1]="AUTH",e}({}),QuestionTypeEnum=function(e){return e.SUBJECTIVE="SUBJECTIVE",e}({}),ApiUrlService=function(){var e=function(){function e(){_classCallCheck(this,e),this.apiVersion=1}return _createClass(e,[{key:"uploadAttachmentData",value:function(e,t){return"/activity/1/res/v1/notes/".concat(e,"/attachment/").concat(t)}},{key:"fetchImageData",value:function(e,t){return"/activity/1/res/v1/notes/".concat(e,"/attachment/").concat(t)}},{key:"fetchAttachmentData",value:function(e,t){return"/activity/1/api/v1/notes/".concat(e,"/attachment/").concat(t)}},{key:"deleteAttachmentById",value:function(e,t){return"/activity/1/api/v1/notes/".concat(t,"/attachment/").concat(e)}},{key:"fetchDraftNoteId",value:function(){return"/activity/1/api/v1/notes"}},{key:"getLoginUrl",value:function(){return"/auth-api/0/api/1/sso/token"}},{key:"getLogoutUrl",value:function(e){return"/auth-api/1/api/1/sso/revoke/".concat(e)}},{key:"getClientIdUrl",value:function(){return"/auth-api/0/api/1/sso/clientid"}},{key:"postsetStatus",value:function(e){return"/activity/1/api/v1/assignment/".concat(e)}},{key:"setSeenStatus",value:function(){return"/activity/1/api/v1/assignment/bulk"}},{key:"getCreateTaskUrl",value:function(){return"/activity/1/api/v1/assignment"}},{key:"getActivePlan",value:function(){return"/dummy-api/activeplan"}},{key:"getScheduleLessonListUrl",value:function(){return"/tutor/1/api/v1/study/lesson/dates"}},{key:"getConfig",value:function(e){return"assets/static_json/assignment/config/".concat(e,".json")}},{key:"getTaskByPage",value:function(e,t,n){return"today"===e&&(e="todo"),"/activity/1/api/v1/assignment?type=".concat(e,"&pageNo=").concat(t,"&limit=").concat(n)}},{key:"getCompletedTaskByPage",value:function(e,t,n,r,i){return"/activity/1/api/v1/assignment?type=".concat(e,"&pageNo=").concat(t,"&limit=").concat(n,"&from=").concat(r,"&to=").concat(i)}},{key:"uploadFile",value:function(){return"/activity/1/api/v1/assignment/attachment"}},{key:"fetchTaskAttachment",value:function(){return"/activity/1/api/v1/assignment/attachment"}},{key:"getTaskId",value:function(){return"/activity/1/api/v1/assignment"}},{key:"deleteTaskData",value:function(e){return"/activity/1/api/v1/assignment/".concat(e)}},{key:"deleteTaskAttachment",value:function(e,t){return"/activity/1/api/v1/assignment/".concat(e,"/attachment/").concat(t)}},{key:"uploadTaskFile",value:function(e,t){return"/activity/1/res/v1/assignments/".concat(e,"/").concat(t)}},{key:"getTaskById",value:function(e){return"/activity/1/api/v1/assignment/".concat(e)}},{key:"getAllReportNames",value:function(){return"/report/1/res/v1/weekly/0/lookup.json"}},{key:"getReportData",value:function(e){return"/report/1/res/v1/weekly/0/".concat(e)}},{key:"getLast7DaysChartData",value:function(e){return"/report/1/res/v1/library/daily/".concat(e)}},{key:"editNoteUrl",value:function(e){return"/activity/1/api/v1/notes/".concat(e)}},{key:"deleteNoteUrl",value:function(e){return"/activity/1/api/v1/notes/".concat(e)}},{key:"addNoteUrl",value:function(){return"/activity/1/api/v1/notes"}},{key:"addNoteUrlWithId",value:function(e){return"/activity/1/api/v1/notes/".concat(e)}},{key:"getBrowseBookNodeUrl",value:function(){return console.log("getBrowseBookNodeUrl api url service"),"/activity/1/api/v1/library/books"}},{key:"getNotes",value:function(e){return"/activity/1/api/v1/notes/context?tpId=".concat(e,"&notes=true")}},{key:"getBrowseBookResourceUrl",value:function(e){return"/content/1/res/v1/library/".concat(e)}},{key:"getBrowseBookProgressUrl",value:function(e){return"/activity/1/res/v1/library/".concat(e,"/summary.json")}},{key:"getBrowseBookUserActivityUrl",value:function(e){return"/activity/1/res/v1/library/".concat(e,"/book.json")}},{key:"getBrowseBookPutHighlightUrl",value:function(e){return"/activity/1/api/v1/library/".concat(e,"/highlights")}},{key:"getBrowseBookPutNodeActivitiesUrl",value:function(e,t){return"excluded"==t&&(t="exclude"),"/activity/1/api/v1/library/".concat(e,"/").concat(t)}},{key:"getBrowseBookConfigUrl",value:function(e){return"assets/static_json/browse-book/config/".concat(e,".json")}},{key:"getLessonRevisePlayerUrl",value:function(e,t){return"/content/".concat(AuthTypeEnum.AUTH,"/").concat(t,"/v").concat(this.apiVersion,"/library/").concat(e,"/revise/concepts")}},{key:"getBigIdeaPlayerUrl",value:function(e,t){return"/content/".concat(AuthTypeEnum.AUTH,"/").concat(t,"/v").concat(this.apiVersion,"/library/").concat(e,"/bigIdea/concepts")}},{key:"logQuestionDataUrl",value:function(e){return"/ledger/1/api/v1/library/".concat(e,"/events")}},{key:"getVideoPathUrl",value:function(e){return"/content/".concat(AuthTypeEnum.AUTH,"/api/v").concat(this.apiVersion,"/library/assets/").concat(e)}},{key:"getLessonRevisePlayerResourceUrl",value:function(e,t,n,r,i){var o,s=["video","summary","quiz","studinote"].includes(n)?ApiRequestEnum.RESOURCE:ApiRequestEnum.API;return console.log("playerType",i,n,s),o=i&&"practice"===i?"/content/".concat(AuthTypeEnum.AUTH,"/").concat(s,"/v").concat(this.apiVersion,"/library/").concat(e,"/practice/concept/").concat(t):i&&"test"===i||i&&"oral_test"===i?"/content/".concat(AuthTypeEnum.AUTH,"/").concat(s,"/v").concat(this.apiVersion,"/library/").concat(e,"/test/concept/").concat(t):i&&"studinotes"===i?"/content/".concat(AuthTypeEnum.AUTH,"/").concat(s,"/v").concat(this.apiVersion,"/library/").concat(e,"/studinotes/concept/").concat(t):i&&"studinote"===i?"/content/".concat(AuthTypeEnum.AUTH,"/").concat(s,"/v").concat(this.apiVersion,"/bookshelf"):"/content/".concat(AuthTypeEnum.AUTH,"/").concat(s,"/v").concat(this.apiVersion,"/library/").concat(e,"/revise/concept/").concat(t),{video:"".concat(o,"/assets/").concat(r),quiz:"".concat(o,"/question/").concat(r),summary:"".concat(o,"/notes/").concat(r),studinote:"".concat(o,"/notes/").concat(r)}[n]}},{key:"getLessonRevisePlayerResourceLocalUrl",value:function(e,t,n,r,i){var o,s=["video","summary","quiz"].includes(n)?ApiRequestEnum.RESOURCE:ApiRequestEnum.API;return console.log("playerType",i,n,s),o=i&&"practice"===i||i&&"test"===i?"/dummy-api/student/content/".concat(AuthTypeEnum.AUTH,"/").concat(s,"/v").concat(this.apiVersion,"/library/").concat(e,"/practice/concept/").concat(t):"/content/".concat(AuthTypeEnum.AUTH,"/").concat(s,"/v").concat(this.apiVersion,"/library/").concat(e,"/bigIdea/concept/").concat(t,"/remedial/asset-cc71547d-1a7d-4efc-9023-296673d56892"),{video:"".concat(o,"/assets/").concat(r),quiz:"".concat(o,"/question/").concat(r),summary:"".concat(o,"/notes/").concat(r)}[n]}},{key:"getPractiseConfigUrl",value:function(e,t){return"/activity/".concat(AuthTypeEnum.AUTH,"/").concat(t,"/v").concat(this.apiVersion,"/library/").concat(e,"/practice")}},{key:"getPractiseState",value:function(){return"/content/".concat(AuthTypeEnum.AUTH,"/api/v").concat(this.apiVersion,"/confidence")}},{key:"getTestConfigUr",value:function(e,t){return"/activity/".concat(AuthTypeEnum.AUTH,"/").concat(t,"/v").concat(this.apiVersion,"/library/").concat(e,"/test")}},{key:"getAssignmentUrl",value:function(){return"/dummy-api/assignment"}},{key:"getTestQuestions",value:function(e,t){return"/content/".concat(AuthTypeEnum.AUTH,"/").concat(t,"/v").concat(this.apiVersion,"/library/").concat(e,"/practice/blueprint/1")}},{key:"getTestDummyQuestions",value:function(e,t){return"/dummy-api/student/content/".concat(AuthTypeEnum.AUTH,"/").concat(t,"/v").concat(this.apiVersion,"/library/").concat(e,"/practice/blueprint/1")}},{key:"getTestDumState",value:function(){return"/dummy-api/student/content/".concat(AuthTypeEnum.AUTH,"/api/v").concat(this.apiVersion,"/confidence")}},{key:"getTestState",value:function(){return"/content/".concat(AuthTypeEnum.AUTH,"/api/v").concat(this.apiVersion,"/confidence")}},{key:"getRuleForPlayer",value:function(e){return"assets/static_json/lesson-player/rules/".concat(e,".json")}},{key:"getCardData",value:function(e,t){return"/activity/1/api/v1/bookshelf/".concat(e,"/studinotes/").concat(t)}},{key:"getHighlighterUrl",value:function(e,t){return"/activity/1/api/v1/bookshelf/".concat(e,"/studinotes/card/").concat(t)}},{key:"worlSheetPdfUrl",value:function(e,t,n){return"/content/".concat(AuthTypeEnum.AUTH,"/res/v").concat(this.apiVersion,"/library/").concat(e,"/resource/concept/").concat(t,"/").concat(n)}},{key:"setHighlighterUrl",value:function(e,t){return"/activity/1/api/v1/bookshelf/".concat(e,"/studinotes/card/").concat(t,"/highlights")}},{key:"setHiddenUrl",value:function(e,t){return"/activity/1/api/v1/bookshelf/".concat(e,"/studinotes/card/").concat(t,"/hidden")}},{key:"setCommentUrl",value:function(e,t){return"/activity/1/api/v1/bookshelf/".concat(e,"/studinotes/card/").concat(t,"/comments")}},{key:"setStickerUrl",value:function(e,t){return"/activity/1/api/v1/bookshelf/".concat(e,"/studinotes/card/").concat(t,"/sticker")}},{key:"getLocalVideo",value:function(e){return"/dummy-api/".concat(e)}},{key:"getVideo",value:function(e){return e}},{key:"getIntentStepConfigUrl",value:function(){return"assets/static_json/intent/config/step.json"}},{key:"createAssignment",value:function(){return"/activity/1/api/v1/assignment"}},{key:"createQuizUrl",value:function(e){return"/activity/1/api/v1/library/".concat(e,"/practice")}},{key:"LogDataUrl",value:function(e,t){return"/ledger/1/api/v1/".concat(t,"/").concat(e,"/events")}},{key:"practiseSummaryUrl",value:function(e){return"/activity/1/api/v1/library/".concat(e,"/practice")}},{key:"practiseSummary_url",value:function(e){return"/activity/1/api/v1/library/".concat(e,"/practice/summary")}},{key:"testSummaryUrl",value:function(e){return"/activity/1/api/v1/library/".concat(e,"/test")}},{key:"testSummary_url",value:function(e){return"/activity/1/api/v1/library/".concat(e,"/test/summary")}},{key:"getLessonPayerModuleDataUrl",value:function(e){return"/activity/1/api/v1/".concat(e.moduleName,"/").concat(e.moduleId,"/").concat(e.lessonType,"/").concat(e.lessonId)}},{key:"startLessonPlayerModuleSessionUrl",value:function(e,t){return"/ledger/1/api/v1/".concat(t,"/").concat(e,"/event")}},{key:"errorLockingUrl",value:function(e,t){return"/ledger/1/api/v1/".concat(t,"/").concat(e,"/events")}},{key:"getMyLessonUrl",value:function(e){return"/tutor/1/api/v1/study/plan/".concat(e,"/dashBoard")}},{key:"getMyLessonConfigUrl",value:function(e){return"assets/static_json/my-lesson/config/".concat(e,".json")}},{key:"getActiveStudyPlanUrl",value:function(e,t,n,r){return r?"/tutor/1/api/v1/study/plans?start=".concat(e,"&length=").concat(t,"&sortDir=desc&filterTerms=source:").concat(r,"&filterTerms=status:").concat(n):"/tutor/1/api/v1/study/plans?start=".concat(e,"&length=").concat(t,"&sortDir=desc&filterTerms=status:").concat(n)}},{key:"getStudyPlanLessonAcknowledgeUrl",value:function(e){return"/tutor/1/api/v1/study/plan/".concat(e.planId,"/lesson/").concat(e.lessonId,"/end")}},{key:"getPausePlanUrl",value:function(e){return"/tutor/1/api/v1/study/plan/".concat(e,"/pause")}},{key:"getResumePlanUrl",value:function(e){return"/tutor/1/api/v1/study/plan/".concat(e,"/resume")}},{key:"getBookPortionUrl",value:function(e,t){return"/tutor/1/api/v1/study/plan/".concat(e,"/portion?bookId=").concat(t)}},{key:"getBookNodeActivity",value:function(e){return"/activity/1/res/v1/library/".concat(e,"/book.json")}},{key:"getDiscardPortionApiUrl",value:function(e){return"/tutor/1/api/v1/study/plan/".concat(e,"/discard/portion")}},{key:"getCompletedTopicsUrl",value:function(e,t){return"/tutor/1/api/v1/study/plan/".concat(e,"/book/").concat(t,"/completedTopics")}},{key:"getAnalyticsConfig",value:function(){return"assets/static_json/analytics.config.json"}},{key:"printPdfUrl",value:function(e,t){return"/activity/1/res/api/v1/print/".concat(e,"/").concat(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),CoreService=function(){var e=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.appConfig=t,this.appVersion=n,this._router=r,this.http=i,this.apiUrlService=o,this.reportSeenState=!1,this.headerState=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a("header-expand"),this.subjectTheme=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a("default-theme"),this.nextLesson=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(null),this.$schoolInfo=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(null),this.dashboardAPIError=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(null),this._onBoardingRegistrationType="user"}return _createClass(e,[{key:"env",get:function(){var e=window.location.hostname,t={localhost:"predev","predev.devstudi.com":"predev","qa-learn.devstudi.com":"qa","learn.tatastudi.com":"prod"};return t[e]?t[e]:t["predev.devstudi.com"]}},{key:"getAppConfig",value:function(){return this.appConfig.default}},{key:"getAppVersion",value:function(){return this.appVersion}},{key:"setSubjectTheme",value:function(e){console.log("\ud83d\ude80 ~ file: core.service.ts ~ line 76 ~ CoreService ~ setSubjectTheme ~ subjectId",e);var t=this.getAppConfig().theme.subject;console.log("\ud83d\ude80 ~ file: core.service.ts ~ line 78 ~ CoreService ~ setSubjectTheme ~ subjectThemeList",t);var n=t.default;t.hasOwnProperty(e)&&(n=t[e]),this.subjectTheme.next(n)}},{key:"getHeaderState",value:function(){return this.headerState.asObservable()}},{key:"setHeaderState",value:function(e){this.headerState.next(e)}},{key:"getSchoolInfo",value:function(){return this.$schoolInfo.asObservable()}},{key:"setReportSeenState",value:function(e){this.reportSeenState=e}},{key:"getReportSeenState",value:function(){return this.reportSeenState}},{key:"setSchoolInfo",value:function(e){var t,n,r,i,o,s;if(console.log("setting info5",e),null===(t=null==e?void 0:e.userSettings)||void 0===t?void 0:t.info5){var a={grade:(null===(n=null==(s=e.userSettings.info5)?void 0:s.grade)||void 0===n?void 0:n.name)?null===(r=null==s?void 0:s.grade)||void 0===r?void 0:r.name:"",board:(null===(i=null==s?void 0:s.board)||void 0===i?void 0:i.name)?null===(o=null==s?void 0:s.board)||void 0===o?void 0:o.name:""};this.$schoolInfo.next(a)}}},{key:"nextLessonAsbroadcaster",value:function(e){this.nextLesson.next(e)}},{key:"nextLessonAsSubscriber",value:function(){return this.nextLesson.asObservable()}},{key:"isStudyPlanCreated",value:function(){return"yes"==localStorage.getItem("isPlanCreated")&&(localStorage.setItem("isPlanCreated",""),this._router.navigate(["/study-plan/my-lesson"]),!0)}},{key:"isOralTestCreated",value:function(){"yes"==localStorage.getItem("isOralTest")&&(console.log("Core Service Yes"),localStorage.setItem("isOralTest",""),this._router.navigate(["/assignment/preview"]))}},{key:"getSubjectTheme",value:function(){return this.subjectTheme.asObservable()}},{key:"getPlans",value:function(e,t,n,r){return this.http.get(this.apiUrlService.getActiveStudyPlanUrl(e,t,n,r)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getDashboardAPI",value:function(e,t){return this.http.put(this.apiUrlService.getMyLessonUrl(e),t).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"setLessonFromActionCard",value:function(e){this.lesson=e}},{key:"getLessonFromActionCard",value:function(){return this.lesson}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(APP_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(APP_VERSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_router__WEBPACK_IMPORTED_MODULE_41__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(APP_CONFIG),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(APP_VERSION),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_router__WEBPACK_IMPORTED_MODULE_41__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(ApiUrlService))},token:e,providedIn:"root"}),e}(),depthAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("routeAnimation",[]),depthAnimationComp=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("compAnimation",[]),opacityAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("opacityAnimation",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.e)("* => *",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter, :leave",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({position:"absolute",top:0,left:0,right:0}),{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.b)([Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":leave",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0}))],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1}))],{optional:!0})])])]),quizAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("quizAnimation",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.e)("* => *",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({height:"!",width:"!"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter, :leave",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({position:"absolute",transform:"translate(0, 0)",height:"70vh"}),{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.b)([Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":leave",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.3}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease-out",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0,transform:"translate(50vw, 0)"}))],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5,transform:"translate(-50vw, 0)"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease-in",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1,transform:"translate(0, 0)"}))],{optional:!0})])])]),rightLeftAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("rightLeftAnimation",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.e)("* => *",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({height:"!"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter, :leave",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({position:"absolute","padding-top":isMobile()?"40px":"65px",top:0,left:0,right:0,bottom:0}),{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.b)([Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":leave",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5,transform:"translate(0, 0)"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0,transform:"translate(-50vw, 0)"}))],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:.5,transform:"translate(50vw, 0)"}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("1000ms ease",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1,transform:"translate(0, 0)"}))],{optional:!0})])])]);function isMobile(){var e=!1;return navigator.maxTouchPoints>0&&(e=!0),e}var signInMessagesConstant={requiredUsername:"Username cannot be empty!",validateUsername:"Invalid number, Input should be 10 digits long",requiredMobileUsername:"Mobile number cannot be empty!",requiredPassword:"Password cannot be empty!",requiredGRecaptcha:"Please verify google recaptcha!",invalidPassword:"Invalid password! Please recheck and try again.",requiredOtp:"Otp cannot be empty!",defaultError:"something went wrong please try again later!"},quizURL={mcq:"assets/quizEngine/mcq.json","mcq-freeFlow":"assets/quizEngine/q2.json",scq:"assets/quizEngine/scq.json","scq-freeFlow":"assets/quizEngine/q2.json",sorting:"assets/quizEngine/sorting.json",composite:"assets/quizEngine/composite.json",compositeStep:"assets/quizEngine/composite-step.json",match:"assets/quizEngine/matching.json",subjective:"assets/quizEngine/subjective.json",fib:"assets/quizEngine/fib.json",fibdnd:"assets/quizEngine/fibdnd.json"},quizStyleURL={mcq:"assets/quizEngine/mcq-style.json","mcq-freeFlow":"assets/quizEngine/mcq-freeFlow.json",scq:"assets/quizEngine/scq-style.json","scq-freeFlow":"assets/quizEngine/scq-freeFlow.json",sorting:"assets/quizEngine/sorting-style.json","sorting-freeFlow":"assets/quizEngine/sorting-freeFlow.json",composite:"assets/quizEngine/composite-style.json",compositeStep:"assets/quizEngine/composite-style.json","composite-freeFlow":"assets/quizEngine/composite-freeFlow.json",match:"assets/quizEngine/match-style.json","match-freeFlow":"assets/quizEngine/match-freeFlow.json",subjective:"assets/quizEngine/subjective-style.json","subjective-freeFlow":"assets/quizEngine/subjective-freeFlow.json",fib:"assets/quizEngine/fib-style.json"},GtmEventsEnum=function(e){return e.TRG_PAGE_VIEW="trg_page_view",e.TRG_MODULE_OPEN="trg_module_open",e.TRG_MODULE_CLOSED="trg_module_closed",e.TRG_SP_CLICK="trg_sp_click",e.TRG_BOOK_OPEN="trg_book_open",e.TRG_BOOK_CLOSED="trg_book_closed",e.TRG_FILTER_APPLIED="trg_filter_applied",e.TRG_ASSET_PULSE="trg_asset_pulse",e.TRG_ASSET_PROGRESS_PERCENT="trg_asset_progress_percent",e.TRG_SP_OPEN="trg_sp_open",e.TRG_SP_REVIEW_PLAN_OPEN="trg_sp_review_plan_open",e.TRG_SP_DAILY_TIME_UPDATE_CLICK="trg_sp_daily_time_update_click",e.TRG_SP_PORTION_UPDATE_CLICK="trg_sp_portion_update_click",e.TRG_SP_SUBJECT_PORTION_OPEN="trg_sp_subject_portion_open",e.TRG_SP_FULL_SCHEDULE_OPEN="trg_sp_full_schedule_open",e.TRG_SP_MANAGE_CREATE_OPEN="trg_sp_manage_create_open",e.TRG_SP_PAUSE="trg_sp_pause",e.TRG_SP_TASK_MARK_COMPLETED="trg_sp_task_mark_completed",e.TRG_SP_CREATED="trg_sp_created",e.TRG_SP_DAILY_TIME_UPDATED="trg_sp_daily_time_updated",e.TRG_SP_PORTION_UPDATED="trg_sp_portion_updated",e.TRG_BIGIDEA_OPEN="trg_bigIdea_open",e.TRG_BIGIDEA_SESSION_STARTED="trg_bigIdea_session_started",e.TRG_BIGIDEA_SESSION_ABANDONED="trg_bigIdea_session_abandoned",e.TRG_BIGIDEA_SESSION_ENDED="trg_bigIdea_session_ended",e.TRG_BIGIDEA_CLOSE="trg_bigIdea_close",e.TRG_BIGIDEA_ASSET_PLAYED="trg_bigIdea_asset_played",e.TRG_BIGIDEA_ASSET_PAUSED="trg_bigIdea_asset_paused",e.TRG_BIGIDEA_ASSET_RESUME="trg_bigIdea_asset_resume",e.TRG_BIGIDEA_ASSET_END="trg_bigIdea_asset_end",e.TRG_BIGIDEA_ASSET_REPLAY="trg_bigIdea_asset_replay",e.TRG_REVISE_OPEN="trg_revise_open",e.TRG_REVISE_SESSION_STARTED="trg_revise_session_started",e.TRG_REVISE_SESSION_ABANDONED="trg_revise_session_abandonded",e.TRG_REVISE_SESSION_ENDED="trg_revise_session_ended",e.TRG_REVISE_CLOSED="trg_revise_closed",e.TRG_REVISE_QUIZ_STARTED="trg_revise_quiz_started",e.TRG_REVISE_QUIZ_QUESTION_ATTEMPT="trg_revise_quiz_question_attempt",e.TRG_REVISE_QUIZ_QUESTION_SKIP="trg_revise_quiz_question_skip",e.TRG_REVISE_QUIZ_ENDED="trg_revise_quiz_ended",e.TRG_REVISE_ASSET_PLAYED="trg_revise_asset_played",e.TRG_REVISE_ASSET_PAUSED="trg_revise_asset_paused",e.TRG_REVISE_ASSET_RESUME="trg_revise_asset_resume",e.TRG_REVISE_ASSET_END="trg_revise_asset_end",e.TRG_REVISE_ASSET_REPLAY="trg_revise_asset_replay",e.TRG_PRACTICE_OPEN="trg_practice_open",e.TRG_PRACTICE_SESSION_STARTED="trg_practice_session_started",e.TRG_PRACTICE_SESSION_ABANDONED="trg_practice_session_abandoned",e.TRG_PRACTICE_SESSION_ENDED="trg_practice_session_ended",e.TRG_PRACTICE_CLOSED="trg_practice_closed",e.TRG_PRACTICE_QUEST_ATTEMPTED="trg_practice_quest_attempted",e.TRG_PRACTICE_QUEST_RETRY="trg_practice_quest_retry",e.TRG_PRACTICE_QUEST_SKIPPED="trg_practice_quest_skipped",e.TRG_DT_CLICK="trg_dt_click",e.TRG_DT_CREATED="trg_dt_created",e.TRG_DT_OPEN="trg_dt_open",e.TRG_DT_STARTED="trg_dt_started",e.TRG_DT_ABANDONED="trg_dt_abandoned",e.TRG_DT_QUESTION_ATTEMPTED="trg_dt_question_attempted",e.TRG_DT_QUESTION_SKIPPED="trg_dt_question_skipped",e.TRG_DT_SUBMITED="trg_dt_submited",e.TRG_DT_REVIEW_ATTEMPT="trg_dt_review_attempt",e.TRG_OT_CLICK="trg_ot_click",e.TRG_OT_CREATED="trg_ot_created",e.TRG_OT_OPEN="trg_ot_open",e.TRG_OT_STARTED="trg_ot_started",e.TRG_OT_ABANDONED="trg_ot_abandoned",e.TRG_OT_QUESTION_ATTEMPTED="trg_ot_question_attempted",e.TRG_OT_QUESTION_SKIPPED="trg_ot_question_skipped",e.TRG_OT_SUBMITED="trg_ot_submited",e.TRG_OT_REVIEW_ATTEMPT="trg_ot_review_attempt",e.TRG_SUMMARY_OPEN="trg_summary_open",e.TRG_SUMMARY_ABANDON="trg_summary_abandon",e.TRG_SUMMARY_END="trg_summary_end",e.TRG_SUMMARY_CLOSE="trg_summary_close",e.TRG_TASK_CLICK="trg_task_click",e.TRG_TASK_CREATED="trg_task_created",e.TRG_TASK_OPEN="trg_task_open",e.TRG_TASK_COMPLETED="trg_task_completed",e.TRG_STUDENT_PROFILE_CREATED="trg_student_profile_created",e.TRG_SUBSCRIPTION_CANCELLED="trg_subscription_cancelled",e.TRG_PURCHASE_SUCCESS="trg_purchase_success",e.TRG_PRODUCT_IMPRESSION="trg_product_impression",e.TRG_PRODUCT_CLICK="trg_product_click",e.TRG_PRODUCT_DETAIL_VIEW="trg_product_detail_view",e.TRG_CHECKOUT="trg_checkout",e.TRG_LOGIN_SUCCESS="trg_login_success",e.TRG_LOGIN_FAILED="trg_login_failed",e.TRG_LOGOUT="trg_logout",e.TRG_REGISTRATION_CHILD_DETAILS="trg_register_child_details",e.TRG_REGISTRATION_CONTACT_DETAILS="trg_register_contact_details",e.TRG_REGISTRATION_SUCCESS="trg_register_success",e.TRG_REGISTRATION_FAILED="trg_register_failed",e.TRG_CREATE_PASSWORD="trg_create_password",e.AF_SIGN_UP_CLICKED="af_sign_up_clicked",e.AF_15_DAYS_TRIAL_CLICKED="af_15_days_trial_clicked",e.AF_REG_MOBILE_NUM_ENTERED="af_reg_mobile_num_entered",e.AF_REG_MOBILE_ALREADY_EXIST="af_reg_mobile_already_exist",e.AF_REG_OTP_GENERATED="af_reg_otp_generated",e.AF_REG_OTP_VALIDATED="af_reg_otp_validated",e.AF_REG_PASSWORD_SUCCESS="af_reg_password_success",e.AF_REG_BEGIN_ONBOARDING="af_reg_begin_onboarding",e.AF_REG_BOARD_SELECTED="af_reg_board_selected",e.AF_REG_GRADE_SELECTED="af_reg_grade_selected",e.AF_REG_GRADE_SELECTED_PROMO_FLOW_A="af_reg_grade_selected_promo_flow_a",e.AF_REG_START_15_DAYS_TRIAL_CLICKED="af_reg_start_15_days_trial_clicked",e.AF_REG_ONBOARDING_COMPLETED="af_reg_onboarding_completed",e}({}),GtmModuleNamesEnum=function(e){return e.STUDY_PLAN="Study plan",e.BROWSEBOOKS="Browsebooks",e.ASSIGNMENTS="Assignments",e}({}),GtmUserTypeEnum=function(e){return e.STUDENT="student",e.PARENT="parent",e}({}),PageDataConstants=(_PageDataConstants={},_defineProperty(_PageDataConstants,RouteEnums.HOME,{site_section:"Home",page_name:"Home"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN,{site_section:GtmModuleNamesEnum.STUDY_PLAN,page_name:"My lessons"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_SCHEDULED_LESSONS,{site_section:GtmModuleNamesEnum.STUDY_PLAN,page_name:"Scheduled lessons"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_MANAGE_MY_PLANS,{site_section:"Manage study plan",page_name:"My plans"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_MANAGE_PROGRESS,{site_section:"Manage study plan",page_name:"Plan progress"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_MANAGE_PORTION_BOOK,{site_section:"Manage study plan",page_name:"Portion book"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_CREATE_SELECT_PORTION,{site_section:"Create study plan",page_name:"Select Portion"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_CREATE_EXTRA_ATTENTION,{site_section:"Create study plan",page_name:"Extra attention"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_CREATE_SELECT_DATE,{site_section:"Create study plan",page_name:"Select date"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_CREATE_ACTIVATE_PLAN,{site_section:"Create study plan",page_name:"Activate plan"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_DEADLINE_MISSED,{site_section:GtmModuleNamesEnum.STUDY_PLAN,page_name:"Deadline missed"}),_defineProperty(_PageDataConstants,RouteEnums.STUDY_PLAN_PAUSED_PLAN,{site_section:GtmModuleNamesEnum.STUDY_PLAN,page_name:"Paused plan"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"books"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_BOOK_OPEN,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Book open"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select book for oral test"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select topics for oral test"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_ORAL_TEST_FILL_DETAILS,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Fill test details for oral test"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select book for digital test"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select topics for digital test"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_DIGITAL_TEST_FILL_DETAILS,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Fill test details for digital test"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select book for mock test"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Select topics for mock test"}),_defineProperty(_PageDataConstants,RouteEnums.BROWSEBOOKS_MOCK_TEST_FILL_DETAILS,{site_section:GtmModuleNamesEnum.BROWSEBOOKS,page_name:"Fill test details for mock test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Assignment list"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_COMPLETED_TASKS,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Completed tasks"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_PREVIEW,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Preview"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_CREATE_TASK,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Create task"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_ORAL_TEST_SELECT_BOOK,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select book for oral test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_ORAL_TEST_SELECT_TOPICS,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select topics for oral test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_ORAL_TEST_FILL_DETAILS,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Fill test details for oral test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select book for digital test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_TOPICS,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select topics for digital test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_DIGITAL_TEST_FILL_DETAILS,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Fill test details for digital test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select book for mock test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_TOPICS,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Select topics for mock test"}),_defineProperty(_PageDataConstants,RouteEnums.ASSIGNMENTS_MOCK_TEST_FILL_DETAILS,{site_section:GtmModuleNamesEnum.ASSIGNMENTS,page_name:"Fill test details for mock test"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_SIGN_IN_USERNAME_PARENT,{site_section:"Sign In",page_name:"Enter Username"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_SIGN_IN_PASSWORD_PARENT,{site_section:"Sign In",page_name:"Enter Password"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_SIGN_IN_USERNAME_CHILD,{site_section:"Sign In",page_name:"Enter Username"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_SIGN_IN_PASSWORD_CHILD,{site_section:"Sign In",page_name:"Enter Password"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_TERMS_AND_CONDITIONS,{site_section:"Sign In",page_name:"Terms and conditions"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_REGISTRATION_CHILD_DETAILS,{site_section:"Registration",page_name:"Enter Child Details"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_REGISTRATION_CONTACT_DETAILS,{site_section:"Registration",page_name:"Enter Contact Details"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_REGISTRATION_OTP_VALIDATION,{site_section:"Registration",page_name:"OTP Validation"}),_defineProperty(_PageDataConstants,RouteEnums.AUTH_CREATE_PASSWORD,{site_section:"Registration or Forgot Password",page_name:"Create Password"}),_defineProperty(_PageDataConstants,RouteEnums.SUBSCRIPTION_DASHBOARD,{site_section:"Subscriptions",page_name:"Dashboard"}),_defineProperty(_PageDataConstants,RouteEnums.SUBSCRIPTION_REGISTER_CHILD,{site_section:"Subscriptions",page_name:"Register Child"}),_defineProperty(_PageDataConstants,RouteEnums.SUBSCRIPTION_PLANS,{site_section:"Subscriptions",page_name:"Plans"}),_defineProperty(_PageDataConstants,RouteEnums.SUBSCRIPTION_ORDER_SUMMARY,{site_section:"Subscriptions",page_name:"Order Summary"}),_defineProperty(_PageDataConstants,RouteEnums.SUBSCRIPTION_ACKNOWLEDGEMENT,{site_section:"Subscriptions",page_name:"Acknowledgement"}),_defineProperty(_PageDataConstants,RouteEnums.SUBSCRIPTION_REDIRECT_PAYMENT,{site_section:"Subscriptions",page_name:"Redirect Payment"}),_PageDataConstants),RoutePairWiseEventsConstants=(_RoutePairWiseEventsC={},_defineProperty(_RoutePairWiseEventsC,RouteEnums.HOME,(_RouteEnums$HOME={},_defineProperty(_RouteEnums$HOME,RouteEnums.STUDY_PLAN,[Object.assign({event:GtmEventsEnum.TRG_MODULE_CLOSED,module_name:GtmModuleNamesEnum.STUDY_PLAN},PageDataConstants[RouteEnums.STUDY_PLAN])]),_defineProperty(_RouteEnums$HOME,RouteEnums.BROWSEBOOKS,[Object.assign({event:GtmEventsEnum.TRG_MODULE_CLOSED,module_name:GtmModuleNamesEnum.BROWSEBOOKS},PageDataConstants[RouteEnums.BROWSEBOOKS])]),_defineProperty(_RouteEnums$HOME,RouteEnums.ASSIGNMENTS,[Object.assign({event:GtmEventsEnum.TRG_MODULE_CLOSED,module_name:GtmModuleNamesEnum.ASSIGNMENTS},PageDataConstants[RouteEnums.ASSIGNMENTS])]),_RouteEnums$HOME)),_defineProperty(_RoutePairWiseEventsC,RouteEnums.STUDY_PLAN,_defineProperty({},RouteEnums.HOME,[Object.assign({event:GtmEventsEnum.TRG_MODULE_OPEN,module_name:GtmModuleNamesEnum.STUDY_PLAN},PageDataConstants[RouteEnums.HOME])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.BROWSEBOOKS_LANDING,_defineProperty({},RouteEnums.HOME,[Object.assign({event:GtmEventsEnum.TRG_MODULE_OPEN,module_name:GtmModuleNamesEnum.BROWSEBOOKS},PageDataConstants[RouteEnums.HOME])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.ASSIGNMENTS_LANDING,_defineProperty({},RouteEnums.HOME,[Object.assign({event:GtmEventsEnum.TRG_MODULE_OPEN,module_name:GtmModuleNamesEnum.ASSIGNMENTS},PageDataConstants[RouteEnums.HOME])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK,_defineProperty({},RouteEnums.BROWSEBOOKS,[Object.assign({event:GtmEventsEnum.TRG_OT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS,_defineProperty({},RouteEnums.BROWSEBOOKS_BOOK_OPEN,[Object.assign({event:GtmEventsEnum.TRG_OT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS_BOOK_OPEN])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK,_defineProperty({},RouteEnums.BROWSEBOOKS,[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS,_defineProperty({},RouteEnums.BROWSEBOOKS_BOOK_OPEN,[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS_BOOK_OPEN])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK,_defineProperty({},RouteEnums.BROWSEBOOKS,[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS,_defineProperty({},RouteEnums.BROWSEBOOKS_BOOK_OPEN,[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS_BOOK_OPEN])])),_defineProperty(_RoutePairWiseEventsC,RouteEnums.ASSIGNMENTS_ORAL_TEST_SELECT_BOOK,(_RouteEnums$ASSIGNMEN2={},_defineProperty(_RouteEnums$ASSIGNMEN2,RouteEnums.ASSIGNMENTS,[Object.assign({event:GtmEventsEnum.TRG_OT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS])]),_defineProperty(_RouteEnums$ASSIGNMEN2,RouteEnums.ASSIGNMENTS_COMPLETED_TASKS,[Object.assign({event:GtmEventsEnum.TRG_OT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS])]),_RouteEnums$ASSIGNMEN2)),_defineProperty(_RoutePairWiseEventsC,RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK,(_RouteEnums$ASSIGNMEN3={},_defineProperty(_RouteEnums$ASSIGNMEN3,RouteEnums.ASSIGNMENTS,[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS])]),_defineProperty(_RouteEnums$ASSIGNMEN3,RouteEnums.ASSIGNMENTS_COMPLETED_TASKS,[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS])]),_RouteEnums$ASSIGNMEN3)),_defineProperty(_RoutePairWiseEventsC,RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK,(_RouteEnums$ASSIGNMEN4={},_defineProperty(_RouteEnums$ASSIGNMEN4,RouteEnums.ASSIGNMENTS,[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS])]),_defineProperty(_RouteEnums$ASSIGNMEN4,RouteEnums.ASSIGNMENTS_COMPLETED_TASKS,[Object.assign({event:GtmEventsEnum.TRG_DT_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS])]),_RouteEnums$ASSIGNMEN4)),_defineProperty(_RoutePairWiseEventsC,RouteEnums.ASSIGNMENTS_TASK,(_RouteEnums$ASSIGNMEN5={},_defineProperty(_RouteEnums$ASSIGNMEN5,RouteEnums.ASSIGNMENTS,[Object.assign({event:GtmEventsEnum.TRG_TASK_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS])]),_defineProperty(_RouteEnums$ASSIGNMEN5,RouteEnums.ASSIGNMENTS_COMPLETED_TASKS,[Object.assign({event:GtmEventsEnum.TRG_TASK_CLICK},PageDataConstants[RouteEnums.ASSIGNMENTS_COMPLETED_TASKS])]),_RouteEnums$ASSIGNMEN5)),_defineProperty(_RoutePairWiseEventsC,RouteEnums.STUDY_PLAN_CREATE_LANDING,(_RouteEnums$STUDY_PLA2={},_defineProperty(_RouteEnums$STUDY_PLA2,RouteEnums.BROWSEBOOKS,[Object.assign({event:GtmEventsEnum.TRG_SP_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS])]),_defineProperty(_RouteEnums$STUDY_PLA2,RouteEnums.BROWSEBOOKS_BOOK_OPEN,[Object.assign({event:GtmEventsEnum.TRG_SP_CLICK},PageDataConstants[RouteEnums.BROWSEBOOKS_BOOK_OPEN])]),_defineProperty(_RouteEnums$STUDY_PLA2,RouteEnums.STUDY_PLAN_MANAGE_MY_PLANS,[Object.assign({event:GtmEventsEnum.TRG_SP_CLICK},PageDataConstants[RouteEnums.STUDY_PLAN_MANAGE_MY_PLANS])]),_defineProperty(_RouteEnums$STUDY_PLA2,RouteEnums.HOME,[Object.assign({event:GtmEventsEnum.TRG_SP_CLICK},PageDataConstants[RouteEnums.HOME])]),_RouteEnums$STUDY_PLA2)),_RoutePairWiseEventsC),LessonPlayerEventsConstants=(_LessonPlayerEventsCo={},_defineProperty(_LessonPlayerEventsCo,LessonTypesEnum.BIG_IDEA,[{event:GtmEventsEnum.TRG_BIGIDEA_OPEN},{event:GtmEventsEnum.TRG_BIGIDEA_SESSION_ABANDONED},{event:GtmEventsEnum.TRG_BIGIDEA_SESSION_ENDED,content_type:ContentTypesEnum.SUMMARY},{event:GtmEventsEnum.TRG_BIGIDEA_CLOSE,content_type:ContentTypesEnum.SUMMARY},{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_REPLAY,content_type:ContentTypesEnum.ASSET}]),_defineProperty(_LessonPlayerEventsCo,LessonTypesEnum.PRACTICE,[{event:GtmEventsEnum.TRG_PRACTICE_OPEN},{event:GtmEventsEnum.TRG_PRACTICE_SESSION_ABANDONED}]),_defineProperty(_LessonPlayerEventsCo,LessonTypesEnum.REVISE,[{event:GtmEventsEnum.TRG_REVISE_OPEN},{event:GtmEventsEnum.TRG_REVISE_SESSION_ABANDONED}]),_defineProperty(_LessonPlayerEventsCo,LessonTypesEnum.DIGITAL_TEST,[{event:GtmEventsEnum.TRG_DT_OPEN},{event:GtmEventsEnum.TRG_DT_ABANDONED}]),_defineProperty(_LessonPlayerEventsCo,LessonTypesEnum.MOCK_TEST,[{event:GtmEventsEnum.TRG_DT_OPEN},{event:GtmEventsEnum.TRG_DT_ABANDONED}]),_defineProperty(_LessonPlayerEventsCo,LessonTypesEnum.ORAL_TEST,[{event:GtmEventsEnum.TRG_OT_OPEN},{event:GtmEventsEnum.TRG_OT_ABANDONED}]),_defineProperty(_LessonPlayerEventsCo,LessonTypesEnum.SUMMARY,[{},{event:GtmEventsEnum.TRG_SUMMARY_ABANDON}]),_LessonPlayerEventsCo),LessonPlayerIntroEventsConstants=(_LessonPlayerIntroEve={},_defineProperty(_LessonPlayerIntroEve,LessonTypesEnum.REVISE,(_LessonTypesEnum$REVI={},_defineProperty(_LessonTypesEnum$REVI,LessonPlayerStateEnum.SESSION_START,{event:GtmEventsEnum.TRG_REVISE_SESSION_STARTED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$REVI,LessonPlayerStateEnum.CLOSE,{event:GtmEventsEnum.TRG_REVISE_CLOSED,content_type:ContentTypesEnum.SUMMARY}),_LessonTypesEnum$REVI)),_defineProperty(_LessonPlayerIntroEve,LessonTypesEnum.PRACTICE,_defineProperty({},LessonPlayerStateEnum.CLOSE,{event:GtmEventsEnum.TRG_PRACTICE_CLOSED})),_defineProperty(_LessonPlayerIntroEve,LessonTypesEnum.DIGITAL_TEST,_defineProperty({},LessonPlayerStateEnum.SESSION_START,{event:GtmEventsEnum.TRG_DT_STARTED})),_defineProperty(_LessonPlayerIntroEve,LessonTypesEnum.MOCK_TEST,_defineProperty({},LessonPlayerStateEnum.SESSION_START,{event:GtmEventsEnum.TRG_DT_STARTED})),_defineProperty(_LessonPlayerIntroEve,LessonTypesEnum.ORAL_TEST,_defineProperty({},LessonPlayerStateEnum.SESSION_START,{event:GtmEventsEnum.TRG_OT_STARTED})),_LessonPlayerIntroEve),QuestionPlayerEventsConstants=(_QuestionPlayerEvents={},_defineProperty(_QuestionPlayerEvents,LessonTypesEnum.REVISE,(_LessonTypesEnum$REVI2={},_defineProperty(_LessonTypesEnum$REVI2,QuestionPlayerStateEnum.ATTEMPT,{event:GtmEventsEnum.TRG_REVISE_QUIZ_QUESTION_ATTEMPT,content_type:ContentTypesEnum.QUIZ}),_defineProperty(_LessonTypesEnum$REVI2,QuestionPlayerStateEnum.SKIP,{event:GtmEventsEnum.TRG_REVISE_QUIZ_QUESTION_SKIP,content_type:ContentTypesEnum.QUIZ}),_defineProperty(_LessonTypesEnum$REVI2,QuestionPlayerStateEnum.QUIZ_END,{event:GtmEventsEnum.TRG_REVISE_QUIZ_ENDED,content_type:ContentTypesEnum.QUIZ}),_LessonTypesEnum$REVI2)),_defineProperty(_QuestionPlayerEvents,LessonTypesEnum.PRACTICE,(_LessonTypesEnum$PRAC2={},_defineProperty(_LessonTypesEnum$PRAC2,QuestionPlayerStateEnum.ATTEMPT,{event:GtmEventsEnum.TRG_PRACTICE_QUEST_ATTEMPTED}),_defineProperty(_LessonTypesEnum$PRAC2,QuestionPlayerStateEnum.SKIP,{event:GtmEventsEnum.TRG_PRACTICE_QUEST_SKIPPED}),_defineProperty(_LessonTypesEnum$PRAC2,QuestionPlayerStateEnum.RETRY,{event:GtmEventsEnum.TRG_PRACTICE_QUEST_RETRY}),_LessonTypesEnum$PRAC2)),_defineProperty(_QuestionPlayerEvents,LessonTypesEnum.DIGITAL_TEST,(_LessonTypesEnum$DIGI2={},_defineProperty(_LessonTypesEnum$DIGI2,QuestionPlayerStateEnum.ATTEMPT,{event:GtmEventsEnum.TRG_DT_QUESTION_ATTEMPTED}),_defineProperty(_LessonTypesEnum$DIGI2,QuestionPlayerStateEnum.SKIP,{event:GtmEventsEnum.TRG_DT_QUESTION_SKIPPED}),_defineProperty(_LessonTypesEnum$DIGI2,QuestionPlayerStateEnum.QUIZ_END,{event:GtmEventsEnum.TRG_DT_SUBMITED}),_defineProperty(_LessonTypesEnum$DIGI2,QuestionPlayerStateEnum.REVIEW_ATTEMPT,{event:GtmEventsEnum.TRG_DT_REVIEW_ATTEMPT}),_LessonTypesEnum$DIGI2)),_defineProperty(_QuestionPlayerEvents,LessonTypesEnum.MOCK_TEST,(_LessonTypesEnum$MOCK2={},_defineProperty(_LessonTypesEnum$MOCK2,QuestionPlayerStateEnum.ATTEMPT,{event:GtmEventsEnum.TRG_DT_QUESTION_ATTEMPTED}),_defineProperty(_LessonTypesEnum$MOCK2,QuestionPlayerStateEnum.SKIP,{event:GtmEventsEnum.TRG_DT_QUESTION_SKIPPED}),_defineProperty(_LessonTypesEnum$MOCK2,QuestionPlayerStateEnum.QUIZ_END,{event:GtmEventsEnum.TRG_DT_SUBMITED}),_defineProperty(_LessonTypesEnum$MOCK2,QuestionPlayerStateEnum.REVIEW_ATTEMPT,{event:GtmEventsEnum.TRG_DT_REVIEW_ATTEMPT}),_LessonTypesEnum$MOCK2)),_defineProperty(_QuestionPlayerEvents,LessonTypesEnum.ORAL_TEST,(_LessonTypesEnum$ORAL2={},_defineProperty(_LessonTypesEnum$ORAL2,QuestionPlayerStateEnum.ATTEMPT,{event:GtmEventsEnum.TRG_OT_QUESTION_ATTEMPTED}),_defineProperty(_LessonTypesEnum$ORAL2,QuestionPlayerStateEnum.SKIP,{event:GtmEventsEnum.TRG_OT_QUESTION_SKIPPED}),_defineProperty(_LessonTypesEnum$ORAL2,QuestionPlayerStateEnum.QUIZ_END,{event:GtmEventsEnum.TRG_OT_SUBMITED}),_defineProperty(_LessonTypesEnum$ORAL2,QuestionPlayerStateEnum.REVIEW_ATTEMPT,{event:GtmEventsEnum.TRG_OT_REVIEW_ATTEMPT}),_LessonTypesEnum$ORAL2)),_QuestionPlayerEvents),AssetPlayerEventsConstants=(_AssetPlayerEventsCon={},_defineProperty(_AssetPlayerEventsCon,LessonTypesEnum.REVISE,(_LessonTypesEnum$REVI3={},_defineProperty(_LessonTypesEnum$REVI3,AssetPlayerStateEnum.PLAY,{event:GtmEventsEnum.TRG_REVISE_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$REVI3,AssetPlayerStateEnum.PAUSE,{event:GtmEventsEnum.TRG_REVISE_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$REVI3,AssetPlayerStateEnum.RESUME,{event:GtmEventsEnum.TRG_REVISE_ASSET_RESUME,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$REVI3,AssetPlayerStateEnum.END,{event:GtmEventsEnum.TRG_REVISE_ASSET_END,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$REVI3,AssetPlayerStateEnum.PULSE,{event:GtmEventsEnum.TRG_ASSET_PULSE}),_defineProperty(_LessonTypesEnum$REVI3,AssetPlayerStateEnum.REPLAY,{event:GtmEventsEnum.TRG_REVISE_ASSET_REPLAY}),_LessonTypesEnum$REVI3)),_defineProperty(_AssetPlayerEventsCon,LessonTypesEnum.BIG_IDEA,(_LessonTypesEnum$BIG_={},_defineProperty(_LessonTypesEnum$BIG_,AssetPlayerStateEnum.PLAY,{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$BIG_,AssetPlayerStateEnum.PAUSE,{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$BIG_,AssetPlayerStateEnum.RESUME,{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_RESUME,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$BIG_,AssetPlayerStateEnum.END,{event:GtmEventsEnum.TRG_BIGIDEA_ASSET_END,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$BIG_,AssetPlayerStateEnum.PULSE,{event:GtmEventsEnum.TRG_ASSET_PULSE}),_LessonTypesEnum$BIG_)),_defineProperty(_AssetPlayerEventsCon,LessonTypesEnum.PRACTICE,(_LessonTypesEnum$PRAC3={},_defineProperty(_LessonTypesEnum$PRAC3,AssetPlayerStateEnum.PLAY,{event:GtmEventsEnum.TRG_REVISE_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$PRAC3,AssetPlayerStateEnum.PAUSE,{event:GtmEventsEnum.TRG_REVISE_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$PRAC3,AssetPlayerStateEnum.RESUME,{event:GtmEventsEnum.TRG_REVISE_ASSET_RESUME,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$PRAC3,AssetPlayerStateEnum.END,{event:GtmEventsEnum.TRG_REVISE_ASSET_END,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$PRAC3,AssetPlayerStateEnum.PULSE,{event:GtmEventsEnum.TRG_ASSET_PULSE}),_LessonTypesEnum$PRAC3)),_defineProperty(_AssetPlayerEventsCon,LessonTypesEnum.DIGITAL_TEST,(_LessonTypesEnum$DIGI3={},_defineProperty(_LessonTypesEnum$DIGI3,AssetPlayerStateEnum.PLAY,{event:GtmEventsEnum.TRG_REVISE_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$DIGI3,AssetPlayerStateEnum.PAUSE,{event:GtmEventsEnum.TRG_REVISE_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$DIGI3,AssetPlayerStateEnum.RESUME,{event:GtmEventsEnum.TRG_REVISE_ASSET_RESUME,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$DIGI3,AssetPlayerStateEnum.END,{event:GtmEventsEnum.TRG_REVISE_ASSET_END,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$DIGI3,AssetPlayerStateEnum.PULSE,{event:GtmEventsEnum.TRG_ASSET_PULSE}),_LessonTypesEnum$DIGI3)),_defineProperty(_AssetPlayerEventsCon,LessonTypesEnum.MOCK_TEST,(_LessonTypesEnum$MOCK3={},_defineProperty(_LessonTypesEnum$MOCK3,AssetPlayerStateEnum.PLAY,{event:GtmEventsEnum.TRG_REVISE_ASSET_PLAYED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$MOCK3,AssetPlayerStateEnum.PAUSE,{event:GtmEventsEnum.TRG_REVISE_ASSET_PAUSED,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$MOCK3,AssetPlayerStateEnum.RESUME,{event:GtmEventsEnum.TRG_REVISE_ASSET_RESUME,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$MOCK3,AssetPlayerStateEnum.END,{event:GtmEventsEnum.TRG_REVISE_ASSET_END,content_type:ContentTypesEnum.ASSET}),_defineProperty(_LessonTypesEnum$MOCK3,AssetPlayerStateEnum.PULSE,{event:GtmEventsEnum.TRG_ASSET_PULSE}),_LessonTypesEnum$MOCK3)),_AssetPlayerEventsCon),TestTypesConstants=["digital_test","oral_test","mock_test"],LessonControlContext=(_LessonControlContext={},_defineProperty(_LessonControlContext,LessonTypesEnum.REVISE,{1:{revise_type:"begin revise"},2:{revise_type:"revise again"},3:{revise_type:"revise again"},4:{revise_type:"begin revise"}}),_defineProperty(_LessonControlContext,LessonTypesEnum.PRACTICE,{1:{practice_type:"begin practice"},2:{practice_type:"practice again"},3:{practice_type:"practice again"},4:{practice_type:"begin practice"}}),_defineProperty(_LessonControlContext,LessonTypesEnum.SPACED_PRACTICE_1,{1:{practice_type:"begin practice"},2:{practice_type:"practice again"},3:{practice_type:"practice again"},4:{practice_type:"begin practice"}}),_defineProperty(_LessonControlContext,LessonTypesEnum.SPACED_PRACTICE_2,{1:{practice_type:"begin practice"},2:{practice_type:"practice again"},3:{practice_type:"practice again"},4:{practice_type:"begin practice"}}),_defineProperty(_LessonControlContext,LessonTypesEnum.DIGITAL_TEST,{1:{test_type:"begin test"},2:{test_type:"redo test"},3:{test_type:"redo test"},4:{test_type:"begin test"}}),_defineProperty(_LessonControlContext,LessonTypesEnum.MOCK_TEST,{1:{test_type:"begin test"},2:{test_type:"redo test"},3:{test_type:"redo test"},4:{test_type:"begin test"}}),_defineProperty(_LessonControlContext,LessonTypesEnum.ORAL_TEST,{1:{test_type:"begin test"},2:{test_type:"redo test"},3:{test_type:"redo test"},4:{test_type:"begin test"}}),_LessonControlContext),LessonPlayerModuleConstants=(_LessonPlayerModuleCo={},_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_BIG_IDEA_BROWSEBOOK,{module:GtmModuleNamesEnum.BROWSEBOOKS}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_REVISE_BROWSEBOOK,{module:GtmModuleNamesEnum.BROWSEBOOKS}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_PRACTICE_BROWSEBOOK,{module:GtmModuleNamesEnum.BROWSEBOOKS}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_SPACED_PRACTICE_1_BROWSEBOOK,{module:GtmModuleNamesEnum.BROWSEBOOKS}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_SPACED_PRACTICE_2_BROWSEBOOK,{module:GtmModuleNamesEnum.BROWSEBOOKS}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_BIG_IDEA_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_REVISE_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_PRACTICE_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_SPACED_PRACTICE_1_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_SPACED_PRACTICE_2_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_SUMMARY_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_DIGITAL_TEST_ASSIGNMENTS,{module:GtmModuleNamesEnum.ASSIGNMENTS}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_DIGITAL_TEST_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_MOCK_TEST_ASSIGNMENTS,{module:GtmModuleNamesEnum.ASSIGNMENTS}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_MOCK_TEST_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_ORAL_TEST_ASSIGNMENTS,{module:GtmModuleNamesEnum.ASSIGNMENTS}),_defineProperty(_LessonPlayerModuleCo,RouteEnums.LESSON_PLAYER_ORAL_TEST_STUDY_PLAN,{module:GtmModuleNamesEnum.STUDY_PLAN}),_LessonPlayerModuleCo),LessonPlayerOpenPageNamesConstants=(_LessonPlayerOpenPage={},_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.BIG_IDEA,LessonPlayerPageNamesEnum.VIDEO),_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.DIGITAL_TEST,LessonPlayerPageNamesEnum.REVIEW),_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.MOCK_TEST,LessonPlayerPageNamesEnum.REVIEW),_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.ORAL_TEST,LessonPlayerPageNamesEnum.REVIEW),_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.PRACTICE,LessonPlayerPageNamesEnum.REVIEW),_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.REVISE,LessonPlayerPageNamesEnum.REVIEW),_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.SPACED_PRACTICE_1,LessonPlayerPageNamesEnum.REVIEW),_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.SPACED_PRACTICE_2,LessonPlayerPageNamesEnum.REVIEW),_defineProperty(_LessonPlayerOpenPage,LessonTypesEnum.SUMMARY,LessonPlayerPageNamesEnum.CARD),_LessonPlayerOpenPage),TaskCompletionCriteriaConstants={0:"Mark as Complete",1:"Assignment Viewed"},TestDifficultyLevelConstants={1:"low",2:"medium",3:"high"},TestTypesEventsConstants={4:GtmEventsEnum.TRG_DT_CREATED,5:GtmEventsEnum.TRG_OT_CREATED},CreateStudyPlanEventsConstants={create:GtmEventsEnum.TRG_SP_CREATED,portion_update:GtmEventsEnum.TRG_SP_PORTION_UPDATED,date_update:GtmEventsEnum.TRG_SP_DAILY_TIME_UPDATED},PracticeTypesConstants=["practice","spacedPractice1","spacedPractice2"],BookOpenClosedRoutesConstants=(_BookOpenClosedRoutes={},_defineProperty(_BookOpenClosedRoutes,RouteEnums.BROWSEBOOKS,(_RouteEnums$BROWSEBOO8={},_defineProperty(_RouteEnums$BROWSEBOO8,RouteEnums.BROWSEBOOKS_BOOK_OPEN,{event:GtmEventsEnum.TRG_BOOK_CLOSED}),_defineProperty(_RouteEnums$BROWSEBOO8,RouteEnums.BROWSEBOOKS_ORAL_TEST_FILL_DETAILS,{event:GtmEventsEnum.TRG_BOOK_CLOSED}),_defineProperty(_RouteEnums$BROWSEBOO8,RouteEnums.BROWSEBOOKS_DIGITAL_TEST_FILL_DETAILS,{event:GtmEventsEnum.TRG_BOOK_CLOSED}),_defineProperty(_RouteEnums$BROWSEBOO8,RouteEnums.BROWSEBOOKS_MOCK_TEST_FILL_DETAILS,{event:GtmEventsEnum.TRG_BOOK_CLOSED}),_RouteEnums$BROWSEBOO8)),_defineProperty(_BookOpenClosedRoutes,RouteEnums.BROWSEBOOKS_BOOK_OPEN,(_RouteEnums$BROWSEBOO9={},_defineProperty(_RouteEnums$BROWSEBOO9,RouteEnums.BROWSEBOOKS,{event:GtmEventsEnum.TRG_BOOK_OPEN}),_defineProperty(_RouteEnums$BROWSEBOO9,RouteEnums.STUDY_PLAN_CREATE_SELECT_PORTION,{event:GtmEventsEnum.TRG_BOOK_OPEN}),_RouteEnums$BROWSEBOO9)),_defineProperty(_BookOpenClosedRoutes,RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK,_defineProperty({},RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_TOPICS,_defineProperty({},RouteEnums.BROWSEBOOKS_DIGITAL_TEST_SELECT_BOOK,{event:GtmEventsEnum.TRG_BOOK_OPEN})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK,_defineProperty({},RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_TOPICS,_defineProperty({},RouteEnums.BROWSEBOOKS_MOCK_TEST_SELECT_BOOK,{event:GtmEventsEnum.TRG_BOOK_OPEN})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK,_defineProperty({},RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_TOPICS,_defineProperty({},RouteEnums.BROWSEBOOKS_ORAL_TEST_SELECT_BOOK,{event:GtmEventsEnum.TRG_BOOK_OPEN})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK,_defineProperty({},RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_TOPICS,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_TOPICS,_defineProperty({},RouteEnums.ASSIGNMENTS_DIGITAL_TEST_SELECT_BOOK,{event:GtmEventsEnum.TRG_BOOK_OPEN})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK,_defineProperty({},RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_TOPICS,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_TOPICS,_defineProperty({},RouteEnums.ASSIGNMENTS_MOCK_TEST_SELECT_BOOK,{event:GtmEventsEnum.TRG_BOOK_OPEN})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.STUDY_PLAN_CREATE_LANDING,_defineProperty({},RouteEnums.BROWSEBOOKS_BOOK_OPEN,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.ASSIGNMENTS_PREVIEW,_defineProperty({},RouteEnums.BROWSEBOOKS,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.ASSIGNMENTS_LANDING,_defineProperty({},RouteEnums.ASSIGNMENTS_DIGITAL_TEST_FILL_DETAILS,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_defineProperty(_BookOpenClosedRoutes,RouteEnums.ASSIGNMENTS_LANDING,_defineProperty({},RouteEnums.ASSIGNMENTS_MOCK_TEST_FILL_DETAILS,{event:GtmEventsEnum.TRG_BOOK_CLOSED})),_BookOpenClosedRoutes),StudyPlanOpenClosedRoutesConstants=_defineProperty({},RouteEnums.STUDY_PLAN,(_RouteEnums$STUDY_PLA4={},_defineProperty(_RouteEnums$STUDY_PLA4,RouteEnums.HOME,{event:GtmEventsEnum.TRG_SP_OPEN}),_defineProperty(_RouteEnums$STUDY_PLA4,RouteEnums.STUDY_PLAN_MANAGE_MY_PLANS,{event:GtmEventsEnum.TRG_SP_OPEN}),_defineProperty(_RouteEnums$STUDY_PLA4,RouteEnums.STUDY_PLAN_PAUSED_PLAN,{event:GtmEventsEnum.TRG_SP_OPEN}),_RouteEnums$STUDY_PLA4)),GtmService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.googleTagManagerService=t,this.routesReplayHolder=[],this.sessionStarted=!1,this.quizStarted=!1,this.selectedLessonControlContext={},this.isVideoPaused=!1,this.reviseInProgress=!1,this.subTopics={},this.isReviewAttempted=!1,this.videoAssetDuration=0,this.previousAssetPercentage=0,this.questionLoadedindex=0,this.isSessionCompleted=!1}return _createClass(e,[{key:"setDataLayer",value:function(e){this.dataLayerObj=e}},{key:"pushTag",value:function(e){if(e.event){var t=Object.assign(Object.assign({},this.dataLayerObj),e);delete t.openUrl,delete t.resourceId,delete t.duration,this.googleTagManagerService.pushTag(t)}}},{key:"firePageViewEvents",value:function(e){if(e!==this.prevUrl){var t=PageDataConstants[e];if(t){var n=Object.assign({event:GtmEventsEnum.TRG_PAGE_VIEW},t);this.pushTag(n),this.prevUrl=e}}}},{key:"fireRoutePairWiseEvents",value:function(e,t){var n=this,r=RoutePairWiseEventsConstants[e];if(r){var i=r[t];null==i||i.map(function(e){return n.pushTag(e)})}this.routeHolder={currentUrl:e,previousUrl:t},this.routesReplayHolder.unshift(e,t),this.routesReplayHolder=this.routesReplayHolder.splice(0,4)}},{key:"onApiInterceptorEvent",value:function(e,t,n){}},{key:"fireErrorEvent",value:function(e){this.pushTag(e)}},{key:"onLessonPlayerOpened",value:function(e){var t,n,r,i,o;this.lessonType=null==e?void 0:e.lessonType,this.flushLessonControlData(),this.lessonType=null==e?void 0:e.lessonType,this.lessonType!==LessonTypesEnum.SPACED_PRACTICE_1&&this.lessonType!==LessonTypesEnum.SPACED_PRACTICE_2||(this.lessonType=LessonTypesEnum.PRACTICE),this.lessonBookId=null===(t=null==e?void 0:e.book)||void 0===t?void 0:t.id;var s=LessonPlayerModuleConstants[this.routeHolder.currentUrl];if(s?(this.module=s.module,this.lessonPlayerSiteSection="".concat(s.module," > ").concat(this.lessonType)):(this.lessonPlayerSiteSection=null,this.module=null),this.lessonInfo={Subject:null===(n=null==e?void 0:e.subjects)||void 0===n?void 0:n.label,Lesson:null===(r=null==e?void 0:e.chapter)||void 0===r?void 0:r.label,Topic:this.getTopicLabels(null==e?void 0:e.tp),resourceId:null==e?void 0:e.resourceId,duration:(null==e?void 0:e.duration)?null==e?void 0:e.duration:null==e?void 0:e.lessonDuration,sub_topic:this.storeAndGetSubTopicLabels(null==e?void 0:e.tqs)},this.lessonInfoCopy=Object.assign({},this.lessonInfo),this.module===GtmModuleNamesEnum.STUDY_PLAN&&(TestTypesConstants.includes(this.lessonType)&&(this.lessonInfo.resourceId=e.lessonId),this.checkStudyPlanData(),this.lessonInfo=Object.assign(Object.assign({},this.lessonInfo),this.studyPlanData),this.lessonInfo.sp_task_type=this.lessonType),TestTypesConstants.includes(this.lessonType)&&!this.lessonInfo.Lesson?this.lessonInfo.Lesson=this.getChaptersFromPortionForTest(e):this.testDifficulty="",LessonControlContext[this.lessonType]&&(this.selectedLessonControlContext[this.lessonType]=LessonControlContext[this.lessonType][null==e?void 0:e.lessonState]),this.lessonPlayerPageData={site_section:this.lessonPlayerSiteSection,page_name:LessonPlayerOpenPageNamesConstants[this.lessonType]},(null===(i=this.routeHolder)||void 0===i?void 0:i.previousUrl)&&LessonPlayerEventsConstants[this.lessonType]){var a=Object.assign(Object.assign(Object.assign(Object.assign({},this.lessonInfo),LessonPlayerEventsConstants[this.lessonType][0]),this.lessonPlayerPageData),this.selectedLessonControlContext[this.lessonType]);TestTypesConstants.includes(this.lessonType)&&(a.test_ID=this.lessonInfo.resourceId,a.duration_selected=this.lessonInfo.duration,a.difficulty_level=this.testDifficulty),this.pushTag(a)}this.lessonPlayerUrl=null===(o=this.routeHolder)||void 0===o?void 0:o.currentUrl,this.sessionStarted=!1,this.quizStarted=!1,this.lessonType===LessonTypesEnum.BIG_IDEA&&(this.lessonsPreviousStats={goalsAchieved:null==e?void 0:e.lessonStarAchieved,lessonScore:null==e?void 0:e.lessonScore,lessonStatus:null==e?void 0:e.lessonStatus,timeSpent:null==e?void 0:e.lessonTimeSpent},this.onBigIdeaSessionStarted())}},{key:"getChaptersFromPortionForTest",value:function(e){var t,n,r;return this.getListWithSeperator(null===(r=null===(n=null===(t=null==e?void 0:e.lessonPortion)||void 0===t?void 0:t.portion)||void 0===n?void 0:n.node)||void 0===r?void 0:r.map(function(e){return null==e?void 0:e.label}))}},{key:"getTopicLabels",value:function(e){return Array.isArray(e)?this.getListWithSeperator(e.map(function(e){return null==e?void 0:e.label})):null==e?void 0:e.label}},{key:"storeAndGetSubTopicLabels",value:function(e){var t=this;return this.subTopics={},this.getListWithSeperator(null==e?void 0:e.map(function(e){return t.subTopics[null==e?void 0:e.id]=null==e?void 0:e.label,null==e?void 0:e.label}))}},{key:"getListWithSeperator",value:function(e){return null==e?void 0:e.toString().replace(/,/g,"|*|")}},{key:"getTqLable",value:function(e){return this.previousTqId=e,this.subTopics[e]}},{key:"fireLessonPlayerPageViewEvent",value:function(e){if(this.lessonPlayerSiteSection){this.lessonPlayerPageData={site_section:this.lessonPlayerSiteSection,page_name:e};var t=Object.assign({event:GtmEventsEnum.TRG_PAGE_VIEW},this.lessonPlayerPageData);this.pushTag(t)}}},{key:"onLessonPlayerReviewPageView",value:function(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.REVIEW),this.contentType={content_type:ContentTypesEnum.SUMMARY}}},{key:"onLessonPlayerVideoPageView",value:function(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.VIDEO),this.contentType={content_type:ContentTypesEnum.ASSET}}},{key:"onLessonPlayerQuizPageView",value:function(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.QUIZ),this.contentType={content_type:ContentTypesEnum.QUIZ}}},{key:"onLessonPlayerSummaryPageView",value:function(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.SUMMARY),this.contentType={content_type:ContentTypesEnum.SUMMARY}}},{key:"onLessonPlayerSummaryCardPageView",value:function(){this.fireLessonPlayerPageViewEvent(LessonPlayerPageNamesEnum.CARD),this.contentType={content_type:ContentTypesEnum.CARD}}},{key:"onLessonPlayerAbandoned",value:function(e,t){var n,r=this.getAbandonedSessionData(e,this.lessonType),i={};this.lessonType===LessonTypesEnum.BIG_IDEA&&this.contentType.content_type===ContentTypesEnum.ASSET?i=Object.assign({},this.assetProgressData):this.lessonType===LessonTypesEnum.REVISE?this.contentType.content_type===ContentTypesEnum.QUIZ?i.test_time_spent=r.test_time_spent:this.contentType.content_type===ContentTypesEnum.ASSET&&(i=Object.assign({},this.assetProgressData)):PracticeTypesConstants.includes(this.lessonType)?i=Object.assign(Object.assign({question_Number:this.questionLoadedindex},this.questionLoadedData),this.computePracticeAbandonedData(e)):TestTypesConstants.includes(this.lessonType)&&(i=Object.assign({},r)),LessonPlayerEventsConstants[this.lessonType]&&(n=LessonPlayerEventsConstants[this.lessonType][1]);var o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),this.contentType),i);TestTypesConstants.includes(this.lessonType)?(o.test_ID=this.lessonInfo.resourceId,o.duration_selected=this.lessonInfo.duration,o.difficulty_level=this.testDifficulty,delete o.content_type):PracticeTypesConstants.includes(this.lessonType)&&delete o.content_type,this.pushTag(o),t?(this.sessionStarted=!1,this.quizStarted=!1,this.selectedLessonControlContext={},this.isVideoPaused=!1,this.questionAttemptedTagObj=null,this.isReviewAttempted=!1,this.isSessionCompleted=!1):this.flushLessonControlData()}},{key:"computePracticeAbandonedData",value:function(e){var t=0,n=0,r=0,i=0,o=0;return null==e||e.map(function(e,s){var a,u=e.state;u&&(null===(a=null==u?void 0:u.attemptedOption)||void 0===a?void 0:a.length)>0?(t=2===u.qState?t+1:t,n=0===u.qState?n+1:n,r=1===u.qState?r+1:r,o+=null==u?void 0:u.timeTaken):i+=1}),{correct_questions:t,incorrect_questions:n,partially_correct_questions:r,unattempted_questions:i,attempted_questions:(null==e?void 0:e.length)-i,test_time_spent:Math.round(o),total_questions:null==e?void 0:e.length}}},{key:"getAbandonedSessionData",value:function(e,t){var n=this,r=0,i=0,o=0,s=0,a=0,u=0,c=0,l=0;return e.map(function(e){var h,d;if((null==e?void 0:e.flagQuestion)&&(u+=1),c=(null==e?void 0:e.marks)>-1?c+(null==e?void 0:e.marks):c,null==e?void 0:e.state){var f=e.state;if((null===(h=null==f?void 0:f.attemptedOption)||void 0===h?void 0:h.length)>0&&t===LessonTypesEnum.ORAL_TEST){var p=n.computeObtainedMarksForOralTest(f);l+=p.marks_obtained,i+=1,o=2===p.qState?o+1:o,s=0===p.qState?s+1:s,a=1===p.qState?a+1:a}else(null===(d=null==f?void 0:f.attemptedOption)||void 0===d?void 0:d.length)>0&&(l+=null==f?void 0:f.obtainMarks,i+=1,o=(null==f?void 0:f.obtainMarks)===(null==f?void 0:f.marks)?o+1:o,s=0===(null==f?void 0:f.obtainMarks)?s+1:s,a=(null==f?void 0:f.obtainMarks)>0&&(null==f?void 0:f.obtainMarks)<(null==f?void 0:f.marks)?a+1:a);r+=null==f?void 0:f.timeTaken}}),{test_time_spent:Math.round(r),total_marks:c,marks_obtained:l,flagged_questions:u,attemptedQuestions:i,unattampted_questions:(null==e?void 0:e.length)-i,correct_questions:o,partially_correct_questions:a,incorrect_questions:s,total_questions:null==e?void 0:e.length}}},{key:"computeObtainedMarksForOralTest",value:function(e){var t,n=null===(t=null==e?void 0:e.attemptedOption[0])||void 0===t?void 0:t.options[0];return 0===n?{marks_obtained:0,qState:n}:1===n?{marks_obtained:(null==e?void 0:e.marks)/2,qState:n}:2===n?{marks_obtained:null==e?void 0:e.marks,qState:n}:void 0}},{key:"onQuestionLoaded",value:function(e,t){var n;this.questionLoadedData={question_ID:null==t?void 0:t.questionID,question_type:null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.type},this.questionLoadedindex=e+1}},{key:"onBigIdeaSessionStarted",value:function(){var e=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_BIGIDEA_SESSION_STARTED},this.lessonPlayerPageData),this.lessonInfo),{content_type:ContentTypesEnum.ASSET});this.pushTag(e)}},{key:"onBigIdeaSessionEnded",value:function(){if(LessonPlayerEventsConstants[this.lessonType]){var e=Object.assign(Object.assign(Object.assign(Object.assign({},LessonPlayerEventsConstants[this.lessonType][2]),this.lessonPlayerPageData),this.lessonInfo),this.contentType);this.module===GtmModuleNamesEnum.STUDY_PLAN?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=e,this.fireSessionCompletedEvent()):(this.isSessionCompleted=!1,this.pushTag(e))}}},{key:"onBigIdeaClosed",value:function(){if(LessonPlayerEventsConstants[this.lessonType]){var e=Object.assign(Object.assign(Object.assign(Object.assign({},LessonPlayerEventsConstants[this.lessonType][3]),this.lessonPlayerPageData),this.lessonInfo),this.contentType);this.pushTag(e)}this.flushLessonControlData()}},{key:"onBigIdeaAssetReplay",value:function(){if(LessonPlayerEventsConstants[this.lessonType]){var e=Object.assign(Object.assign(Object.assign(Object.assign({},LessonPlayerEventsConstants[this.lessonType][4]),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);this.pushTag(e)}}},{key:"onTaskOpen",value:function(e){if(e){var t=Object.assign(Object.assign({event:GtmEventsEnum.TRG_TASK_OPEN},PageDataConstants[RouteEnums.ASSIGNMENTS]),this.formatTask(e));this.pushTag(t)}}},{key:"onTaskCompleted",value:function(e){if(e){var t=Object.assign(Object.assign({event:GtmEventsEnum.TRG_TASK_COMPLETED},PageDataConstants[RouteEnums.ASSIGNMENTS_PREVIEW]),this.formatTask(e));this.pushTag(t)}}},{key:"onTaskCreated",value:function(e){if(e){var t=Object.assign(Object.assign({event:GtmEventsEnum.TRG_TASK_CREATED},PageDataConstants[RouteEnums.ASSIGNMENTS_CREATE_TASK]),this.formatTask(e));this.pushTag(t)}}},{key:"formatTask",value:function(e){var t,n,r,i;console.log(e,"taskData====>");var o="false",s=null===(n=null===(t=e.data)||void 0===t?void 0:t.attachments)||void 0===n?void 0:n.map(function(e){var t;return null===(t=null==e?void 0:e.fileName)||void 0===t?void 0:t.split(".").pop()});return s.length>0&&(o="true - ".concat(this.getListWithSeperator(s))),{Subject:e.subjectTitle,duration_selected:e.duration,attachment:o,task_completion_criterion:TaskCompletionCriteriaConstants[null===(i=null===(r=e.data)||void 0===r?void 0:r.completionCriteria)||void 0===i?void 0:i.type]}}},{key:"onIntroScreenActionTriggered",value:function(e){LessonPlayerIntroEventsConstants[this.lessonType]&&e?e.action!==LessonPlayerIntroScreenActionsEnum.START||this.sessionStarted?e.action===LessonPlayerIntroScreenActionsEnum.START&&this.sessionStarted?(this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.SESSION_END],LessonPlayerStateEnum.SESSION_END),this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.SESSION_START],LessonPlayerStateEnum.SESSION_START)):e.action!==LessonPlayerIntroScreenActionsEnum.EXIT&&e.action!==LessonPlayerIntroScreenActionsEnum.NEXT||!this.sessionStarted?e.action!==LessonPlayerIntroScreenActionsEnum.EXIT&&e.action!==LessonPlayerIntroScreenActionsEnum.NEXT||this.sessionStarted||(this.sessionStarted=!1,this.quizStarted=!1,this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.CLOSE],LessonPlayerStateEnum.CLOSE),this.flushLessonControlData()):(this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.SESSION_END],LessonPlayerStateEnum.SESSION_END),this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.CLOSE],LessonPlayerStateEnum.CLOSE),this.flushLessonControlData()):this.fireIntroScreenEvents(LessonPlayerIntroEventsConstants[this.lessonType][LessonPlayerStateEnum.SESSION_START],LessonPlayerStateEnum.SESSION_START):this.flushLessonControlData()}},{key:"flushLessonControlData",value:function(){TestTypesConstants.includes(this.lessonType)||(this.testDifficulty=null),this.lessonType=null,this.lessonInfo=null,this.lessonPlayerUrl=null,this.sessionStarted=!1,this.quizStarted=!1,this.selectedLessonControlContext={},this.lessonPlayerSiteSection=null,this.contentType=null,this.isVideoPaused=!1,this.reviseInProgress=!1,this.subTopics={},this.previousTqId=null,this.lessonPlayerPageData=null,this.questionAttemptedTagObj=null,this.isReviewAttempted=!1,this.videoAssetDuration=0,this.previousAssetPercentage=0,this.assetProgressData=null,this.isSessionCompleted=!1,this.lessonsCurrentStats=null,this.lessonsPreviousStats=null,this.lessonBookId=null,this.studyPlanProgress=null,this.lessonsPreviousStats=null}},{key:"fireIntroScreenEvents",value:function(e,t){if(e){var n=Object.assign(Object.assign(Object.assign(Object.assign({},e),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);TestTypesConstants.includes(this.lessonType)&&(n.test_ID=this.lessonInfo.resourceId,n.duration_selected=this.lessonInfo.duration,n.difficulty_level=this.testDifficulty),this.lessonType!==LessonTypesEnum.BIG_IDEA&&this.lessonType!==LessonTypesEnum.REVISE||(n.content_type=ContentTypesEnum.ASSET),this.pushTag(n),t===LessonPlayerStateEnum.SESSION_START&&(this.sessionStarted=!0)}}},{key:"onPracticeSessionStarted",value:function(e){var t,n,r=Object.assign(Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRACTICE_SESSION_STARTED},this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),{question_ID:null===(t=e[0])||void 0===t?void 0:t.id,question_type:null===(n=e[0])||void 0===n?void 0:n.type});r.page_name=ContentTypesEnum.QUIZ,this.pushTag(r),this.sessionStarted=!0}},{key:"onPraciceSessionEnded",value:function(e,t,n){var r,i,o,s=this.computeCompletedQuestionsData(t),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRACTICE_SESSION_ENDED},this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),{question_ID:null===(r=t[t.length-1])||void 0===r?void 0:r.id,question_type:null===(i=t[t.length-1])||void 0===i?void 0:i.type,question_Number:t.length}),s.computedQuestionsData),{test_time_spent:null===(o=e.sessionData)||void 0===o?void 0:o.timeSpent});this.module===GtmModuleNamesEnum.STUDY_PLAN&&n?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=a,this.studyPlanProgress=this.getStudyPlanProgress(n),this.fireSessionCompletedEvent()):(this.isSessionCompleted=!1,this.pushTag(a)),this.sessionStarted=!1}},{key:"onReviseQuizStarted",value:function(){if(!this.quizStarted){var e=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_REVISE_QUIZ_STARTED,content_type:ContentTypesEnum.QUIZ},this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);e.page_name=ContentTypesEnum.QUIZ,this.pushTag(e),this.quizStarted=!0}}},{key:"onReviseSessionEnded",value:function(){if(this.reviseInProgress){var e=Object.assign(Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_REVISE_SESSION_ENDED},this.contentType),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);this.module===GtmModuleNamesEnum.STUDY_PLAN?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=e,this.fireSessionCompletedEvent()):(this.isSessionCompleted=!1,this.pushTag(e)),this.sessionStarted=!1,this.reviseInProgress=!1}}},{key:"onLessonCompleted",value:function(e){this.isSessionCompleted||this.reviseInProgress?(this.lessonsCurrentStats=e,this.fireSessionCompletedEvent()):this.lessonsPreviousStats||(this.lessonsPreviousStats=e,this.lessonsCurrentStats=null)}},{key:"updateBooksOnSessionComplete",value:function(e){this.studyPlanProgress=this.getStudyPlanProgress(e)}},{key:"fireSessionCompletedEvent",value:function(){var e;if(this.lessonsCurrentStats&&this.lessonSessionEndTagData&&this.studyPlanProgress){var t={sp_achieved_bonus_stars:this.lessonsPreviousStats?this.lessonsCurrentStats.goalsAchieved-(null===(e=this.lessonsPreviousStats)||void 0===e?void 0:e.goalsAchieved):this.lessonsCurrentStats.goalsAchieved,sp_daily_time_progress:Math.round(this.lessonsCurrentStats.timeSpent),sp_overall_time_progress:"".concat(this.studyPlanProgress.overAllTimeProgress,"%"),sp_overall_portion_progress:"".concat(this.studyPlanProgress.overAllPortionProgress,"%"),sp_subject_portion_progress:"".concat(this.studyPlanProgress.subjectProgress,"%"),sp_daily_completed_tasks:1},n=Object.assign(Object.assign({},this.lessonSessionEndTagData),t);this.pushTag(n),this.lessonSessionEndTagData=null,this.lessonsPreviousStats=this.lessonsCurrentStats,this.lessonsCurrentStats=null,this.isSessionCompleted=!1,this.studyPlanProgress=null}}},{key:"getPercentage",value:function(e,t){return Math.round(e/t*100)}},{key:"setBooksAndSessionsData",value:function(e){var t,n,r,i;this.studyPlanProgress=this.getStudyPlanProgress(e.books),this.lessonsCurrentStats={goalsAchieved:null===(t=e.sessionData)||void 0===t?void 0:t.goalsAchieved,lessonScore:null===(n=e.sessionData)||void 0===n?void 0:n.lessonScore,lessonStatus:null===(r=e.sessionData)||void 0===r?void 0:r.lessonStatus,timeSpent:null===(i=e.sessionData)||void 0===i?void 0:i.timeSpent}}},{key:"getStudyPlanProgress",value:function(e){var t=this,n=0,r=0,i=0,o=0,s=0;return null==e||e.map(function(e){t.lessonBookId===(null==e?void 0:e.id)&&(s=t.getPercentage(null==e?void 0:e.lessonsCompleted,null==e?void 0:e.totalLessons)),n+=null==e?void 0:e.totalLessons,r+=null==e?void 0:e.lessonsCompleted,i+=null==e?void 0:e.totalDuration,o+=null==e?void 0:e.timeSpent}),{overAllPortionProgress:this.getPercentage(r,n),overAllTimeProgress:this.getPercentage(o,i),subjectProgress:s}}},{key:"onQuestionAttempted",value:function(e,t,n,r){if(QuestionPlayerEventsConstants[this.lessonType]&&t&&e&&!this.isReviewAttempted){var i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.ATTEMPT]),this.lessonPlayerPageData),this.lessonInfo),this.formatQuestionData(e,t[0],n)),this.selectedLessonControlContext[this.lessonType]);TestTypesConstants.includes(this.lessonType)||(i.correct_question=2===e.qState?1:void 0,i.incorrect_question=0===e.qState?1:void 0,i.partially_correct_question=1===e.qState?1:void 0),i.sub_topic=this.getTqLable(r),this.pushTag(i),this.questionAttemptedTagObj=i,this.quizStarted=this.lessonType===LessonTypesEnum.REVISE,this.lessonType===LessonTypesEnum.REVISE&&(this.reviseInProgress=!0)}}},{key:"onQuestionRetry",value:function(){var e=this.questionAttemptedTagObj||{};e.correct_question&&(delete e.correct_question,delete e.incorrect_question,delete e.partially_correct_question,delete e.question_time_spent),e.event=GtmEventsEnum.TRG_PRACTICE_QUEST_RETRY,this.pushTag(e)}},{key:"onQuestionSkip",value:function(e,t,n,r){if(console.log("GtmService -> questionSkipEventHandler -> questionData",t,e),PracticeTypesConstants.includes(this.lessonType)&&QuestionPlayerEventsConstants[this.lessonType]&&t){var i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.SKIP]),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),this.formatQuestionData(e,t[0],n));i.sub_topic=this.getTqLable(r),this.pushTag(i)}this.quizStarted=this.lessonType===LessonTypesEnum.REVISE}},{key:"callQuestionSkipped",value:function(e){var t,n,r=this,i=[],o=[],s=[],a=[],u=[],c=[];if(null==e||e.map(function(e){i.push(null==e?void 0:e.id),o.push(null==e?void 0:e.type),s.push(null==e?void 0:e.confidence),a.push(null==e?void 0:e.index),u.push(Math.round(null==e?void 0:e.timeSpent)),r.getTqLable(null==e?void 0:e.tqId)&&c.push()}),QuestionPlayerEventsConstants[this.lessonType]&&e){var l=QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.SKIP],h={question_ID:this.getListWithSeperator(i),question_type:this.getListWithSeperator(o),confidence_level:this.getListWithSeperator(s),question_Number:this.getListWithSeperator(a),question_time_spent:this.getListWithSeperator(u),sub_topic:c.length>0?this.getListWithSeperator(c):void 0};TestTypesConstants.includes(this.lessonType)&&(h.test_ID=null===(t=this.lessonInfo)||void 0===t?void 0:t.resourceId,h.duration_selected=null===(n=this.lessonInfo)||void 0===n?void 0:n.duration,h.difficulty_level=this.testDifficulty);var d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),h);this.pushTag(d)}}},{key:"formatQuestionData",value:function(e,t,n){var r,i={question_ID:null==t?void 0:t.questionID,question_type:null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.type,confidence_level:null==e?void 0:e.confidence,question_Number:n+1,question_time_spent:Math.round(null==e?void 0:e.timeTaken)};return TestTypesConstants.includes(this.lessonType)&&(i.test_ID=this.lessonInfo.resourceId,i.duration_selected=this.lessonInfo.duration,i.difficulty_level=this.testDifficulty),i}},{key:"onQuizEnd",value:function(e){if(QuestionPlayerEventsConstants[this.lessonType]&&e){var t=QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.QUIZ_END],n=this.computeCompletedQuestionsData(e);this.callQuestionSkipped(null==n?void 0:n.skippedQuestions);var r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),null==n?void 0:n.computedQuestionsData);this.lessonType===LessonTypesEnum.REVISE&&(r.content_type=ContentTypesEnum.QUIZ),this.pushTag(r),this.quizStarted=!1}}},{key:"computeCompletedQuestionsData",value:function(e){var t=0,n=0,r=0,i=0,o=0,s=[];return null==e||e.map(function(e,a){var u;t=1===(null==e?void 0:e.status)?t+1:t,n=2===(null==e?void 0:e.status)?n+1:n,r=3===(null==e?void 0:e.status)?r+1:r,o+=null==e?void 0:e.timeSpent,0===(null===(u=null==e?void 0:e.attempted)||void 0===u?void 0:u.length)&&(i+=1,s.push({id:null==e?void 0:e.id,type:null==e?void 0:e.type,confidence:0,index:a+1,timeSpent:null==e?void 0:e.timeSpent,tqId:null==e?void 0:e.tqId}))}),{computedQuestionsData:{correct_questions:t,incorrect_questions:n,partially_correct_questions:r,unattempted_questions:i,attempted_questions:(null==e?void 0:e.length)-i,test_time_spent:Math.round(o),total_questions:null==e?void 0:e.length},skippedQuestions:s}}},{key:"onTestSubmit",value:function(e,t,n){if(QuestionPlayerEventsConstants[this.lessonType]&&e&&t){var r=QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.QUIZ_END],i=this.computeCompletedQuestionsData(e);this.callQuestionSkipped(null==i?void 0:i.skippedQuestions);var o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),null==i?void 0:i.computedQuestionsData),t),{test_ID:this.lessonInfo.resourceId,duration_selected:this.lessonInfo.duration,difficulty_level:this.testDifficulty});this.module===GtmModuleNamesEnum.STUDY_PLAN&&n?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=o,this.studyPlanProgress=this.getStudyPlanProgress(n),this.fireSessionCompletedEvent()):(this.isSessionCompleted=!1,this.pushTag(o)),this.quizStarted=!1}}},{key:"onVideoModalClosed",value:function(){this.isVideoPaused=!1}},{key:"onAssetPlayerEvent",value:function(e,t,n,r){var i,o,s;if(AssetPlayerEventsConstants[this.lessonType]&&AssetPlayerEventsConstants[this.lessonType][e]){t=Math.round(t);var a=AssetPlayerEventsConstants[this.lessonType][e];if(e===AssetPlayerStateEnum.RESUME&&!this.isVideoPaused||(e===AssetPlayerStateEnum.PAUSE||e===AssetPlayerStateEnum.RESUME)&&t===this.videoAssetDuration)return;this.isVideoPaused=e===AssetPlayerStateEnum.PAUSE;var u=Object.assign(Object.assign(Object.assign(Object.assign({},a),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]);n&&(this.videoAssetDuration=Math.round(null===(s=null===(o=null===(i=n.interactiveVideo)||void 0===i?void 0:i.video)||void 0===o?void 0:o.files[0])||void 0===s?void 0:s.duration),u.asset_duration=this.videoAssetDuration),u.sub_topic=this.getTqLable(r||this.previousTqId),e===AssetPlayerStateEnum.PULSE?(u.pulse=15,u.asset_type=this.lessonType===LessonTypesEnum.BIG_IDEA?LessonTypesEnum.BIG_IDEA:LessonTypesEnum.REVISE,delete u.revise_type):u.content_type=ContentTypesEnum.ASSET,e!==AssetPlayerStateEnum.PLAY&&e!==AssetPlayerStateEnum.REPLAY&&(u.video_cue_point=t,u.asset_watch_percent="".concat(Math.round(t/this.videoAssetDuration*100),"%")),this.pushTag(u),this.lessonType===LessonTypesEnum.REVISE&&(this.reviseInProgress=!0),e===AssetPlayerStateEnum.END&&(this.isVideoPaused=!1,this.previousAssetPercentage=0)}}},{key:"onAssetProgrssPercent",value:function(e){if(e.percentage!=this.previousAssetPercentage){var t=this.lessonType===LessonTypesEnum.BIG_IDEA?LessonTypesEnum.BIG_IDEA:LessonTypesEnum.REVISE,n=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_ASSET_PROGRESS_PERCENT},this.lessonPlayerPageData),this.lessonInfoCopy),{sub_topic:this.getTqLable(this.previousTqId),asset_type:t,video_cue_point:e.cuePoint,asset_watch_percent:"".concat(e.percentage,"%")});this.pushTag(n),this.previousAssetPercentage=e.percentage}}},{key:"onAssetHeartBeat",value:function(e){this.assetProgressData={video_cue_point:e,asset_watch_percent:"".concat(Math.round(e/this.videoAssetDuration*100),"%")}}},{key:"onBookEvent",value:function(e,t){var n,r,i,o;!e&&t&&(this.bookDataHolder={Subject:null===(n=t.subject)||void 0===n?void 0:n.nodeLabel,book_title:null===(r=t.book)||void 0===r?void 0:r.nodeLabel,book_ID:null===(i=t.book)||void 0===i?void 0:i.nodeId,openUrl:null===(o=this.routeHolder)||void 0===o?void 0:o.currentUrl});var s=this.getBookEventObj();if(!1!==s.event){var a=Object.assign(Object.assign(Object.assign({},s),this.bookDataHolder),PageDataConstants[this.bookDataHolder.openUrl]);this.pushTag(a)}}},{key:"getBookEventObj",value:function(){var e=BookOpenClosedRoutesConstants[this.routesReplayHolder[2]];return e&&e[this.routesReplayHolder[3]]?e[this.routesReplayHolder[3]]:{event:!1}}},{key:"setTestMetaData",value:function(e,t){this.testDifficulty=TestDifficultyLevelConstants[t]}},{key:"onReviewAttempt",value:function(e){var t,n;if(QuestionPlayerEventsConstants[this.lessonType]){this.isReviewAttempted=!0;var r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},QuestionPlayerEventsConstants[this.lessonType][QuestionPlayerStateEnum.REVIEW_ATTEMPT]),this.lessonPlayerPageData),this.lessonInfo),this.selectedLessonControlContext[this.lessonType]),this.computeReviewData(e)),{test_ID:null===(t=this.lessonInfo)||void 0===t?void 0:t.resourceId,duration_selected:null===(n=this.lessonInfo)||void 0===n?void 0:n.duration,difficulty_level:this.testDifficulty});this.pushTag(r)}}},{key:"computeReviewData",value:function(e){var t=0,n=0,r=0,i=0,o=0,s=0,a=0;return e.map(function(e){var u;(null===(u=null==e?void 0:e.attempted)||void 0===u?void 0:u.length)>0?2===(null==e?void 0:e.status)?(a+=null==e?void 0:e.marks,t+=1):1===(null==e?void 0:e.status)?(a+=(null==e?void 0:e.marks)/2,r+=1):0===(null==e?void 0:e.status)&&(n+=1):i+=1,o+=null==e?void 0:e.timeSpent,s+=null==e?void 0:e.marks}),{correct_questions:t,incorrect_questions:n,partially_correct_questions:r,unattempted_questions:i,attempted_questions:e.length-i,test_time_spent:Math.round(o),total_questions:e.length,flagged_questions:0,marks_obtained:a,total_marks:s}}},{key:"onFiltersApplied",value:function(e,t){var n;0===(e=e.map(function(e){return null==e?void 0:e.enum})).length&&e.push("Blank");var r=Object.assign({event:GtmEventsEnum.TRG_FILTER_APPLIED,filter_name:this.getListWithSeperator(e)},PageDataConstants[null===(n=this.routeHolder)||void 0===n?void 0:n.currentUrl]);t&&(r.sp_ID=this.studyPlanData.sp_ID,r.sp_status=this.studyPlanData.sp_status),this.pushTag(r)}},{key:"onDigitalTestCreated",value:function(e,t){var n,r,i,o=this.getChaptersAndTopicsForGtm(null===(n=e.data)||void 0===n?void 0:n.portion),s=Object.assign({event:TestTypesEventsConstants[e.type],Subject:e.subjectTitle,Lesson:null==o?void 0:o.chapters.toString(),Topic:null==o?void 0:o.topics.toString(),difficulty_level:TestDifficultyLevelConstants[null===(r=e.data)||void 0===r?void 0:r.difficulty],duration_selected:"".concat(e.duration," mins"),test_ID:t.id},PageDataConstants[null===(i=this.routeHolder)||void 0===i?void 0:i.currentUrl]);this.pushTag(s)}},{key:"onPrintTestCreated",value:function(e,t){var n,r,i,o=this.getChaptersAndTopicsForGtm(null===(n=e.data)||void 0===n?void 0:n.portion),s=Object.assign({event:TestTypesEventsConstants[e.type],Subject:e.subjectTitle,Lesson:null==o?void 0:o.chapters.toString(),Topic:null==o?void 0:o.topics.toString(),difficulty_level:TestDifficultyLevelConstants[null===(r=e.data)||void 0===r?void 0:r.difficulty],duration_selected:"".concat(e.duration," mins"),test_ID:t.id},PageDataConstants[null===(i=this.routeHolder)||void 0===i?void 0:i.currentUrl]);this.pushTag(s)}},{key:"getChaptersAndTopicsForGtm",value:function(e){var t,n=this,r=[],i=[];return null===(t=null==e?void 0:e.node)||void 0===t||t.map(function(e){i=[].concat(_toConsumableArray(i),_toConsumableArray(n.formatTopics(e))),r.push(null==e?void 0:e.label)}),{chapters:r,topics:i}}},{key:"formatTopics",value:function(e){var t;return null===(t=null==e?void 0:e.node)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.label})}},{key:"onSummaryOpened",value:function(e){var t,n,r,i;this.flushLessonControlData(),this.lessonType=LessonTypesEnum.SUMMARY,this.lessonBookId=null===(t=null==e?void 0:e.book)||void 0===t?void 0:t.id;var o=LessonPlayerModuleConstants[this.routeHolder.currentUrl];o?(this.module=o.module,this.lessonPlayerSiteSection="".concat(o.module," > ").concat(this.lessonType)):(this.lessonPlayerSiteSection=null,this.module=null),this.lessonInfo={Subject:null===(n=null==e?void 0:e.subjects)||void 0===n?void 0:n.label,Lesson:null===(r=null==e?void 0:e.chapter)||void 0===r?void 0:r.label,Topic:this.getTopicLabels(null==e?void 0:e.tp),resourceId:null==e?void 0:e.resourceId,duration:null==e?void 0:e.duration,sub_topic:this.storeAndGetSubTopicLabels(null==e?void 0:e.tqs)},this.module===GtmModuleNamesEnum.STUDY_PLAN&&(this.checkStudyPlanData(),this.lessonInfo=Object.assign(Object.assign({},this.lessonInfo),this.studyPlanData),this.lessonInfo.sp_task_type=this.lessonType,this.lessonsPreviousStats={goalsAchieved:null==e?void 0:e.lessonStarAchieved,lessonScore:null==e?void 0:e.lessonScore,lessonStatus:null==e?void 0:e.lessonStatus,timeSpent:null==e?void 0:e.lessonTimeSpent}),this.lessonPlayerPageData={site_section:this.lessonPlayerSiteSection,page_name:LessonPlayerOpenPageNamesConstants[this.lessonType]};var s=Object.assign(Object.assign({event:GtmEventsEnum.TRG_SUMMARY_OPEN},this.lessonInfo),this.lessonPlayerPageData);this.pushTag(s),this.lessonPlayerUrl=null===(i=this.routeHolder)||void 0===i?void 0:i.currentUrl,this.sessionStarted=!1,this.quizStarted=!1}},{key:"onSummaryEnded",value:function(e){if(this.lessonType===LessonTypesEnum.SUMMARY){var t=Object.assign(Object.assign({event:GtmEventsEnum.TRG_SUMMARY_END},this.lessonInfo),this.lessonPlayerPageData);this.module===GtmModuleNamesEnum.STUDY_PLAN&&e?(this.isSessionCompleted=!0,this.lessonSessionEndTagData=t,this.setBooksAndSessionsData(e),this.fireSessionCompletedEvent(),this.onSummaryClosed()):(this.isSessionCompleted=!1,this.pushTag(t),this.onSummaryClosed())}}},{key:"onSummaryClosed",value:function(){var e=Object.assign(Object.assign({event:GtmEventsEnum.TRG_SUMMARY_CLOSE},this.lessonInfo),this.lessonPlayerPageData);this.pushTag(e)}},{key:"setStudyPlanData",value:function(e,t){var n=this.formatSpData(e);this.studyPlanData=null==n?void 0:n.studyPlanData,this.studyPlanPortionData=null==n?void 0:n.studyPlanPortionData,localStorage.setItem("spData",JSON.stringify({studyPlanData:this.studyPlanData,studyPlanPortionData:this.studyPlanPortionData})),t&&this.onStudyPlanOpened()}},{key:"formatSpData",value:function(e){var t,n,r,i,o,s;return{studyPlanData:{sp_ID:null==e?void 0:e.sp_ID,sp_daily_time_goal_dim:null==e?void 0:e.sp_daily_time_goal_dim,sp_days_goal_dim:null==e?void 0:e.sp_days_goal_dim,sp_daily_total_tasks:null==e?void 0:e.sp_daily_total_tasks,sp_total_bonus_stars:null==e?void 0:e.sp_total_bonus_stars,sp_status:null==e?void 0:e.sp_status,sp_extra_attention_subject:(null===(n=null===(t=null==e?void 0:e.portion)||void 0===t?void 0:t.extraAttentionSubjects)||void 0===n?void 0:n.length)>0?this.getListWithSeperator(null===(r=null==e?void 0:e.portion)||void 0===r?void 0:r.extraAttentionSubjects):"NA"},studyPlanPortionData:{Subject:this.getListWithSeperator(null===(i=null==e?void 0:e.portion)||void 0===i?void 0:i.subjects),Lesson:this.getListWithSeperator(null===(o=null==e?void 0:e.portion)||void 0===o?void 0:o.lessons),Topic:this.getListWithSeperator(null===(s=null==e?void 0:e.portion)||void 0===s?void 0:s.topics)}}}},{key:"checkStudyPlanData",value:function(){if(!this.studyPlanData||!this.studyPlanPortionData){var e=JSON.parse(localStorage.getItem("spData"));this.studyPlanData=null==e?void 0:e.studyPlanData,this.studyPlanPortionData=null==e?void 0:e.studyPlanPortionData}}},{key:"onStudyPlanOpened",value:function(){var e,t=this.getStudyPlanOpenedEventObj();if(!1!==t.event){var n=Object.assign(Object.assign(Object.assign(Object.assign({},t),PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),this.studyPlanPortionData),this.studyPlanData);this.pushTag(n)}}},{key:"getStudyPlanOpenedEventObj",value:function(){var e=StudyPlanOpenClosedRoutesConstants[this.routesReplayHolder[2]];return e&&e[this.routesReplayHolder[3]]?e[this.routesReplayHolder[3]]:{event:!1}}},{key:"onReviewPlanOpenedFromMyLessonsPage",value:function(){var e;this.checkStudyPlanData(),this.studyPlanDataForProgressPage={studyPlanData:this.studyPlanData,studyPlanPortionData:this.studyPlanPortionData};var t=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_REVIEW_PLAN_OPEN},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),this.studyPlanPortionData),this.studyPlanData);delete t.sp_daily_total_tasks,delete t.sp_total_bonus_stars,this.pushTag(t)}},{key:"onReviewPlanOpenedFromMyPlansPage",value:function(e){var t,n=this.formatSpData(e);this.studyPlanDataForProgressPage={studyPlanData:null==n?void 0:n.studyPlanData,studyPlanPortionData:null==n?void 0:n.studyPlanPortionData};var r=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_REVIEW_PLAN_OPEN},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),null==n?void 0:n.studyPlanPortionData),null==n?void 0:n.studyPlanData);delete r.sp_daily_total_tasks,delete r.sp_total_bonus_stars,this.pushTag(r)}},{key:"onUpdateStudyTimeClicked",value:function(){var e,t,n,r=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_DAILY_TIME_UPDATE_CLICK},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),null===(t=this.studyPlanDataForProgressPage)||void 0===t?void 0:t.studyPlanPortionData),null===(n=this.studyPlanDataForProgressPage)||void 0===n?void 0:n.studyPlanData);this.pushTag(r)}},{key:"onUpdatePortionClicked",value:function(){var e,t,n,r=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_PORTION_UPDATE_CLICK},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),null===(t=this.studyPlanDataForProgressPage)||void 0===t?void 0:t.studyPlanPortionData),null===(n=this.studyPlanDataForProgressPage)||void 0===n?void 0:n.studyPlanData);this.pushTag(r)}},{key:"onSubjectPortionOpened",value:function(){var e,t,n,r=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_SUBJECT_PORTION_OPEN},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),null===(t=this.studyPlanDataForProgressPage)||void 0===t?void 0:t.studyPlanPortionData),null===(n=this.studyPlanDataForProgressPage)||void 0===n?void 0:n.studyPlanData);this.pushTag(r)}},{key:"onFullScheduleOpened",value:function(){var e;this.checkStudyPlanData();var t=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_FULL_SCHEDULE_OPEN},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),this.studyPlanPortionData),this.studyPlanData);this.pushTag(t)}},{key:"onManageCreateSpOpened",value:function(){var e;this.checkStudyPlanData();var t=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_MANAGE_CREATE_OPEN},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),this.studyPlanPortionData),this.studyPlanData);this.pushTag(t)}},{key:"onPausePlanClicked",value:function(){var e;this.checkStudyPlanData();var t=Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_PAUSE},PageDataConstants[null===(e=this.routeHolder)||void 0===e?void 0:e.currentUrl]),this.studyPlanPortionData),this.studyPlanData);this.pushTag(t)}},{key:"onMarkAsCompletedClicked",value:function(e){var t;this.checkStudyPlanData();var n=Object.assign(Object.assign(Object.assign(Object.assign({event:GtmEventsEnum.TRG_SP_TASK_MARK_COMPLETED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),this.studyPlanPortionData),this.studyPlanData),e);delete n.sp_total_bonus_stars,delete n.sp_daily_time_goal_dim,delete n.sp_days_goal_dim,delete n.sp_daily_total_tasks,delete n.sp_daily_total_tasks,delete n.sp_extra_attention_subject,this.pushTag(n)}},{key:"onCreateStudyPlanEvents",value:function(e,t,n){var r,i=Object.assign(Object.assign(Object.assign(Object.assign({event:CreateStudyPlanEventsConstants[e]},PageDataConstants[RouteEnums.STUDY_PLAN_CREATE_ACTIVATE_PLAN]),{Subject:this.getListWithSeperator(t.subjects),Lesson:this.getListWithSeperator(t.chapters),Topic:this.getListWithSeperator(t.topics),sub_topic:this.getListWithSeperator(t.subtopics)}),n),{sp_extra_attention_subject:(null===(r=null==t?void 0:t.extraAttentionSubjects)||void 0===r?void 0:r.length)>0?this.getListWithSeperator(null==t?void 0:t.extraAttentionSubjects):"NA"});"create"!==e?i.sp_status="ACTIVE":delete i.sp_status,this.pushTag(i)}},{key:"onChildProfileCreated",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_STUDENT_PROFILE_CREATED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.pushTag(n)}},{key:"onCancelSubscription",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_SUBSCRIPTION_CANCELLED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.pushTag(n)}},{key:"onPaymentSuccess",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_PURCHASE_SUCCESS},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.pushTag(n)}},{key:"onProductPlanList",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRODUCT_IMPRESSION},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.pushTag(n)}},{key:"onProductPlanClick",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRODUCT_CLICK},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.pushTag(n)}},{key:"onProductPlanViewDetails",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_PRODUCT_DETAIL_VIEW},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.pushTag(n)}},{key:"onCheckout",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_CHECKOUT},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.pushTag(n)}},{key:"onSignInSuccess",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_LOGIN_SUCCESS},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onSignInFailuer",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_LOGIN_FAILED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegistrationChildDetails",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_REGISTRATION_CHILD_DETAILS},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegistrationContactDetails",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_REGISTRATION_CONTACT_DETAILS},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegistrationSuccess",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_REGISTRATION_SUCCESS},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegistrationFailuer",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_REGISTRATION_FAILED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onCreatePassword",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_CREATE_PASSWORD},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onLogout",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.TRG_LOGOUT},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onSignUpClick",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_SIGN_UP_CLICKED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"on15DaysTrialInit",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_15_DAYS_TRIAL_CLICKED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegEnteringMobile",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_MOBILE_NUM_ENTERED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegMobileAlreadyExsits",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_MOBILE_ALREADY_EXIST},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegMobileOTPGeneration",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_OTP_GENERATED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegMobileOTPValidation",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_OTP_VALIDATED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegPasswordSuccess",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_PASSWORD_SUCCESS},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegBeginOnboarding",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_BEGIN_ONBOARDING},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegBoardSelected",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_BOARD_SELECTED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onRegGradeSelected",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_GRADE_SELECTED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"on15DaysTrialFinal",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_START_15_DAYS_TRIAL_CLICKED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}},{key:"onOnboardingComplete",value:function(e){var t,n=Object.assign(Object.assign({event:GtmEventsEnum.AF_REG_ONBOARDING_COMPLETED},PageDataConstants[null===(t=this.routeHolder)||void 0===t?void 0:t.currentUrl]),e);this.googleTagManagerService.pushTag(n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(angular_google_tag_manager__WEBPACK_IMPORTED_MODULE_42__.a))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(angular_google_tag_manager__WEBPACK_IMPORTED_MODULE_42__.a))},token:e,providedIn:"root"}),e}(),ErrorCatagory=function(e){return e.SERVER_ERROR="server error",e.CLIENT_ERROR="client error",e}({}),ErrorNotifierService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.gtmService=t}return _createClass(e,[{key:"getClientErrorMessage",value:function(e){return e.message?e.message:e.toString()}},{key:"getServerErrorMessage",value:function(e){return navigator.onLine?e.message:"No Internet Connection"}},{key:"logError",value:function(e,t){console.log("LoggingService: "+e)}},{key:"showSuccess",value:function(e){}},{key:"showError",value:function(e){}},{key:"fireCustomEvent",value:function(e,t,n){this.gtmService.fireErrorEvent({event:"onAppErrorEvent",errorCatagory:e,errorAction:n,errorLabel:t,eventNonInteraction:!0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(GtmService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),GlobalErrorHandlerService=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).gtmService=e,r}return _createClass(n,[{key:"handleError",value:function(e){var t,n="";e instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.d?(n=this.getServerErrorMessage(e),t=ErrorCatagory.SERVER_ERROR):(n=this.getClientErrorMessage(e),t=ErrorCatagory.CLIENT_ERROR),this.fireCustomEvent(t,n,"unknown source")}}]),n}(ErrorNotifierService);return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(GtmService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),PbaService=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"devModeSetup",value:function(){try{window.AF_SDK.PLUGINS.PBA.turnOnDevMode(),window.AF_SDK.PLUGINS.PBA.isDevModeOn()}catch(e){console.log("PBA Setup Failed!")}}},{key:"setCUID",value:function(e){try{AF("pba","setCustomerUserId",e)}catch(t){console.log("PBA 'Set CUID Event' Failed!")}}},{key:"onLoginSuccess",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_login_success"})}catch(e){console.log("PBA 'Login Success Event' Failed!")}}},{key:"onLoginFail",value:function(e){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:e}},eventName:"af_login_failed"})}catch(t){console.log("PBA 'Login Fail Event' Failed!")}}},{key:"onLoginFailWith400",value:function(e){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:e}},eventName:"af_login_failed_4xx"})}catch(t){console.log("PBA 'Login Fail With 4xx Event' Failed!")}}},{key:"initRegSteps",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_1_visits"})}catch(e){console.log("PBA 'Init Reg Step Event' Failed!")}}},{key:"initGradeSelectionVisit",value:function(){setTimeout(function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_2_visits_gradeselection"})}catch(e){console.log("PBA 'Init Grade Visit Event' Failed!")}},1e3)}},{key:"onGradeSelection",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_2a_gradeselection"})}catch(e){console.log("PBA 'Init Grade Visit Event' Failed!")}}},{key:"onSuccessOTPGeneration",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_3a_otp_generated"})}catch(e){console.log("PBA 'OTP Generation Success Event' Failed!")}}},{key:"initOTPVisit",value:function(){setTimeout(function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_4_visits_otp"})}catch(e){console.log("PBA 'OTP Visit Event' Failed!")}},1e3)}},{key:"onOTPEnter",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_4_otp_entered"})}catch(e){console.log("PBA 'OTP Enter Event' Failed!")}}},{key:"onOTPVerificationFail",value:function(e){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:e}},eventName:"af_reg_steps_4a_otp_failed"})}catch(t){console.log("PBA 'OTP Verification Fail Event' Failed!")}}},{key:"onOTPVerificationSuccess",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_4b_otp_success"})}catch(e){console.log("PBA 'OTP Verification Success Event' Failed!")}}},{key:"onOTPVerificationTimeOut",value:function(e){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:e}},eventName:"af_reg_steps_4b_otp_timeout"})}catch(t){console.log("PBA 'OTP Verification Timeout Event' Failed!")}}},{key:"initPasswordSetVisit",value:function(){setTimeout(function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_5_visits_password_set"})}catch(e){console.log("PBA 'Password Set Visit Event' Failed!")}},1e3)}},{key:"onPasswordSetSuccess",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_reg_steps_5a_password_set"})}catch(e){console.log("PBA 'Password Set Success Event' Failed!")}}},{key:"onPasswordSetFail",value:function(e){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:e}},eventName:"af_reg_steps_5b_password_set_failed"})}catch(t){console.log("PBA 'Password Set Fail Event' Failed!")}}},{key:"onRegistartionSuccess",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_register_success"})}catch(e){console.log("PBA 'Registartion Success Event' Failed!")}}},{key:"onRegistartionFail",value:function(e){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:e}},eventName:"af_register_failed"})}catch(t){console.log("PBA 'Registartion Fail Event' Failed!")}}},{key:"onTrialIntent",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_trial_1_intent"})}catch(e){console.log("PBA 'Trial Intent Event' Failed!")}}},{key:"onTrialPurchaseSuccess",value:function(){try{AF("pba","event",{eventType:"EVENT",eventName:"af_trial_3a_success"})}catch(e){console.log("PBA 'Trial Purchase Success Event' Failed!")}}},{key:"onTrialPurchaseFail",value:function(e){try{AF("pba","event",{eventType:"EVENT",eventValue:{eventValue:{label:e}},eventName:"af_trial_3b_failed"})}catch(t){console.log("PBA 'Trial Purchase Fail Event' Failed!")}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),RouterExtraService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"setPreviousPageUrl",value:function(){this.router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.a)(function(e){return e instanceof _angular_router__WEBPACK_IMPORTED_MODULE_41__.c}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.a)()).subscribe(function(e){localStorage.setItem("prevUrl",e[0].urlAfterRedirects)})}},{key:"disableBrowserBack",value:function(){history.pushState(null,null,window.location.href)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_router__WEBPACK_IMPORTED_MODULE_41__.b))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),BookThemeDirective=function(){var e=_createClass(function e(t,n){_classCallCheck(this,e),this.el=t,this.coreService=n,this.bookId="default"});return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.l),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(CoreService))},e.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb({type:e,selectors:[["","nxAfsBookTheme",""]],inputs:{bookId:"bookId"}}),e}(),CoreLibModule=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b,UtilityLibModule],UtilityLibModule]}),e}(),StudyPlanRingUtilityService=function(){var e=function(){function e(){_classCallCheck(this,e),this.lessonGroup=[]}return _createClass(e,[{key:"getRingData",value:function(e,t){return this.lessonGroup=lodash__WEBPACK_IMPORTED_MODULE_6__(e).filter({lessonGroup:t}).value(),{goals:this.getGoals(this.lessonGroup),lessons:this.getLessons(this.lessonGroup),duration:this.getDuration(this.lessonGroup)}}},{key:"getTotalLessons",value:function(e){return e.length||0}},{key:"getLessonsCompleted",value:function(e){return lodash__WEBPACK_IMPORTED_MODULE_6__(e).filter(function(e){return e.lessonStatus>2}).value().length||0}},{key:"getPercentage",value:function(e,t){return 0===t&&e>0&&(t=e),Math.round(e/t*100)||0}},{key:"getLessons",value:function(e){var t=this.getTotalLessons(e),n=this.getLessonsCompleted(e);return{total:t,completed:n,percentage:this.getPercentage(n,t)}}},{key:"getTotalGoals",value:function(e){return lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce(function(e,t){return t.lessonMaxStar+e},0)||0}},{key:"getGoalsCompleted",value:function(e){return lodash__WEBPACK_IMPORTED_MODULE_6__(e).filter(function(e){return e.lessonStatus>2}).reduce(function(e,t){return t.lessonStarAchieved+e},0)||0}},{key:"getGoals",value:function(e){var t=this.getTotalGoals(e),n=this.getGoalsCompleted(e);return{total:t,completed:n,percentage:this.getPercentage(n,t)}}},{key:"getTotalDuration",value:function(e){return lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce(function(e,t){return t.lessonDuration+e},0)||0}},{key:"getDurationCompleted",value:function(e){return lodash__WEBPACK_IMPORTED_MODULE_6__(e).filter(function(e){return e.lessonStatus>1}).reduce(function(e,t){return t.lessonTimeSpent+e},0)||0}},{key:"getDuration",value:function(e){var t=this.getTotalDuration(e),n=this.getDurationCompleted(e);return{total:t,completed:n,percentage:this.getPercentage(n,t)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),getMessage=function(e,t){var n=lodash__WEBPACK_IMPORTED_MODULE_6__(e).reduce(function(e,t,n){return{key:n,value:t}},{}),r=t[n.key];return n.value&&lodash__WEBPACK_IMPORTED_MODULE_6__(n.value).map(function(e,t){var n=new RegExp("({{)(".concat(t,")(}})"),"g");r=r.replace(n,e)}).value(),r},messages={dailyStudyTime:"Our goal is to studi {{time}} every day and finish by {{endDate}}",currentStudyWeek:"We are on week {{currentWeek}} of {{lastWeek}}",studyInstruction:"Complete {{pendingChapters}} chapters in {{remainingWeeks}} weeks {{endDate}}"},studyInstructionsMessages={remaining:"{{pendingChapters}} of {{totalChapters}} chapters are remaining.",allRemaining:"All {{totalChapters}} chapters are remaining.",oneRemaining:"1 chapter is remaining",allComplete:"All {{totalChapters}} chapters have been completed.",oneComplete:"1 chapter has been completed."},progressMessage={dailyStudyTime:"Our goal is to studi {{time}} daily",currentStudyWeek:"We are presently in Week {{currentWeek}} of {{lastWeek}}",studyInstruction:"complete {{pendingChapters}} chapters in remaining {{remainingWeeks}} weeks",planEndDate:"We plan to finish on {{endDate}}"},notFeasibleAlertMessage={notFeasible:"With {{pendingChapters}} chapters left in {{remainingWeeks}} weeks to go, and so we might need to studi more hours per day to complete our goal on time."},studyPlanMessageDictionary=function(e){return getMessage(e,messages)},studyInstructionsMessageDictionary=function(e){return getMessage(e,studyInstructionsMessages)},studyPlanMessageForProgressDictionary=function(e){return getMessage(e,progressMessage)},studyPlanNotFeasibleAlertDictionary=function(e){return getMessage(e,notFeasibleAlertMessage)},StudyPlanUtilityService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.timeUtilityService=t}return _createClass(e,[{key:"setPausePlanData",value:function(e){this.pausePlanData=e}},{key:"getPausePlanData",value:function(){return this.pausePlanData}},{key:"setDeadlineMissedPlanData",value:function(e){this.deadlineMissedPlanData=e}},{key:"getDeadlineMissedPlanData",value:function(){return this.deadlineMissedPlanData}},{key:"setStudyPlanEntity",value:function(e){this.studyPlanEntity=e}},{key:"getStudyPlanEntity",value:function(){return this.studyPlanEntity}},{key:"generateStudyPlanEntityData",value:function(e,t){var n,r=(null==e?void 0:e.pauseDate)?"Paused since":"Last accessed",i=(null==e?void 0:e.pauseDate)?null==e?void 0:e.pauseDate:null==e?void 0:e.lastUpdatedDate;t.books=null===(n=null==t?void 0:t.books)||void 0===n?void 0:n.filter(function(e){return e.totalLessons>0});var o=this.getBooksAggregatedValues(null==t?void 0:t.books);return{planId:null==e?void 0:e.planId,planLabel:null==e?void 0:e.planLabel,planStatus:null==e?void 0:e.planStatus,source:null==e?void 0:e.source,planGoalEndDate:null==e?void 0:e.planGoalEndDate,planCreateDate:null==e?void 0:e.planCreateDate,lastUpdatedDate:null==e?void 0:e.lastUpdatedDate,pauseDate:null==e?void 0:e.pauseDate,dailyStudyTime:null==e?void 0:e.dailyStudyTime,feasible:null==t?void 0:t.feasible,noOfLessons:o.totalNoOfLessons,noOfBooks:null==t?void 0:t.books.length,pendingChapters:o.totalChapters-o.totalChaptersCompleted,goalEndDateString:this.timeUtilityService.formatDate(new Date(null==e?void 0:e.planGoalEndDate),"d-MMM"),progressPercent:Math.round(o.totalCompletedLessons/o.totalNoOfLessons*100),status:r,statusDay:this.timeUtilityService.getFormattedDate(i).toLowerCase(),books:null==t?void 0:t.books,versionHistory:(null==t?void 0:t.versionHistory)?null==t?void 0:t.versionHistory:[],completedTracker:(null==t?void 0:t.completedTracker)?null==t?void 0:t.completedTracker:[],plannedTracker:(null==t?void 0:t.plannedTracker)?null==t?void 0:t.plannedTracker:[]}}},{key:"getBooksAggregatedValues",value:function(e){var t=0,n=0,r=0,i=0;return e.map(function(e){t+=e.totalLessons,n+=e.lessonsCompleted,r+=e.totalChapters,i+=e.totalChaptersCompleted?e.totalChaptersCompleted:0}),{totalNoOfLessons:t,totalCompletedLessons:n,totalChapters:r,totalChaptersCompleted:i}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(LibTimeUtilityService))},token:e,providedIn:"root"}),e}(),ResolutionTypes=function(e){return e.MOBILE="mobile",e.TABLET="tablet",e.DESKTOP="desktop",e}({}),BrowseBookConfigInterface=_createClass(function e(){_classCallCheck(this,e)}),AssignmentStatus=function(e){return e[e.NOT_SEEN=0]="NOT_SEEN",e[e.SEEN=1]="SEEN",e[e.COMPLETED=2]="COMPLETED",e[e.DELETED_SOFT=3]="DELETED_SOFT",e}({}),AssignmentConfigType=function(e){return e.DEFAULT="default",e.DIGITAL="digital",e.ORAL="oral",e.MOCK="mock",e}({}),AssignmentTypes=function(e){return e[e.ORAL_TEST=5]="ORAL_TEST",e[e.MOCK_TEST=6]="MOCK_TEST",e[e.DIGITAL_TEST=4]="DIGITAL_TEST",e[e.TASK=7]="TASK",e}({}),TqState=function(e){return e[e.LOCK=0]="LOCK",e[e.UNLOCK=1]="UNLOCK",e[e.SUCCESS_COMPLETED=3]="SUCCESS_COMPLETED",e[e.FAILED_COMPLETED=2]="FAILED_COMPLETED",e}({}),ResourceState=function(e){return e[e.LOCK=0]="LOCK",e[e.UNLOCK=1]="UNLOCK",e[e.VISITED=2]="VISITED",e[e.COMPLETED=3]="COMPLETED",e}({}),SubResourceState=function(e){return e[e.LOCK=0]="LOCK",e[e.UNLOCK=1]="UNLOCK",e[e.VISITED=2]="VISITED",e[e.COMPLETED=3]="COMPLETED",e}({}),RevisePLayerResourceType=function(e){return e.VIDEO="video",e.QUIZ="quiz",e.SUMMARY="summary",e.STUDINOTE="studinote",e.WORKSHEET="worksheet",e.MOCKTEST="mockTest",e}({}),BluePrint=function(e){return e.coverage="coverage",e.KnowledgeState="Knowledge state",e}({}),Difficulties=function(e){return e.easy="easy",e.medium="medium",e.hard="hard",e}({}),Mode=function(e){return e.practise="practise",e.test="test",e}({}),LessonPlayerNumberType=function(e){return e[e.BIGIDEA=1]="BIGIDEA",e[e.REVISE=2]="REVISE",e[e.PRACTICE=3]="PRACTICE",e[e.DIGITAL_TEST=4]="DIGITAL_TEST",e[e.MOCK_TEST=6]="MOCK_TEST",e[e.ORAL_TEST=5]="ORAL_TEST",e[e.SUMMARY=8]="SUMMARY",e[e.STUDINOTES=9]="STUDINOTES",e[e.SPACEDPRACTICE1=10]="SPACEDPRACTICE1",e[e.SPACEDPRACTICE2=11]="SPACEDPRACTICE2",e[e.WORKSHEETS=12]="WORKSHEETS",e}({}),LessonPlayerStringType=function(e){return e.BIGIDEA="bigIdea",e.REVISE="revise",e.PRACTICE="practice",e.DIGITAL_TEST="test",e.MOCK_TEST="test",e.ORAL_TEST="test",e.SUMMARY="summary",e.STUDINOTES="studinotes",e.SPACEDPRACTICE1="practice",e.SPACEDPRACTICE2="practice",e.WORKSHEETS="resources",e}({}),LessonEndPointModules=function(e){return e.BROWSEBOOK="bookshelf",e.ASSIGNMENT="assignment",e.STUDYPLAN="study",e}({}),LessonEndPointNumberModules=function(e){return e[e.BROWSEBOOK=1]="BROWSEBOOK",e[e.ASSIGNMENT=2]="ASSIGNMENT",e[e.STUDYPLAN=3]="STUDYPLAN",e}({}),LessonStatus=function(e){return e[e.GENERAL=0]="GENERAL",e[e.NA=1]="NA",e[e.FAIL=2]="FAIL",e[e.SUCCESS=3]="SUCCESS",e[e.LOCKED=4]="LOCKED",e[e.MARK_COMPLETED=5]="MARK_COMPLETED",e}({}),GtmSiteSectionsEnum=Object.assign({HOME:"home"},GtmModuleNamesEnum),LessonTypeNumber=function(e){return e[e.BIGIDEA=1]="BIGIDEA",e[e.REVISE=2]="REVISE",e[e.PRACTICE=3]="PRACTICE",e[e.DIGITAL_TEST=4]="DIGITAL_TEST",e[e.ORAL_TEST=5]="ORAL_TEST",e[e.MOCK_TEST=6]="MOCK_TEST",e[e.TASK=7]="TASK",e[e.CHAPTER_SUMMARY=8]="CHAPTER_SUMMARY",e[e.CHAPTER_NOTES=9]="CHAPTER_NOTES",e}({}),LessonTypeString=function(e){return e.BIGIDEA="bigIdea",e.REVISE="revise",e.PRACTICE="practice",e.DIGITAL_TEST="test",e.ORAL_TEST="test",e.MOCK_TEST="test",e.TASK="task",e.CHAPTER_SUMMARY="summary",e.CHAPTER_NOTES="chapterNotes",e}({}),StudyPlanStatus=function(e){return e.DRAFT="DRAFT",e.INACTIVE="IN_ACTIVE",e.ACTIVE="ACTIVE",e}({}),ZohoSubscriptionStatus=function(e){return e[e.ACTIVE=1]="ACTIVE",e[e.IN_ACTIVE=2]="IN_ACTIVE",e[e.TRIAL=3]="TRIAL",e[e.LIVE=4]="LIVE",e[e.CANCELLED=5]="CANCELLED",e[e.EXPIRED=6]="EXPIRED",e[e.TRIAL_EXPIRED=7]="TRIAL_EXPIRED",e}({}),ZohoPlanCode=function(e){return e.TRIAL="studictrial",e.ANNUAL_REF="studicannualref",e.ANNUAL_NON_REF="studicannualnonref",e.HALF="studichalf",e.QUARTER="studicquarterly",e.MONTHLY="studicmonthly",e}({}),ZohoPlanTitle=function(e){return e.studictrial="Trial",e.studicannualref="Annual (Refundable)",e.studicannualnonref="Annual",e.studichalf="Half Yearly",e.studicquarterly="Quarterly",e.studicmonthly="Monthly",e}({}),MessagesUtilityService=function(){var MessagesUtilityService=function(){function MessagesUtilityService(){_classCallCheck(this,MessagesUtilityService)}return _createClass(MessagesUtilityService,[{key:"fetchCondition",value:function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.isConditionValid(i,e))return i}}catch(o){r.e(o)}finally{r.f()}}},{key:"isConditionValid",value:function isConditionValid(cond,hmSpParam){var condStatement=this.computeMsg(cond.condition,hmSpParam);return eval(condStatement)}},{key:"computeMsg",value:function(e,t){for(var n=new RegExp("{(.*?)(?=})","g"),r=null,i=new Array;null!==(r=n.exec(e));)i.push(r);for(var o in i){var s=i[o][0].replace("{",""),a=t[s=s.replace("{","")];e=e.replace("{{"+s+"}}","string"==typeof a?"'"+a+"'":a)}return e}}]),MessagesUtilityService}();return MessagesUtilityService.\u0275fac=function(e){return new(e||MessagesUtilityService)},MessagesUtilityService.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new MessagesUtilityService},token:MessagesUtilityService,providedIn:"root"}),MessagesUtilityService}(),msg_rule=[{module:"daily_status",condition:"{{plan_completion}} >=100 && {{total_today}}==0",msgKeys:["sp_ds_planComp","sp_ts_emptyToday"]},{module:"daily_status",condition:"{{plan_completion}} >=100 && {{total_today}}>0",msgKeys:["sp_ds_planComp","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==100  && {{per_stars_today}}<100",msgKeys:["sp_ds_compToday","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==100  && {{per_stars_today}}==100",msgKeys:["sp_ds_compToday_goalComp","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==100  && {{totalUpcomingComp}}>0",msgKeys:["sp_ds_compToday_overflow","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==100 ",msgKeys:["sp_ds_compToday_goalComp","sp_ts_compToday"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}==0 ",msgKeys:["sp_ts_pending","sp_ts_pending"]},{module:"daily_status",condition:"{{available_time_today}} <= 0",msgKeys:["sp_ds_avt_lt_eq_zero","sp_ts_pending"]},{module:"daily_status",condition:"{{available_time_today}}>{{required_time_today_2x}}",msgKeys:["sp_ds_avt_grt_twice_rqt","sp_ts_pending"]},{module:"daily_status",condition:"{{required_time_today}} <= {{available_time_today}} && {{available_time_today}} <= {{required_time_today_2x}}",msgKeys:["sp_ds_rqt_lt_avt_lt_twice_rqt","sp_ts_pending"]},{module:"daily_status",condition:"{{available_time_today}} < {{required_time_today}}",msgKeys:["sp_ds_avt_lt_rqt","sp_ts_pending"]},{module:"daily_status",condition:"{{total_today}}>0 && {{perc_completed_today}}>0  && {{perc_completed_today}}<100 ",msgKeys:["sp_ds_todayPartial","sp_ts_pending"]},{module:"daily_status",condition:"{{total_today}}==0 && {{plan_completion}}<100 ",msgKeys:["sp_ds_todayEmpty","sp_ts_emptyToday"]},{module:"daily_status",condition:"",msgKeys:["sp_ds_default","sp_ts_pending"]}],msg_rule_upcoming=[{module:"upcoming_status",condition:"{{upcoming_length}} > 1",msgKeys:["sp_us_pending"]},{module:"upcoming_status",condition:"{{upcoming_length}} == 1",msgKeys:["sp_us_pending_singular"]},{module:"upcoming_status",condition:"{{upcoming_length}} == 0",msgKeys:["sp_us_planComp"]}],msg_rule_lockDashboard=[{module:"dashboard",condition:"{{type}} == 'bigidea'",msgKeys:["tooltip_bigIdea"]},{module:"dashboard",condition:"{{type}} == 'revise' && {{isFirstRevise}}",msgKeys:["tooltip_revise_seq1"]},{module:"dashboard",condition:"{{type}} == 'revise' && {{isFirstRevise}} == false",msgKeys:["tooltip_revise"]},{module:"dashboard",condition:"{{type}} == 'practice'",msgKeys:["tooltip_practice"]},{module:"dashboard",condition:"{{type}} == 'spacedPractice1'",msgKeys:["tooltip_practice1"]},{module:"dashboard",condition:"{{type}} == 'spacedPractice2'",msgKeys:["tooltip_practice2"]},{module:"dashboard",condition:"{{type}} == 'digital_test'",msgKeys:["tooltip_digitalTest"]},{module:"dashboard",condition:"{{type}} == 'summary'",msgKeys:["tooltip_summary"]},{module:"dashboard",condition:"{{type}} == 'notes'",msgKeys:["tooltip_notes"]}],dictObj={sp_feasiblity:"With {{pending_chp_cnt}} chapters remaining and just {{pending_wk_cnt}} weeks to go, we will need to studi more every day to complete our portion.",sp_ds_planComp:"We have completed the portion for this plan. Let\u2019s add a few more topics to continue studying from this plan.",sp_us_planComp:"We don\u2019t have any tasks coming up.",sp_ts_emptyToday:"We have no tasks planned for today.",sp_ts_compToday:"We have completed all tasks that were planned for today.",sp_ds_compToday:"We have completed all our tasks for the day with time to spare. Let\u2019s use this time to collect the stars you missed.",sp_ds_compToday_goalComp:"We have completed all our tasks for the day with time to spare. Let\u2019s complete a few upcoming tasks so that we can finish the portion earlier than planned.",sp_ds_compToday_overflow:"If we continue studying at this pace, we\u2019re sure to finish the portion earlier than planned.",sp_us_pending:"We have {{upcoming_length}} tasks coming up.",sp_us_pending_singular:"We have 1 task coming up.",sp_ts_pending:"We have {{today_pending}} tasks to complete today.",sp_ds_todayPartial:"We still have {{today_pending}} tasks remaining today. ",sp_ds_todayEmpty:"We have no tasks planned for today. You\u2019re welcome to continue studying from the Syllabus.",sp_ds_default:"Let's target to fill our studi rings well before time today as well.",sp_ds_avt_lt_eq_zero:"Let\u2019s try and complete the portion for today as soon as we can.",sp_ds_avt_grt_twice_rqt:"We still have {{today_pending}} tasks to complete by end of day today. ",sp_ds_rqt_lt_avt_lt_twice_rqt:"Let\u2019s hurry up! We still have {{today_pending}} tasks to complete by end of day today.",sp_ds_avt_lt_rqt:"Let\u2019s try and complete as much as we can in the next {{available_time_today}} minutes.",tooltip_bigIdea:"Complete all pending tasks from previous chapter to unlock this task.",tooltip_revise_seq1:"Complete all pending tasks from previous chapter to unlock this task.",tooltip_revise:"Complete all pending tasks from previous topic to unlock this task.",tooltip_practice:"Complete all pending tasks from previous topic to unlock this task.",tooltip_practice1:"Return on planned date to unlock this time-locked task.",tooltip_practice2:"Return on planned date to unlock this time-locked task.",tooltip_digitalTest:"Complete all pending tasks in this chapter to unlock this task.",tooltip_summary:"Complete all pending tasks in this chapter to unlock this task.",tooltip_notes:"Complete all pending tasks in this chapter to unlock this task."},msg_rule_plan_summary=[{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} == 1 && {{lessons_completed}} == 0 && {{isActivePlan}} == true",msgKeys:["sp_summary_daily_study_time","sp_summary_current_study_week","sp_summary_portion_not_started_single_chapter"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} == 1 && {{lessons_completed}} == 0 && {{isActivePlan}} == false",msgKeys:["sp_summary_daily_study_time_past","inactive_sp_summary_current_study_week","sp_summary_portion_not_started_single_chapter"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} == 1 && {{lessons_completed}} > 0 && {{isActivePlan}} == true",msgKeys:["sp_summary_daily_study_time","sp_summary_current_study_week","sp_summary_single_chapter_remaining"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} == 1 && {{lessons_completed}} > 0 && {{isActivePlan}} == false",msgKeys:["sp_summary_daily_study_time_past","inactive_sp_summary_current_study_week","sp_summary_single_chapter_remaining"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} > 1 && {{isActivePlan}} == true",msgKeys:["sp_summary_daily_study_time","sp_summary_current_study_week","sp_summary_all_chapters_remaining"]},{module:"plan_summary",condition:"{{chapters_completed}} < 1 && {{chapters_total}} > 1 && {{isActivePlan}} == false",msgKeys:["sp_summary_daily_study_time_past","inactive_sp_summary_current_study_week","sp_summary_all_chapters_remaining"]},{module:"plan_summary",condition:"{{chapters_completed}} == {{chapters_total}} && {{currentWeek}} > 1",msgKeys:["sp_summary_daily_study_time_past","sp_summary_current_study_week_past"]},{module:"plan_summary",condition:"{{chapters_completed}} == {{chapters_total}} && {{currentWeek}} == 1",msgKeys:["sp_summary_daily_study_time_past","sp_summary_current_study_week_past_singular"]},{module:"plan_summary",condition:"{{chapters_completed}} < {{chapters_total}} && {{isActivePlan}} == true",msgKeys:["sp_summary_daily_study_time","sp_summary_current_study_week","sp_summary_portion_in_progress"]},{module:"plan_summary",condition:"{{chapters_completed}} < {{chapters_total}} && {{isActivePlan}} == false",msgKeys:["sp_summary_daily_study_time_past","inactive_sp_summary_current_study_week","sp_summary_portion_in_progress"]}],summaryMessagesObj={sp_summary_daily_study_time:"Our goal is to studi {{dailyStudyTimeInFractions}} every day and finish by {{endDate}}.",sp_summary_daily_study_time_past:"Our goal was to studi {{dailyStudyTimeInFractions}} every day and finish by {{endDate}}.",sp_summary_current_study_week:"We are on week {{currentWeek}} of {{lastWeek}}.",sp_summary_current_study_week_past:"We completed this plan in {{currentWeek}} weeks.",sp_summary_current_study_week_past_singular:"We completed this plan in {{currentWeek}} week.",sp_summary_portion_not_started_single_chapter:"1 chapter is remaining.",sp_summary_single_chapter_remaining:"1 of 1 chapter is remaining.",sp_summary_all_chapters_remaining:"All {{chapters_pending}} chapters are remaining.",sp_summary_portion_complete:"Our portion is complete.",sp_summary_portion_in_progress:"{{chapters_pending}} of {{chapters_total}} chapters are remaining.",inactive_sp_summary_current_study_week:"We abandoned this plan on {{abandonedDateStr}}."},MessagesService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.messagesUtilityService=t}return _createClass(e,[{key:"getMessages",value:function(e,t){for(var n=[],r=this.computeState(e,t),i=this.messagesUtilityService.fetchCondition(r,msg_rule),o=i?i.msgKeys:["sp_ds_default","sp_ts_pending"],s=0;s<o.length;++s){var a=this.fetchMsg(o[s],dictObj),u=this.messagesUtilityService.computeMsg(a,r);n.push(u)}for(var c=this.messagesUtilityService.fetchCondition(r,msg_rule_upcoming).msgKeys,l=0;l<c.length;++l){var h=this.fetchMsg(c[l],dictObj),d=this.messagesUtilityService.computeMsg(h,r);n.push(d)}return n}},{key:"computeState",value:function(e,t){var n={};return n.plan_completion=this.computeSPCompletion(e),n.totalUpcomingComp=t.totalUpcomingComp,n.total_today=t.totalLessons,n.perc_completed_today=t.totalTodayLessonsCompleted/t.totalLessons*100,n.today_pending=t.totalLessons-t.totalTodayLessonsCompleted,n.per_stars_today=t.totalStarsAchieved/t.totalStarsTarget*100,n.available_time_today=t.dailyStudyTime-t.timeSpentToday,n.required_time_today=t.requiredTimeToday,n.required_time_today_2x=2*t.requiredTimeToday,n.upcoming_length=t.upcomingLength,n}},{key:"computeSPCompletion",value:function(e){var t=0,n=0;e.map(function(e){t+=e.totalLessons,n+=e.lessonsCompleted});var r=n/t;return 100*(isNaN(r)?0:r)}},{key:"fetchMsg",value:function(e,t){return t[e]}},{key:"getPlanSummaryMessages",value:function(e){for(var t=[],n=this.computeStateForPlanSummary(e),r=this.messagesUtilityService.fetchCondition(n,msg_rule_plan_summary).msgKeys,i=0;i<r.length;++i){var o=this.fetchMsg(r[i],summaryMessagesObj),s=this.messagesUtilityService.computeMsg(o,n);t.push(s)}return{dailyStudyTime:t[0],currentStudyWeek:t[1],studyInstruction:t[2]}}},{key:"getLockMessages",value:function(e){var t=this.messagesUtilityService.fetchCondition(e,msg_rule_lockDashboard);return dictObj[t.msgKeys[0]]}},{key:"computeStateForPlanSummary",value:function(e){return{chapters_total:e.chapters_total,chapters_completed:e.chapters_completed,chapters_pending:e.chapters_pending,dailyStudyTimeInFractions:e.dailyStudyTimeInFractions,endDate:e.endDate,currentWeek:e.currentWeek,lastWeek:e.lastWeek,lessons_completed:e.lessons_completed,isActivePlan:e.isActivePlan,abandonedDateStr:e.abandonedDateStr}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(MessagesUtilityService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(MessagesUtilityService))},token:e,providedIn:"root"}),e}(),PausableObservable=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"pause",value:function(){this.pauser.next(!0)}},{key:"resume",value:function(){this.pauser.next(!1)}}]),n}(rxjs__WEBPACK_IMPORTED_MODULE_16__.a);function pausable(){return function(e){var t=PausableObservable.prototype,n=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a(!1),r=n.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){return t?rxjs__WEBPACK_IMPORTED_MODULE_17__.a:e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_28__.a)())}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_29__.a)());return Object.create(r,{pause:{value:t.pause},resume:{value:t.resume},pauser:{value:n}})}}var CurrentCardDateStateString=function(e){return e.PLAN_NOT_STARTED="plan not started",e.DID_NOT_STUDY="Did not studi",e.PORTION_COMPLETED="Portion completed",e.NO_LESSONS_SCHEDULED="No lessons scheduled",e}({}),CssClasses=function(e){return e.PLAN_DATE="plan-date",e.STARTED="started",e.TODAY="today",e}({}),ScheduleLessonUtilityService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.timeUtilityService=t,this.dateStates={},this.today=new Date}return _createClass(e,[{key:"getDateStates",value:function(e){var t=this;return this.planState=this.getPlanState(e),this.computeHead(e[0].startDate),this.computeTail(e[e.length-1].goalEndDate),e.map(function(n,r){var i=e[r+1];if(n.planCompletionDate){var o=n.planCompletionDate;i?1===t.timeUtilityService.compareTwoDays(new Date(Number(o)),new Date(Number(i.startDate)))||0===t.timeUtilityService.compareTwoDays(new Date(Number(o)),new Date(Number(i.startDate)))?(t.computePortionCompletedDate(o,n.goalEndDate),t.computeNoLessonsScheduled(n.goalEndDate,i.startDate)):t.computePortionCompletedDate(n.planCompletionDate,i.startDate):1===t.timeUtilityService.compareTwoDays(new Date(Number(n.planCompletionDate)),new Date(Number(n.goalEndDate)))?(t.computeNormalDates(n.startDate,o),t.computePortionCompletedDate(o,n.goalEndDate)):t.computeNormalDates(n.startDate,n.goalEndDate)}else t.computeNormalDates(n.startDate,i?i.startDate:n.goalEndDate)}),this.dateStates}},{key:"getPlanState",value:function(e){var t=this;return{startDate:this.timeUtilityService.setZeroHours(new Date(Number(e[0].startDate))),endDate:this.timeUtilityService.setZeroHours(new Date(Number(e[e.length-1].goalEndDate))),todayTime:this.timeUtilityService.setZeroHours(this.today),modifiedDates:e.map(function(e){return t.timeUtilityService.setZeroHours(new Date(Number(e.startDate)))})}}},{key:"computeNormalDates",value:function(e,t){var n=this,r=new Date(this.timeUtilityService.setZeroHours(new Date(Number(e)))),i=this.getDifference(e,t),o=r;i>0&&_toConsumableArray(Array(i)).map(function(){var e=n.getCurrentDateCondition(n.timeUtilityService.setZeroHours(o)),t=n.getCurrentDateCssClasses(e,!0);n.dateStates[n.timeUtilityService.setZeroHours(o)]={label:1===n.timeUtilityService.compareTwoDays(o,n.today)?CurrentCardDateStateString.DID_NOT_STUDY:CurrentCardDateStateString.NO_LESSONS_SCHEDULED,currentDateCondition:e,cssClasses:t},o=n.timeUtilityService.incrementDate(new Date(o),1)})}},{key:"computePortionCompletedDate",value:function(e,t){var n=new Date(this.timeUtilityService.setZeroHours(new Date(Number(e)))),r=this.getDifference(e,t);this.addDateState(n,r,CurrentCardDateStateString.PORTION_COMPLETED,!0)}},{key:"computeNoLessonsScheduled",value:function(e,t){var n=new Date(this.timeUtilityService.setZeroHours(new Date(Number(e)))),r=this.getDifference(e,t);this.addDateState(n,r,CurrentCardDateStateString.NO_LESSONS_SCHEDULED,!0)}},{key:"computeHead",value:function(e){var t=new Date(Number(e)),n=this.timeUtilityService.getStartWeekDate(t),r=this.timeUtilityService.differenceInTwoDays(t,n).days+1;this.addDateState(n,r,CurrentCardDateStateString.PLAN_NOT_STARTED,!1)}},{key:"computeTail",value:function(e){var t=new Date(Number(e)),n=this.timeUtilityService.incrementDate(t,1),r=this.timeUtilityService.getStartWeekDate(n),i=this.timeUtilityService.incrementDate(r,6),o=this.timeUtilityService.differenceInTwoDays(i,n).days+1;this.addDateState(n,o,CurrentCardDateStateString.NO_LESSONS_SCHEDULED,!1)}},{key:"getDifference",value:function(e,t){var n=new Date(this.timeUtilityService.setZeroHours(new Date(Number(e)))),r=new Date(this.timeUtilityService.setZeroHours(new Date(Number(t))));return this.timeUtilityService.differenceInTwoDays(r,n).days+1}},{key:"getCurrentDateCondition",value:function(e){var t=this.planState.endDate===e,n=!0===t&&1===this.timeUtilityService.compareTwoDays(new Date(this.planState.endDate),this.today);return{isToday:this.planState.todayTime===e,isStart:this.planState.startDate===e,isEnd:!n&&t,isEndPast:n,isModified:this.planState.startDate!==e&&this.planState.endDate!==e&&this.planState.modifiedDates.includes(e)}}},{key:"getCurrentDateCssClasses",value:function(e,t){var n=[];return e.isToday&&n.push(CssClasses.TODAY),e.isStart||e.isEnd?n.push(CssClasses.STARTED):t&&n.push(CssClasses.PLAN_DATE),n}},{key:"addDateState",value:function(e,t,n,r){var i=this;t>0&&_toConsumableArray(Array(t)).map(function(){var t=i.getCurrentDateCondition(i.timeUtilityService.setZeroHours(e)),o=i.getCurrentDateCssClasses(t,r);i.dateStates[i.timeUtilityService.setZeroHours(e)]={label:n,currentDateCondition:t,cssClasses:o},e=i.timeUtilityService.incrementDate(new Date(e),1)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(LibTimeUtilityService))},token:e,providedIn:"root"}),e}(),LibAppConfigService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.appConfig=t}return _createClass(e,[{key:"getAppConfig",value:function(){return this.appConfig.default}},{key:"getStudyPlanConfig",value:function(){return this.getAppConfig().studyPlan.config}},{key:"getSubjectTheme",value:function(e){var t=this.getAppConfig().theme.subject,n=t.default;return t.hasOwnProperty(e)&&(n=t[e]),n}},{key:"getSubjectName",value:function(e){var t=this.getAppConfig().subjectName.subject;return t.hasOwnProperty(e)?t[e]:""}},{key:"getCreateSPStepsConfig",value:function(){return this.appConfig.createSPSteps.config}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LIB_APP_CONFIG))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),ConfigLibUrlService=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getBrowseBookProgressUrl",value:function(e){return"activity/1/res/v1/library/".concat(e,"/summary.json")}},{key:"getBrowseBookUserActivityUrl",value:function(e){return"activity/1/res/v1/library/".concat(e,"/book.json")}},{key:"updateLessonUrl",value:function(e){return"studyplan-apis/studyplan/updateSubjectScope/".concat(e)}},{key:"getBrowseBookPutHighlightUrl",value:function(e){return"activity/1/api/v1/library/".concat(e,"/highlights")}},{key:"LogDataUrl",value:function(e,t){return"ledger/1/api/v1/".concat(t,"/").concat(e,"/events")}},{key:"getBrowseBookPutNodeActivitiesUrl",value:function(e,t){return"excluded"==t&&(t="exclude"),"activity/1/api/v1/library/".concat(e,"/").concat(t)}},{key:"getBrowseBookNodeUrl",value:function(){return"activity/1/api/v1/library/books"}},{key:"getBrowseBookResourceUrl",value:function(e){return"content/1/res/v1/library/".concat(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),\u02750$1=appConfig,ConfigLibModule=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({providers:[ConfigLibUrlService,LibAppConfigService,{provide:LIB_APP_CONFIG,useValue:\u02750$1}],imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b]]}),e}(),LedgerService=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.configLibUrlService=t,this.http=n,this.qStatus={0:2,1:3,2:1,3:0,4:4}}return _createClass(e,[{key:"dataEventLog",value:function(e,t,n,r,i){console.log("DataLayerService -> dataEventLog -> eventData, questionData, questionNumber, tqId, lessonData",e,t,n,r,i);var o={sessionId:i.sessionId,lessonType:i.lessonType,lessonId:i.lessonId,section:1,event:2,questionId:t[0].questionID,tqId:r,version:1,type:t[0].data.type,info:{appVer:"web-"+e.info.appVer,event:e.info.event,attempted:this.changeAttemptedOption(e.info.attempted)},attemptCount:e.attemptCount,pending:e.pending,status:this.qStatus[e.parentsQstate],timeSpent:e.timeTaken,duration:t[0].duration,confidence:e.confidence.toFixed(1),score:e.obtainMarks};this.logQuestionData([o],i.moduleId,i.lessonPlayerModule).subscribe(function(e){return console.log(e)})}},{key:"logQuestionData",value:function(e,t,n){return this.http.post(this.configLibUrlService.LogDataUrl(t,n),e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"changeAttemptedOption",value:function(e){var t=this;return e.map(function(e){var n=Object.assign({},e);return n.key=e.qid,n.qState=t.qStatus[e.qState],delete n.qid,delete n.status,n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ConfigLibUrlService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(ConfigLibUrlService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b))},token:e,providedIn:"root"}),e}(),UrlServiceEnum=function(e){return e.AUTH="auth-api",e.PARENT="parent",e.RULES="rules",e.BPM="bpm",e.ACTIVITY="activity",e.CONTENT="content",e.LICENCERULES="lic/rules",e.EXCHANGE="exchange",e.PROFILEPP="profile/pp",e.PROFILEPA="profile/pa",e.PROFILEPR="profile/pr",e.TUTOR="tutor",e}({}),UrlAuthEnum=function(e){return e.PRIVATE="1",e.PUBLIC="0",e}({}),UrlTypeEnum=function(e){return e.API="api",e.RES="res",e}({}),DeviceResolutionEnum=function(e){return e.MOBILE="mobile",e.TABLET="tablet",e.DESKTOP="desktop",e}({}),TqStateEnum=function(e){return e[e.LOCK=0]="LOCK",e[e.UNLOCK=1]="UNLOCK",e[e.SUCCESS_COMPLETED=3]="SUCCESS_COMPLETED",e[e.FAILED_COMPLETED=2]="FAILED_COMPLETED",e}({}),ResourceStateEnum=function(e){return e[e.LOCK=0]="LOCK",e[e.UNLOCK=1]="UNLOCK",e[e.VISITED=2]="VISITED",e[e.COMPLETED=3]="COMPLETED",e}({}),SubResourceStateEnum=function(e){return e[e.LOCK=0]="LOCK",e[e.UNLOCK=1]="UNLOCK",e[e.VISITED=2]="VISITED",e[e.COMPLETED=3]="COMPLETED",e}({}),LessonPlayerNumberTypeEnum=function(e){return e[e.BIGIDEA=1]="BIGIDEA",e[e.REVISE=2]="REVISE",e[e.PRACTICE=3]="PRACTICE",e[e.DIGITAL_TEST=4]="DIGITAL_TEST",e[e.ORAL_TEST=5]="ORAL_TEST",e[e.SUMMARY=8]="SUMMARY",e[e.STUDINOTES=9]="STUDINOTES",e[e.SPACEDPRACTICE1=10]="SPACEDPRACTICE1",e[e.SPACEDPRACTICE2=11]="SPACEDPRACTICE2",e[e.WORKSHEETS=12]="WORKSHEETS",e}({}),LessonPlayerStringTypeEnum=function(e){return e.BIGIDEA="bigIdea",e.REVISE="revise",e.PRACTICE="practice",e.DIGITAL_TEST="test",e.ORAL_TEST="test",e.SUMMARY="summary",e.STUDINOTES="studinotes",e.SPACEDPRACTICE1="practice",e.SPACEDPRACTICE2="practice",e.WORKSHEETS="resources",e}({}),LessonStatusEnum=function(e){return e[e.GENERAL=0]="GENERAL",e[e.NA=1]="NA",e[e.FAIL=2]="FAIL",e[e.SUCCESS=3]="SUCCESS",e[e.LOCKED=4]="LOCKED",e[e.MARK_COMPLETED=5]="MARK_COMPLETED",e}({}),RingUnitsEnum=function(e){return e.GOALS_RING="stars",e.LESSONS_RING="tasks",e.DURATION_RING="mins",e}({}),DateTypes=function(e){return e.TIME="time",e}({}),LoginTypeEnum=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.PARENT=1]="PARENT",e}({}),authUrl={clientId:{url:"/sso/clientid",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API},token:{url:"/sso/token",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API},revoke:{url:"/sso/revoke/{{refreshToken}}",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},extendToken:{url:"/sso/extend",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},generateOTP:{url:"/register/user/pin",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},generateSignInWithOrForgotPasswordOTP:{url:"/sso/user/pin",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},validateOTP:{url:"/sso/register",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},userDetails:{url:"/sso/user/details",serviceType:UrlServiceEnum.AUTH,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},newChildProfile:{url:"/organize/child",serviceType:UrlServiceEnum.BPM,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},childCreationProgress:{url:"/organize/job/{{jobId}}",serviceType:UrlServiceEnum.BPM,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},generateChildPassword:{url:"/organize/child/login",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},validatePromoCode:{url:"/visitor/{{promoCode}}",serviceType:UrlServiceEnum.LICENCERULES,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API},childDetails:{url:"/organize/child",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},changePassword:{url:"/sso/user/password",serviceType:UrlServiceEnum.PROFILEPA,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT}},profileUrl={fetchProfileImg:{url:"/sso/account/profile/{{oId}}.png",serviceType:UrlServiceEnum.EXCHANGE,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES,loginType:LoginTypeEnum.PARENT},uploadProfileImg:{url:"/sso/account/profile/{{oId}}",serviceType:UrlServiceEnum.EXCHANGE,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},generateOrVerifyProfileOTP:{url:"/sso/user/pin",serviceType:UrlServiceEnum.PROFILEPA,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},isParentAuthenticated:{url:"/sso/user/pin",serviceType:UrlServiceEnum.PROFILEPR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getProfileBookList:{url:"/library/books",serviceType:UrlServiceEnum.ACTIVITY,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},updateChildGrade:{url:"/organize/child",serviceType:UrlServiceEnum.PROFILEPP,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT}},subscriptionUrl={planList:{url:"/organize/plans",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},planDetails:{url:"/organize/plans/{{planId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},trialSubscription:{url:"/organize/subscription/trial/{{productId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},placeOfSuppy:{url:"static_json/parent/states.json"},updateZohoCustomer:{url:"/organize/customers",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getZohoPaymentHostedPage:{url:"/organize/hostedpages/{{hostedPageId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},createZohoPaymentHostedPage:{url:"/organize/hostedpages/newsubscription",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},updateZohoPaymentHostedPage:{url:"/organize/hostedpages/updatesubscription",serviceType:UrlServiceEnum.BPM,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},advancePaymentLink:{url:"/organize/hostedpages/advance",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},paymentAbandoned:{url:"/organize/paymentTrack/{{hostedPageId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},billingHistory:{url:"/organize/invoice",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},downloadInvoice:{url:"/organize/invoice/{{invoiceId}}/download",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},downloadReceipt:{url:"/organize/receipt/{{paymentLinkId}}/download",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},validateCouponCode:{url:"/organize/hostedpages/coupons/{{couponCode}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},associatedCouponCode:{url:"/organize/child/{{oId}}/coupons",serviceType:UrlServiceEnum.BPM,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},validateAdvancePaymentForTrial:{url:"/organize/hostedpages/paymentlinks/{{paymentLinkId}}/status",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},subscriptionDetailsForAdvTrial:{url:"/organize/hostedpages/scheduledchanges/{{paymentLinkId}}",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT}},browseBookUrl={getBrowseBookResources:{url:"/library/{{resourceId}}",serviceType:UrlServiceEnum.CONTENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES},getBrowseBookSyllabus:{url:"/library/books",serviceType:UrlServiceEnum.ACTIVITY,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getBrowseBookSummary:{url:"/library/{{bookId}}/summary.json",serviceType:UrlServiceEnum.ACTIVITY,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES},getBrowseBookSequence:{url:"/library/{{bookId}}/sequence.json",serviceType:UrlServiceEnum.CONTENT,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES},getBrowseBookBookDetails:{url:"/library/{{bookId}}/book.json",serviceType:UrlServiceEnum.ACTIVITY,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.RES}},commonUrl={getBoards:{url:"/visitor/boards",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getCurriculums:{url:"/visitor/curriculum",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getGrades:{url:"/visitor/curriculum/grades",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getBookList:{url:"/visitor/curriculum/books",serviceType:UrlServiceEnum.PARENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT},getChapterList:{url:"/library/{{bookId}}/resource/concept/{{bookId}}/demo.json",serviceType:UrlServiceEnum.CONTENT,authType:UrlAuthEnum.PUBLIC,urlType:UrlTypeEnum.RES},locations:{url:"/organize/locations",serviceType:UrlServiceEnum.RULES,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API,loginType:LoginTypeEnum.PARENT}},tutorUrl={lessonMap:{url:"/study/lesson/map",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},lesson:{url:"/study/lesson",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},lessonPriority:{url:"/study/lesson/priority",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},feasibility:{url:"/study/feasibility",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},lessonActivate:{url:"/study/lesson/activate",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getPortionObject:{url:"/study/plan/{{planId}}/portion",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getExtraLessonsFlag:{url:"/study/plan/{{planId}}/extraLesson",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getStudyPlanDashboard:{url:"/study/plan/{{planId}}/dashBoard",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},resumeStudyPlan:{url:"/study/plan/{{planId}}/resume",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API},getStudyPlanObjects:{url:"/study/plans",serviceType:UrlServiceEnum.TUTOR,authType:UrlAuthEnum.PRIVATE,urlType:UrlTypeEnum.API}},url=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},commonUrl),authUrl),profileUrl),subscriptionUrl),browseBookUrl),tutorUrl),AssignmentStatuEnum=function(e){return e[e.NOT_SEEN=0]="NOT_SEEN",e[e.SEEN=1]="SEEN",e[e.COMPLETED=2]="COMPLETED",e[e.DELETED_SOFT=3]="DELETED_SOFT",e}({}),AssignmentConfigTypeEnum=function(e){return e.DEFAULT="default",e.DIGITAL="digital",e.ORAL="oral",e}({}),AssignmentTypeEnum=function(e){return e[e.ORAL_TEST=5]="ORAL_TEST",e[e.MOCK_TEST=6]="MOCK_TEST",e[e.DIGITAL_TEST=4]="DIGITAL_TEST",e[e.TASK=7]="TASK",e}({}),RevisePLayerResourceTypeEnum=function(e){return e.VIDEO="video",e.QUIZ="quiz",e.SUMMARY="summary",e.STUDINOTE="studinote",e.WORKSHEET="worksheet",e}({}),BluePrintEnum=function(e){return e.coverage="coverage",e.KnowledgeState="Knowledge state",e}({}),LessonPlayerDifficultyEnum=function(e){return e.easy="easy",e.medium="medium",e.hard="hard",e}({}),LessonPlayerModeEnum=function(e){return e.practise="practise",e.test="test",e}({}),LessonEndPointModulesEnum=function(e){return e.BROWSEBOOK="bookshelf",e.ASSIGNMENT="assignment",e.STUDYPLAN="study",e}({}),LessonEndPointNumberModulesEnum=function(e){return e[e.BROWSEBOOK=1]="BROWSEBOOK",e[e.ASSIGNMENT=2]="ASSIGNMENT",e[e.STUDYPLAN=3]="STUDYPLAN",e}({}),StudyPlanStatusEnum=function(e){return e.DRAFT="DRAFT",e.INACTIVE="IN_ACTIVE",e.ACTIVE="ACTIVE",e}({}),RingTypesEnum=function(e){return e.GOALS_RING="goals",e.LESSONS_RING="lessons",e.DURATION_RING="duration",e.TICK="tick",e}({}),urlConfig={baseUrl:"",loginType:LoginTypeEnum.DEFAULT,apiVersion:"1"},UrlService=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getUrlRequest",value:function(e){var t=url[e.urlType],n=t.url;(null==e?void 0:e.urlParams)&&lodash__WEBPACK_IMPORTED_MODULE_6__(e.urlParams).map(function(e,t){n=n.replace(new RegExp("{{".concat(t,"}}"),"g"),e)}).value(),n=n.replace(/{{([a-zA-Z1-9]+)}}/g,"undefined");var r="";return((null==e?void 0:e.loginType)&&(null==e?void 0:e.loginType)===LoginTypeEnum.PARENT||t.loginType===LoginTypeEnum.PARENT)&&(r="".concat(r,"/radix")),(t.serviceType||(null==e?void 0:e.urlService))&&(r=(null==e?void 0:e.urlService)?"".concat(r,"/").concat(e.urlService):"".concat(r,"/").concat(t.serviceType)),t.authType&&(r="".concat(r,"/").concat(t.authType)),t.urlType&&(r="".concat(r,"/").concat(t.urlType)),r&&(urlConfig.apiVersion||(null==e?void 0:e.urlVersion))&&(r=e.urlVersion?"".concat(r,"/").concat(e.urlVersion):"".concat(r,"/").concat(urlConfig.apiVersion)),r&&(n="".concat(r).concat(n)),urlConfig.baseUrl&&""!==r&&(n="".concat(urlConfig.baseUrl).concat(n)),console.log("\ud83d\ude80 ~ file: url.service.ts ~ line 80 ~ UrlService ~ currentUrl",n),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),CommonUtility=function(){var e=function(){function e(t){_classCallCheck(this,e),this.remoteConfigService=t,this.confidenceLabels=["low","medium","high","high"],this.notification=new rxjs__WEBPACK_IMPORTED_MODULE_14__.a({})}return _createClass(e,[{key:"notificationAsObservable",get:function(){return this.notification.asObservable()}},{key:"notificationAsBroadCast",value:function(e){this.notification.next(e)}},{key:"convertJSONtoFORMDATA",value:function(e){var t=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.f;return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.forEach)(e,function(e,n){t=t.append(n,e)}),t}},{key:"noAuthHeader",value:function(){var e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return e=e.append("noAuth","true")}},{key:"findAncestorElement",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"getConfidenceLabels",value:function(){return this.confidenceLabels}},{key:"getConfRing",value:function(e,t,n,r){var i;return console.log(e,t,n,r,"accessedOn, completedInSchool, confidence, exclude"),n>0?(console.log("enter in if when confi is greater than 0 in common utility"),i="icon-"+this.getConfidence(n)):t?(console.log("enter in else if when completedInschool ===  common utility"),i="icon-completed-in-school"):(console.log("enter in else if when not studied ===  common utility"),i="icon-not-studied"),r&&(i+=" icon-exclude"),i}},{key:"getConfidenceTooltipData",value:function(e){return{header:{low:"Low Confidence",medium:"Medium Confidence",high:"High Confidence","not-studied":"Not Assessed","completed-in-school":"Completed In School"}[e],text:{low:"We are not so confident on this topic just yet. We require a lot more practise.",medium:"We are confident that we will do moderately well on this topic. Some more practise will help.",high:"We are confident that we\u2019ll do exceptionally well on this topic.","not-studied":"We have not completed a single practise or test on this topic yet.","completed-in-school":"You have completed in school"}[e]}}},{key:"getConfidence",value:function(e){if(0===e)return"not-studied";var t;this.remoteConfigService.confidenceRanges();var n=this.remoteConfigService.remoteConfig.getValue("confidence_range").asString();for(var r in console.log(n,"getconfidenceRange in common utlity service"),t=JSON.parse(n)){var i=_slicedToArray(t[r],2),o=i[0],s=i[1];if(e>=o&&e<=s)return r}}},{key:"shuffleQuestionList",value:function(e){if(e.length>1){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return _toConsumableArray(e)}return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(RemoteConfigService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(RemoteConfigService))},token:e,providedIn:"root"}),e}(),CommonHttp=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.http=t,this.urlService=n,this.commonUtility=r}return _createClass(e,[{key:"getBoards",value:function(){var e=this.urlService.getUrlRequest({urlType:"getBoards",urlVersion:"v1"}),t=this.commonUtility.noAuthHeader();return this.http.get(e,{headers:t})}},{key:"getCurriculums",value:function(e){var t=this.urlService.getUrlRequest({urlType:"getCurriculums",urlVersion:"v1"}),n=this.commonUtility.noAuthHeader();return this.http.get(t,{headers:n,params:{start:"0",length:"20",filterTerms:["boardId:".concat(e)]}}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){return e.data}))}},{key:"getGrades",value:function(e){var t=this.urlService.getUrlRequest({urlType:"getGrades",urlVersion:"v1"}),n=this.commonUtility.noAuthHeader();return this.http.get(t,{headers:n,params:{start:"0",length:"20",filterTerms:["curriculumId:".concat(e)]}}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){return e.data}))}},{key:"getBookList",value:function(e,t){var n=this.urlService.getUrlRequest({urlType:"getBookList",urlVersion:"v1"}),r=this.commonUtility.noAuthHeader();return this.http.get(n,{headers:r,params:{filterTerms:["curriculumId:".concat(t),"gradeId:".concat(e)]}})}},{key:"getChapterList",value:function(e){var t=this.urlService.getUrlRequest({urlType:"getChapterList",urlParams:{bookId:e}}),n=this.commonUtility.noAuthHeader();return this.http.get(t,{headers:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CommonUtility))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(CommonUtility))},token:e,providedIn:"root"}),e}(),AuthenticationService=function(){var e=function(){function e(){_classCallCheck(this,e),this._countryCode="91",this._loginType=parseInt(localStorage.getItem("loginType")),this._currentLoginType=parseInt(localStorage.getItem("currentLoginType")),this._signInAttemptsMap=[];var t=new ClientJS;this._fingerPrint=t.getFingerprint().toString()}return _createClass(e,[{key:"countryCode",get:function(){return this._countryCode},set:function(e){this._countryCode=e}},{key:"username",get:function(){return this._username},set:function(e){this._username=e}},{key:"hashUsername",get:function(){return"XXXX XXX ".concat(this.username.split("").slice(7).join(""))}},{key:"loginType",get:function(){return this._loginType},set:function(e){localStorage.setItem("loginType",e.toString()),this._loginType=e}},{key:"currentLoginType",get:function(){return this._currentLoginType},set:function(e){localStorage.setItem("currentLoginType",e.toString()),this._currentLoginType=e}},{key:"fingerPrint",get:function(){return this._fingerPrint},set:function(e){this._fingerPrint=e}},{key:"parentColumns",get:function(){return["firstName","lastName","status","oid","mobile","email","info1","gstnNo","pincode","state","maxchildren","pwdUpdateOn"]}},{key:"childColumns",get:function(){return["firstName","middleName","lastName","status","oid","info5","syllabus_reset"]}},{key:"mobileWithCountryCode",get:function(){return"".concat(this.countryCode).concat(this.username)}},{key:"forgotPasswordData",get:function(){return this._forgotPasswordData},set:function(e){this._forgotPasswordData=e}},{key:"activeSessionChildDetails",get:function(){return this._activeSessionChildDetails},set:function(e){this._activeSessionChildDetails=e}},{key:"upsertSignInAttempt",value:function(e){var t=this._signInAttemptsMap.findIndex(function(t){return t.mobile===e});if(-1!==t){var n=this._signInAttemptsMap[t];n.attempt=n.attempt+1,this._signInAttemptsMap[t]=n}else this._signInAttemptsMap.push({mobile:e,attempt:1})}},{key:"getSignInAttempt",value:function(e){return this._signInAttemptsMap.find(function(t){return t.mobile===e})}},{key:"getCurrentUserToken",value:function(e){var t=localStorage.getItem("userTokens");if(t){var n=parseInt(e.toString()),r=JSON.parse(t);return lodash__WEBPACK_IMPORTED_MODULE_6__(r).find({type:n})||null}return null}},{key:"onClientIdSuccess",value:function(e){var t=(new Date).getTime()+1e3*(parseInt(e.clientTimeout)-10);localStorage.setItem("refreshTokenTimeOut",t.toString())}},{key:"onTokenSuccess",value:function(e){var t=localStorage.getItem("userTokens"),n=[];if(t){n=JSON.parse(t);var r=lodash__WEBPACK_IMPORTED_MODULE_6__(n).findIndex({type:e.type});r>-1?n[r]=e:n.push(e)}else n.push(e);localStorage.setItem("userTokens",JSON.stringify(n))}},{key:"getFullName",value:function(e){var t=[];return e.user.firstName&&t.push(e.user.firstName),e.user.middleName&&t.push(e.user.middleName),e.user.lastName&&t.push(e.user.lastName),t.join(" ")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),UserProfileActionTypes=function(e){return e.GET_CHILD_USER_PROFILE="[UserProfile] GET_CHILD_USER_PROFILE",e.UPDATE_CHILD_USER_PROFILE="[UserProfile] UPDATE_CHILD_USER_PROFILE",e.UPSERT_CHILD_USER_PROFILE="[UserProfile] UPSERT_CHILD_USER_PROFILE",e.FAILURE_CHILD_USER_PROFILE="[UserProfile] FAILURE_CHILD_USER_PROFILE",e.DELETE_CHILD_USER_PROFILE="[UserProfile] DELETE_CHILD_USER_PROFILE",e.GET_PARENT_USER_PROFILE="[UserProfile] GET_PARENT_USER_PROFILE",e.UPDATE_PARENT_USER_PROFILE="[UserProfile] UPDATE_PARENT_USER_PROFILE",e.UPSERT_PARENT_USER_PROFILE="[UserProfile] UPSERT_PARENT_USER_PROFILE",e.GET_FAILURE_PARENT_USER_PROFILE="[UserProfile] GET_FAILURE_PARENT_USER_PROFILE",e.UPDATE_FAILURE_PARENT_USER_PROFILE="[UserProfile] UPDATE_FAILURE_PARENT_USER_PROFILE",e.DELETE_PARENT_USER_PROFILE="[UserProfile] DELETE_PARENT_USER_PROFILE",e.GET_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] GET_CHILD_LIST_SUBSCRIPTION_DETAILS",e.UPSERT_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] UPSERT_CHILD_LIST_SUBSCRIPTION_DETAILS",e.FAILURE_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] FAILURE_CHILD_LIST_SUBSCRIPTION_DETAILS",e.DELETE_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] DELETE_CHILD_LIST_SUBSCRIPTION_DETAILS",e.EMPTY_CHILD_LIST_SUBSCRIPTION_DETAILS="[UserProfile] EMPTY_CHILD_LIST_SUBSCRIPTION_DETAILS",e.GET_PROFILE_IMAGE="[UserProfile] GET_PROFILE_IMAGE",e.UPLOAD_PROFILE_IMAGE="[UserProfile] UPLOAD_PROFILE_IMAGE",e.UPSERT_PROFILE_IMAGE_ON_GET="[UserProfile] UPSERT_PROFILE_IMAGE_ON_GET",e.UPSERT_PROFILE_IMAGE_ON_POST="[UserProfile] UPSERT_PROFILE_IMAGE_ON_POST",e.FAILURE_GET_PROFILE_IMAGE="[UserProfile] FAILURE_GET_PROFILE_IMAGE",e.FAILURE_POST_PROFILE_IMAGE="[UserProfile] FAILURE_POST_PROFILE_IMAGE",e.DELETE_PROFILE_IMAGE="[UserProfile] DELETE_PROFILE_IMAGE",e.UPSERT_FETCH_STATUS_PROFILE_IMAGE="[UserProfile] UPSERT_FETCH_STATUS_PROFILE_IMAGE",e.REMOVEALL_PROFILE_DETAILS="[UserProfile] REMOVEALL_PROFILE_DETAILS",e}({}),getChildUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_CHILD_USER_PROFILE),updateChildUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPDATE_CHILD_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertChildUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_CHILD_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteChildUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.DELETE_CHILD_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getChildUserProfileFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.FAILURE_CHILD_USER_PROFILE),getParentUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_PARENT_USER_PROFILE),updateParentUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPDATE_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertParentUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteParentUserProfile=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.DELETE_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getParentUserProfileFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_FAILURE_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),updateParentUserProfileFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPDATE_FAILURE_PARENT_USER_PROFILE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getChildListSubscriptionDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_CHILD_LIST_SUBSCRIPTION_DETAILS),upsertChildListSubscriptionDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_CHILD_LIST_SUBSCRIPTION_DETAILS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteChildListSubscriptionDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.DELETE_CHILD_LIST_SUBSCRIPTION_DETAILS),getChildListSubscriptionDetailsFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.FAILURE_CHILD_LIST_SUBSCRIPTION_DETAILS),emptyChildListSubscriptionDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.EMPTY_CHILD_LIST_SUBSCRIPTION_DETAILS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getProfileImage=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.GET_PROFILE_IMAGE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),uploadProfileImage=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPLOAD_PROFILE_IMAGE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertProfileImageOnGet=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_PROFILE_IMAGE_ON_GET,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertProfileImageOnPost=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_PROFILE_IMAGE_ON_POST,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteProfileImage=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.DELETE_PROFILE_IMAGE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),getProfileImageFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.FAILURE_GET_PROFILE_IMAGE),postProfileImageFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.FAILURE_POST_PROFILE_IMAGE),upsertFetchStatusProfileImage=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.UPSERT_FETCH_STATUS_PROFILE_IMAGE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),removeAllProfileDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(UserProfileActionTypes.REMOVEALL_PROFILE_DETAILS),fromUserProfileActions={getChildUserProfile:getChildUserProfile,updateChildUserProfile:updateChildUserProfile,upsertChildUserProfile:upsertChildUserProfile,deleteChildUserProfile:deleteChildUserProfile,getChildUserProfileFailed:getChildUserProfileFailed,getParentUserProfile:getParentUserProfile,updateParentUserProfile:updateParentUserProfile,upsertParentUserProfile:upsertParentUserProfile,deleteParentUserProfile:deleteParentUserProfile,getParentUserProfileFailed:getParentUserProfileFailed,updateParentUserProfileFailed:updateParentUserProfileFailed,getChildListSubscriptionDetails:getChildListSubscriptionDetails,upsertChildListSubscriptionDetails:upsertChildListSubscriptionDetails,deleteChildListSubscriptionDetails:deleteChildListSubscriptionDetails,getChildListSubscriptionDetailsFailed:getChildListSubscriptionDetailsFailed,emptyChildListSubscriptionDetails:emptyChildListSubscriptionDetails,getProfileImage:getProfileImage,uploadProfileImage:uploadProfileImage,upsertProfileImageOnGet:upsertProfileImageOnGet,upsertProfileImageOnPost:upsertProfileImageOnPost,deleteProfileImage:deleteProfileImage,getProfileImageFailed:getProfileImageFailed,postProfileImageFailed:postProfileImageFailed,upsertFetchStatusProfileImage:upsertFetchStatusProfileImage,removeAllProfileDetails:removeAllProfileDetails},defaultChildListSubscriptionDetails={ids:[],entities:{}},childListSubscriptionDetailsAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),childListSubscriptionDetailsEntityState=childListSubscriptionDetailsAdapter.getInitialState(defaultChildListSubscriptionDetails),defaultProfileImage={ids:[],entities:{}},\u02750$2=function(e){return e.oId},profileImageAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$2}),profileImageEntityState=profileImageAdapter.getInitialState(defaultProfileImage),initialState={childListIsEmpty:!1,childListSubscriptionDetails:childListSubscriptionDetailsEntityState,parentUserProfile:null,childUserProfile:null,profileImage:profileImageEntityState},fromUserProfileState={defaultChildListSubscriptionDetails:defaultChildListSubscriptionDetails,childListSubscriptionDetailsAdapter:childListSubscriptionDetailsAdapter,defaultProfileImage:defaultProfileImage,profileImageAdapter:profileImageAdapter,profileImageEntityState:profileImageEntityState,initialState:initialState},StoreStateEnum=function(e){return e.browseBook="browseBook",e.myLesson="myLesson",e.revisePlayer="revisePlayer",e.assignment="assignment",e.note="note",e.userProfile="userProfile",e}({}),getUserProfileState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.userProfile),\u02750$3=function(e){return e.childUserProfile},selectChildProfileDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,\u02750$3),\u02751=function(e){return e.parentUserProfile},selectParentProfileDetails=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,\u02751),\u02752=function(e){return e.childListIsEmpty},selectEmptyChildListSubscriptionDetailsStatus=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,\u02752),_fromUserProfileState=fromUserProfileState.childListSubscriptionDetailsAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,function(e){return e.childListSubscriptionDetails})),selectChildListSubscriptionDetails=_fromUserProfileState.selectAll,\u02753=function(e,t){var n=t.filter(function(t){return t.id!==(null==e?void 0:e.userSettings.oid)});return{active:t.find(function(t){return t.id===(null==e?void 0:e.userSettings.oid)}),filtered:n}},selectFilteredChildList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectChildProfileDetails,selectChildListSubscriptionDetails,\u02753),_fromUserProfileState2=fromUserProfileState.profileImageAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getUserProfileState,function(e){return e.profileImage})),selectProfileImage=_fromUserProfileState2.selectAll,\u02754=function(e,t){var n=e.find(function(e){return e.oId===t.oId});return{oId:t.oId,image:(null==n?void 0:n.image)||null,fetchStatus:(null==n?void 0:n.fetchStatus)||"INACTIVE"}},selectProfileImageById=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectProfileImage,\u02754),fromUserProfileSelectors={getUserProfileState:getUserProfileState,selectChildProfileDetails:selectChildProfileDetails,selectParentProfileDetails:selectParentProfileDetails,selectEmptyChildListSubscriptionDetailsStatus:selectEmptyChildListSubscriptionDetailsStatus,selectChildListSubscriptionDetails:selectChildListSubscriptionDetails,selectFilteredChildList:selectFilteredChildList,selectProfileImage:selectProfileImage,selectProfileImageById:selectProfileImageById},ProfileService=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.actionsSubject=t,this.libTimeUtilityService=n,this.store=r}return _createClass(e,[{key:"genericProfileImage",get:function(){return"assets/images/register/profile-img.png"}},{key:"getPlanDescription",value:function(e){var t,n=e.products[0],r=null==n?void 0:n.status,i="";if(r){console.log(n,r);var o=new Date,s=(null===(t=e.products[0])||void 0===t?void 0:t.expiry)?new Date(e.products[0].expiry):o,a=this.libTimeUtilityService.differenceInTwoDays(s,o).days;e.products[0].remaningDays=a>0?a:0;var u=n.planName;r===ZohoSubscriptionStatus.TRIAL||r===ZohoSubscriptionStatus.LIVE||r===ZohoSubscriptionStatus.ACTIVE?i=0===a?"Our subscription ends today!":1===a?"Our subscription ends in 1 day!":"Our subscription ends in ".concat(a," days!"):r===ZohoSubscriptionStatus.TRIAL_EXPIRED||r===ZohoSubscriptionStatus.EXPIRED||r===ZohoSubscriptionStatus.IN_ACTIVE?i="Your ".concat(u," plan has expired"):r===ZohoSubscriptionStatus.TRIAL||r===ZohoSubscriptionStatus.LIVE||r===ZohoSubscriptionStatus.ACTIVE?i="Your ".concat(u," plan is active"):r===ZohoSubscriptionStatus.CANCELLED&&(i="Your ".concat(u," plan was cancelled"))}else i="You have no active plan!";return i}},{key:"getChildFullName",value:function(e){return this.getFullName(null==e?void 0:e.firstName,null==e?void 0:e.mName,null==e?void 0:e.lastName)}},{key:"getParentFullName",value:function(e){return this.getFullName(null==e?void 0:e.user.firstName,null==e?void 0:e.user.middleName,null==e?void 0:e.user.lastName)}},{key:"getFullName",value:function(e,t,n){var r=[];return e&&r.push("Not Set"===e?"":e),t&&r.push("Not Set"===t?"":t),n&&r.push("Not Set"===n?"":n),r.join(" ").trim()}},{key:"parentProfileDetails",value:function(){var e=this;return this.store.select(fromUserProfileSelectors.selectParentProfileDetails).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(t){return t?Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(t):(console.log("DISPATCHED ACTION TO FETCH PARENT PROFILE DETAILS!"),e.store.dispatch(fromUserProfileActions.getParentUserProfile()),e.actionsSubject.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.upsertParentUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(){return e.store.select(fromUserProfileSelectors.selectParentProfileDetails)})))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1))}},{key:"childProfileDetails",value:function(){var e=this;return this.store.select(fromUserProfileSelectors.selectChildProfileDetails).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.a)(function(t){t||(console.log("DISPATCHED ACTION TO FETCH CHILD PROFILE DETAILS!"),e.store.dispatch(fromUserProfileActions.getChildUserProfile()))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.a)(function(e){return!!e}))}},{key:"childListSubscriptionDetails",value:function(){var e=this;return this.store.select(fromUserProfileSelectors.selectChildListSubscriptionDetails).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(t){if(0===t.length){var n=e.store.select(fromUserProfileSelectors.selectEmptyChildListSubscriptionDetailsStatus).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(t){return t?e.actionsSubject.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.emptyChildListSubscriptionDetails),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)([])})):e.actionsSubject.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.upsertChildListSubscriptionDetails),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(){return e.store.select(fromUserProfileSelectors.selectChildListSubscriptionDetails)}))}));return console.log("DISPATCHED ACTION TO FETCH CHILD SUBSCRIPTION DETAILS!"),e.store.dispatch(fromUserProfileActions.getChildListSubscriptionDetails()),n}return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.a),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(LibTimeUtilityService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c))},token:e,providedIn:"root"}),e}(),AuthenticationHttp=function(){var e=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.http=t,this.urlService=n,this.commonUtility=r,this.authenticationService=i,this.profileService=o}return _createClass(e,[{key:"clientId",value:function(e){var t=this.urlService.getUrlRequest({urlType:"clientId",loginType:e}),n=this.commonUtility.noAuthHeader();return n=n.append("x-log-error","fire-base-log"),this.http.get(t,{headers:n})}},{key:"token",value:function(e,t,n){var r=this.urlService.getUrlRequest({urlType:"token",loginType:e}),i=this.commonUtility.noAuthHeader();return i=(i=i.append("Content-Type","application/x-www-form-urlencoded")).append("x-log-error","fire-base-log"),n&&(i=i.append("fingerPrint",n)),this.http.post(r,this.commonUtility.convertJSONtoFORMDATA(t),{headers:i})}},{key:"revokeToken",value:function(e,t){var n=this.urlService.getUrlRequest({urlType:"revoke",loginType:e,urlParams:{refreshToken:null==t?void 0:t.refresh_token}});return this.http.delete(n)}},{key:"generateOTP",value:function(e){var t=this.urlService.getUrlRequest({urlType:"generateOTP"}),n=this.commonUtility.noAuthHeader();return n=n.append("x-log-error","fire-base-log"),this.http.get(t,{headers:n,params:{userName:e}})}},{key:"generateSignInWithOrForgotPasswordOTP",value:function(e){var t=this.urlService.getUrlRequest({urlType:"generateSignInWithOrForgotPasswordOTP"}),n=this.commonUtility.noAuthHeader();return n=n.append("x-log-error","fire-base-log"),this.http.get(t,{headers:n,params:e})}},{key:"validateOTP",value:function(e,t,n){var r=this.urlService.getUrlRequest({urlType:"validateOTP",urlVersion:"v2"}),i=this.commonUtility.noAuthHeader();return i=i.append("x-log-error","fire-base-log"),this.http.post(r,{userName:t,otp:e,email:n},{headers:i})}},{key:"validatePromoCode",value:function(e){var t=this.urlService.getUrlRequest({urlType:"validatePromoCode",urlParams:{promoCode:e}}),n=this.commonUtility.noAuthHeader();return n=n.append("x-log-error","fire-base-log"),this.http.get(t,{headers:n})}},{key:"getUserDetails",value:function(e,t){var n=this,r=this.urlService.getUrlRequest({urlType:"userDetails",loginType:e}),i=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return i=i.append("x-log-error","fire-base-log"),this.http.get(r,{headers:i,params:t}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){var t,r;e.user.fullName=n.authenticationService.getFullName(e);var i=null===(t=e)||void 0===t?void 0:t.userSettings.info5,o=null===(r=e)||void 0===r?void 0:r.userSettings.syllabus_reset;return i&&(e.userSettings.info5=JSON.parse(i)),o&&(e.userSettings.syllabus_reset=parseInt(o)),e}))}},{key:"updateUserDetails",value:function(e,t,n){var r=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;r=r.append("x-log-error","fire-base-log");var i=this.urlService.getUrlRequest({urlType:"userDetails",urlService:n,loginType:e});return this.http.put(i,t,{headers:r})}},{key:"createNewChildProfile",value:function(e){var t=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;t=t.append("x-log-error","fire-base-log");var n=this.urlService.getUrlRequest({urlType:"newChildProfile",urlVersion:"v1"});return this.http.post(n,e,{headers:t})}},{key:"getChildCreationProgress",value:function(e,t){var n=this,r=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;r=r.append("x-log-error","fire-base-log");var i=this.urlService.getUrlRequest({urlType:"childCreationProgress",urlVersion:"v1",urlParams:{jobId:t}});return Object(rxjs__WEBPACK_IMPORTED_MODULE_18__.a)(0,e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(){return n.http.get(i,{headers:r})}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_33__.a)())}},{key:"generateChildPassword",value:function(e,t){var n=this.urlService.getUrlRequest({urlType:"generateChildPassword",urlVersion:"v2"});return this.http.get(n,{params:e,headers:{fingerPrint:t,"x-log-error":"fire-base-log"}})}},{key:"lastLoggedInChildDetails",value:function(e){var t=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;t=t.append("x-log-error","fire-base-log");var n=this.urlService.getUrlRequest({urlType:"childDetails",urlVersion:"v2"});return this.http.get(n,{headers:{fingerPrint:e,"x-log-error":"fire-base-log"}})}},{key:"getChildListSubscriptionDetails",value:function(){var e=this,t=this.urlService.getUrlRequest({urlType:"childDetails",urlVersion:"v1"}),n=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return n=n.append("x-log-error","fire-base-log"),this.http.get(t,{headers:n}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(t){return t.map(function(t){return t.subscriptionMessage=e.profileService.getPlanDescription(t),t.fullName=e.profileService.getChildFullName(t),t})}))}},{key:"changePassword",value:function(e,t){var n=this.urlService.getUrlRequest({urlType:"changePassword"}),r=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return r=r.append("x-log-error","fire-base-log"),this.http.put(n,{op:"REPLACE",idParam:null,oldpassword:e,newpassword:t},{headers:r})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CommonUtility),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AuthenticationService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ProfileService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(CommonUtility),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(AuthenticationService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(ProfileService))},token:e,providedIn:"root"}),e}(),ProfileHttp=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.urlService=n}return _createClass(e,[{key:"getProfileImage",value:function(e){var t=this.urlService.getUrlRequest({urlType:"fetchProfileImg",urlVersion:"v1",urlParams:{oId:e}});return this.http.get(t,{responseType:"blob"}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(e){return new rxjs__WEBPACK_IMPORTED_MODULE_16__.a(function(t){var n=new FileReader;n.onloadend=function(){t.next(n.result),t.complete()},n.readAsDataURL(e)})}))}},{key:"uploadProfileImage",value:function(e,t){var n=new FormData,r=this.urlService.getUrlRequest({urlType:"uploadProfileImg",urlVersion:"v1",urlParams:{oId:e}});return n.append("profile",t),this.http.post(r,n)}},{key:"generateOTP",value:function(){var e=this.urlService.getUrlRequest({urlType:"generateOrVerifyProfileOTP",urlVersion:"v1"});return this.http.get(e,{observe:"response"})}},{key:"verifyOTP",value:function(e){var t=this.urlService.getUrlRequest({urlType:"generateOrVerifyProfileOTP",urlVersion:"v1"});return this.http.delete(t,{params:{pin:e}})}},{key:"validateIsParentAuthenticated",value:function(){var e=this.urlService.getUrlRequest({urlType:"isParentAuthenticated",urlVersion:"v1"});return this.http.get(e)}},{key:"getBookList",value:function(){var e=this.urlService.getUrlRequest({urlType:"getProfileBookList",urlVersion:"v1"});return this.http.get(e)}},{key:"updateChildGrade",value:function(e,t){var n=this.urlService.getUrlRequest({urlType:"updateChildGrade",urlVersion:"v1"});return this.http.put(n,e,{params:{childOId:t}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService))},token:e,providedIn:"root"}),e}(),SubscriptionsHttp=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.urlService=n}return _createClass(e,[{key:"getPlanList",value:function(e){var t=this.urlService.getUrlRequest({urlType:"planList",urlVersion:"v2"});return this.http.get(t,{params:e})}},{key:"getPlanDetails",value:function(e){var t=this.urlService.getUrlRequest({urlType:"planDetails",urlVersion:"v1",urlParams:{planId:e}});return this.http.get(t)}},{key:"createTrialSubscription",value:function(e,t){var n=this.urlService.getUrlRequest({urlType:"trialSubscription",urlVersion:"v1",urlParams:{productId:e}});return this.http.post(n,t)}},{key:"getPlaceOfSuppy",value:function(){var e=this.urlService.getUrlRequest({urlType:"placeOfSuppy"});return this.http.get(e)}},{key:"updateZohoCustomer",value:function(e){var t=this.urlService.getUrlRequest({urlType:"updateZohoCustomer",urlVersion:"v1"});return this.http.put(t,e)}},{key:"getZohoPaymentHostedPage",value:function(e){var t=this.urlService.getUrlRequest({urlType:"getZohoPaymentHostedPage",urlVersion:"v1",urlParams:{hostedPageId:e}});return this.http.get(t)}},{key:"createZohoPaymentHostedPage",value:function(e){var t=this.urlService.getUrlRequest({urlType:"createZohoPaymentHostedPage",urlVersion:"v1"});return this.http.post(t,e)}},{key:"updateZohoPaymentHostedPage",value:function(e){var t=this.urlService.getUrlRequest({urlType:"updateZohoPaymentHostedPage",urlVersion:"v1"});return this.http.post(t,e)}},{key:"advancePaymentLink",value:function(e){var t=this.urlService.getUrlRequest({urlType:"advancePaymentLink",urlVersion:"v1"});return this.http.post(t,e)}},{key:"paymentAbandoned",value:function(e){var t=this.urlService.getUrlRequest({urlType:"paymentAbandoned",urlVersion:"v1",urlParams:{hostedPageId:e}});return this.http.put(t,{paymentStatus:3})}},{key:"billingHistory",value:function(e){var t=this.urlService.getUrlRequest({urlType:"billingHistory",urlVersion:"v1"});return this.http.get(t,{params:e})}},{key:"downloadInvoice",value:function(e){var t=this.urlService.getUrlRequest({urlType:"downloadInvoice",urlVersion:"v1",urlParams:{invoiceId:e}}),n=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return n=n.set("Accept","application/pdf"),this.http.get(t,{headers:n,responseType:"blob",params:{accept:"pdf"}})}},{key:"downloadReceipt",value:function(e){var t=this.urlService.getUrlRequest({urlType:"downloadReceipt",urlVersion:"v1",urlParams:{paymentLinkId:e}}),n=new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.e;return n=n.set("Accept","application/pdf"),this.http.get(t,{headers:n,responseType:"blob",params:{accept:"pdf"}})}},{key:"validateCouponCode",value:function(e){var t=this.urlService.getUrlRequest({urlType:"validateCouponCode",urlVersion:"v1",urlParams:{couponCode:e}});return this.http.get(t)}},{key:"getAssociatedCouponCode",value:function(e){var t=this.urlService.getUrlRequest({urlType:"associatedCouponCode",urlVersion:"v1",urlParams:{oId:e}});return this.http.get(t)}},{key:"validateAdvancePaymentForTrial",value:function(e){var t=this.urlService.getUrlRequest({urlType:"validateAdvancePaymentForTrial",urlVersion:"v1",urlParams:{paymentLinkId:e}});return this.http.get(t)}},{key:"subscriptionDetailsForAdvTrial",value:function(e){var t=this.urlService.getUrlRequest({urlType:"subscriptionDetailsForAdvTrial",urlVersion:"v1",urlParams:{paymentLinkId:e}});return this.http.get(t)}},{key:"verifyPincode",value:function(e){var t={filterTerms:"pincode:".concat(e)},n=this.urlService.getUrlRequest({urlType:"locations",urlVersion:"v1"});return this.http.get(n,{params:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService))},token:e,providedIn:"root"}),e}(),BrowseBookHttp=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.urlService=n}return _createClass(e,[{key:"getResources",value:function(e){console.log("\ud83d\ude80 ~ file: browse-book.http.ts ~ line 18 ~ BrowseBookHttp ~ getResources ~ resourceId",e);var t=this.urlService.getUrlRequest({urlType:"getBrowseBookResources",urlVersion:"v1",urlParams:{resourceId:e}});return this.http.get(t)}},{key:"getSyllabus",value:function(){var e=this.urlService.getUrlRequest({urlType:"getBrowseBookSyllabus",urlVersion:"v1"});return this.http.get(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(UrlService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(UrlService))},token:e,providedIn:"root"}),e}(),TceBgFooterLogoComponent=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb({type:e,selectors:[["nx-afs-tce-bg-footer-logo"]],decls:32,vars:0,consts:[["width","90px","height","88px","viewBox","0 0 90 88","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["x","-11.4%","y","-11.4%","width","122.9%","height","122.9%","filterUnits","objectBoundingBox","id","filter-1"],["dx","0","dy","2","in","SourceAlpha","result","shadowOffsetOuter1"],["stdDeviation","2","in","shadowOffsetOuter1","result","shadowBlurOuter1"],["values","0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0","type","matrix","in","shadowBlurOuter1","result","shadowMatrixOuter1"],["in","shadowMatrixOuter1"],["in","SourceGraphic"],["id","","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","","transform","translate(-107.000000, -609.000000)","fill-rule","nonzero"],["id","Group","transform","translate(-16.000000, 0.000000)"],["id","Tata-Class-Edge-Logo","filter","url(#filter-1)","transform","translate(115.000000, 600.000000)"],["id","Group-2","transform","translate(8.000000, 9.000000)"],["id","Layer_1"],["id","Rectangle","fill","#000000","x","19.6257042","y","22.0753521","width","7.3584507","height","23.6661972"],["d","M16.1778169,51.2524648 C10.8602113,51.2524648 7.07007042,55.2739437 7.07007042,60.5566901 L7.07007042,60.6200704 C7.07007042,66.1309859 10.9901408,69.7943662 16.7926056,69.7943662 C20.6176056,69.7943662 23.1147887,68.2035211 24.8640845,65.9376761 L20.9091549,62.7908451 C19.7429577,63.9919014 18.6401408,64.6035211 17.3123239,64.6035211 C15.7214789,64.6035211 14.4919014,63.7954225 13.9721831,62.2394366 L25.3521127,62.2394366 C25.3869718,61.8528169 25.3869718,61.3996479 25.3869718,61.0098592 C25.3869718,55.6320423 22.4683099,51.2524648 16.1778169,51.2524648 Z M13.8771127,59.0007042 C14.1021127,57.381338 14.9799296,56.3450704 16.2126761,56.3450704 C17.5088028,56.3450704 18.5133803,57.3147887 18.675,59.0007042 L13.8771127,59.0007042 Z","id","Shape","fill","#1268B3"],["d","M39.9169014,47.4369718 L39.9169014,53.6830986 C38.7823944,52.421831 37.2897887,51.2524648 34.5992958,51.2524648 C30.4193662,51.2524648 27.0475352,54.9792254 27.0475352,60.5883803 L27.0475352,60.6549296 C27.0475352,66.0676056 30.3876761,69.7943662 34.6658451,69.7943662 C37.353169,69.7943662 38.7158451,68.4982394 39.9169014,67.2021127 L39.9169014,69.3728873 L47.2785211,69.3728873 L47.2785211,45.7383803 L47.2816901,45.7383803 L47.2816901,40.040493 L39.9169014,47.4369718 Z M40.0785211,60.5598592 C40.0785211,62.3408451 38.8140845,63.7383803 37.128169,63.7383803 C35.4422535,63.7383803 34.1778169,62.3408451 34.1778169,60.5598592 L34.1778169,60.4964789 C34.1778169,58.7123239 35.4422535,57.3147887 37.128169,57.3147887 C38.8140845,57.3147887 40.0785211,58.7408451 40.0785211,60.4964789 L40.0785211,60.5598592 Z","id","Shape","fill","#1268B3"],["d","M62.0049296,53.556338 C60.7088028,52.2285211 59.1876761,51.2524648 56.5890845,51.2524648 C52.5073944,51.2524648 49.1323944,54.5292254 49.1323944,59.4887324 L49.1323944,59.5521127 C49.1323944,64.4514085 52.4408451,67.6869718 57.0105634,67.6869718 C59.4728873,67.6869718 61.1271127,66.3908451 62.1316901,65.256338 L62.1316901,65.7728873 C62.1316901,68.2383803 60.6739437,69.6644366 57.9169014,69.6644366 C55.4862676,69.6644366 53.5088028,69.0116197 51.531338,67.9785211 L49.2591549,72.4183099 C52.1144366,73.8475352 55.1598592,74.6239437 59.0830986,74.6239437 C63.0348592,74.6239437 65.468662,73.6193662 67.056338,72.0285211 C68.6757042,70.4091549 69.3602113,68.171831 69.3602113,64.8982394 L69.3602113,51.6707746 L62.0017606,51.6707746 L62.0017606,53.556338 L62.0049296,53.556338 Z M62.1665493,59.5204225 C62.1665493,61.0732394 61.0320423,62.3059859 59.2161972,62.3059859 C57.4320423,62.3059859 56.2658451,61.1049296 56.2658451,59.5838028 L56.2658451,59.5204225 C56.2658451,57.9644366 57.4003521,56.7 59.2161972,56.7 C60.9971831,56.7 62.1665493,57.9295775 62.1665493,59.4570423 L62.1665493,59.5204225 Z","id","Shape","fill","#1268B3"],["d","M89.4612676,61.0130282 C89.4612676,55.6320423 86.5426056,51.2524648 80.2552817,51.2524648 C74.9376761,51.2524648 71.1443662,55.2739437 71.1443662,60.5566901 L71.1443662,60.6200704 C71.1443662,66.1309859 75.0676056,69.7943662 80.8669014,69.7943662 C84.6950704,69.7943662 87.1890845,68.2035211 88.9383803,65.9376761 L84.9834507,62.7908451 C83.8140845,63.9919014 82.7112676,64.6035211 81.3834507,64.6035211 C79.7957746,64.6035211 78.5630282,63.7954225 78.0433099,62.2394366 L89.4232394,62.2394366 C89.4612676,61.8559859 89.4612676,61.3996479 89.4612676,61.0130282 Z M77.9514085,59.0007042 C78.1795775,57.381338 79.0542254,56.3450704 80.2869718,56.3450704 C81.5830986,56.3450704 82.5876761,57.3147887 82.7492958,59.0007042 L77.9514085,59.0007042 Z","id","Shape","fill","#1268B3"],["d","M45.4341549,30.0517606 C43.878169,28.4957746 41.5426056,27.7510563 37.9457746,27.7510563 C34.865493,27.7510563 32.5299296,28.2676056 30.4890845,29.0471831 L31.7852113,33.9401408 C33.3411972,33.3253521 34.865493,32.9355634 36.681338,32.9355634 C38.9503521,32.9355634 39.9549296,33.8735915 39.9549296,35.4961268 L39.9549296,35.7876761 C39.1753521,35.4644366 37.2644366,35.1380282 35.771831,35.1380282 C31.6552817,35.1380282 29.028169,37.115493 29.028169,40.6489437 L29.028169,40.715493 C29.028169,44.2140845 31.4271127,46.1598592 34.8306338,46.1598592 C37.0362676,46.1598592 38.690493,45.2852113 39.9200704,43.9573944 L47.2785211,36.6052817 L47.2785211,35.6577465 C47.2785211,33.1003521 46.7588028,31.3795775 45.4341549,30.0517606 Z M40.0183099,39.1911972 C40.0183099,40.8771127 39.0454225,41.9165493 37.7492958,41.9165493 C36.8080986,41.9165493 36.0665493,41.2320423 36.0665493,40.1989437 L36.0665493,40.1323944 C36.0665493,39.0327465 36.8746479,38.1549296 38.3355634,38.1549296 C38.9503521,38.1549296 39.6,38.2848592 40.0183099,38.4496479 L40.0183099,39.1911972 Z","id","Shape","fill","#000000"],["d","M65.1992958,40.0024648 C65.1992958,36.3707746 62.5088028,35.1380282 58.0341549,34.0383803 C56.25,33.5852113 55.8602113,33.3570423 55.8602113,32.9989437 L55.8602113,32.9355634 C55.8602113,32.5774648 56.1834507,32.3841549 56.8964789,32.3841549 C58.3890845,32.3841549 60.6580986,32.9989437 62.5373239,34.0352113 L64.8728873,29.6588028 C62.7306338,28.3626761 59.846831,27.6179577 56.931338,27.6179577 C52.3267606,27.6179577 49.2147887,29.7887324 49.2147887,33.6802817 L49.2147887,33.743662 C49.2147887,37.4070423 51.971831,38.6049296 56.4433099,39.7077465 C58.2274648,40.1640845 58.5507042,40.3922535 58.5507042,40.7471831 L58.5507042,40.8073944 C58.5507042,41.2288732 58.1957746,41.396831 57.4795775,41.396831 C55.4704225,41.396831 53.0714789,40.7471831 50.9323944,39.4161972 L48.4352113,43.5992958 C50.9609155,45.2852113 54.0760563,46.1598592 57.5112676,46.1598592 C62.3091549,46.1598592 65.1961268,43.9225352 65.1961268,40.0658451 L65.1961268,40.0024648 L65.1992958,40.0024648 Z","id","Path","fill","#000000"],["d","M75.5017606,34.0383803 C73.7207746,33.5852113 73.3278169,33.3570423 73.3278169,32.9989437 L73.3278169,32.9355634 C73.3278169,32.5774648 73.6510563,32.3841549 74.3640845,32.3841549 C75.8566901,32.3841549 78.1257042,32.9989437 80.0049296,34.0352113 L82.340493,29.6588028 C80.1982394,28.3626761 77.3144366,27.6179577 74.3957746,27.6179577 C69.7943662,27.6179577 66.6792254,29.7887324 66.6792254,33.6802817 L66.6792254,33.743662 C66.6792254,37.4070423 69.4362676,38.6049296 73.9077465,39.7077465 C75.6919014,40.1640845 76.0151408,40.3922535 76.0151408,40.7471831 L76.0151408,40.8073944 C76.0151408,41.2288732 75.6602113,41.396831 74.9440141,41.396831 C72.9348592,41.396831 70.5359155,40.7471831 68.396831,39.4161972 L65.8996479,43.5992958 C68.4285211,45.2852113 71.543662,46.1598592 74.9788732,46.1598592 C79.7767606,46.1598592 82.6605662,43.9225352 82.6605662,40.0658451 L82.6605662,40.0024648 C82.6637324,36.3739437 79.9764085,35.1411972 75.5017606,34.0383803 Z","id","Path","fill","#000000"],["id","Rectangle","fill","#1268B3","x","0.282042254","y","80.3852113","width","89.1823944","height","1"],["d","M83.7316901,25.434507 L83.015493,25.434507 C83.0028169,25.3584507 82.9964789,25.2855634 82.9964789,25.2126761 C82.9964789,25.1397887 83.0028169,25.0605634 83.015493,24.971831 L84.9295775,24.971831 C84.9390845,25.0130282 84.9454225,25.0542254 84.9485915,25.0890845 C84.9517606,25.1239437 84.9549296,25.1651408 84.9549296,25.206338 C84.9549296,25.2443662 84.9517606,25.2823944 84.9485915,25.3204225 C84.9454225,25.3584507 84.9390845,25.3964789 84.9295775,25.434507 L84.2197183,25.434507 L84.2197183,27.5070423 C84.1721831,27.5165493 84.1309859,27.5228873 84.0929577,27.5260563 C84.0549296,27.5292254 84.0137324,27.5323944 83.9661972,27.5323944 C83.928169,27.5323944 83.8901408,27.5292254 83.8489437,27.5260563 C83.8077465,27.5228873 83.7697183,27.5165493 83.7316901,27.5070423 L83.7316901,25.434507 L83.7316901,25.434507 Z M85.3415493,24.971831 C85.3922535,24.968662 85.4397887,24.9623239 85.4809859,24.9591549 C85.5221831,24.9559859 85.5665493,24.9528169 85.6077465,24.9528169 C85.6457746,24.9528169 85.6869718,24.9559859 85.731338,24.9591549 C85.7757042,24.9623239 85.8232394,24.968662 85.8739437,24.971831 L86.5014085,26.3598592 L87.1225352,24.971831 C87.1700704,24.968662 87.2112676,24.9623239 87.2524648,24.9591549 C87.293662,24.9559859 87.3348592,24.9528169 87.3760563,24.9528169 C87.4172535,24.9528169 87.4616197,24.9559859 87.5059859,24.9591549 C87.5503521,24.9623239 87.5947183,24.968662 87.6422535,24.971831 L87.7690141,27.5070423 C87.7183099,27.5165493 87.6739437,27.5228873 87.6390845,27.5260563 C87.6042254,27.5292254 87.5630282,27.5323944 87.521831,27.5323944 C87.4869718,27.5323944 87.4521127,27.5323944 87.4109155,27.5292254 C87.3697183,27.5260563 87.3285211,27.5197183 87.2809859,27.5070423 L87.1859155,25.8908451 L86.6408451,27.0253521 C86.6059859,27.0348592 86.5774648,27.0380282 86.5521127,27.0411972 C86.5267606,27.0443662 86.4982394,27.0443662 86.4633803,27.0443662 C86.4221831,27.0443662 86.3588028,27.0380282 86.2795775,27.0253521 L85.7788732,25.9098592 L85.6964789,27.5070423 C85.6172535,27.5228873 85.5380282,27.5323944 85.4619718,27.5323944 C85.3827465,27.5323944 85.3003521,27.5228873 85.2147887,27.5070423 L85.3415493,24.971831 Z","id","Shape","fill","#000000"],["d","M9.97605634,40.1007042 C8.51514085,40.1007042 7.34894366,38.7728873 7.34894366,36.9253521 L7.34894366,36.8588028 C7.34894366,35.109507 8.51514085,33.75 10.0711268,33.75 C11.2690141,33.75 12.0485915,34.3964789 12.6633803,35.5309859 L17.9492958,32.5489437 C16.5866197,29.6651408 13.8327465,27.6528169 9.94119718,27.6528169 C4.17042254,27.6528169 0.278873239,31.9626761 0.278873239,36.9253521 L0.278873239,36.9919014 C0.278873239,41.9514085 4.20528169,46.1978873 9.58626761,46.1978873 C13.7978873,46.1978873 16.4915493,44.315493 18.0792254,41.3651408 L12.7299296,38.3197183 C12.0169014,39.4510563 11.2721831,40.1007042 9.97605634,40.1007042 Z","id","Path","fill","#000000"],["id","Group","transform","translate(1.267606, 0.000000)","fill","#1268B3"],["id","Path","points","0.234507042 4.93732394 4.61408451 4.93732394 4.61408451 16.190493 11.0440141 16.190493 11.0440141 4.93732394 15.4299296 4.93732394 15.4299296 0.259859155 0.234507042 0.259859155 0.234507042 4.93732394"],["id","Path","points","20.1010563 16.190493 23.175 6.83556338 26.8257042 16.190493 32.8151408 16.190493 26.5309859 0.259859155 19.9521127 0.259859155 14.1147887 16.190493 20.1010563 16.190493"],["id","Path","points","31.6426056 5.22570423 36.0316901 5.22570423 36.0316901 16.190493 42.4552817 16.190493 42.4552817 4.93732394 46.6954225 4.93732394 46.6954225 0.408802817 31.6426056 0.408802817 31.6426056 5.22570423"],["id","Path","points","51.3728873 16.190493 54.5830986 6.68661972 58.0943662 16.190493 64.2359155 16.190493 57.9485915 0.259859155 51.2271127 0.259859155 45.3802817 16.190493 51.3728873 16.190493"],["d","M20.8001408,86.5140845 L20.8001408,82.427007 L20.246831,82.427007 L20.246831,86.5140845 L20.8001408,86.5140845 Z M22.6400704,86.5140845 L22.6400704,84.3864085 C22.7503521,84.2628169 22.8706162,84.1648944 23.0008627,84.0926408 C23.1311092,84.0203873 23.271338,83.9842606 23.4215493,83.9842606 C23.6269014,83.9842606 23.7794894,84.0446303 23.8793134,84.1653697 C23.9791373,84.2861092 24.0290493,84.4558099 24.0290493,84.6744718 L24.0290493,84.6744718 L24.0290493,86.5140845 L24.5367254,86.5140845 L24.5367254,84.6744718 C24.5367254,84.5109507 24.5158099,84.3616901 24.4739789,84.2266901 C24.4321479,84.0916901 24.3708275,83.9761796 24.2900176,83.8801585 C24.2092077,83.7841373 24.1084331,83.7099824 23.9876937,83.6576937 C23.8669542,83.6054049 23.7276761,83.5792606 23.5698592,83.5792606 C23.3664085,83.5792606 23.1872007,83.6220423 23.0322359,83.7076056 C22.8772711,83.793169 22.7370423,83.9053521 22.6115493,84.0441549 L22.6115493,84.0441549 L22.5716197,83.7304225 C22.5526056,83.6600704 22.5069718,83.6248944 22.4347183,83.6248944 L22.4347183,83.6248944 L22.1323944,83.6248944 L22.1323944,86.5140845 L22.6400704,86.5140845 Z M26.3452817,86.5597183 C26.5221127,86.5597183 26.6780282,86.5359507 26.8130282,86.4884155 C26.9480282,86.4408803 27.0621127,86.375757 27.1552817,86.2930458 C27.2484507,86.2103345 27.3188028,86.112412 27.366338,85.9992782 C27.4138732,85.8861444 27.4376408,85.7630282 27.4376408,85.6299296 C27.4376408,85.5139437 27.41625,85.4145951 27.3734683,85.3318838 C27.3306866,85.2491725 27.2741197,85.1792958 27.2037676,85.1222535 C27.1334155,85.0652113 27.0535563,85.0176761 26.9641901,84.9796479 C26.8748239,84.9416197 26.783081,84.906919 26.6889613,84.8755458 C26.5948415,84.8441725 26.5030986,84.8147007 26.4137324,84.7871303 C26.3243662,84.7595599 26.244507,84.7277113 26.1741549,84.6915845 C26.1038028,84.6554577 26.0472359,84.6126761 26.0044542,84.5632394 C25.9616725,84.5138028 25.9402817,84.452007 25.9402817,84.3778521 C25.9402817,84.3189085 25.9531162,84.264243 25.9787852,84.2138556 C26.0044542,84.1634683 26.0415317,84.1192606 26.0900176,84.0812324 C26.1385035,84.0432042 26.1969718,84.013257 26.2654225,83.9913908 C26.3338732,83.9695246 26.4108803,83.9585915 26.4964437,83.9585915 C26.5953169,83.9585915 26.6808803,83.9695246 26.7531338,83.9913908 C26.8253873,84.013257 26.8876585,84.0370246 26.9399472,84.0626937 C26.9922359,84.0883627 27.0364437,84.1116549 27.0725704,84.1325704 C27.1086972,84.1534859 27.1410211,84.1639437 27.1695423,84.1639437 C27.2170775,84.1639437 27.2522535,84.1430282 27.2750704,84.1011972 L27.2750704,84.1011972 L27.3891549,83.9158099 C27.2788732,83.8112324 27.1481514,83.7289965 26.9969894,83.6691021 C26.8458275,83.6092077 26.6751761,83.5792606 26.4850352,83.5792606 C26.3215141,83.5792606 26.1760563,83.6020775 26.048662,83.6477113 C25.9212676,83.6933451 25.813838,83.7546655 25.7263732,83.8316725 C25.6389085,83.9086796 25.5723592,83.9980458 25.5267254,84.0997711 C25.4810915,84.2014965 25.4582746,84.3075 25.4582746,84.4177817 C25.4582746,84.5413732 25.4796655,84.6464261 25.5224472,84.7329401 C25.5652289,84.8194542 25.6217958,84.8921831 25.6921479,84.9511268 C25.7625,85.0100704 25.8428345,85.0590317 25.9331514,85.0980106 C26.0234683,85.1369894 26.1156866,85.1716901 26.2098063,85.2021127 C26.3039261,85.2325352 26.3961444,85.2615317 26.4864613,85.2891021 C26.5767782,85.3166725 26.6571127,85.3489965 26.7274648,85.3860739 C26.7978169,85.4231514 26.8543838,85.4678345 26.8971655,85.5201232 C26.9399472,85.572412 26.961338,85.6384859 26.961338,85.7183451 C26.961338,85.782993 26.9494542,85.843838 26.9256866,85.9008803 C26.901919,85.9579225 26.8653169,86.0083099 26.8158803,86.0520423 C26.7664437,86.0957746 26.7046479,86.1304754 26.630493,86.1561444 C26.556338,86.1818134 26.4698239,86.1946479 26.3709507,86.1946479 C26.2549648,86.1946479 26.1584683,86.181338 26.0814613,86.1547183 C26.0044542,86.1280986 25.9388556,86.0986268 25.8846655,86.0663028 C25.8304754,86.0339789 25.7843662,86.004507 25.746338,85.9778873 C25.7083099,85.9512676 25.6721831,85.9379577 25.6379577,85.9379577 C25.6037324,85.9379577 25.576162,85.9446127 25.5552465,85.9579225 C25.534331,85.9712324 25.5162676,85.9902465 25.5010563,86.0149648 L25.5010563,86.0149648 L25.3812676,86.2089085 C25.4953521,86.3115845 25.6341549,86.3957218 25.7976761,86.4613204 C25.9611972,86.526919 26.1437324,86.5597183 26.3452817,86.5597183 Z M28.9210563,87.4923592 L28.9210563,86.2146127 C29.0180282,86.322993 29.1297359,86.4066549 29.2561796,86.4655986 C29.3826232,86.5245423 29.5352113,86.5540141 29.7139437,86.5540141 C29.9078873,86.5540141 30.0823415,86.5155106 30.2373063,86.4385035 C30.3922711,86.3614965 30.522993,86.2559683 30.6294718,86.121919 C30.7359507,85.9878697 30.8177113,85.8291021 30.8747535,85.6456162 C30.9317958,85.4621303 30.9603169,85.2639085 30.9603169,85.0509507 C30.9603169,84.8113732 30.9346479,84.5993662 30.8833099,84.4149296 C30.8319718,84.230493 30.7587676,84.0760035 30.6636972,83.9514613 C30.5686268,83.826919 30.4535915,83.7327993 30.3185915,83.6691021 C30.1835915,83.6054049 30.0333803,83.5735563 29.8679577,83.5735563 C29.6607042,83.5735563 29.4776937,83.6191901 29.3189261,83.7104577 C29.1601585,83.8017254 29.0189789,83.9224648 28.8953873,84.0726761 L28.8953873,84.0726761 L28.8526056,83.7304225 C28.8335915,83.6600704 28.7879577,83.6248944 28.7157042,83.6248944 L28.7157042,83.6248944 L28.4133803,83.6248944 L28.4133803,87.4923592 L28.9210563,87.4923592 Z M29.5998592,86.1604225 C29.4629577,86.1604225 29.3388908,86.1347535 29.2276585,86.0834155 C29.1164261,86.0320775 29.0142254,85.943662 28.9210563,85.818169 L28.9210563,85.818169 L28.9210563,84.4206338 C29.0256338,84.281831 29.1401937,84.1744014 29.2647359,84.0983451 C29.3892782,84.0222887 29.5342606,83.9842606 29.6996831,83.9842606 C29.815669,83.9842606 29.9192958,84.0042254 30.0105634,84.0441549 C30.101831,84.0840845 30.178838,84.1473063 30.2415845,84.2338204 C30.304331,84.3203345 30.3523415,84.4310915 30.3856162,84.5660915 C30.4188908,84.7010915 30.4355282,84.8627113 30.4355282,85.0509507 C30.4355282,85.4065141 30.3632746,85.6803169 30.2187676,85.8723592 C30.0742606,86.0644014 29.8679577,86.1604225 29.5998592,86.1604225 Z M32.1927465,83.0772887 C32.2421831,83.0772887 32.2887676,83.0677817 32.3325,83.0487676 C32.3762324,83.0297535 32.4147359,83.0036092 32.4480106,82.9703345 C32.4812852,82.9370599 32.5079049,82.8990317 32.5278697,82.85625 C32.5478345,82.8134683 32.5578169,82.7673592 32.5578169,82.7179225 C32.5578169,82.6684859 32.5478345,82.6214261 32.5278697,82.576743 C32.5079049,82.5320599 32.4812852,82.493081 32.4480106,82.4598063 C32.4147359,82.4265317 32.3762324,82.4003873 32.3325,82.3813732 C32.2887676,82.3623592 32.2421831,82.3528521 32.1927465,82.3528521 C32.1433099,82.3528521 32.0972007,82.3623592 32.054419,82.3813732 C32.0116373,82.4003873 31.9736092,82.4265317 31.9403345,82.4598063 C31.9070599,82.493081 31.8809155,82.5320599 31.8619014,82.576743 C31.8428873,82.6214261 31.8333803,82.6684859 31.8333803,82.7179225 C31.8333803,82.7673592 31.8428873,82.8134683 31.8619014,82.85625 C31.8809155,82.8990317 31.9070599,82.9370599 31.9403345,82.9703345 C31.9736092,83.0036092 32.0116373,83.0297535 32.054419,83.0487676 C32.0972007,83.0677817 32.1433099,83.0772887 32.1927465,83.0772887 Z M32.4437324,86.5140845 L32.4437324,83.6248944 L31.9360563,83.6248944 L31.9360563,86.5140845 L32.4437324,86.5140845 Z M34.1638732,86.5140845 L34.1638732,84.6744718 C34.2437324,84.4786268 34.343081,84.3293662 34.461919,84.2266901 C34.580757,84.1240141 34.7285915,84.0726761 34.9054225,84.0726761 C35.0042958,84.0726761 35.0813028,84.0817077 35.1364437,84.0997711 C35.1915845,84.1178345 35.2324648,84.1268662 35.2590845,84.1268662 C35.3047183,84.1268662 35.3341901,84.1030986 35.3475,84.0555634 L35.3475,84.0555634 L35.4130986,83.6762324 C35.3579577,83.6439085 35.2980634,83.6187148 35.2334155,83.6006514 C35.1687676,83.582588 35.0965141,83.5735563 35.0166549,83.5735563 C34.8208099,83.5735563 34.6501585,83.6301232 34.5047007,83.743257 C34.359243,83.8563908 34.2370775,84.0137324 34.1382042,84.2152817 L34.1382042,84.2152817 L34.1039789,83.7646479 C34.0963732,83.7133099 34.0821127,83.6771831 34.0611972,83.6562676 C34.0402817,83.6353521 34.0022535,83.6248944 33.9471127,83.6248944 L33.9471127,83.6248944 L33.6561972,83.6248944 L33.6561972,86.5140845 L34.1638732,86.5140845 Z M37.4441197,86.5540141 C37.5486972,86.5540141 37.6542254,86.5449824 37.7607042,86.526919 C37.8671831,86.5088556 37.9703345,86.4817606 38.0701585,86.4456338 C38.1699824,86.409507 38.2636268,86.3633979 38.3510915,86.3073063 C38.4385563,86.2512148 38.513662,86.1851408 38.5764085,86.1090845 L38.5764085,86.1090845 L38.4338028,85.9236972 C38.4109859,85.8913732 38.378662,85.8752113 38.336831,85.8752113 C38.304507,85.8752113 38.2660035,85.8899472 38.2213204,85.919419 C38.1766373,85.9488908 38.1210211,85.9807394 38.0544718,86.0149648 C37.9879225,86.0491901 37.9085387,86.0810387 37.8163204,86.1105106 C37.7241021,86.1399824 37.6142958,86.1547183 37.4869014,86.1547183 C37.35,86.1547183 37.2264085,86.1323768 37.1161268,86.0876937 C37.0058451,86.0430106 36.9107746,85.9755106 36.8309155,85.8851937 C36.7510563,85.7948768 36.6883099,85.6822183 36.6426761,85.5472183 C36.5970423,85.4122183 36.5723239,85.2534507 36.5685211,85.0709155 L36.5685211,85.0709155 L38.4908451,85.0709155 C38.5383803,85.0709155 38.5707042,85.0576056 38.5878169,85.0309859 C38.6049296,85.0043662 38.6134859,84.9511268 38.6134859,84.8712676 C38.6134859,84.6659155 38.5835387,84.4829049 38.5236444,84.3222359 C38.46375,84.1615669 38.3805634,84.0265669 38.2740845,83.9172359 C38.1676056,83.8079049 38.041162,83.724243 37.8947535,83.66625 C37.7483451,83.608257 37.5886268,83.5792606 37.4155986,83.5792606 C37.2064437,83.5792606 37.0182042,83.6158627 36.8508803,83.6890669 C36.6835563,83.7622711 36.5419014,83.8630458 36.4259155,83.9913908 C36.3099296,84.1197359 36.2210387,84.2713732 36.159243,84.4463028 C36.0974472,84.6212324 36.0665493,84.8094718 36.0665493,85.0110211 C36.0665493,85.2601056 36.1007746,85.480669 36.1692254,85.6727113 C36.2376761,85.8647535 36.3332218,86.0258979 36.4558627,86.1561444 C36.5785035,86.2863908 36.7239613,86.3852641 36.8922359,86.4527641 C37.0605106,86.5202641 37.2444718,86.5540141 37.4441197,86.5540141 Z M38.1571479,84.754331 L36.5856338,84.754331 C36.6198592,84.5033451 36.7073239,84.3070246 36.8480282,84.1653697 C36.9887324,84.0237148 37.1817254,83.9528873 37.427007,83.9528873 C37.542993,83.9528873 37.6461444,83.9723768 37.7364613,84.0113556 C37.8267782,84.0503345 37.9033099,84.1054754 37.9660563,84.1767782 C38.0288028,84.248081 38.076338,84.3326937 38.108662,84.4306162 C38.1409859,84.5285387 38.1571479,84.6364437 38.1571479,84.754331 L38.1571479,84.754331 Z M40.4591197,86.5540141 C40.6644718,86.5540141 40.8465317,86.5088556 41.0052993,86.4185387 C41.1640669,86.3282218 41.3052465,86.2079577 41.428838,86.0577465 L41.428838,86.0577465 L41.4744718,86.4085563 C41.4934859,86.4789085 41.5391197,86.5140845 41.6113732,86.5140845 L41.6113732,86.5140845 L41.9136972,86.5140845 L41.9136972,82.3129225 L41.4060211,82.3129225 L41.4060211,83.9158099 C41.3071479,83.8074296 41.1949648,83.7232923 41.0694718,83.6633979 C40.9439789,83.6035035 40.7928169,83.5735563 40.6159859,83.5735563 C40.4201408,83.5735563 40.2452113,83.6120599 40.0911972,83.6890669 C39.9371831,83.7660739 39.8064613,83.8720775 39.6990317,84.0070775 C39.5916021,84.1420775 39.5093662,84.3013204 39.4523239,84.4848063 C39.3952817,84.6682923 39.3667606,84.8665141 39.3667606,85.0794718 C39.3667606,85.3190493 39.3924296,85.5310563 39.4437676,85.715493 C39.4951056,85.8999296 39.5683099,86.0539437 39.6633803,86.1775352 C39.7584507,86.3011268 39.8734859,86.3947711 40.0084859,86.4584683 C40.1434859,86.5221655 40.2936972,86.5540141 40.4591197,86.5540141 Z M40.6273944,86.1433099 C40.509507,86.1433099 40.4049296,86.1233451 40.313662,86.0834155 C40.2223944,86.0434859 40.1453873,85.9802641 40.0826408,85.89375 C40.0198944,85.8072359 39.9723592,85.6969542 39.9400352,85.5629049 C39.9077113,85.4288556 39.8915493,85.2677113 39.8915493,85.0794718 C39.8915493,84.7239085 39.9638028,84.4501056 40.1083099,84.2580634 C40.2528169,84.0660211 40.4600704,83.97 40.7300704,83.97 C40.8650704,83.97 40.9881866,83.9951937 41.099419,84.045581 C41.2106514,84.0959683 41.3128521,84.1839085 41.4060211,84.3094014 L41.4060211,84.3094014 L41.4060211,85.7069366 C41.3014437,85.8457394 41.1868838,85.953169 41.0623415,86.0292254 C40.9377993,86.1052817 40.7928169,86.1433099 40.6273944,86.1433099 Z M46.9486268,86.5597183 C47.1653873,86.5597183 47.3588556,86.5264437 47.5290317,86.4598944 C47.6992077,86.3933451 47.8427641,86.3020775 47.9597007,86.1860915 C48.0766373,86.0701056 48.1655282,85.9336796 48.2263732,85.7768134 C48.2872183,85.6199472 48.3176408,85.4521479 48.3176408,85.2734155 C48.3176408,85.1041901 48.2895951,84.9615845 48.2335035,84.8455986 C48.177412,84.7296127 48.103257,84.6316901 48.0110387,84.551831 C47.9188204,84.4719718 47.814243,84.4058979 47.6973063,84.3536092 C47.5803697,84.3013204 47.460581,84.2542606 47.3379401,84.2124296 C47.2152993,84.1705986 47.0955106,84.1301937 46.9785739,84.0912148 C46.8616373,84.0522359 46.7570599,84.0061268 46.6648415,83.9528873 C46.5726232,83.8996479 46.4984683,83.8354754 46.4423768,83.7603697 C46.3862852,83.6852641 46.3582394,83.590669 46.3582394,83.4765845 C46.3582394,83.3872183 46.3744014,83.3040317 46.4067254,83.2270246 C46.4390493,83.1500176 46.4870599,83.082993 46.550757,83.0259507 C46.6144542,82.9689085 46.693838,82.92375 46.7889085,82.8904754 C46.8839789,82.8572007 46.9933099,82.8405634 47.1169014,82.8405634 C47.2480986,82.8405634 47.3598063,82.8567254 47.4520246,82.8890493 C47.544243,82.9213732 47.6231514,82.9570246 47.68875,82.9960035 C47.7543486,83.0349824 47.8085387,83.0706338 47.8513204,83.1029577 C47.8941021,83.1352817 47.9316549,83.1514437 47.9639789,83.1514437 C47.9944014,83.1514437 48.0191197,83.1443134 48.0381338,83.1300528 C48.0571479,83.1157923 48.0752113,83.0944014 48.0923239,83.0658803 L48.0923239,83.0658803 L48.2263732,82.8034859 C48.085669,82.6665845 47.9211972,82.562007 47.7329577,82.4897535 C47.5447183,82.4175 47.3365141,82.3813732 47.1083451,82.3813732 C46.9048944,82.3813732 46.7247359,82.4127465 46.5678697,82.475493 C46.4110035,82.5382394 46.279331,82.6219014 46.1728521,82.7264789 C46.0663732,82.8310563 45.985088,82.9508451 45.9289965,83.0858451 C45.8729049,83.2208451 45.8448592,83.3605986 45.8448592,83.5051056 C45.8448592,83.6857394 45.8729049,83.8373768 45.9289965,83.9600176 C45.985088,84.0826585 46.0587676,84.1848592 46.1500352,84.2666197 C46.2413028,84.3483803 46.3454049,84.4149296 46.4623415,84.4662676 C46.5792782,84.5176056 46.6990669,84.5627641 46.8217077,84.601743 C46.9443486,84.6407218 47.0641373,84.67875 47.1810739,84.7158275 C47.2980106,84.7529049 47.4021127,84.7980634 47.4933803,84.8513028 C47.5846479,84.9045423 47.6583275,84.9706162 47.714419,85.0495246 C47.7705106,85.1284331 47.7985563,85.2296831 47.7985563,85.3532746 C47.7985563,85.4654577 47.7795423,85.5671831 47.7415141,85.6584507 C47.7034859,85.7497183 47.6488204,85.8281514 47.5775176,85.89375 C47.5062148,85.9593486 47.4192254,86.0102113 47.3165493,86.046338 C47.2138732,86.0824648 47.0969366,86.1005282 46.9657394,86.1005282 C46.8079225,86.1005282 46.6743486,86.0791373 46.5650176,86.0363556 C46.4556866,85.9935739 46.3625176,85.9465141 46.2855106,85.8951761 C46.2085035,85.843838 46.144331,85.7967782 46.092993,85.7539965 C46.0416549,85.7112148 45.9960211,85.6898239 45.9560915,85.6898239 C45.9294718,85.6898239 45.9052289,85.6969542 45.8833627,85.7112148 C45.8614965,85.7254754 45.8429577,85.7430634 45.8277465,85.7639789 L45.8277465,85.7639789 L45.6680282,86.0263732 C45.8220423,86.1898944 46.0079049,86.3196655 46.2256162,86.4156866 C46.4433275,86.5117077 46.684331,86.5597183 46.9486268,86.5597183 Z M50.3286972,86.5540141 C50.5378521,86.5540141 50.7365493,86.5183627 50.9247887,86.4470599 C51.1130282,86.375757 51.2698944,86.2630986 51.3953873,86.1090845 L51.3953873,86.1090845 L51.2527817,85.9236972 C51.2318662,85.8913732 51.1995423,85.8752113 51.1558099,85.8752113 C51.1215845,85.8752113 51.0873592,85.8899472 51.0531338,85.919419 C51.0189085,85.9488908 50.9751761,85.9816901 50.9219366,86.0178169 C50.8686972,86.0539437 50.8021479,86.086743 50.7222887,86.1162148 C50.6424296,86.1456866 50.5407042,86.1604225 50.4171127,86.1604225 C50.2878169,86.1604225 50.1713556,86.1361796 50.0677289,86.0876937 C49.9641021,86.0392077 49.876162,85.9688556 49.8039085,85.8766373 C49.7316549,85.784419 49.6755634,85.6703345 49.6356338,85.5343838 C49.5957042,85.3984331 49.5757394,85.242993 49.5757394,85.0680634 C49.5757394,84.9007394 49.5942782,84.7495775 49.6313556,84.6145775 C49.6684331,84.4795775 49.7235739,84.3645423 49.7967782,84.2694718 C49.8699824,84.1744014 49.9607746,84.1016725 50.0691549,84.0512852 C50.1775352,84.0008979 50.3020775,83.9757042 50.4427817,83.9757042 C50.5492606,83.9757042 50.6391021,83.987588 50.7123063,84.0113556 C50.7855106,84.0351232 50.8477817,84.0612676 50.8991197,84.0897887 C50.9504577,84.1183099 50.9927641,84.1444542 51.0260387,84.1682218 C51.0593134,84.1919894 51.0902113,84.2038732 51.1187324,84.2038732 C51.1472535,84.2038732 51.1691197,84.198169 51.184331,84.1867606 C51.1995423,84.1753521 51.2147535,84.1591901 51.2299648,84.1382746 L51.2299648,84.1382746 L51.3640141,83.9557394 C51.2442254,83.8359507 51.1063732,83.743257 50.9504577,83.6776585 C50.7945423,83.6120599 50.6158099,83.5792606 50.4142606,83.5792606 C50.1955986,83.5792606 50.0016549,83.616338 49.8324296,83.690493 C49.6632042,83.7646479 49.5210739,83.8677993 49.4060387,83.9999472 C49.2910035,84.1320951 49.2035387,84.2894366 49.1436444,84.4719718 C49.08375,84.654507 49.0538028,84.8532042 49.0538028,85.0680634 C49.0538028,85.303838 49.0866021,85.5139437 49.1522007,85.6983803 C49.2177993,85.8828169 49.3076408,86.038257 49.4217254,86.1647007 C49.5358099,86.2911444 49.6703345,86.3876408 49.8252993,86.4541901 C49.9802641,86.5207394 50.1480634,86.5540141 50.3286972,86.5540141 Z M52.7476056,86.5140845 L52.7476056,84.3864085 C52.8578873,84.2628169 52.9781514,84.1648944 53.1083979,84.0926408 C53.2386444,84.0203873 53.3788732,83.9842606 53.5290845,83.9842606 C53.7344366,83.9842606 53.8870246,84.0446303 53.9868486,84.1653697 C54.0866725,84.2861092 54.1365845,84.4558099 54.1365845,84.6744718 L54.1365845,84.6744718 L54.1365845,86.5140845 L54.6442606,86.5140845 L54.6442606,84.6744718 C54.6442606,84.5109507 54.6233451,84.3616901 54.5815141,84.2266901 C54.5396831,84.0916901 54.4783627,83.9761796 54.3975528,83.8801585 C54.316743,83.7841373 54.2159683,83.7099824 54.0952289,83.6576937 C53.9744894,83.6054049 53.8352113,83.5792606 53.6773944,83.5792606 C53.4815493,83.5792606 53.3085211,83.6187148 53.1583099,83.6976232 C53.0080986,83.7765317 52.8711972,83.8815845 52.7476056,84.0127817 L52.7476056,84.0127817 L52.7476056,82.3129225 L52.2399296,82.3129225 L52.2399296,86.5140845 L52.7476056,86.5140845 Z M56.8977465,86.5540141 C57.1088028,86.5540141 57.299419,86.5193134 57.4695951,86.449912 C57.6397711,86.3805106 57.7842782,86.281162 57.9031162,86.1518662 C58.0219542,86.0225704 58.1132218,85.8666549 58.176919,85.6841197 C58.2406162,85.5015845 58.2724648,85.2962324 58.2724648,85.0680634 C58.2724648,84.8417958 58.2406162,84.636919 58.176919,84.4534331 C58.1132218,84.2699472 58.0219542,84.1135563 57.9031162,83.9842606 C57.7842782,83.8549648 57.6397711,83.7551408 57.4695951,83.6847887 C57.299419,83.6144366 57.1088028,83.5792606 56.8977465,83.5792606 C56.6866901,83.5792606 56.4960739,83.6144366 56.3258979,83.6847887 C56.1557218,83.7551408 56.0107394,83.8549648 55.8909507,83.9842606 C55.771162,84.1135563 55.6789437,84.2699472 55.6142958,84.4534331 C55.5496479,84.636919 55.5173239,84.8417958 55.5173239,85.0680634 C55.5173239,85.2962324 55.5496479,85.5015845 55.6142958,85.6841197 C55.6789437,85.8666549 55.771162,86.0225704 55.8909507,86.1518662 C56.0107394,86.281162 56.1557218,86.3805106 56.3258979,86.449912 C56.4960739,86.5193134 56.6866901,86.5540141 56.8977465,86.5540141 Z M56.8977465,86.1575704 C56.7532394,86.1575704 56.6277465,86.1328521 56.5212676,86.0834155 C56.4147887,86.0339789 56.3258979,85.9631514 56.2545951,85.8709331 C56.1832923,85.7787148 56.1300528,85.6651056 56.0948768,85.5301056 C56.0597007,85.3951056 56.0421127,85.2420423 56.0421127,85.0709155 C56.0421127,84.8997887 56.0597007,84.74625 56.0948768,84.6102993 C56.1300528,84.4743486 56.1832923,84.3597887 56.2545951,84.2666197 C56.3258979,84.1734507 56.4147887,84.1021479 56.5212676,84.0527113 C56.6277465,84.0032746 56.7532394,83.9785563 56.8977465,83.9785563 C57.1829577,83.9785563 57.3959155,84.0745775 57.5366197,84.2666197 C57.6773239,84.458662 57.7476761,84.7267606 57.7476761,85.0709155 C57.7476761,85.413169 57.6773239,85.6798415 57.5366197,85.8709331 C57.3959155,86.0620246 57.1829577,86.1575704 56.8977465,86.1575704 Z M60.3861972,86.5540141 C60.5972535,86.5540141 60.7878697,86.5193134 60.9580458,86.449912 C61.1282218,86.3805106 61.2727289,86.281162 61.3915669,86.1518662 C61.5104049,86.0225704 61.6016725,85.8666549 61.6653697,85.6841197 C61.7290669,85.5015845 61.7609155,85.2962324 61.7609155,85.0680634 C61.7609155,84.8417958 61.7290669,84.636919 61.6653697,84.4534331 C61.6016725,84.2699472 61.5104049,84.1135563 61.3915669,83.9842606 C61.2727289,83.8549648 61.1282218,83.7551408 60.9580458,83.6847887 C60.7878697,83.6144366 60.5972535,83.5792606 60.3861972,83.5792606 C60.1751408,83.5792606 59.9845246,83.6144366 59.8143486,83.6847887 C59.6441725,83.7551408 59.4991901,83.8549648 59.3794014,83.9842606 C59.2596127,84.1135563 59.1673944,84.2699472 59.1027465,84.4534331 C59.0380986,84.636919 59.0057746,84.8417958 59.0057746,85.0680634 C59.0057746,85.2962324 59.0380986,85.5015845 59.1027465,85.6841197 C59.1673944,85.8666549 59.2596127,86.0225704 59.3794014,86.1518662 C59.4991901,86.281162 59.6441725,86.3805106 59.8143486,86.449912 C59.9845246,86.5193134 60.1751408,86.5540141 60.3861972,86.5540141 Z M60.3861972,86.1575704 C60.2416901,86.1575704 60.1161972,86.1328521 60.0097183,86.0834155 C59.9032394,86.0339789 59.8143486,85.9631514 59.7430458,85.8709331 C59.671743,85.7787148 59.6185035,85.6651056 59.5833275,85.5301056 C59.5481514,85.3951056 59.5305634,85.2420423 59.5305634,85.0709155 C59.5305634,84.8997887 59.5481514,84.74625 59.5833275,84.6102993 C59.6185035,84.4743486 59.671743,84.3597887 59.7430458,84.2666197 C59.8143486,84.1734507 59.9032394,84.1021479 60.0097183,84.0527113 C60.1161972,84.0032746 60.2416901,83.9785563 60.3861972,83.9785563 C60.6714085,83.9785563 60.8843662,84.0745775 61.0250704,84.2666197 C61.1657746,84.458662 61.2361268,84.7267606 61.2361268,85.0709155 C61.2361268,85.413169 61.1657746,85.6798415 61.0250704,85.8709331 C60.8843662,86.0620246 60.6714085,86.1575704 60.3861972,86.1575704 Z M63.27,86.5140845 L63.27,82.3129225 L62.7623239,82.3129225 L62.7623239,86.5140845 L63.27,86.5140845 Z M64.7961972,83.0772887 C64.8456338,83.0772887 64.8922183,83.0677817 64.9359507,83.0487676 C64.9796831,83.0297535 65.0181866,83.0036092 65.0514613,82.9703345 C65.0847359,82.9370599 65.1113556,82.8990317 65.1313204,82.85625 C65.1512852,82.8134683 65.1612676,82.7673592 65.1612676,82.7179225 C65.1612676,82.6684859 65.1512852,82.6214261 65.1313204,82.576743 C65.1113556,82.5320599 65.0847359,82.493081 65.0514613,82.4598063 C65.0181866,82.4265317 64.9796831,82.4003873 64.9359507,82.3813732 C64.8922183,82.3623592 64.8456338,82.3528521 64.7961972,82.3528521 C64.7467606,82.3528521 64.7006514,82.3623592 64.6578697,82.3813732 C64.615088,82.4003873 64.5770599,82.4265317 64.5437852,82.4598063 C64.5105106,82.493081 64.4843662,82.5320599 64.4653521,82.576743 C64.446338,82.6214261 64.436831,82.6684859 64.436831,82.7179225 C64.436831,82.7673592 64.446338,82.8134683 64.4653521,82.85625 C64.4843662,82.8990317 64.5105106,82.9370599 64.5437852,82.9703345 C64.5770599,83.0036092 64.615088,83.0297535 64.6578697,83.0487676 C64.7006514,83.0677817 64.7467606,83.0772887 64.7961972,83.0772887 Z M65.0471831,86.5140845 L65.0471831,83.6248944 L64.539507,83.6248944 L64.539507,86.5140845 L65.0471831,86.5140845 Z M66.7673239,86.5140845 L66.7673239,84.3864085 C66.8776056,84.2628169 66.9978697,84.1648944 67.1281162,84.0926408 C67.2583627,84.0203873 67.3985915,83.9842606 67.5488028,83.9842606 C67.7541549,83.9842606 67.906743,84.0446303 68.0065669,84.1653697 C68.1063908,84.2861092 68.1563028,84.4558099 68.1563028,84.6744718 L68.1563028,84.6744718 L68.1563028,86.5140845 L68.6639789,86.5140845 L68.6639789,84.6744718 C68.6639789,84.5109507 68.6430634,84.3616901 68.6012324,84.2266901 C68.5594014,84.0916901 68.498081,83.9761796 68.4172711,83.8801585 C68.3364613,83.7841373 68.2356866,83.7099824 68.1149472,83.6576937 C67.9942077,83.6054049 67.8549296,83.5792606 67.6971127,83.5792606 C67.493662,83.5792606 67.3144542,83.6220423 67.1594894,83.7076056 C67.0045246,83.793169 66.8642958,83.9053521 66.7388028,84.0441549 L66.7388028,84.0441549 L66.6988732,83.7304225 C66.6798592,83.6600704 66.6342254,83.6248944 66.5619718,83.6248944 L66.5619718,83.6248944 L66.2596479,83.6248944 L66.2596479,86.5140845 L66.7673239,86.5140845 Z M70.7377817,87.5551056 C70.948838,87.5551056 71.1380282,87.5280106 71.3053521,87.4738204 C71.4726761,87.4196303 71.614331,87.3473768 71.7303169,87.2570599 C71.8463028,87.166743 71.9351937,87.0635915 71.9969894,86.9476056 C72.0587852,86.8316197 72.0896831,86.711831 72.0896831,86.5882394 C72.0896831,86.4551408 72.0621127,86.3467606 72.0069718,86.2630986 C71.951831,86.1794366 71.8786268,86.113838 71.7873592,86.0663028 C71.6960915,86.0187676 71.5924648,85.9845423 71.4764789,85.9636268 C71.360493,85.9427113 71.2421303,85.9279754 71.1213908,85.919419 C71.0006514,85.9108627 70.8822887,85.9046831 70.7663028,85.9008803 C70.6503169,85.8970775 70.5466901,85.8875704 70.4554225,85.8723592 C70.3641549,85.8571479 70.2909507,85.8319542 70.2358099,85.7967782 C70.180669,85.7616021 70.1530986,85.7097887 70.1530986,85.641338 C70.1530986,85.599507 70.1687852,85.5567254 70.2001585,85.512993 C70.2315317,85.4692606 70.2776408,85.4283803 70.3384859,85.3903521 C70.4582746,85.4226761 70.585669,85.438838 70.720669,85.438838 C70.8784859,85.438838 71.0234683,85.4169718 71.1556162,85.3732394 C71.2877641,85.329507 71.4018486,85.2667606 71.4978697,85.185 C71.5938908,85.1032394 71.6689965,85.0048415 71.7231866,84.8898063 C71.7773768,84.7747711 71.8044718,84.6469014 71.8044718,84.5061972 C71.8044718,84.3540845 71.7721479,84.2162324 71.7075,84.0926408 L71.7075,84.0926408 L72.035493,84.047007 C72.1153521,84.0298944 72.1552817,83.9899648 72.1552817,83.9272183 L72.1552817,83.9272183 L72.1552817,83.7389789 L71.3709507,83.7389789 C71.2815845,83.6857394 71.1822359,83.6453345 71.0729049,83.6177641 C70.9635739,83.5901937 70.846162,83.5764085 70.720669,83.5764085 C70.5609507,83.5764085 70.4140669,83.5982746 70.2800176,83.642007 C70.1459683,83.6857394 70.0304577,83.7480106 69.9334859,83.8288204 C69.8365141,83.9096303 69.7609331,84.0075528 69.706743,84.122588 C69.6525528,84.2376232 69.6254577,84.365493 69.6254577,84.5061972 C69.6254577,84.6830282 69.6658627,84.8375176 69.7466725,84.9696655 C69.8274824,85.1018134 69.9391901,85.2078169 70.0817958,85.2876761 C70.0209507,85.3180986 69.9677113,85.3532746 69.9220775,85.3932042 C69.8764437,85.4331338 69.8379401,85.4749648 69.8065669,85.5186972 C69.7751937,85.5624296 69.7519014,85.6066373 69.7366901,85.6513204 C69.7214789,85.6960035 69.7138732,85.7392606 69.7138732,85.7810915 C69.7138732,85.8875704 69.7381162,85.9726585 69.7866021,86.0363556 C69.835088,86.1000528 69.9002113,86.1509155 69.9819718,86.1889437 C69.8241549,86.2478873 69.700088,86.3272711 69.6097711,86.4270951 C69.5194542,86.526919 69.4742958,86.6481338 69.4742958,86.7907394 C69.4742958,86.8915141 69.5004401,86.9880106 69.5527289,87.0802289 C69.6050176,87.1724472 69.6834507,87.2537324 69.7880282,87.3240845 C69.8926056,87.3944366 70.0242782,87.4505282 70.1830458,87.4923592 C70.3418134,87.5341901 70.5267254,87.5551056 70.7377817,87.5551056 Z M70.720669,85.1022887 C70.6198944,85.1022887 70.5305282,85.0880282 70.4525704,85.059507 C70.3746127,85.0309859 70.3090141,84.9910563 70.2557746,84.9397183 C70.2025352,84.8883803 70.1621303,84.8270599 70.1345599,84.755757 C70.1069894,84.6844542 70.0932042,84.6060211 70.0932042,84.5204577 C70.0932042,84.3436268 70.146919,84.2029225 70.2543486,84.0983451 C70.3617782,83.9937676 70.5172183,83.9414789 70.720669,83.9414789 C70.9260211,83.9414789 71.082412,83.9937676 71.1898415,84.0983451 C71.2972711,84.2029225 71.3509859,84.3436268 71.3509859,84.5204577 C71.3509859,84.6060211 71.3376761,84.6844542 71.3110563,84.755757 C71.2844366,84.8270599 71.244507,84.8883803 71.1912676,84.9397183 C71.1380282,84.9910563 71.0719542,85.0309859 70.9930458,85.059507 C70.9141373,85.0880282 70.8233451,85.1022887 70.720669,85.1022887 Z M70.746338,87.184331 C70.6056338,87.184331 70.4834683,87.1724472 70.3798415,87.1486796 C70.2762148,87.124912 70.1901761,87.092588 70.1217254,87.0517077 C70.0532746,87.0108275 70.002412,86.9623415 69.9691373,86.90625 C69.9358627,86.8501585 69.9192254,86.7897887 69.9192254,86.7251408 C69.9192254,86.6224648 69.9529754,86.5340493 70.0204754,86.4598944 C70.0879754,86.3857394 70.1759155,86.322993 70.2842958,86.2716549 C70.3774648,86.2868662 70.4753873,86.2973239 70.5780634,86.3030282 C70.6807394,86.3087324 70.7815141,86.3139613 70.8803873,86.3187148 C70.9792606,86.3234683 71.0733803,86.3315493 71.1627465,86.3429577 C71.2521127,86.3543662 71.3310211,86.3719542 71.3994718,86.3957218 C71.4679225,86.4194894 71.5221127,86.4532394 71.5620423,86.4969718 C71.6019718,86.5407042 71.6219366,86.5986972 71.6219366,86.6709507 C71.6219366,86.747007 71.6019718,86.8164085 71.5620423,86.8791549 C71.5221127,86.9419014 71.4645951,86.9960915 71.3894894,87.0417254 C71.3143838,87.0873592 71.2226408,87.1225352 71.1142606,87.1472535 C71.0058803,87.1719718 70.8832394,87.184331 70.746338,87.184331 Z","id","InspiredSchooling","fill","#2D2D2D"]],template:function(e,t){1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(0,"svg",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(1,"defs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(2,"filter",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(3,"feOffset",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(4,"feGaussianBlur",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(5,"feColorMatrix",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(6,"feMerge"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(7,"feMergeNode",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(8,"feMergeNode",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(9,"g",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(10,"g",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(11,"g",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(12,"g",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(13,"g",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(14,"g",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(15,"rect",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(16,"path",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(17,"path",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(18,"path",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(19,"path",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(20,"path",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(21,"path",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(22,"path",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(23,"rect",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(24,"path",22),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(25,"path",23),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(26,"g",24),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(27,"polyline",25),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(28,"polyline",26),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(29,"polyline",27),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(30,"polyline",28),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(31,"path",29),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub())},encapsulation:2}),e}(),TceBgFooterSvgModule=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b]]}),e}(),TceSmFooterLogoComponent=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb({type:e,selectors:[["nx-afs-tce-sm-footer-logo"]],decls:24,vars:0,consts:[["_ngcontent-wxc-c75","","width","132px","height","50px","viewBox","0 0 132 50","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["_ngcontent-wxc-c75","","istroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["_ngcontent-wxc-c75","","transform","translate(-980.000000, -1325.000000)"],["_ngcontent-wxc-c75","","id","Background","transform","translate(0.000000, 100.000000)"],["_ngcontent-wxc-c75","","id","Footer","transform","translate(980.000000, 1225.000000)"],["_ngcontent-wxc-c75","","id","Group","transform","translate(2.000000, 17.000000)"],["_ngcontent-wxc-c75","","d","M56.9028325,6.90658073 C56.9028325,3.93952088 59.3283307,1.53189129 62.3167344,1.53189129 C64.3235362,1.53189129 66.0700394,2.62082761 67.0088171,4.22659026 L66.0416619,4.78551333 C65.3198427,3.48076778 63.9481799,2.5921714 62.3167344,2.5921714 C59.8912362,2.5921714 58.0580528,4.54155507 58.0580528,6.90658073 C58.0580528,9.27160638 59.8912362,11.2209901 62.3167344,11.2209901 C64.1504337,11.2209901 65.4640518,10.2603727 66.1572356,8.87016572 L67.1530261,9.38623126 C66.2436578,11.1061116 64.5110854,12.2815238 62.3167344,12.2815238 C59.3283307,12.2815238 56.9028325,9.87364057 56.9028325,6.90658073","id","Fill-41","fill","#0A0B09"],["_ngcontent-wxc-c75","","id","Fill-42","fill","#0A0B09","points","68.2331752 12.1382427 69.359244 12.1382427 69.359244 1.67491879 68.2331752 1.67491879"],["_ngcontent-wxc-c75","","d","M75.941781,9.68724835 L75.941781,8.28258643 C75.6097648,8.56940222 74.5703761,8.81285328 73.7185366,8.98479059 C72.4480007,9.25715147 71.8128617,9.55816857 71.8128617,10.3176852 C71.8128617,10.9344279 72.289087,11.3498162 73.1122911,11.3498162 C74.1950199,11.3498162 75.1477283,10.8482056 75.941781,9.68724835 Z M70.7009816,10.4039074 C70.7009816,9.09941547 71.5964192,8.44006884 73.7040899,8.01022555 C74.8012654,7.7809758 75.8409121,7.59458358 75.8409121,6.8634696 C75.8409121,6.20412297 75.407769,5.73116856 74.0361061,5.73116856 C72.6794059,5.73116856 72.1159845,6.261689 72.1159845,7.15028539 L72.1159845,7.19314292 L71.0043623,7.19314292 L71.0043623,7.1644867 C71.0043623,5.65965481 72.1015378,4.82837086 74.0072127,4.82837086 C76.1582236,4.82837086 76.9956164,5.87470325 76.9956164,7.22179914 L76.9956164,12.1382427 L75.9275923,12.1382427 L75.9275923,11.0774554 C75.2199618,11.8230243 74.3392289,12.2815238 73.1122911,12.2815238 C71.4950343,12.2815238 70.7009816,11.4357849 70.7009816,10.4039074 L70.7009816,10.4039074 Z","id","Fill-43","fill","#0A0B09"],["_ngcontent-wxc-c75","","d","M78.0337152,10.9052645 L78.9144481,10.188859 C79.4487181,10.8482056 80.1705373,11.3067051 81.0943524,11.3067051 C82.1773391,11.3067051 82.7257979,10.7335807 82.7257979,10.0742341 C82.7257979,9.31446391 81.7728314,9.17118282 80.7765249,8.94167947 C79.6218206,8.66957218 78.3801781,8.29678774 78.3801781,6.89212582 C78.3801781,5.83159212 79.3906733,4.81391595 81.0076722,4.81391595 C82.0759542,4.81391595 83.1297896,5.20090171 83.7507399,5.91756078 L82.9275358,6.60531003 C82.4371218,6.06109547 81.8161716,5.75982478 81.0076722,5.75982478 C80.0116236,5.75982478 79.4773536,6.27589031 79.4773536,6.87792451 C79.4773536,7.60878489 80.3869799,7.7809758 81.3685817,8.01022555 C82.5379907,8.28258643 83.8229734,8.64091597 83.8229734,10.0742341 C83.8229734,10.9914867 83.058072,12.2815238 81.0510123,12.2815238 C79.795181,12.2815238 78.7413456,11.7654582 78.0337152,10.9052645","id","Fill-44","fill","#0A0B09"],["_ngcontent-wxc-c75","","d","M84.6010315,10.9052645 L85.4817644,10.188859 C86.0157765,10.8482056 86.7375957,11.3067051 87.6616687,11.3067051 C88.7446555,11.3067051 89.2931142,10.7335807 89.2931142,10.0742341 C89.2931142,9.31446391 88.3401478,9.17118282 87.3438412,8.94167947 C86.1891369,8.66957218 84.9472364,8.29678774 84.9472364,6.89212582 C84.9472364,5.83159212 85.9577317,4.81391595 87.5749885,4.81391595 C88.6432706,4.81391595 89.6971059,5.20090171 90.3180562,5.91756078 L89.4948521,6.60531003 C89.0041802,6.06109547 88.3834879,5.75982478 87.5749885,5.75982478 C86.5789399,5.75982478 86.0444119,6.27589031 86.0444119,6.87792451 C86.0444119,7.60878489 86.9542962,7.7809758 87.9356401,8.01022555 C89.1053071,8.28258643 90.3902897,8.64091597 90.3902897,10.0742341 C90.3902897,10.9914867 89.6251304,12.2815238 87.6183286,12.2815238 C86.3622394,12.2815238 85.308404,11.7654582 84.6010315,10.9052645","id","Fill-45","fill","#0A0B09"],["_ngcontent-wxc-c75","","id","Fill-46","fill","#0A0B09","points","91.8328962 1.67491879 98.2281419 1.67491879 98.2281419 2.73570609 92.9589651 2.73570609 92.9589651 6.36185897 98.2281419 6.36185897 98.2281419 7.42239267 92.9589651 7.42239267 92.9589651 11.0632541 98.2281419 11.0632541 98.2281419 12.1382427 91.8328962 12.1382427 91.8328962 1.67491879"],["_ngcontent-wxc-c75","","d","M105.950163,8.55494731 C105.950163,7.06406313 104.795458,5.83159212 103.250693,5.83159212 C101.778161,5.83159212 100.622941,7.04986182 100.622941,8.55494731 C100.622941,10.0597792 101.778161,11.2780489 103.250693,11.2780489 C104.795458,11.2780489 105.950163,10.0597792 105.950163,8.55494731 Z M99.4966141,8.55494731 C99.4966141,6.50514007 101.041637,4.82837086 103.192648,4.82837086 C104.116721,4.82837086 105.214155,5.28687036 105.834589,6.13260922 L105.834589,1.67491879 L106.917318,1.67491879 L106.917318,12.1382427 L105.849294,12.1382427 L105.849294,10.9628305 C105.228601,11.8230243 104.116721,12.2815238 103.192648,12.2815238 C101.070531,12.2815238 99.4966141,10.6047546 99.4966141,8.55494731 L99.4966141,8.55494731 Z","id","Fill-47","fill","#0A0B09"],["_ngcontent-wxc-c75","","d","M114.754654,8.55494731 C114.754654,7.06406313 113.59995,5.83159212 112.054926,5.83159212 C110.582395,5.83159212 109.427174,7.04986182 109.427174,8.55494731 C109.427174,10.0597792 110.582395,11.2780489 112.054926,11.2780489 C113.59995,11.2780489 114.754654,10.0597792 114.754654,8.55494731 Z M108.301621,8.55494731 C108.301621,6.50514007 109.846129,4.82837086 111.997398,4.82837086 C112.921471,4.82837086 114.032835,5.30132527 114.653785,6.14681053 L114.653785,4.97165195 L115.765149,4.97165195 L115.765149,12.0091629 C115.765149,14.1880499 114.379298,15.6355694 112.199136,15.6355694 C110.43767,15.6355694 109.326305,14.8613443 108.80674,13.6575295 L109.903916,13.2991999 C110.250378,14.1162826 110.972198,14.6607507 112.199136,14.6607507 C113.773052,14.6607507 114.667974,13.5713072 114.667974,12.0378191 L114.667974,10.9483756 C114.061728,11.8085693 112.935659,12.2815238 111.997398,12.2815238 C109.875022,12.2815238 108.301621,10.6047546 108.301621,8.55494731 L108.301621,8.55494731 Z","id","Fill-48","fill","#0A0B09"],["_ngcontent-wxc-c75","","d","M118.289969,7.89560068 L123.44383,7.89560068 C123.242092,6.60531003 122.289126,5.81713721 120.888827,5.81713721 C119.589398,5.81713721 118.578903,6.69153229 118.289969,7.89560068 Z M117.149711,8.61200615 C117.149711,6.46228253 118.723112,4.82837086 120.888827,4.82837086 C122.967605,4.82837086 124.584603,6.24723409 124.584603,8.44006884 L124.584603,8.91327684 L118.232182,8.91327684 C118.376649,10.3323937 119.502976,11.2927574 120.946356,11.2927574 C122.116023,11.2927574 122.938453,10.6904696 123.386043,9.81632814 L124.353456,10.2892825 C123.689166,11.5362085 122.563097,12.2815238 120.946356,12.2815238 C118.65062,12.2815238 117.149711,10.7191258 117.149711,8.61200615 L117.149711,8.61200615 Z","id","Fill-49","fill","#0A0B09"],["_ngcontent-wxc-c75","","id","Fill-54","fill","#0A0B09","points","12.7387459 1.81186002 22.605586 1.81186002 22.605586 4.76345058 19.7748062 4.76345058 19.7748062 11.8567524 15.6634293 11.8567524 15.6634293 4.76345058 12.7387459 4.76345058 12.7387459 1.81186002"],["_ngcontent-wxc-c75","","id","Fill-55","fill","#0A0B09","points","27.6023393 5.87039213 25.5251099 11.8567524 21.5765164 11.8567524 25.4492647 1.81186002 29.7370977 1.81186002 33.7029756 11.8567524 29.7061404 11.8567524 27.6023393 5.87039213"],["_ngcontent-wxc-c75","","id","Fill-56","fill","#0A0B09","points","32.7595543 1.81186002 42.6261364 1.81186002 42.6261364 4.76345058 39.7963885 4.76345058 39.7963885 11.8567524 35.6850116 11.8567524 35.6850116 4.76345058 32.7595543 4.76345058 32.7595543 1.81186002"],["_ngcontent-wxc-c75","","id","Fill-57","fill","#0A0B09","points","45.5466921 11.8567524 41.5983567 11.8567524 45.4718789 1.81186002 49.75868 1.81186002 53.723268 11.8567524 49.7277227 11.8567524 47.6246956 5.87039213"],["_ngcontent-wxc-c75","","id","\xa9","font-family","Lato-Light, Lato","font-size","12","font-weight","300","fill","#202020"],["_ngcontent-wxc-c75","","x","1.661","y","12"],["_ngcontent-wxc-c75",""]],template:function(e,t){1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(0,"svg",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(1,"g",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(2,"g",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(3,"g",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(4,"g",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(5,"g",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(6,"path",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(7,"polygon",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(8,"path",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(9,"path",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(10,"path",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(11,"polyline",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(12,"path",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(13,"path",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(14,"path",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(15,"polyline",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(16,"polyline",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(17,"polyline",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(18,"polygon",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(19,"text",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(20,"tspan",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc(21,"\xa9 "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vb(22,"span",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc(23,"2021"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub())},encapsulation:2}),e}(),TceSmFooterSvgModule=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.b]]}),e}(),manual={revise:"\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n    ",practice:"\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n    ",test:"\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n    "},TimeUtilityService=function(){var e=function(){function e(){var t=this;_classCallCheck(this,e),this.date={time:function(e){return t.getCurrentDateTime(e)}}}return _createClass(e,[{key:"getCurrentDate",value:function(e){var t=new Date;return e?this.date[e](t):(console.log(t),t)}},{key:"getCurrentDateTime",value:function(e){return e.getTime()}},{key:"getLastDayOfWeek",value:function(e){var t=new Date(e);return new Date(t.setDate(t.getDate()-(t.getDay()-1)+5))}},{key:"getFirstDayOfWeek",value:function(e){var t=new Date(e);return new Date(t.setDate(t.getDate()-6))}},{key:"getWeekCount",value:function(e,t){e=new Date(e);var n=this.getLastDayOfWeek(e),r=this.getFirstDayOfWeek(n);t=new Date(t);var i=this.getLastDayOfWeek(t),o=this.getFirstDayOfWeek(i),s=this.differenceInTime(o,r);return Math.floor(s.days/7+1)}},{key:"getStartWeekDate",value:function(e){e=new Date(e);var t=this.getLastDayOfWeek(e);return this.getFirstDayOfWeek(t)}},{key:"getDateLabel",value:function(e){var t=new Date(e).toLocaleDateString("default",{weekday:"short"}),n=new Date(e).getDate(),r=new Date(e).toLocaleDateString("default",{month:"short"});return new Date(e).getFullYear(),"".concat(t,", ").concat(n,"-").concat(r)}},{key:"twoDateCompareStatus",value:function(e,t){return e.getTime()===t.getTime()?0:e.getTime()<t.getTime()?1:2}},{key:"differenceInTime",value:function(e,t){var n=Math.abs(e.getTime()-t.getTime())/1e3;return{days:Math.floor((e.getTime()-t.getTime())/864e5),hours:Math.floor(n/3600)%24,minutes:Math.floor(n/60)%60,seconds:Math.floor(n%60)}}},{key:"incrementDate",value:function(e,t){return new Date(e.setDate(e.getDate()+t))}},{key:"decrementDate",value:function(e,t){return new Date(e.setDate(e.getDate()-t))}},{key:"formatDate",value:function(e,t){return new _angular_common__WEBPACK_IMPORTED_MODULE_1__.d("en-US").transform(e,t)}},{key:"getFormattedDate",value:function(e){if(!e)return"";var t=moment__WEBPACK_IMPORTED_MODULE_5__(),n=t.clone().startOf("day"),r=t.clone().subtract(1,"days").startOf("day"),i=t.clone().subtract(1,"weeks").startOf("isoWeek"),o=t.clone().subtract(1,"months").startOf("month"),s=t.clone().subtract(1,"years").startOf("day"),a=t.clone().add(1,"days").startOf("day"),u=t.clone().add(1,"weeks").startOf("isoWeek"),c=t.clone().add(1,"months").startOf("month"),l=t.clone().add(1,"years").startOf("day");if(!e)return null;var h=moment__WEBPACK_IMPORTED_MODULE_5__(new Date(e)),d=moment__WEBPACK_IMPORTED_MODULE_5__(h).diff(t)>0;return h.isSame(n,"d")?"Today":h.isSame(r,"d")?"Yesterday":h.isSame(a,"d")?"Tomorrow":h.isSame(t,"isoWeek")&&!d?"Earlier this week":h.isSame(t,"isoWeek")&&d?"Later this week":h.isSame(i,"isoWeek")?"Last week":h.isSame(u,"isoWeek")?"Next week":h.isSame(t,"month")&&!d?"earlier this Month":h.isSame(t,"month")&&d?"Later this Month":h.isSame(o,"month")?"Last Month":h.isSame(c,"month")?"Next Month":h.isSame(t,"year")?h.format("MMM"):h.isBetween(s,t)?"Last "+h.format("MMM"):h.isBetween(t,l)?"Next "+h.format("MMM"):h>=moment__WEBPACK_IMPORTED_MODULE_5__(l)?"Get a time machine":h<=moment__WEBPACK_IMPORTED_MODULE_5__(s)?"More than a year ago":void 0}},{key:"MockTestFormatDate",value:function(e){console.log(e,"resdate in mocktestFormatedate function");var t=new Date(Number(e));console.log("Given Date :: "+t.toString());var n=new Date;console.log("Today's date : "+n);var r=t.valueOf()-n.valueOf();console.log(r,"difftime");var i=Math.ceil(r/864e5);return console.log(i,"diffDays"),t>n?(console.log("Future "+i+" days"),i):(console.log("past"+i+" days"),i)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),SCREEN_RESOLUTION_CONFIG$1=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("SCREEN_RESOLUTION_CONFIG"),ScreenDetectorService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.config=t}return _createClass(e,[{key:"getScreenResolution",value:function(){var e=this,t=function(t){return t<=e.config.mobile.max},n=function(t){return t>e.config.tablet.min&&t<=e.config.tablet.max},r=function(t){return t>=e.config.desktop.min};return Object(rxjs__WEBPACK_IMPORTED_MODULE_11__.a)(window,"resize").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_34__.a)(200),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(){return window.innerWidth}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_35__.a)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_36__.a)(window.innerWidth),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){return{mobile:t(e),tablet:n(e),desktop:r(e)}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(SCREEN_RESOLUTION_CONFIG$1))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}();function replaceDefaultResolutions(e){var t={mobile:{max:480},tablet:{min:481,max:768},desktop:{min:769}};return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(e).map(function(e,n){return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.has)(t,n)&&n===ResolutionTypes.MOBILE&&(t.mobile.max=e),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.has)(t,n)&&n===ResolutionTypes.TABLET&&(t[n]={min:t.mobile.max+1,max:e},t.desktop={min:e+1}),e}).value(),t}var ScreenDetectorModule=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[ScreenDetectorService,{provide:SCREEN_RESOLUTION_CONFIG$1,useValue:replaceDefaultResolutions(t)}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({}),e}();function validateMobile(){return function(e){return new RegExp(/^[0-9][0-9]{9}$/).test(e.value)?null:{mobile:"invalid"}}}function validatePassword(){return function(e){var t={},n=new RegExp("^.*[a-z].*$"),r=new RegExp("^[^\\s]{8,14}$"),i=new RegExp("^.*[0-9].*$"),o=new RegExp("^.*[!@#$%^&].*$"),s=new RegExp("^.*[*].*$");return n.test(e.value)||(t.lowerLetter=!0),r.test(e.value)||(t.range=!0),i.test(e.value)||(t.number=!0),o.test(e.value)&&!s.test(e.value)||(t.special=!0),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.isEmpty)(t)?null:t}}function validateFirstAndLastName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(n){var r="^\\b(?!.*?\\s{2})[A-Za-z ]{".concat(e,",").concat(t,"}\\b$");return console.log("pattern",r),new RegExp(r,"gm").test(n.value)?null:{firstAndLastName:!0}}}function validateName(){return function(e){return new RegExp(/^(?!.{20,})(.{3})[a-zA-Z]*$/).test(e.value)?null:{name:!0}}}function validateEmail(){return function(e){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e.value)?null:{email:!0}}}function validatePincode(){return function(e){return new RegExp(/^[1-9][0-9]{5}$/).test(e.value)?null:{pincode:!0}}}function validateGST(){return function(e){return/^\d{2}[A-Z]{5}\d{4}[A-Z]{1}[A-Z\d]{1}[Z]{1}[A-Z\d]{1}$/.test(e.value)||""===e.value?null:{gst:!0}}}var IntroObjectiveTypes=function(e){return e[e.SUCCESS=3]="SUCCESS",e[e.FAIL=2]="FAIL",e.GENERAL="general",e[e.NA=1]="NA",e[e.MARK_COMPLETE=4]="MARK_COMPLETE",e}({}),IntroMode=function(e){return e[e.OPENING=1]="OPENING",e[e.CLOSING=0]="CLOSING",e}({}),TypesOfLessonPlayers=function(e){return e.REVISE="revise",e.PRACTICE="practice",e.SPACEDPRACTICE1="spacedpractice1",e.SPACEDPRACTICE2="spacedpractice2",e.TEST="test",e.BIGIDEA="bigidea",e}({}),TypesOfIntroObjectives=function(e){return e.DURATION="duration",e.TARGET="target",e.GOAL="goal",e}({}),LessonPlayerResourceTypes=function(e){return e.VIDEO="video",e}({}),SubscriptionsService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.remoteConfig=t}return _createClass(e,[{key:"selectedChild",get:function(){return this._selectedChild},set:function(e){this._selectedChild=e}},{key:"selectedPlan",get:function(){return this._selectedPlan},set:function(e){this._selectedPlan=e}},{key:"selectedPlanType",get:function(){return this._selectedPlanType},set:function(e){this._selectedPlanType=e}},{key:"subscriptionId",get:function(){return this._subscriptionId},set:function(e){this._subscriptionId=e}},{key:"isAdvancePayment",get:function(){return this._isAdvancePayment},set:function(e){this._isAdvancePayment=e}},{key:"advanceDiscountOffer",get:function(){return this._advanceDiscountOffer},set:function(e){this._advanceDiscountOffer=e}},{key:"appliedCouponCode",get:function(){return this._appliedCouponCode},set:function(e){this._appliedCouponCode=e}},{key:"appliedOfferDetails",get:function(){return this._appliedOfferDetails},set:function(e){this._appliedOfferDetails=e}},{key:"resetSubscriptionDetails",value:function(){this.selectedChild=null,this.selectedPlan=null,this.subscriptionId=null}},{key:"isPlanExpired",value:function(e){return e===ZohoSubscriptionStatus.TRIAL_EXPIRED||e===ZohoSubscriptionStatus.EXPIRED||e===ZohoSubscriptionStatus.IN_ACTIVE}},{key:"isPlanCancellation",value:function(e){return e===ZohoSubscriptionStatus.CANCELLED}},{key:"getRenewSubscriptionOffer",value:function(e,t){var n=this;return new rxjs__WEBPACK_IMPORTED_MODULE_16__.a(function(r){n.remoteConfig.advancePayment().then(function(){var i,o=n.remoteConfig.remoteConfig.getValue("advance_payment").asString(),s=JSON.parse(o);i=e?s.rulesAdvance.filter(function(e){return e.existingPlan.includes(t)}):s.rulesExpire.filter(function(e){return console.log(e),e.existingPlan.includes(t)}),r.next({showBefore:(null==s?void 0:s.showbefore)||15,data:i})})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(RemoteConfigService))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(RemoteConfigService))},token:e,providedIn:"root"}),e}(),VideoPlayerStateEnum=function(e){return e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.END="end",e.PULSE="pulse",e.REPLAY="replay",e}({}),StudyPlanCreateEventsEnums=function(e){return e.CREATE="create",e.PORTION_UPDATE="portion_update",e.DATE_UPDATE="date_update",e}({}),AnalyticsService=function(){var e=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.router=t,this.gtmService=n,this.ledgerService=r,this.authenticationService=i,this.timeUtilityService=o,this.coreService=s,this.http=a,this.apiUrlService=u}return _createClass(e,[{key:"setDataLayerGTM",value:function(e){var t,n,r,i,o,s,a,u,c,l;console.log("\ud83d\ude80 ~ file: analytics.service.ts ~ line 81 ~ AnalyticsService ~ setDataLayerGTM ~ userData",e),(null===(t=null==e?void 0:e.userSettings)||void 0===t?void 0:t.info5)&&(c=e.userSettings.info5),l=parseInt(localStorage.getItem("currentLoginType"))===LoginTypeEnum.PARENT?GtmUserTypeEnum.PARENT:GtmUserTypeEnum.STUDENT,this.dataDeclaration={user_ID:null===(n=null==e?void 0:e.userSettings)||void 0===n?void 0:n.oid,user_type:l,site_section:void 0,page_name:void 0,School:"TCE_School",Grade:(null===(r=null==c?void 0:c.grade)||void 0===r?void 0:r.name)?null===(i=null==c?void 0:c.grade)||void 0===i?void 0:i.name:void 0,Board:(null===(o=null==c?void 0:c.board)||void 0===o?void 0:o.name)?null===(s=null==c?void 0:c.board)||void 0===s?void 0:s.name:void 0,Curriculum:(null===(a=null==c?void 0:c.curriculum)||void 0===a?void 0:a.name)?null===(u=null==c?void 0:c.curriculum)||void 0===u?void 0:u.name:void 0,AY:"2021"},this.gtmService.setDataLayer(this.dataDeclaration),this.listenToRouterEvents()}},{key:"listenToRouterEvents",value:function(){var e=this;this.routerSub=this.router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.a)(function(e){return e instanceof _angular_router__WEBPACK_IMPORTED_MODULE_41__.c}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_35__.a)()).subscribe(function(t){e.gtmService.firePageViewEvents(t.urlAfterRedirects),e.gtmService.fireRoutePairWiseEvents(t.urlAfterRedirects,e.previousUrl),e.previousUrl=t.urlAfterRedirects})}},{key:"apiInterceptorEvent",value:function(e,t,n){e&&t&&this.gtmService.onApiInterceptorEvent(e,t,n)}},{key:"lessonPlayerOpened",value:function(e){e&&this.gtmService.onLessonPlayerOpened(e)}},{key:"lessonPlayerAbandoned",value:function(e,t){this.gtmService.onLessonPlayerAbandoned(e,t)}},{key:"setBooksAndSessionsData",value:function(e){e&&this.gtmService.setBooksAndSessionsData(e)}},{key:"bigIdeaClosed",value:function(){this.gtmService.onBigIdeaClosed()}},{key:"bigIdeaSessionEnded",value:function(){this.gtmService.onBigIdeaSessionEnded()}},{key:"bigIdeaSessionStarted",value:function(){this.gtmService.onBigIdeaSessionStarted()}},{key:"bigIdeaAssetReplay",value:function(){this.gtmService.onBigIdeaAssetReplay()}},{key:"taskOpen",value:function(e){var t,n,r;e&&(4===e.type?this.gtmService.setTestMetaData(!1,null===(t=e.data)||void 0===t?void 0:t.difficulty):5===e.type?this.gtmService.setTestMetaData(!0,null===(n=e.data)||void 0===n?void 0:n.difficulty):6===e.type?this.gtmService.setTestMetaData(!0,null===(r=e.data)||void 0===r?void 0:r.difficulty):this.gtmService.onTaskOpen(e))}},{key:"taskCompleted",value:function(e){e&&this.gtmService.onTaskCompleted(e)}},{key:"taskCreated",value:function(e){e&&this.gtmService.onTaskCreated(e)}},{key:"introScreenActionTriggered",value:function(e,t){var n;if(e&&t){var r;for(var i in t)t.hasOwnProperty(i)&&(null===(n=t[i])||void 0===n?void 0:n.action)===e&&(r=t[i]);this.gtmService.onIntroScreenActionTriggered(r)}}},{key:"questionLoaded",value:function(e,t){this.gtmService.onQuestionLoaded(e,t)}},{key:"questionAttempted",value:function(e,t,n,r){this.gtmService.onQuestionAttempted(e,t,n,r)}},{key:"OnQuestionAttempt",value:function(e,t,n,r,i){this.ledgerService.dataEventLog(e,t,n,r,i)}},{key:"OnQuestionSubmit",value:function(e,t,n,r,i){this.ledgerService.dataEventLog(e,t,n,r,i)}},{key:"nextQuestionLoad",value:function(e,t,n,r,i){this.ledgerService.dataEventLog(e,t,n,r,i)}},{key:"eventCapturing",value:function(e,t,n,r,i,o,s){var a=this,u=this.EventToAnalyticsMapping[o];u||(u=[]),u.forEach(function(o){o.fnName.forEach(function(o){console.log("\ud83d\ude80 ~ file: analytics.service.ts ~ line 299 ~ AnalyticsService ~ event.forEach ~ fn",o),a[o](e,t,n,r,i)})})}},{key:"retryQuestion",value:function(){this.gtmService.onQuestionRetry()}},{key:"questionSkipped",value:function(e,t,n,r){t&&this.gtmService.onQuestionSkip(e,t,n,r)}},{key:"quizEnd",value:function(e){e&&this.gtmService.onQuizEnd(e)}},{key:"testSubmit",value:function(e,t,n){e&&t&&this.gtmService.onTestSubmit(e,t,n)}},{key:"assetPlayerEvent",value:function(e,t,n,r){e&&this.gtmService.onAssetPlayerEvent(e,t,n,r)}},{key:"assetProgressPercent",value:function(e){e&&this.gtmService.onAssetProgrssPercent(e)}},{key:"assetHeartBeat",value:function(e){this.gtmService.onAssetHeartBeat(e)}},{key:"videoModalClosed",value:function(){this.gtmService.onVideoModalClosed()}},{key:"bookEvent",value:function(e,t){this.gtmService.onBookEvent(e,t)}},{key:"reviewAttemptEvent",value:function(e){e&&this.gtmService.onReviewAttempt(e)}},{key:"lessonPlayerReviewPageView",value:function(){this.gtmService.onLessonPlayerReviewPageView()}},{key:"lessonPlayerVideoPageView",value:function(){this.gtmService.onLessonPlayerVideoPageView()}},{key:"lessonPlayerQuizPageView",value:function(){this.gtmService.onLessonPlayerQuizPageView()}},{key:"lessonPlayerSummaryPageView",value:function(){this.gtmService.onLessonPlayerSummaryPageView()}},{key:"lessonPlayerSummaryCardPageView",value:function(){this.gtmService.onLessonPlayerSummaryCardPageView()}},{key:"filtersApplied",value:function(e,t){e&&this.gtmService.onFiltersApplied(e,t)}},{key:"reviseQuizStarted",value:function(){this.gtmService.onReviseQuizStarted(),this.getAnalyticsConfig()}},{key:"checkReviseSessionEnded",value:function(){this.gtmService.onReviseSessionEnded()}},{key:"updateBooksOnSessionComplete",value:function(e){e&&this.gtmService.updateBooksOnSessionComplete(e)}},{key:"digitalTestSessionStarted",value:function(){this.getAnalyticsConfig()}},{key:"practiceSessionStarted",value:function(e){e.length>0&&this.gtmService.onPracticeSessionStarted(e),this.getAnalyticsConfig()}},{key:"practiceSessionEnded",value:function(e,t,n){e&&t.length>0&&this.gtmService.onPraciceSessionEnded(e,t,n)}},{key:"digitalTestCreated",value:function(e,t){e&&t&&this.gtmService.onDigitalTestCreated(e,t)}},{key:"printTestCreated",value:function(e,t){e&&t&&this.gtmService.onPrintTestCreated(e,t)}},{key:"summaryOpened",value:function(e){e&&this.gtmService.onSummaryOpened(e)}},{key:"summaryEnded",value:function(e){this.gtmService.onSummaryEnded(e)}},{key:"setStudyPlanDataForGtm",value:function(e,t,n,r){this.gtmService.setStudyPlanData(this.formatStudyPlanDataForGTM(e,t,n,r),!0)}},{key:"reviewPlanOpenedFromMyLessonsPage",value:function(){this.gtmService.onReviewPlanOpenedFromMyLessonsPage()}},{key:"reviewPlanOpenedFromPlanCompletedPage",value:function(e){this.gtmService.setStudyPlanData(this.formatStudyPlanDataForGTM(e,[],0,0),!1),this.gtmService.onReviewPlanOpenedFromMyLessonsPage()}},{key:"reviewPlanOpenedFromMyPlansPage",value:function(e,t,n){var r=this.coreService.getAppConfig().mylesson.config.lessonType,i=0;t.map(function(e){var t=lodash__WEBPACK_IMPORTED_MODULE_6__(r).find({type:null==e?void 0:e.lessonType});i+=null==t?void 0:t.maxStars}),this.gtmService.onReviewPlanOpenedFromMyPlansPage(this.formatStudyPlanDataForGTM(e,t,n,i))}},{key:"subjectPortionOpened",value:function(){this.gtmService.onSubjectPortionOpened()}},{key:"updateStudyTimeClicked",value:function(){this.gtmService.onUpdateStudyTimeClicked()}},{key:"updateSpPortionClicked",value:function(){this.gtmService.onUpdatePortionClicked()}},{key:"fullScheduleOpened",value:function(){this.gtmService.onFullScheduleOpened()}},{key:"manageCreateSpOpened",value:function(){this.gtmService.onManageCreateSpOpened()}},{key:"pausePlanCliked",value:function(){this.gtmService.onPausePlanClicked()}},{key:"markAsCompleteClicked",value:function(e,t){var n=this.getCurrentPlanStats(e,t);this.gtmService.onMarkAsCompletedClicked({sp_task_type:null==t?void 0:t.lessonType,sp_achieved_bonus_stars:null==t?void 0:t.lessonStarAchieved,sp_daily_completed_tasks:1,sp_daily_time_progress:0,sp_overall_portion_progress:n.portionPercent,sp_overall_time_progress:n.timePercent,sp_subject_portion_progress:n.portionPercentMarkedSubject})}},{key:"lessonCompleted",value:function(e){this.gtmService.onLessonCompleted(e)}},{key:"studyPlanCreated",value:function(e,t,n,r){var i,o,s=[],a=[];n.map(function(e){s=[].concat(_toConsumableArray(s),[e.subjectLabel]),a=2===(null==e?void 0:e.priority)?[].concat(_toConsumableArray(a),[null==e?void 0:e.subjectLabel]):a});var u={subjects:s,extraAttentionSubjects:a,chapters:this.formatPortionNode(t.chapters),topics:this.formatPortionNode(t.topics),subtopics:this.formatPortionNode(t.subtopics)},c=this.timeUtilityService.differenceInTwoDays(new Date(r.goalEndDate),new Date(r.planStartDate?r.planStartDate:(new Date).getTime())).days+1,l={sp_daily_time_goal_dim:this.timeUtilityService.formatTimeInHoursAndMinutes(r.dailyStudyTime).timeString,sp_daily_time_goal_metric:60*r.dailyStudyTime,sp_days_goal_dim:"".concat(c," days"),sp_days_goal_metric:c,sp_ID:r.planId};if(StudyPlanCreateEventsEnums.CREATE&&r.feasibleDate&&r.feasibleTime){var h=(null===(i=this.timeUtilityService.differenceInTwoDays(new Date(r.feasibleDate),new Date))||void 0===i?void 0:i.days)+1,d=null===(o=this.timeUtilityService.formatTimeInHoursAndMinutes(r.feasibleTime))||void 0===o?void 0:o.timeInHours;l.sp_default_timeline_goal="days - ".concat(h,", daily time - ").concat(d)}this.gtmService.onCreateStudyPlanEvents(e,u,l)}},{key:"formatPortionNode",value:function(e){return e.map(function(e){return e.nodeLabel})}},{key:"formatStudyPlanDataForGTM",value:function(e,t,n,r){var i=[],o=[],s=[],a=[];e.books.map(function(e){o=2===(null==e?void 0:e.priority)?[].concat(_toConsumableArray(o),[null==e?void 0:e.subjectLabel]):o}),t.map(function(e){var t,n,r,o,u,c;e&&(i=i.includes(null===(t=e.subjects)||void 0===t?void 0:t.label)?i:[].concat(_toConsumableArray(i),[null===(n=e.subjects)||void 0===n?void 0:n.label]),s=s.includes(null===(r=e.chapter)||void 0===r?void 0:r.label)?s:[].concat(_toConsumableArray(s),[null===(o=e.chapter)||void 0===o?void 0:o.label]),a=a.includes(null===(u=e.tp)||void 0===u?void 0:u.label)?a:[].concat(_toConsumableArray(a),[null===(c=e.tp)||void 0===c?void 0:c.label]))});var u={subjects:i,lessons:s,topics:a,extraAttentionSubjects:o};return{sp_ID:e.planId,sp_daily_time_goal_dim:this.timeUtilityService.formatTimeInHoursAndMinutes(e.dailyStudyTime).timeString,sp_days_goal_dim:"".concat(this.timeUtilityService.differenceInTwoDays(new Date(e.planGoalEndDate),new Date(e.planCreateDate)).days+1," days"),sp_daily_total_tasks:n,sp_total_bonus_stars:r,sp_status:e.planStatus,portion:u}}},{key:"getCurrentPlanStats",value:function(e,t){var n=0,r=0,i=0,o=0,s=0,a=0;e.map(function(e){var u;n+=null==e?void 0:e.totalLessons,r+=null==e?void 0:e.lessonsCompleted,i+=null==e?void 0:e.totalDuration,o+=null==e?void 0:e.timeSpent,(null===(u=null==t?void 0:t.book)||void 0===u?void 0:u.id)===(null==e?void 0:e.id)&&(s+=null==e?void 0:e.totalLessons,a+=null==e?void 0:e.lessonsCompleted)});var u=(o/i*100).toFixed(2);return{portionPercent:(r/n*100).toFixed(2),timePercent:u,portionPercentMarkedSubject:(a/s*100).toFixed(2)}}},{key:"childProfileCreated",value:function(e){this.gtmService.onChildProfileCreated(e)}},{key:"cancelSubscription",value:function(e){this.gtmService.onCancelSubscription(e)}},{key:"paymentSuccess",value:function(e){this.gtmService.onPaymentSuccess(e)}},{key:"productPlanList",value:function(e){this.gtmService.onProductPlanList(e)}},{key:"productPlanClick",value:function(e){this.gtmService.onProductPlanClick(e)}},{key:"productPlanViewDetails",value:function(e){this.gtmService.onProductPlanViewDetails(e)}},{key:"checkout",value:function(e){this.gtmService.onCheckout(e)}},{key:"signInSuccess",value:function(e){this.gtmService.onSignInSuccess(e)}},{key:"signInFailuer",value:function(e){this.gtmService.onSignInFailuer(e)}},{key:"registrationChildDetails",value:function(e){this.gtmService.onRegistrationChildDetails(e)}},{key:"registrationContactDetails",value:function(e){this.gtmService.onRegistrationContactDetails(e)}},{key:"registrationSuccess",value:function(e){this.gtmService.onRegistrationSuccess(e)}},{key:"registrationFailuer",value:function(e){this.gtmService.onRegistrationFailuer(e)}},{key:"onSignUpClick",value:function(e){this.gtmService.onSignUpClick(e)}},{key:"on15DaysTrialInit",value:function(e){this.gtmService.on15DaysTrialInit(e)}},{key:"onRegEnteringMobile",value:function(e){this.gtmService.onRegEnteringMobile(e)}},{key:"onRegMobileAlreadyExsits",value:function(e){this.gtmService.onRegMobileAlreadyExsits(e)}},{key:"onRegMobileOTPGeneration",value:function(e){this.gtmService.onRegMobileOTPGeneration(e)}},{key:"onRegMobileOTPValidation",value:function(e){this.gtmService.onRegMobileOTPValidation(e)}},{key:"onRegPasswordSuccess",value:function(e){this.gtmService.onRegPasswordSuccess(e)}},{key:"onRegBeginOnboarding",value:function(e){this.gtmService.onRegBeginOnboarding(e)}},{key:"onRegBoardSelected",value:function(e){this.gtmService.onRegBoardSelected(e)}},{key:"onRegGradeSelected",value:function(e){this.gtmService.onRegGradeSelected(e)}},{key:"on15DaysTrialFinal",value:function(e){this.gtmService.on15DaysTrialFinal(e)}},{key:"onOnboardingComplete",value:function(e){this.gtmService.onOnboardingComplete(e)}},{key:"createPassword",value:function(e){this.gtmService.onCreatePassword(e)}},{key:"logout",value:function(e){this.gtmService.onLogout(e)}},{key:"getAnalyticsConfig",value:function(){var e=this;this.http.get(this.apiUrlService.getAnalyticsConfig()).subscribe(function(t){e.EventToAnalyticsMapping=t,console.log(e.EventToAnalyticsMapping)})}},{key:"ngOnDestroy",value:function(){this.routerSub&&this.routerSub.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_router__WEBPACK_IMPORTED_MODULE_41__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(GtmService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LedgerService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AuthenticationService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),AssignmentActionTypes=function(e){return e.GET_CONFIG="[Assignment] GET_CONFIG",e.GET_CONFIG_SUCCESS="[Assignment] GET_CONFIG_SUCCESS",e.GET_CONFIG_FAILED="[Assignment] GET_CONFIG_FAILED",e.GET_ASSIGNMENT_LIST="[Assignment] GET_ASSIGNMENT",e.GET_ASSIGNMENT_LIST_SUCCESS="[Assignment] GET_ASSIGNMENT_SUCCESS",e.GET_ASSIGNMENT_LIST_FAILED="[Assignment] GET_ASSIGNMENT_FAILED",e.UPDATE_ASSIGNMENT_STATE="[Assignment] UPDATE_ASSIGNMENT_STATE",e.UPDATE_ASSIGNMENT_LIST="[Assignment] UPDATE_ASSIGNMENT_LIST",e.DELETE_ASSIGNMENT_LIST="[Assignment] DELETE_ASSIGNMENT_LIST",e.UPDATE_LIST="[Assignment] UPDATE_LIST",e.UPSERT_ASSIGN_TASK="[Assignment] UPSERT_ASSIGN_TASK",e.UPSERT_ASSIGNMENT_RESOURCE="[Assignment] UPSERT_ASSIGNMENT_RESOURCE",e.RESET_CONFIG_STATE="[Assignment] RESET_CONFIG_STATE",e}({}),GetAssignmentList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_ASSIGNMENT_LIST),UpdateAssignmentList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPDATE_ASSIGNMENT_LIST,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfig=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_CONFIG,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfigSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_CONFIG_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfigFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_CONFIG_FAILED),GetAssignmentListSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_ASSIGNMENT_LIST_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateAssignmentState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPDATE_ASSIGNMENT_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPDATE_LIST,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetAssignmentListFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.GET_ASSIGNMENT_LIST_FAILED),DeleteAssignmentList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.DELETE_ASSIGNMENT_LIST,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),setAssignTaskData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPSERT_ASSIGN_TASK,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),setAssignmentResourceData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.UPSERT_ASSIGNMENT_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),ResetConfigState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(AssignmentActionTypes.RESET_CONFIG_STATE),assignmentActions={AssignmentActionTypes:AssignmentActionTypes,GetAssignmentList:GetAssignmentList,UpdateAssignmentList:UpdateAssignmentList,GetConfig:GetConfig,GetConfigSuccess:GetConfigSuccess,GetConfigFailed:GetConfigFailed,GetAssignmentListSuccess:GetAssignmentListSuccess,UpdateAssignmentState:UpdateAssignmentState,UpdateList:UpdateList,GetAssignmentListFailed:GetAssignmentListFailed,DeleteAssignmentList:DeleteAssignmentList,setAssignTaskData:setAssignTaskData,setAssignmentResourceData:setAssignmentResourceData,ResetConfigState:ResetConfigState},defaultAssignment={ids:[],entities:{},assignments:[]},defaultResourceAssignment={ids:[],entities:{},resources:[]},assignmentAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),\u02750$4=function(e){return e.lessonId},assignmentResourceAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$4}),assignmentEntityInitialState=assignmentAdapter.getInitialState(defaultAssignment),assignmentResourceEntityInitialState=assignmentResourceAdapter.getInitialState(defaultResourceAssignment),initialState$1={list:assignmentEntityInitialState,resource:assignmentResourceEntityInitialState,selectedAssignment:null,config:{},tasklist:assignmentEntityInitialState,assignTaskData:{}},assignmentState={defaultAssignment:defaultAssignment,defaultResourceAssignment:defaultResourceAssignment,assignmentAdapter:assignmentAdapter,assignmentResourceAdapter:assignmentResourceAdapter,initialState:initialState$1},getAssignmentFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.assignment),\u02750$5=function(e){return e.assignment},assignmentListState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,\u02750$5),\u02751$1=function(e){return e.assignment.selectedAssignment},selectedState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,\u02751$1),config$1=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,function(e,t){return e.assignment.config.hasOwnProperty(t.type)?e.assignment.config[t.type]:null})},\u02752$1=config$1,_assignmentState$assi=assignmentState.assignmentAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,function(e){return e.assignment.list})),selectAllAssignmentList=_assignmentState$assi.selectAll,_assignmentState$assi2=assignmentState.assignmentResourceAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,function(e){return e.assignment.resource})),selectAllResourceAssignment=_assignmentState$assi2.selectAll,\u02753$1=function(e){return e.assignment.tasklist},tasklist=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,\u02753$1),\u02754$1=function(e){return e.assignment.assignTaskData},formData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getAssignmentFeatureState,\u02754$1),getAssignmentById=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(assignmentListState,selectedState,selectAllAssignmentList,function(e,t,n,r){var i=t;return r&&(i=r.paramId),n.filter(function(e){return e.id===i})})},\u02755=getAssignmentById,getAssignmentResourceById=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(assignmentListState,selectedState,selectAllResourceAssignment,function(e,t,n,r){var i=t;return r&&(i=r.paramId),n.filter(function(e){return e.resourceId===i})})},\u02756=getAssignmentResourceById,assignmentSelector={getAssignmentFeatureState:getAssignmentFeatureState,assignmentListState:assignmentListState,selectedState:selectedState,config:config$1,selectAllAssignmentList:selectAllAssignmentList,selectAllResourceAssignment:selectAllResourceAssignment,tasklist:tasklist,formData:formData,getAssignmentById:getAssignmentById,getAssignmentResourceById:getAssignmentResourceById},\u02750$6=function(e,t){var n=t.assignments;return Object.assign(Object.assign({},e),{list:assignmentState.assignmentAdapter.upsertMany(n,Object.assign(Object.assign({},e.list),{assignments:n}))})},\u02751$2=function(e,t){var n=t.configType,r=t.config,i={};i[n]=r;var o=Object.assign(Object.assign({},e.config),i);return Object.assign(Object.assign({},e),{config:o})},\u02752$2=function(e,t){var n=t.ids;return Object.assign(Object.assign({},e),{list:assignmentState.assignmentAdapter.removeMany(n,e.list)})},\u02753$2=function(e,t){var n=t.obj;return Object.assign(Object.assign({},e),{list:assignmentState.assignmentAdapter.upsertOne(n,Object.assign(Object.assign({},e.list),{assignments:n}))})},\u02754$2=function(e,t){var n=t.additionalList;return Object.assign(Object.assign({},e),{list:assignmentState.assignmentAdapter.upsertMany(n,Object.assign(Object.assign({},e.list),{assignments:n}))})},\u02755$1=function(e,t){var n=t.setAssignTaskData;return Object.assign(Object.assign({},e),{assignTaskData:n})},\u02756$1=function(e,t){var n=t.id;return Object.assign(Object.assign({},e),{selectedAssignment:n})},\u02757=function(e,t){var n=t.resourceData;return Object.assign(Object.assign({},e),{resource:assignmentState.assignmentResourceAdapter.upsertMany(n,Object.assign(Object.assign({},e.resource),{resources:n}))})},\u02758=function(e){return Object.assign({},assignmentState.initialState)},assignmentReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(assignmentState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.GetAssignmentListSuccess,\u02750$6),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.GetConfigSuccess,\u02751$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.DeleteAssignmentList,\u02752$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.UpdateAssignmentList,\u02753$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.UpdateList,\u02754$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.setAssignTaskData,\u02755$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.UpdateAssignmentState,\u02756$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.setAssignmentResourceData,\u02757),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(assignmentActions.ResetConfigState,\u02758));function reducer(e,t){return assignmentReducer(e,t)}var reducers={assignment:reducer};function localStorageSyncReducer(e){return Object(ngrx_store_localstorage__WEBPACK_IMPORTED_MODULE_47__.a)({keys:[StoreStateEnum.assignment],rehydrate:!0})(e)}var metaReducers=[localStorageSyncReducer],assignmentReducers={reducers:reducers,localStorageSyncReducer:localStorageSyncReducer,metaReducers:metaReducers},AssignmentStoreService=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.apiUrlService=n}return _createClass(e,[{key:"getAssignment",value:function(){return this.http.get(this.apiUrlService.getAssignmentUrl()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getConfig",value:function(e){return this.http.get(this.apiUrlService.getConfig(e)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),AssignmentEffects=function(){var e=_createClass(function e(t,n,r){var i=this;_classCallCheck(this,e),this.actions$=t,this.assignmentStoreService=n,this.store=r,this.getAssignment$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return i.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(assignmentActions.GetAssignmentList),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(i.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.m)(assignmentSelector.selectAllAssignmentList),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=_slicedToArray(e,2),n=(t[0],t[1]);return i.assignmentStoreService.getAssignment().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.differenceWith)(n,e,function(e,t){return e.id===t.id}).map(function(e){return e.id});return[assignmentActions.GetAssignmentListSuccess({assignments:e}),assignmentActions.DeleteAssignmentList({ids:t})]}))}))}),this.getConfig$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return i.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(assignmentActions.GetConfig),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return i.assignmentStoreService.getConfig(e.configType).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){return[assignmentActions.GetConfigSuccess({configType:e.configType,config:t})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(assignmentActions.GetConfigFailed())}))}))})});return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AssignmentStoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),BrowseBookActionTypes=function(e){return e.SET_BOOK_STATE="[BrowseBook] SET_BOOK_STATE",e.IS_BOOK_EMPTY="[BrowseBook] IS_BOOK_EMPTY",e.SET_RESOURCE="[BrowseBook] SET_RESOURCE",e.GET_RESOURCES="[BrowseBook] GET_RESOURCES",e.GET_RESOURCES_SUCCESS="[BrowseBook] GET_RESOURCES_SUCCESS",e.GET_RESOURCES_FAILED="[BrowseBook] GET_RESOURCES_FAILED",e.UPDATE_RESOURCES="[BrowseBook] UPDATE_RESOURCES",e.GET_BOOK_PROGRESS="[BrowseBook] GET_BOOK_PROGRESS",e.GET_BOOK_PROGRESS_SUCCESS="[BrowseBook] GET_BOOK_PROGRESS_SUCCESS",e.GET_BOOK_PROGRESS_FAILED="[BrowseBook] GET_BOOK_PROGRESS_FAILED",e.GET_USER_ACTIVITY="[BrowseBook] GET_USER_ACTIVITY",e.SET_USER_ACTIVITY_NODE="[BrowseBook] SET_USER_ACTIVITY_NODE",e.GET_USER_ACTIVITY_SUCCESS="[BrowseBook] GET_USER_ACTIVITY_SUCCESS",e.GET_USER_ACTIVITY_FAILED="[BrowseBook] GET_USER_ACTIVITY_FAILED",e.SET_SELECTED_HIGHLIGHTS="[BrowseBook] SET_SELECTED_HIGHLIGHTS",e.SET_SELECTED_HIGHLIGHTS_SUCCESS="[BrowseBook] SET_SELECTED_HIGHLIGHTS_SUCCESS",e.SET_SELECTED_HIGHLIGHTS_FAILED="[BrowseBook] SET_SELECTED_HIGHLIGHTS_FAILED",e.PUT_NODE_ACTIVITIES="[BrowseBook] PUT_NODE_ACTIVITIES",e.PUT_NODE_ACTIVITIES_SUCCESS="[BrowseBook] PUT_NODE_ACTIVITIES_SUCCESS",e.PUT_NODE_ACTIVITIES_FAILED="[BrowseBook] PUT_NODE_ACTIVITIES_FAILED",e.PREV_NODE="[BrowseBook] PREV_NODE",e.GET_NODES="[BrowseBook] GET_NODES",e.SET_NODE="[BrowseBook] SET_NODE",e.SET_EXPANDED_NODE="[BrowseBook] SET_EXPANDED_NODE",e.GET_NODES_SUCCESS="[BrowseBook] GET_NODES_SUCCESS",e.GET_NODES_FAILED="[BrowseBook] GET_NODES_FAILED",e.IS_NODE_EMPTY="[BrowseBook] IS_NODE_EMPTY",e.IS_RESOURCE_EMPTY="[BrowseBook] IS_RESOURCE_EMPTY",e.GET_CONFIG="[BrowseBook] GET_CONFIG",e.GET_CONFIG_SUCCESS="[BrowseBook] GET_CONFIG_SUCCESS",e.GET_CONFIG_FAILED="[BrowseBook] GET_CONFIG_FAILED",e.UPDATE_BOOK_STATE="[UPDATE_BOOK_STATE] GET_CONFIG_FAILED",e.SET_GRADE="[BrowseBook] SET_GRADE",e.SET_BOOK="[BrowseBook] SET_BOOK",e.GET_NEXT_LESSON="[BrowseBook] GET_NEXT_LESSON",e.SET_NEXT_LESSON="[BrowseBook] SET_NEXT_LESSON",e.RESET_STATE="[BrowseBook] RESET_STATE",e.CLEAR_BOOK_NODES="[BrowseBook] CLEAR_BOOK_NODES",e}({}),SetResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetBookProgress=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_BOOK_PROGRESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetBookProgressSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_BOOK_PROGRESS_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetBookProgressFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_BOOK_PROGRESS_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetUserActivity=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_USER_ACTIVITY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetUserActivityNode=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_USER_ACTIVITY_NODE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetUserActivitySuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_USER_ACTIVITY_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetUserActivityFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_USER_ACTIVITY_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetResources=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_RESOURCES,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetResourcesSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_RESOURCES_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetResourcesFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_RESOURCES_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateResources=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.UPDATE_RESOURCES,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),PrevNode=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.PREV_NODE),GetNodes=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_NODES),SetNode=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_NODE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetExpandedNodeId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_EXPANDED_NODE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetSelectedHighlights=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_SELECTED_HIGHLIGHTS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetSelectedHighlightsSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_SELECTED_HIGHLIGHTS_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetSelectedHighlightsFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_SELECTED_HIGHLIGHTS_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),PutNodeActivities=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.PUT_NODE_ACTIVITIES,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),PutNodeActivitiesSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.PUT_NODE_ACTIVITIES_SUCCESS),PutNodeActivitiesFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.PUT_NODE_ACTIVITIES_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetNodesSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_NODES_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetNodesFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_NODES_FAILED),IsNodeEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.IS_NODE_EMPTY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetBookState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_BOOK_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),IsResourceEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.IS_RESOURCE_EMPTY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),IsSelectedBookEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.IS_BOOK_EMPTY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfig$1=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_CONFIG,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfigSuccess$1=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_CONFIG_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetConfigFailed$1=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_CONFIG_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateBookState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.UPDATE_BOOK_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetGrade=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_GRADE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetBook=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_BOOK,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetNextLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.GET_NEXT_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetNextLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.SET_NEXT_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),ResetState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.RESET_STATE),ClearBookNodes=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(BrowseBookActionTypes.CLEAR_BOOK_NODES),browseBookActions={SetResource:SetResource,GetBookProgress:GetBookProgress,GetBookProgressSuccess:GetBookProgressSuccess,GetBookProgressFailed:GetBookProgressFailed,GetUserActivity:GetUserActivity,SetUserActivityNode:SetUserActivityNode,GetUserActivitySuccess:GetUserActivitySuccess,GetUserActivityFailed:GetUserActivityFailed,GetResources:GetResources,GetResourcesSuccess:GetResourcesSuccess,GetResourcesFailed:GetResourcesFailed,UpdateResources:UpdateResources,PrevNode:PrevNode,GetNodes:GetNodes,SetNode:SetNode,SetExpandedNodeId:SetExpandedNodeId,SetSelectedHighlights:SetSelectedHighlights,SetSelectedHighlightsSuccess:SetSelectedHighlightsSuccess,SetSelectedHighlightsFailed:SetSelectedHighlightsFailed,PutNodeActivities:PutNodeActivities,PutNodeActivitiesSuccess:PutNodeActivitiesSuccess,PutNodeActivitiesFailed:PutNodeActivitiesFailed,GetNodesSuccess:GetNodesSuccess,GetNodesFailed:GetNodesFailed,IsNodeEmpty:IsNodeEmpty,SetBookState:SetBookState,IsResourceEmpty:IsResourceEmpty,IsSelectedBookEmpty:IsSelectedBookEmpty,GetConfig:GetConfig$1,GetConfigSuccess:GetConfigSuccess$1,GetConfigFailed:GetConfigFailed$1,UpdateBookState:UpdateBookState,SetGrade:SetGrade,SetBook:SetBook,GetNextLesson:GetNextLesson,SetNextLesson:SetNextLesson,ResetState:ResetState,ClearBookNodes:ClearBookNodes},defaultResource={ids:[],entities:{},resources:[]},defaultNode={ids:[],entities:{},nodes:[]},defaultBookState={ids:[],entities:{},books:[]},defaultNodeActivity={ids:[],entities:{},nodeActivitys:[]},\u02750$7=function(e){return e.resourceId},resourceAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$7}),\u02751$3=function(e){return e.nodeId+":"+e.parentNodeId},nodeAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02751$3}),\u02752$3=function(e){return e.bookId},bookStateAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02752$3}),nodeActivityAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({}),resourceInitialState=resourceAdapter.getInitialState(defaultResource),nodeInitialState=nodeAdapter.getInitialState(defaultNode),bookInitialState=bookStateAdapter.getInitialState(defaultBookState),nodeActivityInitialState=nodeActivityAdapter.getInitialState(defaultNodeActivity),initialState$2={resource:resourceInitialState,node:nodeInitialState,selectedResourceId:null,selectedNode:"root",expandedNodeId:"",isNodeEmpty:!0,config:{},book:bookInitialState,bookProgress:[],userActivity:{},isResourceEmpty:!0,error:"",success:"",gradeInfo:{},bookInfo:{},nodeActivity:nodeActivityInitialState,selectedHighlights:[]},browseBookState={defaultResource:defaultResource,defaultNode:defaultNode,defaultBookState:defaultBookState,defaultNodeActivity:defaultNodeActivity,resourceAdapter:resourceAdapter,nodeAdapter:nodeAdapter,bookStateAdapter:bookStateAdapter,nodeActivityAdapter:nodeActivityAdapter,resourceInitialState:resourceInitialState,nodeInitialState:nodeInitialState,bookInitialState:bookInitialState,nodeActivityInitialState:nodeActivityInitialState,initialState:initialState$2},getBrowseBookFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.browseBook),\u02750$8=function(e){return e.browseBook.resource},resourcesState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02750$8),\u02751$4=function(e){return e.browseBook.nodeActivity},nodeActivityState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02751$4),\u02752$4=function(e){return e.browseBook.node},nodeState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02752$4),_browseBookState$reso=browseBookState.resourceAdapter.getSelectors(resourcesState),selectAllResources=_browseBookState$reso.selectAll,_browseBookState$node=browseBookState.nodeActivityAdapter.getSelectors(nodeActivityState),selectAllNodeActivity=_browseBookState$node.selectAll,_browseBookState$node2=browseBookState.nodeAdapter.getSelectors(nodeState),selectAllNodes=_browseBookState$node2.selectAll,\u02753$3=function(e){return e.browseBook.selectedResourceId},getCurrentResourceId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02753$3),\u02754$3=function(e){return e.browseBook.selectedHighlights},getCurrentHighlightFilters=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02754$3),\u02755$2=function(e,t){return e.entities[t]},getCurrentResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourcesState,getCurrentResourceId,\u02755$2),\u02756$2=function(e){return e.browseBook.selectedNode},getSelectedNodeId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02756$2),\u02757$1=function(e){return e.browseBook.expandedNodeId},getExpandedNodeId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02757$1),\u02758$1=function(e){return e.browseBook.book.books},getBookState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02758$1),\u02759=function(e){return e.browseBook.bookProgress},getBookProgress=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u02759),getBookProgressByBookIds=function(e){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,function(e,t){return e.browseBook.bookProgress.filter(function(e){return t.bookIds.indexOf(e.id)>-1})})},\u027510=getBookProgressByBookIds,getNodeActivityByIds=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeActivityState,selectAllNodeActivity,function(e,t,n){return t.filter(function(e){return n.nodeIds.indexOf(e.id)>-1||n.nodeIds.indexOf(e.parentId)>-1})})},\u027511=getNodeActivityByIds,\u027512=function(e){return e.browseBook.userActivity},getUserActivity=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027512),getNodeById=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,selectAllNodes,function(e,t,n){return t.filter(function(e){return e.nodeId===n.nodeId})})},\u027513=getNodeById,getNodeByParentId=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,selectAllNodes,function(e,t,n){return t.filter(function(e){return e.parentNodeId===n.parentNodeId})})},\u027514=getNodeByParentId,getResourceByResourceId=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,selectAllResources,function(e,t,n){return t.filter(function(e){return e.resourceId===n.resourceId})[0]})},\u027515=getResourceByResourceId,getLessonPortion=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllNodes,selectAllResources,function(e,t,n){var r,i=["book","chapter","teaching point","bigIdea","summary","digital_test","studinotes","worksheet"];console.log("nodes selector ts",e),console.log("lessonId",n.lessonId),e.push({duration:14,nodeId:"wk-70acacc7-7f59-4101-b255-efccf9a78a61",nodeLabel:"Worksheet",nodeType:"worksheet",parentNodeId:"chp-7e75acfd-ddd4-4cf6-b56b-f51275625955"});var o=e.filter(function(e){return e.nodeId===n.lessonId}),s=o[0].parentNodeId,a=LessonPlayerNumberType[o[0].nodeType.toUpperCase()];a==LessonTypeNumber.REVISE.toString()?window.Hansel.logEvent("click_Revise","AF",{}):a==LessonTypeNumber.PRACTICE.toString()&&window.Hansel.logEvent("click_practice","AF",{});var u={lessonId:n.lessonId,lessonType:a,portion:void 0},c=[];!function t(n){var r=e.filter(function(e){return e.nodeId===n});r.length>0&&(t(r[0].parentNodeId),i.includes(r[0].nodeType)&&(void 0===u.portion?(u.portion={id:r[0].nodeId,version:"",node:[]},c=u.portion.node):(c.push({id:r[0].nodeId,type:r[0].nodeType,label:r[0].nodeLabel,node:[]}),c=c[0].node)))}(s);var l=t.filter(function(e){return e.resourceId===n.lessonId});return l.length>0&&(r=c).push.apply(r,_toConsumableArray(l[0].tqs)),u})},\u027516=getLessonPortion,browseBookTpTree=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllNodes,selectAllResources,function(e,t,n){var r={},i=e.filter(function(e){return e.parentNodeId===n.tpId}),o=e.filter(function(e){return e.nodeId===n.tpId}),s=[];return i.map(function(e){var n=t.filter(function(t){return t.resourceId===e.nodeId});n.length>0&&s.push.apply(s,_toConsumableArray(n[0].tqs))}),o.length>0&&(r={id:o[0].nodeId,label:o[0].nodeLabel,type:"teaching point",node:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.uniqBy)(s,"id")}),r})},\u027517=browseBookTpTree,\u027518=function(e,t){if(e.browseBook.selectedNode&&e.browseBook.book.entities[e.browseBook.selectedNode])return e.browseBook.book.entities[e.browseBook.selectedNode].state},isBookPresent=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027518),\u027519=function(e){return e.entities},getNodeList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,\u027519),\u027520=function(e,t){return e.nodes},isNodePresent=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,getSelectedNodeId,\u027520),\u027521=function(e,t){return Object.values(e.entities).filter(function(e){return e.nodeId===t})},isResourcePresent=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourcesState,getSelectedNodeId,\u027521),\u027522=function(e,t){return e.nodes.filter(function(e){return e.parentNodeId===t})},getSelectedNodeList=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(nodeState,getSelectedNodeId,\u027522),\u027523=function(e){return e.browseBook.isNodeEmpty},isNodeEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027523),\u027524=function(e){return e.browseBook.isResourceEmpty},isResourceEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027524),getBrowseBookConfigByType=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,function(e,t){return e.browseBook.config[t.lessonType]})},\u027525=getBrowseBookConfigByType,\u027526=function(e){return e.browseBook.gradeInfo},getGrade=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027526),\u027527=function(e){return e.browseBook.bookInfo},getBook=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getBrowseBookFeatureState,\u027527),browseBookSelectors={resourcesState:resourcesState,nodeActivityState:nodeActivityState,nodeState:nodeState,getCurrentResourceId:getCurrentResourceId,getCurrentHighlightFilters:getCurrentHighlightFilters,getCurrentResource:getCurrentResource,getSelectedNodeId:getSelectedNodeId,getExpandedNodeId:getExpandedNodeId,getBookState:getBookState,getBookProgress:getBookProgress,getUserActivity:getUserActivity,isBookPresent:isBookPresent,getNodeList:getNodeList,isNodePresent:isNodePresent,isResourcePresent:isResourcePresent,getSelectedNodeList:getSelectedNodeList,isNodeEmpty:isNodeEmpty,isResourceEmpty:isResourceEmpty,getGrade:getGrade,getBook:getBook,selectAllResources:selectAllResources,selectAllNodeActivity:selectAllNodeActivity,selectAllNodes:selectAllNodes,getBookProgressByBookIds:getBookProgressByBookIds,getNodeActivityByIds:getNodeActivityByIds,getNodeById:getNodeById,getNodeByParentId:getNodeByParentId,getResourceByResourceId:getResourceByResourceId,getLessonPortion:getLessonPortion,browseBookTpTree:browseBookTpTree,getBrowseBookConfigByType:getBrowseBookConfigByType},\u02750$9=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{selectedResourceId:n})},\u02751$5=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{resource:browseBookState.resourceAdapter.updateMany(n,e.resource)})},\u02752$5=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{resource:browseBookState.resourceAdapter.upsertMany(n,Object.assign(Object.assign({},e.resource),{resources:[].concat(_toConsumableArray(e.resource.resources),_toConsumableArray(n))}))})},\u02753$4=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{nodeActivity:browseBookState.nodeActivityAdapter.upsertMany(n,Object.assign({},e.nodeActivity))})},\u02754$4=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{nodeActivity:browseBookState.nodeActivityAdapter.upsertMany(n,Object.assign({},e.nodeActivity))})},\u02755$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{selectedNode:n})},\u02756$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{expandedNodeId:n})},\u02757$2=function(e,t){var n=t.filters;return Object.assign(Object.assign({},e),{selectedHighlights:n})},\u02758$2=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{userActivity:Object.assign(Object.assign({},e.userActivity),{node:n})})},\u02759$1=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{book:browseBookState.bookStateAdapter.addMany(n,Object.assign(Object.assign({},e.book),{books:[].concat(_toConsumableArray(e.book.books),_toConsumableArray(n))}))})},\u027510$1=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{node:browseBookState.nodeAdapter.addMany(n,Object.assign(Object.assign({},e.node),{nodes:[].concat(_toConsumableArray(e.node.nodes),_toConsumableArray(n))}))})},\u027511$1=function(e){return Object.assign(Object.assign({},e),{node:browseBookState.nodeAdapter.removeMany(function(e){return["book","subjects","grades"].indexOf(e.nodeType)<0},e.node),resource:browseBookState.resourceAdapter.removeAll(e.resource)})},\u027512$1=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{isNodeEmpty:n})},\u027513$1=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{isResourceEmpty:n})},\u027514$1=function(e,t){var n=t.payload,r=Object.assign(Object.assign({},e.config),n);return Object.assign(Object.assign({},e),{config:r})},\u027515$1=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{book:browseBookState.bookStateAdapter.updateOne(n,e.book)})},\u027516$1=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{gradeInfo:n})},\u027517$1=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{bookInfo:n})},\u027518$1=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{resource:browseBookState.resourceAdapter.updateOne(n,e.resource)})},\u027519$1=function(e){return Object.assign({},browseBookState.initialState)},browseBookReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(browseBookState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetResource,\u02750$9),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.UpdateResources,\u02751$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetResourcesSuccess,\u02752$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetBookProgressSuccess,\u02753$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetUserActivitySuccess,\u02754$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetNode,\u02755$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetExpandedNodeId,\u02756$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetSelectedHighlightsSuccess,\u02757$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetUserActivityNode,\u02758$2),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetBookState,\u02759$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetNodesSuccess,\u027510$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.ClearBookNodes,\u027511$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.IsNodeEmpty,\u027512$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.IsResourceEmpty,\u027513$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.GetConfigSuccess,\u027514$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.UpdateBookState,\u027515$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetGrade,\u027516$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetBook,\u027517$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.SetNextLesson,\u027518$1),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(browseBookActions.ResetState,\u027519$1));function reducer$1(e,t){return browseBookReducer(e,t)}var reducers$1={browseBook:reducer$1};function localStorageSyncReducer$1(e){return Object(ngrx_store_localstorage__WEBPACK_IMPORTED_MODULE_47__.a)({keys:[StoreStateEnum.browseBook],rehydrate:!0})(e)}var metaReducers$1=[localStorageSyncReducer$1],browseBookReducers={reducers:reducers$1,localStorageSyncReducer:localStorageSyncReducer$1,metaReducers:metaReducers$1},BrowseBookService=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.apiUrlService=n}return _createClass(e,[{key:"getNode",value:function(){return this.http.get(this.apiUrlService.getBrowseBookNodeUrl()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getResource",value:function(e){return this.http.get(this.apiUrlService.getBrowseBookResourceUrl(e)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getBookProgress",value:function(e){return this.http.get(this.apiUrlService.getBrowseBookProgressUrl(e)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(null)}))}},{key:"getUserActivity",value:function(e){return this.http.get(this.apiUrlService.getBrowseBookUserActivityUrl(e)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"putHighlightFilters",value:function(e,t){return this.http.put(this.apiUrlService.getBrowseBookPutHighlightUrl(e),{selectedHighlights:t}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"putNodeActivities",value:function(e,t,n,r){return this.http.put(this.apiUrlService.getBrowseBookPutNodeActivitiesUrl(e,t),{chapters:n,topics:r}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getConfig",value:function(e){return this.http.get(this.apiUrlService.getBrowseBookConfigUrl(e)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),BrowseBookEffects=function(){var e=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this.actions$=t,this.browseBookService=n,this.coreService=r,this.browseBookHttp=i,this.libTimeUtilityService=o,this.store=s,this.nodeData=[],this.resourceData=[],this.resourceParentData={},this.getResources$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return a.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetResources),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(a.store),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return a.browseBookHttp.getResources(n.resourceId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(e){console.log("resource effect",e);var t=firebase__WEBPACK_IMPORTED_MODULE_4__.a.remoteConfig();return t.settings.minimumFetchIntervalMillis=36e5,t.defaultConfig={continue_study_bb:!1},console.log("BrowseBookEffects -> res",e.node),Object(rxjs__WEBPACK_IMPORTED_MODULE_8__.a)(t.fetchAndActivate()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(){return[t,e]}))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=_slicedToArray(e,2),i=t[0],o=t[1],s=i.getBoolean("continue_study_bb");console.log(new Date(i.fetchTimeMillis)),console.log("\ud83d\ude80 ~ file: effects.ts ~ line 71 ~ BrowseBookEffects ~ this.resourceData.map ~ continue_study",s);var u=a.coreService.getAppConfig().browsebook.config.lessonType;return a.resourceData=[],a.nodeData=[],0!==o.node.length?(o.node.forEach(function(e){e.node.forEach(function(e){"digital test"==e.type&&(e.type="digital_test")})}),a.preaperNodeAndResource(o,null).then(function(){var e=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(r.browseBook.browseBook.resource.entities);console.log("resources clone Deep entities",e);var t=Object.keys(e).length,n=0;t>0&&(n=t),console.log("resource data before map",a.resourceData),a.resourceData.map(function(e,t){s&&(n+=1,e.sequence=a.resourceData.length-1===t?null:n);var r="digital test"==e.lessonType?"digital_test":e.lessonType,i=lodash__WEBPACK_IMPORTED_MODULE_6__(u).find({type:r});e.lessonMaxStar=i.maxStars,e.lessonTarget=i.cuttOffScore,e.lessonStarByScore=i.starByScore,e.moduleId=e.book.id,e.lessonId=e.resourceId}),a.store.dispatch(browseBookActions.GetResourcesSuccess({payload:a.resourceData}))}),[browseBookActions.GetNodesSuccess({payload:a.nodeData.filter(function(e){return"book"!=e.nodeType})}),browseBookActions.IsResourceEmpty({payload:!1}),browseBookActions.UpdateBookState({payload:{changes:{state:!0},id:n.resourceId}})]):[browseBookActions.IsResourceEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.GetResourcesFailed({payload:e.message}))}))}))}),this.getBookProgress$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return a.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetBookProgress),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_19__.a)(e.payload.map(function(e){return a.browseBookService.getBookProgress(e)})).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=[];return e.forEach(function(e){e&&(t.push({accessedOn:e.accessedOn,id:e.id,completedInSchool:!1,confidence:0,excluded:!1,type:"book"}),e.node.forEach(function(t){t.parentId=e.id}),t=t.concat(e.node))}),[browseBookActions.GetBookProgressSuccess({payload:t})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.GetBookProgressFailed({payload:e.message}))}))}))}),this.getUserActivity$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return a.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetUserActivity),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(a.store),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=_slicedToArray(e,2),n=t[0];t[1];return a.browseBookService.getUserActivity(n.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){console.log("GET_USER_ACTIVITY_SUCCESS");var t=e.node?e.node:[],n=e.selectedHighlights?e.selectedHighlights:[];e.node.map(function(e){return"resource"===e.type&&(e.type="workSheets"),e});var r=lodash__WEBPACK_IMPORTED_MODULE_6__(e.node).filter(function(e){var t=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.keys)(e);return 0===Object(lodash__WEBPACK_IMPORTED_MODULE_6__.difference)(["goalsAchieved","lessonScore","timeSpent"],t).length}).map(function(e){return{id:e.id,changes:{goalsAchieved:e.goalsAchieved,lessonStatus:e.lessonStatus,timeSpent:e.timeSpent}}}).value();return[browseBookActions.GetUserActivitySuccess({payload:t}),browseBookActions.SetSelectedHighlightsSuccess({filters:n}),browseBookActions.UpdateResources({payload:r})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.GetUserActivityFailed({payload:e.message}))}))}))}),this.putHighlightFilters$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return a.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.SetSelectedHighlights),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return a.browseBookService.putHighlightFilters(e.bookId,e.filters).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(){return[browseBookActions.SetSelectedHighlightsSuccess({filters:e.filters})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.SetSelectedHighlightsFailed({payload:e.message}))}))}))}),this.putNodeActivities$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return a.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.PutNodeActivities),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return a.browseBookService.putNodeActivities(e.bookId,e.toggleField,e.chapterIds.map(function(e){return e.id}),e.topicIds.map(function(e){return e.id})).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){return console.log("in effects after service",t),[browseBookActions.GetUserActivitySuccess({payload:e.chapterIds.concat(e.topicIds)})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(t){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.PutNodeActivitiesFailed({payload:t.message}),browseBookActions.GetUserActivity({payload:e.bookId}))}))}))}),this.getNode$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return a.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetNodes),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(){return a.browseBookHttp.getSyllabus().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=a.prepareCurriculum(e);return 0!==t.length?[browseBookActions.GetNodesSuccess({payload:t})]:[browseBookActions.IsNodeEmpty({payload:!0})]}))}))}),this.$goBack=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.PrevNode),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(this.store),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=_slicedToArray(e,2),n=(t[0],t[1]),r=n.browseBook.browseBook.node.entities[n.browseBook.browseBook.selectedNode];return r?Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.SetNode({payload:r.parentNodeId})):new rxjs__WEBPACK_IMPORTED_MODULE_16__.a})),this.getConfig$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return a.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetConfig),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return a.browseBookService.getConfig(e.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){var n={};return n[e.payload]=t,[browseBookActions.GetConfigSuccess({payload:n})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(browseBookActions.GetConfigFailed({payload:e.message}))}))}))}),this.$nextLesson=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return a.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(browseBookActions.GetNextLesson),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(a.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.m)(browseBookSelectors.selectAllResources))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(n.payload);return i.nextLesson=null,n.payload.sequence&&(i.nextLesson=r[n.payload.sequence].resourceId),[browseBookActions.SetNextLesson({payload:{changes:{nextLesson:i.nextLesson},id:i.resourceId}})]}))})}return _createClass(e,[{key:"moveArrayItemToNewIndex",value:function(e,t,n){if(n>=e.length)for(var r=n-e.length+1;r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"formatDuration",value:function(e){var t=this.libTimeUtilityService.convertSecToTime(e||0);return Math.ceil(t.totalMinutes+t.seconds/60)||0}},{key:"recursiveFunctionForParent",value:function(e){var t=this;return new Promise(function(n,r){t.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.m)(browseBookSelectors.selectAllNodes)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1)).subscribe(function(t){var r={};(function e(n,i){var o=n.filter(function(e){return e.nodeId===i});1===o.length&&(r[o[0].nodeType]={id:o[0].nodeId,label:o[0].nodeLabel,duration:o[0].duration},e(t,o[0].parentNodeId))})(t,e),n(r)})})}},{key:"prepareCurriculum",value:function(e){var t=[];return function e(n,r){for(var i=Object.keys(n),o=0;o<i.length;o++){var s=n[i[o]];if(s.length>0)for(var a=0;a<s.length;a++)for(var u=s[a],c=Object.keys(u),l=0;l<c.length;l++){var h=u[c[l]];if(h instanceof Array){var d={};d[c[l]]=h,e(d,u[c[0]])}if(0==l){var f,p={books:"book"};f=p[i[o]]?p[i[o]]:i[o],t.push({nodeId:u[c[0]],nodeLabel:u[c[1]],nodeType:f,parentNodeId:r})}}}}(e,null),t}},{key:"preaperNode",value:function(e,t){var n=this;this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.m)(browseBookSelectors.getNodeById(),{nodeId:e.id})).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1)).subscribe(function(r){0===r.length&&n.nodeData.push({nodeId:e.id,nodeLabel:e.label,nodeType:e.type,duration:n.formatDuration(e.duration),parentNodeId:t})})}},{key:"preaperResource",value:function(e,t,n,r){var i=this;return new Promise(function(o,s){for(var a=0;a<e.length;a++)"teaching point"!==e[a].type&&0!==e[a].duration&&function(){console.log(e);var o={resourceId:e[a].id,lessonType:e[a].type,parentNodeId:n,tqs:e[a].node};i.recursiveFunctionForParent(t).then(function(e){i.resourceData.push(Object.assign(Object.assign(Object.assign({},o),r),e))})}();o(!0)})}},{key:"preaperNodeAndResource",value:function(e,t){var n=this,r={};return new Promise(function(i){var o=[];(function e(t,i){"book"==t.type&&(n.selectedBook=t.id);for(var s=["tq"],a=0;a<Object.keys(t).length;a++){var u=Object.keys(t)[a];if("node"===u&&!s.includes(t.type)){var c={"teaching point":"tp"};"resource"!==t.type&&"resources"!==t.type||(console.log("BrowseBookEffects -> currentNode -> collection",t),t.type="workSheets");var l=t.type,h=t.id,d=t.label,f=n.formatDuration(t.duration);c[l]?r[c[l]]={id:h,label:d,duration:f}:r[l]={id:h,label:d,duration:f},n.preaperNode(t,i);for(var p=0;p<t[u].length;p++)e(t[u][p],t.id)}var _=lodash__WEBPACK_IMPORTED_MODULE_6__(t[u]).some({type:"tq"});if("node"===u&&("teaching point"===t.type||"bigIdea"===t.type||"summary"===t.type||"digital_test"===t.type||"studinotes"===t.type||"workSheets"===t.type)&&!_){"summary"!==t.type&&"digital_test"!==t.type&&"studinotes"!==t.type&&"workSheets"!==t.type||(r.tp={id:t.id,label:t.label,duration:n.formatDuration(t.duration)});var g=Object.assign({},r);o.push(n.preaperResource(t[u],n.selectedBook,t.id,g))}}})(e,t),Promise.all(o).then(function(){return i()})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(BrowseBookService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(BrowseBookHttp),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),RevisePlayerActionTypes=function(e){return e.GET_LESSON="[RevisePlayer] GET_LESSON_DATA",e.GET_LESSON_SUCCESS="[RevisePlayer] GET_LESSON_SUCCESS",e.GET_LESSON_FAILED="[RevisePlayer] GET_LESSON_FAILED",e.GET_ATTEMPTED_LESSON="[RevisePlayer] GET_ATTEMPTED_LESSON",e.GET_ATTEMPTED_LESSON_SUCCESS="[RevisePlayer] GET_ATTEMPTED_LESSON_SUCCESS",e.GET_ATTEMPTED_LESSON_FAILED="[RevisePlayer] GET_ATTEMPTED_LESSON_FAILED",e.GET_TQS="[RevisePlayer] GET_TQS",e.GET_TQS_BIGIDEA="[RevisePlayer] GET_TQS_BIGIDEA",e.GET_NOTES="[RevisePlayer] GET_NOTES",e.DELETE_NOTE="[RevisePlayer] DELETE_NOTE",e.GET_PRACTISE_TQS="[RevisePlayer] GET_PRACTISE_TQS",e.GET_TEST_TQS="[RevisePlayer] GET_TEST_TQS",e.GET_TQS_SUCCESS="[RevisePlayer] GET_TQS_SUCCESS",e.GET_TQS_FAILED="[RevisePlayer] GET_TQS_FAILED",e.GET_TQS_RESOURCE_SUCCESS="[RevisePlayer] GET_TQS_RESOURCE_SUCCESS",e.GET_SUB_RESOURCE_SUCCESS="[RevisePlayer] GET_SUB_RESOURCE_SUCCESS",e.GET_SUB_RESOURCE_FAILED="[RevisePlayer] GET_SUB_RESOURCE_FAILED",e.IS_TQS_EMPTY="[RevisePlayer] IS_TQS_EMPTY",e.UPDATE_TQ_STATE="[RevisePlayer] UPDATE_TQ_STATE",e.UPDATE_RESOURCE_STATE="[RevisePlayer] UPDATE_RESOURCE_STATE",e.UPDATE_BULK_RESOURCE_STATE="[RevisePlayer] UPDATE_BULK_RESOURCE_STATE",e.UPDATE_SUB_RESOURCE_STATE="[RevisePlayer] UPDATE_SUB_RESOURCE_STATE",e.GET_SUB_RESOURCE="[RevisePlayer] GET_SUB_RESOURCE",e.GET_SUB_RESOURCE_LOCAL="[RevisePlayer] GET_SUB_RESOURCE_LOCAL",e.ADD_SUB_RESOURCE_INTERACTION="[RevisePlayer] ADD_SUB_RESOURCE_INTERACTION",e.UPSERT_SUB_RESOURCE="[RevisePlayer] UPSERT_SUB_RESOURCE",e.GET_MICROCONCEPT_SUCCESS="[RevisePlayer] GET_MICROCONCEPT_SUCCESS",e.GET_TOPIC_SUCCESS="[RevisePlayer] GET_TOPIC_SUCCESS",e.GET_SECTION_SUCCESS="[RevisePlayer] GET_SECTION_SUCCESS",e.UPDATE_SECTION_STATE="[RevisePlayer] UPDATE_SECTION_STATE",e.REMOVE_SUB_RESOURCE="[RevisePlayer] REMOVE_SUB_RESOURCE",e.RESET_SUB_RESOURCE_STATE="[RevisePlayer] RESET_SUB_RESOURCE_STATE",e.RESET_STATE="[RevisePlayer] RESET_STATE",e.UPDATE_LESSON_STATE="[RevisePlayer] UPDATE_LESSON_STATE",e}({}),GetLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetLessonSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_LESSON_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetLessonFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_LESSON_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetNotes=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_NOTES,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetAttemptedLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_ATTEMPTED_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetAttemptedLessonSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_ATTEMPTED_LESSON_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetAttemptedLessonFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_ATTEMPTED_LESSON_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqs=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqsBigIdea=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS_BIGIDEA,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),DeleteNote=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.DELETE_NOTE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetPractiseTqs=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_PRACTISE_TQS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTestTqs=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TEST_TQS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqsSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqsResourceSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS_RESOURCE_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTqsFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TQS_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSubResourceSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SUB_RESOURCE_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSubResourceFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SUB_RESOURCE_FAILED,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),IsTqsEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.IS_TQS_EMPTY,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateTqState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_TQ_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_RESOURCE_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateBulkResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_BULK_RESOURCE_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateSubResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_SUB_RESOURCE_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateSectionState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_SECTION_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSubResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SUB_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSubResourceLocal=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SUB_RESOURCE_LOCAL,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),ResetState$1=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.RESET_STATE),AddSubResourceInteraction=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.ADD_SUB_RESOURCE_INTERACTION),GetMicroconceptSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_MICROCONCEPT_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetTopicSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_TOPIC_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetSectionSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.GET_SECTION_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),ResetSubResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.RESET_SUB_RESOURCE_STATE),UpsertSubResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPSERT_SUB_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),RemoveSubResource=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.REMOVE_SUB_RESOURCE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateLessonState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(RevisePlayerActionTypes.UPDATE_LESSON_STATE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),revisePlayerActions={GetLesson:GetLesson,GetLessonSuccess:GetLessonSuccess,GetLessonFailed:GetLessonFailed,GetNotes:GetNotes,GetAttemptedLesson:GetAttemptedLesson,GetAttemptedLessonSuccess:GetAttemptedLessonSuccess,GetAttemptedLessonFailed:GetAttemptedLessonFailed,GetTqs:GetTqs,GetTqsBigIdea:GetTqsBigIdea,DeleteNote:DeleteNote,GetPractiseTqs:GetPractiseTqs,GetTestTqs:GetTestTqs,GetTqsSuccess:GetTqsSuccess,GetTqsResourceSuccess:GetTqsResourceSuccess,GetTqsFailed:GetTqsFailed,GetSubResourceSuccess:GetSubResourceSuccess,GetSubResourceFailed:GetSubResourceFailed,IsTqsEmpty:IsTqsEmpty,UpdateTqState:UpdateTqState,UpdateResourceState:UpdateResourceState,UpdateBulkResourceState:UpdateBulkResourceState,UpdateSubResourceState:UpdateSubResourceState,UpdateSectionState:UpdateSectionState,GetSubResource:GetSubResource,GetSubResourceLocal:GetSubResourceLocal,ResetState:ResetState$1,AddSubResourceInteraction:AddSubResourceInteraction,GetMicroconceptSuccess:GetMicroconceptSuccess,GetTopicSuccess:GetTopicSuccess,GetSectionSuccess:GetSectionSuccess,ResetSubResourceState:ResetSubResourceState,UpsertSubResource:UpsertSubResource,RemoveSubResource:RemoveSubResource,UpdateLessonState:UpdateLessonState},defaultTq={ids:[],entities:{}},defaultResource$1={ids:[],entities:{}},defaultSubResource={ids:[],entities:{}},defaultMicroconcept={ids:[],entities:{}},defaultTopicState={ids:[],entities:{}},defaultSectionState={ids:[],entities:{}},\u02750$a=function(e){return e.tqId},tqAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$a}),\u02751$6=function(e){return e.resourceId},resourceAdapter$1=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02751$6}),\u02752$6=function(e){return e.subResourceId},subResourceAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02752$6}),\u02753$5=function(e){return e.id},microconceptAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02753$5}),\u02754$5=function(e){return e.id},topicAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02754$5}),\u02755$4=function(e){return e.id},sectionAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02755$4}),tqInitialState=tqAdapter.getInitialState(defaultTq),resourceInitialState$1=resourceAdapter$1.getInitialState(defaultResource$1),subResourceInitialState=subResourceAdapter.getInitialState(defaultSubResource),microconceptIntialState=microconceptAdapter.getInitialState(defaultMicroconcept),topicIntialState=topicAdapter.getInitialState(defaultTopicState),sectionInitialState=sectionAdapter.getInitialState(defaultSectionState),initialState$3={tq:tqInitialState,resource:resourceInitialState$1,subResource:subResourceInitialState,microconcept:microconceptIntialState,topic:topicIntialState,section:sectionInitialState,isTqsEmpty:!0,goalsAchieved:0,lessonScore:0,timeSpent:0,lessonStatus:1,error:"",success:""},revisePlayerState={defaultTq:defaultTq,defaultResource:defaultResource$1,defaultSubResource:defaultSubResource,defaultMicroconcept:defaultMicroconcept,defaultTopicState:defaultTopicState,defaultSectionState:defaultSectionState,tqAdapter:tqAdapter,resourceAdapter:resourceAdapter$1,subResourceAdapter:subResourceAdapter,microconceptAdapter:microconceptAdapter,topicAdapter:topicAdapter,sectionAdapter:sectionAdapter,initialState:initialState$3},getRevisePlayerFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.revisePlayer),\u02750$b=function(e){return e.tq},tqState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02750$b),\u02751$7=function(e){return e.resource},resourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02751$7),\u02752$7=function(e){return e.subResource},subResourceState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02752$7),\u02753$6=function(e){return e.topic},topicState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02753$6),\u02754$6=function(e){return e.section},sectionState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u02754$6),_revisePlayerState$tq=revisePlayerState.tqAdapter.getSelectors(tqState),selectAllTqs=_revisePlayerState$tq.selectAll,_revisePlayerState$re=revisePlayerState.resourceAdapter.getSelectors(resourceState),selectAllResource=_revisePlayerState$re.selectAll,_revisePlayerState$su=revisePlayerState.subResourceAdapter.getSelectors(subResourceState),selectAllSubResource=_revisePlayerState$su.selectAll,_revisePlayerState$to=revisePlayerState.topicAdapter.getSelectors(topicState),selectAllTopics=_revisePlayerState$to.selectAll,_revisePlayerState$se=revisePlayerState.sectionAdapter.getSelectors(sectionState),selectAllSections=_revisePlayerState$se.selectAll,\u02755$5=function(e,t){return 0===t.length},isTqsEmpty=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(tqState,selectAllTqs,\u02755$5),\u02756$4=function(e,t){var n=e.find(function(e){return e.tqId===t.id});return n?n.confidence:null},getTqConfidence=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllTqs,\u02756$4),getResourceByTq=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourceState,selectAllResource,function(e,t,n){return t.filter(function(e){return e.tqId===n.tqId})})},\u02757$3=getResourceByTq,getAllResource=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourceState,selectAllResource,function(e,t,n){return t.filter(function(e){return e.tqId===n.tpId})})},\u02758$3=getAllResource,getResourceByResourceId$1=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourceState,selectAllResource,function(e,t,n){return t.filter(function(e){return e.resourceId===n.resourceId})[0]})},\u02759$2=getResourceByResourceId$1,isSubResourcePresent=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(subResourceState,selectAllSubResource,function(e,t,n){var r=t.filter(function(e){return e.subResourceId===n.subResource.id});return 0===r.length?null:r[0]})},\u027510$2=isSubResourcePresent,getSubResourceByKeyValue=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(subResourceState,selectAllSubResource,function(e,t,n){return t.filter(function(e){return e[n.key]===n.value})})},\u027511$2=getSubResourceByKeyValue,getTotalResourceTypeLength=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(resourceState,selectAllResource,function(e,t,n){var r=[];return 0===t.length||n.resourceType.map(function(e){var n=0;t.filter(function(t){return t.resourceType===e}).map(function(e){return n+=e.data.length}),r.push({type:e,value:n})}),r})},\u027512$2=getTotalResourceTypeLength,\u027513$2=function(e,t){return e.filter(function(e){return e.tqId===t.tqId&&"quiz"===e.resourceType})},getSubResourceListByTq=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllSubResource,\u027513$2),\u027514$2=function(e,t){return e.filter(function(e){return e.tpid===t.tpid})},getTqsListByTopic=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllTqs,\u027514$2),\u027515$2=function(e,t){var n=0,r=e.filter(function(e){return e.resourceType===RevisePLayerResourceType.VIDEO}),i=t.filter(function(e){return e.subResourceState===SubResourceState.COMPLETED});return r.length>0&&i.length>0&&(n=i.length/r.length*100),n},getVideoTarget=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllResource,selectAllSubResource,\u027515$2),\u027516$2=function(e,t){var n=t.filter(function(e){return e.resourceType===RevisePLayerResourceType.QUIZ}),r=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(e);return console.log("resourcesCopy",r),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(r).filter(function(e){return e.resourceType===RevisePLayerResourceType.QUIZ}).map(function(e){return e.data}).flatten().map(function(e){var t=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(n,{subResourceId:e.id});return t&&t.state&&(e.state=t.state),e}).value()},getReviseAttemptedData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllResource,selectAllSubResource,\u027516$2),\u027517$2=function(e,t){var n=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(e);return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(n).map(function(e){var n=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(t,{tqId:e.tqId,resourceType:RevisePLayerResourceType.VIDEO});return n&&(e.remedial=n.data[0]),e}).value()},getTqsWithRemedial=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllTqs,selectAllResource,\u027517$2),\u027518$2=function(e){return{lessonStatus:e.lessonStatus,timeSpent:e.timeSpent,lessonScore:e.lessonScore,goalsAchieved:e.goalsAchieved}},getLessonObjectiveData=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getRevisePlayerFeatureState,\u027518$2),revisePlayerSelector={getTqConfidence:getTqConfidence,selectAllTopics:selectAllTopics,selectAllSections:selectAllSections,selectAllSubResource:selectAllSubResource,selectAllResource:selectAllResource,selectAllTqs:selectAllTqs,tqState:tqState,resourceState:resourceState,subResourceState:subResourceState,topicState:topicState,sectionState:sectionState,isTqsEmpty:isTqsEmpty,getSubResourceListByTq:getSubResourceListByTq,getTqsListByTopic:getTqsListByTopic,getVideoTarget:getVideoTarget,getReviseAttemptedData:getReviseAttemptedData,getTqsWithRemedial:getTqsWithRemedial,getLessonObjectiveData:getLessonObjectiveData,getResourceByTq:getResourceByTq,getAllResource:getAllResource,getResourceByResourceId:getResourceByResourceId$1,isSubResourcePresent:isSubResourcePresent,getSubResourceByKeyValue:getSubResourceByKeyValue,getTotalResourceTypeLength:getTotalResourceTypeLength},\u02750$c=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{tq:revisePlayerState.tqAdapter.upsertMany(n,e.tq)})},\u02751$8=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{resource:revisePlayerState.resourceAdapter.upsertMany(n,e.resource)})},\u02752$8=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{error:n})},\u02753$7=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{subResource:revisePlayerState.subResourceAdapter.removeOne(n.id,e.subResource)})},\u02754$7=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{isTqsEmpty:n})},\u02755$6=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{tq:revisePlayerState.tqAdapter.updateOne(n,e.tq)})},\u02756$5=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{resource:revisePlayerState.resourceAdapter.updateOne(n,e.resource)})},\u02757$4=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{resource:revisePlayerState.resourceAdapter.upsertMany(n,e.resource)})},\u02758$4=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{subResource:revisePlayerState.subResourceAdapter.updateOne(n,e.subResource)})},\u02759$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{subResource:revisePlayerState.subResourceAdapter.addMany(n,e.subResource)})},\u027510$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{microconcept:revisePlayerState.microconceptAdapter.addMany(n,e.microconcept)})},\u027511$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{topic:revisePlayerState.topicAdapter.addMany(n,e.topic)})},\u027512$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{section:revisePlayerState.sectionAdapter.addMany(n,e.section)})},\u027513$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{section:revisePlayerState.sectionAdapter.addOne(n,e.section)})},\u027514$3=function(e){return Object.assign(Object.assign({},e),{subResource:revisePlayerState.subResourceAdapter.removeAll(e.subResource)})},\u027515$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{subResource:revisePlayerState.subResourceAdapter.upsertOne(n,e.subResource)})},\u027516$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{subResource:revisePlayerState.subResourceAdapter.removeOne(n.subResourceId,e.subResource)})},\u027517$3=function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{lessonStatus:n.lessonStatus,timeSpent:n.timeSpent,lessonScore:n.lessonScore,goalsAchieved:n.goalsAchieved})},\u027518$3=function(e){return Object.assign({},revisePlayerState.initialState)},revisePlayerReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(revisePlayerState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetTqsSuccess,\u02750$c),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetTqsResourceSuccess,\u02751$8),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetTqsFailed,\u02752$8),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.DeleteNote,\u02753$7),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.IsTqsEmpty,\u02754$7),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateTqState,\u02755$6),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateResourceState,\u02756$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateBulkResourceState,\u02757$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateSubResourceState,\u02758$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetSubResourceSuccess,\u02759$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetMicroconceptSuccess,\u027510$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetTopicSuccess,\u027511$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.GetSectionSuccess,\u027512$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateSectionState,\u027513$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.ResetSubResourceState,\u027514$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpsertSubResource,\u027515$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.RemoveSubResource,\u027516$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.UpdateLessonState,\u027517$3),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(revisePlayerActions.ResetState,\u027518$3));function reducers$2(e,t){return revisePlayerReducer(e,t)}var revisePlayerReducers={reducers:reducers$2},RevisePlayerService=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.apiUrlService=n}return _createClass(e,[{key:"getNotes",value:function(e){return this.http.get(this.apiUrlService.getNotes(e)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getRevise",value:function(e){var t=[];return e.tqs.forEach(function(e){return t.push(e.id)}),this.http.get(this.apiUrlService.getLessonRevisePlayerUrl(e.book.id,ApiRequestEnum.API),{params:{id:t}}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getBigIdea",value:function(e){var t=[];return e.tqs.forEach(function(e){return t.push(e.id)}),this.http.get(this.apiUrlService.getBigIdeaPlayerUrl(e.book.id,ApiRequestEnum.API),{params:{id:["tq-968c512f-ff58-4529-8733-27dd504d56cb"]}}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getSubResource",value:function(e,t){var n=this;return this.http.get(this.apiUrlService.getLessonRevisePlayerResourceUrl(t,e.tqId,e.resourceType,e.subResourceId,e.playerType)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return n.errorHandler(e)}))}},{key:"getSubResourceLocal",value:function(e,t){var n=this;return this.http.get(this.apiUrlService.getLessonRevisePlayerResourceLocalUrl(t,e.tqId,e.resourceType,e.subResourceId,e.playerType)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return n.errorHandler(e)}))}},{key:"errorHandler",value:function(e){return console.log("RevisePlayerService -> errorHandler -> error",e),Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e)}},{key:"getPractise",value:function(e){var t=[];e.lesson.tqs.forEach(function(e){return t.push(e.id)}),[].push({id:e.lesson.tp.id,title:e.lesson.tp.label});var n={lessonId:e.lesson.resourceId,sessionId:e.sessionId,grule:{tqid:e.lesson.tqs.map(function(e){return e.id}),mode:3,sections:0},data:{topic:[{id:e.lesson.tp.id,title:e.lesson.tp.label}]}};return Object(rxjs__WEBPACK_IMPORTED_MODULE_19__.a)([this.http.post(this.apiUrlService.getPractiseConfigUrl(e.lesson.book.id,ApiRequestEnum.API),n)]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){var t=_slicedToArray(e,1)[0];return Object.assign({},t)}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getTest",value:function(e){var t=[],n=e.lesson.tp;n.map(function(e){return{id:e.id,title:e.label}}),e.lesson.tqs.forEach(function(e){return t.push(e.id)});var r={lessonId:e.lesson.resourceId,sessionId:e.sessionId,grule:{tqid:e.lesson.tqs.map(function(e){return e.id}),mode:3,sections:0},data:{topic:n}};return Object(rxjs__WEBPACK_IMPORTED_MODULE_19__.a)([this.http.post(this.apiUrlService.getTestConfigUr(e.lesson.book.id,ApiRequestEnum.API),r)]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){var t=_slicedToArray(e,1)[0];return Object.assign({},t)}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getLessonPayerModuleData",value:function(e,t){return this.http.post(this.apiUrlService.getLessonPayerModuleDataUrl(e),t).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e)}))}},{key:"getAttemptedLessonPayerModuleData",value:function(e){return console.log("3.3.7 api",Date()),this.http.get(this.apiUrlService.getLessonPayerModuleDataUrl(e)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_38__.a)(function(e){return e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_39__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_40__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)("Giving up Retry.!")))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),RevisePlayerEffects=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.actions$=t,this.revisePlayerService=n,this.resourceMap={assets:RevisePLayerResourceType.VIDEO,questions:RevisePLayerResourceType.QUIZ},this.getLessonPlayerData$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetLesson),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getLessonPayerModuleData(e.payload.lessonUrlData,e.payload.body).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){console.log("LP - End 3.3.2 => ",new Date),console.log("LP - End 3.3.2 => ",t);var n=r.createTqEntityState(t,e.payload.lessonData),i=r.createResourceForNotAttempted(t.sessionData);return[revisePlayerActions.GetTqsSuccess({payload:n}),revisePlayerActions.GetTqsResourceSuccess({payload:i})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:e.message}))}))})),this.getAttemptedLessonPlayerData$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetAttemptedLesson),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getAttemptedLessonPayerModuleData(e.payload.lessonUrlData).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){console.log("3.3.7 api resonse",t,Date());var n=r.createTqEntityState(t,e.payload.lessonData),i=r.createResourceForAttempted(t.sessionData);return[revisePlayerActions.GetTqsSuccess({payload:n}),revisePlayerActions.GetTqsResourceSuccess({payload:i}),revisePlayerActions.UpdateLessonState({payload:{lessonStatus:t.sessionData.lessonStatus,timeSpent:t.sessionData.timeSpent,goalsAchieved:t.sessionData.goalsAchieved,lessonScore:t.sessionData.lessonScore}})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return console.log("RevisePlayerEffects -> err",e),Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:e}))}))})),this.getRevise$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetTqs),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getRevise(e.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){if(e.length>0){for(var t=[],n=[],i=0;i<e.length;i++){t.push({tqId:e[i].tqId,label:e[i].label,TpRef:e[i].TpRef,tqState:TqState.UNLOCK});for(var o=0;o<Object.keys(e[i].revise).length;o++){var s=r.resourceMap[Object.keys(e[i].revise)[o]];0!==e[i].revise[Object.keys(e[i].revise)[o]].length&&n.push({tqId:e[i].tqId,resourceId:"".concat(e[i].tqId,"_").concat(s),resourceType:s,data:e[i].revise[Object.keys(e[i].revise)[o]],resourceState:ResourceState.UNLOCK})}0!==e[i].summary.cards.length&&n.push({tqId:e[i].tqId,resourceId:"".concat(e[i].tqId,"_").concat(RevisePLayerResourceType.SUMMARY),resourceType:RevisePLayerResourceType.SUMMARY,data:e[i].summary.cards,resourceState:ResourceState.UNLOCK})}return[revisePlayerActions.GetTqsSuccess({payload:t}),revisePlayerActions.GetTqsResourceSuccess({payload:n})]}return[revisePlayerActions.IsTqsEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:e.message}))}))})),this.getBigIdea$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetTqsBigIdea),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getBigIdea(e.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){if(e.length>0){for(var t=[],n=[],i=0;i<e.length;i++){t.push({tqId:e[i].tqId,label:e[i].label,TpRef:e[i].tpId,tqState:TqState.UNLOCK});for(var o=0;o<Object.keys(e[i].bigIdea).length;o++){var s=r.resourceMap[Object.keys(e[i].bigIdea)[o]];0!==e[i].bigIdea[Object.keys(e[i].bigIdea)[o]].length&&n.push({tqId:e[i].tqId,resourceId:"".concat(e[i].tqId,"_").concat(s),resourceType:s,data:e[i].bigIdea[Object.keys(e[i].bigIdea)[o]],resourceState:ResourceState.UNLOCK})}e[i].summary&&0!==e[i].summary.cards.length&&n.push({tqId:e[i].tqId,resourceId:"".concat(e[i].tqId,"_").concat(RevisePLayerResourceType.SUMMARY),resourceType:RevisePLayerResourceType.SUMMARY,data:e[i].summary.cards,resourceState:ResourceState.UNLOCK})}return[revisePlayerActions.GetTqsSuccess({payload:t}),revisePlayerActions.GetTqsResourceSuccess({payload:n})]}return[revisePlayerActions.IsTqsEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:e.message}))}))})),this.$getNotes=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetNotes),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getNotes(e.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=[];return e.forEach(function(e,n){var r,i,o={title:null==e?void 0:e.title,assets:[{type:"text",value:null===(r=e.context.data.interactions)||void 0===r?void 0:r.action.params.text}],interactions:e.context.data.interactions,attachments:e.note.attachments},s={noteId:e.note.id,tqId:e.context.tqId,resourceType:"stunote",subResourceId:null===(i=e.context.data.interactions)||void 0===i?void 0:i.subResourceId,data:o};t.push(s)}),[revisePlayerActions.GetSubResourceSuccess({payload:t})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetSubResourceFailed({payload:e}))}))})),this.getPractise$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetPractiseTqs),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getPractise(e.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){console.log(e),console.log("questionSet",e.qpsections);var t=e.qpsections;if(e.data.tq.length>0){var n,r=[],i=[],o=_toConsumableArray(e.data.topic),s=["questions","remedial"],a=_createForOfIteratorHelper(e.data.tq);try{var u=function(){var e=n.value;r.push({tqId:e.tq_id,label:e.title,TpRef:"",tqState:TqState.UNLOCK,confidence:0,tpid:e.tp_id}),i.push({tqId:e.tq_id,resourceId:"".concat(e.tq_id,"_").concat(s[1]),resourceType:s[1],data:e.remedial,resourceState:ResourceState.UNLOCK});var o,a=[],u=_createForOfIteratorHelper(t);try{for(u.s();!(o=u.n()).done;){var c=o.value.questionset.filter(function(t){return e.tq_id===t.tqid});a.push.apply(a,_toConsumableArray(c))}}catch(l){u.e(l)}finally{u.f()}i.push({tqId:e.tq_id,resourceId:"".concat(e.tq_id,"_").concat(s[0]),resourceType:s[0],data:a,resourceState:ResourceState.UNLOCK})};for(a.s();!(n=a.n()).done;)u()}catch(c){a.e(c)}finally{a.f()}return[revisePlayerActions.GetTqsSuccess({payload:r}),revisePlayerActions.GetTqsResourceSuccess({payload:i}),revisePlayerActions.GetTopicSuccess({payload:o})]}return[revisePlayerActions.IsTqsEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:e.message}))}))})),this.getTest$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetTestTqs),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getTest(e.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){console.log(e),console.log("questionSet",e.qpsections);var t=e.qpsections;if(e.data.tq.length>0){var n=[],r=[],i=_toConsumableArray(e.data.topic),o=[],s=["questions","remedial"];t.forEach(function(e,t){var n="sec_".concat(t);o.push({title:e.sectiontitle,id:n}),e.questionset.forEach(function(e){e.sectionId=n})});var a,u=_createForOfIteratorHelper(e.data.tq);try{var c=function(){var e=a.value;n.push({tqId:e.tq_id,label:e.title,TpRef:"",tqState:TqState.UNLOCK,confidence:0,tpid:e.tp_id}),r.push({tqId:e.tq_id,resourceId:"".concat(e.tq_id,"_").concat(s[1]),resourceType:s[1],data:e.remedial,resourceState:ResourceState.UNLOCK});var i,o=[],u=_createForOfIteratorHelper(t);try{for(u.s();!(i=u.n()).done;){var c=i.value.questionset.filter(function(t){return e.tq_id===t.tqid});o.push.apply(o,_toConsumableArray(c))}}catch(l){u.e(l)}finally{u.f()}r.push({tqId:e.tq_id,resourceId:"".concat(e.tq_id,"_").concat(s[0]),resourceType:s[0],data:o,resourceState:ResourceState.UNLOCK})};for(u.s();!(a=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}return[revisePlayerActions.GetTqsSuccess({payload:n}),revisePlayerActions.GetTqsResourceSuccess({payload:r}),revisePlayerActions.GetTopicSuccess({payload:i}),revisePlayerActions.GetSectionSuccess({payload:o})]}return[revisePlayerActions.IsTqsEmpty({payload:!0})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetTqsFailed({payload:e.message}))}))})),this.$getSubResource=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetSubResource),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getSubResource(e.payload.resource,e.payload.bookId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){var n=Object.assign({},e.payload.resource);return n.data=t,[revisePlayerActions.GetSubResourceSuccess({payload:[n]})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetSubResourceFailed({payload:e}))}))})),this.$getSubResourceLocal=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(revisePlayerActions.GetSubResourceLocal),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return r.revisePlayerService.getSubResourceLocal(e.payload.resource,e.payload.bookId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){var n=Object.assign({},e.payload.resource);return n.data=t,[revisePlayerActions.GetSubResourceSuccess({payload:[n]})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(revisePlayerActions.GetSubResourceFailed({payload:e.message}))}))}))}return _createClass(e,[{key:"createTqEntityState",value:function(e,t){var n=this,r=e.sessionData.confidence,i=JSON.parse(localStorage.getItem("lessonPortion"));return i?(i.portion=e.portion,localStorage.setItem("lessonPortion",JSON.stringify(i))):localStorage.setItem("lessonPortion",JSON.stringify(e)),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(e.portion.node).flatten().map(function(e){return e.node}).flatten().map(function(e){var i;return e.node[0].id.includes("tp")?lodash__WEBPACK_IMPORTED_MODULE_6__(e.node).map(function(e){return i=e,e.node}).flatten().map(function(e){var o=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(r,{id:e.id}),s=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.merge)(e,o);return{tqId:s.id,label:s.label,tqState:n.getTqState(t.lessonState),tpId:i.id,tpLabel:i.label,before:s.before,after:s.after||s.before}}).value():lodash__WEBPACK_IMPORTED_MODULE_6__(e.node).map(function(i){var o=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(r,{id:i.id}),s=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.merge)(i,o);return{tqId:s.id,label:s.label,tqState:n.getTqState(t.lessonState),tpId:e.id,tpLabel:e.label,before:s.before,after:s.after||s.before}}).value()}).flatten().value()}},{key:"getTqState",value:function(e){return IntroObjectiveTypes.SUCCESS===e?TqState.SUCCESS_COMPLETED:TqState.UNLOCK}},{key:"createResourceForNotAttempted",value:function(e){var t,n=[];return e.questions&&(n=this.createQuestionStateFormat(e.questions)),t=this.createResourceEntityState(e),[].concat(_toConsumableArray(n),_toConsumableArray(t))}},{key:"createResourceForAttempted",value:function(e){var t,n=[];return e.attempts&&(n=this.createQuestionStateFormat(e.attempts)),t=this.createResourceEntityState(e),[].concat(_toConsumableArray(n),_toConsumableArray(t))}},{key:"createResourceEntityState",value:function(e){var t=[],n=[],r=[],i=[],o=[];return e.assets&&(t=this.createAssetStateFormat(e.assets)),e.summary&&(n=this.createSummaryStateFormat(e.summary)),e.collection&&(r=this.createStudyNoteStateFormat(e.collection)),e.resources&&(i=this.createWorksheetStateFormat(e.resources)),e.printResources&&(o=this.createPrintTestStateFormat(e.printResources)),[].concat(_toConsumableArray(t),_toConsumableArray(n),_toConsumableArray(r),_toConsumableArray(i),_toConsumableArray(o))}},{key:"createQuestionStateFormat",value:function(e){var t=RevisePLayerResourceType.QUIZ;return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(e).groupBy("tqId").map(function(e,n){return{tqId:n,resourceId:"".concat(n,"_").concat(t),resourceType:t,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(e,"order","asc"),resourceState:ResourceState.UNLOCK}}).value()}},{key:"createAssetStateFormat",value:function(e){return _toConsumableArray(Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(e).filter(function(e){return e.type===RevisePLayerResourceType.VIDEO}).map(function(e){return{tqId:e.tqId,resourceId:"".concat(e.tqId,"_").concat(RevisePLayerResourceType.VIDEO),resourceType:RevisePLayerResourceType.VIDEO,data:[e],resourceState:ResourceState.UNLOCK}}).value())}},{key:"createSummaryStateFormat",value:function(e){return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(e).groupBy("tqId").map(function(e,t){return{tqId:t,resourceId:"".concat(t,"_").concat(RevisePLayerResourceType.SUMMARY),resourceType:RevisePLayerResourceType.SUMMARY,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(e,"order","asc"),resourceState:ResourceState.UNLOCK}}).value()}},{key:"createStudyNoteStateFormat",value:function(e){return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(e).groupBy("tqId").map(function(e,t){return{tqId:t,resourceId:"".concat(t,"_").concat(RevisePLayerResourceType.STUDINOTE),resourceType:RevisePLayerResourceType.STUDINOTE,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(e,"order","asc"),resourceState:ResourceState.UNLOCK}}).value()}},{key:"createWorksheetStateFormat",value:function(e){return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(e).groupBy("tqId").map(function(e,t){return{tqId:t,resourceId:"".concat(t,"_").concat(RevisePLayerResourceType.WORKSHEET),resourceType:RevisePLayerResourceType.WORKSHEET,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(e,"order","asc"),resourceState:ResourceState.UNLOCK}}).value()}},{key:"createPrintTestStateFormat",value:function(e){return console.log(e,"print resource data in effects.ts"),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.chain)(e).groupBy("tqId").map(function(e,t){return{tqId:"",resourceId:"".concat(RevisePLayerResourceType.MOCKTEST),resourceType:RevisePLayerResourceType.MOCKTEST,data:Object(lodash__WEBPACK_IMPORTED_MODULE_6__.orderBy)(e,"order","asc"),resourceState:ResourceState.UNLOCK}}).value()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(RevisePlayerService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getLessonPlayerData$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getAttemptedLessonPlayerData$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getRevise$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getBigIdea$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"$getNotes",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getPractise$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getTest$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"$getSubResource",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"$getSubResourceLocal",void 0),e}(),MyLessonActionTypes=function(e){return e.GET_MY_LESSON="[MyLesson] GET_MY_LESSON",e.GET_MY_LESSON_FAILED="[MyLesson] GET_MY_LESSON_FAILED",e.SET_ACTIVE_MY_LESSON="[MyLesson] SET_ACTIVE_MY_LESSON",e.SET_ACTIVE_MY_LESSON_BOOK="[MyLesson] SET_ACTIVE_MY_LESSON_BOOK",e.SET_MY_LESSON="[MyLesson] SET_MY_LESSON",e.SELECT_ACTIVE_MY_LESSON="[MyLesson] SELECT_ACTIVE_MY_LESSON",e.SET_MY_LESSON_CONFIG="[MyLesson] SET_MY_LESSON_CONFIG",e.SET_MY_LESSON_CONFIG_SUCCESS="[MyLesson] SET_MY_LESSON_CONFIG_SUCCESS",e.SET_MY_LESSON_CONFIG_FAILED="[MyLesson] SET_MY_LESSON_CONFIG_FAILED",e.SET_PREV_STUDY_RING="[MyLesson] SET_PREV_STUDY_RING",e.SET_CURRENT_STUDY_RING="[MyLesson] SET_CURRENT_STUDY_RING",e.UPDATE_ACTIVE_MY_LESSON="[MyLesson] UPDATE_ACTIVE_MY_LESSON",e.GET_ACTIVE_PLAN="[MyLesson] GET_ACTIVE_PLAN",e.SET_ACTIVE_PLAN_SUCCESS="[MyLesson] SET_ACTIVE_PLAN_SUCCESS",e.SET_ACTIVE_PLAN_FAILED="[MyLesson] SET_ACTIVE_PLAN_FAILED",e.RESET_STATE="[MyLesson] RESET_STATE",e.UPSERT_LESSON_FROM_SCHEDULE="[MyLesson] UPSERT_LESSON_FROM_SCHEDULE",e.GET_PROGRESS_REPORT="[MyLesson] GET_PROGRESS_REPORT",e.SET_PROGRESS_REPORT="[MyLesson] SET_PROGRESS_REPORT",e.SET_PROGRESS_REPORT_FAILED="[MyLesson] SET_PROGRESS_REPORT_FAILED",e}({}),GetMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.GET_MY_LESSON),GetMyLessonFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.GET_MY_LESSON_FAILED),SetActiveMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_ACTIVE_MY_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetActiveMyLessonBook=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_ACTIVE_MY_LESSON_BOOK,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_MY_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SelectActiveMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SELECT_ACTIVE_MY_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpsertLessonFromSchedule=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.UPSERT_LESSON_FROM_SCHEDULE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetMyLessonConfig=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_MY_LESSON_CONFIG,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetMyLessonConfigSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_MY_LESSON_CONFIG_SUCCESS,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetMyLessonConfigFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_MY_LESSON_CONFIG_FAILED),SetPreviousStudyRing=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_PREV_STUDY_RING,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetCurrentStudyRing=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_CURRENT_STUDY_RING,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),UpdateActiveMyLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.UPDATE_ACTIVE_MY_LESSON,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),GetActivePlan=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.GET_ACTIVE_PLAN),SetActivePlanSuccess=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_ACTIVE_PLAN_SUCCESS),SetActivePlanFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_ACTIVE_PLAN_FAILED),ResetState$2=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.RESET_STATE),GetProgressReport=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.GET_PROGRESS_REPORT),SetProgressReport=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_PROGRESS_REPORT,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),SetProgressReportFailed=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(MyLessonActionTypes.SET_PROGRESS_REPORT_FAILED),fromMyLessonActions={GetMyLesson:GetMyLesson,GetMyLessonFailed:GetMyLessonFailed,SetActiveMyLesson:SetActiveMyLesson,SetActiveMyLessonBook:SetActiveMyLessonBook,SetMyLesson:SetMyLesson,SelectActiveMyLesson:SelectActiveMyLesson,UpsertLessonFromSchedule:UpsertLessonFromSchedule,SetMyLessonConfig:SetMyLessonConfig,SetMyLessonConfigSuccess:SetMyLessonConfigSuccess,SetMyLessonConfigFailed:SetMyLessonConfigFailed,SetPreviousStudyRing:SetPreviousStudyRing,SetCurrentStudyRing:SetCurrentStudyRing,UpdateActiveMyLesson:UpdateActiveMyLesson,GetActivePlan:GetActivePlan,SetActivePlanSuccess:SetActivePlanSuccess,SetActivePlanFailed:SetActivePlanFailed,ResetState:ResetState$2,GetProgressReport:GetProgressReport,SetProgressReport:SetProgressReport,SetProgressReportFailed:SetProgressReportFailed},defaultActiveMyLesson={ids:[],entities:{}},\u02750$d=function(e){return e.lessonId},activeMyLessonAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)({selectId:\u02750$d}),activeMyLessonEntityState=activeMyLessonAdapter.getInitialState(defaultActiveMyLesson),defaultActiveMyLessonBook={ids:[],entities:{}},activeMyLessonBookAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),activeMyLessonBookEntityState=activeMyLessonBookAdapter.getInitialState(defaultActiveMyLessonBook),initialState$4={planId:null,planLabel:null,planStatus:null,dailyStudyTime:null,planCreateDate:null,planGoalEndDate:null,planProjectedEndDate:null,version:null,lastUpdatedDate:null,pauseDate:null,activeMyLesson:activeMyLessonEntityState,activeMyLessonBook:activeMyLessonBookEntityState,selectedLessonId:null,prevRing:{lessons:{completed:0,total:0,percentage:0},duration:{completed:0,total:0,percentage:0},goals:{completed:0,total:0,percentage:0}},currentRing:{lessons:{completed:0,total:0,percentage:0},duration:{completed:0,total:0,percentage:0},goals:{completed:0,total:0,percentage:0}},nextLesson:null,versionHistory:[],completedTracker:[],plannedTracker:[],config:{},reports:[]},fromMyLessonState={defaultActiveMyLesson:defaultActiveMyLesson,activeMyLessonAdapter:activeMyLessonAdapter,defaultActiveMyLessonBook:defaultActiveMyLessonBook,activeMyLessonBookAdapter:activeMyLessonBookAdapter,initialState:initialState$4},getMyLessonFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.myLesson),_fromMyLessonState$ac=fromMyLessonState.activeMyLessonAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,function(e){return e.myLesson.activeMyLesson})),selectAllActiveMyLesson=_fromMyLessonState$ac.selectAll,_fromMyLessonState$ac2=fromMyLessonState.activeMyLessonBookAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,function(e){return e.myLesson.activeMyLessonBook})),selectAllActiveMyLessonBooks=_fromMyLessonState$ac2.selectAll,getMyLessonConfgByType=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,function(e,t){return e.myLesson.config[t.lessonType]})},getSelectedMyLesson=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,selectAllActiveMyLesson,function(e,t,n){var r=e.myLesson.selectedLessonId;return Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(t,{lessonId:r})})},getMyLesson=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,function(e){return e.myLesson})},getReports=function(){return Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,function(e){return e.myLesson.reports})},\u02750$e=function(e){return{start:new Date(e.myLesson.planCreateDate),end:new Date(e.myLesson.planGoalEndDate)}},getScheduledRange=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,\u02750$e),\u02751$9=function(e,t){var n=lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce(function(e,t){return t.totalLessons+e},0),r=lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce(function(e,t){return t.lessonsCompleted+e},0),i=lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce(function(e,t){return t.totalChapters+e},0),o=i-lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce(function(e,t){return t.totalChaptersCompleted+e},0)||0,s=lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce(function(e,t){return t.totalDuration+e},0),a=lodash__WEBPACK_IMPORTED_MODULE_6__(t).reduce(function(e,t){return t.timeSpent+e},0);return{planLabel:e.myLesson.planLabel,planStudyTime:e.myLesson.dailyStudyTime,planStartDate:e.myLesson.planCreateDate,planEndDate:e.myLesson.planGoalEndDate,totalChapters:i,pendingChapters:o,totalLessons:n,completedLessons:r,totalDuration:s,totalDurationSpent:a}},getPlanControl=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,selectAllActiveMyLessonBooks,\u02751$9),\u02752$9=function(e){return e.myLesson.prevRing},getPreviousStudyRing=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,\u02752$9),\u02753$8=function(e){return e.myLesson.selectedLessonId},getSelectedLessonId=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,\u02753$8),\u02754$8=function(e){return e.myLesson.currentRing},getCurrentStudyRing=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getMyLessonFeatureState,\u02754$8),\u02755$7=function(e){return e},getActivePlanBook=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllActiveMyLessonBooks,\u02755$7),\u02756$6=function(e,t){return console.log("allLessons",e),Object(lodash__WEBPACK_IMPORTED_MODULE_6__.find)(t,{lessonId:e.nextLesson})},getNextActiveLesson=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getSelectedMyLesson(),selectAllActiveMyLesson,\u02756$6),fromMyLessonSelector={selectAllActiveMyLesson:selectAllActiveMyLesson,selectAllActiveMyLessonBooks:selectAllActiveMyLessonBooks,getMyLessonConfgByType:getMyLessonConfgByType,getSelectedMyLesson:getSelectedMyLesson,getMyLesson:getMyLesson,getReports:getReports,getScheduledRange:getScheduledRange,getPlanControl:getPlanControl,getPreviousStudyRing:getPreviousStudyRing,getSelectedLessonId:getSelectedLessonId,getCurrentStudyRing:getCurrentStudyRing,getActivePlanBook:getActivePlanBook,getNextActiveLesson:getNextActiveLesson},\u02750$f=function(e,t){var n=t.lessons;return Object.assign(Object.assign({},e),{activeMyLesson:fromMyLessonState.activeMyLessonAdapter.setAll(n,Object.assign({},e.activeMyLesson))})},\u02751$a=function(e,t){var n=t.books;return Object.assign(Object.assign({},e),{activeMyLessonBook:fromMyLessonState.activeMyLessonBookAdapter.setAll(n,Object.assign({},e.activeMyLessonBook))})},\u02752$a=function(e,t){var n=t.lessonId;return Object.assign(Object.assign({},e),{selectedLessonId:n})},\u02753$9=function(e,t){var n=t.configType,r=t.configData,i={};i[n]=r;var o=Object.assign(Object.assign({},e.config),i);return Object.assign(Object.assign({},e),{config:o})},\u02754$9=function(e,t){var n=t.studyPlan;return Object.assign(Object.assign({},e),n)},\u02755$8=function(e,t){var n=t.ringData;return Object.assign(Object.assign({},e),{prevRing:n})},\u02756$7=function(e,t){var n=t.ringData;return Object.assign(Object.assign({},e),{currentRing:n})},\u02757$5=function(e,t){var n=t.data;return Object.assign(Object.assign({},e),{activeMyLesson:fromMyLessonState.activeMyLessonAdapter.updateMany(n,e.activeMyLesson)})},\u02758$5=function(e){return Object.assign(Object.assign({},fromMyLessonState.initialState),{selectedLessonId:e.selectedLessonId})},\u02759$4=function(e,t){var n=t.lesson;return Object.assign(Object.assign({},e),{activeMyLesson:fromMyLessonState.activeMyLessonAdapter.upsertOne(n,Object.assign({},e.activeMyLesson))})},\u027510$4=function(e,t){var n=t.reportArray;return Object.assign(Object.assign({},e),{reports:n})},\u027511$4=function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{reports:[]})},myLessonReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(fromMyLessonState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetActiveMyLesson,\u02750$f),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetActiveMyLessonBook,\u02751$a),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SelectActiveMyLesson,\u02752$a),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetMyLessonConfigSuccess,\u02753$9),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetMyLesson,\u02754$9),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetPreviousStudyRing,\u02755$8),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetCurrentStudyRing,\u02756$7),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.UpdateActiveMyLesson,\u02757$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.ResetState,\u02758$5),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.UpsertLessonFromSchedule,\u02759$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetProgressReport,\u027510$4),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromMyLessonActions.SetProgressReportFailed,\u027511$4));function reducer$2(e,t){return myLessonReducer(e,t)}var reducers$3={myLesson:reducer$2};function localStorageSyncReducer$2(e){return Object(ngrx_store_localstorage__WEBPACK_IMPORTED_MODULE_47__.a)({keys:[StoreStateEnum.myLesson],rehydrate:!0})(e)}var metaReducers$2=[localStorageSyncReducer$2],fromMyLessonReducers={reducers:reducers$3,localStorageSyncReducer:localStorageSyncReducer$2,metaReducers:metaReducers$2},MyLessonStoreService=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.apiUrlService=n}return _createClass(e,[{key:"getMyLesson",value:function(e,t){return this.http.put(this.apiUrlService.getMyLessonUrl(t),e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getMyLessonConfig",value:function(e){return this.http.get(this.apiUrlService.getMyLessonConfigUrl(e)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getActiveStudyPlan",value:function(e,t,n,r){return this.http.get(this.apiUrlService.getActiveStudyPlanUrl(e,t,n,r)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"getAllReportNames",value:function(){return this.http.get(this.apiUrlService.getAllReportNames()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}},{key:"headAllReportNames",value:function(){return this.http.head(this.apiUrlService.getAllReportNames(),{observe:"response"}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(e.message)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ApiUrlService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),MyLessonEffects=function(){var e=function(){function e(t,n,r,i,o){var s=this;_classCallCheck(this,e),this.actions$=t,this.store=n,this.coreService=r,this.myLessonStoreService=i,this.timeUtilityService=o,this.getMyLesson$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromMyLessonActions.GetMyLesson),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_37__.a)(this.store),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=_slicedToArray(e,2),n=(t[0],t[1]),r=n.myLesson.myLesson.planId;return s.myLessonStoreService.getMyLesson({dailyStudyTime:n.myLesson.myLesson.dailyStudyTime,goalEndDate:n.myLesson.myLesson.planGoalEndDate,lastUpdatedDate:n.myLesson.myLesson.lastUpdatedDate},r).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(e){var t=firebase__WEBPACK_IMPORTED_MODULE_4__.a.remoteConfig();return t.settings.minimumFetchIntervalMillis=36e5,t.defaultConfig={continue_study_bb:!1},Object(rxjs__WEBPACK_IMPORTED_MODULE_8__.a)(t.fetchAndActivate()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(){return[e,t]}))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1],o=i.getBoolean("continue_study_sp");console.log(new Date(i.fetchTimeMillis)),console.log("\ud83d\ude80 ~ file: effects.ts ~ line 61 ~ MyLessonEffects ~ switchMap ~ continue_study",o);var a=s.coreService.getAppConfig().mylesson.config.lessonType,u=n.lessons;u=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.map)(u,function(e){var t=lodash__WEBPACK_IMPORTED_MODULE_6__(a).find({type:e.lessonType});return e.lessonMaxStar=t.maxStars,e.lessonMandatory=t.mandatory,e.lessonTarget=t.cuttOffScore,e.lessonStarByScore=t.starByScore,e.lessonOverflow=!0===t.markAsCompleteMandatory?t.overflow:void 0,e.moduleId=r,n.nextLesson&&o&&(e.nextLesson=n.nextLesson.lessonId),e});var c=s.calculateLessonRate(n.versionHistory),l=n.completedTracker,h=n.plannedTracker;return[fromMyLessonActions.SetActiveMyLesson({lessons:u}),fromMyLessonActions.SetActiveMyLessonBook({books:n.books}),fromMyLessonActions.SetMyLesson({studyPlan:{versionHistory:c||[],completedTracker:l||[],plannedTracker:h||[]}})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.GetMyLessonFailed())}))})),this.getMyLessonConfig$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromMyLessonActions.SetMyLessonConfig),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return s.myLessonStoreService.getMyLessonConfig(e.lessonType).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){return[fromMyLessonActions.SetMyLessonConfigSuccess({configData:t,configType:e.lessonType})]})).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetMyLessonConfigFailed())}))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetMyLessonConfigFailed())})),this.getActivePlans$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromMyLessonActions.GetActivePlan),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(){return s.myLessonStoreService.getActiveStudyPlan(0,1,"1").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return[fromMyLessonActions.SetMyLesson({studyPlan:e.data[0]})]}))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetActivePlanFailed())})),this.GetProgressReports$=this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromMyLessonActions.GetProgressReport),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return 204!==e.status?s.myLessonStoreService.getAllReportNames().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){var t=[];return e.reports.forEach(function(e){t.push({name:e,startDate:e.split("_")[0].replace(/(\d{2})-(\d{2})-(\d{4})/,"$2/$1/$3"),endDate:e.split("_")[1].substring(0,e.split("_")[1].length-5).replace(/(\d{2})-(\d{2})-(\d{4})/,"$2/$1/$3")})}),t}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return[fromMyLessonActions.SetProgressReport({reportArray:e})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetProgressReportFailed())})):[fromMyLessonActions.SetProgressReportFailed()]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromMyLessonActions.SetProgressReportFailed())}))}return _createClass(e,[{key:"calculateLessonRate",value:function(e){var t=this;return lodash__WEBPACK_IMPORTED_MODULE_6__(e).map(function(e){var n=t.timeUtilityService.differenceInTime(new Date(parseInt(e.goalEndDate)),new Date(parseInt(e.startDate)));return e.lessonRate=e.startPendingLessons/n.days||0,e}).value()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(MyLessonStoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getMyLesson$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getMyLessonConfig$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"getActivePlans$",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__decorate)([Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.b)(),Object(tslib__WEBPACK_IMPORTED_MODULE_48__.__metadata)("design:type",Object)],e.prototype,"GetProgressReports$",void 0),e}(),NoteActionTypes=function(e){return e.UPSERT_NOTE_VIDEO_CONTEXT="[Note] UPSERT_NOTE_VIDEO_CONTEXT",e.DELETE_NOTE_VIDEO_CONTEXT="[Note] DELETE_NOTE_VIDEO_CONTEXT",e.UPSERT_NOTE="[Note] UPSERT_NOTE",e.DELETE_NOTE="[Note] DELETE_NOTE",e}({}),upsertNoteVideoContext=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(NoteActionTypes.UPSERT_NOTE_VIDEO_CONTEXT,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteNoteVideoContext=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(NoteActionTypes.DELETE_NOTE_VIDEO_CONTEXT,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),upsertNote=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(NoteActionTypes.UPSERT_NOTE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),deleteNote=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.g)(NoteActionTypes.DELETE_NOTE,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.l)()),fromNoteActions={upsertNoteVideoContext:upsertNoteVideoContext,deleteNoteVideoContext:deleteNoteVideoContext,upsertNote:upsertNote,deleteNote:deleteNote},defaultNoteVideoContext={ids:[],entities:{}},noteVideoContextAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),noteVideoContextEntityState=noteVideoContextAdapter.getInitialState(defaultNoteVideoContext),defaultNote={ids:[],entities:{}},noteAdapter=Object(_ngrx_entity__WEBPACK_IMPORTED_MODULE_45__.a)(),noteEntityState=noteAdapter.getInitialState(defaultNote),initialState$5={videoContext:noteVideoContextEntityState,note:noteEntityState},fromNoteState={defaultNoteVideoContext:defaultNoteVideoContext,noteVideoContextAdapter:noteVideoContextAdapter,defaultNote:defaultNote,noteAdapter:noteAdapter,initialState:initialState$5},getNoteFeatureState=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.h)(StoreStateEnum.note),_fromNoteState$noteVi=fromNoteState.noteVideoContextAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getNoteFeatureState,function(e){return e.videoContext})),selectAllNoteVideoContext=_fromNoteState$noteVi.selectAll,_fromNoteState$noteAd=fromNoteState.noteAdapter.getSelectors(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(getNoteFeatureState,function(e){return e.note})),selectAllNote=_fromNoteState$noteAd.selectAll,\u02750$g=function(e,t,n){var r=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(lodash__WEBPACK_IMPORTED_MODULE_6__(e).filter(function(e){return e[n.key]===n.value}).value());return lodash__WEBPACK_IMPORTED_MODULE_6__(r).map(function(e){var n=lodash__WEBPACK_IMPORTED_MODULE_6__(t).find({id:e.id}).attachments;return e.attachments=n,e}).value(),r},getVideoContextByKeyValue=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllNoteVideoContext,selectAllNote,\u02750$g),\u02751$b=function(e,t){return lodash__WEBPACK_IMPORTED_MODULE_6__(e).filter(function(e){return e.id===t.noteId}).value()},getNoteById=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.j)(selectAllNote,\u02751$b),fromNoteSelector={selectAllNoteVideoContext:selectAllNoteVideoContext,selectAllNote:selectAllNote,getVideoContextByKeyValue:getVideoContextByKeyValue,getNoteById:getNoteById},\u02750$h=function(e,t){var n=t.note;return Object.assign(Object.assign({},e),{note:fromNoteState.noteAdapter.upsertMany(n,Object.assign({},e.note))})},\u02751$c=function(e,t){var n=t.videoContext;return Object.assign(Object.assign({},e),{videoContext:fromNoteState.noteVideoContextAdapter.upsertMany(n,Object.assign({},e.videoContext))})},\u02752$b=function(e,t){var n=t.noteId;return Object.assign(Object.assign({},e),{note:fromNoteState.noteAdapter.removeMany(n,Object.assign({},e.note))})},\u02753$a=function(e,t){var n=t.noteId;return Object.assign(Object.assign({},e),{videoContext:fromNoteState.noteVideoContextAdapter.removeMany(n,Object.assign({},e.videoContext))})},noteReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(fromNoteState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromNoteActions.upsertNote,\u02750$h),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromNoteActions.upsertNoteVideoContext,\u02751$c),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromNoteActions.deleteNote,\u02752$b),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromNoteActions.deleteNoteVideoContext,\u02753$a));function reducers$4(e,t){return noteReducer(e,t)}var fromNoteReducers={reducers:reducers$4},\u02750$i=function(e,t){var n=t.details;return Object.assign(Object.assign({},e),{parentUserProfile:n})},\u02751$d=function(e,t){var n=t.details;return Object.assign(Object.assign({},e),{childUserProfile:n})},\u02752$c=function(e,t){var n=t.childList;return Object.assign(Object.assign({},e),{childListSubscriptionDetails:fromUserProfileState.childListSubscriptionDetailsAdapter.upsertMany(n,Object.assign({},e.childListSubscriptionDetails))})},\u02753$b=function(e,t){var n=t.details;return Object.assign(Object.assign({},e),{profileImage:fromUserProfileState.profileImageAdapter.upsertOne(Object.assign({},n),e.profileImage)})},\u02754$a=function(e,t){var n=t.details;return Object.assign(Object.assign({},e),{profileImage:fromUserProfileState.profileImageAdapter.upsertOne(Object.assign({},n),e.profileImage)})},\u02755$9=function(e,t){var n=t.oId;return console.log("DISPATCHED ACTION TO FETCH CHILD PROFILE IMAGE! : ".concat(n," MARKED!")),Object.assign(Object.assign({},e),{profileImage:fromUserProfileState.profileImageAdapter.upsertOne({oId:n,fetchStatus:"ACTIVE",image:""},e.profileImage)})},\u02756$8=function(e,t){var n=t.status;return Object.assign(Object.assign({},e),{childListIsEmpty:n})},\u02757$6=function(e){return Object.assign({},fromUserProfileState.initialState)},userProfileReducer=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.i)(fromUserProfileState.initialState,Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertParentUserProfile,\u02750$i),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertChildUserProfile,\u02751$d),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertChildListSubscriptionDetails,\u02752$c),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertProfileImageOnGet,\u02753$b),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.upsertProfileImageOnPost,\u02754$a),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.getProfileImage,\u02755$9),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.emptyChildListSubscriptionDetails,\u02756$8),Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.k)(fromUserProfileActions.removeAllProfileDetails,\u02757$6));function reducers$5(e,t){return userProfileReducer(e,t)}var fromUserProfileReducers={reducers:reducers$5},UserProfileEffects=function(){var e=_createClass(function e(t,n,r,i,o){var s=this;_classCallCheck(this,e),this.actions$=t,this.authenticationHttp=n,this.authenticationService=r,this.profileHttp=i,this.libTimeUtilityService=o,this.getChildDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return s.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.getChildUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(){return s.authenticationHttp.getUserDetails(LoginTypeEnum.DEFAULT,{columns:s.authenticationService.childColumns}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){return fromUserProfileActions.upsertChildUserProfile({details:e})}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getChildUserProfileFailed())}))}))}),this.updateChildDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return s.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.updateChildUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return s.authenticationHttp.updateUserDetails(LoginTypeEnum.DEFAULT,e.body).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(t){return[fromUserProfileActions.upsertChildUserProfile({details:e.childProfileDetails}),fromUserProfileActions.upsertChildListSubscriptionDetails({childList:[e.childListDetails]})]}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getChildListSubscriptionDetailsFailed())}))}))}),this.getParentDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return s.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.getParentUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(){return s.authenticationHttp.getUserDetails(LoginTypeEnum.PARENT,{columns:s.authenticationService.parentColumns}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){return fromUserProfileActions.upsertParentUserProfile({details:e})}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getParentUserProfileFailed({error:{status:e.status,message:null==e?void 0:e.error.errorMessage}}))}))}))}),this.updateParentDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return s.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.updateParentUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return s.authenticationHttp.updateUserDetails(LoginTypeEnum.PARENT,e.body,e.serviceType).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(t){return fromUserProfileActions.upsertParentUserProfile({details:e.details})}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.updateParentUserProfileFailed({error:e}))}))}))}),this.getChildListSubscriptionDetails$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return s.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.getChildListSubscriptionDetails),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(){return s.authenticationHttp.getChildListSubscriptionDetails().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(e){return e.map(function(e){var t,n=new Date,r=(null===(t=e.products[0])||void 0===t?void 0:t.expiry)?new Date(e.products[0].expiry):n,i=s.libTimeUtilityService.differenceInTwoDays(r,n).days;return e.products[0].remaningDays=i>0?i:0,e}),0===e.length?(console.log("\ud83d\ude80 ~ file: effects.ts ~ line 104 ~ UserProfileEffects ~ map ~ emptyChildListSubscriptionDetails",e),fromUserProfileActions.emptyChildListSubscriptionDetails({status:!0})):fromUserProfileActions.upsertChildListSubscriptionDetails({childList:e})}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getChildListSubscriptionDetailsFailed())}))}))}),this.getProfileImage$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return s.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.getProfileImage),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(e){return s.profileHttp.getProfileImage(e.oId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(t){return console.log("\ud83d\ude80 ~ file: effects.ts ~ line 138 ~ UserProfileEffects ~ map ~ image",t),fromUserProfileActions.upsertProfileImageOnGet({details:{oId:e.oId,image:t,fetchStatus:"ACTIVE"}})}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.getProfileImageFailed())}))}))}),this.uploadProfileImage$=Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.c)(function(){return s.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.uploadProfileImage),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(function(e){return s.profileHttp.uploadProfileImage(e.oId,e.image).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.a)(function(t){return console.log("\ud83d\ude80 ~ file: effects.ts ~ line 160 ~ UserProfileEffects ~ map ~ res",t),fromUserProfileActions.upsertProfileImageOnPost({details:{oId:e.oId,fetchStatus:"ACTIVE",image:e.imageBase64}})}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(e){return Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(fromUserProfileActions.postProfileImageFailed())}))}))})});return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AuthenticationHttp),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AuthenticationService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(ProfileHttp),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(LibTimeUtilityService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),CachingService=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.store=t,this.coreService=n,this.appVersion=this.coreService.getAppVersion()}return _createClass(e,[{key:"setStoreVersion",value:function(){var e="".concat(this.coreService.getAppVersion().major,".").concat(this.coreService.getAppVersion().minor);localStorage.setItem("storeVersion",e)}},{key:"checkIfStoreHasCache",value:function(){return Object.keys(StoreStateEnum).filter(function(e){return!!localStorage.getItem(e)})}},{key:"purgeCacheByVersion",value:function(){for(var e=this.checkIfStoreHasCache(),t=0;t<e.length;t++){var n=localStorage.getItem("storeVersion");n&&(parseInt(n.split(".")[0])<this.appVersion.major||parseInt(n.split(".")[1])<this.appVersion.minor)&&(console.log("".concat(e[t]," Store - Purged")),localStorage.removeItem(e[t]))}this.setStoreVersion()}},{key:"purgeCacheByTtl",value:function(){}},{key:"purgeCacheByUser",value:function(){}},{key:"purgeNgrxFeatureStore",value:function(){this.purgeCacheByVersion()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),eventType=function(e){return e.ON_ATTEMPTED="onAttempted",e.ON_SUBMIT="onSubmit",e.ON_NEXT="onNext",e.START="start",e.QUESTION_LOADED="questionLoaded",e.QUESTION_SKIP="questionSkip",e.RETRY="retry",e}({}),PerformanceDataLayerService=function(){var e=function(){function e(t){_classCallCheck(this,e),this.analyticsService=t,this.question=[]}return _createClass(e,[{key:"eventCaptutre",value:function(e,t,n,r,i,o){console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 36 ~ PerformanceDataLayerService ~ lessonData",i),console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 36 ~ PerformanceDataLayerService ~ eventData",e),console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 36 ~ PerformanceDataLayerService ~ evtype",o),console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 36 ~ PerformanceDataLayerService ~ questionData",t),e=this.getQuesDateById(t[0].questionID)||e,console.log("\ud83d\ude80 ~ file: performance.data.layer.service.ts ~ line 43 ~ PerformanceDataLayerService ~ eventData",e),this.analyticsService.eventCapturing(e,t,n,r,i,i.lessonName+"_"+o,o)}},{key:"setQuestionData",value:function(e){this.question=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.cloneDeep)(e)}},{key:"setQuestionState",value:function(e,t,n){if(e){var r=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.findIndex)(this.question,{id:n});this.question[r].state=e}}},{key:"updateQuestionList",value:function(e){var t=this.question[e];this.question.splice(e,1),this.question.push(t)}},{key:"onQuestionLoad",value:function(e,t,n){var r=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.findIndex)(this.question,{id:n});null==this.question[r].state&&(this.question[r].state=e)}},{key:"onNextQuestion",value:function(e,t,n){}},{key:"onAttempted",value:function(e,t,n){this.updateOperation(e,n)}},{key:"updateOperation",value:function(e,t){var n=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.findIndex)(this.question,{id:t}),r=this.question[n].state;r?(r=e,this.question[n].state=r):this.question[n].state=e}},{key:"getQuesDateById",value:function(e){var t=Object(lodash__WEBPACK_IMPORTED_MODULE_6__.findIndex)(this.question,{id:e});return this.question[t].state}},{key:"ngOnDestroy",value:function(){this.question=[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AnalyticsService))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}(),DefaultDetailsResolverService=function(){var e=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.analyticsService=t,this.coreService=n,this.analytics=r,this.store=i,this.actionsSubject=o}return _createClass(e,[{key:"resolve",value:function(e,t){var n=this;return this.store.select(fromUserProfileSelectors.selectChildProfileDetails).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(e){return e?Object(rxjs__WEBPACK_IMPORTED_MODULE_10__.a)(e):(n.store.dispatch(fromUserProfileActions.getChildUserProfile()),n.actionsSubject.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_46__.d)(fromUserProfileActions.upsertChildUserProfile),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.a)(function(){return n.store.select(fromUserProfileSelectors.selectChildProfileDetails)})))}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.a)(function(e){var t;if(n.coreService.setSchoolInfo(e),n.analyticsService.setDataLayerGTM(e),e.userSettings.info5){var r=e.userSettings.info5;n.analytics.setUserProperties({Grade:null===(t=null==r?void 0:r.grade)||void 0===t?void 0:t.name})}n.analytics.setUserProperties({UserId:e.userSettings.oid}),n.analytics.setUserId(e.userSettings.oid),window.Hansel.getUser().setUserID(e.userSettings.oid)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(AnalyticsService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_fire_analytics__WEBPACK_IMPORTED_MODULE_49__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.a))},e.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb)({factory:function(){return new e(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(AnalyticsService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(CoreService),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_angular_fire_analytics__WEBPACK_IMPORTED_MODULE_49__.a),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.c),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc)(_ngrx_store__WEBPACK_IMPORTED_MODULE_44__.a))},token:e,providedIn:"root"}),e}(),fadeInOut=[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0,position:"absolute",top:0,left:0,width:"100%",background:"#fff",height:"100%","z-index":10})],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":leave",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("0.3s",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0}))],{optional:!0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.c)(":enter",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:0}),Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.a)("0.3s",Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.d)({opacity:1}))],{optional:!0})],slideInOutAnimation=Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.f)("routeAnimation",[Object(_angular_animations__WEBPACK_IMPORTED_MODULE_43__.e)("* => *",fadeInOut)]);function AnimateCloseModalDecorator(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(n){var r=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close,i=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss,o=n.prototype.ngOnInit,s=n.prototype.ngOnDestroy,a=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close,u=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss;n.prototype.ngOnInit=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.c=a,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close=function(n){var r=this,i=e.join(" ");document.querySelector(".modal-dialog").classList.add(i),setTimeout(function(){r.c(n)},t)},_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.d=u,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss=function(n){var r=this,i=e.join(" ");document.querySelector(".modal-dialog").classList.add(i),setTimeout(function(){r.d(n)},t)},o&&o.apply(this,r)},n.prototype.ngOnDestroy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close=r,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss=i,a=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.close,u=_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.c.prototype.dismiss,s&&s.apply(this,t)}}}var SubjectThemeDirective=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.el=t,this.coreService=n,this.renderer=r,this.subjectId="default"}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t=[],n=(null===(e=this.coreService.getAppConfig())||void 0===e?void 0:e.theme.subject)[this.subjectId]||"default";this.preFixClass&&t.push(this.preFixClass),t.push(n),this.renderer.addClass(this.el.nativeElement,t.join("-"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.l),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(CoreService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.E))},e.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb({type:e,selectors:[["","nxAfsSubjectTheme",""]],inputs:{subjectId:"subjectId",preFixClass:"preFixClass"}}),e}(),UPPERCASE_INPUT_CONTROL_VALUE_ACCESSOR={provide:_angular_forms__WEBPACK_IMPORTED_MODULE_51__.e,useExisting:Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.V)(function(){return UpperCaseInputDirective}),multi:!0},UpperCaseInputDirective=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,r,!1)}return _createClass(n,[{key:"writeValue",value:function(e){var t=this.transformValue(e);_get(_getPrototypeOf(n.prototype),"writeValue",this).call(this,t)}},{key:"onInput",value:function(e){var t=this.transformValue(e);_get(_getPrototypeOf(n.prototype),"writeValue",this).call(this,t),this.onChange(t)}},{key:"transformValue",value:function(e){return e&&"string"==typeof e?e.toUpperCase():e}}]),n}(_angular_forms__WEBPACK_IMPORTED_MODULE_51__.b);return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.l))},e.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb({type:e,selectors:[["input","uppercase",""]],hostBindings:function(e,t){1&e&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.fc("input",function(e){return t.onInput(e.target.value)})("blur",function(){return t.onTouched()})},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.Cb([UPPERCASE_INPUT_CONTROL_VALUE_ACCESSOR]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ab]}),e}(),ErrorHandlerInterceptor=function(){var e=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"intercept",value:function(e,t){var n=this,r=e.clone();return t.handle(e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.a)(function(t){var i,o=e.headers.get("x-log-error");if(t instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.d&&"fire-base-log"===o){var s=(null==t?void 0:t.url)||"",a={};if(null==r?void 0:r.body){var u=null==r?void 0:r.body.map;u&&u.forEach(function(e,t){a[t]="password"!==t?e[0]:"#########"})}var c={};(null==r?void 0:r.params)&&((null==r?void 0:r.params.keys())||[]).forEach(function(e){var n=t.headers.get(e);c[e]=n});var l={};(null==t?void 0:t.headers)&&((null==t?void 0:t.headers.keys())||[]).forEach(function(e){var n=t.headers.get(e);l[e]=n});var h=(null==t?void 0:t.error)||{},d=(null==t?void 0:t.status)||"none",f=(null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.errorMessage)||"none",p=t.headers.get("x-requestid")||"none",_={id:p,module:"",cta:"",oId:"",url:s,requestBody:a,requestParams:c,requestHeaders:l,response:h,errorStatus:d,errorMessage:f,requestId:p};console.log("\ud83d\ude80 ~ file: error-handling.interceptor.ts ~ line 76 ~ ErrorHandlerInterceptor ~ obj",_),n.firestore.collection("web-error-log").add(_).then(function(e){console.log("\ud83d\ude80 ~ file: error-handling.interceptor.ts ~ line 78 ~ ErrorHandlerInterceptor ~ res",e)},function(e){console.log("\ud83d\ude80 ~ file: error-handling.interceptor.ts ~ line 81 ~ ErrorHandlerInterceptor ~ error",e)})}return Object(rxjs__WEBPACK_IMPORTED_MODULE_15__.a)(t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(_angular_fire_firestore__WEBPACK_IMPORTED_MODULE_52__.a))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:e,factory:e.\u0275fac}),e}()},Kj3r:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("7o/Q"),i=n("D0XW");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return function(n){return n.lift(new s(e,t))}}var s=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(r.a);function u(e){e.debouncedNext()}},Kqap:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(e,t,n))}}var o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(r.a)},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",function(){return r})},LRne:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=t[t.length-1];return Object(r.a)(s)?(t.pop(),Object(o.a)(t,s)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},LvDl:function(e,t,n){(function(e){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",d="[object Function]",f="[object GeneratorFunction]",p="[object Map]",_="[object Number]",g="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",b="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",O="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",w="[object Int8Array]",D="[object Int16Array]",P="[object Int32Array]",k="[object Uint8Array]",A="[object Uint16Array]",I="[object Uint32Array]",M=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,N=RegExp(L.source),U=RegExp(j.source),B=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,z=RegExp(K.source),H=/^\s+/,$=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,J=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,le=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="["+de+"]",pe="["+he+"]",_e="\\d+",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",ve="[^\\ud800-\\udfff"+de+_e+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",me="\\ud83c[\\udffb-\\udfff]",ye="[^\\ud800-\\udfff]",be="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Oe="(?:"+ge+"|"+ve+")",Se="(?:"+Ce+"|"+ve+")",Te="(?:"+pe+"|"+me+")?",we="[\\ufe0e\\ufe0f]?"+Te+"(?:\\u200d(?:"+[ye,be,Ee].join("|")+")[\\ufe0e\\ufe0f]?"+Te+")*",De="(?:"+["[\\u2700-\\u27bf]",be,Ee].join("|")+")"+we,Pe="(?:"+[ye+pe+"?",pe,be,Ee,"[\\ud800-\\udfff]"].join("|")+")",ke=RegExp("['\u2019]","g"),Ae=RegExp(pe,"g"),Ie=RegExp(me+"(?="+me+")|"+Pe+we,"g"),Me=RegExp([Ce+"?"+ge+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[fe,Ce,"$"].join("|")+")",Se+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[fe,Ce+Oe,"$"].join("|")+")",Ce+"?"+Oe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ce+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_e,De].join("|"),"g"),Re=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Le=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],je=-1,Ne={};Ne[S]=Ne[T]=Ne[w]=Ne[D]=Ne[P]=Ne[k]=Ne["[object Uint8ClampedArray]"]=Ne[A]=Ne[I]=!0,Ne[a]=Ne[u]=Ne[C]=Ne[c]=Ne[O]=Ne[l]=Ne[h]=Ne[d]=Ne[p]=Ne[_]=Ne[g]=Ne[v]=Ne[m]=Ne[y]=Ne[E]=!1;var Ue={};Ue[a]=Ue[u]=Ue[C]=Ue[O]=Ue[c]=Ue[l]=Ue[S]=Ue[T]=Ue[w]=Ue[D]=Ue[P]=Ue[p]=Ue[_]=Ue[g]=Ue[v]=Ue[m]=Ue[y]=Ue[b]=Ue[k]=Ue["[object Uint8ClampedArray]"]=Ue[A]=Ue[I]=!0,Ue[h]=Ue[d]=Ue[E]=!1;var Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fe=parseFloat,qe=parseInt,Ve="object"==typeof global&&global&&global.Object===Object&&global,We="object"==typeof self&&self&&self.Object===Object&&self,Ge=Ve||We||Function("return this")(),Ke=t&&!t.nodeType&&t,ze=Ke&&"object"==typeof e&&e&&!e.nodeType&&e,He=ze&&ze.exports===Ke,$e=He&&Ve.process,Qe=function(){try{return ze&&ze.require&&ze.require("util").types||$e&&$e.binding&&$e.binding("util")}catch(e){}}(),Ye=Qe&&Qe.isArrayBuffer,Xe=Qe&&Qe.isDate,Ze=Qe&&Qe.isMap,Je=Qe&&Qe.isRegExp,et=Qe&&Qe.isSet,tt=Qe&&Qe.isTypedArray;function nt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function it(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function ut(e,t){return!(null==e||!e.length)&&mt(e,t,0)>-1}function ct(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ht(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var _t=Ct("length");function gt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function vt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function mt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):vt(e,bt,n)}function yt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function bt(e){return e!=e}function Et(e,t){var n=null==e?0:e.length;return n?Tt(e,t)/n:NaN}function Ct(e){return function(t){return null==t?void 0:t[e]}}function Ot(e){return function(t){return null==e?void 0:e[t]}}function St(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Tt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function wt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Dt(e){return e?e.slice(0,Kt(e)+1).replace(H,""):e}function Pt(e){return function(t){return e(t)}}function kt(e,t){return lt(t,function(t){return e[t]})}function At(e,t){return e.has(t)}function It(e,t){for(var n=-1,r=e.length;++n<r&&mt(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length;n--&&mt(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var xt=Ot({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Lt=Ot({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function jt(e){return"\\"+Be[e]}function Nt(e){return Re.test(e)}function Ut(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Bt(e,t){return function(n){return e(t(n))}}function Ft(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function qt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Vt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Wt(e){return Nt(e)?function(e){for(var t=Ie.lastIndex=0;Ie.test(e);)++t;return t}(e):_t(e)}function Gt(e){return Nt(e)?function(e){return e.match(Ie)||[]}(e):function(e){return e.split("")}(e)}function Kt(e){for(var t=e.length;t--&&$.test(e.charAt(t)););return t}var zt=Ot({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ht=function e(t){var n,r=(t=null==t?Ge:Ht.defaults(Ge.Object(),t,Ht.pick(Ge,Le))).Array,$=t.Date,he=t.Error,de=t.Function,fe=t.Math,pe=t.Object,_e=t.RegExp,ge=t.String,ve=t.TypeError,me=r.prototype,ye=pe.prototype,be=t["__core-js_shared__"],Ee=de.prototype.toString,Ce=ye.hasOwnProperty,Oe=0,Se=(n=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Te=ye.toString,we=Ee.call(pe),De=Ge._,Pe=_e("^"+Ee.call(Ce).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=He?t.Buffer:void 0,Re=t.Symbol,Be=t.Uint8Array,Ve=Ie?Ie.allocUnsafe:void 0,We=Bt(pe.getPrototypeOf,pe),Ke=pe.create,ze=ye.propertyIsEnumerable,$e=me.splice,Qe=Re?Re.isConcatSpreadable:void 0,_t=Re?Re.iterator:void 0,Ot=Re?Re.toStringTag:void 0,$t=function(){try{var e=Zi(pe,"defineProperty");return e({},"",{}),e}catch(t){}}(),Qt=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Yt=$&&$.now!==Ge.Date.now&&$.now,Xt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Zt=fe.ceil,Jt=fe.floor,en=pe.getOwnPropertySymbols,tn=Ie?Ie.isBuffer:void 0,nn=t.isFinite,rn=me.join,on=Bt(pe.keys,pe),sn=fe.max,an=fe.min,un=$.now,cn=t.parseInt,ln=fe.random,hn=me.reverse,dn=Zi(t,"DataView"),fn=Zi(t,"Map"),pn=Zi(t,"Promise"),_n=Zi(t,"Set"),gn=Zi(t,"WeakMap"),vn=Zi(pe,"create"),mn=gn&&new gn,yn={},bn=Po(dn),En=Po(fn),Cn=Po(pn),On=Po(_n),Sn=Po(gn),Tn=Re?Re.prototype:void 0,wn=Tn?Tn.valueOf:void 0,Dn=Tn?Tn.toString:void 0;function Pn(e){if(Ks(e)&&!xs(e)&&!(e instanceof Mn)){if(e instanceof In)return e;if(Ce.call(e,"__wrapped__"))return ko(e)}return new In(e)}var kn=function(){function e(){}return function(t){if(!Gs(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function An(){}function In(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Mn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ln;++t<n;)this.add(e[t])}function Nn(e){var t=this.__data__=new xn(e);this.size=t.size}function Un(e,t){var n=xs(e),r=!n&&Rs(e),i=!n&&!r&&Us(e),o=!n&&!r&&!i&&Js(e),s=n||r||i||o,a=s?wt(e.length,ge):[],u=a.length;for(var c in e)!t&&!Ce.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oo(c,u))||a.push(c);return a}function Bn(e){var t=e.length;return t?e[Lr(0,t-1)]:void 0}function Fn(e,t){return Oo(gi(e),Qn(t,0,e.length))}function qn(e){return Oo(gi(e))}function Vn(e,t,n){(void 0!==n&&!As(e[t],n)||void 0===n&&!(t in e))&&Hn(e,t,n)}function Wn(e,t,n){var r=e[t];Ce.call(e,t)&&As(r,n)&&(void 0!==n||t in e)||Hn(e,t,n)}function Gn(e,t){for(var n=e.length;n--;)if(As(e[n][0],t))return n;return-1}function Kn(e,t,n,r){return er(e,function(e,i,o){t(r,e,n(e),o)}),r}function zn(e,t){return e&&vi(t,Ea(t),e)}function Hn(e,t,n){"__proto__"==t&&$t?$t(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function $n(e,t){for(var n=-1,i=t.length,o=r(i),s=null==e;++n<i;)o[n]=s?void 0:ga(e,t[n]);return o}function Qn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Yn(e,t,n,r,i,o){var s,u=1&t,h=2&t,E=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!Gs(e))return e;var M=xs(e);if(M){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ce.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return gi(e,s)}else{var R=to(e),x=R==d||R==f;if(Us(e))return li(e,u);if(R==g||R==a||x&&!i){if(s=h||x?{}:ro(e),!u)return h?function(e,t){return vi(e,eo(e),t)}(e,function(e,t){return e&&vi(t,Ca(t),e)}(s,e)):function(e,t){return vi(e,Ji(e),t)}(e,zn(s,e))}else{if(!Ue[R])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case C:return hi(e);case c:case l:return new r(+e);case O:return function(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case S:case T:case w:case D:case P:case k:case"[object Uint8ClampedArray]":case A:case I:return di(e,n);case p:return new r;case _:case y:return new r(e);case v:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return new r;case b:return wn?pe(wn.call(e)):{}}}(e,R,u)}}o||(o=new Nn);var L=o.get(e);if(L)return L;o.set(e,s),Ys(e)?e.forEach(function(r){s.add(Yn(r,t,n,r,e,o))}):zs(e)&&e.forEach(function(r,i){s.set(i,Yn(r,t,n,i,e,o))});var j=M?void 0:(E?h?Ki:Gi:h?Ca:Ea)(e);return it(j||e,function(r,i){j&&(r=e[i=r]),Wn(s,i,Yn(r,t,n,i,e,o))}),s}function Xn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pe(e);r--;){var i=n[r],o=e[i];if(void 0===o&&!(i in e)||!(0,t[i])(o))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new ve(i);return yo(function(){e.apply(void 0,n)},t)}function Jn(e,t,n,r){var i=-1,o=ut,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=lt(t,Pt(n))),r?(o=ct,s=!1):t.length>=200&&(o=At,s=!1,t=new jn(t));e:for(;++i<a;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;u.push(l)}else o(t,h,r)||u.push(l)}return u}Pn.templateSettings={escape:B,evaluate:F,interpolate:q,variable:"",imports:{_:Pn}},(Pn.prototype=An.prototype).constructor=Pn,(In.prototype=kn(An.prototype)).constructor=In,(Mn.prototype=kn(An.prototype)).constructor=Mn,Rn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Rn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rn.prototype.get=function(e){var t=this.__data__;if(vn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ce.call(t,e)?t[e]:void 0},Rn.prototype.has=function(e){var t=this.__data__;return vn?void 0!==t[e]:Ce.call(t,e)},Rn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&void 0===t?"__lodash_hash_undefined__":t,this},xn.prototype.clear=function(){this.__data__=[],this.size=0},xn.prototype.delete=function(e){var t=this.__data__,n=Gn(t,e);return!(n<0||(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,0))},xn.prototype.get=function(e){var t=this.__data__,n=Gn(t,e);return n<0?void 0:t[n][1]},xn.prototype.has=function(e){return Gn(this.__data__,e)>-1},xn.prototype.set=function(e,t){var n=this.__data__,r=Gn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Ln.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(fn||xn),string:new Rn}},Ln.prototype.delete=function(e){var t=Yi(this,e).delete(e);return this.size-=t?1:0,t},Ln.prototype.get=function(e){return Yi(this,e).get(e)},Ln.prototype.has=function(e){return Yi(this,e).has(e)},Ln.prototype.set=function(e,t){var n=Yi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},jn.prototype.add=jn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},jn.prototype.has=function(e){return this.__data__.has(e)},Nn.prototype.clear=function(){this.__data__=new xn,this.size=0},Nn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Nn.prototype.get=function(e){return this.__data__.get(e)},Nn.prototype.has=function(e){return this.__data__.has(e)},Nn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xn){var r=n.__data__;if(!fn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ln(r)}return n.set(e,t),this.size=n.size,this};var er=bi(ur),tr=bi(cr,!0);function nr(e,t){var n=!0;return er(e,function(e,r,i){return n=!!t(e,r,i)}),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!Zs(s):n(s,a)))var a=s,u=o}return u}function ir(e,t){var n=[];return er(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function or(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=io),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?or(a,t-1,n,r,i):ht(i,a):r||(i[i.length]=a)}return i}var sr=Ei(),ar=Ei(!0);function ur(e,t){return e&&sr(e,t,Ea)}function cr(e,t){return e&&ar(e,t,Ea)}function lr(e,t){return at(t,function(t){return qs(e[t])})}function hr(e,t){for(var n=0,r=(t=si(t,e)).length;null!=e&&n<r;)e=e[Do(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return xs(e)?r:ht(r,n(e))}function fr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ot&&Ot in pe(e)?function(e){var t=Ce.call(e,Ot),n=e[Ot];try{e[Ot]=void 0;var r=!0}catch(o){}var i=Te.call(e);return r&&(t?e[Ot]=n:delete e[Ot]),i}(e):function(e){return Te.call(e)}(e)}function pr(e,t){return e>t}function _r(e,t){return null!=e&&Ce.call(e,t)}function gr(e,t){return null!=e&&t in pe(e)}function vr(e,t,n){for(var i=n?ct:ut,o=e[0].length,s=e.length,a=s,u=r(s),c=1/0,l=[];a--;){var h=e[a];a&&t&&(h=lt(h,Pt(t))),c=an(h.length,c),u[a]=!n&&(t||o>=120&&h.length>=120)?new jn(a&&h):void 0}h=e[0];var d=-1,f=u[0];e:for(;++d<o&&l.length<c;){var p=h[d],_=t?t(p):p;if(p=n||0!==p?p:0,!(f?At(f,_):i(l,_,n))){for(a=s;--a;){var g=u[a];if(!(g?At(g,_):i(e[a],_,n)))continue e}f&&f.push(_),l.push(p)}}return l}function mr(e,t,n){var r=null==(e=_o(e,t=si(t,e)))?e:e[Do(Fo(t))];return null==r?void 0:nt(r,e,n)}function yr(e){return Ks(e)&&fr(e)==a}function br(e,t,n,r,i){return e===t||(null==e||null==t||!Ks(e)&&!Ks(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var s=xs(e),d=xs(t),f=s?u:to(e),E=d?u:to(t),S=(f=f==a?g:f)==g,T=(E=E==a?g:E)==g,w=f==E;if(w&&Us(e)){if(!Us(t))return!1;s=!0,S=!1}if(w&&!S)return o||(o=new Nn),s||Js(e)?Vi(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!o(new Be(e),new Be(t)));case c:case l:case _:return As(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var a=Ut;case m:if(a||(a=qt),e.size!=t.size&&!(1&r))return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var d=Vi(a(e),a(t),r,i,o,s);return s.delete(e),d;case b:if(wn)return wn.call(e)==wn.call(t)}return!1}(e,t,f,n,r,i,o);if(!(1&n)){var D=S&&Ce.call(e,"__wrapped__"),P=T&&Ce.call(t,"__wrapped__");if(D||P){var k=D?e.value():e,A=P?t.value():t;return o||(o=new Nn),i(k,A,n,r,o)}}return!!w&&(o||(o=new Nn),function(e,t,n,r,i,o){var s=1&n,a=Gi(e),u=a.length;if(u!=Gi(t).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in t:Ce.call(t,l)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++c<u;){var _=e[l=a[c]],g=t[l];if(r)var v=s?r(g,_,l,t,e,o):r(_,g,l,e,t,o);if(!(void 0===v?_===g||i(_,g,n,r,o):v)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var m=e.constructor,y=t.constructor;m==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,o))}(e,t,n,r,br,i))}function Er(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=pe(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var u=(a=n[i])[0],c=e[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var h=new Nn;if(r)var d=r(c,l,u,e,t,h);if(!(void 0===d?br(l,c,3,r,h):d))return!1}}return!0}function Cr(e){return!(!Gs(e)||(t=e,Se&&Se in t))&&(qs(e)?Pe:oe).test(Po(e));var t}function Or(e){return"function"==typeof e?e:null==e?Ha:"object"==typeof e?xs(e)?Pr(e[0],e[1]):Dr(e):nu(e)}function Sr(e){if(!lo(e))return on(e);var t=[];for(var n in pe(e))Ce.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Tr(e,t){return e<t}function wr(e,t){var n=-1,i=js(e)?r(e.length):[];return er(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function Dr(e){var t=Xi(e);return 1==t.length&&t[0][2]?fo(t[0][0],t[0][1]):function(n){return n===e||Er(n,e,t)}}function Pr(e,t){return ao(e)&&ho(t)?fo(Do(e),t):function(n){var r=ga(n,e);return void 0===r&&r===t?va(n,e):br(t,r,3)}}function kr(e,t,n,r,i){e!==t&&sr(t,function(o,s){if(i||(i=new Nn),Gs(o))!function(e,t,n,r,i,o,s){var a=vo(e,n),u=vo(t,n),c=s.get(u);if(c)Vn(e,n,c);else{var l=o?o(a,u,n+"",e,t,s):void 0,h=void 0===l;if(h){var d=xs(u),f=!d&&Us(u),p=!d&&!f&&Js(u);l=u,d||f||p?xs(a)?l=a:Ns(a)?l=gi(a):f?(h=!1,l=li(u,!0)):p?(h=!1,l=di(u,!0)):l=[]:$s(u)||Rs(u)?(l=a,Rs(a)?l=aa(a):Gs(a)&&!qs(a)||(l=ro(u))):h=!1}h&&(s.set(u,l),i(l,u,r,o,s),s.delete(u)),Vn(e,n,l)}}(e,t,s,n,kr,r,i);else{var a=r?r(vo(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),Vn(e,s,a)}},Ca)}function Ar(e,t){var n=e.length;if(n)return oo(t+=t<0?n:0,n)?e[t]:void 0}function Ir(e,t,n){t=t.length?lt(t,function(e){return xs(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e}):[Ha];var r=-1;return t=lt(t,Pt(Qi())),function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var u=fi(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(wr(e,function(e,n,i){return{criteria:lt(t,function(t){return t(e)}),index:++r,value:e}}))}function Mr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=hr(e,s);n(a,s)&&Fr(o,si(s,e),a)}return o}function Rr(e,t,n,r){var i=r?yt:mt,o=-1,s=t.length,a=e;for(e===t&&(t=gi(t)),n&&(a=lt(e,Pt(n)));++o<s;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==e&&$e.call(a,u,1),$e.call(e,u,1);return e}function xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;oo(i)?$e.call(e,i,1):Zr(e,i)}}return e}function Lr(e,t){return e+Jt(ln()*(t-e+1))}function jr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Jt(t/2))&&(e+=e)}while(t);return n}function Nr(e,t){return bo(po(e,t,Ha),e+"")}function Ur(e){return Bn(Aa(e))}function Br(e,t){var n=Aa(e);return Oo(n,Qn(t,0,n.length))}function Fr(e,t,n,r){if(!Gs(e))return e;for(var i=-1,o=(t=si(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var u=Do(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var l=a[u];void 0===(c=r?r(l,u,a):void 0)&&(c=Gs(l)?l:oo(t[i+1])?[]:{})}Wn(a,u,c),a=a[u]}return e}var qr=mn?function(e,t){return mn.set(e,t),e}:Ha,Vr=$t?function(e,t){return $t(e,"toString",{configurable:!0,enumerable:!1,value:Ga(t),writable:!0})}:Ha;function Wr(e){return Oo(Aa(e))}function Gr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function Kr(e,t){var n;return er(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function zr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Zs(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Hr(e,t,Ha,n)}function Hr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,u=Zs(t),c=void 0===t;i<o;){var l=Jt((i+o)/2),h=n(e[l]),d=void 0!==h,f=null===h,p=h==h,_=Zs(h);if(s)var g=r||p;else g=c?p&&(r||d):a?p&&d&&(r||!f):u?p&&d&&!f&&(r||!_):!f&&!_&&(r?h<=t:h<t);g?i=l+1:o=l}return an(o,4294967294)}function $r(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!As(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Qr(e){return"number"==typeof e?e:Zs(e)?NaN:+e}function Yr(e){if("string"==typeof e)return e;if(xs(e))return lt(e,Yr)+"";if(Zs(e))return Dn?Dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xr(e,t,n){var r=-1,i=ut,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=ct;else if(o>=200){var c=t?null:ji(e);if(c)return qt(c);s=!1,i=At,u=new jn}else u=t?[]:a;e:for(;++r<o;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function Zr(e,t){return null==(e=_o(e,t=si(t,e)))||delete e[Do(Fo(t))]}function Jr(e,t,n,r){return Fr(e,t,n(hr(e,t)),r)}function ei(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Gr(e,r?0:o,r?o+1:i):Gr(e,r?o+1:0,r?i:o)}function ti(e,t){var n=e;return n instanceof Mn&&(n=n.value()),dt(t,function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))},n)}function ni(e,t,n){var i=e.length;if(i<2)return i?Xr(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=Jn(s[o]||a,e[u],t,n));return Xr(or(s,1),t,n)}function ri(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;)n(s,e[r],r<o?t[r]:void 0);return s}function ii(e){return Ns(e)?e:[]}function oi(e){return"function"==typeof e?e:Ha}function si(e,t){return xs(e)?e:ao(e,t)?[e]:wo(ua(e))}var ai=Nr;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Gr(e,t,n)}var ci=Qt||function(e){return Ge.clearTimeout(e)};function li(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function hi(e){var t=new e.constructor(e.byteLength);return new Be(t).set(new Be(e)),t}function di(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function fi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Zs(e),s=void 0!==t,a=null===t,u=t==t,c=Zs(t);if(!a&&!c&&!o&&e>t||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function pi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,u=-1,c=t.length,l=sn(s-a,0),h=r(c+l),d=!i;++u<c;)h[u]=t[u];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;l--;)h[u++]=e[o++];return h}function _i(e,t,n,i){for(var o=-1,s=e.length,a=-1,u=n.length,c=-1,l=t.length,h=sn(s-u,0),d=r(h+l),f=!i;++o<h;)d[o]=e[o];for(var p=o;++c<l;)d[p+c]=t[c];for(;++a<u;)(f||o<s)&&(d[p+n[a]]=e[o++]);return d}function gi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function vi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;void 0===u&&(u=e[a]),i?Hn(n,a,u):Wn(n,a,u)}return n}function mi(e,t){return function(n,r){var i=xs(n)?rt:Kn,o=t?t():{};return i(n,e,Qi(r,2),o)}}function yi(e){return Nr(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&so(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=pe(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}function bi(e,t){return function(n,r){if(null==n)return n;if(!js(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=pe(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ei(e){return function(t,n,r){for(var i=-1,o=pe(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Ci(e){return function(t){var n=Nt(t=ua(t))?Gt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function Oi(e){return function(t){return dt(qa(Ra(t).replace(ke,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=kn(e.prototype),r=e.apply(n,t);return Gs(r)?r:n}}function Ti(e){return function(t,n,r){var i=pe(t);if(!js(t)){var o=Qi(n,3);t=Ea(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function wi(e){return Wi(function(t){var n=t.length,r=n,o=In.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new ve(i);if(o&&!a&&"wrapper"==Hi(s))var a=new In([],!0)}for(r=a?r:n;++r<n;){var u=Hi(s=t[r]),c="wrapper"==u?zi(s):void 0;a=c&&uo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[Hi(c[0])].apply(a,c[3]):1==s.length&&uo(s)?a[u]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&xs(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Di(e,t,n,i,o,s,a,u,c,l){var h=128&t,d=1&t,f=2&t,p=24&t,_=512&t,g=f?void 0:Si(e);return function v(){for(var m=arguments.length,y=r(m),b=m;b--;)y[b]=arguments[b];if(p)var E=$i(v),C=Rt(y,E);if(i&&(y=pi(y,i,o,p)),s&&(y=_i(y,s,a,p)),m-=C,p&&m<l){var O=Ft(y,E);return xi(e,t,Di,v.placeholder,n,y,O,u,c,l-m)}var S=d?n:this,T=f?S[e]:e;return m=y.length,u?y=go(y,u):_&&m>1&&y.reverse(),h&&c<m&&(y.length=c),this&&this!==Ge&&this instanceof v&&(T=g||Si(T)),T.apply(S,y)}}function Pi(e,t){return function(n,r){return function(e,t,n,r){return ur(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function ki(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Yr(n),r=Yr(r)):(n=Qr(n),r=Qr(r)),i=e(n,r)}return i}}function Ai(e){return Wi(function(t){return t=lt(t,Pt(Qi())),Nr(function(n){var r=this;return e(t,function(e){return nt(e,r,n)})})})}function Ii(e,t){var n=(t=void 0===t?" ":Yr(t)).length;if(n<2)return n?jr(t,e):t;var r=jr(t,Zt(e/Wt(t)));return Nt(t)?ui(Gt(r),0,e).join(""):r.slice(0,e)}function Mi(e){return function(t,n,i){return i&&"number"!=typeof i&&so(t,n,i)&&(n=i=void 0),t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n,i){for(var o=-1,s=sn(Zt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,i=void 0===i?t<n?1:-1:ra(i),e)}}function Ri(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=sa(t),n=sa(n)),e(t,n)}}function xi(e,t,n,r,i,o,s,a,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var h=[e,t,i,l?o:void 0,l?s:void 0,l?void 0:o,l?void 0:s,a,u,c],d=n.apply(void 0,h);return uo(e)&&mo(d,h),d.placeholder=r,Eo(d,e,t)}function Li(e){var t=fe[e];return function(e,n){if(e=sa(e),(n=null==n?0:an(ia(n),292))&&nn(e)){var r=(ua(e)+"e").split("e");return+((r=(ua(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var ji=_n&&1/qt(new _n([,-0]))[1]==1/0?function(e){return new _n(e)}:Za;function Ni(e){return function(t){var n=to(t);return n==p?Ut(t):n==m?Vt(t):function(e,t){return lt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ui(e,t,n,s,a,u,c,l){var h=2&t;if(!h&&"function"!=typeof e)throw new ve(i);var d=s?s.length:0;if(d||(t&=-97,s=a=void 0),c=void 0===c?c:sn(ia(c),0),l=void 0===l?l:ia(l),d-=a?a.length:0,64&t){var f=s,p=a;s=a=void 0}var _=h?void 0:zi(e),g=[e,t,n,s,a,f,p,u,c,l];if(_&&function(e,t){var n=e[1],r=t[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var a=e[3];e[3]=a?pi(a,s,t[4]):s,e[4]=a?Ft(e[3],o):t[4]}(s=t[5])&&(e[5]=(a=e[5])?_i(a,s,t[6]):s,e[6]=a?Ft(e[5],o):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:an(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(g,_),e=g[0],t=g[1],n=g[2],s=g[3],a=g[4],!(l=g[9]=void 0===g[9]?h?0:e.length:sn(g[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Si(e);return function o(){for(var s=arguments.length,a=r(s),u=s,c=$i(o);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:Ft(a,c);return(s-=l.length)<n?xi(e,t,Di,o.placeholder,void 0,a,l,void 0,void 0,n-s):nt(this&&this!==Ge&&this instanceof o?i:e,this,a)}}(e,t,l):32!=t&&33!=t||a.length?Di.apply(void 0,g):function(e,t,n,i){var o=1&t,s=Si(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),d=this&&this!==Ge&&this instanceof t?s:e;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return nt(d,o?n:this,h)}}(e,t,n,s);else var v=function(e,t,n){var r=1&t,i=Si(e);return function t(){return(this&&this!==Ge&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Eo((_?qr:mo)(v,g),e,t)}function Bi(e,t,n,r){return void 0===e||As(e,ye[n])&&!Ce.call(r,n)?t:e}function Fi(e,t,n,r,i,o){return Gs(e)&&Gs(t)&&(o.set(t,e),kr(e,t,void 0,Fi,o),o.delete(t)),e}function qi(e){return $s(e)?void 0:e}function Vi(e,t,n,r,i,o){var s=1&n,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var h=-1,d=!0,f=2&n?new jn:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],_=t[h];if(r)var g=s?r(_,p,h,t,e,o):r(p,_,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!pt(t,function(e,t){if(!At(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)})){d=!1;break}}else if(p!==_&&!i(p,_,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Wi(e){return bo(po(e,void 0,Lo),e+"")}function Gi(e){return dr(e,Ea,Ji)}function Ki(e){return dr(e,Ca,eo)}var zi=mn?function(e){return mn.get(e)}:Za;function Hi(e){for(var t=e.name+"",n=yn[t],r=Ce.call(yn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function $i(e){return(Ce.call(Pn,"placeholder")?Pn:e).placeholder}function Qi(){var e=Pn.iteratee||$a;return e=e===$a?Or:e,arguments.length?e(arguments[0],arguments[1]):e}function Yi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Xi(e){for(var t=Ea(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ho(i)]}return t}function Zi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Cr(n)?n:void 0}var Ji=en?function(e){return null==e?[]:(e=pe(e),at(en(e),function(t){return ze.call(e,t)}))}:ou,eo=en?function(e){for(var t=[];e;)ht(t,Ji(e)),e=We(e);return t}:ou,to=fr;function no(e,t,n){for(var r=-1,i=(t=si(t,e)).length,o=!1;++r<i;){var s=Do(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ws(i)&&oo(s,i)&&(xs(e)||Rs(e))}function ro(e){return"function"!=typeof e.constructor||lo(e)?{}:kn(We(e))}function io(e){return xs(e)||Rs(e)||!!(Qe&&e&&e[Qe])}function oo(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ae.test(e))&&e>-1&&e%1==0&&e<t}function so(e,t,n){if(!Gs(n))return!1;var r=typeof t;return!!("number"==r?js(n)&&oo(t,n.length):"string"==r&&t in n)&&As(n[t],e)}function ao(e,t){if(xs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Zs(e))||W.test(e)||!V.test(e)||null!=t&&e in pe(t)}function uo(e){var t=Hi(e),n=Pn[t];if("function"!=typeof n||!(t in Mn.prototype))return!1;if(e===n)return!0;var r=zi(n);return!!r&&e===r[0]}(dn&&to(new dn(new ArrayBuffer(1)))!=O||fn&&to(new fn)!=p||pn&&"[object Promise]"!=to(pn.resolve())||_n&&to(new _n)!=m||gn&&to(new gn)!=E)&&(to=function(e){var t=fr(e),n=t==g?e.constructor:void 0,r=n?Po(n):"";if(r)switch(r){case bn:return O;case En:return p;case Cn:return"[object Promise]";case On:return m;case Sn:return E}return t});var co=be?qs:su;function lo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ye)}function ho(e){return e==e&&!Gs(e)}function fo(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in pe(n))}}function po(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=sn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(a),nt(e,this,u)}}function _o(e,t){return t.length<2?e:hr(e,Gr(t,0,-1))}function go(e,t){for(var n=e.length,r=an(t.length,n),i=gi(e);r--;){var o=t[r];e[r]=oo(o,n)?i[o]:void 0}return e}function vo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var mo=Co(qr),yo=Xt||function(e,t){return Ge.setTimeout(e,t)},bo=Co(Vr);function Eo(e,t,n){var r=t+"";return bo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Q,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return it(s,function(n){var r="_."+n[0];t&n[1]&&!ut(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(X):[]}(r),n)))}function Co(e){var t=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Oo(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Lr(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var So,To,wo=(So=Ss(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G,function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)}),t},function(e){return 500===To.size&&To.clear(),e}),To=So.cache,So);function Do(e){if("string"==typeof e||Zs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Po(e){if(null!=e){try{return Ee.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ko(e){if(e instanceof Mn)return e.clone();var t=new In(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ao=Nr(function(e,t){return Ns(e)?Jn(e,or(t,1,Ns,!0)):[]}),Io=Nr(function(e,t){var n=Fo(t);return Ns(n)&&(n=void 0),Ns(e)?Jn(e,or(t,1,Ns,!0),Qi(n,2)):[]}),Mo=Nr(function(e,t){var n=Fo(t);return Ns(n)&&(n=void 0),Ns(e)?Jn(e,or(t,1,Ns,!0),void 0,n):[]});function Ro(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=sn(r+i,0)),vt(e,Qi(t,3),i)}function xo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?sn(r+i,0):an(i,r-1)),vt(e,Qi(t,3),i,!0)}function Lo(e){return null!=e&&e.length?or(e,1):[]}function jo(e){return e&&e.length?e[0]:void 0}var No=Nr(function(e){var t=lt(e,ii);return t.length&&t[0]===e[0]?vr(t):[]}),Uo=Nr(function(e){var t=Fo(e),n=lt(e,ii);return t===Fo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?vr(n,Qi(t,2)):[]}),Bo=Nr(function(e){var t=Fo(e),n=lt(e,ii);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?vr(n,void 0,t):[]});function Fo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var qo=Nr(Vo);function Vo(e,t){return e&&e.length&&t&&t.length?Rr(e,t):e}var Wo=Wi(function(e,t){var n=null==e?0:e.length,r=$n(e,t);return xr(e,lt(t,function(e){return oo(e,n)?+e:e}).sort(fi)),r});function Go(e){return null==e?e:hn.call(e)}var Ko=Nr(function(e){return Xr(or(e,1,Ns,!0))}),zo=Nr(function(e){var t=Fo(e);return Ns(t)&&(t=void 0),Xr(or(e,1,Ns,!0),Qi(t,2))}),Ho=Nr(function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,Xr(or(e,1,Ns,!0),void 0,t)});function $o(e){if(!e||!e.length)return[];var t=0;return e=at(e,function(e){if(Ns(e))return t=sn(e.length,t),!0}),wt(t,function(t){return lt(e,Ct(t))})}function Qo(e,t){if(!e||!e.length)return[];var n=$o(e);return null==t?n:lt(n,function(e){return nt(t,void 0,e)})}var Yo=Nr(function(e,t){return Ns(e)?Jn(e,t):[]}),Xo=Nr(function(e){return ni(at(e,Ns))}),Zo=Nr(function(e){var t=Fo(e);return Ns(t)&&(t=void 0),ni(at(e,Ns),Qi(t,2))}),Jo=Nr(function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,ni(at(e,Ns),void 0,t)}),es=Nr($o),ts=Nr(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Qo(e,n)});function ns(e){var t=Pn(e);return t.__chain__=!0,t}function rs(e,t){return t(e)}var is=Wi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return $n(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Mn&&oo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new In(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e})):this.thru(i)}),os=mi(function(e,t,n){Ce.call(e,n)?++e[n]:Hn(e,n,1)}),ss=Ti(Ro),as=Ti(xo);function us(e,t){return(xs(e)?it:er)(e,Qi(t,3))}function cs(e,t){return(xs(e)?ot:tr)(e,Qi(t,3))}var ls=mi(function(e,t,n){Ce.call(e,n)?e[n].push(t):Hn(e,n,[t])}),hs=Nr(function(e,t,n){var i=-1,o="function"==typeof t,s=js(e)?r(e.length):[];return er(e,function(e){s[++i]=o?nt(t,e,n):mr(e,t,n)}),s}),ds=mi(function(e,t,n){Hn(e,n,t)});function fs(e,t){return(xs(e)?lt:wr)(e,Qi(t,3))}var ps=mi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),_s=Nr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&so(e,t[0],t[1])?t=[]:n>2&&so(t[0],t[1],t[2])&&(t=[t[0]]),Ir(e,or(t,1),[])}),gs=Yt||function(){return Ge.Date.now()};function vs(e,t,n){return t=n?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ms(e,t){var n;if("function"!=typeof t)throw new ve(i);return e=ia(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ys=Nr(function(e,t,n){var r=1;if(n.length){var i=Ft(n,$i(ys));r|=32}return Ui(e,r,t,n,i)}),bs=Nr(function(e,t,n){var r=3;if(n.length){var i=Ft(n,$i(bs));r|=32}return Ui(t,r,e,n,i)});function Es(e,t,n){var r,o,s,a,u,c,l=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new ve(i);function p(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function _(e){return l=e,u=yo(v,t),h?p(e):a}function g(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=s}function v(){var e=gs();if(g(e))return m(e);u=yo(v,function(e){var n=t-(e-c);return d?an(n,s-(e-l)):n}(e))}function m(e){return u=void 0,f&&r?p(e):(r=o=void 0,a)}function y(){var e=gs(),n=g(e);if(r=arguments,o=this,c=e,n){if(void 0===u)return _(c);if(d)return ci(u),u=yo(v,t),p(c)}return void 0===u&&(u=yo(v,t)),a}return t=sa(t)||0,Gs(n)&&(h=!!n.leading,s=(d="maxWait"in n)?sn(sa(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==u&&ci(u),l=0,r=c=o=u=void 0},y.flush=function(){return void 0===u?a:m(gs())},y}var Cs=Nr(function(e,t){return Zn(e,1,t)}),Os=Nr(function(e,t,n){return Zn(e,sa(t)||0,n)});function Ss(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ss.Cache||Ln),n}function Ts(e){if("function"!=typeof e)throw new ve(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ss.Cache=Ln;var ws=ai(function(e,t){var n=(t=1==t.length&&xs(t[0])?lt(t[0],Pt(Qi())):lt(or(t,1),Pt(Qi()))).length;return Nr(function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return nt(e,this,r)})}),Ds=Nr(function(e,t){return Ui(e,32,void 0,t,Ft(t,$i(Ds)))}),Ps=Nr(function(e,t){return Ui(e,64,void 0,t,Ft(t,$i(Ps)))}),ks=Wi(function(e,t){return Ui(e,256,void 0,void 0,void 0,t)});function As(e,t){return e===t||e!=e&&t!=t}var Is=Ri(pr),Ms=Ri(function(e,t){return e>=t}),Rs=yr(function(){return arguments}())?yr:function(e){return Ks(e)&&Ce.call(e,"callee")&&!ze.call(e,"callee")},xs=r.isArray,Ls=Ye?Pt(Ye):function(e){return Ks(e)&&fr(e)==C};function js(e){return null!=e&&Ws(e.length)&&!qs(e)}function Ns(e){return Ks(e)&&js(e)}var Us=tn||su,Bs=Xe?Pt(Xe):function(e){return Ks(e)&&fr(e)==l};function Fs(e){if(!Ks(e))return!1;var t=fr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!$s(e)}function qs(e){if(!Gs(e))return!1;var t=fr(e);return t==d||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Vs(e){return"number"==typeof e&&e==ia(e)}function Ws(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Gs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ks(e){return null!=e&&"object"==typeof e}var zs=Ze?Pt(Ze):function(e){return Ks(e)&&to(e)==p};function Hs(e){return"number"==typeof e||Ks(e)&&fr(e)==_}function $s(e){if(!Ks(e)||fr(e)!=g)return!1;var t=We(e);if(null===t)return!0;var n=Ce.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==we}var Qs=Je?Pt(Je):function(e){return Ks(e)&&fr(e)==v},Ys=et?Pt(et):function(e){return Ks(e)&&to(e)==m};function Xs(e){return"string"==typeof e||!xs(e)&&Ks(e)&&fr(e)==y}function Zs(e){return"symbol"==typeof e||Ks(e)&&fr(e)==b}var Js=tt?Pt(tt):function(e){return Ks(e)&&Ws(e.length)&&!!Ne[fr(e)]},ea=Ri(Tr),ta=Ri(function(e,t){return e<=t});function na(e){if(!e)return[];if(js(e))return Xs(e)?Gt(e):gi(e);if(_t&&e[_t])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[_t]());var t=to(e);return(t==p?Ut:t==m?qt:Aa)(e)}function ra(e){return e?1/0===(e=sa(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ia(e){var t=ra(e),n=t%1;return t==t?n?t-n:t:0}function oa(e){return e?Qn(ia(e),0,4294967295):0}function sa(e){if("number"==typeof e)return e;if(Zs(e))return NaN;if(Gs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Gs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Dt(e);var n=ie.test(e);return n||se.test(e)?qe(e.slice(2),n?2:8):re.test(e)?NaN:+e}function aa(e){return vi(e,Ca(e))}function ua(e){return null==e?"":Yr(e)}var ca=yi(function(e,t){if(lo(t)||js(t))vi(t,Ea(t),e);else for(var n in t)Ce.call(t,n)&&Wn(e,n,t[n])}),la=yi(function(e,t){vi(t,Ca(t),e)}),ha=yi(function(e,t,n,r){vi(t,Ca(t),e,r)}),da=yi(function(e,t,n,r){vi(t,Ea(t),e,r)}),fa=Wi($n),pa=Nr(function(e,t){e=pe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&so(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=Ca(o),a=-1,u=s.length;++a<u;){var c=s[a],l=e[c];(void 0===l||As(l,ye[c])&&!Ce.call(e,c))&&(e[c]=o[c])}return e}),_a=Nr(function(e){return e.push(void 0,Fi),nt(Sa,void 0,e)});function ga(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function va(e,t){return null!=e&&no(e,t,gr)}var ma=Pi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Te.call(t)),e[t]=n},Ga(Ha)),ya=Pi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Te.call(t)),Ce.call(e,t)?e[t].push(n):e[t]=[n]},Qi),ba=Nr(mr);function Ea(e){return js(e)?Un(e):Sr(e)}function Ca(e){return js(e)?Un(e,!0):function(e){if(!Gs(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=lo(e),n=[];for(var r in e)("constructor"!=r||!t&&Ce.call(e,r))&&n.push(r);return n}(e)}var Oa=yi(function(e,t,n){kr(e,t,n)}),Sa=yi(function(e,t,n,r){kr(e,t,n,r)}),Ta=Wi(function(e,t){var n={};if(null==e)return n;var r=!1;t=lt(t,function(t){return t=si(t,e),r||(r=t.length>1),t}),vi(e,Ki(e),n),r&&(n=Yn(n,7,qi));for(var i=t.length;i--;)Zr(n,t[i]);return n}),wa=Wi(function(e,t){return null==e?{}:function(e,t){return Mr(e,t,function(t,n){return va(e,n)})}(e,t)});function Da(e,t){if(null==e)return{};var n=lt(Ki(e),function(e){return[e]});return t=Qi(t),Mr(e,n,function(e,n){return t(e,n[0])})}var Pa=Ni(Ea),ka=Ni(Ca);function Aa(e){return null==e?[]:kt(e,Ea(e))}var Ia=Oi(function(e,t,n){return t=t.toLowerCase(),e+(n?Ma(t):t)});function Ma(e){return Fa(ua(e).toLowerCase())}function Ra(e){return(e=ua(e))&&e.replace(ue,xt).replace(Ae,"")}var xa=Oi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),La=Oi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),ja=Ci("toLowerCase"),Na=Oi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ua=Oi(function(e,t,n){return e+(n?" ":"")+Fa(t)}),Ba=Oi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Fa=Ci("toUpperCase");function qa(e,t,n){return e=ua(e),void 0===(t=n?void 0:t)?function(e){return xe.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Va=Nr(function(e,t){try{return nt(e,void 0,t)}catch(n){return Fs(n)?n:new he(n)}}),Wa=Wi(function(e,t){return it(t,function(t){t=Do(t),Hn(e,t,ys(e[t],e))}),e});function Ga(e){return function(){return e}}var Ka=wi(),za=wi(!0);function Ha(e){return e}function $a(e){return Or("function"==typeof e?e:Yn(e,1))}var Qa=Nr(function(e,t){return function(n){return mr(n,e,t)}}),Ya=Nr(function(e,t){return function(n){return mr(e,n,t)}});function Xa(e,t,n){var r=Ea(t),i=lr(t,r);null!=n||Gs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=lr(t,Ea(t)));var o=!(Gs(n)&&"chain"in n&&!n.chain),s=qs(e);return it(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ht([this.value()],arguments))})}),e}function Za(){}var Ja=Ai(lt),eu=Ai(st),tu=Ai(pt);function nu(e){return ao(e)?Ct(Do(e)):function(e){return function(t){return hr(t,e)}}(e)}var ru=Mi(),iu=Mi(!0);function ou(){return[]}function su(){return!1}var au,uu=ki(function(e,t){return e+t},0),cu=Li("ceil"),lu=ki(function(e,t){return e/t},1),hu=Li("floor"),du=ki(function(e,t){return e*t},1),fu=Li("round"),pu=ki(function(e,t){return e-t},0);return Pn.after=function(e,t){if("function"!=typeof t)throw new ve(i);return e=ia(e),function(){if(--e<1)return t.apply(this,arguments)}},Pn.ary=vs,Pn.assign=ca,Pn.assignIn=la,Pn.assignInWith=ha,Pn.assignWith=da,Pn.at=fa,Pn.before=ms,Pn.bind=ys,Pn.bindAll=Wa,Pn.bindKey=bs,Pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return xs(e)?e:[e]},Pn.chain=ns,Pn.chunk=function(e,t,n){t=(n?so(e,t,n):void 0===t)?1:sn(ia(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=r(Zt(i/t));o<i;)a[s++]=Gr(e,o,o+=t);return a},Pn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ht(xs(n)?gi(n):[n],or(t,1))},Pn.cond=function(e){var t=null==e?0:e.length,n=Qi();return e=t?lt(e,function(e){if("function"!=typeof e[1])throw new ve(i);return[n(e[0]),e[1]]}):[],Nr(function(n){for(var r=-1;++r<t;){var i=e[r];if(nt(i[0],this,n))return nt(i[1],this,n)}})},Pn.conforms=function(e){return function(e){var t=Ea(e);return function(n){return Xn(n,e,t)}}(Yn(e,1))},Pn.constant=Ga,Pn.countBy=os,Pn.create=function(e,t){var n=kn(e);return null==t?n:zn(n,t)},Pn.curry=function e(t,n,r){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Pn.curryRight=function e(t,n,r){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Pn.debounce=Es,Pn.defaults=pa,Pn.defaultsDeep=_a,Pn.defer=Cs,Pn.delay=Os,Pn.difference=Ao,Pn.differenceBy=Io,Pn.differenceWith=Mo,Pn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,(t=n||void 0===t?1:ia(t))<0?0:t,r):[]},Pn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,0,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t):[]},Pn.dropRightWhile=function(e,t){return e&&e.length?ei(e,Qi(t,3),!0,!0):[]},Pn.dropWhile=function(e,t){return e&&e.length?ei(e,Qi(t,3),!0):[]},Pn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&so(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Pn.filter=function(e,t){return(xs(e)?at:ir)(e,Qi(t,3))},Pn.flatMap=function(e,t){return or(fs(e,t),1)},Pn.flatMapDeep=function(e,t){return or(fs(e,t),1/0)},Pn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ia(n),or(fs(e,t),n)},Pn.flatten=Lo,Pn.flattenDeep=function(e){return null!=e&&e.length?or(e,1/0):[]},Pn.flattenDepth=function(e,t){return null!=e&&e.length?or(e,t=void 0===t?1:ia(t)):[]},Pn.flip=function(e){return Ui(e,512)},Pn.flow=Ka,Pn.flowRight=za,Pn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Pn.functions=function(e){return null==e?[]:lr(e,Ea(e))},Pn.functionsIn=function(e){return null==e?[]:lr(e,Ca(e))},Pn.groupBy=ls,Pn.initial=function(e){return null!=e&&e.length?Gr(e,0,-1):[]},Pn.intersection=No,Pn.intersectionBy=Uo,Pn.intersectionWith=Bo,Pn.invert=ma,Pn.invertBy=ya,Pn.invokeMap=hs,Pn.iteratee=$a,Pn.keyBy=ds,Pn.keys=Ea,Pn.keysIn=Ca,Pn.map=fs,Pn.mapKeys=function(e,t){var n={};return t=Qi(t,3),ur(e,function(e,r,i){Hn(n,t(e,r,i),e)}),n},Pn.mapValues=function(e,t){var n={};return t=Qi(t,3),ur(e,function(e,r,i){Hn(n,r,t(e,r,i))}),n},Pn.matches=function(e){return Dr(Yn(e,1))},Pn.matchesProperty=function(e,t){return Pr(e,Yn(t,1))},Pn.memoize=Ss,Pn.merge=Oa,Pn.mergeWith=Sa,Pn.method=Qa,Pn.methodOf=Ya,Pn.mixin=Xa,Pn.negate=Ts,Pn.nthArg=function(e){return e=ia(e),Nr(function(t){return Ar(t,e)})},Pn.omit=Ta,Pn.omitBy=function(e,t){return Da(e,Ts(Qi(t)))},Pn.once=function(e){return ms(2,e)},Pn.orderBy=function(e,t,n,r){return null==e?[]:(xs(t)||(t=null==t?[]:[t]),xs(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(e,t,n))},Pn.over=Ja,Pn.overArgs=ws,Pn.overEvery=eu,Pn.overSome=tu,Pn.partial=Ds,Pn.partialRight=Ps,Pn.partition=ps,Pn.pick=wa,Pn.pickBy=Da,Pn.property=nu,Pn.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},Pn.pull=qo,Pn.pullAll=Vo,Pn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,Qi(n,2)):e},Pn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,void 0,n):e},Pn.pullAt=Wo,Pn.range=ru,Pn.rangeRight=iu,Pn.rearg=ks,Pn.reject=function(e,t){return(xs(e)?at:ir)(e,Ts(Qi(t,3)))},Pn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Qi(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return xr(e,i),n},Pn.rest=function(e,t){if("function"!=typeof e)throw new ve(i);return Nr(e,t=void 0===t?t:ia(t))},Pn.reverse=Go,Pn.sampleSize=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:ia(t),(xs(e)?Fn:Br)(e,t)},Pn.set=function(e,t,n){return null==e?e:Fr(e,t,n)},Pn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Fr(e,t,n,r)},Pn.shuffle=function(e){return(xs(e)?qn:Wr)(e)},Pn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&so(e,t,n)?(t=0,n=r):(t=null==t?0:ia(t),n=void 0===n?r:ia(n)),Gr(e,t,n)):[]},Pn.sortBy=_s,Pn.sortedUniq=function(e){return e&&e.length?$r(e):[]},Pn.sortedUniqBy=function(e,t){return e&&e.length?$r(e,Qi(t,2)):[]},Pn.split=function(e,t,n){return n&&"number"!=typeof n&&so(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ua(e))&&("string"==typeof t||null!=t&&!Qs(t))&&!(t=Yr(t))&&Nt(e)?ui(Gt(e),0,n):e.split(t,n):[]},Pn.spread=function(e,t){if("function"!=typeof e)throw new ve(i);return t=null==t?0:sn(ia(t),0),Nr(function(n){var r=n[t],i=ui(n,0,t);return r&&ht(i,r),nt(e,this,i)})},Pn.tail=function(e){var t=null==e?0:e.length;return t?Gr(e,1,t):[]},Pn.take=function(e,t,n){return e&&e.length?Gr(e,0,(t=n||void 0===t?1:ia(t))<0?0:t):[]},Pn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t,r):[]},Pn.takeRightWhile=function(e,t){return e&&e.length?ei(e,Qi(t,3),!1,!0):[]},Pn.takeWhile=function(e,t){return e&&e.length?ei(e,Qi(t,3)):[]},Pn.tap=function(e,t){return t(e),e},Pn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ve(i);return Gs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Es(e,t,{leading:r,maxWait:t,trailing:o})},Pn.thru=rs,Pn.toArray=na,Pn.toPairs=Pa,Pn.toPairsIn=ka,Pn.toPath=function(e){return xs(e)?lt(e,Do):Zs(e)?[e]:gi(wo(ua(e)))},Pn.toPlainObject=aa,Pn.transform=function(e,t,n){var r=xs(e),i=r||Us(e)||Js(e);if(t=Qi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Gs(e)&&qs(o)?kn(We(e)):{}}return(i?it:ur)(e,function(e,r,i){return t(n,e,r,i)}),n},Pn.unary=function(e){return vs(e,1)},Pn.union=Ko,Pn.unionBy=zo,Pn.unionWith=Ho,Pn.uniq=function(e){return e&&e.length?Xr(e):[]},Pn.uniqBy=function(e,t){return e&&e.length?Xr(e,Qi(t,2)):[]},Pn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},Pn.unset=function(e,t){return null==e||Zr(e,t)},Pn.unzip=$o,Pn.unzipWith=Qo,Pn.update=function(e,t,n){return null==e?e:Jr(e,t,oi(n))},Pn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Jr(e,t,oi(n),r)},Pn.values=Aa,Pn.valuesIn=function(e){return null==e?[]:kt(e,Ca(e))},Pn.without=Yo,Pn.words=qa,Pn.wrap=function(e,t){return Ds(oi(t),e)},Pn.xor=Xo,Pn.xorBy=Zo,Pn.xorWith=Jo,Pn.zip=es,Pn.zipObject=function(e,t){return ri(e||[],t||[],Wn)},Pn.zipObjectDeep=function(e,t){return ri(e||[],t||[],Fr)},Pn.zipWith=ts,Pn.entries=Pa,Pn.entriesIn=ka,Pn.extend=la,Pn.extendWith=ha,Xa(Pn,Pn),Pn.add=uu,Pn.attempt=Va,Pn.camelCase=Ia,Pn.capitalize=Ma,Pn.ceil=cu,Pn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==t&&(t=(t=sa(t))==t?t:0),Qn(sa(e),t,n)},Pn.clone=function(e){return Yn(e,4)},Pn.cloneDeep=function(e){return Yn(e,5)},Pn.cloneDeepWith=function(e,t){return Yn(e,5,t="function"==typeof t?t:void 0)},Pn.cloneWith=function(e,t){return Yn(e,4,t="function"==typeof t?t:void 0)},Pn.conformsTo=function(e,t){return null==t||Xn(e,t,Ea(t))},Pn.deburr=Ra,Pn.defaultTo=function(e,t){return null==e||e!=e?t:e},Pn.divide=lu,Pn.endsWith=function(e,t,n){e=ua(e),t=Yr(t);var r=e.length,i=n=void 0===n?r:Qn(ia(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Pn.eq=As,Pn.escape=function(e){return(e=ua(e))&&U.test(e)?e.replace(j,Lt):e},Pn.escapeRegExp=function(e){return(e=ua(e))&&z.test(e)?e.replace(K,"\\$&"):e},Pn.every=function(e,t,n){var r=xs(e)?st:nr;return n&&so(e,t,n)&&(t=void 0),r(e,Qi(t,3))},Pn.find=ss,Pn.findIndex=Ro,Pn.findKey=function(e,t){return gt(e,Qi(t,3),ur)},Pn.findLast=as,Pn.findLastIndex=xo,Pn.findLastKey=function(e,t){return gt(e,Qi(t,3),cr)},Pn.floor=hu,Pn.forEach=us,Pn.forEachRight=cs,Pn.forIn=function(e,t){return null==e?e:sr(e,Qi(t,3),Ca)},Pn.forInRight=function(e,t){return null==e?e:ar(e,Qi(t,3),Ca)},Pn.forOwn=function(e,t){return e&&ur(e,Qi(t,3))},Pn.forOwnRight=function(e,t){return e&&cr(e,Qi(t,3))},Pn.get=ga,Pn.gt=Is,Pn.gte=Ms,Pn.has=function(e,t){return null!=e&&no(e,t,_r)},Pn.hasIn=va,Pn.head=jo,Pn.identity=Ha,Pn.includes=function(e,t,n,r){e=js(e)?e:Aa(e),n=n&&!r?ia(n):0;var i=e.length;return n<0&&(n=sn(i+n,0)),Xs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&mt(e,t,n)>-1},Pn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=sn(r+i,0)),mt(e,t,i)},Pn.inRange=function(e,t,n){return t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n){return e>=an(t,n)&&e<sn(t,n)}(e=sa(e),t,n)},Pn.invoke=ba,Pn.isArguments=Rs,Pn.isArray=xs,Pn.isArrayBuffer=Ls,Pn.isArrayLike=js,Pn.isArrayLikeObject=Ns,Pn.isBoolean=function(e){return!0===e||!1===e||Ks(e)&&fr(e)==c},Pn.isBuffer=Us,Pn.isDate=Bs,Pn.isElement=function(e){return Ks(e)&&1===e.nodeType&&!$s(e)},Pn.isEmpty=function(e){if(null==e)return!0;if(js(e)&&(xs(e)||"string"==typeof e||"function"==typeof e.splice||Us(e)||Js(e)||Rs(e)))return!e.length;var t=to(e);if(t==p||t==m)return!e.size;if(lo(e))return!Sr(e).length;for(var n in e)if(Ce.call(e,n))return!1;return!0},Pn.isEqual=function(e,t){return br(e,t)},Pn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},Pn.isError=Fs,Pn.isFinite=function(e){return"number"==typeof e&&nn(e)},Pn.isFunction=qs,Pn.isInteger=Vs,Pn.isLength=Ws,Pn.isMap=zs,Pn.isMatch=function(e,t){return e===t||Er(e,t,Xi(t))},Pn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Er(e,t,Xi(t),n)},Pn.isNaN=function(e){return Hs(e)&&e!=+e},Pn.isNative=function(e){if(co(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cr(e)},Pn.isNil=function(e){return null==e},Pn.isNull=function(e){return null===e},Pn.isNumber=Hs,Pn.isObject=Gs,Pn.isObjectLike=Ks,Pn.isPlainObject=$s,Pn.isRegExp=Qs,Pn.isSafeInteger=function(e){return Vs(e)&&e>=-9007199254740991&&e<=9007199254740991},Pn.isSet=Ys,Pn.isString=Xs,Pn.isSymbol=Zs,Pn.isTypedArray=Js,Pn.isUndefined=function(e){return void 0===e},Pn.isWeakMap=function(e){return Ks(e)&&to(e)==E},Pn.isWeakSet=function(e){return Ks(e)&&"[object WeakSet]"==fr(e)},Pn.join=function(e,t){return null==e?"":rn.call(e,t)},Pn.kebabCase=xa,Pn.last=Fo,Pn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?sn(r+i,0):an(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):vt(e,bt,i,!0)},Pn.lowerCase=La,Pn.lowerFirst=ja,Pn.lt=ea,Pn.lte=ta,Pn.max=function(e){return e&&e.length?rr(e,Ha,pr):void 0},Pn.maxBy=function(e,t){return e&&e.length?rr(e,Qi(t,2),pr):void 0},Pn.mean=function(e){return Et(e,Ha)},Pn.meanBy=function(e,t){return Et(e,Qi(t,2))},Pn.min=function(e){return e&&e.length?rr(e,Ha,Tr):void 0},Pn.minBy=function(e,t){return e&&e.length?rr(e,Qi(t,2),Tr):void 0},Pn.stubArray=ou,Pn.stubFalse=su,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=du,Pn.nth=function(e,t){return e&&e.length?Ar(e,ia(t)):void 0},Pn.noConflict=function(){return Ge._===this&&(Ge._=De),this},Pn.noop=Za,Pn.now=gs,Pn.pad=function(e,t,n){e=ua(e);var r=(t=ia(t))?Wt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ii(Jt(i),n)+e+Ii(Zt(i),n)},Pn.padEnd=function(e,t,n){e=ua(e);var r=(t=ia(t))?Wt(e):0;return t&&r<t?e+Ii(t-r,n):e},Pn.padStart=function(e,t,n){e=ua(e);var r=(t=ia(t))?Wt(e):0;return t&&r<t?Ii(t-r,n)+e:e},Pn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(ua(e).replace(H,""),t||0)},Pn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&so(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ra(e),void 0===t?(t=e,e=0):t=ra(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ln();return an(e+i*(t-e+Fe("1e-"+((i+"").length-1))),t)}return Lr(e,t)},Pn.reduce=function(e,t,n){var r=xs(e)?dt:St,i=arguments.length<3;return r(e,Qi(t,4),n,i,er)},Pn.reduceRight=function(e,t,n){var r=xs(e)?ft:St,i=arguments.length<3;return r(e,Qi(t,4),n,i,tr)},Pn.repeat=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:ia(t),jr(ua(e),t)},Pn.replace=function(){var e=arguments,t=ua(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Pn.result=function(e,t,n){var r=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Do(t[r])];void 0===o&&(r=i,o=n),e=qs(o)?o.call(e):o}return e},Pn.round=fu,Pn.runInContext=e,Pn.sample=function(e){return(xs(e)?Bn:Ur)(e)},Pn.size=function(e){if(null==e)return 0;if(js(e))return Xs(e)?Wt(e):e.length;var t=to(e);return t==p||t==m?e.size:Sr(e).length},Pn.snakeCase=Na,Pn.some=function(e,t,n){var r=xs(e)?pt:Kr;return n&&so(e,t,n)&&(t=void 0),r(e,Qi(t,3))},Pn.sortedIndex=function(e,t){return zr(e,t)},Pn.sortedIndexBy=function(e,t,n){return Hr(e,t,Qi(n,2))},Pn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=zr(e,t);if(r<n&&As(e[r],t))return r}return-1},Pn.sortedLastIndex=function(e,t){return zr(e,t,!0)},Pn.sortedLastIndexBy=function(e,t,n){return Hr(e,t,Qi(n,2),!0)},Pn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=zr(e,t,!0)-1;if(As(e[n],t))return n}return-1},Pn.startCase=Ua,Pn.startsWith=function(e,t,n){return e=ua(e),n=null==n?0:Qn(ia(n),0,e.length),t=Yr(t),e.slice(n,n+t.length)==t},Pn.subtract=pu,Pn.sum=function(e){return e&&e.length?Tt(e,Ha):0},Pn.sumBy=function(e,t){return e&&e.length?Tt(e,Qi(t,2)):0},Pn.template=function(e,t,n){var r=Pn.templateSettings;n&&so(e,t,n)&&(t=void 0),e=ua(e),t=ha({},t,r,Bi);var i,o,s=ha({},t.imports,r.imports,Bi),a=Ea(s),u=kt(s,a),c=0,l=t.interpolate||ce,h="__p += '",d=_e((t.escape||ce).source+"|"+l.source+"|"+(l===q?te:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),f="//# sourceURL="+(Ce.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++je+"]")+"\n";e.replace(d,function(t,n,r,s,a,u){return r||(r=s),h+=e.slice(c,u).replace(le,jt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),h+="';\n";var p=Ce.call(t,"variable")&&t.variable;if(p){if(J.test(p))throw new he("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(M,""):h).replace(R,"$1").replace(x,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=Va(function(){return de(a,f+"return "+h).apply(void 0,u)});if(_.source=h,Fs(_))throw _;return _},Pn.times=function(e,t){if((e=ia(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=wt(r,t=Qi(t));++n<e;)t(n);return i},Pn.toFinite=ra,Pn.toInteger=ia,Pn.toLength=oa,Pn.toLower=function(e){return ua(e).toLowerCase()},Pn.toNumber=sa,Pn.toSafeInteger=function(e){return e?Qn(ia(e),-9007199254740991,9007199254740991):0===e?e:0},Pn.toString=ua,Pn.toUpper=function(e){return ua(e).toUpperCase()},Pn.trim=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return Dt(e);if(!e||!(t=Yr(t)))return e;var r=Gt(e),i=Gt(t);return ui(r,It(r,i),Mt(r,i)+1).join("")},Pn.trimEnd=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return e.slice(0,Kt(e)+1);if(!e||!(t=Yr(t)))return e;var r=Gt(e);return ui(r,0,Mt(r,Gt(t))+1).join("")},Pn.trimStart=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return e.replace(H,"");if(!e||!(t=Yr(t)))return e;var r=Gt(e);return ui(r,It(r,Gt(t))).join("")},Pn.truncate=function(e,t){var n=30,r="...";if(Gs(t)){var i="separator"in t?t.separator:i;n="length"in t?ia(t.length):n,r="omission"in t?Yr(t.omission):r}var o=(e=ua(e)).length;if(Nt(e)){var s=Gt(e);o=s.length}if(n>=o)return e;var a=n-Wt(r);if(a<1)return r;var u=s?ui(s,0,a).join(""):e.slice(0,a);if(void 0===i)return u+r;if(s&&(a+=u.length-a),Qs(i)){if(e.slice(a).search(i)){var c,l=u;for(i.global||(i=_e(i.source,ua(ne.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,void 0===h?a:h)}}else if(e.indexOf(Yr(i),a)!=a){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r},Pn.unescape=function(e){return(e=ua(e))&&N.test(e)?e.replace(L,zt):e},Pn.uniqueId=function(e){var t=++Oe;return ua(e)+t},Pn.upperCase=Ba,Pn.upperFirst=Fa,Pn.each=us,Pn.eachRight=cs,Pn.first=jo,Xa(Pn,(au={},ur(Pn,function(e,t){Ce.call(Pn.prototype,t)||(au[t]=e)}),au),{chain:!1}),Pn.VERSION="4.17.21",it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Pn[e].placeholder=Pn}),it(["drop","take"],function(e,t){Mn.prototype[e]=function(n){n=void 0===n?1:sn(ia(n),0);var r=this.__filtered__&&!t?new Mn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Mn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),it(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Mn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Qi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),it(["head","last"],function(e,t){var n="take"+(t?"Right":"");Mn.prototype[e]=function(){return this[n](1).value()[0]}}),it(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Mn.prototype[e]=function(){return this.__filtered__?new Mn(this):this[n](1)}}),Mn.prototype.compact=function(){return this.filter(Ha)},Mn.prototype.find=function(e){return this.filter(e).head()},Mn.prototype.findLast=function(e){return this.reverse().find(e)},Mn.prototype.invokeMap=Nr(function(e,t){return"function"==typeof e?new Mn(this):this.map(function(n){return mr(n,e,t)})}),Mn.prototype.reject=function(e){return this.filter(Ts(Qi(e)))},Mn.prototype.slice=function(e,t){e=ia(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Mn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ia(t))<0?n.dropRight(-t):n.take(t-e)),n)},Mn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Mn.prototype.toArray=function(){return this.take(4294967295)},ur(Mn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Pn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Pn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof Mn,u=s[0],c=a||xs(t),l=function(e){var t=i.apply(Pn,ht([e],s));return r&&h?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(a=c=!1);var h=this.__chain__,d=!!this.__actions__.length,f=o&&!h,p=a&&!d;if(!o&&c){t=p?t:new Mn(this);var _=e.apply(t,s);return _.__actions__.push({func:rs,args:[l],thisArg:void 0}),new In(_,h)}return f&&p?e.apply(this,s):(_=this.thru(l),f?r?_.value()[0]:_.value():_)})}),it(["pop","push","shift","sort","splice","unshift"],function(e){var t=me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Pn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(xs(i)?i:[],e)}return this[n](function(n){return t.apply(xs(n)?n:[],e)})}}),ur(Mn.prototype,function(e,t){var n=Pn[t];if(n){var r=n.name+"";Ce.call(yn,r)||(yn[r]=[]),yn[r].push({name:t,func:n})}}),yn[Di(void 0,2).name]=[{name:"wrapper",func:void 0}],Mn.prototype.clone=function(){var e=new Mn(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},Mn.prototype.reverse=function(){if(this.__filtered__){var e=new Mn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Mn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=xs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=an(t,e+s);break;case"takeRight":e=sn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,d=0,f=an(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return ti(e,this.__actions__);var p=[];e:for(;u--&&d<f;){for(var _=-1,g=e[c+=t];++_<h;){var v=l[_],m=v.type,y=(0,v.iteratee)(g);if(2==m)g=y;else if(!y){if(1==m)continue e;break e}}p[d++]=g}return p},Pn.prototype.at=is,Pn.prototype.chain=function(){return ns(this)},Pn.prototype.commit=function(){return new In(this.value(),this.__chain__)},Pn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Pn.prototype.plant=function(e){for(var t,n=this;n instanceof An;){var r=ko(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Pn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Mn){var t=e;return this.__actions__.length&&(t=new Mn(this)),(t=t.reverse()).__actions__.push({func:rs,args:[Go],thisArg:void 0}),new In(t,this.__chain__)}return this.thru(Go)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,_t&&(Pn.prototype[_t]=function(){return this}),Pn}();Ge._=Ht,void 0===(r=(function(){return Ht}).call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n("YuTi")(e))},MtjB:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("XNiG"),i=n("l7GE"),o=n("ZUHj");function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.notifier=t,this.source=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.notifier,this.source))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).notifier=r,o.source=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{t=new r.a;try{i=(0,this.notifier)(t)}catch(a){return _get(_getPrototypeOf(n.prototype),"error",this).call(this,a)}s=Object(o.a)(this,i)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=i,this.retriesSubscription=s,t.next(e)}}},{key:"_unsubscribe",value:function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)}}]),n}(i.a)},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e},0)}n.d(t,"a",function(){return r})},NXyV:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function s(e){return new r.a(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(t)})}},OQgR:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("7o/Q"),i=n("quSY"),o=n("HDdC"),s=n("XNiG");function a(e,t,n,r){return function(i){return i.lift(new u(e,t,n,r))}}var u=function(){function e(t,n,r,i){_classCallCheck(this,e),this.keySelector=t,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e)).keySelector=r,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)}},{key:"_group",value:function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(u){this.error(u)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new s.a,n.set(t,i);var o=new h(t,i,this);if(this.destination.next(o),this.durationSelector){var a;try{a=this.durationSelector(new h(t,i))}catch(u){return void this.error(u)}this.add(a.subscribe(new l(t,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)}},{key:"_complete",value:function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()}},{key:"removeGroup",value:function(e){this.groups.delete(e)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}}]),n}(r.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,r)).key=e,o.group=r,o.parent=i,o}return _createClass(n,[{key:"_next",value:function(e){this.complete()}},{key:"_unsubscribe",value:function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)}}]),n}(r.a),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).key=e,o.groupSubject=r,o.refCountSubscription=i,o}return _createClass(n,[{key:"_subscribe",value:function(e){var t=new i.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new d(n)),t.add(r.subscribe(e)),t}}]),n}(o.a),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,e.count++,r}return _createClass(n,[{key:"unsubscribe",value:function(){var e=this.parent;e.closed||this.closed||(_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}]),n}(i.a)},PqYM:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("HDdC"),i=n("D0XW"),o=n("Y7HM"),s=n("z+Ro");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=-1;return Object(o.a)(t)?a=Number(t)<1?1:Number(t):Object(s.a)(t)&&(n=t),Object(s.a)(n)||(n=i.a),new r.a(function(t){var r=Object(o.a)(e)?e:+e-n.now();return n.schedule(u,r,{index:0,period:a,subscriber:t})})}function u(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},R0Ic:function(e,t,n){"use strict";function r(e,t){return{type:7,name:e,definitions:t,options:{}}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:3,steps:e,options:t}}function s(e){return{type:6,styles:e,offset:null}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return r})},R0sL:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("l7P3"),i=n("fXoL"),o=function(e){return e[e.EntitiesOnly=0]="EntitiesOnly",e[e.Both=1]="Both",e[e.None=2]="None",e}({});function s(e){return function(t,n){var r={ids:_toConsumableArray(n.ids),entities:Object.assign({},n.entities)},i=e(t,r);return i===o.Both?Object.assign({},n,r):i===o.EntitiesOnly?Object.assign(Object.assign({},n),{entities:r.entities}):n}}function a(e,t){var n=t(e);return Object(i.X)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),n}function u(e){function t(t,n){var r=a(t,e);return r in n.entities?o.None:(n.ids.push(r),n.entities[r]=t,o.Both)}function n(e,n){var r,i=!1,s=_createForOfIteratorHelper(e);try{for(s.s();!(r=s.n()).done;){i=t(r.value,n)!==o.None||i}}catch(a){s.e(a)}finally{s.f()}return i?o.Both:o.None}function r(e,t){var n=(e instanceof Array?e:t.ids.filter(function(n){return e(t.entities[n])})).filter(function(e){return e in t.entities}).map(function(e){return delete t.entities[e]}).length>0;return n&&(t.ids=t.ids.filter(function(e){return e in t.entities})),n?o.Both:o.None}function i(e,t){return u([e],t)}function u(t,n){var r={};return(t=t.filter(function(e){return e.id in n.entities})).length>0?t.filter(function(t){return function(t,n,r){var i=Object.assign({},r.entities[n.id],n.changes),o=a(i,e),s=o!==n.id;return s&&(t[n.id]=o,delete r.entities[n.id]),r.entities[o]=i,s}(r,t,n)}).length>0?(n.ids=n.ids.map(function(e){return r[e]||e}),o.Both):o.EntitiesOnly:o.None}function c(t,r){var i,s=[],c=[],l=_createForOfIteratorHelper(t);try{for(l.s();!(i=l.n()).done;){var h=i.value,d=a(h,e);d in r.entities?c.push({id:d,changes:h}):s.push(h)}}catch(_){l.e(_)}finally{l.f()}var f=u(c,r),p=n(s,r);switch(!0){case p===o.None&&f===o.None:return o.None;case p===o.Both||f===o.Both:return o.Both;default:return o.EntitiesOnly}}return{removeAll:function(e){return Object.assign({},e,{ids:[],entities:{}})},addOne:s(t),addMany:s(n),setAll:s(function(e,t){return t.ids=[],t.entities={},n(e,t),o.Both}),setOne:s(function(t,n){var r=a(t,e);return r in n.entities?(n.entities[r]=t,o.EntitiesOnly):(n.ids.push(r),n.entities[r]=t,o.Both)}),updateOne:s(i),updateMany:s(u),upsertOne:s(function(e,t){return c([e],t)}),upsertMany:s(c),removeOne:s(function(e,t){return r([e],t)}),removeMany:s(r),map:s(function(e,t){return u(t.ids.reduce(function(n,r){var i=e(t.entities[r]);return i!==t.entities[r]&&n.push({id:r,changes:i}),n},[]).filter(function(e){return e.id in t.entities}),t)}),mapOne:s(function(e,t){var n=e.map,r=e.id,s=t.entities[r];return s?i({id:r,changes:n(s)},t):o.None})}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,i=t.sortComparer,c={getInitialState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({ids:[],entities:{}},e)}},l={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},i=Object(r.j)(t,n,function(e,t){return e.map(function(e){return t[e]})}),o=Object(r.j)(t,function(e){return e.length});return e?{selectIds:Object(r.j)(e,t),selectEntities:Object(r.j)(e,n),selectAll:Object(r.j)(e,i),selectTotal:Object(r.j)(e,o)}:{selectIds:t,selectEntities:n,selectAll:i,selectTotal:o}}},h=i?function(e,t){var n=u(e);function r(e,t){return i([e],t)}function i(t,n){var r=t.filter(function(t){return!(a(t,e)in n.entities)});return 0===r.length?o.None:(d(r,n),o.Both)}function c(e,t){return l([e],t)}function l(t,n){var r=[],i=t.filter(function(t){return function(t,n,r){if(!(n.id in r.entities))return!1;var i=Object.assign({},r.entities[n.id],n.changes),o=a(i,e);return delete r.entities[n.id],t.push(i),o!==n.id}(r,t,n)}).length>0;if(0===r.length)return o.None;var s=n.ids,u=[];return n.ids=n.ids.filter(function(e,t){return e in n.entities||(u.push(t),!1)}),d(r,n),!i&&u.every(function(e){return n.ids[e]===s[e]})?o.EntitiesOnly:o.Both}function h(t,n){var r,s=[],u=[],c=_createForOfIteratorHelper(t);try{for(c.s();!(r=c.n()).done;){var h=r.value,d=a(h,e);d in n.entities?u.push({id:d,changes:h}):s.push(h)}}catch(_){c.e(_)}finally{c.f()}var f=l(u,n),p=i(s,n);switch(!0){case p===o.None&&f===o.None:return o.None;case p===o.Both||f===o.Both:return o.Both;default:return o.EntitiesOnly}}function d(n,r){n.sort(t);for(var i=[],o=0,s=0;o<n.length&&s<r.ids.length;){var u=n[o],c=a(u,e),l=r.ids[s];t(u,r.entities[l])<=0?(i.push(c),o++):(i.push(l),s++)}r.ids=i.concat(o<n.length?n.slice(o).map(e):r.ids.slice(s)),n.forEach(function(t,n){r.entities[e(t)]=t})}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:s(r),updateOne:s(c),upsertOne:s(function(e,t){return h([e],t)}),setAll:s(function(e,t){return t.entities={},t.ids=[],i(e,t),o.Both}),setOne:s(function(t,n){var i=a(t,e);return i in n.entities?(n.ids=n.ids.filter(function(e){return e!==i}),d([t],n),o.Both):r(t,n)}),addMany:s(i),updateMany:s(l),upsertMany:s(h),map:s(function(e,t){return l(t.ids.reduce(function(n,r){var i=e(t.entities[r]);return i!==t.entities[r]&&n.push({id:r,changes:i}),n},[]),t)}),mapOne:s(function(e,t){var n=e.map,r=e.id,i=t.entities[r];return i?c({id:r,changes:n(i)},t):o.None})}}(n,i):u(n);return Object.assign(Object.assign(Object.assign({selectId:n,sortComparer:i},c),l),h)}},SeVD:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(e){if(e&&"function"==typeof e[s.a])return l=e,function(e){var t=l[s.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,l,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",function(){return r})},SxV6:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),s=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?Object(i.a)(function(t,n){return e(t,n,c)}):u.a,Object(o.a)(1),n?Object(s.a)(t):Object(a.a)(function(){return new r.a}))}}},UXun:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("jtHE");function i(e,t,n){var i;return i=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,i=e.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,s=e.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,u=e.refCount,c=e.scheduler,l=0,h=!1,d=!1;return function(e){l++,t&&!h||(h=!1,t=new r.a(o,a,c),n=e.subscribe({next:function(e){t.next(e)},error:function(e){h=!0,t.error(e)},complete:function(){d=!0,n=void 0,t.complete()}}));var i=t.subscribe(this);this.add(function(){l--,i.unsubscribe(),n&&!d&&u&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)})}}(i))}}},UbJi:function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return b});var r=n("fXoL"),i=n("XNiG"),o=n("LRne"),s=n("HDdC"),a=n("Cfvw"),u=n("VRyK"),c=n("pxpQ"),l=n("eIep"),h=n("lJxs"),d=n("UXun"),f=n("SxV6");function p(e,t){return t?Object(l.a)(function(){return e},t):Object(l.a)(function(){return e})}var _,g=n("tf+s"),v=n("pLZG"),m=n("spgP"),y=n("ofXK"),b=new r.r("angularfire2.auth.use-emulator"),E=new r.r("angularfire2.auth.settings"),C=new r.r("angularfire2.auth.tenant-id"),O=new r.r("angularfire2.auth.langugage-code"),S=new r.r("angularfire2.auth.use-device-language"),T=new r.r("angularfire.auth.persistence"),w=((_=_createClass(function e(t,r,_,b,E,C,O,S,T,w){_classCallCheck(this,e);var D=new m.d(b),P=Object(m.h)(D),k=new i.a,A=Object(o.a)(void 0).pipe(Object(c.b)(D.outsideAngular),Object(l.a)(function(){return b.runOutsideAngular(function(){return n.e(7).then(n.bind(null,"6nsN"))})}),Object(h.a)(function(){return Object(m.g)(t,b,r)}),Object(h.a)(function(e){return b.runOutsideAngular(function(){var t=E,n=C;return Object(m.f)("".concat(e.name,".auth"),"AngularFireAuth",e,function(){var r=b.runOutsideAngular(function(){return e.auth()});if(t&&r.useEmulator("http://".concat(t.join(":"))),O&&(r.tenantId=O),r.languageCode=S,T&&r.useDeviceLanguage(),n)for(var i=0,o=Object.entries(n);i<o.length;i++){var s=_slicedToArray(o[i],2),a=s[0],u=s[1];r.settings[a]=u}return w&&r.setPersistence(w),r},[t,O,S,T,n,w])})}),Object(d.a)({bufferSize:1,refCount:!1}));if(Object(y.B)(_))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(o.a)(null);else{A.pipe(Object(f.a)()).subscribe();var I=A.pipe(Object(l.a)(function(e){return e.getRedirectResult().then(function(e){return e},function(){return null})}),P,Object(d.a)({bufferSize:1,refCount:!1})),M=function(e){return new s.a(function(t){return{unsubscribe:b.runOutsideAngular(function(){return e(t)})}})},R=A.pipe(Object(l.a)(function(e){return M(e.onAuthStateChanged.bind(e))})),x=A.pipe(Object(l.a)(function(e){return M(e.onIdTokenChanged.bind(e))}));this.authState=I.pipe(p(R),Object(g.a)(D.outsideAngular),Object(c.b)(D.insideAngular)),this.user=I.pipe(p(x),Object(g.a)(D.outsideAngular),Object(c.b)(D.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(function(e){return e?Object(a.a)(e.getIdToken()):Object(o.a)(null)})),this.idTokenResult=this.user.pipe(Object(l.a)(function(e){return e?Object(a.a)(e.getIdTokenResult()):Object(o.a)(null)})),this.credential=Object(u.a)(I,k,this.authState.pipe(Object(v.a)(function(e){return!e}))).pipe(Object(h.a)(function(e){return(null==e?void 0:e.user)?e:null}),Object(g.a)(D.outsideAngular),Object(c.b)(D.insideAngular))}return Object(m.i)(this,A,b,{spy:{apply:function(e,t,n){(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(function(e){return k.next(e)})}}})})).\u0275fac=function(e){return new(e||_)(r.cc(m.b),r.cc(m.a,8),r.cc(r.C),r.cc(r.A),r.cc(b,8),r.cc(E,8),r.cc(C,8),r.cc(O,8),r.cc(S,8),r.cc(T,8))},_.\u0275prov=r.Mb({factory:function(){return new _(r.cc(m.b),r.cc(m.a,8),r.cc(r.C),r.cc(r.A),r.cc(b,8),r.cc(E,8),r.cc(C,8),r.cc(O,8),r.cc(S,8),r.cc(T,8))},token:_,providedIn:"any"}),_);Object(m.e)(w,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}])},VDUF:function(e,t,n){(function(e){e.exports=function(){"use strict";var t;function n(){return t.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(o(e,t))return;return 1}function a(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){for(var n=[],r=e.length,i=0;i<r;++i)n.push(t(e[i],i));return n}function h(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return mt(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var t=f(e),n=g.call(t.parsedDateParts,function(e){return null!=e});if(n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function _(e){var t=d(NaN);return null!=e?h(f(t),e):f(t).userInvalidated=!0,t}var g=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1},v=n.momentProperties=[],m=!1;function y(e,t){var n,r,i,o=v.length;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=f(t)),a(t._locale)||(e._locale=t._locale),0<o)for(n=0;n<o;n++)a(i=t[r=v[n]])||(e[r]=i);return e}function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===m&&(m=!0,n.updateOffset(this),m=!1)}function E(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function C(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function O(e,t){var r=!0;return h(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,s,a=[],u=arguments.length,c=0;c<u;c++){if(i="","object"==typeof arguments[c]){for(s in i+="\n["+c+"] ",arguments[0])o(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[c];a.push(i)}C(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}var S={};function T(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),S[e]||(C(t),S[e]=!0)}function w(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,r=h({},e);for(n in t)o(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)o(e,n)&&!o(t,n)&&i(e[n])&&(r[n]=h({},r[n]));return r}function P(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var k=Object.keys||function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};function A(e,t,n){var r=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-r.length)).toString().substr(1)+r}var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},x={};function L(e,t,n,r){var i="string"==typeof r?function(){return this[r]()}:r;e&&(x[e]=i),t&&(x[t[0]]=function(){return A(i.apply(this,arguments),t[1],t[2])}),n&&(x[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=N(t,e.localeData()),R[t]=R[t]||function(e){for(var t,n=e.match(I),r=0,i=n.length;r<i;r++)n[r]=x[n[r]]?x[n[r]]:(t=n[r]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var r="",o=0;o<i;o++)r+=w(n[o])?n[o].call(t,e):n[o];return r}}(t),R[t](e)):e.localeData().invalidDate()}function N(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;0<=n&&M.test(e);)e=e.replace(M,r),M.lastIndex=0,--n;return e}var U={};function B(e,t){var n=e.toLowerCase();U[n]=U[n+"s"]=U[t]=e}function F(e){return"string"==typeof e?U[e]||U[e.toLowerCase()]:void 0}function q(e){var t,n,r={};for(n in e)o(e,n)&&(t=F(n))&&(r[t]=e[n]);return r}var V={};function W(e,t){V[e]=t}function G(e){return e%4==0&&e%100!=0||e%400==0}function K(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function z(e){return 0!=(e=+e)&&isFinite(e)?K(e):0}function H(e,t){return function(r){return null!=r?(Q(this,e,r),n.updateOffset(this,t),this):$(this,e)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Q(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&G(e.year())&&1===e.month()&&29===e.date()?(n=z(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),be(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Y=/\d/,X=/\d\d/,Z=/\d{3}/,J=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ne=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,oe=/\d{1,4}/,se=/[+-]?\d{1,6}/,ae=/\d+/,ue=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,le=/Z|[+-]\d\d(?::?\d\d)?/gi,he=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function de(e,t,n){ge[e]=w(t)?t:function(e,r){return e&&n?n:t}}function fe(e,t){return o(ge,e)?ge[e](t._strict,t._locale):new RegExp(pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _e,ge={},ve={};function me(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=z(e)}),r=e.length,n=0;n<r;n++)ve[e[n]]=i}function ye(e,t){me(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function be(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?G(e)?29:28:31-n%7%2}_e=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),B("month","M"),W("month",8),de("M",te),de("MM",te,X),de("MMM",function(e,t){return t.monthsShortRegex(e)}),de("MMMM",function(e,t){return t.monthsRegex(e)}),me(["M","MM"],function(e,t){t[1]=z(e)-1}),me(["MMM","MMMM"],function(e,t,n,r){null!=(r=n._locale.monthsParse(e,r,n._strict))?t[1]=r:f(n).invalidMonth=e});var Ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ce="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Se=he,Te=he;function we(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=z(t);else if(!u(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),be(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function De(e){return null!=e?(we(this,e),n.updateOffset(this,!0),this):$(this,"Month")}function Pe(){function e(e,t){return t.length-e.length}for(var t,n=[],r=[],i=[],o=0;o<12;o++)t=d([2e3,o]),n.push(this.monthsShort(t,"")),r.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(e),r.sort(e),i.sort(e),o=0;o<12;o++)n[o]=pe(n[o]),r[o]=pe(r[o]);for(o=0;o<24;o++)i[o]=pe(i[o]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ke(e){return G(e)?366:365}L("Y",0,0,function(){var e=this.year();return e<=9999?A(e,4):"+"+e}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),B("year","y"),W("year",1),de("Y",ue),de("YY",te,X),de("YYYY",oe,J),de("YYYYY",se,ee),de("YYYYYY",se,ee),me(["YYYYY","YYYYYY"],0),me("YYYY",function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):z(e)}),me("YY",function(e,t){t[0]=n.parseTwoDigitYear(e)}),me("Y",function(e,t){t[0]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return z(e)+(68<z(e)?1900:2e3)};var Ae=H("FullYear",!0);function Ie(e,t,n,r,i,o,s){var a;return e<100&&0<=e?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function Me(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Re(e,t,n){return(n=7+t-n)-(7+Me(e,0,n).getUTCDay()-t)%7-1}function xe(e,t,n,r,i){var o;return n=(t=1+7*(t-1)+(7+n-r)%7+Re(e,r,i))<=0?ke(o=e-1)+t:t>ke(e)?(o=e+1,t-ke(e)):(o=e,t),{year:o,dayOfYear:n}}function Le(e,t,n){var r,i,o=Re(e.year(),t,n);return(o=Math.floor((e.dayOfYear()-o-1)/7)+1)<1?r=o+je(i=e.year()-1,t,n):o>je(e.year(),t,n)?(r=o-je(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function je(e,t,n){var r=Re(e,t,n);return t=Re(e+1,t,n),(ke(e)-r+t)/7}function Ne(e,t){return e.slice(t,7).concat(e.slice(0,t))}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),W("week",5),W("isoWeek",5),de("w",te),de("ww",te,X),de("W",te),de("WW",te,X),ye(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=z(e)}),L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),W("day",11),W("weekday",11),W("isoWeekday",11),de("d",te),de("e",te),de("E",te),de("dd",function(e,t){return t.weekdaysMinRegex(e)}),de("ddd",function(e,t){return t.weekdaysShortRegex(e)}),de("dddd",function(e,t){return t.weekdaysRegex(e)}),ye(["dd","ddd","dddd"],function(e,t,n,r){null!=(r=n._locale.weekdaysParse(e,r,n._strict))?t.d=r:f(n).invalidWeekday=e}),ye(["d","e","E"],function(e,t,n,r){t[r]=z(e)});var Ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=he,Ve=he,We=he;function Ge(){function e(e,t){return t.length-e.length}for(var t,n,r,i=[],o=[],s=[],a=[],u=0;u<7;u++)r=d([2e3,1]).day(u),t=pe(this.weekdaysMin(r,"")),n=pe(this.weekdaysShort(r,"")),r=pe(this.weekdays(r,"")),i.push(t),o.push(n),s.push(r),a.push(t),a.push(n),a.push(r);i.sort(e),o.sort(e),s.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ke(){return this.hours()%12||12}function ze(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function He(e,t){return t._meridiemParse}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Ke),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+Ke.apply(this)+A(this.minutes(),2)}),L("hmmss",0,0,function(){return""+Ke.apply(this)+A(this.minutes(),2)+A(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+A(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+A(this.minutes(),2)+A(this.seconds(),2)}),ze("a",!0),ze("A",!1),B("hour","h"),W("hour",13),de("a",He),de("A",He),de("H",te),de("h",te),de("k",te),de("HH",te,X),de("hh",te,X),de("kk",te,X),de("hmm",ne),de("hmmss",re),de("Hmm",ne),de("Hmmss",re),me(["H","HH"],3),me(["k","kk"],function(e,t,n){e=z(e),t[3]=24===e?0:e}),me(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),me(["h","hh"],function(e,t,n){t[3]=z(e),f(n).bigHour=!0}),me("hmm",function(e,t,n){var r=e.length-2;t[3]=z(e.substr(0,r)),t[4]=z(e.substr(r)),f(n).bigHour=!0}),me("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=z(e.substr(0,r)),t[4]=z(e.substr(r,2)),t[5]=z(e.substr(i)),f(n).bigHour=!0}),me("Hmm",function(e,t,n){var r=e.length-2;t[3]=z(e.substr(0,r)),t[4]=z(e.substr(r))}),me("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=z(e.substr(0,r)),t[4]=z(e.substr(r,2)),t[5]=z(e.substr(i))}),he=H("Hours",!0);var $e,Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ee,monthsShort:Ce,week:{dow:0,doy:6},weekdays:Ue,weekdaysMin:Fe,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},Ye={},Xe={};function Ze(e){return e&&e.toLowerCase().replace("_","-")}function Je(t){var n;if(void 0===Ye[t]&&void 0!==e&&e&&e.exports&&null!=t.match("^[^/\\\\]*$"))try{n=$e._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),et(n)}catch(n){Ye[t]=null}return Ye[t]}function et(e,t){return e&&((t=a(t)?nt(e):tt(e,t))?$e=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),$e._abbr}function tt(e,t){if(null===t)return delete Ye[e],null;var n,r=Qe;if(t.abbr=e,null!=Ye[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ye[e]._config;else if(null!=t.parentLocale)if(null!=Ye[t.parentLocale])r=Ye[t.parentLocale]._config;else{if(null==(n=Je(t.parentLocale)))return Xe[t.parentLocale]||(Xe[t.parentLocale]=[]),Xe[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Ye[e]=new P(D(r,t)),Xe[e]&&Xe[e].forEach(function(e){tt(e.name,e.config)}),et(e),Ye[e]}function nt(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return $e;if(!r(e)){if(t=Je(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=Ze(e[o]).split("-")).length,n=(n=Ze(e[o+1]))?n.split("-"):null;0<t;){if(r=Je(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}(i,n)>=t-1)break;t--}o++}return $e}(e)}function rt(e){var t=e._a;return t&&-2===f(e).overflow&&(t=t[1]<0||11<t[1]?1:t[2]<1||t[2]>be(t[0],t[1])?2:t[3]<0||24<t[3]||24===t[3]&&(0!==t[4]||0!==t[5]||0!==t[6])?3:t[4]<0||59<t[4]?4:t[5]<0||59<t[5]?5:t[6]<0||999<t[6]?6:-1,f(e)._overflowDayOfYear&&(t<0||2<t)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var it=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ot=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,st=/Z|[+-]\d\d(?::?\d\d)?/,at=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ut=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ct=/^\/?Date\((-?\d+)/i,lt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ht={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function dt(e){var t,n,r,i,o,s,a=it.exec(u=e._i)||ot.exec(u),u=at.length,c=ut.length;if(a){for(f(e).iso=!0,t=0,n=u;t<n;t++)if(at[t][1].exec(a[1])){i=at[t][0],r=!1!==at[t][2];break}if(null==i)e._isValid=!1;else{if(a[3]){for(t=0,n=c;t<n;t++)if(ut[t][1].exec(a[3])){o=(a[2]||" ")+ut[t][0];break}if(null==o)return void(e._isValid=!1)}if(r||null==o){if(a[4]){if(!st.exec(a[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),gt(e)}else e._isValid=!1}}else e._isValid=!1}function ft(e){var t,n,r,i,o=lt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));o?(r=t=function(e,t,n,r,i,o){return e=[function(e){return(e=parseInt(e,10))<=49?2e3+e:e<=999?1900+e:e}(e),Ce.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)],o&&e.push(parseInt(o,10)),e}(o[4],o[3],o[2],o[5],o[6],o[7]),i=e,(n=o[1])&&Be.indexOf(n)!==new Date(r[0],r[1],r[2]).getDay()?(f(i).weekdayMismatch=!0,i._isValid=!1):(e._a=t,e._tzm=(r=o[9],i=o[10],(n=o[8])?ht[n]:r?0:((n=parseInt(i,10))-(r=n%100))/100*60+r),e._d=Me.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0)):e._isValid=!1}function pt(e,t,n){return null!=e?e:null!=t?t:n}function _t(e){var t,r,i,o,s,a,u,c,l,h,d,p=[];if(!e._d){for(i=e,o=new Date(n.now()),r=i._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()],e._w&&null==e._a[2]&&null==e._a[1]&&(null!=(o=(i=e)._w).GG||null!=o.W||null!=o.E?(c=1,l=4,s=pt(o.GG,i._a[0],Le(yt(),1,4).year),a=pt(o.W,1),((u=pt(o.E,1))<1||7<u)&&(h=!0)):(c=i._locale._week.dow,l=i._locale._week.doy,d=Le(yt(),c,l),s=pt(o.gg,i._a[0],d.year),a=pt(o.w,d.week),null!=o.d?((u=o.d)<0||6<u)&&(h=!0):null!=o.e?(u=o.e+c,(o.e<0||6<o.e)&&(h=!0)):u=c),a<1||a>je(s,c,l)?f(i)._overflowWeeks=!0:null!=h?f(i)._overflowWeekday=!0:(d=xe(s,a,u,c,l),i._a[0]=d.year,i._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(o=pt(e._a[0],r[0]),(e._dayOfYear>ke(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),h=Me(o,0,e._dayOfYear),e._a[1]=h.getUTCMonth(),e._a[2]=h.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=p[t]=r[t];for(;t<7;t++)e._a[t]=p[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Me:Ie).apply(null,p),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(f(e).weekdayMismatch=!0)}}function gt(e){if(e._f===n.ISO_8601)dt(e);else if(e._f===n.RFC_2822)ft(e);else{e._a=[],f(e).empty=!0;for(var t,r,i,s,a,u=""+e._i,c=u.length,l=0,h=N(e._f,e._locale).match(I)||[],d=h.length,p=0;p<d;p++)(t=(u.match(fe(r=h[p],e))||[])[0])&&(0<(i=u.substr(0,u.indexOf(t))).length&&f(e).unusedInput.push(i),u=u.slice(u.indexOf(t)+t.length),l+=t.length),x[r]?(t?f(e).empty=!1:f(e).unusedTokens.push(r),i=r,a=e,null!=(s=t)&&o(ve,i)&&ve[i](s,a._a,a,i)):e._strict&&!t&&f(e).unusedTokens.push(r);f(e).charsLeftOver=c-l,0<u.length&&f(e).unusedInput.push(u),e._a[3]<=12&&!0===f(e).bigHour&&0<e._a[3]&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[3],e._meridiem),null!==(c=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(c,e._a[0])),_t(e),rt(e)}}function vt(e){var t,o,s,d=e._i,g=e._f;return e._locale=e._locale||nt(e._l),null===d||void 0===g&&""===d?_({nullInput:!0}):("string"==typeof d&&(e._i=d=e._locale.preparse(d)),E(d)?new b(rt(d)):(c(d)?e._d=d:r(g)?function(e){var t,n,r,i,o,s,a=!1,u=e._f.length;if(0===u)return f(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<u;i++)o=0,s=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],gt(t),p(t)&&(s=!0),o=(o+=f(t).charsLeftOver)+10*f(t).unusedTokens.length,f(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));h(e,n||t)}(e):g?gt(e):a(g=(d=e)._i)?d._d=new Date(n.now()):c(g)?d._d=new Date(g.valueOf()):"string"==typeof g?null!==(t=ct.exec((o=d)._i))?o._d=new Date(+t[1]):(dt(o),!1===o._isValid&&(delete o._isValid,ft(o),!1===o._isValid&&(delete o._isValid,o._strict?o._isValid=!1:n.createFromInputFallback(o)))):r(g)?(d._a=l(g.slice(0),function(e){return parseInt(e,10)}),_t(d)):i(g)?(t=d)._d||(s=void 0===(o=q(t._i)).day?o.date:o.day,t._a=l([o.year,o.month,s,o.hour,o.minute,o.second,o.millisecond],function(e){return e&&parseInt(e,10)}),_t(t)):u(g)?d._d=new Date(g):n.createFromInputFallback(d),p(e)||(e._d=null),e))}function mt(e,t,n,o,a){var u={};return!0!==t&&!1!==t||(o=t,t=void 0),!0!==n&&!1!==n||(o=n,n=void 0),(i(e)&&s(e)||r(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=n,u._i=e,u._f=t,u._strict=o,(a=new b(rt(vt(a=u))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function yt(e,t,n,r){return mt(e,t,n,r,!1)}function bt(e,t){var n,i;if(!(t=1===t.length&&r(t[0])?t[0]:t).length)return yt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}n.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){},ne=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),re=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:_()});var Et=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var t=(e=q(e)).year||0,n=e.quarter||0,r=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=function(e){var t,n,r=!1,i=Et.length;for(t in e)if(o(e,t)&&(-1===_e.call(Et,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Et[n]]){if(r)return!1;parseFloat(e[Et[n]])!==z(e[Et[n]])&&(r=!0)}return!0}(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*i,this._months=+r+3*n+12*t,this._data={},this._locale=nt(),this._bubble()}function Ot(e){return e instanceof Ct}function St(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Tt(e,t){L(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+A(~~(e/60),2)+t+A(~~e%60,2)})}Tt("Z",":"),Tt("ZZ",""),de("Z",le),de("ZZ",le),me(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Dt(le,e)});var wt=/([\+\-]|\d\d)/gi;function Dt(e,t){return null===(t=(t||"").match(e))?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(wt)||["-",0,0])[1]+z(e[2]))?0:"+"===e[0]?t:-t}function Pt(e,t){var r;return t._isUTC?(t=t.clone(),r=(E(e)||c(e)?e:yt(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+r),n.updateOffset(t,!1),t):yt(e).local()}function kt(e){return-Math.round(e._d.getTimezoneOffset())}function At(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var It=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Mt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rt(e,t){var n,r=e,i=null;return Ot(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(i=It.exec(e))?(n="-"===i[1]?-1:1,r={y:0,d:z(i[2])*n,h:z(i[3])*n,m:z(i[4])*n,s:z(i[5])*n,ms:z(St(1e3*i[6]))*n}):(i=Mt.exec(e))?r={y:xt(i[2],n="-"===i[1]?-1:1),M:xt(i[3],n),w:xt(i[4],n),d:xt(i[5],n),h:xt(i[6],n),m:xt(i[7],n),s:xt(i[8],n)}:null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(t=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Pt(t,e),e.isBefore(t)?n=Lt(e,t):((n=Lt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(yt(r.from),yt(r.to)),(r={}).ms=t.milliseconds,r.M=t.months),i=new Ct(r),Ot(e)&&o(e,"_locale")&&(i._locale=e._locale),Ot(e)&&o(e,"_isValid")&&(i._isValid=e._isValid),i}function xt(e,t){return e=e&&parseFloat(e.replace(",",".")),(isNaN(e)?0:e)*t}function Lt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function jt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Nt(this,Rt(n,r),e),this}}function Nt(e,t,r,i){var o=t._milliseconds,s=St(t._days);t=St(t._months),e.isValid()&&(i=null==i||i,t&&we(e,$(e,"Month")+t*r),s&&Q(e,"Date",$(e,"Date")+s*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&n.updateOffset(e,s||t))}function Ut(e){return"string"==typeof e||e instanceof String}function Bt(e){return E(e)||c(e)||Ut(e)||u(e)||function(e){var t=r(e),n=!1;return t&&(n=0===e.filter(function(t){return!u(t)&&Ut(e)}).length),t&&n}(e)||function(e){var t,n=i(e)&&!s(e),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=a.length;for(t=0;t<u;t+=1)r=r||o(e,a[t]);return n&&r}(e)||null==e}function Ft(e,t){if(e.date()<t.date())return-Ft(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t=t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(1+n,"months")-r)))||0}function qt(e){return void 0===e?this._locale._abbr:(null!=(e=nt(e))&&(this._locale=e),this)}function Vt(){return this._locale}Rt.fn=Ct.prototype,Rt.invalid=function(){return Rt(NaN)},Ee=jt(1,"add"),Ue=jt(-1,"subtract"),n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Fe=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});var Wt,Gt=126227808e5;function Kt(e,t){return(e%t+t)%t}function zt(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-Gt:new Date(e,t,n).valueOf()}function Ht(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-Gt:Date.UTC(e,t,n)}function $t(e,t){return t.erasAbbrRegex(e)}function Qt(){for(var e=[],t=[],n=[],r=[],i=this.eras(),o=0,s=i.length;o<s;++o)t.push(pe(i[o].name)),e.push(pe(i[o].abbr)),n.push(pe(i[o].narrow)),r.push(pe(i[o].name)),r.push(pe(i[o].abbr)),r.push(pe(i[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function Yt(e,t){L(0,[e,e.length],0,t)}function Xt(e,t,n,r,i){var o;return null==e?Le(this,r,i).year:(o=je(e,r,i),(function(e,t,n,r,i){return t=Me((e=xe(e,t,n,r,i)).year,0,e.dayOfYear),this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}).call(this,e,t=o<t?o:t,n,r,i))}for(L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),de("N",$t),de("NN",$t),de("NNN",$t),de("NNNN",function(e,t){return t.erasNameRegex(e)}),de("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),me(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){(r=n._locale.erasParse(e,r,n._strict))?f(n).era=r:f(n).invalidEra=e}),de("y",ae),de("yy",ae),de("yyy",ae),de("yyyy",ae),de("yo",function(e,t){return t._eraYearOrdinalRegex||ae}),me(["y","yy","yyy","yyyy"],0),me(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),t[0]=n._locale.eraYearOrdinalParse?n._locale.eraYearOrdinalParse(e,i):parseInt(e,10)}),L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Yt("gggg","weekYear"),Yt("ggggg","weekYear"),Yt("GGGG","isoWeekYear"),Yt("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),W("weekYear",1),W("isoWeekYear",1),de("G",ue),de("g",ue),de("GG",te,X),de("gg",te,X),de("GGGG",oe,J),de("gggg",oe,J),de("GGGGG",se,ee),de("ggggg",se,ee),ye(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=z(e)}),ye(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),L("Q",0,"Qo","quarter"),B("quarter","Q"),W("quarter",7),de("Q",Y),me("Q",function(e,t){t[1]=3*(z(e)-1)}),L("D",["DD",2],"Do","date"),B("date","D"),W("date",9),de("D",te),de("DD",te,X),de("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),me(["D","DD"],2),me("Do",function(e,t){t[2]=z(e.match(te)[0])}),oe=H("Date",!0),L("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),W("dayOfYear",4),de("DDD",ie),de("DDDD",Z),me(["DDD","DDDD"],function(e,t,n){n._dayOfYear=z(e)}),L("m",["mm",2],0,"minute"),B("minute","m"),W("minute",14),de("m",te),de("mm",te,X),me(["m","mm"],4),J=H("Minutes",!1),L("s",["ss",2],0,"second"),B("second","s"),W("second",15),de("s",te),de("ss",te,X),me(["s","ss"],5),se=H("Seconds",!1),L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),B("millisecond","ms"),W("millisecond",16),de("S",ie,Y),de("SS",ie,X),de("SSS",ie,Z),Wt="SSSS";Wt.length<=9;Wt+="S")de(Wt,ae);function Zt(e,t){t[6]=z(1e3*("0."+e))}for(Wt="S";Wt.length<=9;Wt+="S")me(Wt,Zt);function Jt(e){return e}function en(e,t,n,r){var i=nt();return r=d().set(r,t),i[n](r,e)}function tn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return en(e,t,n,"month");for(var r=[],i=0;i<12;i++)r[i]=en(e,i,n,"month");return r}function nn(e,t,n,r){"boolean"==typeof e?u(t)&&(n=t,t=void 0):(t=e,e=!1,u(n=t)&&(n=t,t=void 0)),t=t||"";var i,o=nt(),s=e?o._week.dow:0,a=[];if(null!=n)return en(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=en(t,(i+s)%7,r,"day");return a}ee=H("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName"),(Y=b.prototype).add=Ee,Y.calendar=function(e,t){1===arguments.length&&(arguments[0]?Bt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=i(e)&&!s(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a=0;a<r.length;a+=1)n=n||o(e,r[a]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var r=Pt(e=e||yt(),this).startOf("day");return r=n.calendarFormat(this,r)||"sameElse",t=t&&(w(t[r])?t[r].call(this,e):t[r]),this.format(t||this.localeData().calendar(r,this,yt(e)))},Y.clone=function(){return new b(this)},Y.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Pt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=F(t)){case"year":o=Ft(this,r)/12;break;case"month":o=Ft(this,r);break;case"quarter":o=Ft(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:K(o)},Y.endOf=function(e){var t,r;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?Ht:zt,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Kt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Kt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Kt(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},Y.format=function(e){return e=j(this,e=e||(this.isUtc()?n.defaultFormatUtc:n.defaultFormat)),this.localeData().postformat(e)},Y.from=function(e,t){return this.isValid()&&(E(e)&&e.isValid()||yt(e).isValid())?Rt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Y.fromNow=function(e){return this.from(yt(),e)},Y.to=function(e,t){return this.isValid()&&(E(e)&&e.isValid()||yt(e).isValid())?Rt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Y.toNow=function(e){return this.to(yt(),e)},Y.get=function(e){return w(this[e=F(e)])?this[e]():this},Y.invalidAt=function(){return f(this).overflow},Y.isAfter=function(e,t){return e=E(e)?e:yt(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},Y.isBefore=function(e,t){return e=E(e)?e:yt(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},Y.isBetween=function(e,t,n,r){return e=E(e)?e:yt(e),t=E(t)?t:yt(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},Y.isSame=function(e,t){return e=E(e)?e:yt(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},Y.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Y.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Y.isValid=function(){return p(this)},Y.lang=Fe,Y.locale=qt,Y.localeData=Vt,Y.max=re,Y.min=ne,Y.parsingFlags=function(){return h({},f(this))},Y.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:V[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=q(e)),r=n.length,i=0;i<r;i++)this[n[i].unit](e[n[i].unit]);else if(w(this[e=F(e)]))return this[e](t);return this},Y.startOf=function(e){var t,r;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?Ht:zt,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Kt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Kt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Kt(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},Y.subtract=Ue,Y.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Y.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Y.toDate=function(){return new Date(this.valueOf())},Y.toISOString=function(e){if(!this.isValid())return null;var t=(e=!0!==e)?this.clone().utc():this;return t.year()<0||9999<t.year()?j(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(t,"Z")):j(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Y.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t="moment",n="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),t="["+t+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Y[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Y.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Y.eraName=function(){for(var e,t=this.localeData().eras(),n=0,r=t.length;n<r;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},Y.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,r=t.length;n<r;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},Y.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,r=t.length;n<r;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},Y.eraYear=function(){for(var e,t,r=this.localeData().eras(),i=0,o=r.length;i<o;++i)if(e=r[i].since<=r[i].until?1:-1,t=this.clone().startOf("day").valueOf(),r[i].since<=t&&t<=r[i].until||r[i].until<=t&&t<=r[i].since)return(this.year()-n(r[i].since).year())*e+r[i].offset;return this.year()},Y.year=Ae,Y.isLeapYear=function(){return G(this.year())},Y.weekYear=function(e){return Xt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Y.isoWeekYear=function(e){return Xt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Y.quarter=Y.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Y.month=De,Y.daysInMonth=function(){return be(this.year(),this.month())},Y.week=Y.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Y.isoWeek=Y.isoWeeks=function(e){var t=Le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Y.weeksInYear=function(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)},Y.weeksInWeekYear=function(){var e=this.localeData()._week;return je(this.weekYear(),e.dow,e.doy)},Y.isoWeeksInYear=function(){return je(this.year(),1,4)},Y.isoWeeksInISOWeekYear=function(){return je(this.isoWeekYear(),1,4)},Y.date=oe,Y.day=Y.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-r,"d")):r},Y.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Y.isoWeekday=function(e){return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN;var t,n},Y.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Y.hour=Y.hours=he,Y.minute=Y.minutes=J,Y.second=Y.seconds=se,Y.millisecond=Y.milliseconds=ee,Y.utcOffset=function(e,t,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?o:kt(this);if("string"==typeof e){if(null===(e=Dt(le,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=kt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Nt(this,Rt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},Y.utc=function(e){return this.utcOffset(0,e)},Y.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(kt(this),"m")),this},Y.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Dt(ce,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},Y.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Y.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Y.isLocal=function(){return!!this.isValid()&&!this._isUTC},Y.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Y.isUtc=At,Y.isUTC=At,Y.zoneAbbr=function(){return this._isUTC?"UTC":""},Y.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Y.dates=O("dates accessor is deprecated. Use date instead.",oe),Y.months=O("months accessor is deprecated. Use month instead",De),Y.years=O("years accessor is deprecated. Use year instead",Ae),Y.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),Y.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),(t=vt(t))._a?(e=(t._isUTC?d:yt)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s=0;s<r;s++)z(e[s])!==z(t[s])&&o++;return o+i}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),(X=P.prototype).calendar=function(e,t,n){return w(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},X.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(I).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},X.invalidDate=function(){return this._invalidDate},X.ordinal=function(e){return this._ordinal.replace("%d",e)},X.preparse=Jt,X.postformat=Jt,X.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return w(i)?i(e,t,n,r):i.replace(/%d/i,e)},X.pastFuture=function(e,t){return w(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},X.set=function(e){var t,n;for(n in e)o(e,n)&&(w(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},X.eras=function(e,t){for(var r,i=this._eras||nt("en")._eras,o=0,s=i.length;o<s;++o){switch(typeof i[o].since){case"string":r=n(i[o].since).startOf("day"),i[o].since=r.valueOf()}switch(typeof i[o].until){case"undefined":i[o].until=1/0;break;case"string":r=n(i[o].until).startOf("day").valueOf(),i[o].until=r.valueOf()}}return i},X.erasParse=function(e,t,n){var r,i,o,s,a,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),s=u[r].abbr.toUpperCase(),a=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(a===e)return u[r]}else if(0<=[o,s,a].indexOf(e))return u[r]},X.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*r},X.erasAbbrRegex=function(e){return o(this,"_erasAbbrRegex")||Qt.call(this),e?this._erasAbbrRegex:this._erasRegex},X.erasNameRegex=function(e){return o(this,"_erasNameRegex")||Qt.call(this),e?this._erasNameRegex:this._erasRegex},X.erasNarrowRegex=function(e){return o(this,"_erasNarrowRegex")||Qt.call(this),e?this._erasNarrowRegex:this._erasRegex},X.months=function(e,t){return e?(r(this._months)?this._months:this._months[(this._months.isFormat||Oe).test(t)?"format":"standalone"])[e.month()]:r(this._months)?this._months:this._months.standalone},X.monthsShort=function(e,t){return e?(r(this._monthsShort)?this._monthsShort:this._monthsShort[Oe.test(t)?"format":"standalone"])[e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},X.monthsParse=function(e,t,n){var r,i;if(this._monthsParseExact)return(function(e,t,n){var r,i,o;if(e=e.toLocaleLowerCase(),!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=_e.call(this._shortMonthsParse,e))?i:null:-1!==(i=_e.call(this._longMonthsParse,e))?i:null:"MMM"===t?-1!==(i=_e.call(this._shortMonthsParse,e))||-1!==(i=_e.call(this._longMonthsParse,e))?i:null:-1!==(i=_e.call(this._longMonthsParse,e))||-1!==(i=_e.call(this._shortMonthsParse,e))?i:null}).call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},X.monthsRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||Pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Te),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},X.monthsShortRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||Pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Se),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},X.week=function(e){return Le(e,this._week.dow,this._week.doy).week},X.firstDayOfYear=function(){return this._week.doy},X.firstDayOfWeek=function(){return this._week.dow},X.weekdays=function(e,t){return t=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Ne(t,this._week.dow):e?t[e.day()]:t},X.weekdaysMin=function(e){return!0===e?Ne(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},X.weekdaysShort=function(e){return!0===e?Ne(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},X.weekdaysParse=function(e,t,n){var r,i;if(this._weekdaysParseExact)return(function(e,t,n){var r,i,o;if(e=e.toLocaleLowerCase(),!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=_e.call(this._weekdaysParse,e))?i:null:"ddd"===t?-1!==(i=_e.call(this._shortWeekdaysParse,e))?i:null:-1!==(i=_e.call(this._minWeekdaysParse,e))?i:null:"dddd"===t?-1!==(i=_e.call(this._weekdaysParse,e))||-1!==(i=_e.call(this._shortWeekdaysParse,e))||-1!==(i=_e.call(this._minWeekdaysParse,e))?i:null:"ddd"===t?-1!==(i=_e.call(this._shortWeekdaysParse,e))||-1!==(i=_e.call(this._weekdaysParse,e))||-1!==(i=_e.call(this._minWeekdaysParse,e))?i:null:-1!==(i=_e.call(this._minWeekdaysParse,e))||-1!==(i=_e.call(this._weekdaysParse,e))||-1!==(i=_e.call(this._shortWeekdaysParse,e))?i:null}).call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},X.weekdaysRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},X.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ve),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},X.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=We),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},X.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},X.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},et("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===z(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),n.lang=O("moment.lang is deprecated. Use moment.locale instead.",et),n.langData=O("moment.langData is deprecated. Use moment.localeData instead.",nt);var rn=Math.abs;function on(e,t,n,r){return t=Rt(t,n),e._milliseconds+=r*t._milliseconds,e._days+=r*t._days,e._months+=r*t._months,e._bubble()}function sn(e){return e<0?Math.floor(e):Math.ceil(e)}function an(e){return 4800*e/146097}function un(e){return 146097*e/4800}function cn(e){return function(){return this.as(e)}}function ln(e){return function(){return this.isValid()?this._data[e]:NaN}}ie=cn("ms"),Z=cn("s"),Ee=cn("m"),re=cn("h"),ne=cn("d"),Ue=cn("w"),he=cn("M"),J=cn("Q"),se=cn("y"),ee=ln("milliseconds"),oe=ln("seconds"),Ae=ln("minutes"),X=ln("hours");var hn=ln("days"),dn=ln("months"),fn=ln("years"),pn=Math.round,_n={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},gn=Math.abs;function vn(e){return(0<e)-(e<0)||+e}function mn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a=gn(this._milliseconds)/1e3,u=gn(this._days),c=gn(this._months),l=this.asSeconds();return l?(e=K(a/60),t=K(e/60),a%=60,e%=60,n=K(c/12),c%=12,r=a?a.toFixed(3).replace(/\.?0+$/,""):"",i=vn(this._months)!==vn(l)?"-":"",o=vn(this._days)!==vn(l)?"-":"",s=vn(this._milliseconds)!==vn(l)?"-":"",(l<0?"-":"")+"P"+(n?i+n+"Y":"")+(c?i+c+"M":"")+(u?o+u+"D":"")+(t||e||a?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(a?s+r+"S":"")):"P0D"}var yn=Ct.prototype;return yn.isValid=function(){return this._isValid},yn.abs=function(){var e=this._data;return this._milliseconds=rn(this._milliseconds),this._days=rn(this._days),this._months=rn(this._months),e.milliseconds=rn(e.milliseconds),e.seconds=rn(e.seconds),e.minutes=rn(e.minutes),e.hours=rn(e.hours),e.months=rn(e.months),e.years=rn(e.years),this},yn.add=function(e,t){return on(this,e,t,1)},yn.subtract=function(e,t){return on(this,e,t,-1)},yn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=F(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+an(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(un(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},yn.asMilliseconds=ie,yn.asSeconds=Z,yn.asMinutes=Ee,yn.asHours=re,yn.asDays=ne,yn.asWeeks=Ue,yn.asMonths=he,yn.asQuarters=J,yn.asYears=se,yn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN},yn._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*sn(un(n)+t),n=t=0),r.milliseconds=e%1e3,e=K(e/1e3),r.seconds=e%60,e=K(e/60),r.minutes=e%60,e=K(e/60),r.hours=e%24,t+=K(e/24),n+=e=K(an(t)),t-=sn(un(e)),e=K(n/12),n%=12,r.days=t,r.months=n,r.years=e,this},yn.clone=function(){return Rt(this)},yn.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},yn.milliseconds=ee,yn.seconds=oe,yn.minutes=Ae,yn.hours=X,yn.days=hn,yn.weeks=function(){return K(this.days()/7)},yn.months=dn,yn.years=fn,yn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=_n;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(r=Object.assign({},_n,t),null!=t.s&&null==t.ss&&(r.ss=t.s-1)),t=function(e,t,n,r){var i=Rt(e).abs(),o=pn(i.as("s")),s=pn(i.as("m")),a=pn(i.as("h")),u=pn(i.as("d")),c=pn(i.as("M")),l=pn(i.as("w"));return i=pn(i.as("y")),o=(o<=n.ss?["s",o]:o<n.s&&["ss",o])||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||u<=1&&["d"]||u<n.d&&["dd",u],(o=(o=null!=n.w?o||l<=1&&["w"]||l<n.w&&["ww",l]:o)||c<=1&&["M"]||c<n.M&&["MM",c]||i<=1&&["y"]||["yy",i])[2]=t,o[3]=0<+e,o[4]=r,(function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}).apply(null,o)}(this,!n,r,e=this.localeData()),n&&(t=e.pastFuture(+this,t)),e.postformat(t)},yn.toISOString=mn,yn.toString=mn,yn.toJSON=mn,yn.locale=qt,yn.localeData=Vt,yn.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mn),yn.lang=Fe,L("X",0,0,"unix"),L("x",0,0,"valueOf"),de("x",ue),de("X",/[+-]?\d+(\.\d{1,3})?/),me("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),me("x",function(e,t,n){n._d=new Date(z(e))}),n.version="2.29.4",t=yt,n.fn=Y,n.min=function(){return bt("isBefore",[].slice.call(arguments,0))},n.max=function(){return bt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return yt(1e3*e)},n.months=function(e,t){return tn(e,t,"months")},n.isDate=c,n.locale=et,n.invalid=_,n.duration=Rt,n.isMoment=E,n.weekdays=function(e,t,n){return nn(e,t,n,"weekdays")},n.parseZone=function(){return yt.apply(null,arguments).parseZone()},n.localeData=nt,n.isDuration=Ot,n.monthsShort=function(e,t){return tn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return nn(e,t,n,"weekdaysMin")},n.defineLocale=tt,n.updateLocale=function(e,t){var n,r;return null!=t?(r=Qe,null!=Ye[e]&&null!=Ye[e].parentLocale?Ye[e].set(D(Ye[e]._config,t)):(t=D(r=null!=(n=Je(e))?n._config:r,t),null==n&&(t.abbr=e),(r=new P(t)).parentLocale=Ye[e],Ye[e]=r),et(e)):null!=Ye[e]&&(null!=Ye[e].parentLocale?(Ye[e]=Ye[e].parentLocale,e===et()&&et(e)):null!=Ye[e]&&delete Ye[e]),Ye[e]},n.locales=function(){return k(Ye)},n.weekdaysShort=function(e,t,n){return nn(e,t,n,"weekdaysShort")},n.normalizeUnits=F,n.relativeTimeRounding=function(e){return void 0===e?pn:"function"==typeof e&&(pn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==_n[e]&&(void 0===t?_n[e]:(_n[e]=t,"s"===e&&(_n.ss=t-1),!0))},n.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},n.prototype=Y,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}).call(this,n("YuTi")(e))},VRyK:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return Object(i.a)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(a=t.pop())):"number"==typeof c&&(a=t.pop()),null===u&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(a)(Object(s.a)(t,u))}},WMd4:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),s=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},"X8/r":function(e,t,n){"use strict";var r=n("zIRd"),i=n("/6Yf"),o=n("mrSG"),s=n("qOnz"),a=n("q/0M");var u,c,l=(c=r)&&"object"==typeof c&&"default"in c?c:{default:c},h=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),d=new s.ErrorFactory("appCheck","AppCheck",h),f=new Map,p={activated:!1,tokenObservers:[]},_={enabled:!1};function g(e){return f.get(e)||p}function v(e,t){f.set(e,t)}function m(){return _}var y="https://content-firebaseappcheck.googleapis.com/v1beta",b=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(r=this.getNextRun(e),new Promise(function(e){setTimeout(e,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function E(){return self.grecaptcha}function C(e){if(!g(e).activated)throw d.create("use-before-activation",{appName:e.name})}function O(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,function(){var e,i,s,a,u,c,l,h,f,p;return o.__generator(this,function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw u=o.sent(),d.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==a.status)throw d.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return f=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+f,issuedAtTimeMillis:p}]}})})}function S(e,t){var n=e.options;return{url:y+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:t}}}function T(e,t){var n=e.options;return{url:y+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:t}}}var w="firebase-app-check-store",D=null;function P(){return D||(D=new Promise(function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(d.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(w,{keyPath:"compositeKey"})}}}catch(c){t(d.create("storage-open",{originalErrorMessage:c.message}))}}))}function k(e){return I(M(e))}function A(e,t){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s;return o.__generator(this,function(o){switch(o.label){case 0:return[4,P()];case 1:return n=o.sent(),r=n.transaction(w,"readwrite"),i=r.objectStore(w),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(e,t){s.onsuccess=function(t){e()},r.onerror=function(e){var n;t(d.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})]}})})}function I(e){return o.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,P()];case 1:return t=o.sent(),n=t.transaction(w,"readonly"),r=n.objectStore(w),i=r.get(e),[2,new Promise(function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(d.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})]}})})}function M(e){return e.options.appId+"-"+e.name}var R=new a.Logger("@firebase/app-check");function x(e,t){return s.isIndexedDBAvailable()?function(e,t){return A(M(e),t)}(e,t).catch(function(e){R.warn("Failed to write token to indexeddb. Error: "+e)}):Promise.resolve()}function L(){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var j={error:"UNKNOWN_ERROR"};function N(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,a,u,c,l,h,d,f,p;return o.__generator(this,function(_){switch(_.label){case 0:return C(e),r=g(e),a=void 0,(i=r.token)?[3,2]:[4,r.cachedTokenPromise];case 1:(u=_.sent())&&q(u)&&(i=u,v(e,o.__assign(o.__assign({},r),{token:i})),F(e,{token:i.token})),_.label=2;case 2:return!n&&i&&q(i)?[2,{token:i.token}]:m().enabled?(l=O,h=T,d=[e],[4,L()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([_.sent()])),t])];case 4:return c=_.sent(),[4,x(e,c)];case 5:return _.sent(),v(e,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return _.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=_.sent(),[3,9];case 8:return f=_.sent(),R.error(f),a=f,[3,9];case 9:return i?[3,10]:(p=function(e){return{token:(t=j,s.base64.encodeString(JSON.stringify(t),!1)),error:e};var t}(a),[3,12]);case 10:return p={token:i.token},v(e,o.__assign(o.__assign({},r),{token:i})),[4,x(e,i)];case 11:_.sent(),_.label=12;case 12:return F(e,p),[2,p]}})})}function U(e,t,n,r,i){var s=g(e),a={next:r,error:i,type:n},u=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new b(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,N(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,N(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,t.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),s.token&&q(s.token)){var l=s.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}else null==s.token&&s.cachedTokenPromise.then(function(e){e&&q(e)&&r({token:e.token})}).catch(function(){});v(e,u)}function B(e,t){var n=g(e),r=n.tokenObservers.filter(function(e){return e.next!==t});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function F(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function q(e){return e.expireTimeMillis-Date.now()>0}function V(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:return C(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise(function(n,r){var i=g(e).reCAPTCHAState;t.ready(function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function W(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=g(e);v(e,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}var G=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw d.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,V(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),d.create("recaptcha-error");case 4:return[2,O(S(this._app,e),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,function(e,t){var n=g(e),r=new s.Deferred;v(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var u,c,l=E();return l?l.ready(function(){W(e,t,l,i),r.resolve(l)}):(u=function(){var n=E();if(!n)throw new Error("no recaptcha");n.ready(function(){W(e,t,n,i),r.resolve(n)})},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(e,this._siteKey).catch(function(){})},e}(),K=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var e,t,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!this._app)throw d.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=s.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}})})},e.prototype.initialize=function(e){this._app=e},e}();!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",function(e){return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),{app:t,activate:function(e,r){return function(e,t,n,r){var i=g(e);if(i.activated)throw d.create("already-activated",{appName:e.name});var a=o.__assign(o.__assign({},i),{activated:!0});a.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,k(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),R.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}(e).then(function(t){return t&&q(t)&&v(e,o.__assign(o.__assign({},g(e)),{token:t})),t}),a.provider="string"==typeof t?new G(t):t instanceof G||t instanceof K?t:new K({getToken:t.getToken}),a.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,v(e,a),a.provider.initialize(e,n)}(t,e,n,r)},setTokenAutoRefreshEnabled:function(e){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),v(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(t,e)},getToken:function(e){return function(e,t,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,N(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(t,n,e)},onTokenChanged:function(e,r,i){return function(e,t,n,r,i){var o,s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):r&&(s=r),U(e,t,"EXTERNAL",o,s),function(){return B(e,o)}}(t,n,e,r)},INTERNAL:{delete:function(){for(var e=0,n=g(t).tokenObservers;e<n.length;e++)B(t,n[e].next);return Promise.resolve()}}};var t,n},"PUBLIC").setServiceProps({ReCaptchaV3Provider:G,CustomProvider:K}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("app-check-internal").initialize()})),e.INTERNAL.registerComponent(new i.Component("app-check-internal",function(e){return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),{getToken:function(e){return N(t,n,e)},addTokenListener:function(e){return U(t,n,"INTERNAL",e)},removeTokenListener:function(e){return B(t,e)}};var t,n},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=s.getGlobal();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new s.Deferred;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,function(){var e,t;return o.__generator(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,I("debug-token")];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:((r=t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),A("debug-token",r)).catch(function(e){return R.warn("Failed to persist debug token to indexeddb. Error: "+e)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r})})}())}}()},XDbj:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("sVev"),i=n("7o/Q");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(t){return t.lift(new s(e))}}var s=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.errorFactory))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(i.a);function u(){return new r.a}},XNiG:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return _createClass(n)}(i.a),l=function(){var e=function(e,t){_inherits(i,e);var n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(i,[{key:t,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new s.a;return _get(_getPrototypeOf(i.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new a.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),i}(r.a,u.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(l)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",function(){return r})},Y7HM:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("DH7j");function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZUHj:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(e,t,n,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,s);if(!a.closed)return t instanceof o.a?t.subscribe(a):Object(i.a)(t)(a)}},Zy1z:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(){return function(e){return e.lift(new o)}}var o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(r.a)},bHdf:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("5+tZ");function i(e,t){return Object(r.a)(e,t,1)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",function(){return r})},cp0P:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("HDdC"),i=n("DH7j"),o=n("lJxs"),s=n("XoHu"),a=n("Cfvw");function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(i.a)(r))return c(r,null);if(Object(s.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var a=Object.keys(r);return c(a.map(function(e){return r[e]}),a)}}if("function"==typeof t[t.length-1]){var u=t.pop();return c(t=1===t.length&&Object(i.a)(t[0])?t[0]:t,null).pipe(Object(o.a)(function(e){return u.apply(void 0,_toConsumableArray(e))}))}return c(t,null)}function c(e,t){return new r.a(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,u=function(u){var c=Object(a.a)(e[u]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,s++),i[u]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(s===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},c=0;c<r;c++)u(c);else n.complete()})}},dkDA:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("7o/Q"),i=n("WMd4");function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"_next",value:function(e){this.destination.next(i.a.createNext(e))}},{key:"_error",value:function(e){var t=this.destination;t.next(i.a.createError(e)),t.complete()}},{key:"_complete",value:function(){var e=this.destination;e.next(i.a.createComplete()),e.complete()}}]),n}(r.a)},eIep:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),s=n("lJxs"),a=n("Cfvw");function u(e,t){return"function"==typeof t?function(n){return n.pipe(u(function(n,r){return Object(a.a)(e(n,r)).pipe(Object(s.a)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new c(e))}}var c=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var s=new i.a(this,t,n),a=this.destination;a.add(s),this.innerSubscription=Object(o.a)(this,e,void 0,void 0,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(r.a)},egL7:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("fXoL"),i=function(){var e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(_classCallCheck(this,e),this.config=t,this.googleTagManagerId=n,this.googleTagManagerAuth=r,this.googleTagManagerPreview=i,this.googleTagManagerResourcePath=o,this.isLoaded=!1,this.browserGlobals={windowRef:function(){return window},documentRef:function(){return document}},null==this.config&&(this.config={id:null}),this.config=Object.assign(Object.assign({},this.config),{id:n||this.config.id,gtm_auth:r||this.config.gtm_auth,gtm_preview:i||this.config.gtm_preview,gtm_resource_path:o||this.config.gtm_resource_path}),null==this.config.id)throw new Error("Google tag manager ID not provided.")}return _createClass(e,[{key:"getDataLayer",value:function(){var e=this.browserGlobals.windowRef();return e.dataLayer=e.dataLayer||[],e.dataLayer}},{key:"pushOnDataLayer",value:function(e){this.getDataLayer().push(e)}},{key:"addGtmToDom",value:function(){var e=this;return new Promise(function(t,n){if(e.isLoaded)return t(e.isLoaded);var r=e.browserGlobals.documentRef();e.pushOnDataLayer({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=r.createElement("script");i.id="GTMscript",i.async=!0,i.src=e.applyGtmQueryParams(e.config.gtm_resource_path?e.config.gtm_resource_path:"https://www.googletagmanager.com/gtm.js"),i.addEventListener("load",function(){return t(e.isLoaded=!0)}),i.addEventListener("error",function(){return n(!1)}),r.head.insertBefore(i,r.head.firstChild)})}},{key:"pushTag",value:function(e){var t=this;return new Promise(function(n,r){if(t.isLoaded)return t.pushOnDataLayer(e),n();t.addGtmToDom().then(function(){return t.pushOnDataLayer(e),n()}).catch(function(){return r()})})}},{key:"applyGtmQueryParams",value:function(e){var t=this;return-1===e.indexOf("?")&&(e+="?"),e+Object.keys(this.config).filter(function(e){return t.config[e]}).map(function(e){return"".concat(e,"=").concat(t.config[e])}).join("&")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc("googleTagManagerConfig",8),r.cc("googleTagManagerId",8),r.cc("googleTagManagerAuth",8),r.cc("googleTagManagerPreview",8),r.cc("googleTagManagerResourcePath",8))},e.\u0275prov=Object(r.Mb)({factory:function(){return new e(Object(r.cc)("googleTagManagerConfig",8),Object(r.cc)("googleTagManagerId",8),Object(r.cc)("googleTagManagerAuth",8),Object(r.cc)("googleTagManagerPreview",8),Object(r.cc)("googleTagManagerResourcePath",8))},token:e,providedIn:"root"}),e}()},f29J:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("GyhO");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.lift.call(Object(r.a).apply(void 0,[e].concat(t)))}}},fSjL:function(e,t,n){"use strict";var r,i=n("zIRd"),o=n("/6Yf"),s=n("mrSG"),a=n("qOnz"),u=n("nbvr"),c=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),l=new a.ErrorFactory("installations","Installations",c);function h(e){return e instanceof a.FirebaseError&&e.code.includes("request-failed")}function d(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function f(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function p(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),[2,l.create("request-failed",{requestName:e,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function _(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function g(e,t){var n=t.refreshToken,r=_(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function v(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}})})}function m(e,t){var n=t.fid;return Object(s.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return t=d(e),r=_(e),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.32"})},[4,v(function(){return fetch(t,i)})];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:f(a.authToken)}];case 3:return[4,p("Create Installation",o)];case 4:throw s.sent()}})})}function y(e){return new Promise(function(t){setTimeout(t,e)})}var b=/^[cdef][\w-]{21}$/;function E(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(s.__spreadArray)([],Object(s.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return b.test(t)?t:""}catch(r){return""}}function C(e){return e.appName+"!"+e.appId}var O=new Map;function S(e,t){var n=C(e);T(n,t),function(e,t){var n=D();n&&n.postMessage({key:e,fid:t}),P()}(n,t)}function T(e,t){var n,r,i=O.get(e);if(i)try{for(var o=Object(s.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var w=null;function D(){return!w&&"BroadcastChannel"in self&&((w=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){T(e.data.key,e.data.fid)}),w}function P(){0===O.size&&w&&(w.close(),w=null)}var k,A="firebase-installations-store",I=null;function M(){return I||(I=Object(u.openDb)("firebase-installations-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(A)}})),I}function R(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return n=C(e),[4,M()];case 1:return r=s.sent(),i=r.transaction(A,"readwrite"),[4,(o=i.objectStore(A)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||S(e,t.fid),[2,t]}})})}function x(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return t=C(e),[4,M()];case 1:return n=i.sent(),[4,(r=n.transaction(A,"readwrite")).objectStore(A).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function L(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,u;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return n=C(e),[4,M()];case 1:return r=s.sent(),i=r.transaction(A,"readwrite"),[4,(o=i.objectStore(A)).get(n)];case 2:return a=s.sent(),void 0!==(u=t(a))?[3,4]:[4,o.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:s.sent(),s.label=6;case 6:return[4,i.complete];case 7:return s.sent(),!u||a&&a.fid===u.fid||S(e,u.fid),[2,u]}})})}function j(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return[4,L(e,function(n){var r=function(e){return B(e||{fid:E(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(l.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,m(e,t)];case 1:return n=i.sent(),[2,R(e,n)];case 2:return h(r=i.sent())&&409===r.customData.serverCode?[4,x(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,R(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:N(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function N(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return[4,U(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,y(100)];case 3:return o.sent(),[4,U(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,j(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}})})}function U(e){return L(e,function(e){if(!e)throw l.create("installation-not-found");return B(e)})}function B(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function F(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(s.__awaiter)(this,void 0,void 0,function(){var e,i,o,a,u;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return e=function(e,t){var n=t.fid;return d(e)+"/"+n+"/authTokens:generate"}(n,t),i=g(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.32"}})},[4,v(function(){return fetch(e,a)})];case 1:return(u=s.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,f(s.sent())];case 3:return[4,p("Generate Auth Token",u)];case 4:throw s.sent()}})})}function q(e,t){return void 0===t&&(t=!1),Object(s.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return[4,L(e.appConfig,function(r){if(!W(r))throw l.create("not-registered");var i,o=r.authToken;if(!t&&2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===o.requestStatus)return n=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return[4,V(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,y(100)];case 3:return i.sent(),[4,V(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,q(e,t)]:[2,r]}})})}(e,t),r;if(!navigator.onLine)throw l.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(s.__assign)(Object(s.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,F(e,t)];case 1:return n=o.sent(),i=Object(s.__assign)(Object(s.__assign)({},t),{authToken:n}),[4,R(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!h(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,x(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(s.__assign)(Object(s.__assign)({},t),{authToken:{requestStatus:0}}),[4,R(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(e,a),a})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function V(e){return L(e,function(e){if(!W(e))throw l.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object(s.__assign)(Object(s.__assign)({},e),{authToken:{requestStatus:0}}):e})}function W(e){return void 0!==e&&2===e.registrationStatus}function G(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,j(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function K(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return n=function(e,t){var n=t.fid;return d(e)+"/"+n}(e,t),r=g(e,t),i={method:"DELETE",headers:r},[4,v(function(){return fetch(n,i)})];case 1:return(o=s.sent()).ok?[3,3]:[4,p("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function z(e){return l.create("missing-app-config-values",{valueName:e})}(k=i.default).INTERNAL.registerComponent(new o.Component("installations",function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw z("App Configuration");if(!e.name)throw z("App Name");try{for(var r=Object(s.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw z(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return[4,j(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):q(e).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,G(e.appConfig)];case 1:return n.sent(),[4,q(e,t)];case 2:return[2,n.sent().token]}})})}(n,e)},delete:function(){return function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(s.__generator)(this,function(r){switch(r.label){case 0:return[4,L(t=e.appConfig,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw l.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw l.create("app-offline");case 3:return[4,K(t,n)];case 4:return r.sent(),[4,x(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){D();var n=C(e),r=O.get(n);r||(r=new Set,O.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=C(e),r=O.get(n);r&&(r.delete(t),0===r.size&&O.delete(n),P())}(n,t)}}(n,e)}}},"PUBLIC")),k.registerVersion("@firebase/installations","0.4.32")},fXoL:function(e,t,n){"use strict";n.d(t,"a",function(){return sn}),n.d(t,"b",function(){return il}),n.d(t,"c",function(){return Jc}),n.d(t,"d",function(){return Xc}),n.d(t,"e",function(){return Zc}),n.d(t,"f",function(){return Yl}),n.d(t,"g",function(){return Fl}),n.d(t,"h",function(){return Ku}),n.d(t,"i",function(){return _l}),n.d(t,"j",function(){return _u}),n.d(t,"k",function(){return al}),n.d(t,"l",function(){return yu}),n.d(t,"m",function(){return kr}),n.d(t,"n",function(){return Ac}),n.d(t,"o",function(){return ko}),n.d(t,"p",function(){return Pn}),n.d(t,"q",function(){return I}),n.d(t,"r",function(){return on}),n.d(t,"s",function(){return Go}),n.d(t,"t",function(){return Uu}),n.d(t,"u",function(){return Fu}),n.d(t,"v",function(){return sl}),n.d(t,"w",function(){return tc}),n.d(t,"x",function(){return Vl}),n.d(t,"y",function(){return ec}),n.d(t,"z",function(){return Ll}),n.d(t,"A",function(){return ml}),n.d(t,"B",function(){return kn}),n.d(t,"C",function(){return rl}),n.d(t,"D",function(){return nl}),n.d(t,"E",function(){return Cu}),n.d(t,"F",function(){return Eu}),n.d(t,"G",function(){return jr}),n.d(t,"H",function(){return Su}),n.d(t,"I",function(){return Er}),n.d(t,"J",function(){return An}),n.d(t,"K",function(){return In}),n.d(t,"L",function(){return Kl}),n.d(t,"M",function(){return Xu}),n.d(t,"N",function(){return Tl}),n.d(t,"O",function(){return an}),n.d(t,"P",function(){return wu}),n.d(t,"Q",function(){return Tu}),n.d(t,"R",function(){return rc}),n.d(t,"S",function(){return j}),n.d(t,"T",function(){return jl}),n.d(t,"U",function(){return Rl}),n.d(t,"V",function(){return f}),n.d(t,"W",function(){return On}),n.d(t,"X",function(){return Ml}),n.d(t,"Y",function(){return $l}),n.d(t,"Z",function(){return Dl}),n.d(t,"ab",function(){return ol}),n.d(t,"bb",function(){return Io}),n.d(t,"cb",function(){return fa}),n.d(t,"db",function(){return g}),n.d(t,"eb",function(){return yr}),n.d(t,"fb",function(){return tr}),n.d(t,"gb",function(){return Wn}),n.d(t,"hb",function(){return Kn}),n.d(t,"ib",function(){return Qn}),n.d(t,"jb",function(){return Hn}),n.d(t,"kb",function(){return zn}),n.d(t,"lb",function(){return $n}),n.d(t,"mb",function(){return ca}),n.d(t,"nb",function(){return Hl}),n.d(t,"ob",function(){return la}),n.d(t,"pb",function(){return ha}),n.d(t,"qb",function(){return Gn}),n.d(t,"rb",function(){return q}),n.d(t,"sb",function(){return es}),n.d(t,"tb",function(){return Os}),n.d(t,"ub",function(){return Es}),n.d(t,"vb",function(){return Cs}),n.d(t,"wb",function(){return ua}),n.d(t,"xb",function(){return Se}),n.d(t,"yb",function(){return l}),n.d(t,"zb",function(){return Vn}),n.d(t,"Ab",function(){return zo}),n.d(t,"Bb",function(){return ye}),n.d(t,"Cb",function(){return du}),n.d(t,"Db",function(){return Ai}),n.d(t,"Eb",function(){return us}),n.d(t,"Fb",function(){return qs}),n.d(t,"Gb",function(){return na}),n.d(t,"Hb",function(){return ra}),n.d(t,"Ib",function(){return Fs}),n.d(t,"Jb",function(){return Gc}),n.d(t,"Kb",function(){return J}),n.d(t,"Lb",function(){return se}),n.d(t,"Mb",function(){return E}),n.d(t,"Nb",function(){return C}),n.d(t,"Ob",function(){return re}),n.d(t,"Pb",function(){return ae}),n.d(t,"Qb",function(){return ds}),n.d(t,"Rb",function(){return vs}),n.d(t,"Sb",function(){return ys}),n.d(t,"Tb",function(){return ms}),n.d(t,"Ub",function(){return gs}),n.d(t,"Vb",function(){return _s}),n.d(t,"Wb",function(){return bs}),n.d(t,"Xb",function(){return en}),n.d(t,"Yb",function(){return ia}),n.d(t,"Zb",function(){return nu}),n.d(t,"ac",function(){return iu}),n.d(t,"bc",function(){return ru}),n.d(t,"cc",function(){return Cn}),n.d(t,"dc",function(){return nn}),n.d(t,"ec",function(){return Yc}),n.d(t,"fc",function(){return Ss}),n.d(t,"gc",function(){return Kc}),n.d(t,"hc",function(){return yt}),n.d(t,"ic",function(){return mt}),n.d(t,"jc",function(){return Ds}),n.d(t,"kc",function(){return Dc}),n.d(t,"lc",function(){return Pc}),n.d(t,"mc",function(){return As}),n.d(t,"nc",function(){return ks}),n.d(t,"oc",function(){return fs}),n.d(t,"pc",function(){return Is}),n.d(t,"qc",function(){return Ms}),n.d(t,"rc",function(){return vc}),n.d(t,"sc",function(){return mc}),n.d(t,"tc",function(){return yc}),n.d(t,"uc",function(){return bc}),n.d(t,"vc",function(){return Ec}),n.d(t,"wc",function(){return Cc}),n.d(t,"xc",function(){return Oc}),n.d(t,"yc",function(){return Sc}),n.d(t,"zc",function(){return Vc}),n.d(t,"Ac",function(){return hs}),n.d(t,"Bc",function(){return Ge}),n.d(t,"Cc",function(){return Cr}),n.d(t,"Dc",function(){return Sr}),n.d(t,"Ec",function(){return Or}),n.d(t,"Fc",function(){return ie}),n.d(t,"Gc",function(){return Bs}),n.d(t,"Hc",function(){return ls}),n.d(t,"Ic",function(){return Qc}),n.d(t,"Jc",function(){return Js}),n.d(t,"Kc",function(){return ea}),n.d(t,"Lc",function(){return ta}),n.d(t,"Mc",function(){return Wc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(e){for(var t in e)if(e[t]===u)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function l(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(l).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var d=u({__forward_ref__:u});function f(e){return e.__forward_ref__=f,e.toString=function(){return l(this())},e}function p(e){return _(e)?e():e}function _(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===f}var g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,i}return _createClass(n)}(_wrapNativeSuper(Error));function v(e){return"string"==typeof e?e:null==e?"":String(e)}function m(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():v(e)}function y(e,t){var n=t?" in ".concat(t):"";throw new g("201","No provider for ".concat(m(e)," found").concat(n))}function b(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(t," <=Actual]")))}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function C(e){return{providers:e.providers||[],imports:e.imports||[]}}function O(e){return S(e,D)||S(e,k)}function S(e,t){return e.hasOwnProperty(t)?e[t]:null}function T(e){return e&&(e.hasOwnProperty(P)||e.hasOwnProperty(A))?e[P]:null}var w,D=u({"\u0275prov":u}),P=u({"\u0275inj":u}),k=u({ngInjectableDef:u}),A=u({ngInjectorDef:u}),I=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function M(e){var t=w;return w=e,t}function R(e,t,n){var r=O(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==t?t:void y(l(e),"Injector")}function x(e){return{toString:e}.toString()}var L=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),j=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),N="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,q=N||F||U||B,V={},W=[],G=[],K=u({"\u0275cmp":u}),z=u({"\u0275dir":u}),H=u({"\u0275pipe":u}),$=u({"\u0275mod":u}),Q=u({"\u0275loc":u}),Y=u({"\u0275fac":u}),X=u({__NG_ELEMENT_ID__:u}),Z=0;function J(e){return x(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||G,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||j.Emulated,id:"c",styles:e.styles||G,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=Z++,n.inputs=oe(e.inputs,t),n.outputs=oe(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ee)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(te)}:null,n})}function ee(e){return ue(e)||function(e){return e[z]||null}(e)}function te(e){return function(e){return e[H]||null}(e)}var ne={};function re(e){var t={type:e.type,bootstrap:e.bootstrap||G,declarations:e.declarations||G,imports:e.imports||G,exports:e.exports||G,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&x(function(){ne[e.id]=e.type}),t}function ie(e,t){return x(function(){var n=ce(e,!0);n.declarations=t.declarations||G,n.imports=t.imports||G,n.exports=t.exports||G})}function oe(e,t){if(null==e)return V;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var se=J;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ue(e){return e[K]||null}function ce(e,t){var n=e[$]||null;if(!n&&!0===t)throw new Error("Type ".concat(l(e)," does not have '\u0275mod' property."));return n}function le(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function fe(e){return 2==(2&e.flags)}function pe(e){return 1==(1&e.flags)}function _e(e){return null!==e.template}function ge(e,t){return e.hasOwnProperty(Y)?e[Y]:null}var ve,me=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ye(){return be}function be(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ce),Ee}function Ee(){var e=Oe(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===V)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ce(e,t,n,r){var i=Oe(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:V,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new me(u&&u.currentValue,t,s===V),e[r]=t}function Oe(e){return e.__ngSimpleChanges__||null}function Se(e){ve=e}function Te(){return void 0!==ve?ve:"undefined"!=typeof document?document:void 0}function we(e){return!!e.listen}ye.ngInherit=!0;var De={createRenderer:function(e,t){return Te()}};function Pe(e){for(;Array.isArray(e);)e=e[0];return e}function ke(e,t){return Pe(t[e])}function Ae(e,t){return Pe(t[e.index])}function Ie(e,t){return e.data[t]}function Me(e,t){return e[t]}function Re(e,t){var n=t[e];return le(n)?n:n[0]}function xe(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Le(e){return 4==(4&e[2])}function je(e){return 128==(128&e[2])}function Ne(e,t){return null==t?null:e[t]}function Ue(e){e[18]=0}function Be(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Fe={lFrame:ht(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qe(){return Fe.bindingsEnabled}function Ve(){return Fe.lFrame.lView}function We(){return Fe.lFrame.tView}function Ge(e){Fe.lFrame.contextLView=e}function Ke(){for(var e=ze();null!==e&&64===e.type;)e=e.parent;return e}function ze(){return Fe.lFrame.currentTNode}function He(){var e=Fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function $e(e,t){var n=Fe.lFrame;n.currentTNode=e,n.isParent=t}function Qe(){return Fe.lFrame.isParent}function Ye(){Fe.lFrame.isParent=!1}function Xe(){return Fe.isInCheckNoChangesMode}function Ze(e){Fe.isInCheckNoChangesMode=e}function Je(){var e=Fe.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function et(){return Fe.lFrame.bindingIndex}function tt(){return Fe.lFrame.bindingIndex++}function nt(e){var t=Fe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rt(e){Fe.lFrame.inI18n=e}function it(e){Fe.lFrame.currentDirectiveIndex=e}function ot(){return Fe.lFrame.currentQueryIndex}function st(e){Fe.lFrame.currentQueryIndex=e}function at(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ut(e,t,n){if(n&I.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&I.Host||(r=at(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var o=Fe.lFrame=lt();return o.currentTNode=t,o.lView=e,!0}function ct(e){var t=lt(),n=e[1];Fe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function lt(){var e=Fe.lFrame,t=null===e?null:e.child;return null===t?ht(e):t}function ht(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dt(){var e=Fe.lFrame;return Fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ft=dt;function pt(){var e=dt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _t(){return Fe.lFrame.selectedIndex}function gt(e){Fe.lFrame.selectedIndex=e}function vt(){var e=Fe.lFrame;return Ie(e.tView,e.selectedIndex)}function mt(){Fe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function yt(){Fe.lFrame.currentNamespace=null}function bt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,s=i.ngAfterContentChecked,a=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),a&&(e.viewHooks||(e.viewHooks=[])).push(-n,a),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function Et(e,t,n){St(e,t,3,n)}function Ct(e,t,n,r){(3&e[2])===n&&St(e,t,n,r)}function Ot(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function St(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,s=0,a=void 0!==r?65535&e[18]:0;a<o;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=r&&s>=r)break}else t[a]<0&&(e[18]+=65536),(s<i||-1==i)&&(Tt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Tt(e,t,n,r){var i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}var wt=_createClass(function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r});function Dt(e,t,n){for(var r=we(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];kt(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Pt(e){return 3===e||4===e||6===e}function kt(e){return 64===e.charCodeAt(0)}function At(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||It(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function It(e,t,n,r,i){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Mt(e){return-1!==e}function Rt(e){return 32767&e}function xt(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}var Lt=!0;function jt(e){var t=Lt;return Lt=e,t}var Nt=0;function Ut(e,t){var n=Ft(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Bt(r.data,e),Bt(t,null),Bt(r.blueprint,null));var i=qt(e,t),o=e.injectorIndex;if(Mt(i))for(var s=Rt(i),a=xt(i,t),u=a[1].data,c=0;c<8;c++)t[o+c]=a[s+c]|u[s+c];return t[o+8]=i,o}function Bt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ft(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function qt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],s=o.type;if(null===(r=2===s?o.declTNode:1===s?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Vt(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Nt++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Wt(e,t,n){if(n&I.Optional)return e;y(t,"NodeInjector")}function Gt(e,t,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){var i=e[9],o=M(void 0);try{return i?i.get(t,r,n&I.Optional):R(t,r,n&I.Optional)}finally{M(o)}}return Wt(r,t,n)}function Kt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(X)?e[X]:void 0;return"number"==typeof t?t>=0?255&t:Ht:t}(n);if("function"==typeof o){if(!ut(t,e,r))return r&I.Host?Wt(i,n,r):Gt(t,n,r,i);try{var s=o();if(null!=s||r&I.Optional)return s;y(n)}finally{ft()}}else if("number"==typeof o){var a=null,u=Ft(e,t),c=-1,l=r&I.Host?t[16][6]:null;for((-1===u||r&I.SkipSelf)&&(-1!==(c=-1===u?qt(e,t):t[u+8])&&Zt(r,!1)?(a=t[1],u=Rt(c),t=xt(c,t)):u=-1);-1!==u;){var h=t[1];if(Xt(o,u,h.data)){var d=$t(u,t,n,a,r,l);if(d!==zt)return d}-1!==(c=t[u+8])&&Zt(r,t[1].data[u+8]===l)&&Xt(o,u,t)?(a=h,u=Rt(c),t=xt(c,t)):u=-1}}}return Gt(t,n,r,i)}var zt={};function Ht(){return new Jt(Ke(),Ve())}function $t(e,t,n,r,i,o){var s=t[1],a=s.data[e+8],u=Qt(a,s,n,null==r?fe(a)&&Lt:r!=s&&0!=(3&a.type),i&I.Host&&o===a);return null!==u?Yt(t,s,u,a):zt}function Qt(e,t,n,r,i){for(var o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,c=o>>20,l=i?a+c:e.directiveEnd,h=r?a:a+c;h<l;h++){var d=s[h];if(h<u&&n===d||h>=u&&d.type===n)return h}if(i){var f=s[u];if(f&&_e(f)&&f.type===n)return u}return null}function Yt(e,t,n,r){var i=e[n],o=t.data;if(i instanceof wt){var s=i;s.resolving&&function(e,t){throw new g("200","Circular dependency in DI detected for ".concat(e))}(m(o[n]));var a=jt(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?M(s.injectImpl):null;ut(e,r,I.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,s=r.ngDoCheck;if(i){var a=be(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,o[n],t)}finally{null!==u&&M(u),jt(a),s.resolving=!1,ft()}}return i}function Xt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Zt(e,t){return!(e&I.Self||e&I.Host&&t)}var Jt=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Kt(this._tNode,this._lView,e,void 0,t)}}]),e}();function en(e){return x(function(){for(var t=e.prototype.constructor,n=t[Y]||tn(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[Y]||tn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function tn(e){return _(e)?function(){var t=tn(p(e));return t&&t()}:ge(e)}function nn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Pt(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Ke(),e)}function rn(e,t,n){return x(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return s.annotation=o,s;function s(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var on=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),sn=new on("AnalyzeForEntryComponents"),an=Function;function un(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),un(r,t)):t!==e&&t.push(r)}return t}function cn(e,t){e.forEach(function(e){return Array.isArray(e)?cn(e,t):t(e)})}function ln(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function hn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function dn(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function fn(e,t,n){var r=_n(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function pn(e,t){var n=_n(e,t);if(n>=0)return e[1|n]}function _n(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),s=e[o<<1];if(t===s)return o<<1;s>t?i=o:r=o+1}return~(i<<1)}(e,t)}var gn,vn={},mn=/\n/gm,yn=u({provide:String,useValue:u});function bn(e){var t=gn;return gn=e,t}function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.Default;if(void 0===gn)throw new Error("inject() must be called from an injection context");return null===gn?R(e,void 0,t):gn.get(e,t&I.Optional?null:void 0,t)}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.Default;return(w||En)(p(e),t)}var On=Cn;function Sn(e){for(var t=[],n=0;n<e.length;n++){var r=p(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=I.Default,s=0;s<r.length;s++){var a=r[s],u=a.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=a.token:o|=u:i=a}t.push(Cn(i,o))}else t.push(Cn(r))}return t}function Tn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}var wn,Dn,Pn=Tn(rn("Inject",function(e){return{token:e}}),-1),kn=Tn(rn("Optional"),8),An=Tn(rn("Self"),2),In=Tn(rn("SkipSelf"),4);function Mn(e){var t;return(null===(t=function(){if(void 0===wn&&(wn=null,q.trustedTypes))try{wn=q.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return wn}())||void 0===t?void 0:t.createHTML(e))||e}function Rn(){if(void 0===Dn&&(Dn=null,q.trustedTypes))try{Dn=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return Dn}function xn(e){var t;return(null===(t=Rn())||void 0===t?void 0:t.createHTML(e))||e}function Ln(e){var t;return(null===(t=Rn())||void 0===t?void 0:t.createScriptURL(e))||e}var jn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),Nn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(jn),Un=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(jn),Bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(jn),Fn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(jn),qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(jn);function Vn(e){return e instanceof jn?e.changingThisBreaksApplicationSecurity:e}function Wn(e,t){var n=Gn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function Gn(e){return e instanceof jn&&e.getTypeName()||null}function Kn(e){return new Nn(e)}function zn(e){return new Un(e)}function Hn(e){return new Bn(e)}function $n(e){return new Fn(e)}function Qn(e){return new qn(e)}function Yn(e){var t=new Zn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Mn(""),"text/html")}catch(e){return!1}}()?new Xn(t):t}var Xn=function(){function e(t){_classCallCheck(this,e),this.inertDocumentHelper=t}return _createClass(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Mn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(n){return null}}}]),e}(),Zn=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return _createClass(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Mn(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Mn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(e){return(e=String(e)).match(Jn)||e.match(er)?e:"unsafe:"+e}function nr(e){return(e=String(e)).split(",").map(function(e){return tr(e.trim())}).join(", ")}function rr(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function ir(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(e[a]=!0)}return e}var or,sr=rr("area,br,col,hr,img,wbr"),ar=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ur=rr("rp,rt"),cr=ir(ur,ar),lr=ir(sr,ir(ar,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ir(ur,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cr),hr=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dr=rr("srcset"),fr=ir(hr,dr,rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pr=rr("script,style,template"),_r=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!lr.hasOwnProperty(t))return this.sanitizedSomething=!0,!pr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,s=o.toLowerCase();if(fr.hasOwnProperty(s)){var a=i.value;hr[s]&&(a=tr(a)),dr[s]&&(a=nr(a)),this.buf.push(" ",o,'="',mr(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();lr.hasOwnProperty(t)&&!sr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(mr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~ |!])/g;function mr(e){return e.replace(/&/g,"&amp;").replace(gr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(vr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yr(e,t){var n=null;try{or=or||Yn(e);var r=t?String(t):"";n=or.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=or.getInertBodyElement(r)}while(r!==o);return Mn((new _r).sanitizeChildren(br(n)||n))}finally{if(n)for(var s=br(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}function br(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Er=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Cr(e){var t=Tr();return t?xn(t.sanitize(Er.HTML,e)||""):Wn(e,"HTML")?xn(Vn(e)):yr(Te(),v(e))}function Or(e){var t=Tr();return t?t.sanitize(Er.URL,e)||"":Wn(e,"URL")?Vn(e):tr(v(e))}function Sr(e){var t=Tr();if(t)return Ln(t.sanitize(Er.RESOURCE_URL,e)||"");if(Wn(e,"ResourceURL"))return Ln(Vn(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Tr(){var e=Ve();return e&&e[12]}function wr(e){return e.ngDebugContext}function Dr(e){return e.ngOriginalError}function Pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var kr=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Pr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?wr(e)?wr(e):this._findContext(Dr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Dr(e);t&&Dr(t);)t=Dr(t);return t}}]),e}(),Ar=/^>|^->|<!--|-->|--!>|<!-$/g,Ir=/(<|>)/;function Mr(e,t){e.__ngContext__=t}var Rr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q);function xr(e){return e instanceof Function?e():e}var Lr,jr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Nr(e,t){return Lr(e,t)}function Ur(e){var t=e[3];return he(t)?t[3]:t}function Br(e){return qr(e[13])}function Fr(e){return qr(e[4])}function qr(e){for(;null!==e&&!he(e);)e=e[4];return e}function Vr(e,t,n,r,i){if(null!=r){var o,s=!1;he(r)?o=r:le(r)&&(s=!0,r=r[0]);var a=Pe(r);0===e&&null!==n?null==i?ei(t,n,a):Jr(t,n,a,i||null,!0):1===e&&null!==n?Jr(t,n,a,i||null,!0):2===e?di(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Pe(n)&&Vr(t,e,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];pi(a[1],a,e,t,r,o)}}(t,e,o,n,i)}}function Wr(e,t){return we(e)?e.createText(t):e.createTextNode(t)}function Gr(e,t,n){we(e)?e.setValue(t,n):t.textContent=n}function Kr(e,t){return e.createComment(function(e){return e.replace(Ar,function(e){return e.replace(Ir,"\u200b$1\u200b")})}(t))}function zr(e,t,n){return we(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Hr(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Be(i,-1)),n.splice(r,1)}function $r(e,t){if(!(e.length<=10)){var n,r=10+t,i=e[r];if(i){var o=i[17];null!==o&&o!==e&&Hr(o,i),t>0&&(e[r-1][4]=i[4]);var s=hn(e,10+t);pi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Qr(e,t){if(!(256&t[2])){var n=t[11];we(n)&&n.destroyNode&&pi(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Yr(e[1],e);for(;t;){var n=null;if(le(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)le(t)&&Yr(t[1],t),t=t[3];null===t&&(t=e),le(t)&&Yr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Yr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof wt)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2){var a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var s=n[o+1],a="function"==typeof s?s(t):Pe(t[s]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?a.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();t[7]=null}}(e,t),1===t[1].type&&we(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&Hr(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function Xr(e,t,n){return Zr(e,t.parent,n)}function Zr(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===j.None||i===j.Emulated)return null}return Ae(r,n)}function Jr(e,t,n,r,i){we(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function ei(e,t,n){we(e)?e.appendChild(t,n):t.appendChild(n)}function ti(e,t,n,r,i){null!==r?Jr(e,t,n,r,i):ei(e,t,n)}function ni(e,t){return we(e)?e.parentNode(t):t.parentNode}function ri(e,t,n){return si(e,t,n)}function ii(e,t,n){return 40&e.type?Ae(e,n):null}var oi,si=ii;function ai(e,t){si=e,oi=t}function ui(e,t,n,r){var i=Xr(e,r,t),o=t[11],s=ri(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var a=0;a<n.length;a++)ti(o,i,n[a],s,!1);else ti(o,i,n,s,!1);void 0!==oi&&oi(o,r,t,n,i)}function ci(e,t){if(null!==t){var n=t.type;if(3&n)return Ae(t,e);if(4&n)return hi(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return ci(e,r);var i=e[t.index];return he(i)?hi(-1,i):Pe(i)}if(32&n)return Nr(t,e)()||Pe(e[t.index]);var o=li(e,t);return null!==o?Array.isArray(o)?o[0]:ci(Ur(e[16]),o):ci(e,t.next)}return null}function li(e,t){return null!==t?e[16][6].projection[t.projection]:null}function hi(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return ci(r,i)}return t[7]}function di(e,t,n){var r=ni(e,t);r&&function(e,t,n,r){we(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function fi(e,t,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;if(s&&0===t&&(a&&Mr(Pe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)fi(e,t,n.child,r,i,o,!1),Vr(t,e,i,a,o);else if(32&u){for(var c=Nr(n,r),l=void 0;l=c();)Vr(t,e,i,l,o);Vr(t,e,i,a,o)}else 16&u?_i(e,t,r,n,i,o):Vr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function pi(e,t,n,r,i,o){fi(n,r,e.firstChild,t,i,o,!1)}function _i(e,t,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Vr(t,e,i,a[u],o);else fi(e,t,a,s[3],i,o,!0)}function gi(e,t,n){we(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function vi(e,t,n){we(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function mi(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function yi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==mi((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function bi(e){return 4===e.type&&"ng-template"!==e.value}function Ei(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function Ci(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Pt(e[t]))return t;return e.length}(i),s=!1,a=0;a<t.length;a++){var u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Ei(e,u,n)||""===u&&1===t.length){if(Oi(r))return!1;s=!0}}else{var c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!yi(e.attrs,c,n)){if(Oi(r))return!1;s=!0}continue}var l=Si(8&r?"class":u,i,bi(e),n);if(-1===l){if(Oi(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var d=8&r?h:null;if(d&&-1!==mi(d,c,0)||2&r&&c!==h){if(Oi(r))return!1;s=!0}}}}else{if(!s&&!Oi(r)&&!Oi(u))return!1;if(s&&Oi(u))continue;s=!1,r=u|1&r}}return Oi(r)||s}function Oi(e){return 0==(1&e)}function Si(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++i];"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ti(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Ci(e,t[r],n))return!0;return!1}function wi(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Di(e,t){return e?":not("+t.trim()+")":t}function Pi(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&r){var a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Oi(s)||(t+=Di(o,i),i=""),r=s,o=o||!Oi(r);n++}return""!==i&&(t+=Di(o,i)),t}var ki={};function Ai(e){Ii(We(),Ve(),_t()+e,Xe())}function Ii(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Et(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Ct(t,o,0,n)}gt(n)}function Mi(e,t){return e<<17|t<<2}function Ri(e){return e>>17&32767}function xi(e){return 2|e}function Li(e){return(131068&e)>>2}function ji(e,t){return-131069&e|t<<2}function Ni(e){return 1|e}function Ui(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=e.data[o];st(i),s.contentQueries(2,t[o],o)}}}function Bi(e,t,n,r,i,o,s,a,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ue(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Fi(e,t,n,r,i){var o=e.data[t];if(null===o)o=qi(e,t,n,r,i),Fe.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var s=He();o.injectorIndex=null===s?-1:s.injectorIndex}return $e(o,!0),o}function qi(e,t,n,r,i){var o=ze(),s=Qe(),a=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Vi(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Wi(e,t,n){ct(t);try{var r=e.viewQuery;null!==r&&Eo(1,r,n);var i=e.template;null!==i&&zi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ui(e,t),e.staticViewQueries&&Eo(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)go(e,t[n])}(t,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,pt()}}function Gi(e,t,n,r){var i=t[2];if(256!=(256&i)){ct(t);var o=Xe();try{Ue(t),Fe.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&zi(e,t,n,2,r);var s=3==(3&i);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&Et(t,a,null)}else{var u=e.preOrderHooks;null!==u&&Ct(t,u,0,null),Ot(t,0)}if(function(e){for(var t=Br(e);null!==t;t=Fr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Be(o,1),i[2]|=1024}}(t),function(e){for(var t=Br(e);null!==t;t=Fr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];je(r)&&Gi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ui(e,t),!o)if(s){var c=e.contentCheckHooks;null!==c&&Et(t,c)}else{var l=e.contentHooks;null!==l&&Ct(t,l,1),Ot(t,1)}!function(e,t){var n,r,i,o=e.hostBindingOpCodes;if(null!==o)try{for(var s=0;s<o.length;s++){var a=o[s];if(a<0)gt(~a);else{var u=a,c=o[++s],l=o[++s];n=c,r=u,i=void 0,(i=Fe.lFrame).bindingIndex=i.bindingRootIndex=n,it(r),l(2,t[u])}}}finally{gt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)po(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&Eo(2,d,r),!o)if(s){var f=e.viewCheckHooks;null!==f&&Et(t,f)}else{var p=e.viewHooks;null!==p&&Ct(t,p,2),Ot(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Be(t[3],-1))}finally{pt()}}}function Ki(e,t,n,r){var i=t[10],o=!Xe(),s=Le(t);try{o&&!s&&i.begin&&i.begin(),s&&Wi(e,t,r),Gi(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function zi(e,t,n,r,i){var o=_t(),s=2&r;try{gt(-1),s&&t.length>20&&Ii(e,t,20,Xe()),n(r,i)}finally{gt(o)}}function Hi(e,t,n){if(de(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function $i(e,t,n){qe()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Ut(n,t),Mr(r,t);for(var s=n.initialInputs,a=i;a<o;a++){var u=e.data[a],c=_e(u);c&&uo(t,n,u);var l=Yt(t,e,a,n);Mr(l,t),null!==s&&lo(0,a-i,l,u,0,s),c&&(Re(n.index,t)[8]=l)}}(e,t,n,Ae(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Fe.lFrame.currentDirectiveIndex;try{gt(o);for(var a=r;a<i;a++){var u=e.data[a],c=t[a];it(a),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||ro(u,c)}}finally{gt(-1),it(s)}}(e,t,n))}function Qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ae,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}function Yi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Xi(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Xi(e,t,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,d=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:ki);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Zi(e,t,n,r){var i=Oo(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&So(e).push(r,i.length-1))}function Ji(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function eo(e,t,n,r,i,o,s,a){var u,c,l=Ae(t,n),h=t.inputs;!a&&null!=h&&(u=h[r])?(wo(e,n,u,r,i),fe(t)&&function(e,t){var n=Re(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=s?s(i,t.value||"",r):i,we(o)?o.setProperty(l,r,i):kt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function to(e,t,n,r){var i=!1;if(qe()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];Ti(n,s.selectors,!1)&&(i||(i=[]),Vt(Ut(n,t),e,s.type),_e(s)?(io(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,so(n,e.data.length,o.length);for(var a=0;a<o.length;a++){var u=o[a];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Vi(e,t,o.length,null),d=0;d<o.length;d++){var f=o[d];n.mergedAttrs=At(n.mergedAttrs,f.hostAttrs),ao(e,n,t,h,f),oo(h,f,s),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],s=null,a=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||bi(t)?null:ho(l,i);o.push(h),s=Ji(l,u,s),a=Ji(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new g("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,s)}return n.mergedAttrs=At(n.mergedAttrs,n.attrs),i}function no(e,t,n,r,i,o){var s=o.hostBindings;if(s){var a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function ro(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function io(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function oo(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;_e(t)&&(n[""]=e)}}function so(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ao(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=ge(i.type)),s=new wt(o,_e(i),null);e.blueprint[r]=s,n[r]=s,no(e,t,0,r,Vi(e,n,i.hostVars,ki),i)}function uo(e,t,n){var r=Ae(t,e),i=Yi(n),o=e[10],s=vo(e,Bi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function co(e,t,n,r,i,o,s){if(null==o)we(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var a=null==s?v(o):s(o,r||"",i);we(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function lo(e,t,n,r,i,o){var s=o[t];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function ho(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function fo(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function po(e,t){var n=Re(t,e);if(je(n)){var r=n[1];80&n[2]?Gi(r,n,r.template,n[8]):n[5]>0&&_o(n)}}function _o(e){for(var t=Br(e);null!==t;t=Fr(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];Gi(i,r,i.template,r[8])}else r[5]>0&&_o(r)}var o=e[1].components;if(null!==o)for(var s=0;s<o.length;s++){var a=Re(o[s],e);je(a)&&a[5]>0&&_o(a)}}function go(e,t){var n=Re(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Wi(r,n,n[8])}function vo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function mo(e){for(;e;){e[2]|=64;var t=Ur(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function yo(e,t,n){var r=t[10];r.begin&&r.begin();try{Gi(e,t,e.template,n)}catch(i){throw To(t,i),i}finally{r.end&&r.end()}}function bo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=xe(n),i=r[1];Ki(i,r,i.template,n)}}(e[8])}function Eo(e,t,n){st(0),t(e,n)}var Co=Promise.resolve(null);function Oo(e){return e[7]||(e[7]=[])}function So(e){return e.cleanup||(e.cleanup=[])}function To(e,t){var n=e[9],r=n?n.get(kr,null):null;r&&r.handleError(t)}function wo(e,t,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Do(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?i=h(i,a):2==o&&(r=h(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Po,ko=new on("INJECTOR",-1),Ao=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn;if(t===vn){var n=new Error("NullInjectorError: No provider for ".concat(l(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Io=new on("Set Injector scope."),Mo={},Ro={},xo=[];function Lo(){return void 0===Po&&(Po=new Ao),Po}function jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new No(e,n,t||Lo(),r)}var No=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&cn(n,function(e){return i.processProvider(e,t,n)}),cn([t],function(e){return i.processInjectorType(e,[],s)}),this.records.set(ko,Fo(void 0,this));var a=this.records.get(Io);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:l(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.Default;this.assertNotDestroyed();var r,i=bn(this);try{if(!(n&I.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(r=e)||"object"==typeof r&&r instanceof on)&&O(e);o=s&&this.injectableDefInScope(s)?Fo(Uo(e),Mo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&I.Self?Lo():this.parent).get(e,t=n&I.Optional&&t===vn?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(l(e)),i)throw a;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=l(t);if(Array.isArray(t))i=t.map(l).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):l(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(mn,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(a,e,0,this.source)}throw a}finally{bn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(l(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=p(e)))return!1;var i=T(e),o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=T(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{cn(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;cn(i,function(e){return r.processProvider(e,n,i||xo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s);var h=ge(s)||function(){return new s};this.records.set(s,Fo(h,Mo));var d=i.providers;if(null!=d&&!a){var f=e;cn(d,function(e){return r.processProvider(e,f,d)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Vo(e=p(e))?e:p(e&&e.provide),i=function(e,t,n){return qo(e)?Fo(void 0,e.useValue):Fo(Bo(e),Mo)}(e);if(Vo(e)||!0!==e.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Fo(void 0,Mo,!0)).factory=function(){return Sn(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Mo&&(t.value=Ro,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function Uo(e){var t=O(e),n=null!==t?t.factory:ge(e);if(null!==n)return n;if(e instanceof on)throw new Error("Token ".concat(l(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=dn(t,"?");throw new Error("Can't resolve all parameters for ".concat(l(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[D]||e[k]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Bo(e,t,n){var r,i;if(Vo(e)){var o=p(e);return ge(o)||Uo(o)}if(qo(e))r=function(){return p(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,_toConsumableArray(Sn(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return Cn(p(e.useExisting))};else{var s=p(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ge(s)||Uo(s);r=function(){return _construct(s,_toConsumableArray(Sn(e.deps)))}}return r}function Fo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function qo(e){return null!==e&&"object"==typeof e&&yn in e}function Vo(e){return"function"==typeof e}var Wo=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=jo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Go=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Wo(e,t,""):Wo(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=vn,e.NULL=new Ao,e.\u0275prov=E({token:e,providedIn:"any",factory:function(){return Cn(ko)}}),e.__NG_ELEMENT_ID__=-1,e}();function Ko(e,t){bt(xe(e)[1],Ke())}function zo(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(_e(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Ho(e.inputs),o.declaredInputs=Ho(e.declaredInputs),o.outputs=Ho(e.outputs);var s=i.hostBindings;s&&Yo(e,s);var a=i.viewQuery,u=i.contentQueries;if(a&&$o(e,a),u&&Qo(e,u),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),_e(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var h=i.features;if(h)for(var d=0;d<h.length;d++){var f=h[d];f&&f.ngInherit&&f(e),f===zo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=At(i.hostAttrs,n=At(n,i.hostAttrs))}}(r)}function Ho(e){return e===V?{}:e===G?[]:e}function $o(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Qo(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Yo(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Xo=null;function Zo(){if(!Xo){var e=q.Symbol;if(e&&e.iterator)Xo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Xo=r)}}return Xo}var Jo=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function es(e){return!!ts(e)&&(Array.isArray(e)||!(e instanceof Map)&&Zo()in e)}function ts(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ns(e,t,n){return e[t]=n}function rs(e,t){return e[t]}function is(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function os(e,t,n,r){var i=is(e,t,n);return is(e,t+1,r)||i}function ss(e,t,n,r,i){var o=os(e,t,n,r);return is(e,t+2,i)||o}function as(e,t,n,r,i,o){var s=os(e,t,n,r);return os(e,t+2,i,o)||s}function us(e,t,n,r){var i=Ve();return is(i,tt(),t)&&(We(),function(e,t,n,r,i,o){var s=Ae(e,t);co(t[11],s,o,e.value,n,r,i)}(vt(),i,e,t,n,r)),us}function cs(e,t,n,r){return is(e,tt(),n)?t+v(n)+r:ki}function ls(e,t,n,r,i,o,s,a){var u=Ve(),c=We(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,s,a,u){var c=t.consts,l=Fi(t,e,4,s||null,Ne(c,a));to(t,n,l,Ne(c,u)),bt(t,l);var h=l.tViews=Xi(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,o,s):c.data[l];$e(h,!1);var d=u[11].createComment("");ui(c,u,d,h),Mr(d,u),vo(u,u[l]=fo(d,u,d,h)),pe(h)&&$i(c,u,h),null!=s&&Qi(u,h,a)}function hs(e){return Me(Fe.lFrame.contextLView,20+e)}function ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.Default,n=Ve();return null===n?Cn(e,t):Kt(Ke(),n,p(e),t)}function fs(e,t,n){var r=Ve();return is(r,tt(),t)&&eo(We(),vt(),r,e,t,r[11],n,!1),fs}function ps(e,t,n,r,i){var o=i?"class":"style";wo(e,n,t.inputs[o],o,r)}function _s(e,t,n,r){var i=Ve(),o=We(),s=20+e,a=i[11],u=i[s]=zr(a,t,Fe.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,s){var a=t.consts,u=Fi(t,e,2,i,Ne(a,o));return to(t,n,u,Ne(a,s)),null!==u.attrs&&Do(u,u.attrs,!1),null!==u.mergedAttrs&&Do(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,n,r):o.data[s];$e(c,!0);var l=c.mergedAttrs;null!==l&&Dt(a,u,l);var h=c.classes;null!==h&&vi(a,u,h);var d=c.styles;null!==d&&gi(a,u,d),64!=(64&c.flags)&&ui(o,i,u,c),0===Fe.lFrame.elementDepthCount&&Mr(u,i),Fe.lFrame.elementDepthCount++,pe(c)&&($i(o,i,c),Hi(o,c,i)),null!==r&&Qi(i,c)}function gs(){var e=Ke();Qe()?Ye():$e(e=e.parent,!1);var t=e;Fe.lFrame.elementDepthCount--;var n=We();n.firstCreatePass&&(bt(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ps(n,t,Ve(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ps(n,t,Ve(),t.stylesWithoutHost,!1)}function vs(e,t,n,r){_s(e,t,n,r),gs()}function ms(e,t,n){var r=Ve(),i=We(),o=e+20,s=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,s=Ne(o,r),a=Fi(t,e,8,"ng-container",s);return null!==s&&Do(a,s,!0),to(t,n,a,Ne(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];$e(s,!0);var a=r[o]=r[11].createComment("");ui(i,r,a,s),Mr(a,r),pe(s)&&($i(i,r,s),Hi(i,s,r)),null!=n&&Qi(r,s)}function ys(){var e=Ke(),t=We();Qe()?Ye():$e(e=e.parent,!1),t.firstCreatePass&&(bt(t,e),de(e)&&t.queries.elementEnd(e))}function bs(){return Ve()}function Es(e){return!!e&&"function"==typeof e.then}function Cs(e){return!!e&&"function"==typeof e.subscribe}var Os=Cs;function Ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Ve(),o=We(),s=Ke();return function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=pe(r),c=e.firstCreatePass&&So(e),l=Oo(t),h=!0;if(3&r.type){var d=Ae(r,t),f=a?a(d):V,p=f.target||d,_=l.length,g=a?function(e){return a(Pe(e[r.index])).target}:r.index;if(we(n)){var v=null;if(!a&&u&&(v=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=ws(r,t,0,o,!1);var m=n.listen(f.name||p,i,o);l.push(o,m),c&&c.push(i,g,_,_+1)}}else o=ws(r,t,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,_,s)}else o=ws(r,t,0,o,!1);var y,b=r.outputs;if(h&&null!==b&&(y=b[i])){var E=y.length;if(E)for(var C=0;C<E;C+=2){var O=t[y[C]][y[C+1]].subscribe(o),S=l.length;l.push(o,O),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],s,e,t,n,r),Ss}function Ts(e,t,n,r){try{return!1!==n(r)}catch(i){return To(e,i),!1}}function ws(e,t,n,r,i){return function n(o){if(o===Function)return r;var s=2&e.flags?Re(e.index,t):t;0==(32&t[2])&&mo(s);for(var a=Ts(t,0,r,o),u=n.__ngNextListenerFn__;u;)a=Ts(t,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Fe.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Fe.lFrame.contextLView))[8]}(e)}function Ps(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Ti(e,o,!0):wi(r,o))return i}else n=i}return n}function ks(e){var t=Ve()[16][6];if(!t.projection)for(var n=t.projection=dn(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?Ps(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function As(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Ve(),i=We(),o=Fi(i,20+e,16,null,n||null);null===o.projection&&(o.projection=t),Ye(),64!=(64&o.flags)&&function(e,t,n){_i(t[11],0,t,n,Xr(e,n,t),ri(n.parent||t[6],n,t))}(i,r,o)}function Is(e,t,n){return Ms(e,"",t,"",n),Is}function Ms(e,t,n,r,i){var o=Ve(),s=cs(o,t,n,r);return s!==ki&&eo(We(),vt(),o,e,s,o[11],i,!1),Ms}function Rs(e,t,n,r,i){for(var o=e[n+1],s=null===t,a=r?Ri(o):Li(o),u=!1;0!==a&&(!1===u||s);){var c=e[a+1];xs(e[a],t)&&(u=!0,e[a+1]=r?Ni(c):xi(c)),a=r?Ri(c):Li(c)}u&&(e[n+1]=r?xi(o):Ni(o))}function xs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&_n(e,t)>=0}var Ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function js(e){return e.substring(Ls.key,Ls.keyEnd)}function Ns(e,t){var n=Ls.textEnd;return n===t?-1:(t=Ls.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Ls.key=t,n),Us(e,t,n))}function Us(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Bs(e,t,n){return Ws(e,t,n,!1),Bs}function Fs(e,t){return Ws(e,t,null,!0),Fs}function qs(e){Gs(fn,Vs,e,!0)}function Vs(e,t){for(var n=function(e){return function(e){Ls.key=0,Ls.keyEnd=0,Ls.value=0,Ls.valueEnd=0,Ls.textEnd=e.length}(e),Ns(e,Us(e,0,Ls.textEnd))}(t);n>=0;n=Ns(t,n))fn(e,js(t),!0)}function Ws(e,t,n,r){var i=Ve(),o=We(),s=nt(2);o.firstUpdatePass&&zs(o,e,s,r),t!==ki&&is(i,s,t)&&Qs(o,o.data[_t()],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=l(Vn(e)))),e}(t,n),r,s)}function Gs(e,t,n,r){var i=We(),o=nt(2);i.firstUpdatePass&&zs(i,null,o,r);var s=Ve();if(n!==ki&&is(s,o,n)){var a=i.data[_t()];if(Zs(a,r)&&!Ks(i,o)){var u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=h(u,n||"")),ps(i,a,s,n,r)}else!function(e,t,n,r,i,o,s,a){i===ki&&(i=W);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0,p=void 0,_=null;l===h?(u+=2,c+=2,d!==f&&(_=h,p=f)):null===h||null!==l&&l<h?(u+=2,_=l):(c+=2,_=h,p=f),null!==_&&Qs(e,t,n,r,_,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return W;var r=[],i=Vn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function Ks(e,t){return t>=e.expandoStartIndex}function zs(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[_t()],s=Ks(e,n);Zs(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=Fe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=$s(n=Hs(null,e,t,n,r),t.attrs,r),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Hs(i,e,t,n,r),null===o){var a=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Li(r))return e[Ri(r)]}(e,t,r);void 0!==a&&Array.isArray(a)&&function(e,t,n,r){e[Ri(n?t.classBindings:t.styleBindings)]=r}(e,t,r,a=$s(a=Hs(null,e,t,a[1],r),t.attrs,r))}else o=function(e,t,n){for(var r,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=$s(r,e[o].hostAttrs,n);return $s(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var s=o?t.classBindings:t.styleBindings,a=Ri(s),u=Li(s);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||_n(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var d=Ri(e[a+1]);e[r+1]=Mi(d,a),0!==d&&(e[d+1]=ji(e[d+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Mi(a,0),0!==a&&(e[a+1]=ji(e[a+1],r)),a=r;else e[r+1]=Mi(u,0),0===a?a=r:e[u+1]=ji(e[u+1],r),u=r;l&&(e[r+1]=xi(e[r+1])),Rs(e,c,r,!0),Rs(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&_n(o,t)>=0&&(n[r+1]=Ni(n[r+1]))}(t,c,e,r,o),s=Mi(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Hs(e,t,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=$s(r,(o=t[a]).hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function $s(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),fn(e,s,!!n||t[++o]))}return void 0===e?null:e}function Qs(e,t,n,r,i,o,s,a){if(3&t.type){var u=e.data,c=u[a+1];Xs(1==(1&c)?Ys(u,t,n,i,Li(c),s):void 0)||(Xs(o)||2==(2&c)&&(o=Ys(u,null,n,i,a,s)),function(e,t,n,r,i){var o=we(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var s=-1===r.indexOf("-")?void 0:jr.DashCase;if(null==i)o?e.removeStyle(n,r,s):n.style.removeProperty(r);else{var a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=jr.Important),o?e.setStyle(n,r,i,s):n.style.setProperty(r,i,a?"important":"")}}}(r,s,ke(_t(),n),i,o))}}function Ys(e,t,n,r,i,o){for(var s,a=null===t;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,d=n[i+1];d===ki&&(d=h?W:void 0);var f=h?pn(d,r):l===r?d:void 0;if(c&&!Xs(f)&&(f=pn(u,r)),Xs(f)&&(s=f,a))return s;var p=e[i+1];i=a?Ri(p):Li(p)}if(null!==t){var _=o?t.residualClasses:t.residualStyles;null!=_&&(s=pn(_,r))}return s}function Xs(e){return void 0!==e}function Zs(e,t){return 0!=(e.flags&(t?16:32))}function Js(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ve(),r=We(),i=e+20,o=r.firstCreatePass?Fi(r,i,1,t,null):r.data[i],s=n[i]=Wr(n[11],t);ui(r,n,s,o),$e(o,!1)}function ea(e){return ta("",e,""),ea}function ta(e,t,n){var r=Ve(),i=cs(r,e,t,n);return i!==ki&&function(e,t,n){var r=ke(t,e);Gr(e[11],r,n)}(r,_t(),i),ta}function na(e,t,n){Gs(fn,Vs,cs(Ve(),e,t,n),!0)}function ra(e,t,n,r,i,o,s,a,u){Gs(fn,Vs,function(e,t,n,r,i,o,s,a,u,c){var l=as(e,et(),n,i,s,u);return nt(4),l?t+v(n)+r+v(i)+o+v(s)+a+v(u)+c:ki}(Ve(),e,t,n,r,i,o,s,a,u),!0)}function ia(e,t,n){var r=Ve();return is(r,tt(),t)&&eo(We(),vt(),r,e,t,r[11],n,!0),ia}var oa=void 0,sa=["en",[["a","p"],["AM","PM"],oa],[["AM","PM"],oa,oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oa,"{1} 'at' {0}",oa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],aa={};function ua(e,t,n){"string"!=typeof t&&(n=t,t=e[fa.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),aa[t]=e,n&&(aa[t][fa.ExtraData]=n)}function ca(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=da(t);if(n)return n;var r=t.split("-")[0];if(n=da(r))return n;if("en"===r)return sa;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function la(e){return ca(e)[fa.CurrencyCode]||null}function ha(e){return ca(e)[fa.PluralCase]}function da(e){return e in aa||(aa[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),aa[e]}var fa=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),pa=["zero","one","two","few","many"],_a={marker:"element"},ga={marker:"ICU"},va=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({}),ma="en-US";function ya(e){var t;null==(t=e)&&b("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(ma=e.toLowerCase().replace(/_/g,"-"))}function ba(e,t,n){var r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ii(e,0,n):Pe(n[i])}function Ea(e,t,n,r,i){var o=t.insertBeforeIndex;if(Array.isArray(o)){var s=r,a=null;if(3&t.type||(a=s,s=i),null!==s&&0==(2&t.flags))for(var u=1;u<o.length;u++)Jr(e,s,n[o[u]],a,!1)}}function Ca(e,t){if(e.push(t),e.length>1)for(var n=e.length-2;n>=0;n--){var r=e[n];Oa(r)||Sa(r,t)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Ta(r,t.index)}var i}function Oa(e){return!(64&e.type)}function Sa(e,t){return Oa(t)||e.index>t.index}function Ta(e,t){var n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(ai(ba,Ea),e.insertBeforeIndex=t)}function wa(e,t){var n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Da(e,t,n){var r=qi(e,n,64,null,null);return Ca(t,r),r}function Pa(e,t){var n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var ka=0,Aa=0;function Ia(e,t,n,r){for(var i,o=n[11],s=null,a=0;a<t.length;a++){var u=t[a];if("string"==typeof u){var c=t[++a];null===n[c]&&(n[c]=Wr(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17,h=void 0,d=void 0;if(null===s&&(s=l,i=ni(o,r)),l===s?(h=r,d=i):(h=null,d=Pe(n[l])),null!==d){var f=(131070&u)>>>1;Jr(o,d,n[f],h,!1);var p=wa(e,f);if(null!==p&&"object"==typeof p){var _=Pa(p,n);null!==_&&Ia(e,p.create[_],n,n[p.anchorIdx])}}break;case 1:var g=t[++a],v=t[++a];co(o,ke(u>>>1,n),null,null,g,v,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case ga:var m=t[++a],y=t[++a];null===n[y]&&Mr(n[y]=Kr(o,m),n);break;case _a:var b=t[++a],E=t[++a];null===n[E]&&Mr(n[E]=zr(o,b,null),n)}}}function Ma(e,t,n,r,i){for(var o=0;o<n.length;o++){var s=n[o],a=n[++o];if(s&i)for(var u="",c=o+1;c<=o+a;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=v(t[r-l]);else{var h=l>>>2;switch(3&l){case 1:var d=n[++c],f=n[++c],p=e.data[h];"string"==typeof p?co(t[11],t[h],null,p,d,u,f):eo(e,p,t,d,u,t[11],f,!1);break;case 0:var _=t[h];null!==_&&Gr(t[11],_,u);break;case 2:xa(e,wa(e,h),t,u);break;case 3:Ra(e,wa(e,h),r,t)}}}else{var g=n[o+1];if(g>0&&3==(3&g)){var m=wa(e,g>>>2);t[m.currentCaseLViewIndex]<0&&Ra(e,m,r,t)}}o+=a}}function Ra(e,t,n,r){var i=r[t.currentCaseLViewIndex];if(null!==i){var o=ka;i<0&&(i=r[t.currentCaseLViewIndex]=~i,o=-1),Ma(e,r,t.update[i],n,o)}}function xa(e,t,n,r){var i=function(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var r=function(e,t){var n=ha(t)(parseInt(e,10)),r=pa[n];return void 0!==r?r:"other"}(t,ma);-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Pa(t,n)!==i&&(La(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[t.anchorIdx];o&&Ia(e,t.create[i],n,o)}}function La(e,t,n){var r=Pa(t,n);if(null!==r)for(var i=t.remove[r],o=0;o<i.length;o++){var s=i[o];if(s>0){var a=ke(s,n);null!==a&&di(n[11],a)}else La(e,wa(e,~s),n)}}var ja=/\ufffd(\d+):?\d*\ufffd/gi,Na=/\ufffd(\d+)\ufffd/,Ua=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ba=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Fa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,qa=/\uE500/g;function Va(e,t,n,r,i,o,s){var a=Vi(e,r,1,null),u=a<<va.SHIFT,c=He();t===c&&(c=null),null===c&&(u|=va.APPEND_EAGERLY),s&&(u|=va.COMMENT,void 0===Lr&&(Lr=function(){var e,t,n=[],r=-1;function i(e,n){r=0;var i=Pa(e,n);t=null!==i?e.remove[i]:G}function o(){if(r<t.length){var s=t[r++];return s>0?e[s]:(n.push(r,t),i(e[1].data[~s],e),o())}return 0===n.length?null:(t=n.pop(),r=n.pop(),o())}return function(t,r){for(e=r;n.length;)n.pop();return i(t.value,r),o}}())),i.push(u,null===o?"":o);var l=qi(e,a,s?32:1,null===o?"":o,null);Ca(n,l);var h=l.index;return $e(l,!1),null!==c&&t!==c&&function(e,t){var n,r=e.insertBeforeIndex;null===r?(ai(ba,Ea),r=e.insertBeforeIndex=[null,t]):(1!=(n=Array.isArray(r))&&b("Expecting array here",n,!0,"=="),r.push(t))}(c,h),l}function Wa(e,t,n,r,i,o,s){var a=s.match(ja),u=Va(e,t,n,o,r,a?null:s,!1);a&&Ga(i,s,u.index,null,0,null)}function Ga(e,t,n,r,i,o){var s=e.length,a=s+1;e.push(null,null);for(var u=s+2,c=t.split(ja),l=0,h=0;h<c.length;h++){var d=c[h];if(1&h){var f=i+parseInt(d,10);e.push(-1-f),l|=Ka(f)}else""!==d&&e.push(d)}return e.push(n<<2|(r?1:0)),r&&e.push(r,o),e[s]=l,e[a]=e.length-u,l}function Ka(e){return 1<<Math.min(e,31)}function za(e){for(var t,n,r="",i=0,o=!1;null!==(t=Ba.exec(e));)o?t[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i)}function Ha(e,t,n,r,i,o){var s=0,a={type:i.type,currentCaseLViewIndex:Vi(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(Ka(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,o),function(e,t,n){var r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,o,a);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],h=[],d=0;d<l.length;d++){var f=l[d];if("string"!=typeof f){var p=h.push(f)-1;l[d]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}s=Ya(e,a,t,n,r,i.cases[c],l.join(""),h)|s}s&&function(e,t,n){e.push(t,1,n<<2|3)}(n,s,o)}function $a(e){for(var t=[],n=[],r=1,i=0,o=Qa(e=e.replace(Ua,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""})),s=0;s<o.length;){var a=o[s++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);var u=Qa(o[s++]);t.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:t,values:n}}function Qa(e){if(!e)return[];var t,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;t=o.exec(e);){var s=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var a=e.substring(n,s);Ua.test(a)?i.push($a(a)):i.push(a),n=s+1}}else{if(0==r.length){var u=e.substring(n,s);i.push(u),n=s+1}r.push("{")}}var c=e.substring(n);return i.push(c),i}function Ya(e,t,n,r,i,o,s,a){var u=[],c=[],l=[];t.cases.push(o),t.create.push(u),t.remove.push(c),t.update.push(l);var h=Yn(Te()).getInertBodyElement(s),d=br(h)||h;return d?Xa(e,t,n,r,u,c,l,d,i,a,0):0}function Xa(e,t,n,r,i,o,s,a,u,c,l){for(var h=0,d=a.firstChild;d;){var f=Vi(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:var p=d,_=p.tagName.toLowerCase();if(lr.hasOwnProperty(_)){eu(i,_a,_,u,f),e.data[f]=_;for(var g=p.attributes,v=0;v<g.length;v++){var m=g.item(v),y=m.name.toLowerCase();m.value.match(ja)?fr.hasOwnProperty(y)&&Ga(s,m.value,f,m.name,0,hr[y]?tr:dr[y]?nr:null):tu(i,f,m)}h=Xa(e,t,n,r,i,o,s,d,f,c,l+1)|h,Za(o,f,l)}break;case Node.TEXT_NODE:var b=d.textContent||"",E=b.match(ja);eu(i,null,E?"":b,u,f),Za(o,f,l),E&&(h=Ga(s,b,f,null,0,null)|h);break;case Node.COMMENT_NODE:var C=Na.exec(d.textContent||"");if(C){var O=c[parseInt(C[1],10)];eu(i,ga,"",u,f),Ha(e,n,r,u,O,f),Ja(o,f,l)}}d=d.nextSibling}return h}function Za(e,t,n){0===n&&e.push(t)}function Ja(e,t,n){0===n&&(e.push(~t),e.push(t))}function eu(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function tu(e,t,n){e.push(t<<1|1,n.name,n.value)}function nu(e,t,n){(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=We(),i=Ve(),o=20+e,s=Ne(r.consts,t),a=He();r.firstCreatePass&&function(e,t,n,r,i,o){for(var s,a=He(),u=[],c=[],l=[[]],h=(s=i=function(e,t){if(function(e){return-1===e}(t))return za(e);var n=e.indexOf(":".concat(t,"\ufffd"))+2+t.toString().length,r=e.search(new RegExp("\ufffd\\/\\*\\d+:".concat(t,"\ufffd")));return za(e.substring(n,r))}(i,o),s.replace(qa," ")).split(Fa),d=0;d<h.length;d++){var f=h[d];if(0==(1&d))for(var p=Qa(f),_=0;_<p.length;_++){var g=p[_];if(0==(1&_)){var v=g;""!==v&&Wa(e,a,l[0],u,c,n,v)}else{var m=g;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Ha(e,n,c,t,m,Va(e,a,l[0],n,u,"",!0).index)}}else{var y=47===f.charCodeAt(0),b=(f.charCodeAt(y?1:0),20+Number.parseInt(f.substring(y?2:1)));if(y)l.shift(),$e(He(),!1);else{var E=Da(e,l[0],b);l.unshift([]),$e(E,!0)}}}e.data[r]={create:u,update:c}}(r,null===a?0:a.index,i,o,s,n);var u=r.data[o],c=Zr(r,a===i[6]?null:a,i);!function(e,t,n,r){for(var i=e[11],o=0;o<t.length;o++){var s=t[o++],a=t[o],u=(s&va.COMMENT)===va.COMMENT,c=(s&va.APPEND_EAGERLY)===va.APPEND_EAGERLY,l=s>>>va.SHIFT,h=e[l];null===h&&(h=e[l]=u?i.createComment(a):Wr(i,a)),c&&null!==n&&Jr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),rt(!0)})(e,t,n),rt(!1)}function ru(e){return is(Ve(),tt(),e)&&(ka|=1<<Math.min(Aa,31)),Aa++,ru}function iu(e){!function(e,t,n){if(Aa>0){var r=e.data[n];Ma(e,t,Array.isArray(r)?r:r.update,et()-Aa-1,ka)}ka=0,Aa=0}(We(),Ve(),e+20)}function ou(e,t,n,r,i){if(e=p(e),Array.isArray(e))for(var o=0;o<e.length;o++)ou(e[o],t,n,r,i);else{var s=We(),a=Ve(),u=Vo(e)?e:p(e.provide),c=Bo(e),l=Ke(),h=1048575&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>20;if(Vo(e)||!e.multi){var _=new wt(c,i,ds),g=uu(u,t,i?h:h+f,d);-1===g?(Vt(Ut(l,a),s,u),su(s,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(_),a.push(_)):(n[g]=_,a[g]=_)}else{var v=uu(u,t,h+f,d),m=uu(u,t,h,h+f),y=v>=0&&n[v],b=m>=0&&n[m];if(i&&!b||!i&&!y){Vt(Ut(l,a),s,u);var E=function(e,t,n,r,i){var o=new wt(e,n,ds);return o.multi=[],o.index=t,o.componentProviders=0,au(o,i,r&&!n),o}(i?lu:cu,n.length,i,r,c);!i&&b&&(n[m].providerFactory=E),su(s,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(E),a.push(E)}else su(s,e,v>-1?v:m,au(n[i?m:v],c,!i&&r));!i&&r&&b&&n[m].componentProviders++}}}function su(e,t,n,r){var i=Vo(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function au(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function uu(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function cu(e,t,n,r){return hu(this.multi,[])}function lu(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=Yt(n,n[1],this.providerFactory.index,r);hu(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else hu(o,i=[]);return i}function hu(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function du(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=We();if(r.firstCreatePass){var i=_e(e);ou(n,r.data,r.blueprint,i,!0),ou(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var fu=_createClass(function e(){_classCallCheck(this,e)}),pu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(l(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),_u=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.NULL=new pu,e}();function gu(){}function vu(e,t){return new yu(Ae(e,t))}var mu=function(){return vu(Ke(),Ve())},yu=function(){var e=_createClass(function e(t){_classCallCheck(this,e),this.nativeElement=t});return e.__NG_ELEMENT_ID__=mu,e}();function bu(e){return e instanceof yu?e.nativeElement:e}var Eu=_createClass(function e(){_classCallCheck(this,e)}),Cu=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.__NG_ELEMENT_ID__=function(){return Ou()},e}(),Ou=function(){var e=Ve(),t=Re(Ke().index,e);return function(e){return e[11]}(le(t)?t:e)},Su=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275prov=E({token:e,providedIn:"root",factory:function(){return null}}),e}(),Tu=_createClass(function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}),wu=new Tu("11.2.14"),Du=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return es(e)}},{key:"create",value:function(e){return new ku(e)}}]),e}(),Pu=function(e,t){return t},ku=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Pu}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Ru(n,r,i)?t:n,s=Ru(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,d=h+l;c<=d&&d<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!es(e))throw new Error("Error trying to diff '".concat(l(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=e[a],i=this._trackByFn(a,r),null!==o&&Object.is(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Zo()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Au(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Mu),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Au=_createClass(function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),Iu=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Mu=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Iu,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Ru(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var xu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||ts(e)}},{key:"create",value:function(){return new Lu}}]),e}(),Lu=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||ts(e)))throw new Error("Error trying to diff '".concat(l(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ju(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),ju=_createClass(function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function Nu(){return new Uu([new Du])}var Uu=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Nu())},deps:[[e,new In,new kn]]}}}]),e}();return e.\u0275prov=E({token:e,providedIn:"root",factory:Nu}),e}();function Bu(){return new Fu([new xu])}var Fu=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Bu())},deps:[[e,new In,new kn]]}}}]),e}();return e.\u0275prov=E({token:e,providedIn:"root",factory:Bu}),e}();function qu(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(Pe(o)),he(o))for(var s=10;s<o.length;s++){var a=o[s],u=a[1].firstChild;null!==u&&qu(a[1],a,u,r)}var c=n.type;if(8&c)qu(e,t,n.child,r);else if(32&c)for(var l=Nr(n,t),h=void 0;h=l();)r.push(h);else if(16&c){var d=li(t,n);if(Array.isArray(d))r.push.apply(r,_toConsumableArray(d));else{var f=Ur(t[16]);qu(f[1],f,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var Vu=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return qu(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(he(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&($r(e,n),hn(t,n))}this._attachedToViewContainer=!1}Qr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Zi(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){mo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){yo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Ze(!0);try{yo(e,t,n)}finally{Ze(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,pi(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Wu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){bo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Ze(!0);try{bo(e)}finally{Ze(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Vu),Gu=zu,Ku=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.__NG_ELEMENT_ID__=Gu,e.__ChangeDetectorRef__=!0,e}();function zu(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&fe(e)){var r=Re(e.index,t);return new Vu(r,r)}return 47&e.type?new Vu(t[16],t):null}(Ke(),Ve(),e)}var Hu=[new xu],$u=new Uu([new Du]),Qu=new Fu(Hu),Yu=function(){return Ju(Ke(),Ve())},Xu=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.__NG_ELEMENT_ID__=Yu,e}(),Zu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Bi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Wi(t,n,e),new Vu(n)}}]),n}(Xu);function Ju(e,t){return 4&e.type?new Zu(t,e,vu(e,t)):null}var ec=_createClass(function e(){_classCallCheck(this,e)}),tc=_createClass(function e(){_classCallCheck(this,e)}),nc=function(){return ac(Ke(),Ve())},rc=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.__NG_ELEMENT_ID__=nc,e}(),ic=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return _createClass(n,[{key:"element",get:function(){return vu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Jt(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=qt(this._hostTNode,this._hostLView);if(Mt(e)){var t=xt(e,this._hostLView),n=Rt(e);return new Jt(t[1].data[n+8],t)}return new Jt(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=oc(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var s=o.get(ec,null);s&&(i=s)}var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(he(r[3])){var o=this.indexOf(e);if(-1!==o)this.detach(o);else{var s=r[3],a=new n(s,s[6],s[3]);a.detach(a.indexOf(e))}}var u=this._adjustIndex(t),c=this._lContainer;!function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],ln(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,c,u);var l=hi(u,c),h=r[11],d=ni(h,c[7]);return null!==d&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,pi(e,r,n,1,i,o)}(i,c[6],h,r,d,l),e.attachToViewContainerRef(),ln(sc(c),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=oc(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=$r(this._lContainer,t);n&&(hn(sc(this._lContainer),t),Qr(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=$r(this._lContainer,t);return n&&null!=hn(sc(this._lContainer),t)?new Vu(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(rc);function oc(e){return e[8]}function sc(e){return e[8]||(e[8]=[])}function ac(e,t){var n,r=t[e.index];if(he(r))n=r;else{var i;if(8&e.type)i=Pe(r);else{var o=t[11];i=o.createComment("");var s=Ae(e,t);Jr(o,ni(o,s),i,function(e,t){return we(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=fo(r,t,i,e),vo(t,n)}return new ic(n,e,t)}var uc={},cc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=ue(e);return new dc(t,this.ngModule)}}]),n}(_u);function lc(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var hc=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Rr}}),dc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Pi).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return lc(this.componentDef.inputs)}},{key:"outputs",get:function(){return lc(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,s=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,uc,i);return o!==uc||r===uc?o:t.get(n,r,i)}}}(e,r.injector):e,a=s.get(Eu,De),u=s.get(Su,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(we(e))return e.selectRootElement(t,n===j.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):zr(a.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),d=this.componentDef.onPush?576:528,f={components:[],scheduler:Rr,clean:Co,playerHandler:null,flags:0},p=Xi(0,null,null,1,0,null,null,null,null,null),_=Bi(null,p,f,d,null,null,a,c,u,s);ct(_);try{var g=function(e,t,n,r,i,o){var s=n[1];n[20]=e;var a=Fi(s,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(Do(a,u,!0),null!==e&&(Dt(i,e,u),null!==a.classes&&vi(i,e,a.classes),null!==a.styles&&gi(i,e,a.styles)));var c=r.createRenderer(e,t),l=Bi(n,Yi(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Vt(Ut(a,n),s,t.type),io(s,a),so(a,n.length,1)),vo(n,l),n[20]=l}(h,this.componentDef,_,a,c);if(h)if(n)Dt(c,h,["ng-version",wu.full]);else{var v=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Oi(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),m=v.attrs,y=v.classes;m&&Dt(c,h,m),y&&y.length>0&&vi(c,h,y.join(" "))}if(o=Ie(p,20),void 0!==t)for(var b=o.projection=[],E=0;E<this.ngContentSelectors.length;E++){var C=t[E];b.push(null!=C?Array.from(C):null)}i=function(e,t,n,r,i){var o=n[1],s=function(e,t,n){var r=Ke();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ao(e,r,t,Vi(e,t,1,null),n));var i=Yt(t,e,r.directiveStart,r);Mr(i,t);var o=Ae(r,t);return o&&Mr(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(function(e){return e(s,t)}),t.contentQueries){var a=Ke();t.contentQueries(1,s,a.directiveStart)}var u=Ke();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(gt(u.index),no(n[1],u,0,u.directiveStart,u.directiveEnd,t),ro(t,s)),s}(g,this.componentDef,_,f,[Ko]),Wi(p,_,null)}finally{pt()}return new fc(this.componentType,i,vu(o,_),_,o)}}]),n}(fu),fc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this)).location=i,a._rootLView=o,a._tNode=s,a.instance=r,a.hostView=a.changeDetectorRef=new Wu(o),a.componentType=e,a}return _createClass(n,[{key:"injector",get:function(){return new Jt(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return _createClass(function e(){_classCallCheck(this,e)})}()),pc=new Map,_c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new cc(_assertThisInitialized(i));var o=ce(e),s=e[Q]||null;return s&&ya(s),i._bootstrapComponents=xr(o.bootstrap),i._r3Injector=jo(e,r,[{provide:ec,useValue:_assertThisInitialized(i)},{provide:_u,useValue:i.componentFactoryResolver}],l(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Go.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.Default;return e===Go||e===ec||e===ko?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(ec),gc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==ce(e)&&(i=e,o=new Set,function e(t){var n=ce(t,!0),r=n.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(l(t)," vs ").concat(l(t.name)))}(r,pc.get(r),t),pc.set(r,t));var i,s=_createForOfIteratorHelper(xr(n.imports));try{for(s.s();!(i=s.n()).done;){var a=i.value;o.has(a)||(o.add(a),e(a))}}catch(u){s.e(u)}finally{s.f()}}(i)),r}return _createClass(n,[{key:"create",value:function(e){return new _c(this.moduleType,e)}}]),n}(tc);function vc(e,t,n){var r=Je()+e,i=Ve();return i[r]===ki?ns(i,r,n?t.call(n):t()):rs(i,r)}function mc(e,t,n,r){return wc(Ve(),Je(),e,t,n,r)}function yc(e,t,n,r,i){return function(e,t,n,r,i,o,s){var a=t+n;return os(e,a,i,o)?ns(e,a+2,s?r.call(s,i,o):r(i,o)):Tc(e,a+2)}(Ve(),Je(),e,t,n,r,i)}function bc(e,t,n,r,i,o){return function(e,t,n,r,i,o,s,a){var u=t+n;return ss(e,u,i,o,s)?ns(e,u+3,a?r.call(a,i,o,s):r(i,o,s)):Tc(e,u+3)}(Ve(),Je(),e,t,n,r,i,o)}function Ec(e,t,n,r,i,o,s){return function(e,t,n,r,i,o,s,a,u){var c=t+n;return as(e,c,i,o,s,a)?ns(e,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):Tc(e,c+4)}(Ve(),Je(),e,t,n,r,i,o,s)}function Cc(e,t,n,r,i,o,s,a){var u=Je()+e,c=Ve(),l=as(c,u,n,r,i,o);return is(c,u+4,s)||l?ns(c,u+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):rs(c,u+5)}function Oc(e,t,n,r,i,o,s,a,u){var c=Je()+e,l=Ve(),h=as(l,c,n,r,i,o);return os(l,c+4,s,a)||h?ns(l,c+6,u?t.call(u,n,r,i,o,s,a):t(n,r,i,o,s,a)):rs(l,c+6)}function Sc(e,t,n,r,i,o,s,a,u,c){var l=Je()+e,h=Ve(),d=as(h,l,n,r,i,o);return ss(h,l+4,s,a,u)||d?ns(h,l+7,c?t.call(c,n,r,i,o,s,a,u):t(n,r,i,o,s,a,u)):rs(h,l+7)}function Tc(e,t){var n=e[t];return n===ki?void 0:n}function wc(e,t,n,r,i,o){var s=t+n;return is(e,s,i)?ns(e,s+1,o?r.call(o,i):r(i)):Tc(e,s+1)}function Dc(e,t){var n,r=We(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new g("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=ge(n.type)),s=M(ds);try{var a=jt(!1),u=o();return jt(a),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,Ve(),i,u),u}finally{M(s)}}function Pc(e,t,n){var r=e+20,i=Ve(),o=Me(i,r);return function(e,t){return Jo.isWrapped(t)&&(t=Jo.unwrap(t),e[et()]=ki),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?wc(i,Je(),t,o.transform,n,o):o.transform(n))}function kc(e){return function(t){setTimeout(e,void 0,t)}}var Ac=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,s,a,u=e,c=t||function(){return null},l=r;if(e&&"object"==typeof e){var h=e;u=null===(o=h.next)||void 0===o?void 0:o.bind(h),c=null===(s=h.error)||void 0===s?void 0:s.bind(h),l=null===(a=h.complete)||void 0===a?void 0:a.bind(h)}this.__isAsync&&(c=kc(c),u&&(u=kc(u)),l&&(l=kc(l)));var d=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,{next:u,error:c,complete:l});return e instanceof i.a&&e.add(d),d}}]),n}(r.a);function Ic(){return this._results[Zo()]()}var Mc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Zo(),r=e.prototype;r[n]||(r[n]=Ic)}return _createClass(e,[{key:"changes",get:function(){return this._changes||(this._changes=new Ac)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){this.dirty=!1;var n=un(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Rc=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),xc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==$c(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Lc=_createClass(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.predicate=t,this.flags=n,this.read=r}),jc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Nc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,Uc(t,i)),this.matchTNodeWithReadOption(e,t,Qt(t,e,i,!1,!1))}else n===Xu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qt(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===yu||r===rc||r===Xu&&4&t.type)this.addMatch(t.index,-2);else{var i=Qt(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Uc(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Bc(e,t,n,r){return-1===n?function(e,t){return 11&e.type?vu(e,t):4&e.type?Ju(e,t):null}(t,e):-2===n?function(e,t,n){return n===yu?vu(t,e):n===Xu?Ju(t,e):n===rc?ac(t,e):void 0}(e,t,r):Yt(e,e[1],n,t)}function Fc(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var c=s[u];a.push(c<0?null:Bc(t,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function qc(e,t,n,r){var i=e.queries.getByIndex(n),o=i.matches;if(null!==o)for(var s=Fc(e,t,i,n),a=0;a<o.length;a+=2){var u=o[a];if(u>0)r.push(s[a/2]);else{for(var c=o[a+1],l=t[-u],h=10;h<l.length;h++){var d=l[h];d[17]===d[3]&&qc(d[1],d,c,r)}if(null!==l[9])for(var f=l[9],p=0;p<f.length;p++){var _=f[p];qc(_[1],_,c,r)}}}return r}function Vc(e){var t=Ve(),n=We(),r=ot();st(r+1);var i=$c(n,r);if(e.dirty&&Le(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?qc(n,t,r,[]):Fc(n,t,i,r);e.reset(o,bu),e.notifyOnChanges()}return!0}return!1}function Wc(e,t,n){var r=We();r.firstCreatePass&&(Hc(r,new Lc(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),zc(r,Ve(),t)}function Gc(e,t,n,r){var i=We();if(i.firstCreatePass){var o=Ke();Hc(i,new Lc(t,n,r),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}zc(i,Ve(),n)}function Kc(){return e=Ve(),t=ot(),e[19].queries[t].queryList;var e,t}function zc(e,t,n){var r=new Mc(4==(4&n));Zi(e,t,r,r.destroy),null===t[19]&&(t[19]=new xc),t[19].queries.push(new Rc(r))}function Hc(e,t,n){null===e.queries&&(e.queries=new jc),e.queries.track(new Nc(t,n))}function $c(e,t){return e.queries.getByIndex(t)}function Qc(e,t){return Ju(e,t)}function Yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.Default,t=zu(!0);if(null!=t||e&I.Optional)return t;y("ChangeDetectorRef")}var Xc=new on("Application Initializer"),Zc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Es(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(Xc,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),Jc=new on("AppId"),el={provide:Jc,useFactory:function(){return"".concat(tl()).concat(tl()).concat(tl())},deps:[]};function tl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var nl=new on("Platform Initializer"),rl=new on("Platform ID"),il=new on("appBootstrapListener"),ol=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),sl=new on("LocaleId"),al=new on("DefaultCurrencyCode"),ul=_createClass(function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n}),cl=function(e){return new gc(e)},ll=cl,hl=function(e){return Promise.resolve(cl(e))},dl=function(e){var t=cl(e),n=xr(ce(e).declarations).reduce(function(e,t){var n=ue(t);return n&&e.push(new dc(n)),e},[]);return new ul(t,n)},fl=dl,pl=function(e){return Promise.resolve(dl(e))},_l=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=ll,this.compileModuleAsync=hl,this.compileModuleAndAllComponentsSync=fl,this.compileModuleAndAllComponentsAsync=pl}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),gl=Promise.resolve(0);function vl(e){"undefined"==typeof Zone?gl.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var ml=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,s=t.shouldCoalesceEventChangeDetection,a=void 0!==s&&s,u=t.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ac(!1),this.onMicrotaskEmpty=new Ac(!1),this.onStable=new Ac(!1),this.onError=new Ac(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&a,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,El(e),bl(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),El(e))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,i,o,s,a){try{return Cl(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),Ol(n)}},onInvoke:function(e,t,i,o,s,a,u){try{return Cl(n),e.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),Ol(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,El(n),bl(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,yl,gu,gu);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),yl={};function bl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function El(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Cl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ol(e){e._nesting--,bl(e)}var Sl=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ac,this.onMicrotaskEmpty=new Ac,this.onStable=new Ac,this.onError=new Ac}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Tl=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){ml.assertNotInAngularZone(),vl(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())vl(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(ml))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),wl=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,kl.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kl.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function Dl(e){kl=e}var Pl,kl=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Al=!0,Il=!1;function Ml(){return Il=!0,Al}function Rl(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");Al=!1}var xl=new on("AllowMultipleToken"),Ll=_createClass(function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n});function jl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new on(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Nl();if(!o||o.injector.get(xl,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var s=n.concat(t).concat({provide:i,useValue:!0},{provide:Io,useValue:"platform"});!function(e){if(Pl&&!Pl.destroyed&&!Pl.injector.get(xl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Pl=e.get(Ul);var t=e.get(nl,null);t&&t.forEach(function(e){return e()})}(Go.create({providers:s,name:r}))}return function(e){var t=Nl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Nl(){return Pl&&!Pl.destroyed?Pl:null}var Ul=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===n?new Sl:("zone.js"===n?void 0:n)||new ml({enableLongStackTrace:Ml(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),s=[{provide:ml,useValue:o}];return o.run(function(){var t=Go.create({providers:s,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(kr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var e=o.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){ql(i._modules,n),e.unsubscribe()})}),function(e,t,r){try{var o=((s=n.injector.get(Zc)).runInitializers(),s.donePromise.then(function(){return ya(n.injector.get(sl,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Es(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(a){throw t.runOutsideAngular(function(){return e.handleError(a)}),a}var s}(r,o)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Bl({},n);return function(e,t,n){var r=new gc(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Fl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(l(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(Go))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function Bl(e,t){return Array.isArray(t)?t.reduce(Bl,e):Object.assign(Object.assign({},e),t)}var Fl=function(){var e=function(){function e(t,n,r,i,u){var c=this;_classCallCheck(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new o.a(function(e){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){e.next(c._stable),e.complete()})}),h=new o.a(function(e){var t;c._zone.runOutsideAngular(function(){t=c._zone.onStable.subscribe(function(){ml.assertNotInAngularZone(),vl(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,e.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){ml.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(Object(a.a)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof fu?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ec),o=n.create(Go.NULL,[],t||n.selector,i),s=o.location.nativeElement,a=o.injector.get(Tl,null),u=a&&o.injector.get(wl);return a&&u&&u.registerApplication(s,a),o.onDestroy(function(){r.detachView(o.hostView),ql(r.components,o),u&&u.unregisterApplication(s)}),this._loadComponent(o),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;ql(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(il,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(ml),Cn(Go),Cn(kr),Cn(_u),Cn(Zc))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function ql(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Vl=_createClass(function e(){_classCallCheck(this,e)}),Wl=_createClass(function e(){_classCallCheck(this,e)}),Gl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Kl=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Gl}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then(function(e){return e[o]}).then(function(e){return zl(e,i,o)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+o]}).then(function(e){return zl(e,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(_l),Cn(Wl,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function zl(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Hl=function(e){return null},$l=jl(null,"core",[{provide:rl,useValue:"unknown"},{provide:Ul,deps:[Go]},{provide:wl,deps:[]},{provide:ol,deps:[]}]),Ql=[{provide:Fl,useClass:Fl,deps:[ml,Go,kr,_u,Zc]},{provide:hc,deps:[ml],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Zc,useClass:Zc,deps:[[new kn,Xc]]},{provide:_l,useClass:_l,deps:[]},el,{provide:Uu,useFactory:function(){return $u},deps:[]},{provide:Fu,useFactory:function(){return Qu},deps:[]},{provide:sl,useFactory:function(e){return ya(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new Pn(sl),new kn,new In]]},{provide:al,useValue:"USD"}],Yl=function(){var e=_createClass(function e(t){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)(Cn(Fl))},e.\u0275mod=re({type:e}),e.\u0275inj=C({providers:Ql}),e}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},"h+eY":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("mrSG"),i=n("fXoL"),o=n("LRne"),s=n("EY2u"),a=n("ofXK"),u=n("pxpQ"),c=n("eIep"),l=n("lJxs"),h=n("UXun"),d=(n("pLZG"),n("OQgR"),n("5+tZ"),n("/uUt"),n("JX91"),n("Zy1z"),n("spgP"));n("tyNb"),n("UbJi"),n("jhN1");var f=new i.r("angularfire2.analytics.analyticsCollectionEnabled"),p=new i.r("angularfire2.analytics.appVersion"),_=new i.r("angularfire2.analytics.appName"),g=new i.r("angularfire2.analytics.debugMode"),v=new i.r("angularfire2.analytics.config"),m=function(){var e=function(){function e(t,r,i,f,p,_,g,v){var m=this;if(_classCallCheck(this,e),this.analyticsInitialized=new Promise(function(){}),Object(a.A)(g)){window.dataLayer=window.dataLayer||[];var y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"config"===t[0]&&"firebase"===t[2].origin&&(m.measurementId=t[1],!0)},b=function(e){window.gtag=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e&&e.apply(void 0,r),"event"===r[0]&&r[2].send_to===m.measurementId&&(f&&(r[2].app_name=f),i&&(r[2].app_version=i)),p&&"undefined"!=typeof console&&(t=console).info.apply(t,r),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.dataLayer.push(arguments)}).apply(void 0,r)}};window.dataLayer.some(y)?(this.analyticsInitialized=Promise.resolve(),b()):this.analyticsInitialized=new Promise(function(e){b(function(){y.apply(void 0,arguments)&&e()})}),_&&this.updateConfig(_),p&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();var E=Object(o.a)(void 0).pipe(Object(u.b)(new d.d(v).outsideAngular),Object(c.a)(function(){return Object(a.A)(g)?v.runOutsideAngular(function(){return n.e(6).then(n.bind(null,"AAub"))}):s.a}),Object(l.a)(function(){return Object(d.f)("analytics","AngularFireAnalytics",t,function(){var e=t.analytics();return!1===r&&e.setAnalyticsCollectionEnabled(!1),e},[t,r,_,p])}),Object(h.a)({bufferSize:1,refCount:!1}));return Object(d.i)(this,E,v)}return _createClass(e,[{key:"updateConfig",value:function(e){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.analyticsInitialized;case 2:window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}));case 3:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.cc(d.c),i.cc(f,8),i.cc(p,8),i.cc(_,8),i.cc(g,8),i.cc(v,8),i.cc(i.C),i.cc(i.A))},e.\u0275prov=i.Mb({factory:function(){return new e(i.cc(d.c),i.cc(f,8),i.cc(p,8),i.cc(_,8),i.cc(g,8),i.cc(v,8),i.cc(i.C),i.cc(i.A))},token:e,providedIn:"any"}),e}();Object(d.e)(m,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]),Math.floor(Math.random()*(Math.pow(2,32)-1)),Math.pow(2,31)},itXk:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("z+Ro"),i=n("DH7j"),o=n("l7GE"),s=n("ZUHj"),a=n("yCtX"),u={};function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=null,s=null;return Object(r.a)(t[t.length-1])&&(s=t.pop()),"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(a.a)(t,s).lift(new l(o))}var l=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.resultSelector))}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(u),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(s.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,s=this.toRespond?o[n]===u?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(o.a)},jZKg:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a(function(n){var r=new i.a,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jhN1:function(e,t,n){"use strict";n.d(t,"a",function(){return N}),n.d(t,"b",function(){return I}),n.d(t,"c",function(){return B}),n.d(t,"d",function(){return q}),n.d(t,"e",function(){return F}),n.d(t,"f",function(){return L});var r,i=n("ofXK"),o=n("fXoL"),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=a||(a=document.querySelector("base"))?a.getAttribute("href"):null;return null==n?null:(t=n,r||(r=document.createElement("a")),r.setAttribute("href",t),"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname)}},{key:"resetBaseElement",value:function(){a=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(i.F)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(i.G)(new n)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(i.C)),a=null,u=new o.r("TRANSITION_ID"),c=[{provide:o.d,useFactory:function(e,t,n){return function(){n.get(o.e).donePromise.then(function(){var n=Object(i.E)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[u,i.c,o.s],multi:!0}],l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){o.rb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.rb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},o.rb.getAllAngularRootElements=function(){return e.getAllRootElements()},o.rb.frameworkStabilizers||(o.rb.frameworkStabilizers=[]),o.rb.frameworkStabilizers.push(function(e){var t=o.rb.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Object(i.E)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(o.Z)(new e)}}]),e}(),h=new o.r("EventManagerPlugins"),d=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.cc(h),o.cc(o.A))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e}(),f=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Object(i.E)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),p=function(){var e=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e}(),_=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(g),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(g)})}}]),n}(p);return e.\u0275fac=function(t){return new(t||e)(o.cc(i.c))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e}();function g(e){Object(i.E)().remove(e)}var v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},m=/%COMP%/g;function y(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?y(e,i,n):(i=i.replace(m,e),n.push(i))}return n}function b(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var E=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new C(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case o.S.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new O(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case o.S.ShadowDom:return new S(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=y(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.cc(d),o.cc(_),o.cc(o.c))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e}(),C=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(v[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=v[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=v[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(o.G.DashCase|o.G.Important)?e.style.setProperty(t,n,r&o.G.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&o.G.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,b(n)):this.eventManager.addEventListener(e,t,b(n))}}]),e}(),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).component=i;var a=y(o+"-"+i.id,i.styles,[]);return r.addStyles(a),s.contentAttr="_ngcontent-%COMP%".replace(m,o+"-"+i.id),s.hostAttr="_nghost-%COMP%".replace(m,o+"-"+i.id),s}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(C),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=r,s.hostEl=i,s.shadowRoot=i.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=y(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(C),T=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(f);return e.\u0275fac=function(t){return new(t||e)(o.cc(i.c))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e}(),w=["alt","control","meta","shift"],D={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},k={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},A=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var o=n.parseEventName(t),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Object(i.E)().onAndCancel(e,o.domEventName,s)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(w.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&P.hasOwnProperty(t)&&(t=P[t]))}return D[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),w.forEach(function(r){r!=n&&(0,k[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(f);return e.\u0275fac=function(t){return new(t||e)(o.cc(i.c))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e}(),I=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Mb)({factory:function(){return Object(o.cc)(R)},token:e,providedIn:"root"}),e}();function M(e){return new R(e.get(i.c))}var R=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case o.I.NONE:return t;case o.I.HTML:return Object(o.gb)(t,"HTML")?Object(o.zb)(t):Object(o.eb)(this._doc,String(t)).toString();case o.I.STYLE:return Object(o.gb)(t,"Style")?Object(o.zb)(t):t;case o.I.SCRIPT:if(Object(o.gb)(t,"Script"))return Object(o.zb)(t);throw new Error("unsafe value used in a script context");case o.I.URL:return Object(o.qb)(t),Object(o.gb)(t,"URL")?Object(o.zb)(t):Object(o.fb)(String(t));case o.I.RESOURCE_URL:if(Object(o.gb)(t,"ResourceURL"))return Object(o.zb)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(o.hb)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(o.kb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(o.jb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(o.lb)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(o.ib)(e)}}]),n}(I);return e.\u0275fac=function(t){return new(t||e)(o.cc(i.c))},e.\u0275prov=Object(o.Mb)({factory:function(){return M(Object(o.cc)(o.o))},token:e,providedIn:"root"}),e}(),x=[{provide:o.C,useValue:i.D},{provide:o.D,useValue:function(){s.makeCurrent(),l.init()},multi:!0},{provide:i.c,useFactory:function(){return Object(o.xb)(document),document},deps:[]}],L=Object(o.T)(o.Y,"browser",x),j=[[],{provide:o.bb,useValue:"root"},{provide:o.m,useFactory:function(){return new o.m},deps:[]},{provide:h,useClass:T,multi:!0,deps:[i.c,o.A,o.C]},{provide:h,useClass:A,multi:!0,deps:[i.c]},[],{provide:E,useClass:E,deps:[d,_,o.c]},{provide:o.F,useExisting:E},{provide:p,useExisting:_},{provide:_,useClass:_,deps:[i.c]},{provide:o.N,useClass:o.N,deps:[o.A]},{provide:d,useClass:d,deps:[h,o.A]},[]],N=function(){var e=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:o.c,useValue:t.appId},{provide:u,useExisting:o.c},c]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.cc(e,12))},e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({providers:j,imports:[i.b,o.f]}),e}();function U(){return new B(Object(o.cc)(i.c))}var B=function(){var e=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.cc(i.c))},e.\u0275prov=Object(o.Mb)({factory:U,token:e,providedIn:"root"}),e}();function F(e){return e}"undefined"!=typeof window&&window;var q=function(){var e=function(){function e(){_classCallCheck(this,e),this.store={},this.onSerializeCallbacks={}}return _createClass(e,[{key:"get",value:function(e,t){return void 0!==this.store[e]?this.store[e]:t}},{key:"set",value:function(e,t){this.store[e]=t}},{key:"remove",value:function(e){delete this.store[e]}},{key:"hasKey",value:function(e){return this.store.hasOwnProperty(e)}},{key:"onSerialize",value:function(e,t){this.onSerializeCallbacks[e]=t}},{key:"toJson",value:function(){for(var e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)}}],[{key:"init",value:function(t){var n=new e;return n.store=t,n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e}()},jtHE:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),s=n("pxpQ"),a=n("9ppp"),u=n("Ylt2"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new l(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,c=r.length;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?t=o.a.EMPTY:(this.observers.push(e),t=new u.a(this,e)),i&&e.add(e=new s.a(e,i)),n)for(var l=0;l<c&&!e.closed;l++)e.next(r[l]);else for(var h=0;h<c&&!e.closed;h++)e.next(r[h].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||i.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(r.a),l=_createClass(function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n})},kJWO:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},kgNN:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(){return function(e){return e.lift(new o)}}var o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"_next",value:function(e){e.observe(this.destination)}}]),n}(r.a)},l5mm:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("HDdC"),i=n("D0XW"),o=n("Y7HM");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return(!Object(o.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=i.a),new r.a(function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n})}function a(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}},l7GE:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},l7P3:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return M}),n.d(t,"d",function(){return W}),n.d(t,"e",function(){return V}),n.d(t,"f",function(){return C}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return B}),n.d(t,"i",function(){return K}),n.d(t,"j",function(){return N}),n.d(t,"k",function(){return G}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return R});var r=n("fXoL"),i=n("2Vo4"),o=n("HDdC"),s=n("XNiG"),a=(n("qgXg"),n("pxpQ"),n("zp1y"),n("Kqap"),n("lJxs")),u=n("/uUt"),c={};function l(e,t){if(c[e]=(c[e]||0)+1,"function"==typeof t)return d(e,function(){return Object.assign(Object.assign({},t.apply(void 0,arguments)),{type:e})});switch(t?t._as:"empty"){case"empty":return d(e,function(){return{type:e}});case"props":return d(e,function(t){return Object.assign(Object.assign({},t),{type:e})});default:throw new Error("Unexpected config.")}}function h(){return{_as:"props",_p:void 0}}function d(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var f,p=((f=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,{type:"@ngrx/store/init"})}return _createClass(n,[{key:"next",value:function(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"complete",this).call(this)}}]),n}(i.a)).\u0275fac=function(e){return new(e||f)},f.\u0275prov=r.Mb({token:f,factory:f.\u0275fac}),f),_=new r.r("@ngrx/store Internal Root Guard"),g=(new r.r("@ngrx/store Internal Initial State"),new r.r("@ngrx/store Initial State")),v=new r.r("@ngrx/store Reducer Factory"),m=(new r.r("@ngrx/store Internal Reducer Factory Provider"),new r.r("@ngrx/store Initial Reducers")),y=(new r.r("@ngrx/store Internal Initial Reducers"),new r.r("@ngrx/store Store Features"),new r.r("@ngrx/store Internal Store Reducers"),new r.r("@ngrx/store Internal Feature Reducers"),new r.r("@ngrx/store Internal Feature Configs"),new r.r("@ngrx/store Internal Store Features")),b=(new r.r("@ngrx/store Internal Feature Reducers Token"),new r.r("@ngrx/store Feature Reducers")),E=(new r.r("@ngrx/store User Provided Meta Reducers"),new r.r("@ngrx/store Meta Reducers"),new r.r("@ngrx/store Internal Resolved Meta Reducers"),new r.r("@ngrx/store User Runtime Checks Config"),new r.r("@ngrx/store Internal User Runtime Checks Config"),new r.r("@ngrx/store Internal Runtime Checks"),new r.r("@ngrx/store Check if Action types are unique"));function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){if(0===t.length)return e;var n=t[t.length-1];return t.slice(0,-1).reduceRight(function(e,t){return t(e)},n(e))}}var O,S,T,w=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(o.a),D=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(p),P=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,o(i,r))).dispatcher=e,s.initialState=r,s.reducers=i,s.reducerFactory=o,s}return _createClass(n,[{key:"addFeature",value:function(e){this.addFeatures([e])}},{key:"addFeatures",value:function(e){var t=e.reduce(function(e,t){var n=t.reducers,r=t.reducerFactory,i=t.metaReducers,o=t.initialState,s=t.key,a="function"==typeof n?function(e){var t=Array.isArray(e)&&e.length>0?C.apply(void 0,_toConsumableArray(e)):function(e){return e};return function(e,n){return e=t(e),function(t,r){return e(t=void 0===t?n:t,r)}}}(i)(n,o):function(e,t){return Array.isArray(t)&&t.length>0&&(e=C.apply(null,[].concat(_toConsumableArray(t),[e]))),function(t,n){var r=e(t);return function(e,t){return r(e=void 0===e?n:e,t)}}}(r,i)(n,o);return e[s]=a,e},{});this.addReducers(t)}},{key:"removeFeature",value:function(e){this.removeFeatures([e])}},{key:"removeFeatures",value:function(e){this.removeReducers(e.map(function(e){return e.key}))}},{key:"addReducer",value:function(e,t){this.addReducers(_defineProperty({},e,t))}},{key:"addReducers",value:function(e){this.reducers=Object.assign(Object.assign({},this.reducers),e),this.updateReducers(Object.keys(e))}},{key:"removeReducer",value:function(e){this.removeReducers([e])}},{key:"removeReducers",value:function(e){var t=this;e.forEach(function(e){var n,r;t.reducers=(n=t.reducers,r=e,Object.keys(n).filter(function(e){return e!==r}).reduce(function(e,t){return Object.assign(e,_defineProperty({},t,n[t]))},{}))}),this.updateReducers(e)}},{key:"updateReducers",value:function(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:e})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(i.a)).\u0275fac=function(e){return new(e||S)(r.cc(D),r.cc(g),r.cc(m),r.cc(v))},S.\u0275prov=r.Mb({token:S,factory:S.\u0275fac}),S),k=((O=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(s.a)).\u0275fac=function(e){return A(e||O)},O.\u0275prov=r.Mb({token:O,factory:O.\u0275fac}),O),A=r.Xb(k),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(o.a),M=((T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).actionsObserver=r,o.reducerManager=i,o.source=e,o}return _createClass(n,[{key:"select",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return R.call.apply(R,[null,e].concat(n))(this)}},{key:"lift",value:function(e){var t=new n(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}},{key:"dispatch",value:function(e){this.actionsObserver.next(e)}},{key:"next",value:function(e){this.actionsObserver.next(e)}},{key:"error",value:function(e){this.actionsObserver.error(e)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(e,t){this.reducerManager.addReducer(e,t)}},{key:"removeReducer",value:function(e){this.reducerManager.removeReducer(e)}}]),n}(o.a)).\u0275fac=function(e){return new(e||T)(r.cc(I),r.cc(p),r.cc(P))},T.\u0275prov=r.Mb({token:T,factory:T.\u0275fac}),T);function R(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return function(n){var i;if("string"==typeof e){var o=[t].concat(r).filter(Boolean);i=n.pipe((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return Object(a.a)(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return;r=o}return r}}(t,r))(e)}}).apply(void 0,[e].concat(_toConsumableArray(o))))}else{if("function"!=typeof e)throw new TypeError("Unexpected type '".concat(typeof e,"' in select operator, expected 'string' or 'function'"));i=n.pipe(Object(a.a)(function(n){return e(n,t)}))}return i.pipe(Object(u.a)())}}function x(e,t){return e===t}function L(e,t,n){for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!0;return!1}function j(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,i=null,o=null;return{memoized:function(){if(void 0!==t)return t.result;if(!i)return o=e.apply(null,arguments),i=arguments,o;if(!L(arguments,i,n))return o;var s=e.apply(null,arguments);return i=arguments,r(o,s)?o:(o=s,s)},reset:function(){i=null,o=null},setResult:function(e){t={result:e}},clearResult:function(){t=void 0}}}function N(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:U};return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r;if(Array.isArray(o[0])){var s=o,a=_toArray(s),u=a[0],c=a.slice(1);o=[].concat(_toConsumableArray(u),_toConsumableArray(c))}var l=o.slice(0,o.length-1),h=o[o.length-1],d=l.filter(function(e){return e.release&&"function"==typeof e.release}),f=e(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.apply(null,t)}),p=j(function(e,n){return t.stateFn.apply(null,[e,l,n,f])});return Object.assign(p.memoized,{release:function(){p.reset(),f.reset(),d.forEach(function(e){return e.release()})},projector:f.memoized,setResult:p.setResult,clearResult:p.clearResult})}}(j).apply(void 0,arguments)}function U(e,t,n,r){if(void 0===n){var i=t.map(function(t){return t(e)});return r.memoized.apply(null,i)}var o=t.map(function(t){return t(e,n)});return r.memoized.apply(null,[].concat(_toConsumableArray(o),[n]))}function B(e){return N(function(t){var n=t[e];return!Object(r.X)()||e in t||console.warn('@ngrx/store: The feature name "'.concat(e,"\" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('").concat(e,"', ...) or StoreModule.forFeature('").concat(e,"', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.")),n},function(e){return e})}var F,q,V=((q=_createClass(function e(t,n,r,i,o,s){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||q)(r.cc(p),r.cc(w),r.cc(k),r.cc(M),r.cc(_,8),r.cc(E,8))},q.\u0275mod=r.Ob({type:q}),q.\u0275inj=r.Nb({}),q),W=((F=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.features=t,this.featureReducers=n,this.reducerManager=r;var s=t.map(function(e,t){var r,i=n.shift()[t];return Object.assign(Object.assign({},e),{reducers:i,initialState:(r=e.initialState,"function"==typeof r?r():r)})});r.addFeatures(s)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),e}()).\u0275fac=function(e){return new(e||F)(r.cc(y),r.cc(b),r.cc(P),r.cc(V),r.cc(E,8))},F.\u0275mod=r.Ob({type:F}),F.\u0275inj=r.Nb({}),F);function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{reducer:t.pop(),types:t.map(function(e){return e.type})}}function K(e){for(var t=new Map,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=function(){var e,n=a[s],r=_createForOfIteratorHelper(n.types);try{var i=function(){var r=e.value,i=t.get(r);t.set(r,i?function(e,t){return n.reducer(i(e,t),t)}:n.reducer)};for(r.s();!(e=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}},s=0,a=r;s<a.length;s++)o();return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,i=t.get(r.type);return i?i(n,r):n}}},lJxs:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},lPHp:function lPHp(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,root,factory;"undefined"!=typeof navigator&&(root=window||{},factory=function factory(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"==typeof e&&e.length){var t,n=createSizedArray(e.length),r=e.length;for(t=0;t<r;t+=1)n[t]=Math.abs(e[t]);return n}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){bm_rnd=e?Math.round:function(e){return e}}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin=e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility=e.style.webkitBackfaceVisibility="visible",e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,n,r){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,n,r){this.type=e,this.currentLoop=n,this.totalLoops=t,this.direction=r<0?-1:1}function BMSegmentStartEvent(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t,this.currentTime=currentTime}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+ ++_count}),_count;function HSVtoRGB(e,t,n){var r,i,o,s,a,u,c,l;switch(u=n*(1-t),c=n*(1-(a=6*e-(s=Math.floor(6*e)))*t),l=n*(1-(1-a)*t),s%6){case 0:r=n,i=l,o=u;break;case 1:r=c,i=n,o=u;break;case 2:r=u,i=n,o=l;break;case 3:r=u,i=c,o=n;break;case 4:r=l,i=u,o=n;break;case 5:r=n,i=u,o=c}return[r,i,o]}function RGBtoHSV(e,t,n){var r,i=Math.max(e,t,n),o=Math.min(e,t,n),s=i-o,a=0===i?0:s/i,u=i/255;switch(i){case o:r=0;break;case e:r=t-n+s*(t<n?6:0),r/=6*s;break;case t:r=n-e+2*s,r/=6*s;break;case n:r=e-t+4*s,r/=6*s}return[r,a,u]}function addSaturationToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var e,t,n=[];for(e=0;e<256;e+=1)t=e.toString(16),n[e]=1==t.length?"0"+t:t;return function(e,t,r){return e<0&&(e=0),t<0&&(t=0),r<0&&(r=0),"#"+n[e]+n[t]+n[r]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var n=this._cbs[e].length,r=0;r<n;r++)this._cbs[e][r](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),(function(){this.removeEventListener(e,t)}).bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var n=0,r=this._cbs[e].length;n<r;)this._cbs[e][n]===t&&(this._cbs[e].splice(n,1),n-=1,r-=1),n+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,t){return"float32"===e?new Float32Array(t):"int16"===e?new Int16Array(t):"uint8c"===e?new Uint8ClampedArray(t):void 0}:function(e,t){var n,r=0,i=[];switch(e){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<t;r+=1)i.push(n);return i};function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums,Matrix=function(){var e=Math.cos,t=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function s(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1)}function a(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1)}function u(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function l(e,t){return this.shear(n(e),n(t))}function h(r,i){var o=e(i),s=t(i);return this._t(o,s,0,0,-s,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(o,-s,0,0,s,o,0,0,0,0,1,0,0,0,0,1)}function d(e,t,n){return n||0===n||(n=1),1===e&&1===t&&1===n?this:this._t(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function f(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,_){return this.props[0]=e,this.props[1]=t,this.props[2]=n,this.props[3]=r,this.props[4]=i,this.props[5]=o,this.props[6]=s,this.props[7]=a,this.props[8]=u,this.props[9]=c,this.props[10]=l,this.props[11]=h,this.props[12]=d,this.props[13]=f,this.props[14]=p,this.props[15]=_,this}function p(e,t,n){return n=n||0,0!==e||0!==t||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1):this}function _(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,_){var g=this.props;if(1===e&&0===t&&0===n&&0===r&&0===i&&1===o&&0===s&&0===a&&0===u&&0===c&&1===l&&0===h)return g[12]=g[12]*e+g[15]*d,g[13]=g[13]*o+g[15]*f,g[14]=g[14]*l+g[15]*p,g[15]=g[15]*_,this._identityCalculated=!1,this;var v=g[0],m=g[1],y=g[2],b=g[3],E=g[4],C=g[5],O=g[6],S=g[7],T=g[8],w=g[9],D=g[10],P=g[11],k=g[12],A=g[13],I=g[14],M=g[15];return g[0]=v*e+m*i+y*u+b*d,g[1]=v*t+m*o+y*c+b*f,g[2]=v*n+m*s+y*l+b*p,g[3]=v*r+m*a+y*h+b*_,g[4]=E*e+C*i+O*u+S*d,g[5]=E*t+C*o+O*c+S*f,g[6]=E*n+C*s+O*l+S*p,g[7]=E*r+C*a+O*h+S*_,g[8]=T*e+w*i+D*u+P*d,g[9]=T*t+w*o+D*c+P*f,g[10]=T*n+w*s+D*l+P*p,g[11]=T*r+w*a+D*h+P*_,g[12]=k*e+A*i+I*u+M*d,g[13]=k*t+A*o+I*c+M*f,g[14]=k*n+A*s+I*l+M*p,g[15]=k*r+A*a+I*h+M*_,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function m(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t]}function y(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function b(e,t,n){return{x:e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}}function E(e,t,n){return e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12]}function C(e,t,n){return e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13]}function O(e,t,n){return e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}function S(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,n=-this.props[1]/e,r=-this.props[4]/e,i=this.props[0]/e,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=n,a.props[4]=r,a.props[5]=i,a.props[12]=o,a.props[13]=s,a}function T(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function w(e){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r[t]=T(e[t]);return r}function D(e,t,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=e[0],r[1]=e[1],r[2]=t[0],r[3]=t[1],r[4]=n[0],r[5]=n[1];else{var i=this.props[0],o=this.props[1],s=this.props[4],a=this.props[5],u=this.props[12],c=this.props[13];r[0]=e[0]*i+e[1]*s+u,r[1]=e[0]*o+e[1]*a+c,r[2]=t[0]*i+t[1]*s+u,r[3]=t[0]*o+t[1]*a+c,r[4]=n[0]*i+n[1]*s+u,r[5]=n[0]*o+n[1]*a+c}return r}function P(e,t,n){return this.isIdentity()?[e,t,n]:[e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]]}function k(e,t){if(this.isIdentity())return e+","+t;var n=this.props;return Math.round(100*(e*n[0]+t*n[4]+n[12]))/100+","+Math.round(100*(e*n[1]+t*n[5]+n[13]))/100}function A(){for(var e=0,t=this.props,n="matrix3d(";e<16;)n+=r(1e4*t[e])/1e4,n+=15===e?")":",",e+=1;return n}function I(e){return e<1e-6&&e>0||e>-1e-6&&e<0?r(1e4*e)/1e4:e}function M(){var e=this.props;return"matrix("+I(e[0])+","+I(e[1])+","+I(e[4])+","+I(e[5])+","+I(e[12])+","+I(e[13])+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=s,this.rotateY=a,this.rotateZ=u,this.skew=l,this.skewFromAxis=h,this.shear=c,this.scale=d,this.setTransform=f,this.translate=p,this.transform=_,this.applyToPoint=b,this.applyToX=E,this.applyToY=C,this.applyToZ=O,this.applyToPointArray=P,this.applyToTriplePoints=D,this.applyToPointStringified=k,this.toCSS=A,this.to2dCSS=M,this.clone=m,this.cloneFromProps=y,this.equals=v,this.inversePoints=w,this.inversePoint=T,this.getInverseMatrix=S,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(e,t){var n=this,r=t.pow(256,6),i=t.pow(2,52),o=2*i;function s(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<256;)s[i]=i++;for(i=0;i<256;i++)s[i]=s[o=255&o+e[i%n]+(t=s[i])],s[o]=t;r.g=function(e){for(var t,n=0,i=r.i,o=r.j,s=r.S;e--;)t=s[i=255&i+1],n=256*n+s[255&(s[i]=s[o=255&o+t])+(s[o]=t)];return r.i=i,r.j=o,n}}function a(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function u(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(u(e[n],t-1))}catch(o){}return r.length?r:"string"==i?e:e+"\0"}function c(e,t){for(var n,r=e+"",i=0;i<r.length;)t[255&i]=255&(n^=19*t[255&i])+r.charCodeAt(i++);return l(t)}function l(e){return String.fromCharCode.apply(0,e)}t.seedrandom=function(h,d,f){var p=[],_=c(u((d=!0===d?{entropy:!0}:d||{}).entropy?[h,l(e)]:null===h?function(){try{var t=new Uint8Array(256);return(n.crypto||n.msCrypto).getRandomValues(t),l(t)}catch(o){var r=n.navigator,i=r&&r.plugins;return[+new Date,n,i,n.screen,l(e)]}}():h,3),p),g=new s(p),v=function(){for(var e=g.g(6),t=r,n=0;e<i;)e=256*(e+n),t*=256,n=g.g(1);for(;e>=o;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|g.g(4)},v.quick=function(){return g.g(4)/4294967296},v.double=v,c(l(g.S),e),(d.pass||f||function(e,n,r,i){return i&&(i.S&&a(i,g),e.state=function(){return a(g,{})}),r?(t.random=e,n):e})(v,_,"global"in d?d.global:this==t,d.state)},c(t.random(),e)}([],BMMath);var BezierFactory=function(){var e={getBezierEasing:function(e,n,r,i,o){var s=o||("bez_"+e+"_"+n+"_"+r+"_"+i).replace(/\./g,"p");if(t[s])return t[s];var a=new u([e,n,r,i]);return t[s]=a,a}},t={},n="function"==typeof Float32Array;function r(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function s(e,t,n){return((r(t,n)*e+i(t,n))*e+o(t))*e}function a(e,t,n){return 3*r(t,n)*e*e+2*i(t,n)*e+o(t)}function u(e){this._p=e,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return u.prototype={get:function(e){var t=this._p[0],n=this._p[1],r=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),t===n&&r===i?e:0===e?0:1===e?1:s(this._getTForX(e),n,i)},_precompute:function(){var e=this._p[0],t=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,e===t&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=s(.1*n,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],r=this._mSampleValues,i=0,o=1;10!==o&&r[o]<=e;++o)i+=.1;var u=i+(e-r[--o])/(r[o+1]-r[o])*.1,c=a(u,t,n);return c>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var o=a(t,n,r);if(0===o)return t;t-=(s(t,n,r)-e)/o}return t}(e,u,t,n):0===c?u:function(e,t,n,r,i){var o,a,u=0;do{(o=s(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(o)>1e-7&&++u<10);return a}(e,i,i+.1,t,n)}},e}();function extendPrototype(e,t){var n,r,i=e.length;for(n=0;n<i;n+=1)for(var o in r=e[n].prototype)r.hasOwnProperty(o)&&(t.prototype[o]=r[o])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){function e(e,t,n,r,i,o){var s=e*r+t*i+n*o-i*r-o*e-n*t;return s>-.001&&s<.001}Math;var t=function(e,t,n,r){var i,o,s,a,u,c,l=defaultCurveSegments,h=0,d=[],f=[],p=bezier_length_pool.newElement();for(s=n.length,i=0;i<l;i+=1){for(u=i/(l-1),c=0,o=0;o<s;o+=1)a=bm_pow(1-u,3)*e[o]+3*bm_pow(1-u,2)*u*n[o]+3*(1-u)*bm_pow(u,2)*r[o]+bm_pow(u,3)*t[o],d[o]=a,null!==f[o]&&(c+=bm_pow(d[o]-f[o],2)),f[o]=d[o];c&&(h+=c=bm_sqrt(c)),p.percents[i]=u,p.lengths[i]=h}return p.addedLength=h,p};function n(e){this.segmentLength=0,this.points=new Array(e)}function r(e,t){this.partialLength=e,this.point=t}var i,o=(i={},function(t,o,s,a){var u=(t[0]+"_"+t[1]+"_"+o[0]+"_"+o[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!i[u]){var c,l,h,d,f,p,_,g=defaultCurveSegments,v=0,m=null;2===t.length&&(t[0]!=o[0]||t[1]!=o[1])&&e(t[0],t[1],o[0],o[1],t[0]+s[0],t[1]+s[1])&&e(t[0],t[1],o[0],o[1],o[0]+a[0],o[1]+a[1])&&(g=2);var y=new n(g);for(h=s.length,c=0;c<g;c+=1){for(_=createSizedArray(h),f=c/(g-1),p=0,l=0;l<h;l+=1)d=bm_pow(1-f,3)*t[l]+3*bm_pow(1-f,2)*f*(t[l]+s[l])+3*(1-f)*bm_pow(f,2)*(o[l]+a[l])+bm_pow(f,3)*o[l],_[l]=d,null!==m&&(p+=bm_pow(_[l]-m[l],2));v+=p=bm_sqrt(p),y.points[c]=new r(p,_),m=_}y.segmentLength=v,i[u]=y}return i[u]});function s(e,t){var n=t.percents,r=t.lengths,i=n.length,o=bm_floor((i-1)*e),s=e*t.addedLength,a=0;if(o===i-1||0===o||s===r[o])return n[o];for(var u=r[o]>s?-1:1,c=!0;c;)if(r[o]<=s&&r[o+1]>s?(a=(s-r[o])/(r[o+1]-r[o]),c=!1):o+=u,o<0||o>=i-1){if(o===i-1)return n[o];c=!1}return n[o]+(n[o+1]-n[o])*a}var a=createTypedArray("float32",8);return{getSegmentsLength:function(e){var n,r=segments_length_pool.newElement(),i=e.c,o=e.v,s=e.o,a=e.i,u=e._length,c=r.lengths,l=0;for(n=0;n<u-1;n+=1)c[n]=t(o[n],o[n+1],s[n],a[n+1]),l+=c[n].addedLength;return i&&u&&(c[n]=t(o[n],o[0],s[n],a[0]),l+=c[n].addedLength),r.totalLength=l,r},getNewSegment:function(e,t,n,r,i,o,u){var c,l=s(i=i<0?0:i>1?1:i,u),h=s(o=o>1?1:o,u),d=e.length,f=1-l,p=1-h,_=f*f*f,g=l*f*f*3,v=l*l*f*3,m=l*l*l,y=f*f*p,b=l*f*p+f*l*p+f*f*h,E=l*l*p+f*l*h+l*f*h,C=l*l*h,O=f*p*p,S=l*p*p+f*h*p+f*p*h,T=l*h*p+f*h*h+l*p*h,w=l*h*h,D=p*p*p,P=h*p*p+p*h*p+p*p*h,k=h*h*p+p*h*h+h*p*h,A=h*h*h;for(c=0;c<d;c+=1)a[4*c]=Math.round(1e3*(_*e[c]+g*n[c]+v*r[c]+m*t[c]))/1e3,a[4*c+1]=Math.round(1e3*(y*e[c]+b*n[c]+E*r[c]+C*t[c]))/1e3,a[4*c+2]=Math.round(1e3*(O*e[c]+S*n[c]+T*r[c]+w*t[c]))/1e3,a[4*c+3]=Math.round(1e3*(D*e[c]+P*n[c]+k*r[c]+A*t[c]))/1e3;return a},getPointInSegment:function(e,t,n,r,i,o){var a=s(i,o),u=1-a;return[Math.round(1e3*(u*u*u*e[0]+(a*u*u+u*a*u+u*u*a)*n[0]+(a*a*u+u*a*a+a*u*a)*r[0]+a*a*a*t[0]))/1e3,Math.round(1e3*(u*u*u*e[1]+(a*u*u+u*a*u+u*u*a)*n[1]+(a*a*u+u*a*a+a*u*a)*r[1]+a*a*a*t[1]))/1e3]},buildBezierData:o,pointOnLine2D:e,pointOnLine3D:function(t,n,r,i,o,s,a,u,c){if(0===r&&0===s&&0===c)return e(t,n,i,o,a,u);var l,h=Math.sqrt(Math.pow(i-t,2)+Math.pow(o-n,2)+Math.pow(s-r,2)),d=Math.sqrt(Math.pow(a-t,2)+Math.pow(u-n,2)+Math.pow(c-r,2)),f=Math.sqrt(Math.pow(a-i,2)+Math.pow(u-o,2)+Math.pow(c-s,2));return(l=h>d?h>f?h-d-f:f-d-h:f>d?f-d-h:d-h-f)>-1e-4&&l<1e-4}}}!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),o=setTimeout(function(){t(r+i)},i);return e=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction();function dataFunctionManager(){function e(i,o,s){var a,u,c,l,h,d,f,p=i.length;for(u=0;u<p;u+=1)if("ks"in(a=i[u])&&!a.completed){if(a.completed=!0,a.tt&&(i[u-1].td=a.tt),a.hasMask){var _=a.masksProperties;for(l=_.length,c=0;c<l;c+=1)if(_[c].pt.k.i)r(_[c].pt.k);else for(d=_[c].pt.k.length,h=0;h<d;h+=1)_[c].pt.k[h].s&&r(_[c].pt.k[h].s[0]),_[c].pt.k[h].e&&r(_[c].pt.k[h].e[0])}0===a.ty?(a.layers=t(a.refId,o),e(a.layers,o,s)):4===a.ty?n(a.shapes):5==a.ty&&(0!==(f=a).t.a.length||"m"in f.t.p||(f.singleShape=!0))}}function t(e,t){for(var n=0,r=t.length;n<r;){if(t[n].id===e)return t[n].layers.__used?JSON.parse(JSON.stringify(t[n].layers)):(t[n].layers.__used=!0,t[n].layers);n+=1}}function n(e){var t,i,o;for(t=e.length-1;t>=0;t-=1)if("sh"==e[t].ty)if(e[t].ks.k.i)r(e[t].ks.k);else for(o=e[t].ks.k.length,i=0;i<o;i+=1)e[t].ks.k[i].s&&r(e[t].ks.k[i].s[0]),e[t].ks.k[i].e&&r(e[t].ks.k[i].e[0]);else"gr"==e[t].ty&&n(e[t].it)}function r(e){var t,n=e.i.length;for(t=0;t<n;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function i(e,t){var n=t?t.split("."):[100,100,100];return e[0]>n[0]||!(n[0]>e[0])&&(e[1]>n[1]||!(n[1]>e[1])&&(e[2]>n[2]||!(n[2]>e[2])&&void 0))}var o,s=function(){var e=[4,4,14];function t(e){var t,n,r=e.length;for(t=0;t<r;t+=1)5===e[t].ty&&((n=e[t]).t.d={k:[{s:n.t.d,t:0}]})}return function(n){if(i(e,n.v)&&(t(n.layers),n.assets)){var r,o=n.assets.length;for(r=0;r<o;r+=1)n.assets[r].layers&&t(n.assets[r].layers)}}}(),a=(o=[4,7,99],function(e){if(e.chars&&!i(o,e.v)){var t,n,s,a,u,c=e.chars.length;for(t=0;t<c;t+=1)if(e.chars[t].data&&e.chars[t].data.shapes)for(s=(u=e.chars[t].data.shapes[0].it).length,n=0;n<s;n+=1)(a=u[n].ks.k).__converted||(r(u[n].ks.k),a.__converted=!0)}}),u=function(){var e=[4,1,9];function t(e){var n,r,i,o=e.length;for(n=0;n<o;n+=1)if("gr"===e[n].ty)t(e[n].it);else if("fl"===e[n].ty||"st"===e[n].ty)if(e[n].c.k&&e[n].c.k[0].i)for(i=e[n].c.k.length,r=0;r<i;r+=1)e[n].c.k[r].s&&(e[n].c.k[r].s[0]/=255,e[n].c.k[r].s[1]/=255,e[n].c.k[r].s[2]/=255,e[n].c.k[r].s[3]/=255),e[n].c.k[r].e&&(e[n].c.k[r].e[0]/=255,e[n].c.k[r].e[1]/=255,e[n].c.k[r].e[2]/=255,e[n].c.k[r].e[3]/=255);else e[n].c.k[0]/=255,e[n].c.k[1]/=255,e[n].c.k[2]/=255,e[n].c.k[3]/=255}function n(e){var n,r=e.length;for(n=0;n<r;n+=1)4===e[n].ty&&t(e[n].shapes)}return function(t){if(i(e,t.v)&&(n(t.layers),t.assets)){var r,o=t.assets.length;for(r=0;r<o;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}(),c=function(){var e=[4,4,18];function t(e){var n,r,i;for(n=e.length-1;n>=0;n-=1)if("sh"==e[n].ty)if(e[n].ks.k.i)e[n].ks.k.c=e[n].closed;else for(i=e[n].ks.k.length,r=0;r<i;r+=1)e[n].ks.k[r].s&&(e[n].ks.k[r].s[0].c=e[n].closed),e[n].ks.k[r].e&&(e[n].ks.k[r].e[0].c=e[n].closed);else"gr"==e[n].ty&&t(e[n].it)}function n(e){var n,r,i,o,s,a,u=e.length;for(r=0;r<u;r+=1){if((n=e[r]).hasMask){var c=n.masksProperties;for(o=c.length,i=0;i<o;i+=1)if(c[i].pt.k.i)c[i].pt.k.c=c[i].cl;else for(a=c[i].pt.k.length,s=0;s<a;s+=1)c[i].pt.k[s].s&&(c[i].pt.k[s].s[0].c=c[i].cl),c[i].pt.k[s].e&&(c[i].pt.k[s].e[0].c=c[i].cl)}4===n.ty&&t(n.shapes)}}return function(t){if(i(e,t.v)&&(n(t.layers),t.assets)){var r,o=t.assets.length;for(r=0;r<o;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}(),l={completeData:function(t,n){t.__complete||(u(t),s(t),a(t),c(t),e(t.layers,t.assets,n),t.__complete=!0)}};return l.checkColors=u,l.checkChars=a,l.checkShapes=c,l.completeLayers=e,l}var dataManager=dataFunctionManager(),FontManager=function(){var e={w:0,size:0,shapes:[]},t=[];function n(e,t){var n=createTag("span");n.style.fontFamily=t;var r=createTag("span");r.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var i=r.offsetWidth;return r.style.fontFamily=function(e){var t,n=e.split(","),r=n.length,i=[];for(t=0;t<r;t+=1)"sans-serif"!==n[t]&&"monospace"!==n[t]&&i.push(n[t]);return i.join(",")}(e)+", "+t,{node:r,w:i,parent:n}}function r(e,t){var n=createNS("text");return n.style.fontSize="100px",n.setAttribute("font-family",t.fFamily),n.setAttribute("font-style",t.fStyle),n.setAttribute("font-weight",t.fWeight),n.textContent="1",t.fClass?(n.style.fontFamily="inherit",n.setAttribute("class",t.fClass)):n.style.fontFamily=t.fFamily,e.appendChild(n),createTag("canvas").getContext("2d").font=t.fWeight+" "+t.fStyle+" 100px "+t.fFamily,n}t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return i.getCombinedCharacterCodes=function(){return t},i.prototype={addChars:function(e){if(e){this.chars||(this.chars=[]);var t,n,r,i=e.length,o=this.chars.length;for(t=0;t<i;t+=1){for(n=0,r=!1;n<o;)this.chars[n].style===e[t].style&&this.chars[n].fFamily===e[t].fFamily&&this.chars[n].ch===e[t].ch&&(r=!0),n+=1;r||(this.chars.push(e[t]),o+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);var i,o=e.list,s=o.length,a=s;for(i=0;i<s;i+=1){var u,c,l=!0;if(o[i].loaded=!1,o[i].monoCase=n(o[i].fFamily,"monospace"),o[i].sansCase=n(o[i].fFamily,"sans-serif"),o[i].fPath){if("p"===o[i].fOrigin||3===o[i].origin){if((u=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[i].fFamily+'"], style[f-origin="3"][f-family="'+o[i].fFamily+'"]')).length>0&&(l=!1),l){var h=createTag("style");h.setAttribute("f-forigin",o[i].fOrigin),h.setAttribute("f-origin",o[i].origin),h.setAttribute("f-family",o[i].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+o[i].fFamily+"; font-style: normal; src: url('"+o[i].fPath+"');}",t.appendChild(h)}}else if("g"===o[i].fOrigin||1===o[i].origin){for(u=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<u.length;c++)-1!==u[c].href.indexOf(o[i].fPath)&&(l=!1);if(l){var d=createTag("link");d.setAttribute("f-forigin",o[i].fOrigin),d.setAttribute("f-origin",o[i].origin),d.type="text/css",d.rel="stylesheet",d.href=o[i].fPath,document.body.appendChild(d)}}else if("t"===o[i].fOrigin||2===o[i].origin){for(u=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<u.length;c++)o[i].fPath===u[c].src&&(l=!1);if(l){var f=createTag("link");f.setAttribute("f-forigin",o[i].fOrigin),f.setAttribute("f-origin",o[i].origin),f.setAttribute("rel","stylesheet"),f.setAttribute("href",o[i].fPath),t.appendChild(f)}}}else o[i].loaded=!0,a-=1;o[i].helper=r(t,o[i]),o[i].cache={},this.fonts.push(o[i])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,n,r){for(var i=0,o=this.chars.length;i<o;){if(this.chars[i].ch===t&&this.chars[i].style===n&&this.chars[i].fFamily===r)return this.chars[i];i+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",t,n,r),e},getFontByName:function(e){for(var t=0,n=this.fonts.length;t<n;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,n){var r=this.getFontByName(t),i=e.charCodeAt(0);if(!r.cache[i+1]){var o=r.helper;if(" "===e){o.textContent="|"+e+"|";var s=o.getComputedTextLength();o.textContent="||";var a=o.getComputedTextLength();r.cache[i+1]=(s-a)/100}else o.textContent=e,r.cache[i+1]=o.getComputedTextLength()/100}return r.cache[i+1]*n},checkLoadedFonts:function(){var e,t=this.fonts.length,n=t;for(e=0;e<t;e+=1)this.fonts[e].loaded?n-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:((this.fonts[e].monoCase.node.offsetWidth!==this.fonts[e].monoCase.w||this.fonts[e].sansCase.node.offsetWidth!==this.fonts[e].sansCase.w)&&(n-=1,this.fonts[e].loaded=!0),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},i}(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function n(e,t){var n,i=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var o,s,a,u,c,l,h,d,f=t.lastIndex,p=f,_=this.keyframes.length-1,g=!0;g;){if(o=this.keyframes[p],s=this.keyframes[p+1],p===_-1&&e>=s.t-i){o.h&&(o=s),f=0;break}if(s.t-i>e){f=p;break}p<_-1?p+=1:(f=0,g=!1)}var v,m,y,b,E,C,O,S,T,w,D=s.t-i,P=o.t-i;if(o.to){o.bezierData||(o.bezierData=bez.buildBezierData(o.s,s.s||o.e,o.to,o.ti));var k=o.bezierData;if(e>=D||e<P){var A=e>=D?k.points.length-1:0;for(u=k.points[A].point.length,a=0;a<u;a+=1)n[a]=k.points[A].point[a]}else{o.__fnct?d=o.__fnct:(d=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=d),c=d((e-P)/(D-P));var I,M=k.segmentLength*c,R=t.lastFrame<e&&t._lastKeyframeIndex===p?t._lastAddedLength:0;for(h=t.lastFrame<e&&t._lastKeyframeIndex===p?t._lastPoint:0,g=!0,l=k.points.length;g;){if(R+=k.points[h].partialLength,0===M||0===c||h===k.points.length-1){for(u=k.points[h].point.length,a=0;a<u;a+=1)n[a]=k.points[h].point[a];break}if(M>=R&&M<R+k.points[h+1].partialLength){for(I=(M-R)/k.points[h+1].partialLength,u=k.points[h].point.length,a=0;a<u;a+=1)n[a]=k.points[h].point[a]+(k.points[h+1].point[a]-k.points[h].point[a])*I;break}h<l-1?h+=1:g=!1}t._lastPoint=h,t._lastAddedLength=R-k.points[h].partialLength,t._lastKeyframeIndex=p}}else{var x;if(_=o.s.length,v=s.s||o.e,this.sh&&1!==o.h)e>=D?(n[0]=v[0],n[1]=v[1],n[2]=v[2]):e<=P?(n[0]=o.s[0],n[1]=o.s[1],n[2]=o.s[2]):(m=n,b=(y=function(e,t,n){var r,i,o,s,a,u=[],c=e[0],l=e[1],h=e[2],d=e[3],f=t[0],p=t[1],_=t[2],g=t[3];return(i=c*f+l*p+h*_+d*g)<0&&(i=-i,f=-f,p=-p,_=-_,g=-g),1-i>1e-6?(r=Math.acos(i),o=Math.sin(r),s=Math.sin((1-n)*r)/o,a=Math.sin(n*r)/o):(s=1-n,a=n),u[0]=s*c+a*f,u[1]=s*l+a*p,u[2]=s*h+a*_,u[3]=s*d+a*g,u}(r(o.s),r(v),(e-P)/(D-P)))[0],E=y[1],C=y[2],O=y[3],S=Math.atan2(2*E*O-2*b*C,1-2*E*E-2*C*C),T=Math.asin(2*b*E+2*C*O),w=Math.atan2(2*b*O-2*E*C,1-2*b*b-2*C*C),m[0]=S/degToRads,m[1]=T/degToRads,m[2]=w/degToRads);else for(p=0;p<_;p+=1)1!==o.h&&(e>=D?c=1:e<P?c=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[p]?d=o.__fnct[p]:(d=BezierFactory.getBezierEasing(void 0===o.o.x[p]?o.o.x[0]:o.o.x[p],void 0===o.o.y[p]?o.o.y[0]:o.o.y[p],void 0===o.i.x[p]?o.i.x[0]:o.i.x[p],void 0===o.i.y[p]?o.i.y[0]:o.i.y[p]).get,o.__fnct[p]=d)):o.__fnct?d=o.__fnct:(d=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y).get,o.__fnct=d),c=d((e-P)/(D-P)))),v=s.s||o.e,x=1===o.h?o.s[p]:o.s[p]+(v[p]-o.s[p])*c,"multidimensional"===this.propType?n[p]=x:n=x}return t.lastIndex=f,n}function r(e){var t=e[0]*degToRads,n=e[1]*degToRads,r=e[2]*degToRads,i=Math.cos(t/2),o=Math.cos(n/2),s=Math.cos(r/2),a=Math.sin(t/2),u=Math.sin(n/2),c=Math.sin(r/2);return[a*u*s+i*o*c,a*o*s+i*u*c,i*u*s-a*o*c,i*o*s-a*u*c]}function i(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<n&&t<n))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(t,this._caching);this.pv=i}return this._caching.lastFrame=t,this.pv}function o(e){var n;if("unidimensional"===this.propType)t(this.v-(n=e*this.mult))>1e-5&&(this.v=n,this._mdf=!0);else for(var r=0,i=this.v.length;r<i;)t(this.v[r]-(n=e[r]*this.mult))>1e-5&&(this.v[r]=n,this._mdf=!0),r+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)n=this.effectsSequence[e](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function u(e,t,n,r){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=o,this.addEffect=a}function c(e,t,n,r){this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,u=t.k.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),createTypedArray("float32",u),this.vel=createTypedArray("float32",u),i=0;i<u;i+=1)this.v[i]=t.k[i]*this.mult,this.pv[i]=t.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=o,this.addEffect=a}function l(t,r,u,c){this.propType="unidimensional",this.keyframes=r.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=u||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=s,this.setVValue=o,this.interpolateValue=n,this.effectsSequence=[i.bind(this)],this.addEffect=a}function h(t,r,u,c){this.propType="multidimensional";var l,h,d,f,p,_=r.k.length;for(l=0;l<_-1;l+=1)r.k[l].to&&r.k[l].s&&r.k[l+1]&&r.k[l+1].s&&(d=r.k[l+1].s,f=r.k[l].to,p=r.k[l].ti,(2===(h=r.k[l].s).length&&(h[0]!==d[0]||h[1]!==d[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],h[0]+f[0],h[1]+f[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],d[0]+p[0],d[1]+p[1])||3===h.length&&(h[0]!==d[0]||h[1]!==d[1]||h[2]!==d[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],h[0]+f[0],h[1]+f[1],h[2]+f[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],d[0]+p[0],d[1]+p[1],d[2]+p[2]))&&(r.k[l].to=null,r.k[l].ti=null),h[0]===d[0]&&h[1]===d[1]&&0===f[0]&&0===f[1]&&0===p[0]&&0===p[1]&&(2===h.length||h[2]===d[2]&&0===f[2]&&0===p[2])&&(r.k[l].to=null,r.k[l].ti=null));this.effectsSequence=[i.bind(this)],this.keyframes=r.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=u||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=s,this.setVValue=o,this.interpolateValue=n,this.frameId=-1;var g=r.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),l=0;l<g;l+=1)this.v[l]=e,this.pv[l]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}return{getProp:function(e,t,n,r,i){var o;if(t.k.length)if("number"==typeof t.k[0])o=new c(e,t,r,i);else switch(n){case 0:o=new l(e,t,r,i);break;case 1:o=new h(e,t,r,i)}else o=new u(e,t,r,i);return o.effectsSequence.length&&i.addDynamicProperty(o),o}}}(),TransformPropertyFactory=function(){var e=[0,0];function t(e,t,n){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var r,i=t.or.k.length;for(r=0;r<i;r+=1)t.or.k[r].to=t.or.k[r].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),this.o=t.o?PropertyFactory.getProp(e,t.o,0,.01,e):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?e.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,r,i=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(n=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],r=[];var o=this.px,s=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(n[0]=o.getValueAtTime((o.keyframes[0].t+.01)/i,0),n[1]=s.getValueAtTime((s.keyframes[0].t+.01)/i,0),r[0]=o.getValueAtTime(o.keyframes[0].t/i,0),r[1]=s.getValueAtTime(s.keyframes[0].t/i,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(n[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/i,0),n[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/i,0),r[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/i,0),r[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/i,0)):(n=[o.pv,s.pv],r[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/i,o.offsetTime),r[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/i,s.offsetTime))}else n=r=e;this.v.rotate(-Math.atan2(n[1]-r[1],n[0]-r[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,n,r){return new t(e,n,r)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=point_pool.newElement(),this.o[n]=point_pool.newElement(),this.i[n]=point_pool.newElement(),n+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,n,r,i){var o;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o}(!o[r]||o[r]&&!i)&&(o[r]=point_pool.newElement()),o[r][0]=e,o[r][1]=t},ShapePath.prototype.setTripleAt=function(e,t,n,r,i,o,s,a){this.setXYAt(e,t,"v",s,a),this.setXYAt(n,r,"o",s,a),this.setXYAt(i,o,"i",s,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,n=this.o,r=this.i,i=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),i=1);var o,s=this._length-1,a=this._length;for(o=i;o<a;o+=1)e.setTripleAt(t[s][0],t[s][1],r[s][0],r[s][1],n[s][0],n[s][1],o,!1),s-=1;return e};var ShapePropertyFactory=function(){function e(e,t,n){var r,i,o,s,a,u,c,l,h=n.lastIndex,d=this.keyframes;if(e<d[0].t-this.offsetTime)r=d[0].s[0],o=!0,h=0;else if(e>=d[d.length-1].t-this.offsetTime)r=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],o=!0;else{for(var f,p,_=h,g=d.length-1,v=!0;v&&(f=d[_],!((p=d[_+1]).t-this.offsetTime>e));)_<g-1?_+=1:v=!1;if(h=_,!(o=1===f.h)){if(e>=p.t-this.offsetTime)l=1;else if(e<f.t-this.offsetTime)l=0;else{var m;f.__fnct?m=f.__fnct:(m=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,f.__fnct=m),l=m((e-(f.t-this.offsetTime))/(p.t-this.offsetTime-(f.t-this.offsetTime)))}i=p.s?p.s[0]:f.e[0]}r=f.s[0]}for(u=t._length,c=r.i[0].length,n.lastIndex=h,s=0;s<u;s+=1)for(a=0;a<c;a+=1)t.i[s][a]=o?r.i[s][a]:r.i[s][a]+(i.i[s][a]-r.i[s][a])*l,t.o[s][a]=o?r.o[s][a]:r.o[s][a]+(i.o[s][a]-r.o[s][a])*l,t.v[s][a]=o?r.v[s][a]:r.v[s][a]+(i.v[s][a]-r.v[s][a])*l}function t(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return-999999!==r&&(r<t&&e<t||r>n&&e>n)||(this._caching.lastIndex=r<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function n(){this.paths=this.localShapeCollection}function r(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var n,r=e._length;for(n=0;n<r;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return!1;return!0})(this.v,e)||(this.v=shape_pool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var e,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,n=this.effectsSequence.length;for(e=0;e<n;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shape_pool.clone(3===r?t.pt.k:t.ks.k),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function a(e,r,i){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===i?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=n,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[t.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=i,o.prototype.setVValue=r,o.prototype.addEffect=s,a.prototype.getValue=i,a.prototype.interpolateShape=e,a.prototype.setVValue=r,a.prototype.addEffect=s;var u=function(){var e=roundCorner;function t(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,o=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=n-i,s.v[1][0]=o?t+r:t-r,s.v[1][1]=n,s.v[2][0]=t,s.v[2][1]=n+i,s.v[3][0]=o?t-r:t+r,s.v[3][1]=n,s.i[0][0]=o?t-r*e:t+r*e,s.i[0][1]=n-i,s.i[1][0]=o?t+r:t-r,s.i[1][1]=n-i*e,s.i[2][0]=o?t+r*e:t-r*e,s.i[2][1]=n+i,s.i[3][0]=o?t-r:t+r,s.i[3][1]=n+i*e,s.o[0][0]=o?t+r*e:t-r*e,s.o[0][1]=n-i,s.o[1][0]=o?t+r:t-r,s.o[1][1]=n+i*e,s.o[2][0]=o?t-r*e:t+r*e,s.o[2][1]=n+i,s.o[3][0]=o?t-r:t+r,s.o[3][1]=n-i*e}},extendPrototype([DynamicPropertyContainer],t),t}(),c=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,n,r,i=2*Math.floor(this.pt.v),o=2*Math.PI/i,s=!0,a=this.or.v,u=this.ir.v,c=this.os.v,l=this.is.v,h=2*Math.PI*a/(2*i),d=2*Math.PI*u/(2*i),f=-Math.PI/2;f+=this.r.v;var p=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<i;e+=1){n=s?c:l,r=s?h:d;var _=(t=s?a:u)*Math.cos(f),g=t*Math.sin(f),v=0===_&&0===g?0:g/Math.sqrt(_*_+g*g),m=0===_&&0===g?0:-_/Math.sqrt(_*_+g*g);this.v.setTripleAt(_+=+this.p.v[0],g+=+this.p.v[1],_-v*r*n*p,g-m*r*n*p,_+v*r*n*p,g+m*r*n*p,e,!0),s=!s,f+=o*p}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),n=2*Math.PI/t,r=this.or.v,i=this.os.v,o=2*Math.PI*r/(4*t),s=-Math.PI/2,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var u=r*Math.cos(s),c=r*Math.sin(s),l=0===u&&0===c?0:c/Math.sqrt(u*u+c*c),h=0===u&&0===c?0:-u/Math.sqrt(u*u+c*c);this.v.setTripleAt(u+=+this.p.v[0],c+=+this.p.v[1],u-l*o*i*a,c-h*o*i*a,u+l*o*i*a,c+h*o*i*a,e,!0),s+=n*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),l=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=bm_min(n,r,this.r.v),o=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+n,t-r+i,e+n,t-r+i,e+n,t-r+o,0,!0),this.v.setTripleAt(e+n,t+r-i,e+n,t+r-o,e+n,t+r-i,1,!0),0!==i?(this.v.setTripleAt(e+n-i,t+r,e+n-i,t+r,e+n-o,t+r,2,!0),this.v.setTripleAt(e-n+i,t+r,e-n+o,t+r,e-n+i,t+r,3,!0),this.v.setTripleAt(e-n,t+r-i,e-n,t+r-i,e-n,t+r-o,4,!0),this.v.setTripleAt(e-n,t-r+i,e-n,t-r+o,e-n,t-r+i,5,!0),this.v.setTripleAt(e-n+i,t-r,e-n+i,t-r,e-n+o,t-r,6,!0),this.v.setTripleAt(e+n-i,t-r,e+n-o,t-r,e+n-i,t-r,7,!0)):(this.v.setTripleAt(e-n,t+r,e-n+o,t+r,e-n,t+r,2),this.v.setTripleAt(e-n,t-r,e-n,t-r+o,e-n,t-r,3))):(this.v.setTripleAt(e+n,t-r+i,e+n,t-r+o,e+n,t-r+i,0,!0),0!==i?(this.v.setTripleAt(e+n-i,t-r,e+n-i,t-r,e+n-o,t-r,1,!0),this.v.setTripleAt(e-n+i,t-r,e-n+o,t-r,e-n+i,t-r,2,!0),this.v.setTripleAt(e-n,t-r+i,e-n,t-r+i,e-n,t-r+o,3,!0),this.v.setTripleAt(e-n,t+r-i,e-n,t+r-o,e-n,t+r-i,4,!0),this.v.setTripleAt(e-n+i,t+r,e-n+i,t+r,e-n+o,t+r,5,!0),this.v.setTripleAt(e+n-i,t+r,e+n-o,t+r,e+n-i,t+r,6,!0),this.v.setTripleAt(e+n,t+r-i,e+n,t+r-i,e+n,t+r-o,7,!0)):(this.v.setTripleAt(e-n,t-r,e-n+o,t-r,e-n,t-r,1,!0),this.v.setTripleAt(e-n,t+r,e-n,t+r-o,e-n,t+r,2,!0),this.v.setTripleAt(e+n,t+r,e+n-o,t+r,e+n,t+r,3,!0)))},getValue:function(e){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],e),e}();return{getShapeProp:function(e,t,n){var r;return 3===n||4===n?r=(3===n?t.pt:t.ks).k.length?new a(e,t,n):new o(e,t,n):5===n?r=new l(e,t):6===n?r=new u(e,t):7===n&&(r=new c(e,t)),r.k&&e.addDynamicProperty(r),r},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return a}}}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(e,t){modifiers[e]||(modifiers[e]=t)},ob.getModifier=function(e,t,n){return new modifiers[e](t,n)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,n,r){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var i,o,s=t.length||0;for(i=0;i<s;i+=1)o=PropertyFactory.getProp(e,t[i].v,0,0,this),this.k=o.k||this.k,this.dataProps[i]={n:t[i].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,n){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var r=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,n,r,i){var o=[];t<=1?o.push({s:e,e:t}):e>=1?o.push({s:e-1,e:t-1}):(o.push({s:e,e:1}),o.push({s:0,e:t-1}));var s,a,u=[],c=o.length;for(s=0;s<c;s+=1)(a=o[s]).e*i<r||a.s*i>r+n||u.push([a.s*i<=r?0:(a.s*i-r)/n,a.e*i>=r+n?1:(a.e*i-r)/n]);return u.length||u.push([0,0]),u},TrimModifier.prototype.releasePathsData=function(e){var t,n=e.length;for(t=0;t<n;t+=1)segments_length_pool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,n,r;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=(this.s.v>1?1:this.s.v<0?0:this.s.v)+i)>(n=(this.e.v>1?1:this.e.v<0?0:this.e.v)+i)){var o=t;t=n,n=o}t=1e-4*Math.round(1e4*t),n=1e-4*Math.round(1e4*n),this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var s,a,u,c,l,h,d=this.shapes.length,f=0;if(n===t)for(s=0;s<d;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape._mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection,this._mdf&&(this.shapes[s].pathsData.length=0);else if(1===n&&0===t||0===n&&1===t){if(this._mdf)for(s=0;s<d;s+=1)this.shapes[s].pathsData.length=0,this.shapes[s].shape._mdf=!0}else{var p,_,g=[];for(s=0;s<d;s+=1)if((p=this.shapes[s]).shape._mdf||this._mdf||e||2===this.m){if(u=(r=p.shape.paths)._length,h=0,!p.shape._mdf&&p.pathsData.length)h=p.totalShapeLength;else{for(c=this.releasePathsData(p.pathsData),a=0;a<u;a+=1)l=bez.getSegmentsLength(r.shapes[a]),c.push(l),h+=l.totalLength;p.totalShapeLength=h,p.pathsData=c}f+=h,p.shape._mdf=!0}else p.shape.paths=p.localShapeCollection;var v,m=t,y=n,b=0;for(s=d-1;s>=0;s-=1)if((p=this.shapes[s]).shape._mdf){for((_=p.localShapeCollection).releaseShapes(),2===this.m&&d>1?(v=this.calculateShapeEdges(t,n,p.totalShapeLength,b,f),b+=p.totalShapeLength):v=[[m,y]],u=v.length,a=0;a<u;a+=1){m=v[a][0],y=v[a][1],g.length=0,y<=1?g.push({s:p.totalShapeLength*m,e:p.totalShapeLength*y}):m>=1?g.push({s:p.totalShapeLength*(m-1),e:p.totalShapeLength*(y-1)}):(g.push({s:p.totalShapeLength*m,e:p.totalShapeLength}),g.push({s:0,e:p.totalShapeLength*(y-1)}));var E=this.addShapes(p,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(p.shape.paths.shapes[p.shape.paths._length-1].c){var C=E.pop();this.addPaths(E,_),E=this.addShapes(p,g[1],C)}else this.addPaths(E,_),E=this.addShapes(p,g[1]);this.addPaths(E,_)}}p.shape.paths=_}}},TrimModifier.prototype.addPaths=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,n,r,i,o,s){i.setXYAt(t[0],t[1],"o",o),i.setXYAt(n[0],n[1],"i",o+1),s&&i.setXYAt(e[0],e[1],"v",o),i.setXYAt(r[0],r[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,n,r){t.setXYAt(e[1],e[5],"o",n),t.setXYAt(e[2],e[6],"i",n+1),r&&t.setXYAt(e[0],e[4],"v",n),t.setXYAt(e[3],e[7],"v",n+1)},TrimModifier.prototype.addShapes=function(e,t,n){var r,i,o,s,a,u,c,l,h=e.pathsData,d=e.shape.paths.shapes,f=e.shape.paths._length,p=0,_=[],g=!0;for(n?(a=n._length,l=n._length):(n=shape_pool.newElement(),a=0,l=0),_.push(n),r=0;r<f;r+=1){for(u=h[r].lengths,n.c=d[r].c,o=d[r].c?u.length:u.length+1,i=1;i<o;i+=1)if(p+(s=u[i-1]).addedLength<t.s)p+=s.addedLength,n.c=!1;else{if(p>t.e){n.c=!1;break}t.s<=p&&t.e>=p+s.addedLength?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[i],d[r].v[i],n,a,g),g=!1):(c=bez.getNewSegment(d[r].v[i-1],d[r].v[i],d[r].o[i-1],d[r].i[i],(t.s-p)/s.addedLength,(t.e-p)/s.addedLength,u[i-1]),this.addSegmentFromArray(c,n,a,g),g=!1,n.c=!1),p+=s.addedLength,a+=1}if(d[r].c&&u.length){if(s=u[i-1],p<=t.e){var v=u[i-1].addedLength;t.s<=p&&t.e>=p+v?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[0],d[r].v[0],n,a,g),g=!1):(c=bez.getNewSegment(d[r].v[i-1],d[r].v[0],d[r].o[i-1],d[r].i[0],(t.s-p)/v,(t.e-p)/v,u[i-1]),this.addSegmentFromArray(c,n,a,g),g=!1,n.c=!1)}else n.c=!1;p+=s.addedLength,a+=1}if(n._length&&(n.setXYAt(n.v[l][0],n.v[l][1],"i",l),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),p>t.e)break;r<f-1&&(n=shape_pool.newElement(),g=!0,_.push(n),a=0)}return _},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var n=shape_pool.newElement();n.c=e.c;var r,i,o,s,a,u,c,l,h,d,f,p,_,g=e._length,v=0;for(r=0;r<g;r+=1)o=e.i[r],(i=e.v[r])[0]===(s=e.o[r])[0]&&i[1]===s[1]&&i[0]===o[0]&&i[1]===o[1]?0!==r&&r!==g-1||e.c?(a=0===r?e.v[g-1]:e.v[r-1],c=(u=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(u/2,t)/u:0,l=p=i[0]+(a[0]-i[0])*c,h=_=i[1]-(i[1]-a[1])*c,n.setTripleAt(l,h,l-(l-i[0])*roundCorner,h-(h-i[1])*roundCorner,p,_,v),v+=1,a=r===g-1?e.v[0]:e.v[r+1],c=(u=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(u/2,t)/u:0,l=d=i[0]+(a[0]-i[0])*c,h=f=i[1]+(a[1]-i[1])*c,n.setTripleAt(l,h,d,f,p=l-(l-i[0])*roundCorner,_=h-(h-i[1])*roundCorner,v),v+=1):(n.setTripleAt(i[0],i[1],s[0],s[1],o[0],o[1],v),v+=1):(n.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],v),v+=1);return n},RoundCornersModifier.prototype.processShapes=function(e){var t,n,r,i,o,s,a=this.shapes.length,u=this.rd.v;if(0!==u)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||e)for(s.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(t[r],u));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var n=t/100,r=[0,0],i=e._length,o=0;for(o=0;o<i;o+=1)r[0]+=e.v[o][0],r[1]+=e.v[o][1];r[0]/=i,r[1]/=i;var s=shape_pool.newElement();for(s.c=e.c,o=0;o<i;o+=1)s.setTripleAt(e.v[o][0]+(r[0]-e.v[o][0])*n,e.v[o][1]+(r[1]-e.v[o][1])*n,e.o[o][0]+(r[0]-e.o[o][0])*-n,e.o[o][1]+(r[1]-e.o[o][1])*-n,e.i[o][0]+(r[0]-e.i[o][0])*-n,e.i[o][1]+(r[1]-e.i[o][1])*-n,o);return s},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,n,r,i,o,s,a=this.shapes.length,u=this.amount.v;if(0!==u)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||e)for(s.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(t[r],u));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,n,r,i,o){var s=o?-1:1,a=r.s.v[0]+(1-r.s.v[0])*(1-i),u=r.s.v[1]+(1-r.s.v[1])*(1-i);e.translate(r.p.v[0]*s*i,r.p.v[1]*s*i,r.p.v[2]),t.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),t.rotate(-r.r.v*s*i),t.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(o?1/a:a,o?1/u:u),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(e,t,n,r){for(this.elem=e,this.arr=t,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[n]);n>0;)this._elements.unshift(t[n-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,n,r,i,o;if(this._mdf||e){var s,a=Math.ceil(this.c.v);if(this._groups.length<a){for(;this._groups.length<a;){var u={it:this.cloneElements(this._elements),ty:"gr"};u.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,u),this._groups.splice(0,0,u),this._currentCopies+=1}this.elem.reloadShapes()}for(o=0,r=0;r<=this._groups.length-1;r+=1)this._groups[r]._render=s=o<a,this.changeGroupRender(this._groups[r].it,s),o+=1;this._currentCopies=a;var c=this.o.v,l=c%1,h=c>0?Math.floor(c):Math.ceil(c),d=this.pMatrix.props,f=this.rMatrix.props,p=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var _,g,v=0;if(c>0){for(;v<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),v+=1;l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,l,!1),v+=l)}else if(c<0){for(;v>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),v-=1;l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-l,!0),v-=l)}for(r=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,o=this._currentCopies;o;){if(g=(n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this.so.v+r/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==v){for((0!==r&&1===i||r!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),_=0;_<g;_+=1)n[_]=this.matrix.props[_];this.matrix.reset()}else for(this.matrix.reset(),_=0;_<g;_+=1)n[_]=this.matrix.props[_];v+=1,o-=1,r+=i}}else for(o=this._currentCopies,r=0,i=1;o;)n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,o-=1,r+=i},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shape_pool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<n;t+=1)"o"!=this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(e[4*n]-e[4*t+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,n,r,i=4*this.data.p;for(t=0;t<i;t+=1)n=t%4==0?100:255,r=Math.round(this.prop.v[t]*n),this.c[t]!==r&&(this.c[t]=r,this._cmdf=!e);if(this.o.length)for(i=this.prop.v.length,t=4*this.data.p;t<i;t+=1)n=t%2==0?100:1,r=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==r&&(this.o[t-4*this.data.p]=r,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,n,r){if(0===t)return"";var i,o=e.o,s=e.i,a=e.v,u=" M"+r.applyToPointStringified(a[0][0],a[0][1]);for(i=1;i<t;i+=1)u+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(s[i][0],s[i][1])+" "+r.applyToPointStringified(a[i][0],a[i][1]);return n&&t&&(u+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(s[0][0],s[0][1])+" "+r.applyToPointStringified(a[0][0],a[0][1]),u+="z"),u},audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,n=this.audios.length;for(t=0;t<n;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):Howl?new Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(e){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(e,t,n){var r="";if(e.e)r=e.p;else if(t){var i=e.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),r=t+i}else r=n,r+=e.u?e.u:"",r+=e.p;return r}function r(e){this._imageLoaded=t.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}return r.prototype={loadAssets:function(e,t){this.imagesLoadedCb=t;var n,r=e.length;for(n=0;n<r;n+=1)e[n].layers||(this.totalImages+=1,this.images.push(this._createImageData(e[n])))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loaded:function(){return this.totalImages===this.loadedAssets},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getImage:function(e){for(var t=0,n=this.images.length;t<n;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}},createImgData:function(t){var r=n(t,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",(function(){o.img=e,this._imageLoaded()}).bind(this),!1),i.src=r;var o={img:i,assetData:t};return o},createImageData:function(t){var r=n(t,this.assetsPath,this.path),i=createNS("image");i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",(function(){o.img=e,this._imageLoaded()}).bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",r);var o={img:i,assetData:t};return o},imageLoaded:t,setCacheType:function(e){this._createImageData="svg"===e?this.createImageData.bind(this):this.createImgData.bind(this)}},r}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),filtersFactory={createFilter:function(e){var t=createNS("filter");return t.setAttribute("id",e),t.setAttribute("filterUnits","objectBoundingBox"),t.setAttribute("x","0%"),t.setAttribute("y","0%"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}},assetLoader=function(){function e(e){return e.response&&"object"==typeof e.response?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):void 0}return{load:function(t,n,r){var i,o=new XMLHttpRequest;o.open("GET",t,!0);try{o.responseType="json"}catch(s){}o.send(),o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status)i=e(o),n(i);else try{i=e(o),n(i)}catch(s){r&&r(s)}}}}}();function TextAnimatorProperty(e,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function TextAnimatorDataProperty(e,t,n){var r={propType:!1},i=PropertyFactory.getProp,o=t.a;this.a={r:o.r?i(e,o.r,0,degToRads,n):r,rx:o.rx?i(e,o.rx,0,degToRads,n):r,ry:o.ry?i(e,o.ry,0,degToRads,n):r,sk:o.sk?i(e,o.sk,0,degToRads,n):r,sa:o.sa?i(e,o.sa,0,degToRads,n):r,s:o.s?i(e,o.s,1,.01,n):r,a:o.a?i(e,o.a,1,0,n):r,o:o.o?i(e,o.o,0,.01,n):r,p:o.p?i(e,o.p,1,0,n):r,sw:o.sw?i(e,o.sw,0,0,n):r,sc:o.sc?i(e,o.sc,1,0,n):r,fc:o.fc?i(e,o.fc,1,0,n):r,fh:o.fh?i(e,o.fh,0,0,n):r,fs:o.fs?i(e,o.fs,0,.01,n):r,fb:o.fb?i(e,o.fb,0,.01,n):r,t:o.t?i(e,o.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,n),this.s.t=t.s.t}function LetterProps(e,t,n,r,i,o){this.o=e,this.sw=t,this.sc=n,this.fc=r,this.m=i,this.p=o,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<t;e+=1)this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,this._textData.a[e],this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,i,o,s,a,u,c,l,h,d,f,p,_,g,v,m,y,b=this._moreOptions.alignment.v,E=this._animatorsData,C=this._textData,O=this.mHelper,S=this._renderType,T=this.renderedLetters.length,w=e.l;if(this._hasMaskedPath){if(y=this._pathData.m,!this._pathData.n||this._pathData._mdf){var D,P=y.v;for(this._pathData.r&&(P=P.reverse()),s={tLength:0,segments:[]},o=P._length-1,v=0,i=0;i<o;i+=1)D=bez.buildBezierData(P.v[i],P.v[i+1],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[i+1][0]-P.v[i+1][0],P.i[i+1][1]-P.v[i+1][1]]),s.tLength+=D.segmentLength,s.segments.push(D),v+=D.segmentLength;i=o,y.v.c&&(D=bez.buildBezierData(P.v[i],P.v[0],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),s.tLength+=D.segmentLength,s.segments.push(D),v+=D.segmentLength),this._pathData.pi=s}if(d=0,h=1,c=0,l=!0,_=(s=this._pathData.pi).segments,(a=this._pathData.f.v)<0&&y.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),h=(p=_[d=_.length-1].points).length-1;a<0;)a+=p[h].partialLength,(h-=1)<0&&(h=(p=_[d-=1].points).length-1);f=(p=_[d].points)[h-1],g=(u=p[h]).partialLength}o=w.length,n=0,r=0;var k,A,I,M,R=1.2*e.finalSize*.714,x=!0;I=E.length;var L,j,N,U,B,F,q,V,W,G,K,z,H,$=-1,Q=a,Y=d,X=h,Z=-1,J="",ee=this.defaultPropsArray;if(2===e.j||1===e.j){var te=0,ne=0,re=2===e.j?-.5:-1,ie=0,oe=!0;for(i=0;i<o;i+=1)if(w[i].n){for(te&&(te+=ne);ie<i;)w[ie].animatorJustifyOffset=te,ie+=1;te=0,oe=!0}else{for(A=0;A<I;A+=1)(k=E[A].a).t.propType&&(oe&&2===e.j&&(ne+=k.t.v*re),te+=(L=E[A].s.getMult(w[i].anIndexes[A],C.a[A].s.totalChars)).length?k.t.v*L[0]*re:k.t.v*L*re);oe=!1}for(te&&(te+=ne);ie<i;)w[ie].animatorJustifyOffset=te,ie+=1}for(i=0;i<o;i+=1){if(O.reset(),B=1,w[i].n)n=0,r+=e.yOffset,r+=x?1:0,a=Q,x=!1,this._hasMaskedPath&&(f=(p=_[d=Y].points)[(h=X)-1],g=(u=p[h]).partialLength,c=0),H=G=z=J="",ee=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==w[i].line){switch(e.j){case 1:a+=v-e.lineWidths[w[i].line];break;case 2:a+=(v-e.lineWidths[w[i].line])/2}Z=w[i].line}$!==w[i].ind&&(w[$]&&(a+=w[$].extra),a+=w[i].an/2,$=w[i].ind),a+=b[0]*w[i].an/200;var se=0;for(A=0;A<I;A+=1)(k=E[A].a).p.propType&&(se+=(L=E[A].s.getMult(w[i].anIndexes[A],C.a[A].s.totalChars)).length?k.p.v[0]*L[0]:k.p.v[0]*L),k.a.propType&&(se+=(L=E[A].s.getMult(w[i].anIndexes[A],C.a[A].s.totalChars)).length?k.a.v[0]*L[0]:k.a.v[0]*L);for(l=!0;l;)c+g>=a+se||!p?(N=f.point[0]+(u.point[0]-f.point[0])*(m=(a+se-c)/u.partialLength),U=f.point[1]+(u.point[1]-f.point[1])*m,O.translate(-b[0]*w[i].an/200,-b[1]*R/100),l=!1):p&&(c+=u.partialLength,(h+=1)>=p.length&&(h=0,_[d+=1]?p=_[d].points:y.v.c?(h=0,p=_[d=0].points):(c-=u.partialLength,p=null)),p&&(f=u,g=(u=p[h]).partialLength));O.translate(-(j=w[i].an/2-w[i].add),0,0)}else O.translate(-(j=w[i].an/2-w[i].add),0,0),O.translate(-b[0]*w[i].an/200,-b[1]*R/100,0);for(A=0;A<I;A+=1)(k=E[A].a).t.propType&&(L=E[A].s.getMult(w[i].anIndexes[A],C.a[A].s.totalChars),0===n&&0===e.j||(this._hasMaskedPath?a+=L.length?k.t.v*L[0]:k.t.v*L:n+=L.length?k.t.v*L[0]:k.t.v*L));for(e.strokeWidthAnim&&(q=e.sw||0),e.strokeColorAnim&&(F=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(V=[e.fc[0],e.fc[1],e.fc[2]]),A=0;A<I;A+=1)(k=E[A].a).a.propType&&((L=E[A].s.getMult(w[i].anIndexes[A],C.a[A].s.totalChars)).length?O.translate(-k.a.v[0]*L[0],-k.a.v[1]*L[1],k.a.v[2]*L[2]):O.translate(-k.a.v[0]*L,-k.a.v[1]*L,k.a.v[2]*L));for(A=0;A<I;A+=1)(k=E[A].a).s.propType&&((L=E[A].s.getMult(w[i].anIndexes[A],C.a[A].s.totalChars)).length?O.scale(1+(k.s.v[0]-1)*L[0],1+(k.s.v[1]-1)*L[1],1):O.scale(1+(k.s.v[0]-1)*L,1+(k.s.v[1]-1)*L,1));for(A=0;A<I;A+=1){if(k=E[A].a,L=E[A].s.getMult(w[i].anIndexes[A],C.a[A].s.totalChars),k.sk.propType&&(L.length?O.skewFromAxis(-k.sk.v*L[0],k.sa.v*L[1]):O.skewFromAxis(-k.sk.v*L,k.sa.v*L)),k.r.propType&&O.rotateZ(L.length?-k.r.v*L[2]:-k.r.v*L),k.ry.propType&&O.rotateY(L.length?k.ry.v*L[1]:k.ry.v*L),k.rx.propType&&O.rotateX(L.length?k.rx.v*L[0]:k.rx.v*L),k.o.propType&&(B+=L.length?(k.o.v*L[0]-B)*L[0]:(k.o.v*L-B)*L),e.strokeWidthAnim&&k.sw.propType&&(q+=L.length?k.sw.v*L[0]:k.sw.v*L),e.strokeColorAnim&&k.sc.propType)for(W=0;W<3;W+=1)F[W]=L.length?F[W]+(k.sc.v[W]-F[W])*L[0]:F[W]+(k.sc.v[W]-F[W])*L;if(e.fillColorAnim&&e.fc){if(k.fc.propType)for(W=0;W<3;W+=1)V[W]=L.length?V[W]+(k.fc.v[W]-V[W])*L[0]:V[W]+(k.fc.v[W]-V[W])*L;k.fh.propType&&(V=addHueToRGB(V,L.length?k.fh.v*L[0]:k.fh.v*L)),k.fs.propType&&(V=addSaturationToRGB(V,L.length?k.fs.v*L[0]:k.fs.v*L)),k.fb.propType&&(V=addBrightnessToRGB(V,L.length?k.fb.v*L[0]:k.fb.v*L))}}for(A=0;A<I;A+=1)(k=E[A].a).p.propType&&(L=E[A].s.getMult(w[i].anIndexes[A],C.a[A].s.totalChars),this._hasMaskedPath?L.length?O.translate(0,k.p.v[1]*L[0],-k.p.v[2]*L[1]):O.translate(0,k.p.v[1]*L,-k.p.v[2]*L):L.length?O.translate(k.p.v[0]*L[0],k.p.v[1]*L[1],-k.p.v[2]*L[2]):O.translate(k.p.v[0]*L,k.p.v[1]*L,-k.p.v[2]*L));if(e.strokeWidthAnim&&(G=q<0?0:q),e.strokeColorAnim&&(K="rgb("+Math.round(255*F[0])+","+Math.round(255*F[1])+","+Math.round(255*F[2])+")"),e.fillColorAnim&&e.fc&&(z="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),this._hasMaskedPath){if(O.translate(0,-e.ls),O.translate(0,b[1]*R/100+r,0),C.p.p){var ae=180*Math.atan((u.point[1]-f.point[1])/(u.point[0]-f.point[0]))/Math.PI;u.point[0]<f.point[0]&&(ae+=180),O.rotate(-ae*Math.PI/180)}O.translate(N,U,0),a-=b[0]*w[i].an/200,w[i+1]&&$!==w[i+1].ind&&(a+=w[i].an/2,a+=e.tr/1e3*e.finalSize)}else{switch(O.translate(n,r,0),e.ps&&O.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:O.translate(w[i].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[w[i].line]),0,0);break;case 2:O.translate(w[i].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[w[i].line])/2,0,0)}O.translate(0,-e.ls),O.translate(j,0,0),O.translate(b[0]*w[i].an/200,b[1]*R/100,0),n+=w[i].l+e.tr/1e3*e.finalSize}"html"===S?J=O.toCSS():"svg"===S?J=O.to2dCSS():ee=[O.props[0],O.props[1],O.props[2],O.props[3],O.props[4],O.props[5],O.props[6],O.props[7],O.props[8],O.props[9],O.props[10],O.props[11],O.props[12],O.props[13],O.props[14],O.props[15]],H=B}T<=i?(M=new LetterProps(H,G,K,z,J,ee),this.renderedLetters.push(M),T+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(M=this.renderedLetters[i]).update(H,G,K,z,J,ee)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,n,r,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,s=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,s=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,s=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,s=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var r,i=this.effectsSequence.length,o=e||this.data.d.k[this.keysIndex].s;for(r=0;r<i;r+=1)o=this.effectsSequence[r](n!==this.keysIndex?o:this.currentData,o.t);t!==o&&this.setCurrentData(o),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,r=e.length;n<=r-1&&!(n===r-1||e[n+1].t>t);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,n=FontManager.getCombinedCharacterCodes(),r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i),-1!==n.indexOf(t)?r[r.length-1]+=e.charAt(i):t>=55296&&t<=56319&&(t=e.charCodeAt(i+1))>=56320&&t<=57343?(r.push(e.substr(i,2)),++i):r.push(e.charAt(i)),i+=1;return r},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,n,r,i,o,s,a,u=this.elem.globalData.fontManager,c=this.data,l=[],h=0,d=c.m.g,f=0,p=0,_=0,g=[],v=0,m=0,y=u.getFontByName(e.f),b=0,E=y.fStyle?y.fStyle.split(" "):[],C="normal",O="normal";for(n=E.length,t=0;t<n;t+=1)switch(E[t].toLowerCase()){case"italic":O="italic";break;case"bold":C="700";break;case"black":C="900";break;case"medium":C="500";break;case"regular":case"normal":C="400";break;case"light":case"thin":C="200"}e.fWeight=y.fWeight||C,e.fStyle=O,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var S,T=e.tr/1e3*e.finalSize;if(e.sz)for(var w,D,P=!0,k=e.sz[0],A=e.sz[1];P;){w=0,v=0,n=(D=this.buildFinalText(e.t)).length,T=e.tr/1e3*e.finalSize;var I=-1;for(t=0;t<n;t+=1)S=D[t].charCodeAt(0),r=!1," "===D[t]?I=t:13!==S&&3!==S||(v=0,r=!0,w+=e.finalLineHeight||1.2*e.finalSize),u.chars?(a=u.getCharData(D[t],y.fStyle,y.fFamily),b=r?0:a.w*e.finalSize/100):b=u.measureText(D[t],e.f,e.finalSize),v+b>k&&" "!==D[t]?(-1===I?n+=1:t=I,w+=e.finalLineHeight||1.2*e.finalSize,D.splice(t,I===t?1:0,"\r"),I=-1,v=0):(v+=b,v+=T);w+=y.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&A<w?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=D,n=e.finalText.length,P=!1)}v=-T,b=0;var M,R=0;for(t=0;t<n;t+=1)if(r=!1,13===(S=(M=e.finalText[t]).charCodeAt(0))||3===S?(R=0,g.push(v),m=v>m?v:m,v=-2*T,i="",r=!0,_+=1):i=M,u.chars?(a=u.getCharData(M,y.fStyle,u.getFontByName(e.f).fFamily),b=r?0:a.w*e.finalSize/100):b=u.measureText(i,e.f,e.finalSize)," "===M?R+=b+T:(v+=b+T+R,R=0),l.push({l:b,an:b,add:f,n:r,anIndexes:[],val:i,line:_,animatorJustifyOffset:0}),2==d){if(f+=b,""===i||" "===i||t===n-1){for(""!==i&&" "!==i||(f-=b);p<=t;)l[p].an=f,l[p].ind=h,l[p].extra=b,p+=1;h+=1,f=0}}else if(3==d){if(f+=b,""===i||t===n-1){for(""===i&&(f-=b);p<=t;)l[p].an=f,l[p].ind=h,l[p].extra=b,p+=1;f=0,h+=1}}else l[h].ind=h,l[h].extra=0,h+=1;if(e.l=l,m=v>m?v:m,g.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=m,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var x,L,j=c.a;s=j.length;var N,U,B=[];for(o=0;o<s;o+=1){for((x=j[o]).a.sc&&(e.strokeColorAnim=!0),x.a.sw&&(e.strokeWidthAnim=!0),(x.a.fc||x.a.fh||x.a.fs||x.a.fb)&&(e.fillColorAnim=!0),U=0,N=x.s.b,t=0;t<n;t+=1)(L=l[t]).anIndexes[o]=U,(1==N&&""!==L.val||2==N&&""!==L.val&&" "!==L.val||3==N&&(L.n||" "==L.val||t==n-1)||4==N&&(L.n||t==n-1))&&(1===x.s.rn&&B.push(U),U+=1);c.a[o].s.totalChars=U;var F,q=-1;if(1===x.s.rn)for(t=0;t<n;t+=1)q!=(L=l[t]).anIndexes[o]&&(q=L.anIndexes[o],F=B.splice(Math.floor(Math.random()*B.length),1)[0]),L.anIndexes[o]=F}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=y.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){var n=this.copyData({},this.data.d.k[t=void 0===t?this.keysIndex:t].s);n=this.copyData(n,e),this.data.d.k[t].s=n,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,n=Math.floor;function r(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,o=0,s=1,a=1;this.ne.v>0?i=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var u=BezierFactory.getBezierEasing(i,o,s,a).get,c=0,l=this.finalS,h=this.finalE,d=this.data.sh;if(2===d)c=u(c=h===l?r>=h?1:0:e(0,t(.5/(h-l)+(r-l)/(h-l),1)));else if(3===d)c=u(c=h===l?r>=h?0:1:1-e(0,t(.5/(h-l)+(r-l)/(h-l),1)));else if(4===d)h===l?c=0:(c=e(0,t(.5/(h-l)+(r-l)/(h-l),1)))<.5?c*=2:c=1-2*(c-.5),c=u(c);else if(5===d){if(h===l)c=0;else{var f=h-l,p=-f/2+(r=t(e(0,r+.5-l),h-l)),_=f/2;c=Math.sqrt(1-p*p/(_*_))}c=u(c)}else 6===d?(h===l?c=0:(r=t(e(0,r+.5-l),h-l),c=(1+Math.cos(Math.PI+2*Math.PI*r/(h-l)))/2),c=u(c)):(r>=n(l)&&(c=e(0,t(r-l<0?t(h,1)-(l-r):h-r,1))),c=u(c));return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/t,r=this.s.v/t+n,i=this.e.v/t+n;if(r>i){var o=r;r=i,i=o}this.finalS=r,this.finalE=i}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(e,t,n){return new r(e,t,n)}}}(),pool_factory=function(e,t,n,r){var i=0,o=e,s=createSizedArray(o);return{newElement:function(){return i?s[i-=1]:t()},release:function(e){i===o&&(s=pooling.double(s),o*=2),n&&n(e),s[i]=e,i+=1}}},pooling={double:function(e){return e.concat(createSizedArray(e.length))}},point_pool=pool_factory(8,function(){return createTypedArray("float32",2)}),shape_pool=(factory=pool_factory(4,function(){return new ShapePath},function(e){var t,n=e._length;for(t=0;t<n;t+=1)point_pool.release(e.v[t]),point_pool.release(e.i[t]),point_pool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1}),factory.clone=function(e){var t,n=factory.newElement(),r=void 0===e._length?e.v.length:e._length;for(n.setLength(r),n.c=e.c,t=0;t<r;t+=1)n.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return n},factory),factory,shapeCollection_pool=function(){var e={newShapeCollection:function(){return t?r[t-=1]:new ShapeCollection},release:function(e){var i,o=e._length;for(i=0;i<o;i+=1)shape_pool.release(e.shapes[i]);e._length=0,t===n&&(r=pooling.double(r),n*=2),r[t]=e,t+=1}},t=0,n=4,r=createSizedArray(n);return e}(),segments_length_pool=pool_factory(8,function(){return{lengths:[],totalLength:0}},function(e){var t,n=e.lengths.length;for(t=0;t<n;t+=1)bezier_length_pool.release(e.lengths[t]);e.lengths.length=0}),bezier_length_pool=pool_factory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}});function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(t&&t.title){var r=createNS("title"),i=createElementID();r.setAttribute("id",i),r.textContent=t.title,this.svgElement.appendChild(r),n+=i}if(t&&t.description){var o=createNS("desc"),s=createElementID();o.setAttribute("id",s),o.textContent=t.description,this.svgElement.appendChild(o),n+=" "+s}n&&this.svgElement.setAttribute("aria-labelledby",n);var a=createNS("defs");this.svgElement.appendChild(a);var u=createNS("g");this.svgElement.appendChild(u),this.layerElement=u,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!t||!1!==t.hideOnTransparent,viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!t||!1!==t.hideOnTransparent,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(e,t,n){this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,i=this.globalData.defs,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var s,a,u,c,l,h,d,f=this.masksProperties,p=0,_=[],g=createElementID(),v="clipPath",m="clip-path";for(r=0;r<o;r++)if(("a"!==f[r].mode&&"n"!==f[r].mode||f[r].inv||100!==f[r].o.k||f[r].o.x)&&(v="mask",m="mask"),"s"!=f[r].mode&&"i"!=f[r].mode||0!==p?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),_.push(c)),s=createNS("path"),"n"!=f[r].mode){var y;if(p+=1,s.setAttribute("fill","s"===f[r].mode?"#000000":"#ffffff"),s.setAttribute("clip-rule","nonzero"),0!==f[r].x.k?(v="mask",m="mask",d=PropertyFactory.getProp(this.element,f[r].x,0,null,this.element),y=createElementID(),(l=createNS("filter")).setAttribute("id",y),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),l.appendChild(h),i.appendChild(l),s.setAttribute("stroke","s"===f[r].mode?"#000000":"#ffffff")):(h=null,d=null),this.storedData[r]={elem:s,x:d,expan:h,lastPath:"",lastOperator:"",filterId:y,lastRadius:0},"i"==f[r].mode){u=_.length;var b=createNS("g");for(a=0;a<u;a+=1)b.appendChild(_[a]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",g+"_"+p),E.appendChild(s),i.appendChild(E),b.setAttribute("mask","url("+locationHref+"#"+g+"_"+p+")"),_.length=0,_.push(b)}else _.push(s);f[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:s,lastPath:"",op:PropertyFactory.getProp(this.element,f[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[r],3),invRect:c},this.viewData[r].prop.k||this.drawPath(f[r],this.viewData[r].prop.v,this.viewData[r])}else this.viewData[r]={op:PropertyFactory.getProp(this.element,f[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[r],3),elem:s,lastPath:""},i.appendChild(s);for(this.maskElement=createNS(v),o=_.length,r=0;r<o;r+=1)this.maskElement.appendChild(_[r]);p>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(m,"url("+locationHref+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,n){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var r=0,i=e.length;r<i;){if(e[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGTransformData(e,t,n){this.transform={mProps:e,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n}function SVGGradientFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,n)}function SVGGradientStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(e){var t,n,r=this.layers.length;for(this.completeLayers=!0,t=r-1;t>=0;t--)this.elements[t]||(n=this.layers[t]).ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e)}return this.createNull(e)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,n,r=e.length,i=this.layers.length;for(t=0;t<r;t+=1)for(n=0;n<i;){if(this.layers[n].id==e[t].id){this.layers[n]=e[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,n){for(var r=this.elements,i=this.layers,o=0,s=i.length;o<s;)i[o].ind==t&&(r[o]&&!0!==r[o]?(n.push(r[o]),r[o].setAsParent(),void 0!==i[o].parent?this.buildElementParenting(e,i[o].parent,n):e.setHierarchy(n)):(this.buildItem(o),this.addPendingElement(e))),o+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(t=0;t<n;t+=1)if(e[t].xt){var r=this.createComp(e[t]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.setAttribute("x",0),r.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+i+")"),t.appendChild(n),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerText="",this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){t[e]=!0;var n=this.createItem(this.layers[e]);t[e]=n,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?n.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(n)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;t>=0;t--)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var r,i=0;i<t;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var n=this.contextData.cTr.props;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRenderer.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n,r=this.contextData.saved[this.contextData.cArrPos];for(n=0;n<16;n+=1)r[n]=t[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,n=this.contextData.saved[this.contextData.cArrPos],r=this.contextData.cTr.props;for(t=0;t<16;t+=1)r[t]=n[t];this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),this.contextData.cO=n=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==n&&(this.canvasContext.globalAlpha=n,this.globalData.currentGlobalAlpha=n)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,n,r;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(e=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),o=i[1]||"meet",s=i[0]||"xMidYMid",a=s.substr(0,4),u=s.substr(4);(r=this.transformCanvas.w/this.transformCanvas.h)>(n=e/t)&&"meet"===o||r<n&&"slice"===o?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===a&&(r<n&&"meet"===o||r>n&&"slice"===o)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===a&&(r<n&&"meet"===o||r>n&&"slice"===o)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===u&&(r>n&&"meet"===o||r<n&&"slice"===o)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===u&&(r>n&&"meet"===o||r<n&&"slice"===o)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var n,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),n=0;n<r;n++)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(e-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){var n=this.createItem(this.layers[e],this,this.globalData);t[e]=n,n.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){var r=this.layers[t];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,t);else if(this.threeDElements)this.addTo3dContainer(n,t);else{for(var i,o,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(o=this.elements[s],i=(this.layers[s].ddd?this.getThreeDContainerByPos(s):o.getBaseElement())||i),s+=1;i?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,i):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextElement(e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,n=this.threeDElements.length;t<n;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}},HybridRenderer.prototype.createThreeDContainer=function(e,t){var n=createTag("div");styleDiv(n);var r=createTag("div");styleDiv(r),"3d"===t&&(n.style.width=this.globalData.compSize.w+"px",n.style.height=this.globalData.compSize.h+"px",n.style.transformOrigin=n.style.mozTransformOrigin=n.style.webkitTransformOrigin="50% 50%",r.style.transform=r.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),n.appendChild(r);var i={container:r,perspectiveElem:n,startPos:e,endPos:e,type:t};return this.threeDElements.push(i),i},HybridRenderer.prototype.build3dContainers=function(){var e,t,n=this.layers.length,r="";for(e=0;e<n;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==r&&(r="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==r&&(r="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(n=this.threeDElements.length)-1;e>=0;e--)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var n=0,r=this.threeDElements.length;n<r;){if(t<=this.threeDElements[n].endPos){for(var i,o=this.threeDElements[n].startPos;o<t;)this.elements[o]&&this.elements[o].getBaseElement&&(i=this.elements[o].getBaseElement()),o+=1;i?this.threeDElements[n].container.insertBefore(e,i):this.threeDElements[n].container.appendChild(e);break}n+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=createTag("div"),n=this.animationItem.wrapper;t.style.width=e.w+"px",t.style.height=e.h+"px",this.resizerElem=t,styleDiv(t),t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),n.appendChild(t),t.style.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var i=createNS("defs");r.appendChild(i),this.data=e,this.setupGlobalData(e,r),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerText="",this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,n,r,i=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>i/o?(e=i/this.globalData.compSize.w,t=i/this.globalData.compSize.w,n=0,r=(o-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(e=o/this.globalData.compSize.h,t=o/this.globalData.compSize.h,n=(i-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,r=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+n+","+r+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(e=0;e<r;e+=1)this.threeDElements[e].perspectiveElem.style.perspective=this.threeDElements[e].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length,r=createTag("div");for(t=0;t<n;t+=1)if(e[t].xt){var i=this.createComp(e[t],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(t=0;t<r;t++)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var i=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),i.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,n){var r,i,o=" M"+t.v[0][0]+","+t.v[0][1];for(i=t._length,r=1;r<i;r+=1)o+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[r][0]+","+t.i[r][1]+" "+t.v[r][0]+","+t.v[r][1];if(t.c&&i>1&&(o+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==o){var s="";n.elem&&(t.c&&(s=e.inv?this.solidPath+o:o),n.elem.setAttribute("d",s)),n.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(t||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t.cloneFromProps(e=this.finalTransform.mProp.v.props),n=0;n<r;n+=1)t.transform((e=this.hierarchy[n].finalTransform.mProp.v.props)[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var n=!0,r=this.comp;n;)r.finalTransform?(r.data.hasMask&&t.splice(0,0,r.finalTransform),r=r.comp):n=!1;var i,o,s=t.length;for(i=0;i<s;i+=1)o=t[i].mat.applyToPointArray(0,0,0),e=[e[0]-o[0],e[1]-o[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,n){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var n=createElementID(),r=createNS(1===t.t?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var i,o,s,a=[];for(s=4*t.g.p,o=0;o<s;o+=4)i=createNS("stop"),r.appendChild(i),a.push(i);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+n+")"),this.gf=r,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,i,o=createNS("mask"),s=createNS("path");o.appendChild(s);var a=createElementID(),u=createElementID();o.setAttribute("id",u);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),i=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var l=this.stops;for(r=4*e.g.p;r<i;r+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),l.push(n);s.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+a+")"),this.of=c,this.ms=o,this.ost=l,this.maskId=u,t.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function n(e,t,n){(n||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(n||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function r(n,r,i){var o,s,a,u,c,l,h,d,f,p,_,g=r.styles.length,v=r.lvl;for(l=0;l<g;l+=1){if(u=r.sh._mdf||i,r.styles[l].lvl<v){for(d=t.reset(),p=v-r.styles[l].lvl,_=r.transformers.length-1;!u&&p>0;)u=r.transformers[_].mProps._mdf||u,p--,_--;if(u)for(p=v-r.styles[l].lvl,_=r.transformers.length-1;p>0;)d.transform((f=r.transformers[_].mProps.v.props)[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),p--,_--}else d=e;if(s=(h=r.sh.paths)._length,u){for(a="",o=0;o<s;o+=1)(c=h.shapes[o])&&c._length&&(a+=buildShapeString(c,c._length,c.c,d));r.caches[l]=a}else a=r.caches[l];r.styles[l].d+=!0===n.hd?"":a,r.styles[l]._mdf=u||r.styles[l]._mdf}}function i(e,t,n){var r=t.style;(t.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",t.o.v)}function o(e,t,n){s(e,t,n),a(0,t,n)}function s(e,t,n){var r,i,o,s,a,u=t.gf,c=t.g._hasOpacity,l=t.s.v,h=t.e.v;if((t.o._mdf||n)&&t.style.pElem.setAttribute("gf"===e.ty?"fill-opacity":"stroke-opacity",t.o.v),t.s._mdf||n){var d=1===e.t?"x1":"cx",f="x1"===d?"y1":"cy";u.setAttribute(d,l[0]),u.setAttribute(f,l[1]),c&&!t.g._collapsable&&(t.of.setAttribute(d,l[0]),t.of.setAttribute(f,l[1]))}if(t.g._cmdf||n){var p=t.g.c;for(o=(r=t.cst).length,i=0;i<o;i+=1)(s=r[i]).setAttribute("offset",p[4*i]+"%"),s.setAttribute("stop-color","rgb("+p[4*i+1]+","+p[4*i+2]+","+p[4*i+3]+")")}if(c&&(t.g._omdf||n)){var _=t.g.o;for(o=(r=t.g._collapsable?t.cst:t.ost).length,i=0;i<o;i+=1)s=r[i],t.g._collapsable||s.setAttribute("offset",_[2*i]+"%"),s.setAttribute("stop-opacity",_[2*i+1])}if(1===e.t)(t.e._mdf||n)&&(u.setAttribute("x2",h[0]),u.setAttribute("y2",h[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",h[0]),t.of.setAttribute("y2",h[1])));else if((t.s._mdf||t.e._mdf||n)&&(a=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)),u.setAttribute("r",a),c&&!t.g._collapsable&&t.of.setAttribute("r",a)),t.e._mdf||t.h._mdf||t.a._mdf||n){a||(a=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)));var g=Math.atan2(h[1]-l[1],h[0]-l[0]),v=a*(t.h.v>=1?.99:t.h.v<=-1?-.99:t.h.v),m=Math.cos(g+t.a.v)*v+l[0],y=Math.sin(g+t.a.v)*v+l[1];u.setAttribute("fx",m),u.setAttribute("fy",y),c&&!t.g._collapsable&&(t.of.setAttribute("fx",m),t.of.setAttribute("fy",y))}}function a(e,t,n){var r=t.style,i=t.d;i&&(i._mdf||n)&&i.dashStr&&(r.pElem.setAttribute("stroke-dasharray",i.dashStr),r.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),t.c&&(t.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",t.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return s;case"gs":return o;case"st":return a;case"sh":case"el":case"rc":case"sr":return r;case"tr":return n}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(e,t,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;"rc"==t.ty?i=5:"el"==t.ty?i=6:"sr"==t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var o,s,a=n.length;for(o=0;o<a;o+=1)n[o].closed||(s={transforms:r.addTransformSequence(n[o].transforms),trNodes:[]},this.styledShapes.push(s),n[o].elements.push(s))}function BaseElement(){}function NullElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initFrame(),this.initTransform(e,t,n),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,n){this.initElement(e,t,n)}function AudioElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGCompElement(e,t,n){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextElement(e,t,n){this.textSpans=[],this.renderType="svg",this.initElement(e,t,n)}function SVGShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,n),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");if(n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),e.appendChild(n),(n=createNS("feColorMatrix")).setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result","f2"),e.appendChild(n),this.matrixFilter=n,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var r,i=createNS("feMerge");e.appendChild(i),(r=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),i.appendChild(r),(r=createNS("feMergeNode")).setAttribute("in","f2"),i.appendChild(r)}}function SVGFillFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(n),this.matrixFilter=n}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var n=createNS("feGaussianBlur");e.appendChild(n),this.feGaussianBlur=n}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),e.appendChild(n);var r=createNS("feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),this.matrixFilter=r;var i=createNS("feFuncR");i.setAttribute("type","table"),r.appendChild(i),this.feFuncR=i;var o=createNS("feFuncG");o.setAttribute("type","table"),r.appendChild(o),this.feFuncG=o;var s=createNS("feFuncB");s.setAttribute("type","table"),r.appendChild(s),this.feFuncB=s}function SVGProLevelsFilter(e,t){this.filterManager=t;var n=this.filterManager.effectElements,r=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),r=createNS("feComponentTransfer")),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function SVGDropShadowEffect(e,t){var n=t.container.globalData.renderConfig.filterSize;e.setAttribute("x",n.x),e.setAttribute("y",n.y),e.setAttribute("width",n.width),e.setAttribute("height",n.height),this.filterManager=t;var r=createNS("feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,e.appendChild(r);var i=createNS("feOffset");i.setAttribute("dx","25"),i.setAttribute("dy","0"),i.setAttribute("in","drop_shadow_1"),i.setAttribute("result","drop_shadow_2"),this.feOffset=i,e.appendChild(i);var o=createNS("feFlood");o.setAttribute("flood-color","#00ff00"),o.setAttribute("flood-opacity","1"),o.setAttribute("result","drop_shadow_3"),this.feFlood=o,e.appendChild(o);var s=createNS("feComposite");s.setAttribute("in","drop_shadow_3"),s.setAttribute("in2","drop_shadow_2"),s.setAttribute("operator","in"),s.setAttribute("result","drop_shadow_4"),e.appendChild(s);var a,u=createNS("feMerge");e.appendChild(u),a=createNS("feMergeNode"),u.appendChild(a),(a=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=u,this.originalNodeAdded=!1,u.appendChild(a)}ShapeTransformManager.prototype={addTransformSequence:function(e){var t,n=e.length,r="_";for(t=0;t<n;t+=1)r+=e[t].transform.key+"_";var i=this.sequences[r];return i||(i={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=i,this.sequenceList.push(i)),i},processSequence:function(e,t){for(var n,r=0,i=e.transforms.length,o=t;r<i&&!t;){if(e.transforms[r].transform.mProps._mdf){o=!0;break}r+=1}if(o)for(e.finalTransform.reset(),r=i-1;r>=0;r-=1)e.finalTransform.transform((n=e.transforms[r].transform.mProps.v.props)[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);e._mdf=o},processSequences:function(e){var t,n=this.sequenceList.length;for(t=0;t<n;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,n){this.globalData=t,this.comp=n,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,n,r=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var i=createNS("mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),i.appendChild(this.layerElement),r=i,this.globalData.defs.appendChild(i),featureSupport.maskType||1!=this.data.td||(i.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(this.layerElement),r=n,i.appendChild(n),n.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(2==this.data.td){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var s=createNS("g");o.appendChild(s),e=createElementID(),t=filtersFactory.createFilter(e);var a=createNS("feComponentTransfer");a.setAttribute("in","SourceGraphic"),t.appendChild(a);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),a.appendChild(u),this.globalData.defs.appendChild(t);var c=createNS("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),s.setAttribute("filter","url("+locationHref+"#"+e+")"),s.appendChild(c),s.appendChild(this.layerElement),r=s,featureSupport.maskType||(o.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),s.appendChild(c),n.appendChild(this.layerElement),r=n,s.appendChild(n)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var l=createNS("clipPath"),h=createNS("path");h.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(l.setAttribute("id",d),l.appendChild(h),this.globalData.defs.appendChild(l),this.checkMasks()){var f=createNS("g");f.setAttribute("clip-path","url("+locationHref+"#"+d+")"),f.appendChild(this.layerElement),this.transformedElement=f,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){var t,n=this.shapeModifiers.length;for(t=0;t<n;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0;e-=1)this.shapeModifiers[e].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(e){for(var t=this.processedElements,n=0,r=t.length;n<r;){if(t[n].elem===e)return t[n].pos;n+=1}return 0},addProcessedElement:function(e,t){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===e)return void(n[r].pos=t);n.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,n),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var n,r,i=t.length,o="";for(n=0;n<i;n+=1)o+=buildShapeString(r=t[n].ks.k,r.i.length,!0,e);return o},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,n,r,i){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0)}t.translate(r,i,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},AudioElement.prototype.prepareFrame=function(e){this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this._currentTime=this.tm._placeholder?e/this.data.sr:this.tm.v},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this.audio.volume(e)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(e){for(var t=0,n=e.length,r=[],i="";t<n;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(r.push(i),i=""):i+=e[t],t+=1;return r.push(i),r},SVGTextElement.prototype.buildNewText=function(){var e,t,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),this.layerElement.setAttribute("fill",n.fc?this.buildColor(n.fc):"rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=n.fWeight;this.layerElement.setAttribute("font-style",n.fStyle),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var o,s=n.l||[],a=!!this.globalData.fontManager.chars;t=s.length;var u,c=this.mHelper,l="",h=this.data.singleShape,d=0,f=0,p=!0,_=n.tr/1e3*n.finalSize;if(!h||a||n.sz){var g,v,m=this.textSpans.length;for(e=0;e<t;e+=1)a&&h&&0!==e||(o=m>e?this.textSpans[e]:createNS(a?"path":"text"),m<=e&&(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=o,this.layerElement.appendChild(o)),o.style.display="inherit"),c.reset(),c.scale(n.finalSize/100,n.finalSize/100),h&&(s[e].n&&(d=-_,f+=n.yOffset,f+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(n,c,s[e].line,d,f),d+=s[e].l||0,d+=_),a?(u=(g=(v=this.globalData.fontManager.getCharData(n.finalText[e],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily))&&v.data||{}).shapes?g.shapes[0].it:[],h?l+=this.createPathShape(c,u):o.setAttribute("d",this.createPathShape(c,u))):(h&&o.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),o.textContent=s[e].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));h&&o&&o.setAttribute("d",l)}else{var y=this.textContainer,b="start";switch(n.j){case 1:b="end";break;case 2:b="middle"}y.setAttribute("text-anchor",b),y.setAttribute("letter-spacing",_);var E=this.buildTextContents(n.finalText);for(t=E.length,f=n.ps?n.ps[1]+n.ascent:0,e=0;e<t;e+=1)(o=this.textSpans[e]||createNS("tspan")).textContent=E[e],o.setAttribute("x",0),o.setAttribute("y",f),o.style.display="inherit",y.appendChild(o),this.textSpans[e]=o,f+=n.finalLineHeight;this.layerElement.appendChild(y)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(e){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var n,r,i=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(t=o.length,e=0;e<t;e+=1)o[e].n||(r=this.textSpans[e],(n=i[e])._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,n,r,i=this.shapes.length,o=this.stylesList.length,s=[],a=!1;for(n=0;n<o;n+=1){for(r=this.stylesList[n],a=!1,s.length=0,e=0;e<i;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(r)&&(s.push(t),a=t._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var n,r=new SVGStyleData(e,t),i=r.pElem;return"st"===e.ty?n=new SVGStrokeStyleData(this,e,r):"fl"===e.ty?n=new SVGFillStyleData(this,e,r):"gf"!==e.ty&&"gs"!==e.ty||(n=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+locationHref+"#"+n.maskId+")"))),"st"!==e.ty&&"gs"!==e.ty||(i.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),i.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),i.setAttribute("fill-opacity","0"),1===e.lj&&i.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&i.setAttribute("fill-rule","evenodd"),e.ln&&i.setAttribute("id",e.ln),e.cl&&i.setAttribute("class",e.cl),e.bm&&(i.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(r),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var n=TransformPropertyFactory.getTransformProperty(this,e,this),r=new SVGTransformData(n,n.o,t);return this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createShapeElement=function(e,t,n){var r=4;"rc"===e.ty?r=5:"el"===e.ty?r=6:"sr"===e.ty&&(r=7);var i=new SVGShapeData(t,n,ShapePropertyFactory.getShapeProp(this,e,r,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,n=e.styles,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||n.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,n,r,i,o,s){var a,u,c,l,h,d=[].concat(o),f=e.length-1,p=[],_=[];for(a=f;a>=0;a-=1){if((h=this.searchProcessedElement(e[a]))?t[a]=n[h-1]:e[a]._render=s,"fl"==e[a].ty||"st"==e[a].ty||"gf"==e[a].ty||"gs"==e[a].ty)h?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],i),e[a]._render&&r.appendChild(t[a].style.pElem),p.push(t[a].style);else if("gr"==e[a].ty){if(h)for(c=t[a].it.length,u=0;u<c;u+=1)t[a].prevViewData[u]=t[a].it[u];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,t[a].gr,i+1,d,s),e[a]._render&&r.appendChild(t[a].gr)}else"tr"==e[a].ty?(h||(t[a]=this.createTransformElement(e[a],r)),d.push(t[a].transform)):"sh"==e[a].ty||"rc"==e[a].ty||"el"==e[a].ty||"sr"==e[a].ty?(h||(t[a]=this.createShapeElement(e[a],d,i)),this.setElementStyles(t[a])):"tm"==e[a].ty||"rd"==e[a].ty||"ms"==e[a].ty||"pb"==e[a].ty?(h?(l=t[a]).closed=!1:((l=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=l,this.shapeModifiers.push(l)),_.push(l)):"rp"==e[a].ty&&(h?(l=t[a]).closed=!0:(l=ShapeModifiers.getModifier(e[a].ty),t[a]=l,l.init(this,e,a,t),this.shapeModifiers.push(l),s=!1),_.push(l));this.addProcessedElement(e[a],a+1)}for(f=p.length,a=0;a<f;a+=1)p[a].closed=!0;for(f=_.length,a=0;a<f;a+=1)_[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,n=this.animatedContents.length;for(e=0;e<n;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==n?0:t)+" "+(2==n?0:t)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,n,r,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):r=1+(n=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);n<r;n+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:n});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),s=createElementID();o.setAttribute("id",s),o.setAttribute("mask-type","alpha"),o.appendChild(t),this.elem.globalData.defs.appendChild(o);var a=createNS("g");for(a.setAttribute("mask","url("+locationHref+"#"+s+")");i[0];)a.appendChild(i[0]);this.elem.layerElement.appendChild(a),this.masker=o,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,n,r,i=this.paths.length;for(t=0;t<i;t+=1)if(-1!==this.paths[t].m&&(n=this.elem.maskManager.viewData[this.paths[t].m],r=this.paths[t].p,(e||this.filterManager._mdf||n.prop._mdf)&&r.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,a=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,u=r.getTotalLength();o="0 0 0 "+u*s+" ";var c,l=Math.floor(u*(a-s)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100));for(c=0;c<l;c+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";o+="0 "+10*u+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",o)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var h=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*h[0])+","+bm_floor(255*h[1])+","+bm_floor(255*h[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[1]+" "+n[1]+" "+t[1],o=r[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",r[0]+" "+n[0]+" "+t[0]),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var n=createNS(e);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(e,t,n,r,i){for(var o,s,a=0,u=Math.min(e,t),c=Math.max(e,t),l=Array.call(null,{length:256}),h=0,d=i-r,f=t-e;a<=256;)s=(o=a/256)<=u?f<0?i:r:o>=c?f<0?r:i:r+d*Math.pow((o-e)/f,1/n),l[h++]=s,a+=256/255;return l.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(e||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(t=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(t=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(t=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(t=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(t=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(r),o=n*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGEffects(e){var t,n,r=e.data.ef?e.data.ef.length:0,i=createElementID(),o=filtersFactory.createFilter(i),s=0;for(this.filters=[],t=0;t<r;t+=1)n=null,20===e.data.ef[t].ty?(s+=1,n=new SVGTintFilter(o,e.effectsManager.effectElements[t])):21===e.data.ef[t].ty?(s+=1,n=new SVGFillFilter(o,e.effectsManager.effectElements[t])):22===e.data.ef[t].ty?n=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):23===e.data.ef[t].ty?(s+=1,n=new SVGTritoneFilter(o,e.effectsManager.effectElements[t])):24===e.data.ef[t].ty?(s+=1,n=new SVGProLevelsFilter(o,e.effectsManager.effectElements[t])):25===e.data.ef[t].ty?(s+=1,n=new SVGDropShadowEffect(o,e.effectsManager.effectElements[t])):28===e.data.ef[t].ty?n=new SVGMatte3Effect(o,e.effectsManager.effectElements[t],e):29===e.data.ef[t].ty&&(s+=1,n=new SVGGaussianBlurEffect(o,e.effectsManager.effectElements[t])),n&&this.filters.push(n);s&&(e.globalData.defs.appendChild(o),e.layerElement.setAttribute("filter","url("+locationHref+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getImage(this.assetData),this.initElement(e,t,n)}function CVCompElement(e,t,n){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,r=this.masksProperties.length,i=!1;for(n=0;n<r;n++)"n"!==this.masksProperties[n].mode&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,n)}function CVSolidElement(e,t,n){this.initElement(e,t,n)}function CVTextElement(e,t,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,n)}function CVEffects(){}function HBaseElement(e,t,n){}function HSolidElement(e,t,n){this.initElement(e,t,n)}function HCompElement(e,t,n){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,n)}function HImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n)}function HCameraElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,e.pe,0,0,this),e.ks.p.s?(this.px=r(this,e.ks.p.x,1,0,this),this.py=r(this,e.ks.p.y,1,0,this),this.pz=r(this,e.ks.p.z,1,0,this)):this.p=r(this,e.ks.p,1,0,this),e.ks.a&&(this.a=r(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var i,o=e.ks.or.k.length;for(i=0;i<o;i+=1)e.ks.or.k[i].to=null,e.ks.or.k[i].ti=null}this.or=r(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,e.ks.rx,0,degToRads,this),this.ry=r(this,e.ks.ry,0,degToRads,this),this.rz=r(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,n=_svgMatteSymbols.length;t<n;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var n=e.layerElement.parentNode;if(n){for(var r,i=n.children,o=0,s=i.length;o<s&&i[o]!==e.layerElement;)o+=1;o<=s-2&&(r=i[o+1]);var a=createNS("use");a.setAttribute("href","#"+t),r?n.insertBefore(a,r):n.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",t.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var i=e.globalData.defs;i.appendChild(r);var o=createNS("symbol");o.setAttribute("id",n),this.replaceInParent(t,n),o.appendChild(t.layerElement),i.appendChild(o);var s=createNS("use");s.setAttribute("href","#"+n),r.appendChild(s),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,n=0,r=t.length;n<r;)t[n]&&t[n].data.ind===e&&this.setElementAsMask(this.elem,t[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var n=0;for(n=this._length;n<e;n+=1)this.saved[n]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,n,r=e.getContext("2d"),i=this.img.width,o=this.img.height,s=i/o,a=this.assetData.w/this.assetData.h,u=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===u||s<a&&"xMidYMid slice"!==u?t=(n=o)*a:n=(t=i)/a,r.drawImage(this.img,(i-t)/2,(o-n)/2,t,n,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(e){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,n,r,i=this.element.finalTransform.mat,o=this.element.canvasContext,s=this.masksProperties.length;for(o.beginPath(),e=0;e<s;e++)if("n"!==this.masksProperties[e].mode){this.masksProperties[e].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),t=i.applyToPointArray((r=this.viewData[e].v).v[0][0],r.v[0][1],0),o.moveTo(t[0],t[1]);var a,u=r._length;for(a=1;a<u;a++)n=i.applyToTriplePoints(r.o[a-1],r.i[a],r.v[a]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=i.applyToTriplePoints(r.o[a-1],r.i[0],r.v[0]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var n={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},r={};if("fl"==e.ty||"st"==e.ty?(r.c=PropertyFactory.getProp(this,e.c,1,255,this),r.c.k||(n.co="rgb("+bm_floor(r.c.v[0])+","+bm_floor(r.c.v[1])+","+bm_floor(r.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(r.s=PropertyFactory.getProp(this,e.s,1,null,this),r.e=PropertyFactory.getProp(this,e.e,1,null,this),r.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,e.g,this)),r.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"==e.ty||"gs"==e.ty){if(n.lc=this.lcEnum[e.lc]||"round",n.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(n.ml=e.ml),r.w=PropertyFactory.getProp(this,e.w,0,null,this),r.w.k||(n.wi=r.w.v),e.d){var i=new DashProperty(this,e.d,"canvas",this);r.d=i,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(e){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,n,r,i){var o,s,a,u,c,l,h=e.length-1,d=[],f=[],p=[].concat(i);for(o=h;o>=0;o-=1){if((u=this.searchProcessedElement(e[o]))?t[o]=n[u-1]:e[o]._shouldRender=r,"fl"==e[o].ty||"st"==e[o].ty||"gf"==e[o].ty||"gs"==e[o].ty)u?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],p),d.push(t[o].style);else if("gr"==e[o].ty){if(u)for(a=t[o].it.length,s=0;s<a;s+=1)t[o].prevViewData[s]=t[o].it[s];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,r,p)}else"tr"==e[o].ty?(u||(l=this.createTransformElement(e[o]),t[o]=l),p.push(t[o]),this.addTransformToStyleList(t[o])):"sh"==e[o].ty||"rc"==e[o].ty||"el"==e[o].ty||"sr"==e[o].ty?u||(t[o]=this.createShapeElement(e[o])):"tm"==e[o].ty||"rd"==e[o].ty||"pb"==e[o].ty?(u?(c=t[o]).closed=!1:((c=ShapeModifiers.getModifier(e[o].ty)).init(this,e[o]),t[o]=c,this.shapeModifiers.push(c)),f.push(c)):"rp"==e[o].ty&&(u?(c=t[o]).closed=!0:(c=ShapeModifiers.getModifier(e[o].ty),t[o]=c,c.init(this,e,o,t),this.shapeModifiers.push(c),r=!1),f.push(c));this.addProcessedElement(e[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),h=f.length,o=0;o<h;o+=1)f[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,n,r,i,o,s,a,u,c=this.stylesList.length,l=this.globalData.renderer,h=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(a=(u=this.stylesList[e]).type)&&"gs"!==a||0!==u.wi)&&u.data._shouldRender&&0!==u.coOp&&0!==this.globalData.currentGlobalAlpha){for(l.save(),o=u.elements,"st"===a||"gs"===a?(h.strokeStyle="st"===a?u.co:u.grd,h.lineWidth=u.wi,h.lineCap=u.lc,h.lineJoin=u.lj,h.miterLimit=u.ml||0):h.fillStyle="fl"===a?u.co:u.grd,l.ctxOpacity(u.coOp),"st"!==a&&"gs"!==a&&h.beginPath(),l.ctxTransform(u.preTransforms.finalTransform.props),n=o.length,t=0;t<n;t+=1){for("st"!==a&&"gs"!==a||(h.beginPath(),u.da&&(h.setLineDash(u.da),h.lineDashOffset=u.do)),i=(s=o[t].trNodes).length,r=0;r<i;r+=1)"m"==s[r].t?h.moveTo(s[r].p[0],s[r].p[1]):"c"==s[r].t?h.bezierCurveTo(s[r].pts[0],s[r].pts[1],s[r].pts[2],s[r].pts[3],s[r].pts[4],s[r].pts[5]):h.closePath();"st"!==a&&"gs"!==a||(h.stroke(),u.da&&h.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&h.fill(u.r),l.restore()}},CVShapeElement.prototype.renderShape=function(e,t,n,r){var i,o;for(o=e,i=t.length-1;i>=0;i-=1)"tr"==t[i].ty?this.renderShapeTransform(e,o=n[i].transform):"sh"==t[i].ty||"el"==t[i].ty||"rc"==t[i].ty||"sr"==t[i].ty?this.renderPath(t[i],n[i]):"fl"==t[i].ty?this.renderFill(t[i],n[i],o):"st"==t[i].ty?this.renderStroke(t[i],n[i],o):"gf"==t[i].ty||"gs"==t[i].ty?this.renderGradientFill(t[i],n[i],o):"gr"==t[i].ty&&this.renderShape(o,t[i].it,n[i].it);r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var n,r,i,o=e.trNodes,s=t.paths,a=s._length;o.length=0;var u=e.transforms.finalTransform;for(i=0;i<a;i+=1){var c=s.shapes[i];if(c&&c.v){for(r=c._length,n=1;n<r;n+=1)1===n&&o.push({t:"m",p:u.applyToPointArray(c.v[0][0],c.v[0][1],0)}),o.push({t:"c",pts:u.applyToTriplePoints(c.o[n-1],c.i[n],c.v[n])});1===r&&o.push({t:"m",p:u.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&r&&(o.push({t:"c",pts:u.applyToTriplePoints(c.o[n-1],c.i[0],c.v[0])}),o.push({t:"z"}))}}e.trNodes=o}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var n,r=t.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(t.styledShapes[n],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,n){var r=t.style;(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,n){var r=t.style;if(!r.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i=this.globalData.canvasContext,o=t.s.v,s=t.e.v;if(1===e.t)d=i.createLinearGradient(o[0],o[1],s[0],s[1]);else var a=Math.sqrt(Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)),u=Math.atan2(s[1]-o[1],s[0]-o[0]),c=a*(t.h.v>=1?.99:t.h.v<=-1?-.99:t.h.v),l=Math.cos(u+t.a.v)*c+o[0],h=Math.sin(u+t.a.v)*c+o[1],d=i.createRadialGradient(l,h,0,o[0],o[1],a);var f,p=e.g.p,_=t.g.c,g=1;for(f=0;f<p;f+=1)t.g._hasOpacity&&t.g._collapsable&&(g=t.g.o[2*f+1]),d.addColorStop(_[4*f]/100,"rgba("+_[4*f+1]+","+_[4*f+2]+","+_[4*f+3]+","+g+")");r.grd=d}r.coOp=t.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(e,t,n){var r=t.style,i=t.d;i&&(i._mdf||this._isFirstFrame)&&(r.da=i.dashArray,r.do=i.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*n.opacity),(t.w._mdf||this._isFirstFrame)&&(r.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var n=!1;e.sc&&(n=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var r,i,o=this.globalData.fontManager.getFontByName(e.f),s=e.l,a=this.mHelper;this.stroke=n,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,i=e.finalText.length;var u,c,l,h,d,f,p,_,g,v,m=this.data.singleShape,y=e.tr/1e3*e.finalSize,b=0,E=0,C=!0,O=0;for(r=0;r<i;r+=1){for(c=(u=this.globalData.fontManager.getCharData(e.finalText[r],o.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&u.data||{},a.reset(),m&&s[r].n&&(b=-y,E+=e.yOffset,E+=C?1:0,C=!1),p=(d=c.shapes?c.shapes[0].it:[]).length,a.scale(e.finalSize/100,e.finalSize/100),m&&this.applyTextPropertiesToMatrix(e,a,s[r].line,b,E),g=createSizedArray(p),f=0;f<p;f+=1){for(h=d[f].ks.k.i.length,_=d[f].ks.k,v=[],l=1;l<h;l+=1)1==l&&v.push(a.applyToX(_.v[0][0],_.v[0][1],0),a.applyToY(_.v[0][0],_.v[0][1],0)),v.push(a.applyToX(_.o[l-1][0],_.o[l-1][1],0),a.applyToY(_.o[l-1][0],_.o[l-1][1],0),a.applyToX(_.i[l][0],_.i[l][1],0),a.applyToY(_.i[l][0],_.i[l][1],0),a.applyToX(_.v[l][0],_.v[l][1],0),a.applyToY(_.v[l][0],_.v[l][1],0));v.push(a.applyToX(_.o[l-1][0],_.o[l-1][1],0),a.applyToY(_.o[l-1][0],_.o[l-1][1],0),a.applyToX(_.i[0][0],_.i[0][1],0),a.applyToY(_.i[0][0],_.i[0][1],0),a.applyToX(_.v[0][0],_.v[0][1],0),a.applyToY(_.v[0][0],_.v[0][1],0)),g[f]=v}m&&(b+=s[r].l,b+=y),this.textSpans[O]?this.textSpans[O].elem=g:this.textSpans[O]={elem:g},O+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,n,r,i,o,s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,u=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;t=c.length;var l,h,d=null,f=null,p=null;for(e=0;e<t;e+=1)if(!c[e].n){if((a=u[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?d!==a.fc&&(d=a.fc,s.fillStyle=a.fc):d!==this.values.fill&&(d=this.values.fill,s.fillStyle=this.values.fill),r=(l=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(o=(h=l[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?p!==a.sw&&(p=a.sw,s.lineWidth=a.sw):p!==this.values.sWidth&&(p=this.values.sWidth,s.lineWidth=this.values.sWidth),a&&a.sc?f!==a.sc&&(f=a.sc,s.strokeStyle=a.sc):f!==this.values.stroke&&(f=this.values.stroke,s.strokeStyle=this.values.stroke),r=(l=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(o=(h=l[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var n,r=0;r<t;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(e,n):this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t=e[n].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var n,r,i,o,s,a=e.sh.v,u=e.transformers,c=a._length;if(!(c<=1)){for(n=0;n<c-1;n+=1)r=this.getTransformedPoint(u,a.v[n]),i=this.getTransformedPoint(u,a.o[n]),o=this.getTransformedPoint(u,a.i[n+1]),s=this.getTransformedPoint(u,a.v[n+1]),this.checkBounds(r,i,o,s,t);a.c&&(r=this.getTransformedPoint(u,a.v[n]),i=this.getTransformedPoint(u,a.o[n]),o=this.getTransformedPoint(u,a.i[0]),s=this.getTransformedPoint(u,a.v[0]),this.checkBounds(r,i,o,s,t))}},HShapeElement.prototype.checkBounds=function(e,t,n,r,i){this.getBoundsOfCurve(e,t,n,r);var o=this.shapeBoundingBox;i.x=bm_min(o.left,i.x),i.xMax=bm_max(o.right,i.xMax),i.y=bm_min(o.top,i.y),i.yMax=bm_max(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,n,r){for(var i,o,s,a,u,c,l,h=[[e[0],r[0]],[e[1],r[1]]],d=0;d<2;++d)if(o=6*e[d]-12*t[d]+6*n[d],i=-3*e[d]+9*t[d]-9*n[d]+3*r[d],s=3*t[d]-3*e[d],o|=0,s|=0,0!=(i|=0))(u=o*o-4*s*i)<0||(0<(c=(-o+bm_sqrt(u))/(2*i))&&c<1&&h[d].push(this.calculateF(c,e,t,n,r,d)),0<(l=(-o-bm_sqrt(u))/(2*i))&&l<1&&h[d].push(this.calculateF(l,e,t,n,r,d)));else{if(0===o)continue;0<(a=-s/o)&&a<1&&h[d].push(this.calculateF(a,e,t,n,r,d))}this.shapeBoundingBox.left=bm_min.apply(null,h[0]),this.shapeBoundingBox.top=bm_min.apply(null,h[1]),this.shapeBoundingBox.right=bm_max.apply(null,h[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,h[1])},HShapeElement.prototype.calculateF=function(e,t,n,r,i,o){return bm_pow(1-e,3)*t[o]+3*bm_pow(1-e,2)*e*n[o]+3*(1-e)*bm_pow(e,2)*r[o]+bm_pow(e,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]&&e[n].sh?this.calculateShapeBoundingBox(e[n],t):e[n]&&e[n].it&&this.calculateBoundingBox(e[n].it,t)},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var n=!1;this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),n=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),n=!0),(n||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y)&&(this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style;t.color=t.fill=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)",e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n,r,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var o=e.fWeight;t.fontStyle=e.fStyle,t.fontWeight=o}var s,a,u,c=e.l;r=c.length;var l,h=this.mHelper,d="",f=0;for(n=0;n<r;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[f]?s=this.textPaths[f]:((s=createNS("path")).setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[f]?u=(a=this.textSpans[f]).children[0]:((a=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(s),styleDiv(a)))):this.isMasked?s=this.textPaths[f]?this.textPaths[f]:createNS("text"):this.textSpans[f]?(a=this.textSpans[f],s=this.textPaths[f]):(styleDiv(a=createTag("span")),styleDiv(s=createTag("span")),a.appendChild(s)),this.globalData.fontManager.chars){var p,_=this.globalData.fontManager.getCharData(e.finalText[n],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(p=_?_.data:null,h.reset(),p&&p.shapes&&(l=p.shapes[0].it,h.scale(e.finalSize/100,e.finalSize/100),d=this.createPathShape(h,l),s.setAttribute("d",d)),this.isMasked)this.innerElem.appendChild(s);else{if(this.innerElem.appendChild(a),p&&p.shapes){document.body.appendChild(u);var g=u.getBBox();u.setAttribute("width",g.width+2),u.setAttribute("height",g.height+2),u.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2)),u.style.transform=u.style.webkitTransform="translate("+(g.x-1)+"px,"+(g.y-1)+"px)",c[n].yOffset=g.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);a.appendChild(u)}}else s.textContent=c[n].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(s):(this.innerElem.appendChild(a),s.style.transform=s.style.webkitTransform="translate3d(0,"+-e.finalSize/1.2+"px,0)");this.textSpans[f]=this.isMasked?s:a,this.textSpans[f].style.display="block",this.textPaths[f]=s,f+=1}for(;f<this.textSpans.length;)this.textSpans[f].style.display="none",f+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var e,t,n,r,i,o=0,s=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(t=a.length,e=0;e<t;e+=1)a[e].n?o+=1:(r=this.textSpans[e],i=this.textPaths[e],n=s[o],o+=1,n._mdf.m&&(this.isMasked?r.setAttribute("transform",n.m):r.style.transform=r.style.webkitTransform=n.m),r.style.opacity=n.o,n.sw&&n._mdf.sw&&i.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&i.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(i.setAttribute("fill",n.fc),i.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height)),this.currentBBox.w===u.width+2&&this.currentBBox.h===u.height+2&&this.currentBBox.x===u.x-1&&this.currentBBox.y===u.y-1||(this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,n=this.comp.threeDElements.length;for(e=0;e<n;e+=1)"3d"===(t=this.comp.threeDElements[e]).type&&(t.perspectiveElem.style.perspective=t.perspectiveElem.style.webkitPerspective=this.pe.v+"px",t.container.style.transformOrigin=t.container.style.mozTransformOrigin=t.container.style.webkitTransformOrigin="0px 0px 0px",t.perspectiveElem.style.transform=t.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,n=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)n=this.hierarchy[e].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var r=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),s=[i[0]/o,i[1]/o,i[2]/o],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),u=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-u)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var l=!this._prevMat.equals(this.mat);if((l||this.pe._mdf)&&this.comp.threeDElements){var h;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)"3d"===(h=this.comp.threeDElements[e]).type&&(l&&(h.container.style.transform=h.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(h.perspectiveElem.style.perspective=h.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var e={},t=[],n=0,r=0,i=0,o=!0,s=!1;function a(e){for(var n=0,i=e.target;n<r;)t[n].animation===i&&(t.splice(n,1),n-=1,r-=1,i.isPaused||l()),n+=1}function u(e,n){if(!e)return null;for(var i=0;i<r;){if(t[i].elem==e&&null!==t[i].elem)return t[i].animation;i+=1}var o=new AnimationItem;return h(o,e),o.setData(e,n),o}function c(){i+=1,p()}function l(){i-=1}function h(e,n){e.addEventListener("destroy",a),e.addEventListener("_active",c),e.addEventListener("_idle",l),t.push({elem:n,animation:e}),r+=1}function d(e){var a,u=e-n;for(a=0;a<r;a+=1)t[a].animation.advanceTime(u);n=e,i&&!s?window.requestAnimationFrame(d):o=!0}function f(e){n=e,window.requestAnimationFrame(d)}function p(){!s&&i&&o&&(window.requestAnimationFrame(f),o=!1)}return e.registerAnimation=u,e.loadAnimation=function(e){var t=new AnimationItem;return h(t,null),t.setParams(e),t},e.setSpeed=function(e,n){var i;for(i=0;i<r;i+=1)t[i].animation.setSpeed(e,n)},e.setDirection=function(e,n){var i;for(i=0;i<r;i+=1)t[i].animation.setDirection(e,n)},e.play=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.play(e)},e.pause=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.pause(e)},e.stop=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.stop(e)},e.togglePause=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.togglePause(e)},e.searchAnimations=function(e,t,n){var r,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=i.length;for(r=0;r<o;r+=1)n&&i[r].setAttribute("data-bm-type",n),u(i[r],e);if(t&&0===o){n||(n="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",n),s.appendChild(a),u(a,e)}},e.resize=function(){var e;for(e=0;e<r;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,n,i){var o;for(o=0;o<r;o+=1)t[o].animation.goToAndStop(e,n,i)},e.destroy=function(e){var n;for(n=r-1;n>=0;n-=1)t[n].animation.destroy(e)},e.freeze=function(){s=!0},e.unfreeze=function(){s=!1,p()},e.setVolume=function(e,n){var i;for(i=0;i<r;i+=1)t[i].animation.setVolume(e,n)},e.mute=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.mute(e)},e.unmute=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r.push(t[e].animation);return r},e}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t=e.animType?e.animType:e.renderer?e.renderer:"svg";switch(t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.imagePreloader.setCacheType(t),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,this.loop=""===e.loop||null==e.loop||!0===e.loop||!1!==e.loop&&parseInt(e.loop),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!e.hasOwnProperty("autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.configAnimation(e.animationData):e.path&&(this.path=-1!==e.path.lastIndexOf("\\")?e.path.substr(0,e.path.lastIndexOf("\\")+1):e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(e.path,this.configAnimation.bind(this),(function(){this.trigger("data_failed")}).bind(this)))},AnimationItem.prototype.setData=function(e,t){var n={wrapper:e,animationData:t?"object"==typeof t?t:JSON.parse(t):null},r=e.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";""===i||(n.loop="false"!==i&&("true"===i||parseInt(i)));var o=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==o,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,n,r=this.animationData.layers,i=r.length,o=e.layers,s=o.length;for(n=0;n<s;n+=1)for(t=0;t<i;){if(r[t].id==o[n].id){r[t]=o[n];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(i=e.assets.length,t=0;t<i;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.isLoaded||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!=e||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!=e||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!=e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!=e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(e,t,n){n&&this.name!=n||(this.setCurrentRawFrameValue(t?e:e*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(e,t,n){this.goToAndStop(e,t,n),this.play()},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=e[0]-e[1],this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=e[1]-e[0],this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e)),this.firstFrame=e,this.timeCompleted=this.totalFrames=t-e,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"==typeof e[0]){var n,r=e.length;for(n=0;n<r;n+=1)this.segments.push(e[n])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!=e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e==this.assets[t].id)return this.assets[t];t+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions={initExpressions:function(e){var t=0,n=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=n.length;for(e=0;e<t;e+=1)n[e].release();n.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===n.indexOf(e)&&n.push(e)}}};expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=typeof e;if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var n,r=e.length,i=[];for(n=0;n<r;n+=1)i[n]=-e[n];return i}return e.propType?e.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var n=typeof e,r=typeof t;if("string"===n||"string"===r)return e+t;if(isNumerable(n,e)&&isNumerable(r,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]=e[0]+t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var i=0,o=e.length,s=t.length,a=[];i<o||i<s;)a[i]=("number"==typeof e[i]||e[i]instanceof Number)&&("number"==typeof t[i]||t[i]instanceof Number)?e[i]+t[i]:void 0===t[i]?e[i]:e[i]||t[i],i+=1;return a}return 0}var add=sum;function sub(e,t){var n=typeof e,r=typeof t;if(isNumerable(n,e)&&isNumerable(r,t))return"string"===n&&(e=parseInt(e)),"string"===r&&(t=parseInt(t)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]=e[0]-t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var i=0,o=e.length,s=t.length,a=[];i<o||i<s;)a[i]=("number"==typeof e[i]||e[i]instanceof Number)&&("number"==typeof t[i]||t[i]instanceof Number)?e[i]-t[i]:void 0===t[i]?e[i]:e[i]||t[i],i+=1;return a}return 0}function mul(e,t){var n,r,i,o=typeof e,s=typeof t;if(isNumerable(o,e)&&isNumerable(s,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(n=createTypedArray("float32",i=e.length),r=0;r<i;r+=1)n[r]=e[r]*t;return n}if(isNumerable(o,e)&&$bm_isInstanceOfArray(t)){for(n=createTypedArray("float32",i=t.length),r=0;r<i;r+=1)n[r]=e*t[r];return n}return 0}function div(e,t){var n,r,i,o=typeof e,s=typeof t;if(isNumerable(o,e)&&isNumerable(s,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(n=createTypedArray("float32",i=e.length),r=0;r<i;r+=1)n[r]=e[r]/t;return n}if(isNumerable(o,e)&&$bm_isInstanceOfArray(t)){for(n=createTypedArray("float32",i=t.length),r=0;r<i;r+=1)n[r]=e/t[r];return n}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,n){if(t>n){var r=n;n=t,t=r}return Math.min(Math.max(e,t),n)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return Math.abs(e-(t=t||0));t||(t=helperLengthArray);var n,r=Math.min(e.length,t.length),i=0;for(n=0;n<r;n+=1)i+=Math.pow(t[n]-e[n],2);return Math.sqrt(i)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,n,r=e[0],i=e[1],o=e[2],s=Math.max(r,i,o),a=Math.min(r,i,o),u=(s+a)/2;if(s==a)t=n=0;else{var c=s-a;switch(n=u>.5?c/(2-s-a):c/(s+a),s){case r:t=(i-o)/c+(i<o?6:0);break;case i:t=(o-r)/c+2;break;case o:t=(r-i)/c+4}t/=6}return[t,n,u,e[3]]}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e){var t,n,r,i=e[0],o=e[1],s=e[2];if(0===o)t=n=r=s;else{var a=s<.5?s*(1+o):s+o-s*o,u=2*s-a;t=hue2rgb(u,a,i+1/3),n=hue2rgb(u,a,i),r=hue2rgb(u,a,i-1/3)}return[t,n,r,e[3]]}function linear(e,t,n,r,i){if(void 0!==r&&void 0!==i||(r=t,i=n,t=0,n=1),n<t){var o=n;n=t,t=o}if(e<=t)return r;if(e>=n)return i;var s=n===t?0:(e-t)/(n-t);if(!r.length)return r+(i-r)*s;var a,u=r.length,c=createTypedArray("float32",u);for(a=0;a<u;a+=1)c[a]=r[a]+(i[a]-r[a])*s;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var n,r=t.length;e||(e=createTypedArray("float32",r));var i=createTypedArray("float32",r),o=BMMath.random();for(n=0;n<r;n+=1)i[n]=e[n]+o*(t[n]-e[n]);return i}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,n,r){var i,o=e.length,s=shape_pool.newElement();s.setPathData(!!r,o);var a,u,c=[0,0];for(i=0;i<o;i+=1)s.setTripleAt(e[i][0],e[i][1],(u=n&&n[i]?n[i]:c)[0]+e[i][0],u[1]+e[i][1],(a=t&&t[i]?t[i]:c)[0]+e[i][0],a[1]+e[i][1],i,!0);return s}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=(function(e,t){var n,r,i=this.pv.length?this.pv.length:1,o=createTypedArray("float32",i),s=Math.floor(5*time);for(n=0,r=0;n<s;){for(r=0;r<i;r+=1)o[r]+=-t+2*t*BMMath.random();n+=1}var a=5*time,u=a-Math.floor(a),c=createTypedArray("float32",i);if(i>1){for(r=0;r<i;r+=1)c[r]=this.pv[r]+o[r]+(-t+2*t*BMMath.random())*u;return c}return this.pv+o[0]+(-t+2*t*BMMath.random())*u}).bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,r,0]}function easeOut(e,t,n,r,i){return applyEase(easeOutBez,e,t,n,r,i)}function easeIn(e,t,n,r,i){return applyEase(easeInBez,e,t,n,r,i)}function ease(e,t,n,r,i){return applyEase(easeInOutBez,e,t,n,r,i)}function applyEase(e,t,n,r,i,o){void 0===i?(i=n,o=r):t=(t-n)/(r-n);var s=e(t=t>1?1:t<0?0:t);if($bm_isInstanceOfArray(i)){var a,u=i.length,c=createTypedArray("float32",u);for(a=0;a<u;a+=1)c[a]=(o[a]-i[a])*s+i[a];return c}return(o-i)*s+i}function nearestKey(e){var t,n,r,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,r=data.k[0].t;else{for(t=0;t<i-1;t+=1){if(e===data.k[t].t){n=t+1,r=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(n=t+2,r=data.k[t+1].t):(n=t+1,r=data.k[t].t);break}}-1===n&&(n=t+1,r=data.k[t].t)}else n=0,r=0;var o={};return o.index=n,o.time=r/elem.comp.globalData.frameRate,o}function key(e){var t,n,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);t={time:data.k[e-=1].t/elem.comp.globalData.frameRate,value:[]};var i=data.k[e].hasOwnProperty("s")?data.k[e].s:data.k[e-1].e;for(r=i.length,n=0;n<r;n+=1)t[n]=i[n],t.value[n]=i[n];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(e,t,n){t.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(e,t,n).bind(n)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),n=this.getValueAtTime(e+-.01),r=0;if(t.length){var i;for(i=0;i<t.length;i+=1)r+=Math.pow(n[i]-t[i],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,n,r=this.getValueAtTime(e),i=this.getValueAtTime(e+-.001);if(r.length)for(t=createTypedArray("float32",r.length),n=0;n<r.length;n+=1)t[n]=(i[n]-r[n])/-.001;else t=(i-r)/-.001;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};!function(){function e(e,t,n){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var r,i,o,s,a,u=this.comp.renderedFrame,c=this.keyframes,l=c[c.length-1].t;if(u<=l)return this.pv;if(n?i=l-(r=t?Math.abs(l-elem.comp.globalData.frameRate*t):Math.max(0,l-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),r=l-(i=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((u-i)/r)%2!=0)return this.getValueAtTime((r-(u-i)%r+i)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(i/this.comp.globalData.frameRate,0),d=this.getValueAtTime(l/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((u-i)%r+i)/this.comp.globalData.frameRate,0),p=Math.floor((u-i)/r);if(this.pv.length){for(s=(a=new Array(h.length)).length,o=0;o<s;o+=1)a[o]=(d[o]-h[o])*p+f[o];return a}return(d-h)*p+f}if("continue"===e){var _=this.getValueAtTime(l/this.comp.globalData.frameRate,0),g=this.getValueAtTime((l-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(_.length)).length,o=0;o<s;o+=1)a[o]=_[o]+(u-l)/this.comp.globalData.frameRate*(_[o]-g[o])/5e-4;return a}return _+(u-l)/.001*(_-g)}}return this.getValueAtTime(((u-i)%r+i)/this.comp.globalData.frameRate,0)}function t(e,t,n){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var r,i,o,s,a,u=this.comp.renderedFrame,c=this.keyframes,l=c[0].t;if(u>=l)return this.pv;if(n?i=l+(r=t?Math.abs(elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-l)):((!t||t>c.length-1)&&(t=c.length-1),r=(i=c[t].t)-l),"pingpong"===e){if(Math.floor((l-u)/r)%2==0)return this.getValueAtTime(((l-u)%r+l)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(l/this.comp.globalData.frameRate,0),d=this.getValueAtTime(i/this.comp.globalData.frameRate,0),f=this.getValueAtTime((r-(l-u)%r+l)/this.comp.globalData.frameRate,0),p=Math.floor((l-u)/r)+1;if(this.pv.length){for(s=(a=new Array(h.length)).length,o=0;o<s;o+=1)a[o]=f[o]-(d[o]-h[o])*p;return a}return f-(d-h)*p}if("continue"===e){var _=this.getValueAtTime(l/this.comp.globalData.frameRate,0),g=this.getValueAtTime((l+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(_.length)).length,o=0;o<s;o+=1)a[o]=_[o]+(_[o]-g[o])*(l-u)/.001;return a}return _+(_-g)*(l-u)/.001}}return this.getValueAtTime((r-(l-u)%r+l)/this.comp.globalData.frameRate,0)}function n(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var n,r,i=this.comp.renderedFrame/this.comp.globalData.frameRate,o=i-e,s=t>1?(i+e-o)/(t-1):1,a=0,u=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;a<t;){if(r=this.getValueAtTime(o+a*s),this.pv.length)for(u=0;u<this.pv.length;u+=1)n[u]+=r[u];else n+=r;a+=1}if(this.pv.length)for(u=0;u<this.pv.length;u+=1)n[u]/=t;else n/=t;return n}function r(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(e);t.translate(-n[0],-n[1],n[2])}if(this.appliedTransformations<2){var r=this.s.getValueAtTime(e);t.scale(r[0],r[1],r[2])}if(this.sk&&this.appliedTransformations<3){var i=this.sk.getValueAtTime(e),o=this.sa.getValueAtTime(e);t.skewFromAxis(-i,o)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(e);t.rotate(-s)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(e),u=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),l=this.or.getValueAtTime(e);t.rotateZ(-a.v).rotateY(u.v).rotateX(c.v).rotateZ(-l[2]).rotateY(l[1]).rotateX(l[0])}if(this.data.p&&this.data.p.s){var h=this.px.getValueAtTime(e),d=this.py.getValueAtTime(e);if(this.data.p.z){var f=this.pz.getValueAtTime(e);t.translate(h,d,-f)}else t.translate(h,d,0)}else{var p=this.p.getValueAtTime(e);t.translate(p[0],p[1],-p[2])}return t}function i(e){}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,n){var s=o(e,t,n);return s.getValueAtTime=s.dynamicProperties.length?r.bind(s):i.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(r,i,o,a,u){var c=s(r,i,o,a,u);c.getValueAtTime=c.kf?expressionHelpers.getValueAtTime.bind(c):expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===i.a?i.k.length:0,c.propertyIndex=i.ix;var l=0;return 0!==o&&(l=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:l},expressionHelpers.searchExpressions(r,i,c),c.k&&u.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),u=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var r,i=n._length,o=n[e],s=n.v,a=createSizedArray(i);for(r=0;r<i;r+=1)a[r]="i"===e||"o"===e?[o[r][0]-s[r][0],o[r][1]-s[r][1]]:[o[r][0],o[r][1]];return a},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var r,i=this._segmentsLength,o=i.lengths,s=i.totalLength*e,a=0,u=o.length,c=0;a<u;){if(c+o[a].addedLength>s){var l=n.c&&a===u-1?0:a+1;r=bez.getPointInSegment(n.v[a],n.v[l],n.o[a],n.i[l],(s-c)/o[a].addedLength,o[a]);break}c+=o[a].addedLength,a+=1}return r||(r=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),r},vectorOnPath:function(e,t,n){var r=this.pointOnPath(e=1==e?this.v.c?0:.999:e,t),i=this.pointOnPath(e+.001,t),o=i[0]-r[0],s=i[1]-r[1],a=Math.sqrt(Math.pow(o,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===n?[o/a,s/a]:[-s/a,o/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],u),u.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},u.prototype.initiateExpression=ExpressionManager.initiateExpression;var l=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,n,r,i){var o=l(e,t,n,r,i);return o.propertyIndex=t.ix,o.lock=!1,3===n?expressionHelpers.searchExpressions(e,t.pt,o):4===n&&expressionHelpers.searchExpressions(e,t.ks,o),o.k&&e.addDynamicProperty(o),o}}(),TextProperty.prototype.getExpressionValue=function(e,t){var n=this.calculateExpression(t);if(e.t!==n){var r={};return this.copyData(r,e),r.t=n.toString(),r.__complete=!1,r}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapePathInterface=function(e,t,n){var r=t.sh;function i(e){if("Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e)return i.path}var o=propertyGroupFactory(i,n);return r.setGroupProperty(PropertyInterface("Path",o)),Object.defineProperties(i,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:n}}),i},propertyGroupFactory=function(e,t){return function(n){return(n=void 0===n?1:n)<=0?e:t(n-1)}},PropertyInterface=function(e,t){var n={_name:e};return function(e){return(e=void 0===e?1:e)<=0?n:t(--e)}},ShapeExpressionInterface=function(){function e(e,o,h){var d,f=[],p=e?e.length:0;for(d=0;d<p;d+=1)"gr"==e[d].ty?f.push(t(e[d],o[d],h)):"fl"==e[d].ty?f.push(n(e[d],o[d],h)):"st"==e[d].ty?f.push(r(e[d],o[d],h)):"tm"==e[d].ty?f.push(i(e[d],o[d],h)):"tr"==e[d].ty||("el"==e[d].ty?f.push(s(e[d],o[d],h)):"sr"==e[d].ty?f.push(a(e[d],o[d],h)):"sh"==e[d].ty?f.push(ShapePathInterface(e[d],o[d],h)):"rc"==e[d].ty?f.push(u(e[d],o[d],h)):"rd"==e[d].ty?f.push(c(e[d],o[d],h)):"rp"==e[d].ty&&f.push(l(e[d],o[d],h)));return f}function t(t,n,r){var i=function e(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return e.content;default:return e.transform}};i.propertyGroup=propertyGroupFactory(i,r);var s=function(t,n,r){var i,s=function(e){for(var t=0,n=i.length;t<n;){if(i[t]._name===e||i[t].mn===e||i[t].propertyIndex===e||i[t].ix===e||i[t].ind===e)return i[t];t+=1}if("number"==typeof e)return i[e-1]};s.propertyGroup=propertyGroupFactory(s,r),i=e(t.it,n.it,s.propertyGroup),s.numProperties=i.length;var a=o(t.it[t.it.length-1],n.it[n.it.length-1],s.propertyGroup);return s.transform=a,s.propertyIndex=t.cix,s._name=t.nm,s}(t,n,i.propertyGroup),a=o(t.it[t.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.content=s,i.transform=a,Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.numProperties=t.np,i.propertyIndex=t.ix,i.nm=t.nm,i.mn=t.mn,i}function n(e,t,n){function r(e){return"Color"===e||"color"===e?r.color:"Opacity"===e||"opacity"===e?r.opacity:void 0}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function r(e,t,n){var r=propertyGroupFactory(c,n),i=propertyGroupFactory(u,r);function o(n){Object.defineProperty(u,e.d[n].nm,{get:ExpressionPropertyInterface(t.d.dataProps[n].p)})}var s,a=e.d?e.d.length:0,u={};for(s=0;s<a;s+=1)o(s),t.d.dataProps[s].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:void 0}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return u}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),t.w.setGroupProperty(PropertyInterface("Stroke Width",r)),c}function i(e,t,n){function r(t){return t===e.e.ix||"End"===t||"end"===t?r.end:t===e.s.ix?r.start:t===e.o.ix?r.offset:void 0}var i=propertyGroupFactory(r,n);return r.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",i)),t.e.setGroupProperty(PropertyInterface("End",i)),t.o.setGroupProperty(PropertyInterface("Offset",i)),r.propertyIndex=e.ix,r.propertyGroup=n,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),r.mn=e.mn,r}function o(e,t,n){function r(t){return e.a.ix===t||"Anchor Point"===t?r.anchorPoint:e.o.ix===t||"Opacity"===t?r.opacity:e.p.ix===t||"Position"===t?r.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?r.rotation:e.s.ix===t||"Scale"===t?r.scale:e.sk&&e.sk.ix===t||"Skew"===t?r.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?r.skewAxis:void 0}var i=propertyGroupFactory(r,n);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",i)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",i)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",i)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",i)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",i)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",i)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",i))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",i)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),r.ty="tr",r.mn=e.mn,r.propertyGroup=n,r}function s(e,t,n){function r(t){return e.p.ix===t?r.position:e.s.ix===t?r.size:void 0}var i=propertyGroupFactory(r,n);r.propertyIndex=e.ix;var o="tm"===t.sh.ty?t.sh.prop:t.sh;return o.s.setGroupProperty(PropertyInterface("Size",i)),o.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(o.s)},position:{get:ExpressionPropertyInterface(o.p)},_name:{value:e.nm}}),r.mn=e.mn,r}function a(e,t,n){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.rotation:e.pt.ix===t?r.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?r.outerRadius:e.os.ix===t?r.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?r.innerRoundness:void 0:r.innerRadius}var i=propertyGroupFactory(r,n),o="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,o.or.setGroupProperty(PropertyInterface("Outer Radius",i)),o.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),o.pt.setGroupProperty(PropertyInterface("Points",i)),o.p.setGroupProperty(PropertyInterface("Position",i)),o.r.setGroupProperty(PropertyInterface("Rotation",i)),e.ir&&(o.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),o.is.setGroupProperty(PropertyInterface("Inner Roundness",i))),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(o.p)},rotation:{get:ExpressionPropertyInterface(o.r)},points:{get:ExpressionPropertyInterface(o.pt)},outerRadius:{get:ExpressionPropertyInterface(o.or)},outerRoundness:{get:ExpressionPropertyInterface(o.os)},innerRadius:{get:ExpressionPropertyInterface(o.ir)},innerRoundness:{get:ExpressionPropertyInterface(o.is)},_name:{value:e.nm}}),r.mn=e.mn,r}function u(e,t,n){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?r.size:void 0}var i=propertyGroupFactory(r,n),o="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,o.p.setGroupProperty(PropertyInterface("Position",i)),o.s.setGroupProperty(PropertyInterface("Size",i)),o.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(o.p)},roundness:{get:ExpressionPropertyInterface(o.r)},size:{get:ExpressionPropertyInterface(o.s)},_name:{value:e.nm}}),r.mn=e.mn,r}function c(e,t,n){function r(t){if(e.r.ix===t||"Round Corners 1"===t)return r.radius}var i=propertyGroupFactory(r,n),o=t;return r.propertyIndex=e.ix,o.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(o.rd)},_name:{value:e.nm}}),r.mn=e.mn,r}function l(e,t,n){function r(t){return e.c.ix===t||"Copies"===t?r.copies:e.o.ix===t||"Offset"===t?r.offset:void 0}var i=propertyGroupFactory(r,n),o=t;return r.propertyIndex=e.ix,o.c.setGroupProperty(PropertyInterface("Copies",i)),o.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(o.c)},offset:{get:ExpressionPropertyInterface(o.o)},_name:{value:e.nm}}),r.mn=e.mn,r}return function(t,n,r){var i;function o(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?r:i[e-1];for(var t=0,n=i.length;t<n;){if(i[t]._name===e)return i[t];t+=1}}return o.propertyGroup=r,i=e(t,n,o),o.numProperties=i.length,o}}(),TextExpressionInterface=function(e){var t;function n(e){switch(e){case"ADBE Text Document":return n.sourceText}}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var n=e.textProperty.currentData.t;return void 0!==n&&(e.textProperty.currentData.t=void 0,(t=new String(n)).value=n||new String(n)),t}}),n},LayerExpressionInterface=function(){function e(e,t){var n=new Matrix;if(n.reset(),void 0!==t?n=this._elem.finalTransform.mProp.getValueAtTime(t):this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(n);return n.applyToPointArray(e[0],e[1],e[2]||0)}return n.applyToPointArray(e[0],e[1],e[2]||0)}function t(e,t){var n=new Matrix;if(n.reset(),void 0!==t?n=this._elem.finalTransform.mProp.getValueAtTime(t):this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(n);return n.inversePoint(e)}return n.inversePoint(e)}function n(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function r(){return[1,1,1,1]}return function(i){var o;function s(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return s.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return o;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return s.effect;case"ADBE Text Properties":return s.textInterface}}s.toWorld=e,s.fromWorld=t,s.toComp=e,s.fromComp=n,s.sampleImage=r,s.sourceRectAtTime=i.sourceRectAtTime.bind(i),s._elem=i;var a=getDescriptor(o=TransformExpressionInterface(i.finalTransform.mProp),"anchorPoint");return Object.defineProperties(s,{hasParent:{get:function(){return i.hierarchy.length}},parent:{get:function(){return i.hierarchy[0].layerInterface}},rotation:getDescriptor(o,"rotation"),scale:getDescriptor(o,"scale"),position:getDescriptor(o,"position"),opacity:getDescriptor(o,"opacity"),anchorPoint:a,anchor_point:a,transform:{get:function(){return o}},active:{get:function(){return i.isInRange}}}),s.startTime=i.data.st,s.index=i.data.ind,s.source=i.data.refId,s.height=0===i.data.ty?i.data.h:100,s.width=0===i.data.ty?i.data.w:100,s.inPoint=i.data.ip/i.comp.globalData.frameRate,s.outPoint=i.data.op/i.comp.globalData.frameRate,s._name=i.data.nm,s.registerMaskInterface=function(e){s.mask=new MaskManagerInterface(e,i)},s.registerEffectsInterface=function(e){s.effect=e},s}}(),CompExpressionInterface=function(e){function t(t){for(var n=0,r=e.layers.length;n<r;){if(e.layers[n].nm===t||e.layers[n].ind===t)return e.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity}}if(Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p)var n=ExpressionPropertyInterface(e.p);else{var r,i=ExpressionPropertyInterface(e.px),o=ExpressionPropertyInterface(e.py);e.pz&&(r=ExpressionPropertyInterface(e.pz))}return Object.defineProperty(t,"position",{get:function(){return e.p?n():[i(),o(),r?r():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,n=this.compositions.length;t<n;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){function e(n,r,i,o){function s(e){for(var t=n.ef,r=0,i=t.length;r<i;){if(e===t[r].nm||e===t[r].mn||e===t[r].ix)return 5===t[r].ty?c[r]:c[r]();r+=1}throw new Error}var a,u=propertyGroupFactory(s,i),c=[],l=n.ef.length;for(a=0;a<l;a+=1)c.push(5===n.ef[a].ty?e(n.ef[a],r.effectElements[a],r.effectElements[a].propertyGroup,o):t(r.effectElements[a],n.ef[a].ty,o,u));return"ADBE Color Control"===n.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:u}}),s.active=s.enabled=0!==n.en,s}function t(e,t,n,r){var i=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",r)),function(){return 10===t?n.comp.compInterface(e.p.v):i()}}return{createEffectsInterface:function(t,n){if(t.effectsManager){var r,i=[],o=t.data.ef,s=t.effectsManager.effectElements.length;for(r=0;r<s;r+=1)i.push(e(o[r],t.effectsManager.effectElements[r],n,t));var a=t.data.ef||[],u=function(e){for(r=0,s=a.length;r<s;){if(e===a[r].nm||e===a[r].mn||e===a[r].ix)return i[r];r+=1}};return Object.defineProperty(u,"numProperties",{get:function(){return a.length}}),u}}}}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t,n){var r,i=createSizedArray(t.viewData.length),o=t.viewData.length;for(r=0;r<o;r+=1)i[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<o;){if(t.masksProperties[r].nm===e)return i[r];r+=1}}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function n(e,t,n){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(r){if(e.numKeys){var i;i="s"in t.keyframes[r-1]?t.keyframes[r-1].s:"e"in t.keyframes[r-2]?t.keyframes[r-2].e:t.keyframes[r-2].s;var o="unidimensional"===n?new Number(i):Object.assign({},i);return o.time=t.keyframes[r-1].t/t.elem.comp.globalData.frameRate,o.value="unidimensional"===n?i[0]:i,o}return 0},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function r(){return e}return function(i){return i?"unidimensional"===i.propType?function(t){t&&"pv"in t||(t=e);var r=1/t.mult,i=t.pv*r,o=new Number(i);return o.value=i,n(o,t,"unidimensional"),function(){return t.k&&t.getValue(),o.value!==(i=t.v*r)&&((o=new Number(i)).value=i,n(o,t,"unidimensional")),o}}(i):function(e){e&&"pv"in e||(e=t);var r=1/e.mult,i=e.pv.length,o=createTypedArray("float32",i),s=createTypedArray("float32",i);return o.value=s,n(o,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<i;t+=1)o[t]=s[t]=e.v[t]*r;return o}}(i):r}}(),TextExpressionSelectorProp,propertyGetTextProp;function SliderEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function AngleEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function ColorEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function PointEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function LayerIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function MaskIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function CheckboxEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(e,t){var n=e.ef||[];this.effectElements=[];var r,i,o=n.length;for(r=0;r<o;r++)i=new GroupEffect(n[r],t),this.effectElements.push(i)}function GroupEffect(e,t){this.init(e,t)}TextExpressionSelectorProp=function(){function e(e,t){return this.textIndex=e+1,this.textTotal=t,this.v=this.getValue()*this.mult,this.v}return function(t,n){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=n.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,n,this),this.getMult=e,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.getValueAtTime=this.kf?expressionHelpers.getValueAtTime.bind(this):expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(e,t,n){return 1===t.t?new TextExpressionSelectorProp(e,t,n):propertyGetTextProp(e,t,n)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,r,i=this.data.ef.length,o=this.data.ef;for(n=0;n<i;n+=1){switch(r=null,o[n].ty){case 0:r=new SliderEffect(o[n],t,this);break;case 1:r=new AngleEffect(o[n],t,this);break;case 2:r=new ColorEffect(o[n],t,this);break;case 3:r=new PointEffect(o[n],t,this);break;case 4:case 7:r=new CheckboxEffect(o[n],t,this);break;case 10:r=new LayerIndexEffect(o[n],t,this);break;case 11:r=new MaskIndexEffect(o[n],t,this);break;case 5:r=new EffectsManager(o[n],t,this);break;default:r=new NoValueEffect(o[n],t,this)}r&&this.effectElements.push(r)}};var lottie={},_isFrozen=!1;function setLocationHref(e){locationHref=e}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&e>1&&(defaultCurveSegments=e);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(decodeURIComponent(r[0])==e)return decodeURIComponent(r[1])}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.7.3";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return factory(root)}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"lk/c":function(e,t,n){!function(e){"use strict";function t(e){return e===document.body||e===document.documentElement}function n(e,n){var r;if(t(e))r=0===n?e.clientLeft:e.clientTop;else{var i=e.getBoundingClientRect();r=0===n?i.left:i.top}return r}function r(e,n){return t(e)?0===n?window.innerWidth:window.innerHeight:0===n?e.clientWidth:e.clientHeight}function i(e,n,r){var i=0===n?"scrollLeft":"scrollTop",o=t(e);if(2===arguments.length)return o?document.body[i]||document.documentElement[i]:e[i];o?(document.documentElement[i]+=r,document.body[i]+=r):e[i]+=r}function o(e){var t=getComputedStyle(e);return e.scrollHeight>e.clientHeight&&("scroll"===t.overflowY||"auto"===t.overflowY)||e.scrollWidth>e.clientWidth&&("scroll"===t.overflowX||"auto"===t.overflowX)}function s(e,t,n){return e<n?-1:t-e<n?1:0}function a(e,t,n,r){return-1===e?Math.abs(t-r):1===e?Math.abs(n-t-r):0}function u(e,t,n){var r=0===e?n.scrollX:n.scrollY;return 1===t?r>=(0===e?n.scrollWidth-n.width:n.scrollHeight-n.height):-1!==t||r<=0}var c,l,h,d,f,p=function(e,t){var n=e/t;return n*n*n*t},_={horizontal:0,vertical:0},g={x:0,y:0};function v(){c||(c=window.requestAnimationFrame(m))}function m(){var e=0,n=0,r=t(d);0!==_.horizontal&&(e=Math.round(p(g.x,75)*_.horizontal),i(d,0,e)),0!==_.vertical&&(n=Math.round(p(g.y,75)*_.vertical),i(d,1,n)),r?f(e,n):f(0,0),c=null,y(l,d,75,_,g)&&v()}function y(e,t,o,c,l){if(!e||!t)return!1;var h={x:n(t,0),y:n(t,1),width:r(t,0),height:r(t,1),scrollX:i(t,0),scrollY:i(t,1),scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight},d={x:e.x-h.x,y:e.y-h.y};return c.horizontal=s(d.x,h.width,o),c.vertical=s(d.y,h.height,o),c.horizontal&&u(0,c.horizontal,h)?c.horizontal=0:c.horizontal&&(l.x=a(c.horizontal,d.x,h.width,o)),c.vertical&&u(1,c.vertical,h)?c.vertical=0:c.vertical&&(l.y=a(c.vertical,d.y,h.height,o)),!(!c.horizontal&&!c.vertical)}e.scrollBehaviourDragImageTranslateOverride=function(e,t,n,r){l=t,f=r,h!==n&&(d=function(e){do{if(!e)return;if(o(e))return e;if(e===document.documentElement)return null}while(e=e.parentNode);return null}(h=n)),y(l,d,75,_,g)?v():c&&(window.cancelAnimationFrame(c),c=null)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},mCNh:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return s}),n.d(t,"__decorate",function(){return a}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return h}),n.d(t,"__createBinding",function(){return d}),n.d(t,"__exportStar",function(){return f}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return _}),n.d(t,"__spread",function(){return g}),n.d(t,"__spreadArrays",function(){return v}),n.d(t,"__spreadArray",function(){return m}),n.d(t,"__await",function(){return y}),n.d(t,"__asyncGenerator",function(){return b}),n.d(t,"__asyncDelegator",function(){return E}),n.d(t,"__asyncValues",function(){return C}),n.d(t,"__makeTemplateObject",function(){return O}),n.d(t,"__importStar",function(){return T}),n.d(t,"__importDefault",function(){return w}),n.d(t,"__classPrivateFieldGet",function(){return D}),n.d(t,"__classPrivateFieldSet",function(){return P}),n.d(t,"__classPrivateFieldIn",function(){return k});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return S(t,e),t}function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function P(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function k(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},nYR2:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("7o/Q"),i=n("quSY");function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.callback))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).add(new i.a(r)),o}return _createClass(n)}(r.a)},nbvr:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,o=new Promise(function(o,s){n(i=e[t].apply(e,r)).then(o,s)});return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function o(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function s(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new f(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},ngJS:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},oB13:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("EQ5u");function i(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new o(i,t));var s=Object.create(n,r.b);return s.source=n,s.subjectFactory=i,s}}var o=function(){function e(t,n){_classCallCheck(this,e),this.subjectFactory=t,this.selector=n}return _createClass(e,[{key:"call",value:function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}]),e}()},ofXK:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return Ie}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return ke}),n.d(t,"e",function(){return P}),n.d(t,"f",function(){return C}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return O}),n.d(t,"i",function(){return m}),n.d(t,"j",function(){return pe}),n.d(t,"k",function(){return ge}),n.d(t,"l",function(){return me}),n.d(t,"m",function(){return Se}),n.d(t,"n",function(){return Ce}),n.d(t,"o",function(){return Oe}),n.d(t,"p",function(){return Te}),n.d(t,"q",function(){return E}),n.d(t,"r",function(){return Ae}),n.d(t,"s",function(){return c}),n.d(t,"t",function(){return Pe}),n.d(t,"u",function(){return k}),n.d(t,"v",function(){return Le}),n.d(t,"w",function(){return Q}),n.d(t,"x",function(){return R}),n.d(t,"y",function(){return M}),n.d(t,"z",function(){return x}),n.d(t,"A",function(){return Re}),n.d(t,"B",function(){return xe}),n.d(t,"C",function(){return a}),n.d(t,"D",function(){return Me}),n.d(t,"E",function(){return o}),n.d(t,"F",function(){return fe}),n.d(t,"G",function(){return s});var r=n("fXoL"),i=null;function o(){return i}function s(e){i||(i=e)}var a=_createClass(function e(){_classCallCheck(this,e)}),u=new r.r("DocumentToken"),c=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r.Mb)({factory:l,token:e,providedIn:"platform"}),e}();function l(){return Object(r.cc)(d)}var h=new r.r("Location Initialized"),d=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=o().getLocation(),this._history=o().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return o().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c);return e.\u0275fac=function(t){return new(t||e)(r.cc(u))},e.\u0275prov=Object(r.Mb)({factory:p,token:e,providedIn:"platform"}),e}();function f(){return!!window.history.pushState}function p(){return new d(Object(r.cc)(u))}function _(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function v(e){return e&&"?"!==e[0]?"?"+e:e}var m=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r.Mb)({factory:y,token:e,providedIn:"root"}),e}();function y(e){var t=Object(r.cc)(u).location;return new E(Object(r.cc)(c),t&&t.origin||"")}var b=new r.r("appBaseHref"),E=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return _(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(r.cc(c),r.cc(b,8))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=_(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(r.cc(c),r.cc(b,8))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),O=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(T(o)),this._platformStrategy.onPopState(function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})})}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+v(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+v(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+v(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(m),r.cc(c))},e.normalizeQueryParams=v,e.joinWithSlash=_,e.stripTrailingSlash=g,e.\u0275prov=Object(r.Mb)({factory:S,token:e,providedIn:"root"}),e}();function S(){return new O(Object(r.cc)(m),Object(r.cc)(c))}function T(e){return e.replace(/\/index.html$/,"")}var w=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}({}),D=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),P=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),k=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),A=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),I=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function M(e,t,n){var i=Object(r.mb)(e),o=q([i[r.cb.DayPeriodsFormat],i[r.cb.DayPeriodsStandalone]],t);return q(o,n)}function R(e,t,n){var i=Object(r.mb)(e),o=q([i[r.cb.DaysFormat],i[r.cb.DaysStandalone]],t);return q(o,n)}function x(e,t,n){var i=Object(r.mb)(e),o=q([i[r.cb.MonthsFormat],i[r.cb.MonthsStandalone]],t);return q(o,n)}function L(e,t){return q(Object(r.mb)(e)[r.cb.DateFormat],t)}function j(e,t){return q(Object(r.mb)(e)[r.cb.TimeFormat],t)}function N(e,t){return q(Object(r.mb)(e)[r.cb.DateTimeFormat],t)}function U(e,t){var n=Object(r.mb)(e),i=n[r.cb.NumberSymbols][t];if(void 0===i){if(t===I.CurrencyDecimal)return n[r.cb.NumberSymbols][I.Decimal];if(t===I.CurrencyGroup)return n[r.cb.NumberSymbols][I.Group]}return i}var B=r.pb;function F(e){if(!e[r.cb.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[r.cb.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function q(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function V(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var W=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G={},K=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,z=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),H=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),$=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function Q(e,t,n,r){var i=function(e){if(ue(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){var t=_slicedToArray(e.split("-").map(function(e){return+e}),3),n=t[0],r=t[1],i=void 0===r?1:r,o=t[2];return Y(n,i-1,void 0===o?1:o)}var s,a=parseFloat(e);if(!isNaN(e-a))return new Date(a);if(s=e.match(W))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,c),t}(s)}var u=new Date(e);if(!ue(u))throw new Error('Unable to convert "'.concat(e,'" into a date'));return u}(e);t=X(n,t)||t;for(var o,s=[];t;){if(!(o=K.exec(t))){s.push(t);break}var a=(s=s.concat(o.slice(1))).pop();if(!a)break;t=a}var u=i.getTimezoneOffset();r&&(u=ae(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ae(t,r)-r))}(i,r));var c="";return s.forEach(function(e){var t=function(e){if(se[e])return se[e];var t;switch(e){case"G":case"GG":case"GGG":t=te($.Eras,k.Abbreviated);break;case"GGGG":t=te($.Eras,k.Wide);break;case"GGGGG":t=te($.Eras,k.Narrow);break;case"y":t=ee(H.FullYear,1,0,!1,!0);break;case"yy":t=ee(H.FullYear,2,0,!0,!0);break;case"yyy":t=ee(H.FullYear,3,0,!1,!0);break;case"yyyy":t=ee(H.FullYear,4,0,!1,!0);break;case"Y":t=oe(1);break;case"YY":t=oe(2,!0);break;case"YYY":t=oe(3);break;case"YYYY":t=oe(4);break;case"M":case"L":t=ee(H.Month,1,1);break;case"MM":case"LL":t=ee(H.Month,2,1);break;case"MMM":t=te($.Months,k.Abbreviated);break;case"MMMM":t=te($.Months,k.Wide);break;case"MMMMM":t=te($.Months,k.Narrow);break;case"LLL":t=te($.Months,k.Abbreviated,P.Standalone);break;case"LLLL":t=te($.Months,k.Wide,P.Standalone);break;case"LLLLL":t=te($.Months,k.Narrow,P.Standalone);break;case"w":t=ie(1);break;case"ww":t=ie(2);break;case"W":t=ie(1,!0);break;case"d":t=ee(H.Date,1);break;case"dd":t=ee(H.Date,2);break;case"E":case"EE":case"EEE":t=te($.Days,k.Abbreviated);break;case"EEEE":t=te($.Days,k.Wide);break;case"EEEEE":t=te($.Days,k.Narrow);break;case"EEEEEE":t=te($.Days,k.Short);break;case"a":case"aa":case"aaa":t=te($.DayPeriods,k.Abbreviated);break;case"aaaa":t=te($.DayPeriods,k.Wide);break;case"aaaaa":t=te($.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":t=te($.DayPeriods,k.Abbreviated,P.Standalone,!0);break;case"bbbb":t=te($.DayPeriods,k.Wide,P.Standalone,!0);break;case"bbbbb":t=te($.DayPeriods,k.Narrow,P.Standalone,!0);break;case"B":case"BB":case"BBB":t=te($.DayPeriods,k.Abbreviated,P.Format,!0);break;case"BBBB":t=te($.DayPeriods,k.Wide,P.Format,!0);break;case"BBBBB":t=te($.DayPeriods,k.Narrow,P.Format,!0);break;case"h":t=ee(H.Hours,1,-12);break;case"hh":t=ee(H.Hours,2,-12);break;case"H":t=ee(H.Hours,1);break;case"HH":t=ee(H.Hours,2);break;case"m":t=ee(H.Minutes,1);break;case"mm":t=ee(H.Minutes,2);break;case"s":t=ee(H.Seconds,1);break;case"ss":t=ee(H.Seconds,2);break;case"S":t=ee(H.FractionalSeconds,1);break;case"SS":t=ee(H.FractionalSeconds,2);break;case"SSS":t=ee(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ne(z.Short);break;case"ZZZZZ":t=ne(z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ne(z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ne(z.Long);break;default:return null}return se[e]=t,t}(e);c+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Y(e,t,n){var r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function X(e,t){var n=function(e){return Object(r.mb)(e)[r.cb.LocaleId]}(e);if(G[n]=G[n]||{},G[n][t])return G[n][t];var i="";switch(t){case"shortDate":i=L(e,A.Short);break;case"mediumDate":i=L(e,A.Medium);break;case"longDate":i=L(e,A.Long);break;case"fullDate":i=L(e,A.Full);break;case"shortTime":i=j(e,A.Short);break;case"mediumTime":i=j(e,A.Medium);break;case"longTime":i=j(e,A.Long);break;case"fullTime":i=j(e,A.Full);break;case"short":var o=X(e,"shortTime"),s=X(e,"shortDate");i=Z(N(e,A.Short),[o,s]);break;case"medium":var a=X(e,"mediumTime"),u=X(e,"mediumDate");i=Z(N(e,A.Medium),[a,u]);break;case"long":var c=X(e,"longTime"),l=X(e,"longDate");i=Z(N(e,A.Long),[c,l]);break;case"full":var h=X(e,"fullTime"),d=X(e,"fullDate");i=Z(N(e,A.Full),[h,d])}return i&&(G[n][t]=i),i}function Z(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var s=String(e);s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,s){var a,u=function(e,t){switch(e){case H.FullYear:return t.getFullYear();case H.Month:return t.getMonth();case H.Date:return t.getDate();case H.Hours:return t.getHours();case H.Minutes:return t.getMinutes();case H.Seconds:return t.getSeconds();case H.FractionalSeconds:return t.getMilliseconds();case H.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===H.Hours)0===u&&-12===n&&(u=12);else if(e===H.FractionalSeconds)return a=t,J(u,3).substr(0,a);var c=U(s,I.MinusSign);return J(u,t,c,r,i)}}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,s){return function(e,t,n,i,o,s){switch(n){case $.Months:return x(t,o,i)[e.getMonth()];case $.Days:return R(t,o,i)[e.getDay()];case $.DayPeriods:var a=e.getHours(),u=e.getMinutes();if(s){var c=function(e){var t=Object(r.mb)(e);return F(t),(t[r.cb.ExtraData][2]||[]).map(function(e){return"string"==typeof e?V(e):[V(e[0]),V(e[1])]})}(t),l=function(e,t,n){var i=Object(r.mb)(e);F(i);var o=q([i[r.cb.ExtraData][0],i[r.cb.ExtraData][1]],t)||[];return q(o,n)||[]}(t,o,i),h=c.findIndex(function(e){if(Array.isArray(e)){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=a>=n.hours&&u>=n.minutes,o=a<r.hours||a===r.hours&&u<r.minutes;if(n.hours<r.hours){if(i&&o)return!0}else if(i||o)return!0}else if(e.hours===a&&e.minutes===u)return!0;return!1});if(-1!==h)return l[h]}return M(t,o,i)[a<12?0:1];case $.Eras:return function(e,t){return q(Object(r.mb)(e)[r.cb.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(o,s,e,t,n,i)}}function ne(e){return function(t,n,r){var i=-1*r,o=U(n,I.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case z.Short:return(i>=0?"+":"")+J(s,2,o)+J(Math.abs(i%60),2,o);case z.ShortGMT:return"GMT"+(i>=0?"+":"")+J(s,1,o);case z.Long:return"GMT"+(i>=0?"+":"")+J(s,2,o)+":"+J(Math.abs(i%60),2,o);case z.Extended:return 0===r?"Z":(i>=0?"+":"")+J(s,2,o)+":"+J(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function re(e){return Y(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,s;if(t){var a=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+a)/7)}else{var c=re(n),l=(o=c.getFullYear(),s=Y(o,0,1).getDay(),Y(o,0,1+(s<=4?4:11)-s)),h=c.getTime()-l.getTime();i=1+Math.round(h/6048e5)}return J(i,e,U(r,I.MinusSign))}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return J(re(n).getFullYear(),e,U(r,I.MinusSign),t)}}var se={};function ae(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ue(e){return e instanceof Date&&!isNaN(e.valueOf())}var ce=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function le(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var he=_createClass(function e(){_classCallCheck(this,e)}),de=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(B(t||this.locale)(e)){case D.Zero:return"zero";case D.One:return"one";case D.Two:return"two";case D.Few:return"few";case D.Many:return"many";default:return"other"}}}]),n}(he);return e.\u0275fac=function(t){return new(t||e)(r.cc(r.v))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}();function fe(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var pe=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(r.yb)(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.t),r.Qb(r.u),r.Qb(r.l),r.Qb(r.E))},e.\u0275dir=r.Lb({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),_e=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),ge=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new _e(null,t._ngForOf,-1,-1),null===i?void 0:i),s=new ve(e,o);n.push(s)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=t._viewContainer.get(r);t._viewContainer.move(a,i);var u=new ve(e,a);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.R),r.Qb(r.M),r.Qb(r.t))},e.\u0275dir=r.Lb({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),ve=_createClass(function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n}),me=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){be("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){be("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.R),r.Qb(r.M))},e.\u0275dir=r.Lb({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),ye=_createClass(function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null});function be(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r.yb)(t),"'."))}var Ee=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Ce=function(){var e=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Lb({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),Oe=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new Ee(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.R),r.Qb(r.M),r.Qb(Ce,9))},e.\u0275dir=r.Lb({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),Se=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),r=n[0],i=n[1];null!=(t=null!=t&&i?"".concat(t).concat(i):t)?this._renderer.setStyle(this._ngEl.nativeElement,r,t):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.l),r.Qb(r.u),r.Qb(r.E))},e.\u0275dir=r.Lb({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),Te=function(){var e=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===t.indexOf(o))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.R))},e.\u0275dir=r.Lb({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.Bb]}),e}();function we(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(r.yb)(e),"'"))}var De=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Pe=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(null==t)return null;if("string"!=typeof t)throw we(e,t);return t.replace(De,function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Pb({name:"titlecase",type:e,pure:!0}),e}(),ke=function(){var e=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return Q(t,n,i||this.locale,r)}catch(o){throw we(e,o.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.v))},e.\u0275pipe=r.Pb({name:"date",type:e,pure:!0}),e}(),Ae=function(){var e=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,i){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;i=i||this._locale;try{return function(e,t,n){return function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a="",u=!1;if(isFinite(e)){var c=function(e){var t,n,r,i,o,s=Math.abs(e)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))t=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(s.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);s&&(c=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));var l=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){var f=o.match(ce);if(null===f)throw new Error("".concat(o," is not a valid digit info"));var p=f[1],_=f[3],g=f[5];null!=p&&(l=le(p)),null!=_&&(h=le(_)),null!=g?d=le(g):null!=_&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(var u=s;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(var c=1;c<s;c++)r[c]=0}if(a>=5)if(s-1<0){for(var l=0;l>s;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,d=t+e.integerLen,f=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=d?r.pop():h=!1),t>=10?1:0},0);f&&(r.unshift(f),e.integerLen++)}(c,h,d);var v=c.digits,m=c.integerLen,y=c.exponent,b=[];for(u=v.every(function(e){return!e});m<l;m++)v.unshift(0);for(;m<0;m++)v.unshift(0);m>0?b=v.splice(m,v.length):(b=v,v=[0]);var E=[];for(v.length>=t.lgSize&&E.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)E.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&E.unshift(v.join("")),a=E.join(U(n,r)),b.length&&(a+=U(n,i)+b.join("")),y&&(a+=U(n,I.Exponential)+"+"+y)}else a=U(n,I.Infinity);return a=e<0&&!u?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=a.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var d=i.length-n.posPre.length-n.posSuf.length,f=o.indexOf("#");n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return Object(r.mb)(e)[r.cb.NumberFormats][t]}(t,w.Percent),U(t,I.MinusSign)),t,I.Group,I.Decimal,n,!0).replace(new RegExp("%","g"),U(t,I.PercentSign))}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(t),i,n)}catch(o){throw we(e,o.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(r.v))},e.\u0275pipe=r.Pb({name:"percent",type:e,pure:!0}),e}(),Ie=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({providers:[{provide:he,useClass:de}]}),e}(),Me="browser";function Re(e){return e===Me}function xe(e){return"server"===e}var Le=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275prov=Object(r.Mb)({token:e,providedIn:"root",factory:function(){return new je(Object(r.cc)(u),window)}}),e}(),je=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var s=o.getElementById(t)||o.querySelector('[name="'.concat(t,'"]'));if(s)return s}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Ne(this.window.history)||Ne(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function Ne(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}},pLZG:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(r.a)},pqa8:function(e,t,n){"use strict";n.d(t,"a",function(){return Xa}),n.d(t,"b",function(){return Va}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return uc}),n.d(t,"e",function(){return Wa}),n.d(t,"f",function(){return sc}),n.d(t,"g",function(){return lc}),n.d(t,"h",function(){return gc}),n.d(t,"i",function(){return vc}),n.d(t,"j",function(){return ic}),n.d(t,"k",function(){return Tc}),n.d(t,"l",function(){return cc}),n.d(t,"m",function(){return bc}),n.d(t,"n",function(){return Sc}),n.d(t,"o",function(){return oc}),n.d(t,"p",function(){return Oc}),n.d(t,"q",function(){return Ec}),n.d(t,"r",function(){return mc}),n.d(t,"s",function(){return wc}),n.d(t,"t",function(){return dc});var r=n("mrSG"),i=n("qOnz"),o=n("q/0M"),s=n("x7I3"),a=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();a.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.__extends)(t,e),t}(Error),l=new o.Logger("@firebase/firestore");function h(){return l.logLevel}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.DEBUG){var i=t.map(_);l.debug.apply(l,Object(r.__spreadArray)(["Firestore (8.10.0): "+e],i))}}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var i=t.map(_);l.error.apply(l,Object(r.__spreadArray)(["Firestore (8.10.0): "+e],i))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.WARN){var i=t.map(_);l.warn.apply(l,Object(r.__spreadArray)(["Firestore (8.10.0): "+e],i))}}function _(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function g(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function v(e,t){e||g()}function m(e,t){return e}function y(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var b=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=y(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function E(e,t){return e<t?-1:e>t?1:0}function C(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function O(e){return e+"\0"}var S=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?E(this.nanoseconds,e.nanoseconds):E(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),T=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new S(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function w(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function D(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function P(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var k=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&g(),void 0===n?n=e.length-t:n>e.length-t&&g(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(k),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return I.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(k),R=function(){function e(e){this.fields=e,e.sort(M.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return C(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),x=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return E(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();x.EMPTY_BYTE_STRING=new x("");var L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function j(e){if(v(!!e),"string"==typeof e){var t=0,n=L.exec(e);if(v(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:N(e.seconds),nanos:N(e.nanos)}}function N(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function U(e){return"string"==typeof e?x.fromBase64String(e):x.fromUint8Array(e)}function B(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function F(e){var t=e.mapValue.fields.__previous_value__;return B(t)?F(t):t}function q(e){var t=j(e.mapValue.fields.__local_write_time__.timestampValue);return new S(t.seconds,t.nanos)}function V(e){return null==e}function W(e){return 0===e&&1/e==-1/0}function G(e){return"number"==typeof e&&Number.isInteger(e)&&!W(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var K=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(A.fromString(t))},e.fromName=function(t){return new e(A.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===A.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return A.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new A(t.slice()))},e}();function z(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?B(e)?4:10:g()}function H(e,t){var n=z(e);if(n!==z(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return q(e).isEqual(q(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=j(e.timestampValue),r=j(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return U(e.bytesValue).isEqual(U(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return N(e.geoPointValue.latitude)===N(t.geoPointValue.latitude)&&N(e.geoPointValue.longitude)===N(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return N(e.integerValue)===N(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=N(e.doubleValue),r=N(t.doubleValue);return n===r?W(n)===W(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return C(e.arrayValue.values||[],t.arrayValue.values||[],H);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!H(n[i],r[i])))return!1;return!0}(e,t);default:return g()}}function $(e,t){return void 0!==(e.values||[]).find(function(e){return H(e,t)})}function Q(e,t){var n=z(e),r=z(t);if(n!==r)return E(n,r);switch(n){case 0:return 0;case 1:return E(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=N(e.integerValue||e.doubleValue),r=N(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Y(e.timestampValue,t.timestampValue);case 4:return Y(q(e),q(t));case 5:return E(e.stringValue,t.stringValue);case 6:return function(e,t){var n=U(e),r=U(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=E(n[i],r[i]);if(0!==o)return o}return E(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=E(N(e.latitude),N(t.latitude));return 0!==n?n:E(N(e.longitude),N(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Q(n[i],r[i]);if(o)return o}return E(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=E(r[s],o[s]);if(0!==a)return a;var u=Q(n[r[s]],i[o[s]]);if(0!==u)return u}return E(r.length,o.length)}(e.mapValue,t.mapValue);default:throw g()}}function Y(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return E(e,t);var n=j(e),r=j(t),i=E(n.seconds,r.seconds);return 0!==i?i:E(n.nanos,r.nanos)}function X(e){return Z(e)}function Z(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=j(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?U(e.bytesValue).toBase64():"referenceValue"in e?K.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Z(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Z(e.fields[o])}return t+"}"}(e.mapValue):g();var t}function J(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ee(e){return!!e&&"integerValue"in e}function te(e){return!!e&&"arrayValue"in e}function ne(e){return!!e&&"nullValue"in e}function re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ie(e){return!!e&&"mapValue"in e}function oe(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return D(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=oe(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=oe(e.arrayValue.values[r]);return n}return Object.assign({},e)}var se=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ie(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oe(t)},e.prototype.setAll=function(e){var t=this,n=M.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var s=t.getFieldsMap(n);t.applyChanges(s,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=oe(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ie(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return H(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ie(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){D(t,function(t,n){return e[t]=n});for(var r=0,i=n;r<i.length;r++)delete e[i[r]]},e.prototype.clone=function(){return new e(oe(this.value))},e}();function ae(e){var t=[];return D(e.fields,function(e,n){var r=new M([e]);if(ie(n)){var i=ae(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++)t.push(r.child(s[o]))}else t.push(r)}),new R(t)}var ue=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,T.min(),se.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,se.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,se.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=se.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=se.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ce=function(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function le(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ce(e,t,n,r,i,o,s)}function he(e){var t=m(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+X(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),V(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Se(t.startAt)),t.endAt&&(n+="|ub:",n+=Se(t.endAt)),t.h=n}return t.h}function de(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!we(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!H(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pe(e.startAt,t.startAt)&&Pe(e.endAt,t.endAt)}function fe(e){return K.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pe=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Object(r.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new _e(e,n,r):"array-contains"===n?new ye(e,r):"in"===n?new be(e,r):"not-in"===n?new Ee(e,r):"array-contains-any"===n?new Ce(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ge(e,n):new ve(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Q(t,this.value)):null!==t&&z(this.value)===z(t)&&this.m(Q(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return g()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),_e=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=K.fromName(r.referenceValue),i}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=K.comparator(e.key,this.key);return this.m(t)},t}(pe),ge=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=me(0,n),r}return Object(r.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(pe),ve=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=me(0,n),r}return Object(r.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(pe);function me(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return K.fromName(e.referenceValue)})}var ye=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return te(t)&&$(t.arrayValue,this.value)},t}(pe),be=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&$(this.value.arrayValue,t)},t}(pe),Ee=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){if($(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!$(this.value.arrayValue,t)},t}(pe),Ce=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!te(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return $(t.value.arrayValue,e)})},t}(pe),Oe=function(e,t){this.position=e,this.before=t};function Se(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return X(e)}).join(",")}var Te=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function we(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function De(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?K.comparator(K.fromName(s.referenceValue),n.key):Q(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Pe(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!H(e.position[n],t.position[n]))return!1;return!0}var ke=function(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Ae(e,t,n,r,i,o,s,a){return new ke(e,t,n,r,i,o,s,a)}function Ie(e){return new ke(e)}function Me(e){return!V(e.limit)&&"F"===e.limitType}function Re(e){return!V(e.limit)&&"L"===e.limitType}function xe(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Le(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function je(e){return null!==e.collectionGroup}function Ne(e){var t=m(e);if(null===t.p){t.p=[];var n=Le(t),r=xe(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Te(n)),t.p.push(new Te(M.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Te(M.keyField(),u))}}}return t.p}function Ue(e){var t=m(e);if(!t.T)if("F"===t.limitType)t.T=le(t.path,t.collectionGroup,Ne(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ne(t);r<i.length;r++){var o=i[r];n.push(new Te(o.field,"desc"===o.dir?"asc":"desc"))}var s=t.endAt?new Oe(t.endAt.position,!t.endAt.before):null,a=t.startAt?new Oe(t.startAt.position,!t.startAt.before):null;t.T=le(t.path,t.collectionGroup,n,t.filters,t.limit,s,a)}return t.T}function Be(e,t,n){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fe(e,t){return de(Ue(e),Ue(t))&&e.limitType===t.limitType}function qe(e){return he(Ue(e))+"|lt:"+e.limitType}function Ve(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.canonicalString()+" "+t.op+" "+X(t.value);var t}).join(", ")+"]"),V(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Se(e.startAt)),e.endAt&&(t+=", endAt: "+Se(e.endAt)),"Target("+t+")"}(Ue(e))+"; limitType="+e.limitType+")"}function We(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):K.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!De(e.startAt,Ne(e),t)||e.endAt&&De(e.endAt,Ne(e),t))}(e,t)}function Ge(e){return function(t,n){for(var r=!1,i=0,o=Ne(e);i<o.length;i++){var s=o[i],a=Ke(s,t,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ke(e,t,n){var r=e.field.isKeyField()?K.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Q(r,i):g()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}function ze(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W(t)?"-0":t}}function He(e){return{integerValue:""+e}}function $e(e,t){return G(t)?He(t):ze(e,t)}var Qe=function(){this._=void 0};function Ye(e,t,n){return e instanceof Je?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof et?tt(e,t):e instanceof nt?rt(e,t):function(e,t){var n=Ze(e,t),r=ot(n)+ot(e.A);return ee(n)&&ee(e.A)?He(r):ze(e.R,r)}(e,t)}function Xe(e,t,n){return e instanceof et?tt(e,t):e instanceof nt?rt(e,t):n}function Ze(e,t){return e instanceof it?ee(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t}(Qe),et=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.__extends)(t,e),t}(Qe);function tt(e,t){for(var n=st(t),r=function(e){n.some(function(t){return H(t,e)})||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.__extends)(t,e),t}(Qe);function rt(e,t){for(var n=st(t),r=function(e){n=n.filter(function(t){return!H(t,e)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var it=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(r.__extends)(t,e),t}(Qe);function ot(e){return N(e.integerValue||e.doubleValue)}function st(e){return te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var at=function(e,t){this.field=e,this.transform=t},ut=function(e,t){this.version=e,this.transformResults=t},ct=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function lt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ht=function(){};function dt(e,t,n){e instanceof vt?function(e,t,n){var r=e.value.clone(),i=bt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mt?function(e,t,n){if(lt(e.precondition,t)){var r=bt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ft(e,t,n){e instanceof vt?function(e,t,n){if(lt(e.precondition,t)){var r=e.value.clone(),i=Et(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(gt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof mt?function(e,t,n){if(lt(e.precondition,t)){var r=Et(e.fieldTransforms,n,t),i=t.data;i.setAll(yt(e)),i.setAll(r),t.convertToFoundDocument(gt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){lt(e.precondition,t)&&t.convertToNoDocument(T.min())}(e,t)}function pt(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=Ze(o.transform,s||null);null!=a&&(null==n&&(n=se.empty()),n.set(o.field,a))}return n||null}function _t(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&C(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof et&&t instanceof et||e instanceof nt&&t instanceof nt?C(e.elements,t.elements,H):e instanceof it&&t instanceof it?H(e.A,t.A):e instanceof Je&&t instanceof Je}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gt(e){return e.isFoundDocument()?e.version:T.min()}var vt=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(r.__extends)(t,e),t}(ht),mt=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=e.call(this)||this).key=t,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(r.__extends)(t,e),t}(ht);function yt(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function bt(e,t,n){var r=new Map;v(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Xe(s,a,n[i]))}return r}function Et(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Ye(a,u,t))}return r}var Ct,Ot,St=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.__extends)(t,e),t}(ht),Tt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.__extends)(t,e),t}(ht),wt=function(e){this.count=e};function Dt(e){switch(e){case u.OK:return g();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return g()}}function Pt(e){if(void 0===e)return f("GRPC error has no .code"),u.UNKNOWN;switch(e){case Ct.OK:return u.OK;case Ct.CANCELLED:return u.CANCELLED;case Ct.UNKNOWN:return u.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return u.INTERNAL;case Ct.UNAVAILABLE:return u.UNAVAILABLE;case Ct.UNAUTHENTICATED:return u.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case Ct.NOT_FOUND:return u.NOT_FOUND;case Ct.ALREADY_EXISTS:return u.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return u.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case Ct.ABORTED:return u.ABORTED;case Ct.OUT_OF_RANGE:return u.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return u.UNIMPLEMENTED;case Ct.DATA_LOSS:return u.DATA_LOSS;default:return g()}}(Ot=Ct||(Ct={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";var kt=function(){function e(e,t){this.comparator=e,this.root=t||It.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,It.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,It.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new At(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new At(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new At(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new At(this.root,e,this.comparator,!0)},e}(),At=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),It=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var e=this.left.check();if(e!==this.right.check())throw g();return e+(this.isRed()?0:1)},e}();It.EMPTY=null,It.RED=!0,It.BLACK=!1,It.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new It(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Mt=function(){function e(e){this.comparator=e,this.data=new kt(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Rt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Rt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Rt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),xt=new kt(K.comparator);function Lt(){return xt}var jt=new kt(K.comparator);function Nt(){return jt}var Ut=new kt(K.comparator);function Bt(){return Ut}var Ft=new Mt(K.comparator);function qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ft,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vt=new Mt(E);function Wt(){return Vt}var Gt=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Kt.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(T.min(),r,Wt(),Lt(),qt())},e}(),Kt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(x.EMPTY_BYTE_STRING,n,qt(),qt(),qt())},e}(),zt=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Ht=function(e,t){this.targetId=e,this.V=t},$t=function(e,t,n,r){void 0===n&&(n=x.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Qt=function(){function e(){this.S=0,this.D=Zt(),this.C=x.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=qt(),t=qt(),n=qt();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:g()}}),new Kt(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Zt()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Yt=function(){function e(e){this.W=e,this.G=new Map,this.H=Lt(),this.J=Xt(),this.Y=new Mt(E)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:g()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(fe(i))if(0===n){var o=new K(i.path);this.tt(t,o,ue.newNoDocument(o,T.min()))}else v(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&fe(o.target)){var s=new K(o.target.path);null!==t.H.get(s)||t.at(i,s)||t.tt(i,s,ue.newNoDocument(s,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=qt();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Gt(e,n,this.Y,this.H,r);return this.H=Lt(),this.J=Xt(),this.Y=new Mt(E),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Qt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Mt(E),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||d("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Qt),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Xt(){return new kt(K.comparator)}function Zt(){return new kt(K.comparator)}var Jt={asc:"ASCENDING",desc:"DESCENDING"},en={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tn=function(e,t){this.databaseId=e,this.I=t};function nn(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function rn(e,t){return e.I?t.toBase64():t.toUint8Array()}function on(e,t){return nn(e,t.toTimestamp())}function sn(e){return v(!!e),T.fromTimestamp(function(e){var t=j(e);return new S(t.seconds,t.nanos)}(e))}function an(e,t){return function(e){return new A(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function un(e){var t=A.fromString(e);return v(Mn(t)),t}function cn(e,t){return an(e.databaseId,t.path)}function ln(e,t){var n=un(t);if(n.get(1)!==e.databaseId.projectId)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(pn(n))}function hn(e,t){return an(e.databaseId,t)}function dn(e){var t=un(e);return 4===t.length?A.emptyPath():pn(t)}function fn(e){return new A(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pn(e){return v(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _n(e,t,n){return{name:cn(e,t),fields:n.value.mapValue.fields}}function gn(e,t,n){var r=ln(e,t.name),i=sn(t.updateTime),o=new se({mapValue:{fields:t.fields}}),s=ue.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function vn(e,t){var n;if(t instanceof vt)n={update:_n(e,t.key,t.value)};else if(t instanceof St)n={delete:cn(e,t.key)};else if(t instanceof mt)n={update:_n(e,t.key,t.data),updateMask:In(t.fieldMask)};else{if(!(t instanceof Tt))return g();n={verify:cn(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof Je)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof et)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof it)return{fieldPath:t.field.canonicalString(),increment:n.A};throw g()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:on(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g()}(e,t.precondition)),n}function mn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ct.updateTime(sn(e.updateTime)):void 0!==e.exists?ct.exists(e.exists):ct.none()}(t.currentDocument):ct.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;"setToServerValue"in t?(v("REQUEST_TIME"===t.setToServerValue),n=new Je):"appendMissingElements"in t?n=new et(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new nt(t.removeAllFromArray.values||[]):"increment"in t?n=new it(e,t.increment):g();var r=M.fromServerFormat(t.fieldPath);return new at(r,n)}(e,t)}):[];if(t.update){var i=ln(e,t.update.name),o=new se({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){return new R((e.fieldPaths||[]).map(function(e){return M.fromServerFormat(e)}))}(t.updateMask);return new mt(i,o,s,n,r)}return new vt(i,o,n,r)}if(t.delete){var a=ln(e,t.delete);return new St(a,n)}if(t.verify){var u=ln(e,t.verify);return new Tt(u,n)}return g()}function yn(e,t){return{documents:[hn(e,t.path)]}}function bn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(re(e.value))return{unaryFilter:{field:Dn(e.field),op:"IS_NAN"}};if(ne(e.value))return{unaryFilter:{field:Dn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(re(e.value))return{unaryFilter:{field:Dn(e.field),op:"IS_NOT_NAN"}};if(ne(e.value))return{unaryFilter:{field:Dn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dn(e.field),op:wn(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Dn(e.field),direction:Tn(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.I||V(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=On(t.startAt)),t.endAt&&(n.structuredQuery.endAt=On(t.endAt)),n}function En(e){var t=dn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=Cn(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(e){return function(e){return new Te(Pn(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return V(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Sn(n.startAt));var l=null;return n.endAt&&(l=Sn(n.endAt)),Ae(t,i,a,s,u,"F",c,l)}function Cn(e){return e?void 0!==e.unaryFilter?[An(e)]:void 0!==e.fieldFilter?[kn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return Cn(e)}).reduce(function(e,t){return e.concat(t)}):g():[]}function On(e){return{before:e.before,values:e.position}}function Sn(e){return new Oe(e.values||[],!!e.before)}function Tn(e){return Jt[e]}function wn(e){return en[e]}function Dn(e){return{fieldPath:e.canonicalString()}}function Pn(e){return M.fromServerFormat(e.fieldPath)}function kn(e){return pe.create(Pn(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(e.fieldFilter.op),e.fieldFilter.value)}function An(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Pn(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Pn(e.unaryFilter.field);return pe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pn(e.unaryFilter.field);return pe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Pn(e.unaryFilter.field);return pe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function In(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function Mn(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Rn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ln(t)),t=xn(e.get(n),t);return Ln(t)}function xn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ln(e){return e+"\x01\x01"}function jn(e){var t=e.length;if(v(t>=2),2===t)return v("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),A.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&g(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:g()}o=s+2}return new A(r)}var Nn=function(e,t){this.seconds=e,this.nanoseconds=t},Un=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Un.store="owner",Un.key="owner";var Bn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Bn.store="mutationQueues",Bn.keyPath="userId";var Fn=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Fn.store="mutations",Fn.keyPath="batchId",Fn.userMutationsIndex="userMutationsIndex",Fn.userMutationsKeyPath=["userId","batchId"];var qn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Rn(t)]},e.key=function(e,t,n){return[e,Rn(t),n]},e}();qn.store="documentMutations",qn.PLACEHOLDER=new qn;var Vn=function(e,t){this.path=e,this.readTime=t},Wn=function(e,t){this.path=e,this.version=t},Gn=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Gn.store="remoteDocuments",Gn.readTimeIndex="readTimeIndex",Gn.readTimeIndexPath="readTime",Gn.collectionReadTimeIndex="collectionReadTimeIndex",Gn.collectionReadTimeIndexPath=["parentPath","readTime"];var Kn=function(e){this.byteSize=e};Kn.store="remoteDocumentGlobal",Kn.key="remoteDocumentGlobalKey";var zn=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};zn.store="targets",zn.keyPath="targetId",zn.queryTargetsIndexName="queryTargetsIndex",zn.queryTargetsKeyPath=["canonicalId","targetId"];var Hn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Hn.store="targetDocuments",Hn.keyPath=["targetId","path"],Hn.documentTargetsIndex="documentTargetsIndex",Hn.documentTargetsKeyPath=["path","targetId"];var $n=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$n.key="targetGlobalKey",$n.store="targetGlobal";var Qn=function(e,t){this.collectionId=e,this.parent=t};Qn.store="collectionParents",Qn.keyPath=["collectionId","parent"];var Yn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Yn.store="clientMetadata",Yn.keyPath="clientId";var Xn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Xn.store="bundles",Xn.keyPath="bundleId";var Zn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Zn.store="namedQueries",Zn.keyPath="name";var Jn=Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],[Bn.store,Fn.store,qn.store,Gn.store,zn.store,Un.store,$n.store,Hn.store]),[Yn.store])),[Kn.store])),[Qn.store])),[Xn.store,Zn.store]),er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tr=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),nr=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},rr=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),ir=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new nr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ar(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=dr(t.target.error);n.ft.reject(new ar(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ar(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(d("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new cr(t)},e}(),or=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(i.getUA)())&&f("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return d("SimpleDb","Removing database:",e),lr(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(i.getUA)(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(d("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new ar(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ar(e,n))},i.onupgradeneeded=function(e){d("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next(function(){d("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c;return Object(r.__generator)(this,function(l){switch(l.label){case 0:o="readonly"===t,s=0,a=function(){var t,a,c,l,h;return Object(r.__generator)(this,function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=r.sent(),t=ir.open(u.db,e,o?"readonly":"readwrite",n),a=i(t).catch(function(e){return t.abort(e),rr.reject(e)}).toPromise(),c={},a.catch(function(){}),[4,t.dt];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return d("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),sr=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return lr(this.Pt.delete())},e}(),ar=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.__extends)(t,e),t}(c);function ur(e){return"IndexedDbTransactionError"===e.name}var cr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(d("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),lr(n)},e.prototype.add=function(e){return d("SimpleDb","ADD",this.store.name,e,e),lr(this.store.add(e))},e.prototype.get=function(e){var t=this;return lr(this.store.get(e)).next(function(n){return void 0===n&&(n=null),d("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return d("SimpleDb","DELETE",this.store.name,e),lr(this.store.delete(e))},e.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),lr(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.kt=function(e,t){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new rr(function(n,r){t.onerror=function(e){var t=dr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new rr(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new sr(i),s=t(i.primaryKey,i.value,o);if(s instanceof rr){var a=s.catch(function(e){return o.done(),rr.reject(e)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return rr.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function lr(e){return new rr(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=dr(e.target.error);n(t)}})}var hr=!1;function dr(e){var t=or._t(Object(i.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hr||(hr=!0,setTimeout(function(){throw r},0)),r}}return e}var fr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(r.__extends)(t,e),t}(tr);function pr(e,t){var n=m(e);return or.It(n.Mt,t)}var _r=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&dt(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ft(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ft(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(T.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},qt())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&C(this.mutations,e.mutations,function(e,t){return _t(e,t)})&&C(this.baseMutations,e.baseMutations,function(e,t){return _t(e,t)})},e}(),gr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){v(t.mutations.length===r.length);for(var i=Bt(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),vr=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=T.min()),void 0===o&&(o=T.min()),void 0===s&&(s=x.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),mr=function(e){this.Lt=e};function yr(e,t){if(t.document)return gn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=K.fromSegments(t.noDocument.path),r=Sr(t.noDocument.readTime),i=ue.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=K.fromSegments(t.unknownDocument.path);return r=Sr(t.unknownDocument.version),ue.newUnknownDocument(o,r)}return g()}function br(e,t,n){var r=Er(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:cn(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nn(e,t.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Gn(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=Or(t.version);return s=t.hasCommittedMutations,new Gn(null,new Vn(a,u),null,s,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Or(t.version);return new Gn(new Wn(c,l),null,null,!0,r,i)}return g()}function Er(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cr(e){var t=new S(e[0],e[1]);return T.fromTimestamp(t)}function Or(e){var t=e.toTimestamp();return new Nn(t.seconds,t.nanoseconds)}function Sr(e){var t=new S(e.seconds,e.nanoseconds);return T.fromTimestamp(t)}function Tr(e,t){for(var n=(t.baseMutations||[]).map(function(t){return mn(e.Lt,t)}),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map(function(t){return mn(e.Lt,t)}),o=S.fromMillis(t.localWriteTimeMs);return new _r(t.batchId,o,n,i)}function wr(e){var t,n,r=Sr(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Sr(e.lastLimboFreeSnapshotVersion):T.min();return void 0!==e.query.documents?(v(1===(n=e.query).documents.length),t=Ue(Ie(dn(n.documents[0])))):t=function(e){return Ue(En(e))}(e.query),new vr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,x.fromBase64String(e.resumeToken))}function Dr(e,t){var n,r=Or(t.snapshotVersion),i=Or(t.lastLimboFreeSnapshotVersion);n=fe(t.target)?yn(e.Lt,t.target):bn(e.Lt,t.target);var o=t.resumeToken.toBase64();return new zn(t.targetId,he(t.target),r,o,t.sequenceNumber,i,n)}function Pr(e){var t=En({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Be(t,t.limit,"L"):t}var kr=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ar(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Sr(t.createTime),version:t.version};var t})},e.prototype.saveBundleMetadata=function(e,t){return Ar(e).put({bundleId:(n=t).id,createTime:Or(sn(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Ir(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Pr(t.bundledQuery),readTime:Sr(t.readTime)};var t})},e.prototype.saveNamedQuery=function(e,t){return Ir(e).put(function(e){return{name:e.name,readTime:Or(sn(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ar(e){return pr(e,Xn.store)}function Ir(e){return pr(e,Zn.store)}var Mr=function(){function e(){this.Bt=new Rr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),rr.resolve()},e.prototype.getCollectionParents=function(e,t){return rr.resolve(this.Bt.getEntries(t))},e}(),Rr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mt(A.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Mt(A.comparator)).toArray()},e}(),xr=function(){function e(){this.qt=new Rr}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:Rn(i)};return Lr(e).put(o)}return rr.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[O(t),""],!1,!0);return Lr(e).Nt(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(jn(o.parent))}return n})},e}();function Lr(e){return pr(e,Qn.store)}var jr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Ur(e,t,n){var r=e.store(Fn.store),i=e.store(qn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(e,t,n){return a++,n.delete()});o.push(u.next(function(){v(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=qn.key(t,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return rr.waitFor(o).next(function(){return c})}function Br(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g();t=e.noDocument}return JSON.stringify(t).length}Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);var Fr=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return v(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vr(e).$t({index:Fn.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Wr(e),s=Vr(e);return s.add({}).next(function(a){v("number"==typeof a);for(var u=new _r(a,t,n,r),c=function(e,t,n){var r=n.baseMutations.map(function(t){return vn(e.Lt,t)}),i=n.mutations.map(function(t){return vn(e.Lt,t)});return new Fn(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Mt(function(e,t){return E(e.canonicalString(),t.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],_=qn.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(_,qn.PLACEHOLDER))}return h.forEach(function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),rr.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Vr(e).get(t).next(function(e){return e?(v(e.userId===n.userId),Tr(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?rr.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Vr(e).$t({index:Fn.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(v(t.batchId>=r),o=Tr(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vr(e).$t({index:Fn.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vr(e).Nt(Fn.userMutationsIndex,n).next(function(e){return e.map(function(e){return Tr(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=qn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Wr(e).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=jn(r[1]);if(a===n.userId&&t.path.isEqual(c))return Vr(e).get(u).next(function(e){if(!e)throw g();v(e.userId===n.userId),o.push(Tr(n.R,e))});s.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Mt(E),i=[];return t.forEach(function(t){var o=qn.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=Wr(e).$t({range:s},function(e,i,o){var s=e[0],a=e[2],u=jn(e[1]);s===n.userId&&t.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),rr.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=qn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Mt(E);return Wr(e).$t({range:s},function(e,t,o){var s=e[0],u=e[2],c=jn(e[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(e,a)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Vr(e).get(t).next(function(e){if(null===e)throw g();v(e.userId===n.userId),r.push(Tr(n.R,e))}))}),rr.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ur(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),rr.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return rr.resolve();var r=IDBKeyRange.lowerBound(qn.prefixForUser(t.userId)),i=[];return Wr(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=jn(e[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length)})})},e.prototype.containsKey=function(e,t){return qr(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Gr(e).get(this.userId).next(function(e){return e||new Bn(t.userId,-1,"")})},e}();function qr(e,t,n){var r=qn.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Wr(e).$t({range:o,Ft:!0},function(e,n,r){e[0]===t&&e[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Vr(e){return pr(e,Fn.store)}function Wr(e){return pr(e,qn.store)}function Gr(e){return pr(e,Bn.store)}var Kr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),zr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new Kr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return T.fromTimestamp(new S(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Hr(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return v(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Hr(e).$t(function(s,a){var u=wr(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return rr.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return Hr(e).$t(function(e,n){var r=wr(n);t(r)})},e.prototype.Xt=function(e){return $r(e).get($n.key).next(function(e){return v(null!==e),e})},e.prototype.Zt=function(e,t){return $r(e).put($n.key,t)},e.prototype.te=function(e,t){return Hr(e).put(Dr(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=he(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hr(e).$t({range:r,index:zn.queryTargetsIndexName},function(e,n,r){var o=wr(n);de(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Qr(e);return t.forEach(function(t){var s=Rn(t.path);i.push(o.put(new Hn(n,s))),i.push(r.referenceDelegate.addReference(e,n,t))}),rr.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Qr(e);return rr.forEach(t,function(t){var o=Rn(t.path);return rr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Qr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qr(e),i=qt();return r.$t({range:n,Ft:!0},function(e,t,n){var r=jn(e[1]),o=new K(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=Rn(t.path),r=IDBKeyRange.bound([n],[O(n)],!1,!0),i=0;return Qr(e).$t({index:Hn.documentTargetsIndex,Ft:!0,range:r},function(e,t,n){0!==e[0]&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return Hr(e).get(t).next(function(e){return e?wr(e):null})},e}();function Hr(e){return pr(e,zn.store)}function $r(e){return pr(e,$n.store)}function Qr(e){return pr(e,Hn.store)}function Yr(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==er)throw e;return d("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Xr(e,t){var n=e[1],r=t[1],i=E(e[0],t[0]);return 0===i?E(n,r):i}var Zr=function(){function e(e){this.ne=e,this.buffer=new Mt(Xr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Xr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Jr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ur(t=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Yr(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),ei=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return rr.resolve(a.o);var r=new Zr(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; disabled"),rr.resolve(jr)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jr):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,s,a,u,c,l=this,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>l.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),l.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),l.removeTargets(e,n,t)}).next(function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)}).next(function(e){return c=Date.now(),h()<=o.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},e}(),ti=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new ei(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return ni(e,n)},e.prototype.removeReference=function(e,t,n){return ni(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return ni(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Gr(e).Ot(function(r){return qr(e,r,t).next(function(e){return e&&(n=!0),rr.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(s,a){if(a<=t){var u=n._e(e,s).next(function(t){if(!t)return o++,r.getEntry(e,s).next(function(){return r.removeEntry(s),Qr(e).delete([0,Rn(s.path)])})});i.push(u)}}).next(function(){return rr.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ni(e,t)},e.prototype.we=function(e,t){var n,r=Qr(e),i=a.o;return r.$t({index:Hn.documentTargetsIndex},function(e,r){var o=r.path,s=r.sequenceNumber;0===e[0]?(i!==a.o&&t(new K(jn(n)),i),i=s,n=o):i=a.o}).next(function(){i!==a.o&&t(new K(jn(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ni(e,t){return Qr(e).put(function(e,t){return new Hn(0,Rn(e.path),t)}(t,e.currentSequenceNumber))}var ri=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){D(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}})},e.prototype.isEmpty=function(){return P(this.inner)},e}(),ii=function(){function e(){this.changes=new ri(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:T.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ue.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?rr.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),oi=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return ui(e).put(ci(t),n)},e.prototype.removeEntry=function(e,t){var n=ui(e),r=ci(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return ui(e).get(ci(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return ui(e).get(ci(t)).next(function(e){return{document:n.ye(t,e),size:Br(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=Lt();return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=Lt(),i=new kt(K.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Br(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return rr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return ui(e).$t({range:r},function(e,t,r){for(var s=K.fromSegments(e);o&&K.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Lt(),o=t.path.length+1,s={};if(n.isEqual(T.min())){var a=t.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.toArray(),c=Er(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Gn.collectionReadTimeIndex}return ui(e).$t(s,function(e,n,s){if(e.length===o){var a=yr(r.R,n);t.path.isPrefixOf(a.key.path)?We(t,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new si(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return ai(e).get(Kn.key).next(function(e){return v(!!e),e})},e.prototype.me=function(e,t){return ai(e).put(Kn.key,t)},e.prototype.ye=function(e,t){if(t){var n=yr(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(T.min()))return n}return ue.newInvalidDocument(e)},e}(),si=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ri(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Object(r.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Mt(function(e,t){return E(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,s){var a=t.Ae.get(o);if(s.document.isValidDocument()){var u=br(t.Ie.R,s.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Br(u);r+=c-a,n.push(t.Ie.addEntry(e,o,u))}else if(r-=a,t.trackRemovals){var l=br(t.Ie.R,ue.newNoDocument(o,T.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(ii);function ai(e){return pr(e,Kn.store)}function ui(e){return pr(e,Gn.store)}function ci(e){return e.path.toArray()}var li=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;v(n<r&&n>=0&&r<=11);var o=new ir("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Un.store)}(e),function(e){e.createObjectStore(Bn.store,{keyPath:Bn.keyPath}),e.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(qn.store)}(e),hi(e),function(e){e.createObjectStore(Gn.store)}(e));var s=rr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Hn.store),e.deleteObjectStore(zn.store),e.deleteObjectStore($n.store)}(e),hi(e)),s=s.next(function(){return function(e){var t=e.store($n.store),n=new $n(0,0,T.min().toTimestamp(),0);return t.put($n.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(e,t){return t.store(Fn.store).Nt().next(function(n){e.deleteObjectStore(Fn.store),e.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0});var r=t.store(Fn.store),i=n.map(function(e){return r.put(e)});return rr.waitFor(i)})}(e,o)})),s=s.next(function(){!function(e){e.createObjectStore(Yn.store,{keyPath:Yn.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(e){e.createObjectStore(Kn.store)}(e),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(s=s.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Gn.store);t.createIndex(Gn.readTimeIndex,Gn.readTimeIndexPath,{unique:!1}),t.createIndex(Gn.collectionReadTimeIndex,Gn.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(e){e.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(e),function(e){e.createObjectStore(Zn.store,{keyPath:Zn.keyPath})}(e)})),s},e.prototype.be=function(e){var t=0;return e.store(Gn.store).$t(function(e,n){t+=Br(n)}).next(function(){var n=new Kn(t);return e.store(Kn.store).put(Kn.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(Bn.store),r=e.store(Fn.store);return n.Nt().next(function(n){return rr.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Fn.userMutationsIndex,i).next(function(r){return rr.forEach(r,function(r){v(r.userId===n.userId);var i=Tr(t.R,r);return Ur(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(Hn.store),n=e.store(Gn.store);return e.store($n.store).get($n.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new A(n),s=function(e){return[0,Rn(e)]}(o);r.push(t.get(s).next(function(n){return n?rr.resolve():function(n){return t.put(new Hn(0,Rn(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return rr.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath});var n=t.store(Qn.store),r=new Rr,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Rn(i)})}};return t.store(Gn.store).$t({Ft:!0},function(e,t){var n=new A(e);return i(n.popLast())}).next(function(){return t.store(qn.store).$t({Ft:!0},function(e,t){var n=jn(e[1]);return i(n.popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(zn.store);return n.$t(function(e,r){var i=wr(r),o=Dr(t.R,i);return n.put(o)})},e}();function hi(e){e.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.documentTargetsIndex,Hn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.queryTargetsIndexName,zn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore($n.store)}var di="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fi=function(){function e(t,n,r,i,o,s,a,l,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ti(this,i),this.Le=n+"main",this.R=new mr(l),this.Be=new or(this.Le,11,new li(this.R)),this.qe=new zr(this.referenceDelegate,this.R),this.Ut=new xr,this.Ue=function(e,t){return new oi(e,t)}(this.R,this.Ut),this.Ke=new kr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===d&&f("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,di);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new a(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return _i(t).put(new Yn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(ur(t))return d("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return pi(e).get(Un.key).next(function(e){return rr.resolve(t.tn(e))})},e.prototype.en=function(e){return _i(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=pr(e,Yn.store);return t.Nt().next(function(e){var n=i.rn(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return rr.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=r.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)this.Qe.removeItem(this.on(n[t].clientId));r.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?rr.resolve(!0):pi(e).get(Un.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,di);return!1}}return!(!t.networkEnabled||!t.inForeground)||_i(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))})})}).next(function(e){return t.isPrimary!==e&&d("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e=this;return Object(r.__generator)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Un.store,Yn.store],function(t){var n=new fr(t,a.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return _i(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Fr.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,i=this;return d("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",Jn,function(o){return r=new fr(o,i.Ne?i.Ne.next():a.o),"readwrite-primary"===t?i.Je(r).next(function(e){return!!e||i.Ye(r)}).next(function(t){if(!t)throw f("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new c(u.FAILED_PRECONDITION,er);return n(r)}).next(function(e){return i.Ze(r).next(function(){return e})}):i.dn(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return pi(e).get(Un.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,di)})},e.prototype.Ze=function(e){var t=new Un(this.clientId,this.allowTabSynchronization,Date.now());return pi(e).put(Un.key,t)},e.yt=function(){return or.yt()},e.prototype.Xe=function(e){var t=this,n=pi(e);return n.get(Un.key).next(function(e){return t.tn(e)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(Un.key)):rr.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(f("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),Object(i.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return d("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return f("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){f("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function pi(e){return pr(e,Un.store)}function _i(e){return pr(e,Yn.store)}function gi(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var vi=function(e,t){this.progress=e,this.wn=t},mi=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return K.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):je(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new K(t)).next(function(e){var t=Nt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Nt();return this.Ut.getCollectionParents(e,i).next(function(s){return rr.forEach(s,function(s){var a=function(e,t){return new ke(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return r.An(e,a,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return o.Rn(e,i=t,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=ue.newInvalidDocument(c),r=r.insert(c,l)),ft(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){We(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=qt(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof mt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),yi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=qt(),i=qt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),bi=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(T.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(s){var a=i.Cn(t,s);return(Me(t)||Re(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(h()<=o.LogLevel.DEBUG&&d("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ve(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return a.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new Mt(Ge(e));return t.forEach(function(t,r){We(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return h()<=o.LogLevel.DEBUG&&d("QueryEngine","Using full collection scan to execute query:",Ve(t)),this.Sn.getDocumentsMatchingQuery(e,t,T.min())},e}(),Ei=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new kt(E),this.Fn=new ri(function(e){return he(e)},de),this.$n=T.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new mi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.kn)})},e}();function Ci(e,t,n,r){return new Ei(e,t,n,r)}function Oi(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var r;return n._n.getAllMutationBatches(e).next(function(s){return r=s,i=n.persistence.getMutationQueue(t),o=new mi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(e)}).next(function(t){for(var n=[],i=[],s=qt(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var _=0,g=p.mutations;_<g.length;_++)s=s.add(g[_].key)}return o.pn(e,s).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:i}})})})];case 1:return s=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Si(e,t){var n=m(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),s=rr.resolve();return o.forEach(function(e){s=s.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);v(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),s.next(function(){return e._n.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}function Ti(e){var t=m(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function wi(e,t){var n=m(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];t.targetChanges.forEach(function(t,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return v(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&s.push(n.qe.updateTargetData(e,c))}}});var a=Lt();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Di(e,o,t.documentUpdates,r,void 0).next(function(e){a=e})),!r.isEqual(T.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next(function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)});s.push(u)}return rr.waitFor(s).next(function(){return o.apply(e)}).next(function(){return n.Mn.En(e,a)}).next(function(){return a})}).then(function(e){return n.kn=i,e})}function Di(e,t,n,r,i){var o=qt();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=Lt();return n.forEach(function(n,s){var a=e.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(T.min())?(t.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),o=o.insert(n,s)):d("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Pi(e,t){var n=m(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)})}function ki(e,t){var n=m(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.qe.getTargetData(e,t).next(function(i){return i?rr.resolve(r=i):n.qe.allocateTargetId(e).next(function(i){return r=new vr(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e})}function Ai(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=m(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(e){return i.persistence.referenceDelegate.removeTarget(e,o)})];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ur(a=r.sent()))throw a;return d("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Ii(e,t,n){var r=m(e),i=T.min(),o=qt();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=m(e),i=r.Fn.get(n);return void 0!==i?rr.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Ue(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:T.min(),n?o:qt())}).next(function(e){return{documents:e,Bn:o}})})}function Mi(e,t){var n=m(e),r=m(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,t).next(function(e){return e?e.target:null})})}function Ri(e){var t=m(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=m(e),i=Lt(),o=Er(n),s=ui(t),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Gn.readTimeIndex,range:a},function(e,t){var n=yr(r.R,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{wn:i,readTime:Cr(o)}})}(t.On,e,t.$n)}).then(function(e){var n=e.wn;return t.$n=e.readTime,n})}function xi(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){return[2,(t=m(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=ui(e),n=T.min();return t.$t({index:Gn.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=Cr(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){t.$n=e})]})})}function Li(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c,l,h,d,f,p;return Object(r.__generator)(this,function(r){switch(r.label){case 0:for(o=m(e),s=qt(),a=Lt(),u=Bt(),c=0,l=n;c<l.length;c++)d=t.qn((h=l[c]).metadata.name),h.document&&(s=s.add(d)),a=a.insert(d,t.Un(h)),u=u.insert(d,t.Kn(h.metadata.readTime));return f=o.On.newChangeBuffer({trackRemovals:!0}),[4,ki(o,function(e){return Ue(Ie(A.fromString("__bundle__/docs/"+e)))}(i))];case 1:return p=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Di(e,f,a,T.min(),u).next(function(t){return f.apply(e),t}).next(function(t){return o.qe.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return o.qe.addMatchingKeys(e,s,p.targetId)}).next(function(){return o.Mn.En(e,t)}).next(function(){return t})})})]}})})}function ji(e,t,n){return void 0===n&&(n=qt()),Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,ki(e,Ue(Pr(t.bundledQuery)))];case 1:return i=r.sent(),[2,(o=m(e)).persistence.runTransaction("Save named query","readwrite",function(e){var r=sn(t.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(e,t);var s=i.withResumeToken(x.EMPTY_BYTE_STRING,r);return o.kn=o.kn.insert(s.targetId,s),o.qe.updateTargetData(e,s).next(function(){return o.qe.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return o.qe.addMatchingKeys(e,n,i.targetId)}).next(function(){return o.Ke.saveNamedQuery(e,t)})})]}})})}var Ni=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return rr.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:sn(n.createTime)}),rr.resolve()},e.prototype.getNamedQuery=function(e,t){return rr.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Pr(e.bundledQuery),readTime:sn(e.readTime)}}(t)),rr.resolve()},e}(),Ui=function(){function e(){this.Wn=new Mt(Bi.Gn),this.zn=new Mt(Bi.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Bi(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new Bi(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new K(new A([])),r=new Bi(n,e),i=new Bi(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new K(new A([])),n=new Bi(t,e),r=new Bi(t,e+1),i=qt();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new Bi(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Bi=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return K.comparator(e.key,t.key)||E(e.ns,t.ns)},e.Hn=function(e,t){return E(e.ns,t.ns)||K.comparator(e.key,t.key)},e}(),Fi=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Mt(Bi.Gn)}return e.prototype.checkEmpty=function(e){return rr.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new _r(i,t,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Bi(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return rr.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return rr.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return rr.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return rr.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return rr.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Bi(t,0),i=new Bi(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),rr.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Mt(E);return t.forEach(function(e){var t=new Bi(e,0),i=new Bi(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),rr.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;K.isDocumentKey(i)||(i=i.child(""));var o=new Bi(new K(i),0),s=new Mt(E);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ns)),!0)},o),rr.resolve(this.us(s))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;v(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return rr.forEach(t.mutations,function(i){var o=new Bi(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Bi(t,0),r=this.rs.firstAfterOrEqual(n);return rr.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return rr.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),qi=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new kt(K.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return rr.resolve(n?n.document.clone():ue.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Lt();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ue.newInvalidDocument(e))}),rr.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Lt(),i=new K(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!t.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||We(t,u)&&(r=r.insert(u.key,u.clone()))}return rr.resolve(r)},e.prototype.fs=function(e,t){return rr.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new Vi(this)},e.prototype.getSize=function(e){return rr.resolve(this.size)},e}(),Vi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(r.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(ii),Wi=function(){function e(e){this.persistence=e,this.ds=new ri(function(e){return he(e)},de),this.lastRemoteSnapshotVersion=T.min(),this.highestTargetId=0,this.ws=0,this._s=new Ui,this.targetCount=0,this.ys=Kr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),rr.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return rr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return rr.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),rr.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),rr.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Kr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,rr.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),rr.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,rr.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),rr.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return rr.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return rr.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),rr.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),rr.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),rr.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return rr.resolve(n)},e.prototype.containsKey=function(e,t){return rr.resolve(this._s.containsKey(t))},e}(),Gi=function(){function e(e,t){var n=this;this.gs={},this.Ne=new a(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Wi(this),this.Ut=new Mr,this.Ue=function(e,t){return new qi(e,function(e){return n.referenceDelegate.ps(e)})}(this.Ut),this.R=new mr(t),this.Ke=new Ni(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Fi(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;d("MemoryPersistence","Starting transaction:",e);var i=new Ki(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(e){return r.referenceDelegate.Ts(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return rr.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),Ki=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(r.__extends)(t,e),t}(tr),zi=function(){function e(e){this.persistence=e,this.As=new Ui,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),rr.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),rr.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),rr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rr.forEach(this.vs,function(r){var i=K.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return rr.or([function(){return rr.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Hi=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function $i(e,t){return"firestore_clients_"+e+"_"+t}function Qi(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Yi(e,t){return"firestore_targets_"+e+"_"+t}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");var Xi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new c(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(f("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Zi=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new c(i.error.code,i.error.message)),o?new e(t,i.state,r):(f("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ji=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Wt(),s=0;i&&s<r.activeTargetIds.length;++s)i=G(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(f("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),eo=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(f("SharedClientState","Failed to parse online state: "+t),null)},e}(),to=function(){function e(){this.activeTargetIds=Wt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),no=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new kt(E),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=$i(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new to),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i,o,s,a,u,c,l,h=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this.Ns&&(o=this.getItem($i(this.persistenceKey,i)))&&(s=Ji.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)this.ks(l[c]);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Yi(this.persistenceKey,e));if(n){var r=Zi.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Yi(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return d("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){d("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){d("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void f("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var e,t,i,o,s,u;return Object(r.__generator)(this,function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(u=function(e){var t=a.o;if(null!=e)try{var n=JSON.parse(e);v("number"==typeof n),t=n}catch(e){f("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==a.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Xi(this.currentUser,e,t,n),i=Qi(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Qi(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=Yi(this.persistenceKey,e),i=new Zi(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Ji.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return Xi.Vs(new Hi(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Zi.Vs(r,t)},e.prototype.js=function(e){return eo.Vs(e)},e.prototype.ii=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(e){i.has(e)||s.push(e)}),i.forEach(function(e){o.has(e)||a.push(e)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Wt();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),ro=function(){function e(){this.li=new to,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new to,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),io=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),oo=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),so={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ao=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),uo=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(r.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise(function(i,o){var a=new s.g;a.listenOnce(s.c.COMPLETE,function(){try{switch(a.getLastErrorCode()){case s.a.NO_ERROR:var t=a.getResponseJson();d("Connection","XHR received:",JSON.stringify(t)),i(t);break;case s.a.TIMEOUT:d("Connection",'RPC "'+e+'" timed out'),o(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case s.a.HTTP_ERROR:var n=a.getStatus();if(d("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}(r.status);o(new c(l,r.message))}else o(new c(u.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new c(u.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{d("Connection",'RPC "'+e+'" completed.')}});var l=JSON.stringify(r);a.send(t,"POST",l,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(s.h)(),o=Object(s.i)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new s.d({})),this.ki(a.initMessageHeaders,t),Object(i.isMobileCordova)()||Object(i.isReactNative)()||Object(i.isElectron)()||Object(i.isIE)()||Object(i.isUWP)()||Object(i.isBrowserExtension)()||(a.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");d("Connection","Creating WebChannel: "+l,a);var h=r.createWebChannel(l,a),f=!1,_=!1,g=new ao({Ei:function(e){_?d("Connection","Not sending because WebChannel is closed:",e):(f||(d("Connection","Opening WebChannel transport."),h.open(),f=!0),d("Connection","WebChannel sending:",e),h.send(e))},Ti:function(){return h.close()}}),m=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return m(h,s.f.EventType.OPEN,function(){_||d("Connection","WebChannel transport opened.")}),m(h,s.f.EventType.CLOSE,function(){_||(_=!0,d("Connection","WebChannel transport closed"),g.Vi())}),m(h,s.f.EventType.ERROR,function(e){_||(_=!0,p("Connection","WebChannel transport errored:",e),g.Vi(new c(u.UNAVAILABLE,"The operation could not be completed")))}),m(h,s.f.EventType.MESSAGE,function(e){var t;if(!_){var n=e.data[0];v(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){d("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Ct[e];if(void 0!==t)return Pt(t)}(i),s=r.message;void 0===o&&(o=u.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),_=!0,g.Vi(new c(o,s)),h.close()}else d("Connection","WebChannel received:",n),g.Si(n)}}),m(o,s.b.STAT_EVENT,function(e){e.stat===s.e.PROXY?d("Connection","Detected buffering proxy"):e.stat===s.e.NOPROXY&&d("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);d("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then(function(e){return d("RestConnection","Received: ",e),e},function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+so[e]},e}());function co(){return"undefined"!=typeof window?window:null}function lo(){return"undefined"!=typeof document?document:null}function ho(e){return new tn(e,!0)}var fo=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),po=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new fo(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(f(t.toString()),f("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return d("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),_o=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(r.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:g()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(v(void 0===t||"string"==typeof t),x.fromBase64String(t||"")):(v(void 0===t||t instanceof Uint8Array),x.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(a=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:Pt(e.code);return new c(t,e.message||"")}(a);n=new $t(r,i,o,s||null)}else if("documentChange"in t){i=ln(e,(r=t.documentChange).document.name),o=sn(r.document.updateTime);var a=new se({mapValue:{fields:r.document.fields}}),l=(s=ue.newFoundDocument(i,o,a),r.targetIds||[]);n=new zt(l,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in t)i=ln(e,(r=t.documentDelete).document),o=r.readTime?sn(r.readTime):T.min(),a=ue.newNoDocument(i,o),n=new zt([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in t)i=ln(e,(r=t.documentRemove).document),n=new zt([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return g();var h=t.filter;i=new wt(r=h.count||0),n=new Ht(o=h.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return T.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?T.min():t.readTime?sn(t.readTime):T.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=fn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=fe(r)?{documents:yn(e,r)}:{query:bn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rn(e,t.resumeToken):t.snapshotVersion.compareTo(T.min())>0&&(n.readTime=nn(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=fn(this.R),t.removeTarget=e,this.cr(t)},t}(po),go=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(v(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(v(void 0!==t),e.map(function(e){return function(e,t){var n=sn(e.updateTime?e.updateTime:t);return n.isEqual(T.min())&&(n=sn(t)),new ut(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=sn(e.commitTime);return this.listener.Tr(n,t)}return v(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=fn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return vn(t.R,e)})};this.cr(n)},t}(po),vo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(r.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(u.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(u.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),mo=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(f(t),this.Vr=!1):d("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),yo=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(e){n.enqueueAndForget(function(){return Object(r.__awaiter)(s,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return Po(this)?(d("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return(t=m(e)).Or.add(4),[4,Eo(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,bo(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new mo(n,i)};function bo(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(!Po(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Eo(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Co(e,t){var n=m(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Do(n)?wo(n):Wo(n).er()&&So(n,t))}function Oo(e,t){var n=m(e),r=Wo(n);n.$r.delete(t),r.er()&&To(n,t),0===n.$r.size&&(r.er()?r.ir():Po(n)&&n.Br.set("Unknown"))}function So(e,t){e.qr.U(t.targetId),Wo(e).mr(t)}function To(e,t){e.qr.U(t),Wo(e).yr(t)}function wo(e){e.qr=new Yt({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Wo(e).start(),e.Br.Sr()}function Do(e){return Po(e)&&!Wo(e).tr()&&e.$r.size>0}function Po(e){return 0===m(e).Or.size}function ko(e){e.qr=void 0}function Ao(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return e.$r.forEach(function(t,n){So(e,t)}),[2]})})}function Io(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){return ko(e),Do(e)?(e.Br.Nr(t),wo(e)):e.Br.set("Unknown"),[2]})})}function Mo(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,s;return Object(r.__generator)(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof $t&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=t.cause,i=0,o=t.targetIds,r.label=1;case 1:return i<o.length?e.$r.has(s=o[i])?[4,e.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:r.sent(),e.$r.delete(s),e.qr.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),d("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Ro(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof zt?e.qr.X(t):t instanceof Ht?e.qr.rt(t):e.qr.et(t),n.isEqual(T.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ti(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(x.EMPTY_BYTE_STRING,n.snapshotVersion)),To(e,t);var r=new vr(n.target,t,1,n.sequenceNumber);So(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Ro(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Ro(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i=this;return Object(r.__generator)(this,function(o){switch(o.label){case 0:if(!ur(t))throw t;return e.Or.add(1),[4,Eo(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Ti(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,bo(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function xo(e,t){return t().catch(function(n){return Ro(e,n,t)})}function Lo(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:t=m(e),n=Go(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Po(e)&&e.Fr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Pi(t.localStore,i)];case 3:return null===(o=r.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(i=o.batchId,function(e,t){e.Fr.push(t);var n=Go(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,o),[3,6]);case 4:return s=r.sent(),[4,Ro(t,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return jo(t)&&No(t),[2]}})})}function jo(e){return Po(e)&&!Go(e).tr()&&e.Fr.length>0}function No(e){Go(e).start()}function Uo(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return Go(e).Ar(),[2]})})}function Bo(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n,i;return Object(r.__generator)(this,function(r){for(t=Go(e),n=0,i=e.Fr;n<i.length;n++)t.Er(i[n].mutations);return[2]})})}function Fo(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=e.Fr.shift(),o=gr.from(i,t,n),[4,xo(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return r.sent(),[4,Lo(e)];case 2:return r.sent(),[2]}})})}function qo(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t&&Go(e).pr?[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return Dt(i=t.code)&&i!==u.ABORTED?(n=e.Fr.shift(),Go(e).sr(),[4,xo(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return r.sent(),[4,Lo(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jo(e)&&No(e),[2]}})})}function Vo(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),t?(n.Or.delete(2),[4,bo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Eo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Wo(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=m(e);return r.br(),new _o(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ao.bind(null,e),Ri:Io.bind(null,e),_r:Mo.bind(null,e)}),e.Mr.push(function(n){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Do(e)?wo(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),ko(e),t.label=3;case 3:return[2]}})})})),e.Ur}function Go(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=m(e);return r.br(),new go(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Uo.bind(null,e),Ri:qo.bind(null,e),Ir:Bo.bind(null,e),Tr:Fo.bind(null,e)}),e.Mr.push(function(n){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Lo(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(d("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}})})})),e.Kr}var Ko=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function zo(e,t){if(f("AsyncQueue",t+": "+e),ur(e))return new c(u.UNAVAILABLE,t+": "+e);throw e}var Ho=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||K.comparator(t.key,n.key)}:function(e,t){return K.comparator(e.key,t.key)},this.keyedMap=Nt(),this.sortedSet=new kt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),$o=function(){function e(){this.Qr=new kt(K.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):g():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),Qo=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,Ho.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Yo=function(){this.Wr=void 0,this.listeners=[]},Xo=function(){this.queries=new ri(function(e){return qe(e)},Fe),this.onlineState="Unknown",this.Gr=new Set};function Zo(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(n=m(e),o=!1,(s=n.queries.get(i=t.query))||(o=!0,s=new Yo),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=r.sent(),[3,4];case 3:return u=r.sent(),c=zo(u,"Initialization of query '"+Ve(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&ns(n),[2]}})})}function Jo(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return Object(r.__generator)(this,function(r){return n=m(e),o=!1,(s=n.queries.get(i=t.query))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function es(e,t){for(var n=m(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&ns(n)}function ts(e,t,n){var r=m(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function ns(e){e.Gr.forEach(function(e){e.next()})}var rs=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Qo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),is=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),os=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ln(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?gn(this.R,e.document,!1):ue.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return sn(e)},e}(),ss=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=as(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new os(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(t.get(c)||qt()).add(s);t.set(c,l)}}return t},e.prototype.complete=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Li(this.localStore,new os(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?[4,ji(this.localStore,o=i[n],t.get(o.name))]:[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new vi(Object.assign({},this.progress),e))]}})})},e}();function as(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var us=function(e){this.key=e},cs=function(e){this.key=e},ls=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=qt(),this.mutatedKeys=qt(),this.lo=Ge(e),this.fo=new Ho(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new $o,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Me(this.query)&&i.size===this.query.limit?i.last():null,c=Re(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=We(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))}),Me(this.query)||Re(this.query))for(;s.size>this.query.limit;){var l=Me(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)}),this.po(n);var s=t?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Qo(this.query,e.fo,i,o,e.mutatedKeys,0===a,u,!1),To:s}:{To:s}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new $o,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=qt(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new cs(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new us(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=qt();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Qo.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),hs=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ds=function(e){this.key=e,this.bo=!1},fs=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ri(function(e){return qe(e)},Fe),this.Vo=new Map,this.So=new Set,this.Do=new kt(K.comparator),this.Co=new Map,this.No=new Ui,this.xo={},this.ko=new Map,this.Fo=Kr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function ps(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=Ws(e),(o=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,ki(n.localStore,Ue(t))];case 2:return s=r.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,_s(n,t,s.targetId,"current"===a)];case 3:i=r.sent(),n.isPrimaryClient&&Co(n.remoteStore,s),r.label=4;case 4:return[2,i]}})})}function _s(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c,l;return Object(r.__generator)(this,function(h){switch(h.label){case 0:return e.Oo=function(t,n,i){return function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,s,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(o=t.view._o(n)).Nn?[4,Ii(e.localStore,t.query,!1).then(function(e){return t.view._o(e.documents,o)})]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.targetChanges.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,s),[2,(Ps(e,t.targetId,a.To),a.snapshot)]}})})}(e,t,n,i)},[4,Ii(e.localStore,t,!0)];case 1:return o=h.sent(),s=new ls(t,o.Bn),a=s._o(o.documents),u=Kt.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),c=s.applyChanges(a,e.isPrimaryClient,u),Ps(e,n,c.To),l=new hs(t,n,s),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function gs(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(e){return!Fe(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Ai(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Oo(n.remoteStore,i.targetId),ws(n,i.targetId)}).catch(Yr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return ws(n,i.targetId),[4,Ai(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})}function vs(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=Gs(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=m(e),i=S.now(),o=t.reduce(function(e,t){return e.add(t.key)},qt());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Mn.pn(e,o).next(function(o){n=o;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=pt(c,n.get(c.key));null!=l&&s.push(new mt(c.key,l,ae(l.value.mapValue),ct.exists(!0)))}return r._n.addMutationBatch(e,i,s,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(i.localStore,t)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new kt(E)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(i,o.batchId,n),[4,Is(i,o.changes)];case 3:return r.sent(),[4,Lo(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=zo(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function ms(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,wi(n.localStore,t)];case 2:return i=r.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?v(r.bo):e.removedDocuments.size>0&&(v(r.bo),r.bo=!1))}),[4,Is(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function ys(e,t,n){var r=m(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=m(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)}),r&&ns(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function bs(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(i=m(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(a=(a=new kt(K.comparator)).insert(s,ue.newNoDocument(s,T.min())),u=qt().add(s),c=new Gt(T.min(),new Map,new Mt(E),a,u),[4,ms(i,c)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),As(i),[3,4];case 2:return[4,Ai(i.localStore,t,!1).then(function(){return ws(i,t,n)}).catch(Yr)];case 3:r.sent(),r.label=4;case 4:return[2]}})})}function Es(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=m(e),i=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Si(n.localStore,t)];case 2:return o=r.sent(),Ts(n,i,null),Ss(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Is(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function Cs(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n._n.lookupMutationBatch(e,t).next(function(t){return v(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}(i.localStore,t)];case 2:return o=r.sent(),Ts(i,t,n),Ss(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Is(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function Os(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:Po((n=m(e)).remoteStore)||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=m(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t._n.getHighestUnacknowledgedBatchId(e)})}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=r.sent(),a=zo(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ss(e,t){(e.ko.get(t)||[]).forEach(function(e){e.resolve()}),e.ko.delete(t)}function Ts(e,t,n){var r=m(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function ws(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||Ds(e,t)})}function Ds(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Oo(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),As(e))}function Ps(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof us?(e.No.addReference(o.key,t),ks(e,o)):o instanceof cs?(d("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Ds(e,o.key)):g()}}function ks(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(d("SyncEngine","New document in limbo: "+n),e.So.add(r),As(e))}function As(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new K(A.fromString(t)),r=e.Fo.next();e.Co.set(r,new ds(n)),e.Do=e.Do.insert(n,r),Co(e.remoteStore,new vr(Ue(Ie(n.path)),r,2,a.o))}}function Is(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return Object(r.__generator)(this,function(u){switch(u.label){case 0:return i=m(e),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(e,r){a.push(i.Oo(r,t,n).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=yi.Pn(r.targetId,e);s.push(t)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),i.vo._r(o),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return rr.forEach(t,function(t){return rr.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return rr.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return r.sent(),[3,4];case 3:if(!ur(i=r.sent()))throw i;return d("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=t;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.kn.get(u),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.kn=n.kn.insert(u,l));return[2]}})})}(i.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Ms(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(n=m(e)).currentUser.isEqual(t)?[3,3]:(d("SyncEngine","User change. New user:",t.toKey()),[4,Oi(n.localStore,t)]);case 1:return i=r.sent(),n.currentUser=t,function(e,t){e.ko.forEach(function(e){e.forEach(function(e){e.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Is(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function Rs(e,t){var n=m(e),r=n.Co.get(t);if(r&&r.bo)return qt().add(r.key);var i=qt(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function xs(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ii((n=m(e)).localStore,t.query,!0)];case 1:return i=r.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Ps(n,t.targetId,o.To),o)]}})})}function Ls(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){return[2,Ri((t=m(e)).localStore).then(function(e){return Is(t,e)})]})})}function js(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,function(e,t){var n=m(e),r=m(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.jt(e,t).next(function(t){return t?n.Mn.pn(e,t):rr.resolve(null)})})}((o=m(e)).localStore,t)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Lo(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ts(o,t,i||null),Ss(o,t),function(e,t){m(m(e)._n).Gt(t)}(o.localStore,t)):g(),r.label=4;case 4:return[4,Is(o,s)];case 5:return r.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}})})}function Ns(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return Ws(n=m(e)),Gs(n),!0!==t||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Us(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,Vo(n.remoteStore,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)Co(n.remoteStore,a[s]);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then(function(){return ws(n,t),Ai(n.localStore,t,!0)}),Oo(n.remoteStore,t)}),[4,c]);case 4:return r.sent(),[4,Us(n,u)];case 5:return r.sent(),function(e){var t=m(e);t.Co.forEach(function(e,n){Oo(t.remoteStore,n)}),t.No.ts(),t.Co=new Map,t.Do=new kt(K.comparator)}(n),n.$o=!1,[4,Vo(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}})})}function Us(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l,h,d,f,p,_;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=m(e),i=[],o=[],s=0,a=t,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.Vo.get(u=a[s]))&&0!==l.length?[4,ki(n.localStore,Ue(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,d=l,r.label=3;case 3:return h<d.length?(f=n.Po.get(d[h]),[4,xs(n,f)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Mi(n.localStore,u)];case 8:return _=r.sent(),[4,ki(n.localStore,_)];case 9:return c=r.sent(),[4,_s(n,Bs(_),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(o),i)]}})})}function Bs(e){return Ae(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fs(e){var t=m(e);return m(m(t.localStore).persistence).fn()}function qs(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,s,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(o=m(e)).$o?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ri(o.localStore)];case 3:return s=r.sent(),a=Gt.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Is(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Ai(o.localStore,t,!0)];case 6:return r.sent(),ws(o,t,i),[3,8];case 7:g(),r.label=8;case 8:return[2]}})})}function Vs(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f;return Object(r.__generator)(this,function(p){switch(p.label){case 0:if(!(i=Ws(e)).$o)return[3,10];o=0,s=t,p.label=1;case 1:return o<s.length?i.Vo.has(a=s[o])?(d("SyncEngine","Adding an already active target "+a),[3,5]):[4,Mi(i.localStore,a)]:[3,6];case 2:return u=p.sent(),[4,ki(i.localStore,u)];case 3:return c=p.sent(),[4,_s(i,Bs(u),c.targetId,!1)];case 4:p.sent(),Co(i.remoteStore,c),p.label=5;case 5:return o++,[3,1];case 6:l=function(e){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return i.Vo.has(e)?[4,Ai(i.localStore,e,!1).then(function(){Oo(i.remoteStore,e),ws(i,e)}).catch(Yr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},h=0,f=n,p.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function Ws(e){var t=m(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ms.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rs.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bs.bind(null,t),t.vo._r=es.bind(null,t.eventManager),t.vo.Mo=ts.bind(null,t.eventManager),t}function Gs(e){var t=m(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Es.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cs.bind(null,t),t}function Ks(e,t,n){var i=m(e);(function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return i=r.sent(),[4,function(e,t){var n=m(e),r=sn(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Ke.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(e.localStore,i)];case 2:return r.sent()?[4,t.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)))];case 4:return n._updateProgress(as(i)),o=new ss(i,e.localStore,t.R),[4,t.Lo()];case 5:s=r.sent(),r.label=6;case 6:return s?[4,o.oo(s)]:[3,10];case 7:return(a=r.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:s=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=r.sent(),[4,Is(e,u.wn,void 0)];case 12:return r.sent(),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Ke.saveBundleMetadata(e,t)})}(e.localStore,i)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(c=r.sent())),n._failWith(c),[3,15];case 15:return[2]}})})})(i,t,n).then(function(){i.sharedClientState.notifyBundleLoaded()})}var zs=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return this.R=ho(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Ci(this.persistence,new bi,e.initialUser,this.R)},e.prototype.qo=function(e){return new Gi(zi.bs,this.R)},e.prototype.Bo=function(e){return new ro},e.prototype.terminate=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),Hs=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.__extends)(t,e),t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,xi(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Gs(this.Qo.syncEngine)];case 4:return r.sent(),[4,Lo(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(e){return Ci(this.persistence,new bi,e.initialUser,this.R)},t.prototype.Uo=function(e){return new Jr(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=gi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new fi(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,co(),lo(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ro},t}(zs),$s=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.__extends)(t,e),t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i=this;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof no?(this.sharedClientState.syncEngine={ui:js.bind(null,n),ai:qs.bind(null,n),hi:Vs.bind(null,n),fn:Fs.bind(null,n),ci:Ls.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(e){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return[4,Ns(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(e){var t=co();if(!no.yt(t))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new no(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Hs),Qs=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ys(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ms.bind(null,this.syncEngine),[4,Vo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new Xo},e.prototype.createDatastore=function(e){var t=ho(e.databaseInfo.databaseId),n=new uo(e.databaseInfo);return function(e,t,n){return new vo(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,s=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ys(s.syncEngine,e,0)},o=oo.yt()?new oo:new io,new yo(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,s){var a=new fs(e,t,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=m(e),d("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Eo(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();function Ys(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){return n<e.byteLength?(i={value:e.slice(n,n+t),done:!1},[2,(n+=t,i)]):[2,{done:!0}]})})},cancel:function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Xs=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),Zs=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new nr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new is(JSON.parse(i),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},e.prototype.Jo=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})},e}(),Js=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(r.__generator)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),i=fn(n.R)+"/documents",o={documents:t.map(function(e){return cn(n.R,e)})},[4,n.$i("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){v(!!t.found);var n=ln(e,t.found.name),r=sn(t.found.updateTime),i=new se({mapValue:{fields:t.found.fields}});return ue.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){v(!!t.missing),v(!!t.readTime);var n=ln(e,t.missing),r=sn(t.readTime);return ue.newNoDocument(n,r)}(e,t):g()}(n.R,e);a.set(t.key.toString(),t)}),u=[],[2,(t.forEach(function(e){var t=a.get(e.toString());v(!!t),u.push(t)}),u)]}})})}(this.datastore,e)];case 1:return[2,((t=i.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new St(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t=this;return Object(r.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=K.fromPath(n);t.mutations.push(new Tt(r,t.precondition(r)))}),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),i=fn(n.R)+"/documents",o={writes:t.map(function(e){return vn(n.R,e)})},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw g();t=T.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ct.updateTime(t):ct.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(T.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(t)}return ct.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),ea=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new fo(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e,t,n=this;return Object(r.__generator)(this,function(r){return e=new Js(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!V(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Dt(t)}return!1},e}(),ta=function(){function e(e,t,n){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Hi.UNAUTHENTICATED,this.clientId=b.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return d("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=zo(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}})})}),t.promise},e}();function na(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o=this;return Object(r.__generator)(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(e){return Object(r.__awaiter)(o,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return i.isEqual(e)?[3,2]:[4,Oi(t.localStore,e)];case 1:n.sent(),i=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ra(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,ia(e)];case 1:return n=o.sent(),d("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(n=m(e)).asyncQueue.verifyOperationInProgress(),d("RemoteStore","RemoteStore received new credentials"),i=Po(n),n.Or.add(3),[4,Eo(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),n.Or.delete(3),[4,bo(n)];case 3:return r.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function ia(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(d("FirestoreClient","Using default OfflineComponentProvider"),[4,na(e,new zs)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function oa(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(d("FirestoreClient","Using default OnlineComponentProvider"),[4,ra(e,new Qs)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function sa(e){return ia(e).then(function(e){return e.persistence})}function aa(e){return ia(e).then(function(e){return e.localStore})}function ua(e){return oa(e).then(function(e){return e.remoteStore})}function ca(e){return oa(e).then(function(e){return e.syncEngine})}function la(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,oa(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=ps.bind(null,t.syncEngine),n.onUnlisten=gs.bind(null,t.syncEngine),n)]}})})}function ha(e,t,n){var i=this;void 0===n&&(n={});var o=new nr;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var o=new Xs({next:function(o){t.enqueueAndForget(function(){return Jo(e,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),s=new rs(Ie(n.path),o,{includeMetadataChanges:!0,so:!0});return Zo(e,s)},[4,la(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function da(e,t,n){var i=this;void 0===n&&(n={});var o=new nr;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var o=new Xs({next:function(n){t.enqueueAndForget(function(){return Jo(e,s)}),n.fromCache&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),s=new rs(n,o,{includeMetadataChanges:!0,so:!0});return Zo(e,s)},[4,la(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var fa=function(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},pa=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),_a=new Map,ga=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},va=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(Hi.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ma=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ya=function(){function e(e){var t=this;this.currentUser=Hi.UNAUTHENTICATED,this.oc=new nr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){d("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(d("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(v("string"==typeof n.accessToken),new ga(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return v(null===e||"string"==typeof e),new Hi(e)},e}(),ba=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Hi.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Ea=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new ba(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(Hi.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ca(e,t,n){if(!n)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Oa(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Sa(e,t,n,r){if(!0===t&&!0===r)throw new c(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Ta(e){if(!K.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function wa(e){if(K.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Da(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":g()}function Pa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new c(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Da(e);throw new c(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function ka(e,t){if(t<=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Aa=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Sa("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Ia=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aa({}),this._settingsFrozen=!1,e instanceof pa?(this._databaseId=e,this._credentials=new va):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(e.options.projectId)}(e),this._credentials=new ya(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aa(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new va;switch(e.type){case"gapi":var t=e.client;return v(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ea(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=_a.get(this))&&(d("ComponentProvider","Removing Datastore"),_a.delete(this),e.terminate()),Promise.resolve();var e},e}(),Ma=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xa(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Ra=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),xa=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ie(r))||this)._path=r,i.type="collection",i}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ma(this.firestore,null,new K(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Ra);function La(e,t){for(var n,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(e=Object(i.getModularInstance)(e),Ca("collection","path",t),e instanceof Ia)return wa(n=A.fromString.apply(A,Object(r.__spreadArray)([t],o))),new xa(e,null,n);if(!(e instanceof Ma||e instanceof xa))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wa(n=A.fromString.apply(A,Object(r.__spreadArray)([e.path],o)).child(A.fromString(t))),new xa(e.firestore,null,n)}function ja(e,t){for(var n,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(e=Object(i.getModularInstance)(e),1===arguments.length&&(t=b.u()),Ca("doc","path",t),e instanceof Ia)return Ta(n=A.fromString.apply(A,Object(r.__spreadArray)([t],o))),new Ma(e,null,new K(n));if(!(e instanceof Ma||e instanceof xa))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ta(n=e._path.child(A.fromString.apply(A,Object(r.__spreadArray)([t],o)))),new Ma(e.firestore,e instanceof xa?e.converter:null,new K(n))}function Na(e,t){return e=Object(i.getModularInstance)(e),t=Object(i.getModularInstance)(t),(e instanceof Ma||e instanceof xa)&&(t instanceof Ma||t instanceof xa)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ua(e,t){return e=Object(i.getModularInstance)(e),t=Object(i.getModularInstance)(t),e instanceof Ra&&t instanceof Ra&&e.firestore===t.firestore&&Fe(e._query,t._query)&&e.converter===t.converter}var Ba=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new fo(this,"async_queue_retry"),this.Ic=function(){var t=lo();t&&d("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=lo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=lo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new nr;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t=this;return Object(r.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ur(e=n.sent()))throw e;return d("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){throw t.yc=e,t.gc=!1,f("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Ko.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&g()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Fa(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var qa=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Va=-1,Wa=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Ba,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ka(this),this._firestoreClient.terminate()},t}(Ia);function Ga(e){return e._firestoreClient||Ka(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ka(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ta(e._credentials,e._queue,r)}function za(e,t,n){var i=this,o=new nr;return e.asyncQueue.enqueue(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,na(e,n)];case 1:return r.sent(),[4,ra(e,t)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function Ha(e){if(e._initialized||e._terminated)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $a=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new M(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Qa=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(x.fromBase64String(t))}catch(t){throw new c(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(x.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Ya=function(e){this._methodName=e},Xa=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return E(this._lat,e._lat)||E(this._long,e._long)},e}(),Za=/^__.*__$/,Ja=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new mt(e,this.data,this.fieldMask,t,this.fieldTransforms):new vt(e,this.data,t,this.fieldTransforms)},e}(),eu=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new mt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function tu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var nu=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Cu(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(tu(this.Nc)&&Za.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),ru=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||ho(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new nu({Nc:e,methodName:t,qc:n,path:M.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function iu(e){var t=e._freezeSettings(),n=ho(e._databaseId);return new ru(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ou(e,t,n,r,i,o){void 0===o&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);mu("Data must be an object, but it was:",s,r);var a,l,h=gu(r,s);if(o.merge)a=new R(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){for(var d=[],f=0,p=o.mergeFields;f<p.length;f++){var _=yu(t,p[f],n);if(!s.contains(_))throw new c(u.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");Ou(d,_)||d.push(_)}a=new R(d),l=s.fieldTransforms.filter(function(e){return a.covers(e.field)})}else a=null,l=s.fieldTransforms;return new Ja(new se(h),a,l)}var su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Ya);function au(e,t,n){return new nu({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new at(e.path,new Je)},t.prototype.isEqual=function(e){return e instanceof t},t}(Ya),cu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=au(this,e,!0),n=this.Kc.map(function(e){return _u(e,t)}),r=new et(n);return new at(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Ya),lu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=au(this,e,!0),n=this.Kc.map(function(e){return _u(e,t)}),r=new nt(n);return new at(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Ya),hu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new it(e.R,$e(e.R,this.Qc));return new at(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Ya);function du(e,t,n,r){var o=e.Uc(1,t,n);mu("Data must be an object, but it was:",o,r);var s=[],a=se.empty();D(r,function(e,r){var u=Eu(t,e,n);r=Object(i.getModularInstance)(r);var c=o.Oc(u);if(r instanceof su)s.push(u);else{var l=_u(r,c);null!=l&&(s.push(u),a.set(u,l))}});var u=new R(s);return new eu(a,u,o.fieldTransforms)}function fu(e,t,n,r,o,s){var a=e.Uc(1,t,n),l=[yu(t,r,n)],h=[o];if(s.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(yu(t,s[d])),h.push(s[d+1]);for(var f=[],p=se.empty(),_=l.length-1;_>=0;--_)if(!Ou(f,l[_])){var g=l[_],v=h[_];v=Object(i.getModularInstance)(v);var m=a.Oc(g);if(v instanceof su)f.push(g);else{var y=_u(v,m);null!=y&&(f.push(g),p.set(g,y))}}var b=new R(f);return new eu(p,b,a.fieldTransforms)}function pu(e,t,n,r){return void 0===r&&(r=!1),_u(n,e.Uc(r?4:3,t))}function _u(e,t){if(vu(e=Object(i.getModularInstance)(e)))return mu("Unsupported field value:",t,e),gu(e,t);if(e instanceof Ya)return function(e,t){if(!tu(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=_u(o[i],t.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(i.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $e(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=S.fromDate(e);return{timestampValue:nn(t.R,n)}}if(e instanceof S)return n=new S(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:nn(t.R,n)};if(e instanceof Xa)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Qa)return{bytesValue:rn(t.R,e._byteString)};if(e instanceof Ma){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:an(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Da(e))}(e,t)}function gu(e,t){var n={};return P(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):D(e,function(e,r){var i=_u(r,t.kc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function vu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof S||e instanceof Xa||e instanceof Qa||e instanceof Ma||e instanceof Ya)}function mu(e,t,n){if(!vu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Da(n);throw t.Lc("an object"===r?e+" a custom object":e+" "+r)}}function yu(e,t,n){if((t=Object(i.getModularInstance)(t))instanceof $a)return t._internalPath;if("string"==typeof t)return Eu(e,t);throw Cu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var bu=new RegExp("[~\\*/\\[\\]]");function Eu(e,t,n){if(t.search(bu)>=0)throw Cu("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new($a.bind.apply($a,Object(r.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(i){throw Cu("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Cu(e,t,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var l="";return(o||s)&&(l+=" (found",o&&(l+=" in field "+r),s&&(l+=" in document "+i),l+=")"),new c(u.INVALID_ARGUMENT,(a+=". ")+e+l)}function Ou(e,t){return e.some(function(e){return e.isEqual(t)})}var Su=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ma(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Tu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(wu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Su);function wu(e,t){return"string"==typeof t?Eu(e,t):t instanceof $a?t._internalPath:t._delegate._internalPath}var Du=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Pu=function(e){function t(t,n,r,i,o,s){var a=this;return(a=e.call(this,t,n,r,i,s)||this)._firestore=t,a._firestoreImpl=t,a.metadata=o,a}return Object(r.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(wu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Su),ku=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Pu),Au=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Du(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new ku(n._firestore,n._userDataWriter,r.key,r,new Du(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new ku(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Du(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new ku(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Du(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Iu(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Iu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Mu(e,t){return e instanceof Pu&&t instanceof Pu?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Au&&t instanceof Au&&e._firestore===t._firestore&&Ua(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Ru(e){if(Re(e)&&0===e.explicitOrderBy.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xu=function(){};function Lu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var ju=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=iu(e.firestore),n=function(e,t,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Wu(s,o);for(var l=[],h=0,d=s;h<d.length;h++)l.push(Vu(r,e,d[h]));a={arrayValue:{values:l}}}else a=Vu(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Wu(s,o),a=pu(n,"where",s,"in"===o||"not-in"===o);var f=pe.create(i,o,a);return function(e,t){if(t.g()){var n=Le(e);if(null!==n&&!n.isEqual(t.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=xe(e);null!==r&&Gu(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new c(u.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ra(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(xu),Nu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Te(t,n);return function(e,t){if(null===xe(e)){var n=Le(e);null!==n&&Gu(0,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Ra(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ke(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(xu),Uu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){return new Ra(e.firestore,e.converter,Be(e._query,this.Hc,this.Jc))},t}(xu),Bu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=qu(e,this.type,this.Yc,this.Xc);return new Ra(e.firestore,e.converter,function(e,t){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(xu),Fu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=qu(e,this.type,this.Yc,this.Xc);return new Ra(e.firestore,e.converter,function(e,t){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(xu);function qu(e,t,n,r){if(n[0]=Object(i.getModularInstance)(n[0]),n[0]instanceof Su)return function(e,t,n,r,i){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ne(e);s<a.length;s++){var l=a[s];if(l.field.isKeyField())o.push(J(t,r.key));else{var h=r.data.field(l.field);if(B(h))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var d=l.field.canonicalString();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+d+"' (used as the orderBy) does not exist.")}o.push(h)}}return new Oe(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=iu(e.firestore);return function(e,t,n,r,i,o){var s=e.explicitOrderBy;if(i.length>s.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],l=0;l<i.length;l++){var h=i[l];if(s[l].field.isKeyField()){if("string"!=typeof h)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof h);if(!je(e)&&-1!==h.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+h+"' contains a slash.");var d=e.path.child(A.fromString(h));if(!K.isDocumentKey(d))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+d+"' is not because it contains an odd number of segments.");var f=new K(d);a.push(J(t,f))}else{var p=pu(n,r,h);a.push(p)}}return new Oe(a,o)}(e._query,e.firestore._databaseId,o,t,n,r)}function Vu(e,t,n){if("string"==typeof(n=Object(i.getModularInstance)(n))){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!je(t)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(A.fromString(n));if(!K.isDocumentKey(r))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return J(e,new K(r))}if(n instanceof Ma)return J(e,n._key);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Da(n)+".")}function Wu(e,t){if(!Array.isArray(e)||0===e.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Gu(e,t,n){if(!n.isEqual(t))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Ku=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),z(e)){case 0:return null;case 1:return e.booleanValue;case 2:return N(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(U(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g()}},e.prototype.convertObject=function(e,t){var n=this,r={};return D(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new Xa(N(e.latitude),N(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=F(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(q(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=j(e);return new S(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=A.fromString(e);v(Mn(n));var r=new pa(n.get(1),n.get(3)),i=new K(n.popFirst(5));return r.isEqual(t)||f("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function zu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Hu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new Qa(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ma(this.firestore,null,t)},t}(Ku),$u=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=iu(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Qu(e,this._firestore),i=zu(r.converter,t,n),o=ou(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ct.none())),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var s,a=Qu(e,this._firestore);return s="string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof $a?fu(this._dataReader,"WriteBatch.update",a._key,t,n,r):du(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(s.toMutation(a._key,ct.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Qu(e,this._firestore);return this._mutations=this._mutations.concat(new St(t._key,ct.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Qu(e,t){if((e=Object(i.getModularInstance)(e)).firestore!==t)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Yu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new Qa(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ma(this.firestore,null,t)},t}(Ku);function Xu(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Pa(e,Ma);var s=Pa(e.firestore,Wa),a=iu(s);return Ju(s,[("string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof $a?fu(a,"updateDoc",e._key,t,n,r):du(a,"updateDoc",e._key,t)).toMutation(e._key,ct.exists(!0))])}function Zu(e){for(var t,n,o,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];e=Object(i.getModularInstance)(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof s[c]||Fa(s[c])||(u=s[c],c++);var l,h,d,f={includeMetadataChanges:u.includeMetadataChanges};if(Fa(s[c])){var p=s[c];s[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),s[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),s[c+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof Ma)h=Pa(e.firestore,Wa),d=Ie(e._key.path),l={next:function(t){s[c]&&s[c](ec(h,e,t))},error:s[c+1],complete:s[c+2]};else{var _=Pa(e,Ra);h=Pa(_.firestore,Wa),d=_._query;var g=new Yu(h);l={next:function(e){s[c]&&s[c](new Au(h,g,_,e))},error:s[c+1],complete:s[c+2]},Ru(e._query)}return function(e,t,n,i){var o=this,s=new Xs(i),a=new rs(t,s,n);return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=Zo,[4,la(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})}),function(){s.Wo(),e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=Jo,[4,la(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})})}}(Ga(h),d,f,l)}function Ju(e,t){return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=vs,[4,ca(e)];case 1:return[2,n.apply(void 0,[r.sent(),t,i])]}})})}),i.promise}(Ga(e),t)}function ec(e,t,n){var r=n.docs.get(t._key),i=new Yu(e);return new Pu(e,i,t._key,r,new Du(n.hasPendingWrites,n.fromCache),t.converter)}var tc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(r.__extends)(t,e),t.prototype.get=function(t){var n=this,r=Qu(t,this._firestore),i=new Yu(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new Pu(n._firestore,i,r._key,e._document,new Du(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=iu(e)}return e.prototype.get=function(e){var t=this,n=Qu(e,this._firestore),r=new Hu(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return g();var i=e[0];if(i.isFoundDocument())return new Su(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Su(t._firestore,r,n._key,null,n.converter);throw g()})},e.prototype.set=function(e,t,n){var r=Qu(e,this._firestore),i=zu(r.converter,t,n),o=ou(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s,a=Qu(e,this._firestore);return s="string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof $a?fu(this._dataReader,"Transaction.update",a._key,t,n,r):du(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,s),this},e.prototype.delete=function(e){var t=Qu(e,this._firestore);return this._transaction.delete(t._key),this},e}());function nc(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rc(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ic=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return rc(),new e(Qa.fromBase64String(t))},e.fromUint8Array=function(t){return nc(),new e(Qa.fromUint8Array(t))},e.prototype.toBase64=function(){return rc(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return nc(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),oc=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Ha(e=Pa(e,Wa));var n=Ga(e),r=e._freezeSettings(),i=new Qs;return za(n,i,new Hs(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Ha(e=Pa(e,Wa));var t=Ga(e),n=e._freezeSettings(),r=new Qs;return za(t,r,new $s(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nr;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return or.yt()?[4,or.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(gi(e._databaseId,e._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return t=i.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),sc=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof pa||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var o;void 0===r&&(r={});var s=(e=Pa(e,Ia))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Hi.MOCK_USER;else{a=Object(i.createMockUserToken)(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);var h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new c(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Hi(h)}e._credentials=new ma(new ga(a,l))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,sa(e)];case 1:return t=r.sent(),[4,ua(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=m(e);return t.Or.delete(0),bo(t)}(n))]}})})})}(Ga(Pa(this._delegate,Wa)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return[4,sa(e)];case 1:return t=i.sent(),[4,ua(e)];case 2:return n=i.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return(t=m(e)).Or.add(0),[4,Eo(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(Ga(Pa(this._delegate,Wa)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Sa("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new nr;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return t=Os,[4,ca(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ga(Pa(this._delegate,Wa)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,i=new Xs(t);return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.add(t),t.next()},[4,la(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}})})}),function(){i.Wo(),e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.delete(t)},[4,la(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}})})})}}(Ga(e=Pa(e,Wa)),Fa(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Ec(this,La(this._delegate,e))}catch(e){throw fc(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new dc(this,ja(this._delegate,e))}catch(e){throw fc(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new mc(this,function(e,t){if(e=Pa(e,Ia),Ca("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ra(e,null,function(e){return new ke(A.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw fc(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,function(e){return oa(e).then(function(e){return e.datastore})}(e)];case 1:return n=r.sent(),new ea(e.asyncQueue,n,t,i).run(),[2]}})})}),i.promise}(Ga(e),function(n){return t(new tc(e,n))})}(this._delegate,function(n){return e(new cc(t,n))})},e.prototype.batch=function(){var e=this;return Ga(this._delegate),new lc(new $u(this._delegate,function(t){return Ju(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new c(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new c(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),ac=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new ic(new Qa(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return dc.eu(t,this.firestore,null)},t}(Ku);function uc(e){l.setLogLevel(e)}var cc=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ac(e)}return e.prototype.get=function(e){var t=this,n=Cc(e);return this._delegate.get(n).then(function(e){return new gc(t._firestore,new Pu(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=Cc(e);return n?(Oa("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Cc(e);return 2===arguments.length?this._delegate.update(a,t):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([a,t,n],o)),this},e.prototype.delete=function(e){var t=Cc(e);return this._delegate.delete(t),this},e}(),lc=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Cc(e);return n?(Oa("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Cc(e);return 2===arguments.length?this._delegate.update(a,t):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([a,t,n],o)),this},e.prototype.delete=function(e){var t=Cc(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),hc=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new ku(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vc(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new ac(t),n),i.set(n,o)),o},e}();hc.su=new WeakMap;var dc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ac(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ma(n._delegate,r,new K(t)))},e.eu=function(t,n,r){return new e(n,new Ma(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ec(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Ec(this.firestore,La(this._delegate,e))}catch(e){throw fc(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(i.getModularInstance)(e))instanceof Ma&&Na(this._delegate,e)},e.prototype.set=function(e,t){t=Oa("DocumentReference.set",t);try{return function(e,t,n){e=Pa(e,Ma);var r=Pa(e.firestore,Wa),i=zu(e.converter,t,n);return Ju(r,[ou(iu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ct.none())])}(this._delegate,e,t)}catch(e){throw fc(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Xu(this._delegate,e):Xu.apply(void 0,Object(r.__spreadArray)([this._delegate,e,t],n))}catch(e){throw fc(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ju(Pa((e=this._delegate).firestore,Wa),[new St(e._key,ct.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pc(t),i=_c(t,function(t){return new gc(e.firestore,new Pu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Zu(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Pa(e,Ma);var t=Pa(e.firestore,Wa),n=Ga(t),i=new Yu(t);return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return n=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Mn.mn(e,t)})}(e,t)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=zo(i,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,aa(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,i])]}})})}),i.promise}(n,e._key).then(function(n){return new Pu(t,i,e._key,n,new Du(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Pa(e,Ma);var t=Pa(e.firestore,Wa);return ha(Ga(t),e._key,{source:"server"}).then(function(n){return ec(t,e,n)})}(this._delegate):function(e){e=Pa(e,Ma);var t=Pa(e.firestore,Wa);return ha(Ga(t),e._key).then(function(n){return ec(t,e,n)})}(this._delegate)).then(function(e){return new gc(t.firestore,new Pu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?hc.nu(this.firestore,t):null))},e}();function fc(e,t,n){return e.message=e.message.replace(t,n),e}function pc(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Fa(r))return r}return{}}function _c(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Fa(e[0])?e[0]:Fa(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new dc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Mu(this._delegate,e._delegate)},e}(),vc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(gc),mc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ac(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lu(this._delegate,function(e,t,n){var r=t,i=wu("where",e);return new ju(i,r,n)}(t,n,r)))}catch(t){throw fc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lu(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=wu("orderBy",e);return new Nu(r,n)}(t,n)))}catch(t){throw fc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lu(this._delegate,function(e){return ka("limit",e),new Uu("limit",e,"F")}(t)))}catch(t){throw fc(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lu(this._delegate,function(e){return ka("limitToLast",e),new Uu("limitToLast",e,"L")}(t)))}catch(t){throw fc(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lu(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bu("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw fc(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lu(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bu("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw fc(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lu(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fu("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw fc(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lu(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fu("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw fc(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Ua(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Pa(e,Ra);var t=Pa(e.firestore,Wa),n=Ga(t),i=new Yu(t);return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return n=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ii(e,t,!0)];case 1:return u=r.sent(),i=new ls(t,u.Bn),o=i._o(u.documents),s=i.applyChanges(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),u=zo(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,aa(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,i])]}})})}),i.promise}(n,e._query).then(function(n){return new Au(t,i,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Pa(e,Ra);var t=Pa(e.firestore,Wa),n=Ga(t),r=new Yu(t);return da(n,e._query,{source:"server"}).then(function(n){return new Au(t,r,e,n)})}(this._delegate):function(e){e=Pa(e,Ra);var t=Pa(e.firestore,Wa),n=Ga(t),r=new Yu(t);return Ru(e._query),da(n,e._query).then(function(n){return new Au(t,r,e,n)})}(this._delegate)).then(function(e){return new bc(t.firestore,new Au(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pc(t),i=_c(t,function(t){return new bc(e.firestore,new Au(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Zu(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?hc.nu(this.firestore,t):null))},e}(),yc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new vc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),bc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new mc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new vc(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new yc(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new vc(n._firestore,r))})},e.prototype.isEqual=function(e){return Mu(this._delegate,e._delegate)},e}(),Ec=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new dc(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new dc(this.firestore,void 0===e?ja(this._delegate):ja(this._delegate,e))}catch(e){throw fc(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Pa(e.firestore,Wa),r=ja(e),i=zu(e.converter,t);return Ju(n,[ou(iu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ct.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new dc(t.firestore,e)})},t.prototype.isEqual=function(e){return Na(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?hc.nu(this.firestore,e):null))},t}(mc);function Cc(e){return Pa(e,Ma)}var Oc=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new($a.bind.apply($a,Object(r.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(M.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(i.getModularInstance)(e))instanceof $a&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Sc=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new uu("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new su("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cu("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lu("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new hu("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Tc(e){return function(e,t){var n=Ga(e=Pa(e,Wa)),i=new qa;return function(e,t,n,i){var o=this,s=function(e,t){return function(e,t){return new Zs(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ys(e,t);if(e instanceof ArrayBuffer)return Ys(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ho(t));e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=Ks,[4,ca(e)];case 1:return t.apply(void 0,[n.sent(),s,i]),[2]}})})})}(n,e._databaseId,t,i),i}(this._delegate,e)}function wc(e){var t,n,i=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=function(e,t){var n=m(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Ke.getNamedQuery(e,t)})},[4,aa(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}})})})}(Ga(t=Pa(t,Wa)),n).then(function(e){return e?new Ra(t,null,e.query):null})).then(function(e){return e?new mc(i,e):null})}},pxpQ:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new s(e,t))}}var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(i.a.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(i.a.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.a),u=_createClass(function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n})},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(t),n.d(t,"LogLevel",function(){return s}),n.d(t,"Logger",function(){return h}),n.d(t,"setLogLevel",function(){return d}),n.d(t,"setUserLogHandler",function(){return f});var o=[],s=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function d(e){o.forEach(function(t){t.setLogLevel(e)})}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";n.r(t),n.d(t,"CONSTANTS",function(){return i}),n.d(t,"Deferred",function(){return p}),n.d(t,"ErrorFactory",function(){return M}),n.d(t,"FirebaseError",function(){return I}),n.d(t,"MAX_VALUE_MILLIS",function(){return ce}),n.d(t,"RANDOM_FACTOR",function(){return le}),n.d(t,"Sha1",function(){return X}),n.d(t,"areCookiesEnabled",function(){return k}),n.d(t,"assert",function(){return o}),n.d(t,"assertionError",function(){return s}),n.d(t,"async",function(){return ee}),n.d(t,"base64",function(){return u}),n.d(t,"base64Decode",function(){return h}),n.d(t,"base64Encode",function(){return c}),n.d(t,"base64urlEncodeWithoutPadding",function(){return l}),n.d(t,"calculateBackoffMillis",function(){return he}),n.d(t,"contains",function(){return V}),n.d(t,"createMockUserToken",function(){return _}),n.d(t,"createSubscribe",function(){return Z}),n.d(t,"decode",function(){return N}),n.d(t,"deepCopy",function(){return d}),n.d(t,"deepEqual",function(){return z}),n.d(t,"deepExtend",function(){return f}),n.d(t,"errorPrefix",function(){return re}),n.d(t,"extractQuerystring",function(){return Y}),n.d(t,"getGlobal",function(){return A}),n.d(t,"getModularInstance",function(){return fe}),n.d(t,"getUA",function(){return g}),n.d(t,"isAdmin",function(){return q}),n.d(t,"isBrowser",function(){return y}),n.d(t,"isBrowserExtension",function(){return b}),n.d(t,"isElectron",function(){return C}),n.d(t,"isEmpty",function(){return G}),n.d(t,"isIE",function(){return O}),n.d(t,"isIndexedDBAvailable",function(){return D}),n.d(t,"isMobileCordova",function(){return v}),n.d(t,"isNode",function(){return m}),n.d(t,"isNodeSdk",function(){return T}),n.d(t,"isReactNative",function(){return E}),n.d(t,"isSafari",function(){return w}),n.d(t,"isUWP",function(){return S}),n.d(t,"isValidFormat",function(){return F}),n.d(t,"isValidTimestamp",function(){return U}),n.d(t,"issuedAtTime",function(){return B}),n.d(t,"jsonEval",function(){return L}),n.d(t,"map",function(){return K}),n.d(t,"ordinal",function(){return de}),n.d(t,"querystring",function(){return $}),n.d(t,"querystringDecode",function(){return Q}),n.d(t,"safeGet",function(){return W}),n.d(t,"stringLength",function(){return ue}),n.d(t,"stringToByteArray",function(){return ae}),n.d(t,"stringify",function(){return j}),n.d(t,"validateArgCount",function(){return ne}),n.d(t,"validateCallback",function(){return oe}),n.d(t,"validateContextObject",function(){return se}),n.d(t,"validateIndexedDBOpenable",function(){return P}),n.d(t,"validateNamespace",function(){return ie});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=a(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function _(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function y(){return"object"==typeof self&&self.self===self}function b(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function E(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function C(){return g().indexOf("Electron/")>=0}function O(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return g().indexOf("MSAppHost/")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function w(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){return"indexedDB"in self&&null!=indexedDB}function P(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})}function k(){return!(!navigator||!navigator.cookieEnabled)}function A(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var I=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,M.prototype.create),o}return Object(r.__extends)(t,e),t}(Error),M=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?R(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new I(i,a,r);return u},e}();function R(e,t){return e.replace(x,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var x=/\{\$([^}]+)}/g;function L(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}var N=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=L(h(o[0])||""),n=L(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},U=function(e){var t=N(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},B=function(e){var t=N(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},F=function(e){var t=N(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},q=function(e){var t=N(e).claims;return"object"==typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function G(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function z(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){if(!r.includes(l=o[i]))return!1;var s=e[l],a=t[l];if(H(s)&&H(a)){if(!z(s,a))return!1}else if(s!==a)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function H(e){return null!==e&&"object"==typeof e}function $(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Q(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),t}function Y(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var X=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Z(e,t){var n=new J(e,t);return n.subscribe.bind(n)}var J=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function ee(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function te(){}var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function re(e,t){return e+" failed: "+t+" argument "}function ie(e,t,n){if((!n||t)&&"string"!=typeof t)throw new Error(re(e,"namespace")+"must be a valid firebase namespace.")}function oe(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(re(e,t)+"must be a valid function.")}function se(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(re(e,t)+"must be a valid context object.")}var ae=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ce=144e5,le=.5;function he(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(le*r*(Math.random()-.5)*2);return Math.min(ce,r+i)}function de(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(e):""+e}function fe(e){return e&&e._delegate?e._delegate:e}},qUr0:function(e,t,n){"use strict";n.r(t);var r,i,o=n("jhN1"),s=n("fXoL"),a=n("ofXK"),u=n("mrSG"),c=n("3Pt+"),l={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},h=new s.r("config"),d=((i=function(){function e(t){_classCallCheck(this,e),this.config=t,this.count=0,this.config||(this.config={modules:l})}return _createClass(e,[{key:"getQuill",value:function(){var e=this;return this.count++,this.Quill||1!==this.count||(this.$importPromise=new Promise(function(t){return Object(u.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,i,o,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(8).then(n.t.bind(null,"kzlf",7));case 2:o=e.sent,this.Quill=o.default?o.default:o,null===(r=this.config.customOptions)||void 0===r||r.forEach(function(e){var t=s.Quill.import(e.import);t.whitelist=e.whitelist,s.Quill.register(t,!0,s.config.suppressGlobalRegisterWarning)}),null===(i=this.config.customModules)||void 0===i||i.forEach(function(e){var t=e.implementation,n=e.path;s.Quill.register(n,t,s.config.suppressGlobalRegisterWarning)}),t(this.Quill);case 4:case"end":return e.stop()}},e,this)}))})),this.$importPromise}}]),e}()).\u0275fac=function(e){return new(e||i)(s.cc(h))},i.\u0275prov=Object(s.Mb)({factory:function(){return new i(Object(s.cc)(h))},token:i,providedIn:"root"}),i),f=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:h,useValue:t}]}}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275mod=s.Ob({type:r}),r.\u0275inj=s.Nb({providers:[d],imports:[[a.b]]}),r),p=n("HDdC"),_=n("z6cu"),g=n("2Vo4"),v=n("XNiG"),m=n("tk/3"),y=n("lJxs"),b=n("eIep"),E=n("vkgz"),C=n("JIr8"),O=n("1G5W"),S=n("Kj3r"),T=n("1kSV"),w=n("LvDl"),D=n("Amjd"),P=n("lk/c");function k(e){return null!=e&&"false"!="".concat(e)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function I(e){return e instanceof s.l?e.nativeElement:e}var M=n("LRne"),R=n("xgIS"),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),L=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(x);n("7Hc7");var j=n("quSY"),N=(n("7+OI"),n("/uUt"),n("D0XW")),U=n("l7GE"),B=n("ZUHj"),F=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new q(e,this.durationSelector))}}]),e}(),q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=Object(B.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(U.a),V=n("PqYM");function W(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.a;return t=function(){return Object(V.a)(e,n)},function(e){return e.lift(new F(t))}}var G,K=n("pLZG"),z=n("JX91");n("Zy1z"),n("UXun");try{G="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(yc){G=!1}var H,$,Q,Y=((Q=_createClass(function e(t){_classCallCheck(this,e),this._platformId=t,this.isBrowser=this._platformId?Object(a.A)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!G)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT})).\u0275fac=function(e){return new(e||Q)(s.cc(s.C))},Q.\u0275prov=Object(s.Mb)({factory:function(){return new Q(Object(s.cc)(s.C))},token:Q,providedIn:"root"}),Q);function X(e){return function(){if(null==H&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return H=!0}}))}finally{H=H||!1}return H}()?e:!!e.capture}function Z(e){if(function(){if(null==$){var e="undefined"!=typeof document?document.head:null;$=!(!e||!e.createShadowRoot&&!e.attachShadow)}return $}()){var t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}var J,ee,te,ne,re=new s.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(s.W)(a.c)}}),ie=((ne=function(){function e(t){if(_classCallCheck(this,e),this.value="ltr",this.change=new s.n,t){var n=t.documentElement?t.documentElement.dir:null,r=(t.body?t.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).\u0275fac=function(e){return new(e||ne)(s.cc(re,8))},ne.\u0275prov=Object(s.Mb)({factory:function(){return new ne(Object(s.cc)(re,8))},token:ne,providedIn:"root"}),ne),oe=((te=function(){function e(t,n,r){_classCallCheck(this,e),this._ngZone=t,this._platform=n,this._scrolled=new v.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return _createClass(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new p.a(function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(W(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):Object(M.a)()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(K.a)(function(e){return!e||n.indexOf(e)>-1}))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach(function(r,i){t._scrollableContainsElement(i,e)&&n.push(i)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=I(t),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){var t=e._getWindow();return Object(R.a)(t.document,"scroll").subscribe(function(){return e._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||te)(s.cc(s.A),s.cc(Y),s.cc(a.c,8))},te.\u0275prov=Object(s.Mb)({factory:function(){return new te(Object(s.cc)(s.A),Object(s.cc)(Y),Object(s.cc)(a.c,8))},token:te,providedIn:"root"}),te),se=((ee=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this._platform=t,this._change=new v.a,this._changeListener=function(e){i._change.next(e)},this._document=r,n.runOutsideAngular(function(){if(t.isBrowser){var e=i._getWindow();e.addEventListener("resize",i._changeListener),e.addEventListener("orientationchange",i._changeListener)}i.change().subscribe(function(){return i._updateViewportSize()})})}return _createClass(e,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,r=t.height;return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(W(e)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}()).\u0275fac=function(e){return new(e||ee)(s.cc(Y),s.cc(s.A),s.cc(a.c,8))},ee.\u0275prov=Object(s.Mb)({factory:function(){return new ee(Object(s.cc)(Y),Object(s.cc)(s.A),Object(s.cc)(a.c,8))},token:ee,providedIn:"root"}),ee),ae=((J=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||J)},J.\u0275mod=s.Ob({type:J}),J.\u0275inj=s.Nb({}),J),ue=n("l5mm"),ce=n("VRyK"),le=n("IzEk");function he(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function de(e,t){var n=t?"":"none";he(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function fe(e,t){var n=e.style;n.position=t?"":"fixed",n.top=n.opacity=t?"":"0",n.left=t?"":"-999em"}function pe(e){var t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function _e(e,t){return e.getPropertyValue(t).split(",").map(function(e){return e.trim()})}function ge(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function ve(e,t,n){var r=e.top,i=e.bottom,o=e.left,s=e.right;return n>=r&&n<=i&&t>=o&&t<=s}function me(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function ye(e,t,n,r){var i=e.top,o=e.right,s=e.bottom,a=e.left,u=e.width*t,c=e.height*t;return r>i-c&&r<s+c&&n>a-u&&n<o+u}var be=function(){function e(t,n){_classCallCheck(this,e),this._document=t,this._viewportRuler=n,this.positions=new Map}return _createClass(e,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(e){var t=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(function(e){t.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:ge(e)})})}},{key:"handleScroll",value:function(e){var t=e.target,n=this.positions.get(t);if(!n)return null;var r,i,o=t===this._document?t.documentElement:t,s=n.scrollPosition;if(t===this._document){var a=this._viewportRuler.getViewportScrollPosition();r=a.top,i=a.left}else r=t.scrollTop,i=t.scrollLeft;var u=s.top-r,c=s.left-i;return this.positions.forEach(function(e,n){e.clientRect&&t!==n&&o.contains(n)&&me(e.clientRect,u,c)}),s.top=r,s.left=i,{top:u,left:c}}}]),e}();function Ee(e){var t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();t.removeAttribute("id");for(var i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?Te(e,t):"input"!==r&&"select"!==r&&"textarea"!==r||Se(e,t),Ce("canvas",e,t,Te),Ce("input, textarea, select",e,t,Se),t}function Ce(e,t,n,r){var i=t.querySelectorAll(e);if(i.length)for(var o=n.querySelectorAll(e),s=0;s<i.length;s++)r(i[s],o[s])}var Oe=0;function Se(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name="mat-clone-".concat(t.name,"-").concat(Oe++))}function Te(e,t){var n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(yc){}}var we=X({passive:!0}),De=X({passive:!1}),Pe=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new v.a,this._pointerMoveSubscription=j.a.EMPTY,this._pointerUpSubscription=j.a.EMPTY,this._scrollSubscription=j.a.EMPTY,this._resizeSubscription=j.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new v.a,this.started=new v.a,this.released=new v.a,this.ended=new v.a,this.entered=new v.a,this.exited=new v.a,this.dropped=new v.a,this.moved=this._moveEvents,this._pointerDown=function(e){if(a.beforeStarted.next(),a._handles.length){var t=a._handles.find(function(t){var n=e.target;return!!n&&(n===t||t.contains(n))});!t||a._disabledHandles.has(t)||a.disabled||a._initializeDragSequence(t,e)}else a.disabled||a._initializeDragSequence(a._rootElement,e)},this._pointerMove=function(e){var t=a._getPointerPositionOnPage(e);if(a._hasStartedDragging){a._boundaryElement&&(a._previewRect&&(a._previewRect.width||a._previewRect.height)||(a._previewRect=(a._preview||a._rootElement).getBoundingClientRect())),e.preventDefault();var n=a._getConstrainedPointerPosition(t);if(a._hasMoved=!0,a._lastKnownPointerPosition=t,a._updatePointerDirectionDelta(n),a._dropContainer)a._updateActiveDropContainer(n,t);else{var r=a._activeTransform;r.x=n.x-a._pickupPositionOnPage.x+a._passiveTransform.x,r.y=n.y-a._pickupPositionOnPage.y+a._passiveTransform.y,a._applyRootElementTransform(r.x,r.y),"undefined"!=typeof SVGElement&&a._rootElement instanceof SVGElement&&a._rootElement.setAttribute("transform","translate(".concat(r.x," ").concat(r.y,")"))}a._moveEvents.observers.length&&a._ngZone.run(function(){a._moveEvents.next({source:a,pointerPosition:n,event:e,distance:a._getDragDistance(n),delta:a._pointerDirectionDelta})})}else if(Math.abs(t.x-a._pickupPositionOnPage.x)+Math.abs(t.y-a._pickupPositionOnPage.y)>=a._config.dragStartThreshold){var i=Date.now()>=a._dragStartTime+a._getDragStartDelay(e),o=a._dropContainer;if(!i)return void a._endDragSequence(e);o&&(o.isDragging()||o.isReceiving())||(e.preventDefault(),a._hasStartedDragging=!0,a._ngZone.run(function(){return a._startDragSequence(e)}))}},this._pointerUp=function(e){a._endDragSequence(e)},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new be(r,o),s.registerDragItem(this)}return _createClass(e,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(e){var t=k(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(function(e){return de(e,t)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(e){var t=this;this._handles=e.map(function(e){return I(e)}),this._handles.forEach(function(e){return de(e,t.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(e){t._handles.indexOf(e)>-1&&n.add(e)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(e){return this._previewTemplate=e,this}},{key:"withPlaceholderTemplate",value:function(e){return this._placeholderTemplate=e,this}},{key:"withRootElement",value:function(e){var t=this,n=I(e);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",t._pointerDown,De),n.addEventListener("touchstart",t._pointerDown,we)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(e){var t=this;return this._boundaryElement=e?I(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return t._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(e){return this._parentDragRef=e,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Ie(this._rootElement),Ie(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),de(e,!0))}},{key:"enableHandle",value:function(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),de(e,this.disabled))}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"_withDropContainer",value:function(e){this._dropContainer=e}},{key:"getFreeDragPosition",value:function(){var e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}},{key:"setFreeDragPosition",value:function(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&Ie(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&Ie(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(e){var t=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){t._cleanupDragArtifacts(e),t._cleanupCachedDimensions(),t._dragDropRegistry.stopDragging(t)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){t.ended.next({source:t,distance:t._getDragDistance(t._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(e){Me(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var t=this._dropContainer;if(t){var n=this._rootElement,r=n.parentNode,i=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(s,n),fe(n,!1),this._document.body.appendChild(r.replaceChild(o,n)),function(e,t){return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}(this._document,a).appendChild(i),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(e,t){var n=this;this._parentDragRef&&t.stopPropagation();var r=this.isDragging(),i=Me(t),o=!i&&0!==t.button,s=this._rootElement,a=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),!(r||o||a)){this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(function(e){n._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=ge(this._boundaryElement));var u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);var c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}}},{key:"_cleanupDragArtifacts",value:function(e){var t=this;fe(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var n=t._dropContainer,r=n.getItemIndex(t),i=t._getPointerPositionOnPage(e),o=t._getDragDistance(t._getPointerPositionOnPage(e)),s=n._isOverContainer(i.x,i.y);t.ended.next({source:t,distance:o}),t.dropped.next({item:t,currentIndex:r,previousIndex:t._initialIndex,container:n,previousContainer:t._initialContainer,isPointerOverContainer:s,distance:o}),n.drop(t,r,t._initialIndex,t._initialContainer,s,o),t._dropContainer=t._initialContainer})}},{key:"_updateActiveDropContainer",value:function(e,t){var n=this,r=e.x,i=e.y,o=t.x,s=t.y,a=this._initialContainer._getSiblingContainerFromPosition(this,r,i);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,i)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=a,n._dropContainer.enter(n,r,i,a===n._initialContainer&&a.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:a,currentIndex:a.getItemIndex(n)})}),this._dropContainer._startScrollingIfNecessary(o,s),this._dropContainer._sortItem(this,r,i,this._pointerDirectionDelta),this._preview.style.transform=ke(r-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var e,t=this._previewTemplate,n=this.previewClass,r=t?t.template:null;if(r&&t){var i=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(r,t.context);o.detectChanges(),e=Re(o,this._document),this._previewRef=o,t.matchSize?xe(e,i):e.style.transform=ke(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var s=this._rootElement;xe(e=Ee(s),s.getBoundingClientRect())}return he(e.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"".concat(this._config.zIndex||1e3)}),de(e,!1),e.classList.add("cdk-drag-preview"),e.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(function(t){return e.classList.add(t)}):e.classList.add(n)),e}},{key:"_animatePreviewToPlaceholder",value:function(){var e=this;if(!this._hasMoved)return Promise.resolve();var t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=ke(t.left,t.top);var n=function(e){var t=getComputedStyle(e),n=_e(t,"transition-property"),r=n.find(function(e){return"transform"===e||"all"===e});if(!r)return 0;var i=n.indexOf(r),o=_e(t,"transition-duration"),s=_e(t,"transition-delay");return pe(o[i])+pe(s[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(t){var r=function n(r){(!r||r.target===e._preview&&"transform"===r.propertyName)&&(e._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(r,1.5*n);e._preview.addEventListener("transitionend",r)})})}},{key:"_createPlaceholderElement",value:function(){var e,t=this._placeholderTemplate,n=t?t.template:null;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),e=Re(this._placeholderRef,this._document)):e=Ee(this._rootElement),e.classList.add("cdk-drag-placeholder"),e}},{key:"_getPointerPositionInElement",value:function(e,t){var n=this._rootElement.getBoundingClientRect(),r=e===this._rootElement?null:e,i=r?r.getBoundingClientRect():n,o=Me(t)?t.targetTouches[0]:t,s=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-s.left),y:i.top-n.top+(o.pageY-i.top-s.top)}}},{key:"_getPointerPositionOnPage",value:function(e){var t=this._getViewportScrollPosition(),n=Me(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=n.pageX-t.left,i=n.pageY-t.top;if(this._ownerSVGElement){var o=this._ownerSVGElement.getScreenCTM();if(o){var s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=i,s.matrixTransform(o.inverse())}}return{x:r,y:i}}},{key:"_getConstrainedPointerPosition",value:function(e){var t=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(e,this):e,r=n.x,i=n.y;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(r=this._pickupPositionOnPage.x),this._boundaryRect){var o=this._pickupPositionInElement,s=o.x,a=o.y,u=this._boundaryRect,c=this._previewRect,l=u.top+a,h=u.bottom-(c.height-a);r=Ae(r,u.left+s,u.right-(c.width-s)),i=Ae(i,l,h)}return{x:r,y:i}}},{key:"_updatePointerDirectionDelta",value:function(e){var t=e.x,n=e.y,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-i.x),s=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>i.x?1:-1,i.x=t),s>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,de(this._rootElement,e))}}},{key:"_removeRootElementListeners",value:function(e){e.removeEventListener("mousedown",this._pointerDown,De),e.removeEventListener("touchstart",this._pointerDown,we)}},{key:"_applyRootElementTransform",value:function(e,t){var n=ke(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(e){var t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var e=this._passiveTransform,t=e.x,n=e.y;if(!(0===t&&0===n||this.isDragging())&&this._boundaryElement){var r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(!(0===r.width&&0===r.height||0===i.width&&0===i.height)){var o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,u=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>i.height?(a>0&&(n+=a),u>0&&(n-=u)):n=0,t===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:t})}}}},{key:"_getDragStartDelay",value:function(e){var t=this.dragStartDelay;return"number"==typeof t?t:Me(e)?t.touch:t?t.mouse:0}},{key:"_updateOnScroll",value:function(e){var t=this._parentPositions.handleScroll(e);if(t){var n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&me(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Z(this._rootElement)),this._cachedShadowRoot}}]),e}();function ke(e,t){return"translate3d(".concat(Math.round(e),"px, ").concat(Math.round(t),"px, 0)")}function Ae(e,t,n){return Math.max(t,Math.min(n,e))}function Ie(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Me(e){return"t"===e.type[0]}function Re(e,t){var n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];var r=t.createElement("div");return n.forEach(function(e){return r.appendChild(e)}),r}function xe(e,t){e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),e.style.transform=ke(t.left,t.top)}function Le(e,t,n){var r=je(t,e.length-1),i=je(n,e.length-1);if(r!==i){for(var o=e[r],s=i<r?-1:1,a=r;a!==i;a+=s)e[a]=e[a+s];e[i]=o}}function je(e,t){return Math.max(0,Math.min(t,e))}var Ne=function(){function e(t,n,r,i,o){var s=this;_classCallCheck(this,e),this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new v.a,this.entered=new v.a,this.exited=new v.a,this.dropped=new v.a,this.sorted=new v.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=j.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new v.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){s._stopScrolling(),Object(ue.a)(0,L).pipe(Object(O.a)(s._stopScrollTimers)).subscribe(function(){var e=s._scrollNode,t=s.autoScrollStep;1===s._verticalScrollDirection?Be(e,-t):2===s._verticalScrollDirection&&Be(e,t),1===s._horizontalScrollDirection?Fe(e,-t):2===s._horizontalScrollDirection&&Fe(e,t)})},this.element=I(t),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new be(r,o)}return _createClass(e,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(e,t,n,r){var i;this._draggingStarted(),null==r?-1===(i=this.sortingDisabled?this._draggables.indexOf(e):-1)&&(i=this._getItemIndexFromPointerPosition(e,t,n)):i=r;var o=this._activeDraggables,s=o.indexOf(e),a=e.getPlaceholderElement(),u=o[i];if(u===e&&(u=o[i+1]),s>-1&&o.splice(s,1),u&&!this._dragDropRegistry.isDragging(u)){var c=u.getRootElement();c.parentElement.insertBefore(a,c),o.splice(i,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){var l=o[0].getRootElement();l.parentNode.insertBefore(a,l),o.unshift(e)}else I(this.element).appendChild(a),o.push(e);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}},{key:"exit",value:function(e){this._reset(),this.exited.next({item:e,container:this})}},{key:"drop",value:function(e,t,n,r,i,o){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:o})}},{key:"withItems",value:function(e){var t=this,n=this._draggables;return this._draggables=e,e.forEach(function(e){return e._withDropContainer(t)}),this.isDragging()&&(n.filter(function(e){return e.isDragging()}).every(function(t){return-1===e.indexOf(t)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"connectedTo",value:function(e){return this._siblings=e.slice(),this}},{key:"withOrientation",value:function(e){return this._orientation=e,this}},{key:"withScrollableParents",value:function(e){var t=I(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t].concat(_toConsumableArray(e)):e.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(e){return this._isDragging?Ue("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(t){return t.drag===e}):this._draggables.indexOf(e)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(e,t,n,r){if(!this.sortingDisabled&&this._clientRect&&ye(this._clientRect,.05,t,n)){var i=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,n,r);if(!(-1===o&&i.length>0)){var s="horizontal"===this._orientation,a=Ue(i,function(t){return t.drag===e}),u=i[o],c=u.clientRect,l=a>o?1:-1,h=this._getItemOffsetPx(i[a].clientRect,c,l),d=this._getSiblingOffsetPx(a,i,l),f=i.slice();Le(i,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:e}),i.forEach(function(t,n){if(f[n]!==t){var r=t.drag===e,i=r?h:d,o=r?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=i,s?(o.style.transform="translate3d(".concat(Math.round(t.offset),"px, 0, 0)"),me(t.clientRect,0,i)):(o.style.transform="translate3d(0, ".concat(Math.round(t.offset),"px, 0)"),me(t.clientRect,i,0))}}),this._previousSwap.overlaps=ve(c,t,n),this._previousSwap.drag=u.drag,this._previousSwap.delta=s?r.x:r.y}}}},{key:"_startScrollingIfNecessary",value:function(e,t){var n=this;if(!this.autoScrollDisabled){var r,i=0,o=0;if(this._parentPositions.positions.forEach(function(s,a){var u;a!==n._document&&s.clientRect&&!r&&ye(s.clientRect,.05,e,t)&&(u=_slicedToArray(function(e,t,n,r){var i=qe(t,r),o=Ve(t,n),s=0,a=0;if(i){var u=e.scrollTop;1===i?u>0&&(s=1):e.scrollHeight-u>e.clientHeight&&(s=2)}if(o){var c=e.scrollLeft;1===o?c>0&&(a=1):e.scrollWidth-c>e.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,e,t),2),i=u[0],o=u[1],(i||o)&&(r=a))}),!i&&!o){var s=this._viewportRuler.getViewportSize(),a=s.width,u=s.height,c={width:a,height:u,top:0,right:a,bottom:u,left:0};i=qe(c,t),o=Ve(c,e),r=window}!r||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&r===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var e=I(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var e=I(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}},{key:"_cacheItemPositions",value:function(){var e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(e){var t=e.getVisibleElement();return{drag:e,offset:0,clientRect:ge(t)}}).sort(function(t,n){return e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var e=this;this._isDragging=!1;var t=I(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(function(t){return t._stopReceiving(e)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(e,t,n){var r="horizontal"===this._orientation,i=t[e].clientRect,o=t[e+-1*n],s=i[r?"width":"height"]*n;if(o){var a=r?"left":"top",u=r?"right":"bottom";-1===n?s-=o.clientRect[a]-i[u]:s+=i[a]-o.clientRect[u]}return s}},{key:"_getItemOffsetPx",value:function(e,t,n){var r="horizontal"===this._orientation,i=r?t.left-e.left:t.top-e.top;return-1===n&&(i+=r?t.width-e.width:t.height-e.height),i}},{key:"_shouldEnterAsFirstChild",value:function(e,t){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var i=n[n.length-1].clientRect;return r?e>=i.right:t>=i.bottom}var o=n[0].clientRect;return r?e<=o.left:t<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(e,t,n,r){var i=this,o="horizontal"===this._orientation,s=Ue(this._itemPositions,function(s,a,u){var c=s.drag,l=s.clientRect;if(c===e)return u.length<2;if(r){var h=o?r.x:r.y;if(c===i._previousSwap.drag&&i._previousSwap.overlaps&&h===i._previousSwap.delta)return!1}return o?t>=Math.floor(l.left)&&t<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return-1!==s&&this.sortPredicate(s,e,this)?s:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(e,t){return null!=this._clientRect&&ve(this._clientRect,e,t)}},{key:"_getSiblingContainerFromPosition",value:function(e,t,n){return this._siblings.find(function(r){return r._canReceive(e,t,n)})}},{key:"_canReceive",value:function(e,t,n){if(!this._clientRect||!ve(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;var r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;var i=I(this.element);return r===i||i.contains(r)}},{key:"_startReceiving",value:function(e,t){var n=this,r=this._activeSiblings;!r.has(e)&&t.every(function(e){return n.enterPredicate(e,n)||n._draggables.indexOf(e)>-1})&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var e=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(function(t){if(e.isDragging()){var n=e._parentPositions.handleScroll(t);n&&(e._itemPositions.forEach(function(e){me(e.clientRect,n.top,n.left)}),e._itemPositions.forEach(function(t){var n=t.drag;e._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else e.isReceiving()&&e._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var e=Z(I(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var e=this,t=this._activeDraggables.filter(function(e){return e.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(e,t)})}}]),e}();function Ue(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function Be(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function Fe(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function qe(e,t){var n=e.top,r=e.bottom,i=.05*e.height;return t>=n-i&&t<=n+i?1:t>=r-i&&t<=r+i?2:0}function Ve(e,t){var n=e.left,r=e.right,i=.05*e.width;return t>=n-i&&t<=n+i?1:t>=r-i&&t<=r+i?2:0}var We,Ge,Ke,ze,He,$e=X({passive:!1,capture:!0}),Qe=((We=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(e){return e.isDragging()},this.pointerMove=new v.a,this.pointerUp=new v.a,this.scroll=new v.a,this._preventDefaultWhileDragging=function(e){r._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=function(e){r._activeDragInstances.length>0&&(r._activeDragInstances.some(r._draggingPredicate)&&e.preventDefault(),r.pointerMove.next(e))},this._document=n}return _createClass(e,[{key:"registerDropContainer",value:function(e){this._dropInstances.has(e)||this._dropInstances.add(e)}},{key:"registerDragItem",value:function(e){var t=this;this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){t._document.addEventListener("touchmove",t._persistentTouchmoveListener,$e)})}},{key:"removeDropContainer",value:function(e){this._dropInstances.delete(e)}},{key:"removeDragItem",value:function(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,$e)}},{key:"startDragging",value:function(e,t){var n=this;if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){var r=t.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:function(e){return n.pointerUp.next(e)},options:!0}).set("scroll",{handler:function(e){return n.scroll.next(e)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:$e}),r||this._globalListeners.set("mousemove",{handler:function(e){return n.pointerMove.next(e)},options:$e}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(e,t){n._document.addEventListener(t,e.handler,e.options)})})}}},{key:"stopDragging",value:function(e){var t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(e){return this._activeDragInstances.indexOf(e)>-1}},{key:"ngOnDestroy",value:function(){var e=this;this._dragInstances.forEach(function(t){return e.removeDragItem(t)}),this._dropInstances.forEach(function(t){return e.removeDropContainer(t)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var e=this;this._globalListeners.forEach(function(t,n){e._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}}]),e}()).\u0275fac=function(e){return new(e||We)(s.cc(s.A),s.cc(a.c))},We.\u0275prov=Object(s.Mb)({factory:function(){return new We(Object(s.cc)(s.A),Object(s.cc)(a.c))},token:We,providedIn:"root"}),We),Ye={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Xe=((Ge=function(){function e(t,n,r,i){_classCallCheck(this,e),this._document=t,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=i}return _createClass(e,[{key:"createDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye;return new Pe(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(e){return new Ne(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),e}()).\u0275fac=function(e){return new(e||Ge)(s.cc(a.c),s.cc(s.A),s.cc(se),s.cc(Qe))},Ge.\u0275prov=Object(s.Mb)({factory:function(){return new Ge(Object(s.cc)(a.c),Object(s.cc)(s.A),Object(s.cc)(se),Object(s.cc)(Qe))},token:Ge,providedIn:"root"}),Ge),Ze=new s.r("CDK_DRAG_PARENT"),Je=new s.r("CdkDropListGroup"),et=((Ke=function(){function e(){_classCallCheck(this,e),this._items=new Set,this._disabled=!1}return _createClass(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=k(e)}},{key:"ngOnDestroy",value:function(){this._items.clear()}}]),e}()).\u0275fac=function(e){return new(e||Ke)},Ke.\u0275dir=s.Lb({type:Ke,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[s.Cb([{provide:Je,useExisting:Ke}])]}),Ke),tt=new s.r("CDK_DRAG_CONFIG"),nt=0,rt=new s.r("CdkDropList"),it=((ze=function(){function e(t,n,r,i,o,a,u){var c=this;_classCallCheck(this,e),this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=i,this._dir=o,this._group=a,this._destroyed=new v.a,this.connectedTo=[],this.id="cdk-drop-list-"+nt++,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.dropped=new s.n,this.entered=new s.n,this.exited=new s.n,this.sorted=new s.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=function(e,t){return c.enterPredicate(e.data,t.data)},this._dropListRef.sortPredicate=function(e,t,n){return c.sortPredicate(e,t.data,n.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),a&&a._items.add(this)}return _createClass(e,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(e){this._dropListRef.disabled=this._disabled=k(e)}},{key:"addItem",value:function(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(e,t){return e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(t){var n=this;this._dir&&this._dir.change.pipe(Object(z.a)(this._dir.value),Object(O.a)(this._destroyed)).subscribe(function(e){return t.withDirection(e)}),t.beforeStarted.subscribe(function(){var r,i=(r=n.connectedTo,Array.isArray(r)?r:[r]).map(function(t){return"string"==typeof t?e._dropLists.find(function(e){return e.id===t}):t});if(n._group&&n._group._items.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),!n._scrollableParentsResolved){var o=n._scrollDispatcher.getAncestorScrollContainers(n.element).map(function(e){return e.getElementRef().nativeElement});n._dropListRef.withScrollableParents(o),n._scrollableParentsResolved=!0}t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.sortingDisabled=k(n.sortingDisabled),t.autoScrollDisabled=k(n.autoScrollDisabled),t.autoScrollStep=A(n.autoScrollStep,2),t.connectedTo(i.filter(function(e){return e&&e!==n}).map(function(e){return e._dropListRef})).withOrientation(n.orientation)})}},{key:"_handleEvents",value:function(e){var t=this;e.beforeStarted.subscribe(function(){t._syncItemsWithRef(),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:t,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:t,item:e.item.data}),t._changeDetectorRef.markForCheck()}),e.sorted.subscribe(function(e){t.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:t,item:e.item.data})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),t._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.draggingDisabled,r=e.sortingDisabled,i=e.listAutoScrollDisabled,o=e.listOrientation;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=o||"vertical",t&&(this.lockAxis=t)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map(function(e){return e._dragRef}))}}]),e}()).\u0275fac=function(e){return new(e||ze)(s.Qb(s.l),s.Qb(Xe),s.Qb(s.h),s.Qb(oe),s.Qb(ie,8),s.Qb(Je,12),s.Qb(tt,8))},ze.\u0275dir=s.Lb({type:ze,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(s.Eb("id",t.id),s.Ib("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[s.Cb([{provide:Je,useValue:void 0},{provide:rt,useExisting:ze}])]}),ze._dropLists=[],ze),ot=new s.r("CdkDragHandle"),st=new s.r("CdkDragPlaceholder"),at=new s.r("CdkDragPreview"),ut=((He=function(){function e(t,n,r,i,o,a,u,c,l,h,d){var f=this;_classCallCheck(this,e),this.element=t,this.dropContainer=n,this._ngZone=i,this._viewContainerRef=o,this._dir=u,this._changeDetectorRef=l,this._selfHandle=h,this._parentDrag=d,this._destroyed=new v.a,this.started=new s.n,this.released=new s.n,this.ended=new s.n,this.entered=new s.n,this.exited=new s.n,this.dropped=new s.n,this.moved=new p.a(function(e){var t=f._dragRef.moved.pipe(Object(y.a)(function(e){return{source:f,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}})).subscribe(e);return function(){t.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(e,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(e){this._disabled=k(e),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.onStable.pipe(Object(le.a)(1),Object(O.a)(this._destroyed)).subscribe(function(){e._updateRootElement(),e._handles.changes.pipe(Object(z.a)(e._handles),Object(E.a)(function(t){var n=t.filter(function(t){return t._parentDrag===e}).map(function(e){return e.element});e._selfHandle&&e.rootElementSelector&&n.push(e.element),e._dragRef.withHandles(n)}),Object(b.a)(function(e){return Object(ce.a).apply(void 0,_toConsumableArray(e.map(function(e){return e._stateChanges.pipe(Object(z.a)(e))})))}),Object(O.a)(e._destroyed)).subscribe(function(t){var n=e._dragRef,r=t.element.nativeElement;t.disabled?n.disableHandle(r):n.enableHandle(r)}),e.freeDragPosition&&e._dragRef.setFreeDragPosition(e.freeDragPosition)})}},{key:"ngOnChanges",value:function(e){var t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this);var t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var e=this.element.nativeElement,t=this.rootElementSelector?ct(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}},{key:"_getBoundaryElement",value:function(){var e=this.boundaryElement;return e?"string"==typeof e?ct(this.element.nativeElement,e):I(e):null}},{key:"_syncInputs",value:function(t){var n=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var e=n._dir,r=n.dragStartDelay,i=n._placeholderTemplate?{template:n._placeholderTemplate.templateRef,context:n._placeholderTemplate.data,viewContainer:n._viewContainerRef}:null,o=n._previewTemplate?{template:n._previewTemplate.templateRef,context:n._previewTemplate.data,matchSize:n._previewTemplate.matchSize,viewContainer:n._viewContainerRef}:null;t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:A(r),t.constrainPosition=n.constrainPosition,t.previewClass=n.previewClass,t.withBoundaryElement(n._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe(Object(le.a)(1)).subscribe(function(){var r,i;if(n._parentDrag)t.withParent(n._parentDrag._dragRef);else for(var o=n.element.nativeElement.parentElement;o;){if(null===(r=o.classList)||void 0===r?void 0:r.contains("cdk-drag")){t.withParent((null===(i=e._dragInstances.find(function(e){return e.element.nativeElement===o}))||void 0===i?void 0:i._dragRef)||null);break}o=o.parentElement}})}},{key:"_handleEvents",value:function(e){var t=this;e.started.subscribe(function(){t.started.emit({source:t}),t._changeDetectorRef.markForCheck()}),e.released.subscribe(function(){t.released.emit({source:t})}),e.ended.subscribe(function(e){t.ended.emit({source:t,distance:e.distance}),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:e.container.data,item:t,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:e.container.data,item:t})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:t,distance:e.distance})})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.dragStartDelay,r=e.constrainPosition,i=e.previewClass,o=e.boundaryElement,s=e.draggingDisabled,a=e.rootElementSelector;this.disabled=null!=s&&s,this.dragStartDelay=n||0,t&&(this.lockAxis=t),r&&(this.constrainPosition=r),i&&(this.previewClass=i),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a)}}]),e}()).\u0275fac=function(e){return new(e||He)(s.Qb(s.l),s.Qb(rt,12),s.Qb(a.c),s.Qb(s.A),s.Qb(s.R),s.Qb(tt,8),s.Qb(ie,8),s.Qb(Xe),s.Qb(s.h),s.Qb(ot,10),s.Qb(Ze,12))},He.\u0275dir=s.Lb({type:He,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){var r;1&e&&(s.Jb(n,at,1),s.Jb(n,st,1),s.Jb(n,ot,1)),2&e&&(s.zc(r=s.gc())&&(t._previewTemplate=r.first),s.zc(r=s.gc())&&(t._placeholderTemplate=r.first),s.zc(r=s.gc())&&(t._handles=r))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&s.Ib("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[s.Cb([{provide:Ze,useExisting:He}]),s.Bb]}),He._dragInstances=[],He);function ct(e,t){for(var n=e.parentElement;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}var lt,ht,dt=((lt=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||lt)},lt.\u0275mod=s.Ob({type:lt}),lt.\u0275inj=s.Nb({providers:[Xe],imports:[ae]}),lt),ft=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).value=null,e.hasNext=!1,e.hasCompleted=!1,e}return _createClass(n,[{key:"_subscribe",value:function(e){return this.hasError?(e.error(this.thrownError),j.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),j.a.EMPTY):_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e)}},{key:"next",value:function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}},{key:"error",value:function(e){this.hasCompleted||_get(_getPrototypeOf(n.prototype),"error",this).call(this,e)}},{key:"complete",value:function(){this.hasCompleted=!0,this.hasNext&&_get(_getPrototypeOf(n.prototype),"next",this).call(this,this.value),_get(_getPrototypeOf(n.prototype),"complete",this).call(this)}}]),n}(v.a),pt=((ht=function(){function e(){_classCallCheck(this,e),this.audio=new Map}return _createClass(e,[{key:"loadScript",value:function(e){var t=this;this.loaded=new ft;var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),document.body.appendChild(n),Object(R.a)(n,"load").subscribe(function(){t.loaded.next(Howl),t.loaded.complete()}),Object(R.a)(n,"error").subscribe(function(){console.warn("howler load failed")})}},{key:"register",value:function(e,t){var n=this;return this.loaded.pipe(Object(y.a)(function(r){return n.audio.set(e,new r(t)),n.audio.has(e)}))}},{key:"get",value:function(e){return this.audio.get(e)}},{key:"unregister",value:function(e){return!this.audio.has(e)||(this.audio.get(e).off(),this.audio.delete(e))}}]),e}()).\u0275fac=function(e){return new(e||ht)},ht.\u0275prov=s.Mb({token:ht,factory:ht.\u0275fac}),ht),_t=n("HlzF");function gt(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function vt(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach(function(n){void 0===e[n]?e[n]=t[n]:gt(t[n])&&gt(e[n])&&Object.keys(t[n]).length>0&&vt(e[n],t[n])})}var mt="undefined"!=typeof document?document:{},yt={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};vt(mt,yt);var bt="undefined"!=typeof window?window:{};vt(bt,{document:yt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}}});var Et=_createClass(function e(t){_classCallCheck(this,e);for(var n=0;n<t.length;n+=1)this[n]=t[n];return this.length=t.length,this});function Ct(e,t){var n=[],r=0;if(e&&!t&&e instanceof Et)return e;if(e)if("string"==typeof e){var i,o,s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var a="div";for(0===s.indexOf("<li")&&(a="ul"),0===s.indexOf("<tr")&&(a="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(a="tr"),0===s.indexOf("<tbody")&&(a="table"),0===s.indexOf("<option")&&(a="select"),(o=mt.createElement(a)).innerHTML=s,r=0;r<o.childNodes.length;r+=1)n.push(o.childNodes[r])}else for(i=t||"#"!==e[0]||e.match(/[ .<>:~]/)?(t||mt).querySelectorAll(e.trim()):[mt.getElementById(e.trim().split("#")[1])],r=0;r<i.length;r+=1)i[r]&&n.push(i[r])}else if(e.nodeType||e===bt||e===mt)n.push(e);else if(e.length>0&&e[0].nodeType)for(r=0;r<e.length;r+=1)n.push(e[r]);return new Et(n)}function Ot(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}Ct.fn=Et.prototype,Ct.Class=Et,Ct.Dom7=Et,"resize scroll".split(" ");var St={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.remove(t[n]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.toggle(t[n]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},data:function(e,t){var n;if(void 0!==t){for(var r=0;r<this.length;r+=1)(n=this[r]).dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=t;return this}if(n=this[0])return n.dom7ElementDataStorage&&e in n.dom7ElementDataStorage?n.dom7ElementDataStorage[e]:n.getAttribute("data-".concat(e))||void 0},transform:function(e){for(var t=0;t<this.length;t+=1){var n=this[t].style;n.webkitTransform=e,n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e="".concat(e,"ms"));for(var t=0;t<this.length;t+=1){var n=this[t].style;n.webkitTransitionDuration=e,n.transitionDuration=e}return this},on:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];function u(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),Ct(t).is(o))s.apply(t,n);else for(var r=Ct(t).parents(),i=0;i<r.length;i+=1)Ct(r[i]).is(o)&&s.apply(r[i],n)}}function c(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),s.apply(this,t)}"function"==typeof n[1]&&(i=(e=_slicedToArray(n,3))[0],s=e[1],a=e[2],o=void 0),a||(a=!1);for(var l,h=i.split(" "),d=0;d<this.length;d+=1){var f=this[d];if(o)for(l=0;l<h.length;l+=1){var p=h[l];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[p]||(f.dom7LiveListeners[p]=[]),f.dom7LiveListeners[p].push({listener:s,proxyListener:u}),f.addEventListener(p,u,a)}else for(l=0;l<h.length;l+=1){var _=h[l];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[_]||(f.dom7Listeners[_]=[]),f.dom7Listeners[_].push({listener:s,proxyListener:c}),f.addEventListener(_,c,a)}}return this},off:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];"function"==typeof n[1]&&(i=(e=_slicedToArray(n,3))[0],s=e[1],a=e[2],o=void 0),a||(a=!1);for(var u=i.split(" "),c=0;c<u.length;c+=1)for(var l=u[c],h=0;h<this.length;h+=1){var d=this[h],f=void 0;if(!o&&d.dom7Listeners?f=d.dom7Listeners[l]:o&&d.dom7LiveListeners&&(f=d.dom7LiveListeners[l]),f&&f.length)for(var p=f.length-1;p>=0;p-=1){var _=f[p];s&&_.listener===s||s&&_.listener&&_.listener.dom7proxy&&_.listener.dom7proxy===s?(d.removeEventListener(l,_.proxyListener,a),f.splice(p,1)):s||(d.removeEventListener(l,_.proxyListener,a),f.splice(p,1))}}return this},trigger:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0].split(" "),i=t[1],o=0;o<r.length;o+=1)for(var s=r[o],a=0;a<this.length;a+=1){var u=this[a],c=void 0;try{c=new bt.CustomEvent(s,{detail:i,bubbles:!0,cancelable:!0})}catch(l){(c=mt.createEvent("Event")).initEvent(s,!0,!0),c.detail=i}u.dom7EventData=t.filter(function(e,t){return t>0}),u.dispatchEvent(c),u.dom7EventData=[],delete u.dom7EventData}return this},transitionEnd:function(e){var t,n=["webkitTransitionEnd","transitionend"],r=this;function i(o){if(o.target===this)for(e.call(this,o),t=0;t<n.length;t+=1)r.off(n[t],i)}if(e)for(t=0;t<n.length;t+=1)r.on(n[t],i);return this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),n=mt.body;return{top:t.top+(e===bt?bt.scrollY:e.scrollTop)-(e.clientTop||n.clientTop||0),left:t.left+(e===bt?bt.scrollX:e.scrollLeft)-(e.clientLeft||n.clientLeft||0)}}return null},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var r in e)this[n].style[r]=e[r];return this}if(this[0])return bt.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=this[0];if(!r||void 0===e)return!1;if("string"==typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(t=Ct(e),n=0;n<t.length;n+=1)if(t[n]===r)return!0;return!1}if(e===mt)return r===mt;if(e===bt)return r===bt;if(e.nodeType||e instanceof Et){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===r)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t,n=this.length;return e>n-1?new Et([]):e<0?new Et((t=n+e)<0?[]:[this[t]]):new Et([this[e]])},append:function(){for(var e,t=0;t<arguments.length;t+=1){e=t<0||arguments.length<=t?void 0:arguments[t];for(var n=0;n<this.length;n+=1)if("string"==typeof e){var r=mt.createElement("div");for(r.innerHTML=e;r.firstChild;)this[n].appendChild(r.firstChild)}else if(e instanceof Et)for(var i=0;i<e.length;i+=1)this[n].appendChild(e[i]);else this[n].appendChild(e)}return this},prepend:function(e){var t,n;for(t=0;t<this.length;t+=1)if("string"==typeof e){var r=mt.createElement("div");for(r.innerHTML=e,n=r.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(r.childNodes[n],this[t].childNodes[0])}else if(e instanceof Et)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&Ct(this[0].nextElementSibling).is(e)?new Et([this[0].nextElementSibling]):new Et([]):new Et(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):new Et([])},nextAll:function(e){var t=[],n=this[0];if(!n)return new Et([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?Ct(r).is(e)&&t.push(r):t.push(r),n=r}return new Et(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&Ct(t.previousElementSibling).is(e)?new Et([t.previousElementSibling]):new Et([]):new Et(t.previousElementSibling?[t.previousElementSibling]:[])}return new Et([])},prevAll:function(e){var t=[],n=this[0];if(!n)return new Et([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?Ct(r).is(e)&&t.push(r):t.push(r),n=r}return new Et(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?Ct(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return Ct(Ot(t))},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?Ct(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return Ct(Ot(t))},closest:function(e){var t=this;return void 0===e?new Et([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return new Et(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].childNodes,i=0;i<r.length;i+=1)e?1===r[i].nodeType&&Ct(r[i]).is(e)&&t.push(r[i]):1===r[i].nodeType&&t.push(r[i]);return new Et(Ot(t))},filter:function(e){for(var t=[],n=this,r=0;r<n.length;r+=1)e.call(n[r],r,n[r])&&t.push(n[r]);return new Et(t)},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){for(var e,t,n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(e=0;e<i.length;e+=1){var s=Ct(i[e]);for(t=0;t<s.length;t+=1)n[n.length]=s[t],n.length+=1}return n},styles:function(){return this[0]?bt.getComputedStyle(this[0],null):{}}};Object.keys(St).forEach(function(e){Ct.fn[e]=Ct.fn[e]||St[e]});var Tt,wt,Dt,Pt,kt,At,It,Mt,Rt,xt,Lt,jt,Nt,Ut,Bt,Ft={deleteProps:function(e){var t=e;Object.keys(t).forEach(function(e){try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}})},nextTick:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)},now:function(){return Date.now()},getTranslate:function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=bt.getComputedStyle(e,null);return bt.WebKitCSSMatrix?((n=o.transform||o.webkitTransform).split(",").length>6&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new bt.WebKitCSSMatrix("none"===n?"":n)):t=(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===i&&(n=bt.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===i&&(n=bt.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),n||0},parseUrlQuery:function(e){var t,n,r,i,o={},s=e||bt.location.href;if("string"==typeof s&&s.length)for(i=(n=(s=s.indexOf("?")>-1?s.replace(/\S*\?/,""):"").split("&").filter(function(e){return""!==e})).length,t=0;t<i;t+=1)r=n[t].replace(/#\S+/g,"").split("="),o[decodeURIComponent(r[0])]=void 0===r[1]?void 0:decodeURIComponent(r[1])||"";return o},isObject:function(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object},extend:function(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=1;t<arguments.length;t+=1){var n=t<0||arguments.length<=t?void 0:arguments[t];if(null!=n)for(var r=Object.keys(Object(n)),i=0,o=r.length;i<o;i+=1){var s=r[i],a=Object.getOwnPropertyDescriptor(n,s);void 0!==a&&a.enumerable&&(Ft.isObject(e[s])&&Ft.isObject(n[s])?Ft.extend(e[s],n[s]):!Ft.isObject(e[s])&&Ft.isObject(n[s])?(e[s]={},Ft.extend(e[s],n[s])):e[s]=n[s])}}return e}},qt={touch:!!("ontouchstart"in bt||bt.DocumentTouch&&mt instanceof bt.DocumentTouch),pointerEvents:!!bt.PointerEvent&&"maxTouchPoints"in bt.navigator&&bt.navigator.maxTouchPoints>=0,observer:"MutationObserver"in bt||"WebkitMutationObserver"in bt,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});bt.addEventListener("testPassiveListener",null,t)}catch(n){}return e}(),gestures:"ongesturestart"in bt},Vt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);var n=this;n.params=t,n.eventsListeners={},n.params&&n.params.on&&Object.keys(n.params.on).forEach(function(e){n.on(e,n.params.on[e])})}return _createClass(e,[{key:"on",value:function(e,t,n){var r=this;if("function"!=typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach(function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)}),r}},{key:"once",value:function(e,t,n){var r=this;if("function"!=typeof t)return r;function i(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];r.off(e,i),i.f7proxy&&delete i.f7proxy,t.apply(r,o)}return i.f7proxy=t,r.on(e,i,n)}},{key:"off",value:function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].length&&n.eventsListeners[e].forEach(function(r,i){(r===t||r.f7proxy&&r.f7proxy===t)&&n.eventsListeners[e].splice(i,1)})}),n):n}},{key:"emit",value:function(){var e,t,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return"string"==typeof o[0]||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),n=r):(e=o[0].events,t=o[0].data,n=o[0].context||r),(Array.isArray(e)?e:e.split(" ")).forEach(function(e){if(r.eventsListeners&&r.eventsListeners[e]){var i=[];r.eventsListeners[e].forEach(function(e){i.push(e)}),i.forEach(function(e){e.apply(n,t)})}}),r}},{key:"useModulesParams",value:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach(function(n){var r=t.modules[n];r.params&&Ft.extend(e,r.params)})}},{key:"useModules",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.modules&&Object.keys(t.modules).forEach(function(n){var r=t.modules[n],i=e[n]||{};r.instance&&Object.keys(r.instance).forEach(function(e){var n=r.instance[e];t[e]="function"==typeof n?n.bind(t):n}),r.on&&t.on&&Object.keys(r.on).forEach(function(e){t.on(e,r.on[e])}),r.create&&r.create.bind(t)(i)})}}],[{key:"components",set:function(e){this.use&&this.use(e)}},{key:"installModule",value:function(e){var t=this;t.prototype.modules||(t.prototype.modules={});for(var n=e.name||"".concat(Object.keys(t.prototype.modules).length,"_").concat(Ft.now()),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.prototype.modules[n]=e,e.proto&&Object.keys(e.proto).forEach(function(n){t.prototype[n]=e.proto[n]}),e.static&&Object.keys(e.static).forEach(function(n){t[n]=e.static[n]}),e.install&&e.install.apply(t,i),t}},{key:"use",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Array.isArray(e)?(e.forEach(function(e){return t.installModule(e)}),t):t.installModule.apply(t,[e].concat(r))}}]),e}(),Wt={updateSize:function(){var e,t,n=this.$el;e=void 0!==this.params.width?this.params.width:n[0].clientWidth,t=void 0!==this.params.height?this.params.height:n[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(n.css("padding-left"),10)-parseInt(n.css("padding-right"),10),t=t-parseInt(n.css("padding-top"),10)-parseInt(n.css("padding-bottom"),10),Ft.extend(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this,t=e.params,n=e.$wrapperEl,r=e.size,i=e.rtlTranslate,o=e.wrongRTL,s=e.virtual&&t.virtual.enabled,a=s?e.virtual.slides.length:e.slides.length,u=n.children(".".concat(e.params.slideClass)),c=s?e.virtual.slides.length:u.length,l=[],h=[],d=[];function f(e){return!t.cssMode||e!==u.length-1}var p=t.slidesOffsetBefore;"function"==typeof p&&(p=t.slidesOffsetBefore.call(e));var _=t.slidesOffsetAfter;"function"==typeof _&&(_=t.slidesOffsetAfter.call(e));var g,v,m=e.snapGrid.length,y=e.snapGrid.length,b=t.spaceBetween,E=-p,C=0,O=0;if(void 0!==r){"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*r),e.virtualSize=-b,u.css(i?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),t.slidesPerColumn>1&&(g=Math.floor(c/t.slidesPerColumn)===c/e.params.slidesPerColumn?c:Math.ceil(c/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(g=Math.max(g,t.slidesPerView*t.slidesPerColumn)));for(var S,T=t.slidesPerColumn,w=g/T,D=Math.floor(c/t.slidesPerColumn),P=0;P<c;P+=1){v=0;var k=u.eq(P);if(t.slidesPerColumn>1){var A=void 0,I=void 0,M=void 0;if("row"===t.slidesPerColumnFill&&t.slidesPerGroup>1){var R=Math.floor(P/(t.slidesPerGroup*t.slidesPerColumn)),x=P-t.slidesPerColumn*t.slidesPerGroup*R,L=0===R?t.slidesPerGroup:Math.min(Math.ceil((c-R*T*t.slidesPerGroup)/T),t.slidesPerGroup);A=(I=x-(M=Math.floor(x/L))*L+R*t.slidesPerGroup)+M*g/T,k.css({"-webkit-box-ordinal-group":A,"-moz-box-ordinal-group":A,"-ms-flex-order":A,"-webkit-order":A,order:A})}else"column"===t.slidesPerColumnFill?(M=P-(I=Math.floor(P/T))*T,(I>D||I===D&&M===T-1)&&((M+=1)>=T&&(M=0,I+=1))):I=P-(M=Math.floor(P/w))*w;k.css("margin-"+(e.isHorizontal()?"top":"left"),0!==M&&t.spaceBetween&&"".concat(t.spaceBetween,"px"))}if("none"!==k.css("display")){if("auto"===t.slidesPerView){var j=bt.getComputedStyle(k[0],null),N=k[0].style.transform,U=k[0].style.webkitTransform;if(N&&(k[0].style.transform="none"),U&&(k[0].style.webkitTransform="none"),t.roundLengths)v=e.isHorizontal()?k.outerWidth(!0):k.outerHeight(!0);else if(e.isHorizontal()){var B=parseFloat(j.getPropertyValue("width")),F=parseFloat(j.getPropertyValue("padding-left")),q=parseFloat(j.getPropertyValue("padding-right")),V=parseFloat(j.getPropertyValue("margin-left")),W=parseFloat(j.getPropertyValue("margin-right")),G=j.getPropertyValue("box-sizing");v=G&&"border-box"===G?B+V+W:B+F+q+V+W}else{var K=parseFloat(j.getPropertyValue("height")),z=parseFloat(j.getPropertyValue("padding-top")),H=parseFloat(j.getPropertyValue("padding-bottom")),$=parseFloat(j.getPropertyValue("margin-top")),Q=parseFloat(j.getPropertyValue("margin-bottom")),Y=j.getPropertyValue("box-sizing");v=Y&&"border-box"===Y?K+$+Q:K+z+H+$+Q}N&&(k[0].style.transform=N),U&&(k[0].style.webkitTransform=U),t.roundLengths&&(v=Math.floor(v))}else v=(r-(t.slidesPerView-1)*b)/t.slidesPerView,t.roundLengths&&(v=Math.floor(v)),u[P]&&(e.isHorizontal()?u[P].style.width="".concat(v,"px"):u[P].style.height="".concat(v,"px"));u[P]&&(u[P].swiperSlideSize=v),d.push(v),t.centeredSlides?(E=E+v/2+C/2+b,0===C&&0!==P&&(E=E-r/2-b),0===P&&(E=E-r/2-b),Math.abs(E)<.001&&(E=0),t.roundLengths&&(E=Math.floor(E)),O%t.slidesPerGroup==0&&l.push(E),h.push(E)):(t.roundLengths&&(E=Math.floor(E)),(O-Math.min(e.params.slidesPerGroupSkip,O))%e.params.slidesPerGroup==0&&l.push(E),h.push(E),E=E+v+b),e.virtualSize+=v+b,C=v,O+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+_,i&&o&&("slide"===t.effect||"coverflow"===t.effect)&&n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}),t.setWrapperSize&&(e.isHorizontal()?n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}):n.css({height:"".concat(e.virtualSize+t.spaceBetween,"px")})),t.slidesPerColumn>1&&(e.virtualSize=(v+t.spaceBetween)*g,e.virtualSize=Math.ceil(e.virtualSize/t.slidesPerColumn)-t.spaceBetween,e.isHorizontal()?n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}):n.css({height:"".concat(e.virtualSize+t.spaceBetween,"px")}),t.centeredSlides)){S=[];for(var X=0;X<l.length;X+=1){var Z=l[X];t.roundLengths&&(Z=Math.floor(Z)),l[X]<e.virtualSize+l[0]&&S.push(Z)}l=S}if(!t.centeredSlides){S=[];for(var J=0;J<l.length;J+=1){var ee=l[J];t.roundLengths&&(ee=Math.floor(ee)),l[J]<=e.virtualSize-r&&S.push(ee)}l=S,Math.floor(e.virtualSize-r)-Math.floor(l[l.length-1])>1&&l.push(e.virtualSize-r)}if(0===l.length&&(l=[0]),0!==t.spaceBetween&&(e.isHorizontal()?i?u.filter(f).css({marginLeft:"".concat(b,"px")}):u.filter(f).css({marginRight:"".concat(b,"px")}):u.filter(f).css({marginBottom:"".concat(b,"px")})),t.centeredSlides&&t.centeredSlidesBounds){var te=0;d.forEach(function(e){te+=e+(t.spaceBetween?t.spaceBetween:0)});var ne=(te-=t.spaceBetween)-r;l=l.map(function(e){return e<0?-p:e>ne?ne+_:e})}if(t.centerInsufficientSlides){var re=0;if(d.forEach(function(e){re+=e+(t.spaceBetween?t.spaceBetween:0)}),(re-=t.spaceBetween)<r){var ie=(r-re)/2;l.forEach(function(e,t){l[t]=e-ie}),h.forEach(function(e,t){h[t]=e+ie})}}Ft.extend(e,{slides:u,snapGrid:l,slidesGrid:h,slidesSizesGrid:d}),c!==a&&e.emit("slidesLengthChange"),l.length!==m&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==y&&e.emit("slidesGridLengthChange"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,n=this,r=[],i=0;if("number"==typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed),"auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each(function(e,t){r.push(t)});else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var o=n.activeIndex+t;if(o>n.slides.length)break;r.push(n.slides.eq(o)[0])}else r.push(n.slides.eq(n.activeIndex)[0]);for(t=0;t<r.length;t+=1)if(void 0!==r[t]){var s=r[t].offsetHeight;i=s>i?s:i}i&&n.$wrapperEl.css("height","".concat(i,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,n=t.params,r=t.slides,i=t.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var a=r[s],u=(o+(n.centeredSlides?t.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){var c=-(o-a.swiperSlideOffset),l=c+t.slidesSizesGrid[s];(c>=0&&c<t.size-1||l>1&&l<=t.size||c<=0&&l>=t.size)&&(t.visibleSlides.push(a),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass))}a.progress=i?-u:u}t.visibleSlides=Ct(t.visibleSlides)}},updateProgress:function(e){var t=this;if(void 0===e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),o=t.progress,s=t.isBeginning,a=t.isEnd,u=s,c=a;0===i?(o=0,s=!0,a=!0):(s=(o=(e-t.minTranslate())/i)<=0,a=o>=1),Ft.extend(t,{progress:o,isBeginning:s,isEnd:a}),(r.watchSlidesProgress||r.watchSlidesVisibility||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),s&&!u&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(u&&!s||c&&!a)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){var e,t=this.slides,n=this.params,r=this.$wrapperEl,i=this.activeIndex,o=this.realIndex,s=this.virtual&&n.virtual.enabled;t.removeClass("".concat(n.slideActiveClass," ").concat(n.slideNextClass," ").concat(n.slidePrevClass," ").concat(n.slideDuplicateActiveClass," ").concat(n.slideDuplicateNextClass," ").concat(n.slideDuplicatePrevClass)),(e=s?this.$wrapperEl.find(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(i,'"]')):t.eq(i)).addClass(n.slideActiveClass),n.loop&&(e.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(n.slideDuplicateActiveClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(n.slideDuplicateActiveClass));var a=e.nextAll(".".concat(n.slideClass)).eq(0).addClass(n.slideNextClass);n.loop&&0===a.length&&(a=t.eq(0)).addClass(n.slideNextClass);var u=e.prevAll(".".concat(n.slideClass)).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=t.eq(-1)).addClass(n.slidePrevClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(a.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicateNextClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(a.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicatePrevClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicatePrevClass))},updateActiveIndex:function(e){var t,n=this.rtlTranslate?this.translate:-this.translate,r=this.slidesGrid,i=this.snapGrid,o=this.params,s=this.activeIndex,a=this.realIndex,u=this.snapIndex,c=e;if(void 0===c){for(var l=0;l<r.length;l+=1)void 0!==r[l+1]?n>=r[l]&&n<r[l+1]-(r[l+1]-r[l])/2?c=l:n>=r[l]&&n<r[l+1]&&(c=l+1):n>=r[l]&&(c=l);o.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(i.indexOf(n)>=0)t=i.indexOf(n);else{var h=Math.min(o.slidesPerGroupSkip,c);t=h+Math.floor((c-h)/o.slidesPerGroup)}if(t>=i.length&&(t=i.length-1),c!==s){var d=parseInt(this.slides.eq(c).attr("data-swiper-slide-index")||c,10);Ft.extend(this,{snapIndex:t,realIndex:d,previousIndex:s,activeIndex:c}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),a!==d&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else t!==u&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(e){var t=this,n=t.params,r=Ct(e.target).closest(".".concat(n.slideClass))[0],i=!1;if(r)for(var o=0;o<t.slides.length;o+=1)t.slides[o]===r&&(i=!0);if(!r||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.clickedIndex=t.virtual&&t.params.virtual.enabled?parseInt(Ct(r).attr("data-swiper-slide-index"),10):Ct(r).index(),n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},Gt={getTranslate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",t=this.params,n=this.rtlTranslate,r=this.translate,i=this.$wrapperEl;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;var o=Ft.getTranslate(i[0],e);return n&&(o=-o),o||0},setTranslate:function(e,t){var n=this.rtlTranslate,r=this.params,i=this.$wrapperEl,o=this.wrapperEl,s=this.progress,a=0,u=0;this.isHorizontal()?a=n?-e:e:u=e,r.roundLengths&&(a=Math.floor(a),u=Math.floor(u)),r.cssMode?o[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-a:-u:r.virtualTranslate||i.transform("translate3d(".concat(a,"px, ").concat(u,"px, 0px)")),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?a:u;var c=this.maxTranslate()-this.minTranslate();(0===c?0:(e-this.minTranslate())/c)!==s&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,o=this,s=o.params,a=o.wrapperEl;if(o.animating&&s.preventInteractionOnTransition)return!1;var u,c=o.minTranslate(),l=o.maxTranslate();if(u=r&&e>c?c:r&&e<l?l:e,o.updateProgress(u),s.cssMode){var h,d=o.isHorizontal();return 0===t?a[d?"scrollLeft":"scrollTop"]=-u:a.scrollTo?a.scrollTo((_defineProperty(h={},d?"left":"top",-u),_defineProperty(h,"behavior","smooth"),h)):a[d?"scrollLeft":"scrollTop"]=-u,!0}return 0===t?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}},Kt={slideTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this,o=e;o<0&&(o=0);var s=i.params,a=i.snapGrid,u=i.slidesGrid,c=i.previousIndex,l=i.activeIndex,h=i.rtlTranslate,d=i.wrapperEl;if(i.animating&&s.preventInteractionOnTransition)return!1;var f=Math.min(i.params.slidesPerGroupSkip,o),p=f+Math.floor((o-f)/i.params.slidesPerGroup);p>=a.length&&(p=a.length-1),(l||s.initialSlide||0)===(c||0)&&n&&i.emit("beforeSlideChangeStart");var _,g=-a[p];if(i.updateProgress(g),s.normalizeSlideIndex)for(var v=0;v<u.length;v+=1)-Math.floor(100*g)>=Math.floor(100*u[v])&&(o=v);if(i.initialized&&o!==l){if(!i.allowSlideNext&&g<i.translate&&g<i.minTranslate())return!1;if(!i.allowSlidePrev&&g>i.translate&&g>i.maxTranslate()&&(l||0)!==o)return!1}if(_=o>l?"next":o<l?"prev":"reset",h&&-g===i.translate||!h&&g===i.translate)return i.updateActiveIndex(o),s.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==s.effect&&i.setTranslate(g),"reset"!==_&&(i.transitionStart(n,_),i.transitionEnd(n,_)),!1;if(s.cssMode){var m,y=i.isHorizontal(),b=-g;return h&&(b=d.scrollWidth-d.offsetWidth-b),0===t?d[y?"scrollLeft":"scrollTop"]=b:d.scrollTo?d.scrollTo((_defineProperty(m={},y?"left":"top",b),_defineProperty(m,"behavior","smooth"),m)):d[y?"scrollLeft":"scrollTop"]=b,!0}return 0===t?(i.setTransition(0),i.setTranslate(g),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,_),i.transitionEnd(n,_)):(i.setTransition(t),i.setTranslate(g),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,_),i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,_))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=e;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,t,n,r)},slideNext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.params,o=r.animating,s=r.activeIndex<i.slidesPerGroupSkip?1:i.slidesPerGroup;if(i.loop){if(o)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return r.slideTo(r.activeIndex+s,e,t,n)},slidePrev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.params,o=r.animating,s=r.snapGrid,a=r.slidesGrid,u=r.rtlTranslate;if(i.loop){if(o)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var l=c(u?r.translate:-r.translate),h=s.map(function(e){return c(e)});a.map(function(e){return c(e)}),h.indexOf(l);var d,f=s[h.indexOf(l)-1];return void 0===f&&i.cssMode&&s.forEach(function(e){!f&&l>=e&&(f=e)}),void 0!==f&&((d=a.indexOf(f))<0&&(d=r.activeIndex-1)),r.slideTo(d,e,t,n)},slideReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=this,o=i.activeIndex,s=Math.min(i.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[a]){var c=i.snapGrid[a];u-c>(i.snapGrid[a+1]-c)*r&&(o+=i.params.slidesPerGroup)}else{var l=i.snapGrid[a-1];u-l<=(i.snapGrid[a]-l)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,o=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(Ct(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<t.loopedSlides-i/2||o>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),o=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Ft.nextTick(function(){t.slideTo(o)})):t.slideTo(o):o>t.slides.length-i?(t.loopFix(),o=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Ft.nextTick(function(){t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}},zt={loopCreate:function(){var e=this,t=e.params,n=e.$wrapperEl;n.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass)).remove();var r=n.children(".".concat(t.slideClass));if(t.loopFillGroupWithBlank){var i=t.slidesPerGroup-r.length%t.slidesPerGroup;if(i!==t.slidesPerGroup){for(var o=0;o<i;o+=1){var s=Ct(mt.createElement("div")).addClass("".concat(t.slideClass," ").concat(t.slideBlankClass));n.append(s)}r=n.children(".".concat(t.slideClass))}}"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=r.length),e.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),e.loopedSlides+=t.loopAdditionalSlides,e.loopedSlides>r.length&&(e.loopedSlides=r.length);var a=[],u=[];r.each(function(t,n){var i=Ct(n);t<e.loopedSlides&&u.push(n),t<r.length&&t>=r.length-e.loopedSlides&&a.push(n),i.attr("data-swiper-slide-index",t)});for(var c=0;c<u.length;c+=1)n.append(Ct(u[c].cloneNode(!0)).addClass(t.slideDuplicateClass));for(var l=a.length-1;l>=0;l-=1)n.prepend(Ct(a[l].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var e,t=this.activeIndex,n=this.slides,r=this.loopedSlides,i=this.allowSlidePrev,o=this.allowSlideNext,s=this.snapGrid,a=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var u=-s[t]-this.getTranslate();t<r?(e=n.length-3*r+t,e+=r,this.slideTo(e,0,!1,!0)&&0!==u&&this.setTranslate((a?-this.translate:this.translate)-u)):t>=n.length-r&&(e=-n.length+t+r,e+=r,this.slideTo(e,0,!1,!0)&&0!==u&&this.setTranslate((a?-this.translate:this.translate)-u)),this.allowSlidePrev=i,this.allowSlideNext=o,this.emit("loopFix")},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,n=this.slides;e.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,",.").concat(t.slideClass,".").concat(t.slideBlankClass)).remove(),n.removeAttr("data-swiper-slide-index")}},Ht={setGrabCursor:function(e){if(!(qt.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){qt.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},$t={appendSlide:function(e){var t=this.$wrapperEl,n=this.params;if(n.loop&&this.loopDestroy(),"object"==typeof e&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&t.append(e[r]);else t.append(e);n.loop&&this.loopCreate(),n.observer&&qt.observer||this.update()},prependSlide:function(e){var t=this.params,n=this.$wrapperEl,r=this.activeIndex;t.loop&&this.loopDestroy();var i=r+1;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)e[o]&&n.prepend(e[o]);i=r+e.length}else n.prepend(e);t.loop&&this.loopCreate(),t.observer&&qt.observer||this.update(),this.slideTo(i,0,!1)},addSlide:function(e,t){var n=this,r=n.$wrapperEl,i=n.params,o=n.activeIndex;i.loop&&(o-=n.loopedSlides,n.loopDestroy(),n.slides=r.children(".".concat(i.slideClass)));var s=n.slides.length;if(e<=0)n.prependSlide(t);else if(e>=s)n.appendSlide(t);else{for(var a=o>e?o+1:o,u=[],c=s-1;c>=e;c-=1){var l=n.slides.eq(c);l.remove(),u.unshift(l)}if("object"==typeof t&&"length"in t){for(var h=0;h<t.length;h+=1)t[h]&&r.append(t[h]);a=o>e?o+t.length:o}else r.append(t);for(var d=0;d<u.length;d+=1)r.append(u[d]);i.loop&&n.loopCreate(),i.observer&&qt.observer||n.update(),n.slideTo(i.loop?a+n.loopedSlides:a,0,!1)}},removeSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.activeIndex;n.loop&&(i-=t.loopedSlides,t.loopDestroy(),t.slides=r.children(".".concat(n.slideClass)));var o,s=i;if("object"==typeof e&&"length"in e){for(var a=0;a<e.length;a+=1)o=e[a],t.slides[o]&&t.slides.eq(o).remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=e,t.slides[o]&&t.slides.eq(o).remove(),o<s&&(s-=1),s=Math.max(s,0);n.loop&&t.loopCreate(),n.observer&&qt.observer||t.update(),t.slideTo(n.loop?s+t.loopedSlides:s,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},Qt=(Tt=bt.navigator.platform,wt=bt.navigator.userAgent,Dt={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!bt.cordova&&!bt.phonegap),phonegap:!(!bt.cordova&&!bt.phonegap),electron:!1},Pt=bt.screen.width,kt=bt.screen.height,At=wt.match(/(Android);?[\s\/]+([\d.]+)?/),It=wt.match(/(iPad).*OS\s([\d_]+)/),Mt=wt.match(/(iPod)(.*OS\s([\d_]+))?/),Rt=!It&&wt.match(/(iPhone\sOS|iOS)\s([\d_]+)/),xt=wt.indexOf("MSIE ")>=0||wt.indexOf("Trident/")>=0,Lt=wt.indexOf("Edge/")>=0,jt=wt.indexOf("Gecko/")>=0&&wt.indexOf("Firefox/")>=0,Nt="Win32"===Tt,Ut=wt.toLowerCase().indexOf("electron")>=0,Bt="MacIntel"===Tt,!It&&Bt&&qt.touch&&(1024===Pt&&1366===kt||834===Pt&&1194===kt||834===Pt&&1112===kt||768===Pt&&1024===kt)&&(It=wt.match(/(Version)\/([\d.]+)/),Bt=!1),Dt.ie=xt,Dt.edge=Lt,Dt.firefox=jt,At&&!Nt&&(Dt.os="android",Dt.osVersion=At[2],Dt.android=!0,Dt.androidChrome=wt.toLowerCase().indexOf("chrome")>=0),(It||Rt||Mt)&&(Dt.os="ios",Dt.ios=!0),Rt&&!Mt&&(Dt.osVersion=Rt[2].replace(/_/g,"."),Dt.iphone=!0),It&&(Dt.osVersion=It[2].replace(/_/g,"."),Dt.ipad=!0),Mt&&(Dt.osVersion=Mt[3]?Mt[3].replace(/_/g,"."):null,Dt.ipod=!0),Dt.ios&&Dt.osVersion&&wt.indexOf("Version/")>=0&&"10"===Dt.osVersion.split(".")[0]&&(Dt.osVersion=wt.toLowerCase().split("version/")[1].split(" ")[0]),Dt.webView=!(!(Rt||It||Mt)||!wt.match(/.*AppleWebKit(?!.*Safari)/i)&&!bt.navigator.standalone)||bt.matchMedia&&bt.matchMedia("(display-mode: standalone)").matches,Dt.webview=Dt.webView,Dt.standalone=Dt.webView,Dt.desktop=!(Dt.ios||Dt.android)||Ut,Dt.desktop&&(Dt.electron=Ut,Dt.macos=Bt,Dt.windows=Nt,Dt.macos&&(Dt.os="macos"),Dt.windows&&(Dt.os="windows")),Dt.pixelRatio=bt.devicePixelRatio||1,Dt);function Yt(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches;if(!t.animating||!r.preventInteractionOnTransition){var o=e;o.originalEvent&&(o=o.originalEvent);var s=Ct(o.target);if(("wrapper"!==r.touchEventsTarget||s.closest(t.wrapperEl).length)&&(n.isTouchEvent="touchstart"===o.type,(n.isTouchEvent||!("which"in o)||3!==o.which)&&!(!n.isTouchEvent&&"button"in o&&o.button>0||n.isTouched&&n.isMoved)))if(r.noSwiping&&s.closest(r.noSwipingSelector?r.noSwipingSelector:".".concat(r.noSwipingClass))[0])t.allowClick=!0;else if(!r.swipeHandler||s.closest(r.swipeHandler)[0]){i.currentX="touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,i.currentY="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY;var a=i.currentX,u=i.currentY,c=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(!r.edgeSwipeDetection&&!r.iOSEdgeSwipeDetection||!(a<=c||a>=bt.screen.width-c)){if(Ft.extend(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=a,i.startY=u,n.touchStartTime=Ft.now(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==o.type){var l=!0;s.is(n.formElements)&&(l=!1),mt.activeElement&&Ct(mt.activeElement).is(n.formElements)&&mt.activeElement!==s[0]&&mt.activeElement.blur();var h=l&&t.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||h)&&o.preventDefault()}t.emit("touchStart",o)}}}}function Xt(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,o=t.rtlTranslate,s=e;if(s.originalEvent&&(s=s.originalEvent),n.isTouched){if(!n.isTouchEvent||"touchmove"===s.type){var a="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),u="touchmove"===s.type?a.pageX:s.pageX,c="touchmove"===s.type?a.pageY:s.pageY;if(s.preventedByNestedSwiper)return i.startX=u,void(i.startY=c);if(!t.allowTouchMove)return t.allowClick=!1,void(n.isTouched&&(Ft.extend(i,{startX:u,startY:c,currentX:u,currentY:c}),n.touchStartTime=Ft.now()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(c<i.startY&&t.translate<=t.maxTranslate()||c>i.startY&&t.translate>=t.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(u<i.startX&&t.translate<=t.maxTranslate()||u>i.startX&&t.translate>=t.minTranslate())return;if(n.isTouchEvent&&mt.activeElement&&s.target===mt.activeElement&&Ct(s.target).is(n.formElements))return n.isMoved=!0,void(t.allowClick=!1);if(n.allowTouchCallbacks&&t.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){i.currentX=u,i.currentY=c;var l=i.currentX-i.startX,h=i.currentY-i.startY;if(!(t.params.threshold&&Math.sqrt(Math.pow(l,2)+Math.pow(h,2))<t.params.threshold)){var d;if(void 0===n.isScrolling)t.isHorizontal()&&i.currentY===i.startY||t.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:l*l+h*h>=25&&(d=180*Math.atan2(Math.abs(h),Math.abs(l))/Math.PI,n.isScrolling=t.isHorizontal()?d>r.touchAngle:90-d>r.touchAngle);if(n.isScrolling&&t.emit("touchMoveOpposite",s),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){t.allowClick=!1,!r.cssMode&&s.cancelable&&s.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&s.stopPropagation(),n.isMoved||(r.loop&&t.loopFix(),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==t.allowSlideNext&&!0!==t.allowSlidePrev||t.setGrabCursor(!0),t.emit("sliderFirstMove",s)),t.emit("sliderMove",s),n.isMoved=!0;var f=t.isHorizontal()?l:h;i.diff=f,f*=r.touchRatio,o&&(f=-f),t.swipeDirection=f>0?"prev":"next",n.currentTranslate=f+n.startTranslate;var p=!0,_=r.resistanceRatio;if(r.touchReleaseOnEdges&&(_=0),f>0&&n.currentTranslate>t.minTranslate()?(p=!1,r.resistance&&(n.currentTranslate=t.minTranslate()-1+Math.pow(-t.minTranslate()+n.startTranslate+f,_))):f<0&&n.currentTranslate<t.maxTranslate()&&(p=!1,r.resistance&&(n.currentTranslate=t.maxTranslate()+1-Math.pow(t.maxTranslate()-n.startTranslate-f,_))),p&&(s.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(f)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=t.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}r.followFinger&&!r.cssMode&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&(0===n.velocities.length&&n.velocities.push({position:i[t.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:i[t.isHorizontal()?"currentX":"currentY"],time:Ft.now()})),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}}}}}else n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",s)}function Zt(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,o=t.rtlTranslate,s=t.$wrapperEl,a=t.slidesGrid,u=t.snapGrid,c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var l,h=Ft.now(),d=h-n.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(c),t.emit("tap click",c),d<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",c)),n.lastClickTime=Ft.now(),Ft.nextTick(function(){t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,l=r.followFinger?o?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(r.freeMode){if(l<-t.minTranslate())return void t.slideTo(t.activeIndex);if(l>-t.maxTranslate())return void t.slideTo(t.slides.length<u.length?u.length-1:t.slides.length-1);if(r.freeModeMomentum){if(n.velocities.length>1){var f=n.velocities.pop(),p=n.velocities.pop(),_=f.time-p.time;t.velocity=(f.position-p.position)/_,t.velocity/=2,Math.abs(t.velocity)<r.freeModeMinimumVelocity&&(t.velocity=0),(_>150||Ft.now()-f.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var g=1e3*r.freeModeMomentumRatio,v=t.translate+t.velocity*g;o&&(v=-v);var m,y,b=!1,E=20*Math.abs(t.velocity)*r.freeModeMomentumBounceRatio;if(v<t.maxTranslate())r.freeModeMomentumBounce?(v+t.maxTranslate()<-E&&(v=t.maxTranslate()-E),m=t.maxTranslate(),b=!0,n.allowMomentumBounce=!0):v=t.maxTranslate(),r.loop&&r.centeredSlides&&(y=!0);else if(v>t.minTranslate())r.freeModeMomentumBounce?(v-t.minTranslate()>E&&(v=t.minTranslate()+E),m=t.minTranslate(),b=!0,n.allowMomentumBounce=!0):v=t.minTranslate(),r.loop&&r.centeredSlides&&(y=!0);else if(r.freeModeSticky){for(var C,O=0;O<u.length;O+=1)if(u[O]>-v){C=O;break}v=-(v=Math.abs(u[C]-v)<Math.abs(u[C-1]-v)||"next"===t.swipeDirection?u[C]:u[C-1])}if(y&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity){if(g=o?Math.abs((-v-t.translate)/t.velocity):Math.abs((v-t.translate)/t.velocity),r.freeModeSticky){var S=Math.abs((o?-v:v)-t.translate),T=t.slidesSizesGrid[t.activeIndex];g=S<T?r.speed:S<2*T?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void t.slideToClosest();r.freeModeMomentumBounce&&b?(t.updateProgress(m),t.setTransition(g),t.setTranslate(v),t.transitionStart(!0,t.swipeDirection),t.animating=!0,s.transitionEnd(function(){t&&!t.destroyed&&n.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(r.speed),setTimeout(function(){t.setTranslate(m),s.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(t.updateProgress(v),t.setTransition(g),t.setTranslate(v),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,s.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(v),t.updateActiveIndex(),t.updateSlidesClasses()}else if(r.freeModeSticky)return void t.slideToClosest();(!r.freeModeMomentum||d>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var w=0,D=t.slidesSizesGrid[0],P=0;P<a.length;P+=P<r.slidesPerGroupSkip?1:r.slidesPerGroup){var k=P<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==a[P+k]?l>=a[P]&&l<a[P+k]&&(w=P,D=a[P+k]-a[P]):l>=a[P]&&(w=P,D=a[a.length-1]-a[a.length-2])}var A=(l-a[w])/D,I=w<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(A>=r.longSwipesRatio?w+I:w),"prev"===t.swipeDirection&&t.slideTo(A>1-r.longSwipesRatio?w+I:w)}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||c.target!==t.navigation.nextEl&&c.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(w+I),"prev"===t.swipeDirection&&t.slideTo(w)):t.slideTo(c.target===t.navigation.nextEl?w+I:w)}}}function Jt(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var n=this.allowSlideNext,r=this.allowSlidePrev,i=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),this.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slides.length-1:this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=r,this.allowSlideNext=n,this.params.watchOverflow&&i!==this.snapGrid&&this.checkOverflow()}}function en(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function tn(){var e=this.wrapperEl,t=this.rtlTranslate;this.previousTranslate=this.translate,this.translate=this.isHorizontal()?t?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:-e.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var n=this.maxTranslate()-this.minTranslate();(0===n?0:(this.translate-this.minTranslate())/n)!==this.progress&&this.updateProgress(t?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}var nn=!1;function rn(){}var on={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},sn={update:Wt,translate:Gt,transition:{setTransition:function(e,t){this.params.cssMode||this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n.activeIndex,i=n.params,o=n.previousIndex;if(!i.cssMode){i.autoHeight&&n.updateAutoHeight();var s=t;if(s||(s=r>o?"next":r<o?"prev":"reset"),n.emit("transitionStart"),e&&r!==o){if("reset"===s)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),n.emit("next"===s?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n.activeIndex,i=n.previousIndex,o=n.params;if(n.animating=!1,!o.cssMode){n.setTransition(0);var s=t;if(s||(s=r>i?"next":r<i?"prev":"reset"),n.emit("transitionEnd"),e&&r!==i){if("reset"===s)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),n.emit("next"===s?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:Kt,loop:zt,grabCursor:Ht,manipulation:$t,events:{attachEvents:function(){var e=this,t=e.params,n=e.touchEvents,r=e.el,i=e.wrapperEl;e.onTouchStart=Yt.bind(e),e.onTouchMove=Xt.bind(e),e.onTouchEnd=Zt.bind(e),t.cssMode&&(e.onScroll=tn.bind(e)),e.onClick=en.bind(e);var o=!!t.nested;if(!qt.touch&&qt.pointerEvents)r.addEventListener(n.start,e.onTouchStart,!1),mt.addEventListener(n.move,e.onTouchMove,o),mt.addEventListener(n.end,e.onTouchEnd,!1);else{if(qt.touch){var s=!("touchstart"!==n.start||!qt.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(n.start,e.onTouchStart,s),r.addEventListener(n.move,e.onTouchMove,qt.passiveListener?{passive:!1,capture:o}:o),r.addEventListener(n.end,e.onTouchEnd,s),n.cancel&&r.addEventListener(n.cancel,e.onTouchEnd,s),nn||(mt.addEventListener("touchstart",rn),nn=!0)}(t.simulateTouch&&!Qt.ios&&!Qt.android||t.simulateTouch&&!qt.touch&&Qt.ios)&&(r.addEventListener("mousedown",e.onTouchStart,!1),mt.addEventListener("mousemove",e.onTouchMove,o),mt.addEventListener("mouseup",e.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.addEventListener("click",e.onClick,!0),t.cssMode&&i.addEventListener("scroll",e.onScroll),e.on(t.updateOnWindowResize?Qt.ios||Qt.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Jt,!0)},detachEvents:function(){var e=this,t=e.params,n=e.touchEvents,r=e.el,i=e.wrapperEl,o=!!t.nested;if(!qt.touch&&qt.pointerEvents)r.removeEventListener(n.start,e.onTouchStart,!1),mt.removeEventListener(n.move,e.onTouchMove,o),mt.removeEventListener(n.end,e.onTouchEnd,!1);else{if(qt.touch){var s=!("onTouchStart"!==n.start||!qt.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(n.start,e.onTouchStart,s),r.removeEventListener(n.move,e.onTouchMove,o),r.removeEventListener(n.end,e.onTouchEnd,s),n.cancel&&r.removeEventListener(n.cancel,e.onTouchEnd,s)}(t.simulateTouch&&!Qt.ios&&!Qt.android||t.simulateTouch&&!qt.touch&&Qt.ios)&&(r.removeEventListener("mousedown",e.onTouchStart,!1),mt.removeEventListener("mousemove",e.onTouchMove,o),mt.removeEventListener("mouseup",e.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.removeEventListener("click",e.onClick,!0),t.cssMode&&i.removeEventListener("scroll",e.onScroll),e.off(Qt.ios||Qt.android?"resize orientationchange observerUpdate":"resize observerUpdate",Jt)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,o=e.params,s=e.$el,a=o.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var u=e.getBreakpoint(a);if(u&&e.currentBreakpoint!==u){var c=u in a?a[u]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(e){var t=c[e];void 0!==t&&(c[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")});var l=c||e.originalParams,h=o.slidesPerColumn>1,d=l.slidesPerColumn>1;h&&!d?s.removeClass("".concat(o.containerModifierClass,"multirow ").concat(o.containerModifierClass,"multirow-column")):!h&&d&&(s.addClass("".concat(o.containerModifierClass,"multirow")),"column"===l.slidesPerColumnFill&&s.addClass("".concat(o.containerModifierClass,"multirow-column")));var f=l.direction&&l.direction!==o.direction,p=o.loop&&(l.slidesPerView!==o.slidesPerView||f);f&&n&&e.changeDirection(),Ft.extend(e.params,l),Ft.extend(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=u,p&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",l)}}},getBreakpoint:function(e){if(e){var t=!1,n=Object.keys(e).map(function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:bt.innerHeight*t,point:e}}return{value:e,point:e}});n.sort(function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)});for(var r=0;r<n.length;r+=1){var i=n[r],o=i.point;i.value<=bt.innerWidth&&(t=o)}return t||"max"}}},checkOverflow:{checkOverflow:function(){var e=this.params,t=this.isLocked,n=this.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;this.isLocked=e.slidesOffsetBefore&&e.slidesOffsetAfter&&n?n<=this.size:1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,t=this.params,n=this.rtl,r=this.$el,i=[];i.push("initialized"),i.push(t.direction),t.freeMode&&i.push("free-mode"),t.autoHeight&&i.push("autoheight"),n&&i.push("rtl"),t.slidesPerColumn>1&&(i.push("multirow"),"column"===t.slidesPerColumnFill&&i.push("multirow-column")),Qt.android&&i.push("android"),Qt.ios&&i.push("ios"),t.cssMode&&i.push("css-mode"),i.forEach(function(n){e.push(t.containerModifierClass+n)}),r.addClass(e.join(" "))},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" "))}},images:{loadImage:function(e,t,n,r,i,o){var s;function a(){o&&o()}Ct(e).parent("picture")[0]||e.complete&&i?a():t?((s=new bt.Image).onload=a,s.onerror=a,r&&(s.sizes=r),n&&(s.srcset=n),t&&(s.src=t)):a()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},an={},un=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r,i,o;_classCallCheck(this,n);for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];1===a.length&&a[0].constructor&&a[0].constructor===Object?o=a[0]:(i=(e=_slicedToArray(a,2))[0],o=e[1]),o||(o={}),o=Ft.extend({},o),i&&!o.el&&(o.el=i),r=t.call(this,o),Object.keys(sn).forEach(function(e){Object.keys(sn[e]).forEach(function(t){n.prototype[t]||(n.prototype[t]=sn[e][t])})});var c=_assertThisInitialized(r);void 0===c.modules&&(c.modules={}),Object.keys(c.modules).forEach(function(e){var t=c.modules[e];if(t.params){var n=Object.keys(t.params)[0],r=t.params[n];if("object"!=typeof r||null===r)return;if(!(n in o)||!("enabled"in r))return;!0===o[n]&&(o[n]={enabled:!0}),"object"!=typeof o[n]||"enabled"in o[n]||(o[n].enabled=!0),o[n]||(o[n]={enabled:!1})}});var l=Ft.extend({},on);c.useModulesParams(l),c.params=Ft.extend({},l,an,o),c.originalParams=Ft.extend({},c.params),c.passedParams=Ft.extend({},o),c.$=Ct;var h,d,f,p=Ct(c.params.el);if(!(i=p[0]))return _possibleConstructorReturn(r);if(p.length>1){var _=[];return _possibleConstructorReturn(r,(p.each(function(e,t){var r=Ft.extend({},o,{el:t});_.push(new n(r))}),_))}return _possibleConstructorReturn(r,(i.swiper=c,p.data("swiper",c),i&&i.shadowRoot&&i.shadowRoot.querySelector?(h=Ct(i.shadowRoot.querySelector(".".concat(c.params.wrapperClass)))).children=function(e){return p.children(e)}:h=p.children(".".concat(c.params.wrapperClass)),Ft.extend(c,{$el:p,el:i,$wrapperEl:h,wrapperEl:h[0],classNames:[],slides:Ct(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===c.params.direction},isVertical:function(){return"vertical"===c.params.direction},rtl:"rtl"===i.dir.toLowerCase()||"rtl"===p.css("direction"),rtlTranslate:"horizontal"===c.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===p.css("direction")),wrongRTL:"-webkit-box"===h.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEvents:(d=["touchstart","touchmove","touchend","touchcancel"],f=["mousedown","mousemove","mouseup"],qt.pointerEvents&&(f=["pointerdown","pointermove","pointerup"]),c.touchEventsTouch={start:d[0],move:d[1],end:d[2],cancel:d[3]},c.touchEventsDesktop={start:f[0],move:f[1],end:f[2]},qt.touch||!c.params.simulateTouch?c.touchEventsTouch:c.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:Ft.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.useModules(),c.params.init&&c.init(),c))}return _createClass(n,[{key:"slidesPerViewDynamic",value:function(){var e=this.params,t=this.slides,n=this.slidesGrid,r=this.size,i=this.activeIndex,o=1;if(e.centeredSlides){for(var s,a=t[i].swiperSlideSize,u=i+1;u<t.length;u+=1)t[u]&&!s&&(o+=1,(a+=t[u].swiperSlideSize)>r&&(s=!0));for(var c=i-1;c>=0;c-=1)t[c]&&!s&&(o+=1,(a+=t[c].swiperSlideSize)>r&&(s=!0))}else for(var l=i+1;l<t.length;l+=1)n[l]-n[i]<r&&(o+=1);return o}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):e.slideTo(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0)||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(t),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(this.$el.removeClass("".concat(this.params.containerModifierClass).concat(n)).addClass("".concat(this.params.containerModifierClass).concat(e)),this.params.direction=e,this.slides.each(function(t,n){"vertical"===e?n.style.width="":n.style.height=""}),this.emit("changeDirection"),t&&this.update()),this}},{key:"init",value:function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.slideTo(this.params.loop?this.params.initialSlide+this.loopedSlides:this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params,i=n.$el,o=n.$wrapperEl,s=n.slides;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),s&&s.length&&s.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(function(e){n.off(e)}),!1!==e&&(n.$el[0].swiper=null,n.$el.data("swiper",null),Ft.deleteProps(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){Ft.extend(an,e)}},{key:"extendedDefaults",get:function(){return an}},{key:"defaults",get:function(){return on}},{key:"Class",get:function(){return Vt}},{key:"$",get:function(){return Ct}}]),n}(Vt),cn={name:"device",proto:{device:Qt},static:{device:Qt}},ln={name:"support",proto:{support:qt},static:{support:qt}},hn={isEdge:!!bt.navigator.userAgent.match(/Edge/g),isSafari:function(){var e=bt.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(bt.navigator.userAgent)},dn={name:"browser",proto:{browser:hn},static:{browser:hn}},fn={name:"resize",create:function(){var e=this;Ft.extend(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(){bt.addEventListener("resize",this.resize.resizeHandler),bt.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){bt.removeEventListener("resize",this.resize.resizeHandler),bt.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},pn={func:bt.MutationObserver||bt.WebkitMutationObserver,attach:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=new(0,pn.func)(function(e){if(1!==e.length){var t=function(){n.emit("observerUpdate",e[0])};bt.requestAnimationFrame?bt.requestAnimationFrame(t):bt.setTimeout(t,0)}else n.emit("observerUpdate",e[0])});r.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),n.observer.observers.push(r)},init:function(){var e=this;if(qt.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),n=0;n<t.length;n+=1)e.observer.attach(t[n]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},_n={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){Ft.extend(this,{observer:{init:pn.init.bind(this),attach:pn.attach.bind(this),destroy:pn.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},gn={update:function(e){var t=this,n=t.params,r=n.slidesPerView,i=n.slidesPerGroup,o=n.centeredSlides,s=t.params.virtual,a=s.addSlidesBefore,u=s.addSlidesAfter,c=t.virtual,l=c.from,h=c.to,d=c.slides,f=c.slidesGrid,p=c.renderSlide,_=c.offset;t.updateActiveIndex();var g,v,m,y=t.activeIndex||0;g=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",o?(v=Math.floor(r/2)+i+a,m=Math.floor(r/2)+i+u):(v=r+(i-1)+a,m=i+u);var b=Math.max((y||0)-m,0),E=Math.min((y||0)+v,d.length-1),C=(t.slidesGrid[b]||0)-(t.slidesGrid[0]||0);function O(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(Ft.extend(t.virtual,{from:b,to:E,offset:C,slidesGrid:t.slidesGrid}),l===b&&h===E&&!e)return t.slidesGrid!==f&&C!==_&&t.slides.css(g,"".concat(C,"px")),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:C,from:b,to:E,slides:function(){for(var e=[],t=b;t<=E;t+=1)e.push(d[t]);return e}()}),void O();var S=[],T=[];if(e)t.$wrapperEl.find(".".concat(t.params.slideClass)).remove();else for(var w=l;w<=h;w+=1)(w<b||w>E)&&t.$wrapperEl.find(".".concat(t.params.slideClass,'[data-swiper-slide-index="').concat(w,'"]')).remove();for(var D=0;D<d.length;D+=1)D>=b&&D<=E&&(void 0===h||e?T.push(D):(D>h&&T.push(D),D<l&&S.push(D)));T.forEach(function(e){t.$wrapperEl.append(p(d[e],e))}),S.sort(function(e,t){return t-e}).forEach(function(e){t.$wrapperEl.prepend(p(d[e],e))}),t.$wrapperEl.children(".swiper-slide").css(g,"".concat(C,"px")),O()},renderSlide:function(e,t){var n=this.params.virtual;if(n.cache&&this.virtual.cache[t])return this.virtual.cache[t];var r=Ct(n.renderSlide?n.renderSlide.call(this,e,t):'<div class="'.concat(this.params.slideClass,'" data-swiper-slide-index="').concat(t,'">').concat(e,"</div>"));return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",t),n.cache&&(this.virtual.cache[t]=r),r},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var n=0;n<e.length;n+=1)e[n]&&t.virtual.slides.push(e[n]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,n=t.activeIndex,r=n+1,i=1;if(Array.isArray(e)){for(var o=0;o<e.length;o+=1)e[o]&&t.virtual.slides.unshift(e[o]);r=n+e.length,i=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var s=t.virtual.cache,a={};Object.keys(s).forEach(function(e){var t=s[e],n=t.attr("data-swiper-slide-index");n&&t.attr("data-swiper-slide-index",parseInt(n,10)+1),a[parseInt(e,10)+i]=t}),t.virtual.cache=a}t.virtual.update(!0),t.slideTo(r,0)},removeSlide:function(e){var t=this;if(null!=e){var n=t.activeIndex;if(Array.isArray(e))for(var r=e.length-1;r>=0;r-=1)t.virtual.slides.splice(e[r],1),t.params.virtual.cache&&delete t.virtual.cache[e[r]],e[r]<n&&(n-=1),n=Math.max(n,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<n&&(n-=1),n=Math.max(n,0);t.virtual.update(!0),t.slideTo(n,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},vn={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){Ft.extend(this,{virtual:{update:gn.update.bind(this),appendSlide:gn.appendSlide.bind(this),prependSlide:gn.prependSlide.bind(this),removeSlide:gn.removeSlide.bind(this),removeAllSlides:gn.removeAllSlides.bind(this),renderSlide:gn.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push("".concat(this.params.containerModifierClass,"virtual"));var e={watchSlidesProgress:!0};Ft.extend(this.params,e),Ft.extend(this.originalParams,e),this.params.initialSlide||this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},mn={handle:function(e){var t=this,n=t.rtlTranslate,r=e;r.originalEvent&&(r=r.originalEvent);var i=r.keyCode||r.charCode,o=t.params.keyboard.pageUpDown,s=o&&33===i,a=o&&34===i,u=37===i,c=39===i,l=38===i,h=40===i;if(!t.allowSlideNext&&(t.isHorizontal()&&c||t.isVertical()&&h||a))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&u||t.isVertical()&&l||s))return!1;if(!(r.shiftKey||r.altKey||r.ctrlKey||r.metaKey||mt.activeElement&&mt.activeElement.nodeName&&("input"===mt.activeElement.nodeName.toLowerCase()||"textarea"===mt.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(s||a||u||c||l||h)){var d=!1;if(t.$el.parents(".".concat(t.params.slideClass)).length>0&&0===t.$el.parents(".".concat(t.params.slideActiveClass)).length)return;var f=bt.innerWidth,p=bt.innerHeight,_=t.$el.offset();n&&(_.left-=t.$el[0].scrollLeft);for(var g=[[_.left,_.top],[_.left+t.width,_.top],[_.left,_.top+t.height],[_.left+t.width,_.top+t.height]],v=0;v<g.length;v+=1){var m=g[v];m[0]>=0&&m[0]<=f&&m[1]>=0&&m[1]<=p&&(d=!0)}if(!d)return}t.isHorizontal()?((s||a||u||c)&&(r.preventDefault?r.preventDefault():r.returnValue=!1),((a||c)&&!n||(s||u)&&n)&&t.slideNext(),((s||u)&&!n||(a||c)&&n)&&t.slidePrev()):((s||a||l||h)&&(r.preventDefault?r.preventDefault():r.returnValue=!1),(a||h)&&t.slideNext(),(s||l)&&t.slidePrev()),t.emit("keyPress",i)}},enable:function(){this.keyboard.enabled||(Ct(mt).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(Ct(mt).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},yn={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){Ft.extend(this,{keyboard:{enabled:!1,enable:mn.enable.bind(this),disable:mn.disable.bind(this),handle:mn.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},bn={lastScrollTime:Ft.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return bt.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in mt;if(!e){var t=mt.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&mt.implementation&&mt.implementation.hasFeature&&!0!==mt.implementation.hasFeature("","")&&(e=mt.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel"},normalize:function(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=i,i=0),(r||i)&&e.deltaMode&&(1===e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,n=this,r=n.params.mousewheel;n.params.cssMode&&t.preventDefault();var i=n.$el;if("container"!==n.params.mousewheel.eventsTarged&&(i=Ct(n.params.mousewheel.eventsTarged)),!n.mouseEntered&&!i[0].contains(t.target)&&!r.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var o=0,s=n.rtlTranslate?-1:1,a=bn.normalize(t);if(r.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(a.pixelX)>Math.abs(a.pixelY)))return!0;o=-a.pixelX*s}else{if(!(Math.abs(a.pixelY)>Math.abs(a.pixelX)))return!0;o=-a.pixelY}else o=Math.abs(a.pixelX)>Math.abs(a.pixelY)?-a.pixelX*s:-a.pixelY;if(0===o)return!0;if(r.invert&&(o=-o),n.params.freeMode){var u={time:Ft.now(),delta:Math.abs(o),direction:Math.sign(o)},c=n.mousewheel.lastEventBeforeSnap,l=c&&u.time<c.time+500&&u.delta<=c.delta&&u.direction===c.direction;if(!l){n.mousewheel.lastEventBeforeSnap=void 0,n.params.loop&&n.loopFix();var h=n.getTranslate()+o*r.sensitivity,d=n.isBeginning,f=n.isEnd;if(h>=n.minTranslate()&&(h=n.minTranslate()),h<=n.maxTranslate()&&(h=n.maxTranslate()),n.setTransition(0),n.setTranslate(h),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!d&&n.isBeginning||!f&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky){clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=void 0;var p=n.mousewheel.recentWheelEvents;p.length>=15&&p.shift();var _=p.length?p[p.length-1]:void 0,g=p[0];if(p.push(u),_&&(u.delta>_.delta||u.direction!==_.direction))p.splice(0);else if(p.length>=15&&u.time-g.time<500&&g.delta-u.delta>=1&&u.delta<=6){var v=o>0?.8:.2;n.mousewheel.lastEventBeforeSnap=u,p.splice(0),n.mousewheel.timeout=Ft.nextTick(function(){n.slideToClosest(n.params.speed,!0,void 0,v)},0)}n.mousewheel.timeout||(n.mousewheel.timeout=Ft.nextTick(function(){n.mousewheel.lastEventBeforeSnap=u,p.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)},500))}if(l||n.emit("scroll",t),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),h===n.minTranslate()||h===n.maxTranslate())return!0}}else{var m={time:Ft.now(),delta:Math.abs(o),direction:Math.sign(o),raw:e},y=n.mousewheel.recentWheelEvents;y.length>=2&&y.shift();var b=y.length?y[y.length-1]:void 0;if(y.push(m),b?(m.direction!==b.direction||m.delta>b.delta||m.time>b.time+150)&&n.mousewheel.animateSlider(m):n.mousewheel.animateSlider(m),n.mousewheel.releaseScroll(m))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},animateSlider:function(e){return e.delta>=6&&Ft.now()-this.mousewheel.lastScrollTime<60||(e.direction<0?this.isEnd&&!this.params.loop||this.animating||(this.slideNext(),this.emit("scroll",e.raw)):this.isBeginning&&!this.params.loop||this.animating||(this.slidePrev(),this.emit("scroll",e.raw)),this.mousewheel.lastScrollTime=(new bt.Date).getTime(),!1)},releaseScroll:function(e){var t=this.params.mousewheel;if(e.direction<0){if(this.isEnd&&!this.params.loop&&t.releaseOnEdges)return!0}else if(this.isBeginning&&!this.params.loop&&t.releaseOnEdges)return!0;return!1},enable:function(){var e=bn.event();if(this.params.cssMode)return this.wrapperEl.removeEventListener(e,this.mousewheel.handle),!0;if(!e)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=Ct(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(e,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){var e=bn.event();if(this.params.cssMode)return this.wrapperEl.addEventListener(e,this.mousewheel.handle),!0;if(!e)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=Ct(this.params.mousewheel.eventsTarged)),t.off(e,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},En={update:function(){var e=this.params.navigation;if(!this.params.loop){var t=this.navigation,n=t.$nextEl,r=t.$prevEl;r&&r.length>0&&(this.isBeginning?r.addClass(e.disabledClass):r.removeClass(e.disabledClass),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)),n&&n.length>0&&(this.isEnd?n.addClass(e.disabledClass):n.removeClass(e.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass))}},onPrevClick:function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var e,t,n=this.params.navigation;(n.nextEl||n.prevEl)&&(n.nextEl&&(e=Ct(n.nextEl),this.params.uniqueNavElements&&"string"==typeof n.nextEl&&e.length>1&&1===this.$el.find(n.nextEl).length&&(e=this.$el.find(n.nextEl))),n.prevEl&&(t=Ct(n.prevEl),this.params.uniqueNavElements&&"string"==typeof n.prevEl&&t.length>1&&1===this.$el.find(n.prevEl).length&&(t=this.$el.find(n.prevEl))),e&&e.length>0&&e.on("click",this.navigation.onNextClick),t&&t.length>0&&t.on("click",this.navigation.onPrevClick),Ft.extend(this.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this.navigation,t=e.$nextEl,n=e.$prevEl;t&&t.length&&(t.off("click",this.navigation.onNextClick),t.removeClass(this.params.navigation.disabledClass)),n&&n.length&&(n.off("click",this.navigation.onPrevClick),n.removeClass(this.params.navigation.disabledClass))}},Cn={update:function(){var e=this,t=e.rtl,n=e.params.pagination;if(n.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,o=e.pagination.$el,s=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>i-1-2*e.loopedSlides&&(r-=i-2*e.loopedSlides),r>s-1&&(r-=s),r<0&&"bullets"!==e.params.paginationType&&(r=s+r)):r=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var a,u,c,l=e.pagination.bullets;if(n.dynamicBullets&&(e.pagination.bulletSize=l.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),o.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),a=r-e.pagination.dynamicBulletIndex,c=((u=a+(Math.min(l.length,n.dynamicMainBullets)-1))+a)/2),l.removeClass("".concat(n.bulletActiveClass," ").concat(n.bulletActiveClass,"-next ").concat(n.bulletActiveClass,"-next-next ").concat(n.bulletActiveClass,"-prev ").concat(n.bulletActiveClass,"-prev-prev ").concat(n.bulletActiveClass,"-main")),o.length>1)l.each(function(e,t){var i=Ct(t),o=i.index();o===r&&i.addClass(n.bulletActiveClass),n.dynamicBullets&&(o>=a&&o<=u&&i.addClass("".concat(n.bulletActiveClass,"-main")),o===a&&i.prev().addClass("".concat(n.bulletActiveClass,"-prev")).prev().addClass("".concat(n.bulletActiveClass,"-prev-prev")),o===u&&i.next().addClass("".concat(n.bulletActiveClass,"-next")).next().addClass("".concat(n.bulletActiveClass,"-next-next")))});else{var h=l.eq(r),d=h.index();if(h.addClass(n.bulletActiveClass),n.dynamicBullets){for(var f=l.eq(a),p=l.eq(u),_=a;_<=u;_+=1)l.eq(_).addClass("".concat(n.bulletActiveClass,"-main"));if(e.params.loop)if(d>=l.length-n.dynamicMainBullets){for(var g=n.dynamicMainBullets;g>=0;g-=1)l.eq(l.length-g).addClass("".concat(n.bulletActiveClass,"-main"));l.eq(l.length-n.dynamicMainBullets-1).addClass("".concat(n.bulletActiveClass,"-prev"))}else f.prev().addClass("".concat(n.bulletActiveClass,"-prev")).prev().addClass("".concat(n.bulletActiveClass,"-prev-prev")),p.next().addClass("".concat(n.bulletActiveClass,"-next")).next().addClass("".concat(n.bulletActiveClass,"-next-next"));else f.prev().addClass("".concat(n.bulletActiveClass,"-prev")).prev().addClass("".concat(n.bulletActiveClass,"-prev-prev")),p.next().addClass("".concat(n.bulletActiveClass,"-next")).next().addClass("".concat(n.bulletActiveClass,"-next-next"))}}if(n.dynamicBullets){var v=Math.min(l.length,n.dynamicMainBullets+4),m=(e.pagination.bulletSize*v-e.pagination.bulletSize)/2-c*e.pagination.bulletSize,y=t?"right":"left";l.css(e.isHorizontal()?y:"top","".concat(m,"px"))}}if("fraction"===n.type&&(o.find(".".concat(n.currentClass)).text(n.formatFractionCurrent(r+1)),o.find(".".concat(n.totalClass)).text(n.formatFractionTotal(s))),"progressbar"===n.type){var b;b=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var E=(r+1)/s,C=1,O=1;"horizontal"===b?C=E:O=E,o.find(".".concat(n.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(C,") scaleY(").concat(O,")")).transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(o.html(n.renderCustom(e,r+1,s)),e.emit("paginationRender",e,o[0])):e.emit("paginationUpdate",e,o[0]),o[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.pagination.$el,r="";if("bullets"===t.type){for(var i=e.params.loop?Math.ceil(((e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length)-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length,o=0;o<i;o+=1)r+=t.renderBullet?t.renderBullet.call(e,o,t.bulletClass):"<".concat(t.bulletElement,' class="').concat(t.bulletClass,'"></').concat(t.bulletElement,">");n.html(r),e.pagination.bullets=n.find(".".concat(t.bulletClass))}"fraction"===t.type&&(r=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'.concat(t.currentClass,'"></span> / <span class="').concat(t.totalClass,'"></span>'),n.html(r)),"progressbar"===t.type&&(r=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'.concat(t.progressbarFillClass,'"></span>'),n.html(r)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(t.el){var n=Ct(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&n.length>1&&(n=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(n.addClass("".concat(t.modifierClass).concat(t.type,"-dynamic")),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",".".concat(t.bulletClass),function(t){t.preventDefault();var n=Ct(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)}),Ft.extend(e.pagination,{$el:n,el:n[0]}))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",".".concat(e.bulletClass))}}},On={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=this.rtlTranslate,n=this.progress,r=e.dragSize,i=e.trackSize,o=e.$dragEl,s=e.$el,a=this.params.scrollbar,u=r,c=(i-r)*n;t?(c=-c)>0?(u=r-c,c=0):-c+r>i&&(u=i+c):c<0?(u=r+c,c=0):c+r>i&&(u=i-c),this.isHorizontal()?(o.transform("translate3d(".concat(c,"px, 0, 0)")),o[0].style.width="".concat(u,"px")):(o.transform("translate3d(0px, ".concat(c,"px, 0)")),o[0].style.height="".concat(u,"px")),a.hide&&(clearTimeout(this.scrollbar.timeout),s[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){s[0].style.opacity=0,s.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=e.$dragEl,n=e.$el;t[0].style.width="",t[0].style.height="";var r,i=this.isHorizontal()?n[0].offsetWidth:n[0].offsetHeight,o=this.size/this.virtualSize,s=o*(i/this.size);r="auto"===this.params.scrollbar.dragSize?i*o:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?t[0].style.width="".concat(r,"px"):t[0].style.height="".concat(r,"px"),n[0].style.display=o>=1?"none":"",this.params.scrollbar.hide&&(n[0].style.opacity=0),Ft.extend(e,{trackSize:i,divider:o,moveDivider:s,dragSize:r}),e.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,n=this.scrollbar,r=this.rtlTranslate,i=n.$el,o=n.dragSize,s=n.trackSize,a=n.dragStartPos;t=(n.getPointerPosition(e)-i.offset()[this.isHorizontal()?"left":"top"]-(null!==a?a:o/2))/(s-o),t=Math.max(Math.min(t,1),0),r&&(t=1-t);var u=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*t;this.updateProgress(u),this.setTranslate(u),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(e){var t=this.params.scrollbar,n=this.scrollbar,r=this.$wrapperEl,i=n.$el,o=n.$dragEl;this.scrollbar.isTouched=!0,this.scrollbar.dragStartPos=e.target===o[0]||e.target===o?n.getPointerPosition(e)-e.target.getBoundingClientRect()[this.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),r.transition(100),o.transition(100),n.setDragPosition(e),clearTimeout(this.scrollbar.dragTimeout),i.transition(0),t.hide&&i.css("opacity",1),this.params.cssMode&&this.$wrapperEl.css("scroll-snap-type","none"),this.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,n=this.$wrapperEl,r=t.$el,i=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),n.transition(0),r.transition(0),i.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this.params.scrollbar,n=this.scrollbar,r=this.$wrapperEl,i=n.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,this.params.cssMode&&(this.$wrapperEl.css("scroll-snap-type",""),r.transition("")),t.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=Ft.nextTick(function(){i.css("opacity",0),i.transition(400)},1e3)),this.emit("scrollbarDragEnd",e),t.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.touchEventsTouch,n=this.touchEventsDesktop,r=this.params,i=e.$el[0],o=!(!qt.passiveListener||!r.passiveListeners)&&{passive:!1,capture:!1},s=!(!qt.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};qt.touch?(i.addEventListener(t.start,this.scrollbar.onDragStart,o),i.addEventListener(t.move,this.scrollbar.onDragMove,o),i.addEventListener(t.end,this.scrollbar.onDragEnd,s)):(i.addEventListener(n.start,this.scrollbar.onDragStart,o),mt.addEventListener(n.move,this.scrollbar.onDragMove,o),mt.addEventListener(n.end,this.scrollbar.onDragEnd,s))}},disableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.touchEventsTouch,n=this.touchEventsDesktop,r=this.params,i=e.$el[0],o=!(!qt.passiveListener||!r.passiveListeners)&&{passive:!1,capture:!1},s=!(!qt.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};qt.touch?(i.removeEventListener(t.start,this.scrollbar.onDragStart,o),i.removeEventListener(t.move,this.scrollbar.onDragMove,o),i.removeEventListener(t.end,this.scrollbar.onDragEnd,s)):(i.removeEventListener(n.start,this.scrollbar.onDragStart,o),mt.removeEventListener(n.move,this.scrollbar.onDragMove,o),mt.removeEventListener(n.end,this.scrollbar.onDragEnd,s))}},init:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.$el,n=this.params.scrollbar,r=Ct(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===t.find(n.el).length&&(r=t.find(n.el));var i=r.find(".".concat(this.params.scrollbar.dragClass));0===i.length&&(i=Ct('<div class="'.concat(this.params.scrollbar.dragClass,'"></div>')),r.append(i)),Ft.extend(e,{$el:r,el:r[0],$dragEl:i,dragEl:i[0]}),n.draggable&&e.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},Sn={setTransform:function(e,t){var n=this.rtl,r=Ct(e),i=n?-1:1,o=r.attr("data-swiper-parallax")||"0",s=r.attr("data-swiper-parallax-x"),a=r.attr("data-swiper-parallax-y"),u=r.attr("data-swiper-parallax-scale"),c=r.attr("data-swiper-parallax-opacity");if(s||a?(s=s||"0",a=a||"0"):this.isHorizontal()?(s=o,a="0"):(a=o,s="0"),s=s.indexOf("%")>=0?parseInt(s,10)*t*i+"%":s*t*i+"px",a=a.indexOf("%")>=0?parseInt(a,10)*t+"%":a*t+"px",null!=c){var l=c-(c-1)*(1-Math.abs(t));r[0].style.opacity=l}if(null==u)r.transform("translate3d(".concat(s,", ").concat(a,", 0px)"));else{var h=u-(u-1)*(1-Math.abs(t));r.transform("translate3d(".concat(s,", ").concat(a,", 0px) scale(").concat(h,")"))}},setTranslate:function(){var e=this,t=e.$el,n=e.slides,r=e.progress,i=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t,n){e.parallax.setTransform(n,r)}),n.each(function(t,n){var o=n.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(o+=Math.ceil(t/2)-r*(i.length-1)),o=Math.min(Math.max(o,-1),1),Ct(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t,n){e.parallax.setTransform(n,o)})})},setTransition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=this.$el;t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t,n){var r=Ct(n),i=parseInt(r.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),r.transition(i)})}},Tn={getDistanceBetweenTouches:function(e){return e.targetTouches.length<2?1:Math.sqrt(Math.pow(e.targetTouches[1].pageX-e.targetTouches[0].pageX,2)+Math.pow(e.targetTouches[1].pageY-e.targetTouches[0].pageY,2))},onGestureStart:function(e){var t=this.params.zoom,n=this.zoom,r=n.gesture;if(n.fakeGestureTouched=!1,n.fakeGestureMoved=!1,!qt.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;n.fakeGestureTouched=!0,r.scaleStart=Tn.getDistanceBetweenTouches(e)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=Ct(e.target).closest(".".concat(this.params.slideClass)),0===r.$slideEl.length&&(r.$slideEl=this.slides.eq(this.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),r.$imageWrapEl=r.$imageEl.parent(".".concat(t.containerClass)),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||t.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl&&r.$imageEl.transition(0),this.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange:function(e){var t=this.params.zoom,n=this.zoom,r=n.gesture;if(!qt.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;n.fakeGestureMoved=!0,r.scaleMove=Tn.getDistanceBetweenTouches(e)}r.$imageEl&&0!==r.$imageEl.length&&(n.scale=qt.gestures?e.scale*n.currentScale:r.scaleMove/r.scaleStart*n.currentScale,n.scale>r.maxRatio&&(n.scale=r.maxRatio-1+Math.pow(n.scale-r.maxRatio+1,.5)),n.scale<t.minRatio&&(n.scale=t.minRatio+1-Math.pow(t.minRatio-n.scale+1,.5)),r.$imageEl.transform("translate3d(0,0,0) scale(".concat(n.scale,")")))},onGestureEnd:function(e){var t=this.params.zoom,n=this.zoom,r=n.gesture;if(!qt.gestures){if(!n.fakeGestureTouched||!n.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!Qt.android)return;n.fakeGestureTouched=!1,n.fakeGestureMoved=!1}r.$imageEl&&0!==r.$imageEl.length&&(n.scale=Math.max(Math.min(n.scale,r.maxRatio),t.minRatio),r.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale(".concat(n.scale,")")),n.currentScale=n.scale,n.isScaling=!1,1===n.scale&&(r.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,n=t.gesture,r=t.image;n.$imageEl&&0!==n.$imageEl.length&&(r.isTouched||(Qt.android&&e.cancelable&&e.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,n=t.zoom,r=n.gesture,i=n.image,o=n.velocity;if(r.$imageEl&&0!==r.$imageEl.length&&(t.allowClick=!1,i.isTouched&&r.$slideEl)){i.isMoved||(i.width=r.$imageEl[0].offsetWidth,i.height=r.$imageEl[0].offsetHeight,i.startX=Ft.getTranslate(r.$imageWrapEl[0],"x")||0,i.startY=Ft.getTranslate(r.$imageWrapEl[0],"y")||0,r.slideWidth=r.$slideEl[0].offsetWidth,r.slideHeight=r.$slideEl[0].offsetHeight,r.$imageWrapEl.transition(0),t.rtl&&(i.startX=-i.startX,i.startY=-i.startY));var s=i.width*n.scale,a=i.height*n.scale;if(!(s<r.slideWidth&&a<r.slideHeight)){if(i.minX=Math.min(r.slideWidth/2-s/2,0),i.maxX=-i.minX,i.minY=Math.min(r.slideHeight/2-a/2,0),i.maxY=-i.minY,i.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,i.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!i.isMoved&&!n.isScaling){if(t.isHorizontal()&&(Math.floor(i.minX)===Math.floor(i.startX)&&i.touchesCurrent.x<i.touchesStart.x||Math.floor(i.maxX)===Math.floor(i.startX)&&i.touchesCurrent.x>i.touchesStart.x))return void(i.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(i.minY)===Math.floor(i.startY)&&i.touchesCurrent.y<i.touchesStart.y||Math.floor(i.maxY)===Math.floor(i.startY)&&i.touchesCurrent.y>i.touchesStart.y))return void(i.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),i.isMoved=!0,i.currentX=i.touchesCurrent.x-i.touchesStart.x+i.startX,i.currentY=i.touchesCurrent.y-i.touchesStart.y+i.startY,i.currentX<i.minX&&(i.currentX=i.minX+1-Math.pow(i.minX-i.currentX+1,.8)),i.currentX>i.maxX&&(i.currentX=i.maxX-1+Math.pow(i.currentX-i.maxX+1,.8)),i.currentY<i.minY&&(i.currentY=i.minY+1-Math.pow(i.minY-i.currentY+1,.8)),i.currentY>i.maxY&&(i.currentY=i.maxY-1+Math.pow(i.currentY-i.maxY+1,.8)),o.prevPositionX||(o.prevPositionX=i.touchesCurrent.x),o.prevPositionY||(o.prevPositionY=i.touchesCurrent.y),o.prevTime||(o.prevTime=Date.now()),o.x=(i.touchesCurrent.x-o.prevPositionX)/(Date.now()-o.prevTime)/2,o.y=(i.touchesCurrent.y-o.prevPositionY)/(Date.now()-o.prevTime)/2,Math.abs(i.touchesCurrent.x-o.prevPositionX)<2&&(o.x=0),Math.abs(i.touchesCurrent.y-o.prevPositionY)<2&&(o.y=0),o.prevPositionX=i.touchesCurrent.x,o.prevPositionY=i.touchesCurrent.y,o.prevTime=Date.now(),r.$imageWrapEl.transform("translate3d(".concat(i.currentX,"px, ").concat(i.currentY,"px,0)"))}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,n=e.image,r=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;var i=300,o=300,s=n.currentX+r.x*i,a=n.currentY+r.y*o;0!==r.x&&(i=Math.abs((s-n.currentX)/r.x)),0!==r.y&&(o=Math.abs((a-n.currentY)/r.y));var u=Math.max(i,o);n.currentX=s,n.currentY=a;var c=n.height*e.scale;n.minX=Math.min(t.slideWidth/2-n.width*e.scale/2,0),n.maxX=-n.minX,n.minY=Math.min(t.slideHeight/2-c/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),t.$imageWrapEl.transition(u).transform("translate3d(".concat(n.currentX,"px, ").concat(n.currentY,"px,0)"))}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl&&t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl&&t.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,e.currentScale=1,t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,n,r,i,o,s,a,u,c,l,h,d,f,p,_,g,v=this.zoom,m=this.params.zoom,y=v.gesture,b=v.image;(y.$slideEl||(y.$slideEl=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.$wrapperEl.children(".".concat(this.params.slideActiveClass)):this.slides.eq(this.activeIndex),y.$imageEl=y.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),y.$imageWrapEl=y.$imageEl.parent(".".concat(m.containerClass))),y.$imageEl&&0!==y.$imageEl.length)&&(y.$slideEl.addClass("".concat(m.zoomedSlideClass)),void 0===b.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,n="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=b.touchesStart.x,n=b.touchesStart.y),v.scale=y.$imageWrapEl.attr("data-swiper-zoom")||m.maxRatio,v.currentScale=y.$imageWrapEl.attr("data-swiper-zoom")||m.maxRatio,e?(_=y.$slideEl[0].offsetWidth,g=y.$slideEl[0].offsetHeight,r=y.$slideEl.offset().left+_/2-t,i=y.$slideEl.offset().top+g/2-n,a=y.$imageEl[0].offsetWidth,u=y.$imageEl[0].offsetHeight,c=a*v.scale,l=u*v.scale,f=-(h=Math.min(_/2-c/2,0)),p=-(d=Math.min(g/2-l/2,0)),(o=r*v.scale)<h&&(o=h),o>f&&(o=f),(s=i*v.scale)<d&&(s=d),s>p&&(s=p)):(o=0,s=0),y.$imageWrapEl.transition(300).transform("translate3d(".concat(o,"px, ").concat(s,"px,0)")),y.$imageEl.transition(300).transform("translate3d(0,0,0) scale(".concat(v.scale,")")))},out:function(){var e=this.zoom,t=this.params.zoom,n=e.gesture;n.$slideEl||(n.$slideEl=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.$wrapperEl.children(".".concat(this.params.slideActiveClass)):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),n.$imageWrapEl=n.$imageEl.parent(".".concat(t.containerClass))),n.$imageEl&&0!==n.$imageEl.length&&(e.scale=1,e.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass("".concat(t.zoomedSlideClass)),n.$slideEl=void 0)},enable:function(){var e=this.zoom;if(!e.enabled){e.enabled=!0;var t=!("touchstart"!==this.touchEvents.start||!qt.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},n=!qt.passiveListener||{passive:!1,capture:!0},r=".".concat(this.params.slideClass);qt.gestures?(this.$wrapperEl.on("gesturestart",r,e.onGestureStart,t),this.$wrapperEl.on("gesturechange",r,e.onGestureChange,t),this.$wrapperEl.on("gestureend",r,e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,r,e.onGestureStart,t),this.$wrapperEl.on(this.touchEvents.move,r,e.onGestureChange,n),this.$wrapperEl.on(this.touchEvents.end,r,e.onGestureEnd,t),this.touchEvents.cancel&&this.$wrapperEl.on(this.touchEvents.cancel,r,e.onGestureEnd,t)),this.$wrapperEl.on(this.touchEvents.move,".".concat(this.params.zoom.containerClass),e.onTouchMove,n)}},disable:function(){var e=this.zoom;if(e.enabled){this.zoom.enabled=!1;var t=!("touchstart"!==this.touchEvents.start||!qt.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},n=!qt.passiveListener||{passive:!1,capture:!0},r=".".concat(this.params.slideClass);qt.gestures?(this.$wrapperEl.off("gesturestart",r,e.onGestureStart,t),this.$wrapperEl.off("gesturechange",r,e.onGestureChange,t),this.$wrapperEl.off("gestureend",r,e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,r,e.onGestureStart,t),this.$wrapperEl.off(this.touchEvents.move,r,e.onGestureChange,n),this.$wrapperEl.off(this.touchEvents.end,r,e.onGestureEnd,t),this.touchEvents.cancel&&this.$wrapperEl.off(this.touchEvents.cancel,r,e.onGestureEnd,t)),this.$wrapperEl.off(this.touchEvents.move,".".concat(this.params.zoom.containerClass),e.onTouchMove,n)}}},wn={loadInSlide:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.lazy;if(void 0!==e&&0!==n.slides.length){var i=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children(".".concat(n.params.slideClass,'[data-swiper-slide-index="').concat(e,'"]')):n.slides.eq(e),o=i.find(".".concat(r.elementClass,":not(.").concat(r.loadedClass,"):not(.").concat(r.loadingClass,")"));!i.hasClass(r.elementClass)||i.hasClass(r.loadedClass)||i.hasClass(r.loadingClass)||(o=o.add(i[0])),0!==o.length&&o.each(function(e,o){var s=Ct(o);s.addClass(r.loadingClass);var a=s.attr("data-background"),u=s.attr("data-src"),c=s.attr("data-srcset"),l=s.attr("data-sizes"),h=s.parent("picture");n.loadImage(s[0],u||a,c,l,!1,function(){if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(a?(s.css("background-image",'url("'.concat(a,'")')),s.removeAttr("data-background")):(c&&(s.attr("srcset",c),s.removeAttr("data-srcset")),l&&(s.attr("sizes",l),s.removeAttr("data-sizes")),h.length&&h.children("source").each(function(e,t){var n=Ct(t);n.attr("data-srcset")&&(n.attr("srcset",n.attr("data-srcset")),n.removeAttr("data-srcset"))}),u&&(s.attr("src",u),s.removeAttr("data-src"))),s.addClass(r.loadedClass).removeClass(r.loadingClass),i.find(".".concat(r.preloaderClass)).remove(),n.params.loop&&t){var e=i.attr("data-swiper-slide-index");if(i.hasClass(n.params.slideDuplicateClass)){var o=n.$wrapperEl.children('[data-swiper-slide-index="'.concat(e,'"]:not(.').concat(n.params.slideDuplicateClass,")"));n.lazy.loadInSlide(o.index(),!1)}else{var d=n.$wrapperEl.children(".".concat(n.params.slideDuplicateClass,'[data-swiper-slide-index="').concat(e,'"]'));n.lazy.loadInSlide(d.index(),!1)}}n.emit("lazyImageReady",i[0],s[0]),n.params.autoHeight&&n.updateAutoHeight()}}),n.emit("lazyImageLoad",i[0],s[0])})}},load:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides,i=e.activeIndex,o=e.virtual&&n.virtual.enabled,s=n.lazy,a=n.slidesPerView;function u(e){if(o){if(t.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]')).length)return!0}else if(r[e])return!0;return!1}function c(e){return o?Ct(e).attr("data-swiper-slide-index"):Ct(e).index()}if("auto"===a&&(a=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children(".".concat(n.slideVisibleClass)).each(function(t,n){var r=o?Ct(n).attr("data-swiper-slide-index"):Ct(n).index();e.lazy.loadInSlide(r)});else if(a>1)for(var l=i;l<i+a;l+=1)u(l)&&e.lazy.loadInSlide(l);else e.lazy.loadInSlide(i);if(s.loadPrevNext)if(a>1||s.loadPrevNextAmount&&s.loadPrevNextAmount>1){for(var h=s.loadPrevNextAmount,d=a,f=Math.min(i+d+Math.max(h,d),r.length),p=Math.max(i-Math.max(d,h),0),_=i+a;_<f;_+=1)u(_)&&e.lazy.loadInSlide(_);for(var g=p;g<i;g+=1)u(g)&&e.lazy.loadInSlide(g)}else{var v=t.children(".".concat(n.slideNextClass));v.length>0&&e.lazy.loadInSlide(c(v));var m=t.children(".".concat(n.slidePrevClass));m.length>0&&e.lazy.loadInSlide(c(m))}}},Dn={LinearSpline:function(e,t){var n,r,i,o,s,a=function(e,t){for(r=-1,n=e.length;n-r>1;)e[i=n+r>>1]<=t?r=i:n=i;return n};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(s=a(this.x,e),o=s-1,(e-this.x[o])*(this.y[s]-this.y[o])/(this.x[s]-this.x[o])+this.y[o]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new Dn.LinearSpline(this.slidesGrid,e.slidesGrid):new Dn.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){var n,r,i=this,o=i.controller.control;function s(e){var t=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(e),r=-i.controller.spline.interpolate(-t)),r&&"container"!==i.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(i.maxTranslate()-i.minTranslate()),r=(t-i.minTranslate())*n+e.minTranslate()),i.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,i),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(o))for(var a=0;a<o.length;a+=1)o[a]!==t&&o[a]instanceof un&&s(o[a]);else o instanceof un&&t!==o&&s(o)},setTransition:function(e,t){var n,r=this,i=r.controller.control;function o(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.params.autoHeight&&Ft.nextTick(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){i&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(i))for(n=0;n<i.length;n+=1)i[n]!==t&&i[n]instanceof un&&o(i[n]);else i instanceof un&&t!==i&&o(i)}},Pn={makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){var t=this.params.a11y;if(13===e.keyCode){var n=Ct(e.target);this.navigation&&this.navigation.$nextEl&&n.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.a11y.notify(this.isEnd?t.lastSlideMessage:t.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&n.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.a11y.notify(this.isBeginning?t.firstSlideMessage:t.prevSlideMessage)),this.pagination&&n.is(".".concat(this.params.pagination.bulletClass))&&n[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){if(!this.params.loop&&this.navigation){var e=this.navigation,t=e.$nextEl,n=e.$prevEl;n&&n.length>0&&(this.isBeginning?(this.a11y.disableEl(n),this.a11y.makeElNotFocusable(n)):(this.a11y.enableEl(n),this.a11y.makeElFocusable(n))),t&&t.length>0&&(this.isEnd?(this.a11y.disableEl(t),this.a11y.makeElNotFocusable(t)):(this.a11y.enableEl(t),this.a11y.makeElFocusable(t)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(n,r){var i=Ct(r);e.a11y.makeElFocusable(i),e.a11y.addElRole(i,"button"),e.a11y.addElLabel(i,t.paginationBulletMessage.replace(/\{\{index\}\}/,i.index()+1))})},init:function(){this.$el.append(this.a11y.liveRegion);var e,t,n=this.params.a11y;this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,n.nextSlideMessage),e.on("keydown",this.a11y.onEnterKey)),t&&(this.a11y.makeElFocusable(t),this.a11y.addElRole(t,"button"),this.a11y.addElLabel(t,n.prevSlideMessage),t.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown",".".concat(this.params.pagination.bulletClass),this.a11y.onEnterKey)},destroy:function(){var e,t;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&e.off("keydown",this.a11y.onEnterKey),t&&t.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown",".".concat(this.params.pagination.bulletClass),this.a11y.onEnterKey)}},kn={init:function(){if(this.params.history){if(!bt.history||!bt.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var e=this.history;e.initialized=!0,e.paths=kn.getPathValues(),(e.paths.key||e.paths.value)&&(e.scrollToSlide(0,e.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||bt.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||bt.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=kn.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var e=bt.location.pathname.slice(1).split("/").filter(function(e){return""!==e}),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(this.history.initialized&&this.params.history.enabled){var n=this.slides.eq(t),r=kn.slugify(n.attr("data-history"));bt.location.pathname.includes(e)||(r="".concat(e,"/").concat(r));var i=bt.history.state;i&&i.value===r||(this.params.history.replaceState?bt.history.replaceState({value:r},null,r):bt.history.pushState({value:r},null,r))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,n){var r=this;if(t)for(var i=0,o=r.slides.length;i<o;i+=1){var s=r.slides.eq(i);if(kn.slugify(s.attr("data-history"))===t&&!s.hasClass(r.params.slideDuplicateClass)){var a=s.index();r.slideTo(a,e,n)}}else r.slideTo(0,e,n)}},An={onHashCange:function(){var e=this;e.emit("hashChange");var t=mt.location.hash.replace("#","");if(t!==e.slides.eq(e.activeIndex).attr("data-hash")){var n=e.$wrapperEl.children(".".concat(e.params.slideClass,'[data-hash="').concat(t,'"]')).index();if(void 0===n)return;e.slideTo(n)}},setHash:function(){var e=this;if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&bt.history&&bt.history.replaceState)bt.history.replaceState(null,null,"#".concat(e.slides.eq(e.activeIndex).attr("data-hash"))||""),e.emit("hashSet");else{var t=e.slides.eq(e.activeIndex),n=t.attr("data-hash")||t.attr("data-history");mt.location.hash=n||"",e.emit("hashSet")}},init:function(){var e=this;if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var t=mt.location.hash.replace("#","");if(t)for(var n=0,r=e.slides.length;n<r;n+=1){var i=e.slides.eq(n);if((i.attr("data-hash")||i.attr("data-history"))===t&&!i.hasClass(e.params.slideDuplicateClass)){var o=i.index();e.slideTo(o,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&Ct(bt).on("hashchange",e.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&Ct(bt).off("hashchange",this.hashNavigation.onHashCange)}},In={run:function(){var e=this,t=e.slides.eq(e.activeIndex),n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=Ft.nextTick(function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),e.params.cssMode&&e.autoplay.running&&e.autoplay.run()},n)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(e){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==e&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))}},Mn={setTranslate:function(){for(var e=this,t=e.slides,n=0;n<t.length;n+=1){var r=e.slides.eq(n),i=-r[0].swiperSlideOffset;e.params.virtualTranslate||(i-=e.translate);var o=0;e.isHorizontal()||(o=i,i=0);var s=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(r[0].progress),0):1+Math.min(Math.max(r[0].progress,-1),0);r.css({opacity:s}).transform("translate3d(".concat(i,"px, ").concat(o,"px, 0px)"))}},setTransition:function(e){var t=this,n=t.slides,r=t.$wrapperEl;if(n.transition(e),t.params.virtualTranslate&&0!==e){var i=!1;n.transitionEnd(function(){if(!i&&t&&!t.destroyed){i=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)r.trigger(e[n])}})}}},Rn={setTranslate:function(){var e,t=this.$el,n=this.$wrapperEl,r=this.slides,i=this.width,o=this.height,s=this.rtlTranslate,a=this.size,u=this.params.cubeEffect,c=this.isHorizontal(),l=this.virtual&&this.params.virtual.enabled,h=0;u.shadow&&(c?(0===(e=n.find(".swiper-cube-shadow")).length&&(e=Ct('<div class="swiper-cube-shadow"></div>'),n.append(e)),e.css({height:"".concat(i,"px")})):0===(e=t.find(".swiper-cube-shadow")).length&&(e=Ct('<div class="swiper-cube-shadow"></div>'),t.append(e)));for(var d=0;d<r.length;d+=1){var f=r.eq(d),p=d;l&&(p=parseInt(f.attr("data-swiper-slide-index"),10));var _=90*p,g=Math.floor(_/360);s&&(_=-_,g=Math.floor(-_/360));var v=Math.max(Math.min(f[0].progress,1),-1),m=0,y=0,b=0;p%4==0?(m=4*-g*a,b=0):(p-1)%4==0?(m=0,b=4*-g*a):(p-2)%4==0?(m=a+4*g*a,b=a):(p-3)%4==0&&(m=-a,b=3*a+4*a*g),s&&(m=-m),c||(y=m,m=0);var E="rotateX(".concat(c?0:-_,"deg) rotateY(").concat(c?_:0,"deg) translate3d(").concat(m,"px, ").concat(y,"px, ").concat(b,"px)");if(v<=1&&v>-1&&(h=90*p+90*v,s&&(h=90*-p-90*v)),f.transform(E),u.slideShadows){var C=f.find(c?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),O=f.find(c?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===C.length&&(C=Ct('<div class="swiper-slide-shadow-'.concat(c?"left":"top",'"></div>')),f.append(C)),0===O.length&&(O=Ct('<div class="swiper-slide-shadow-'.concat(c?"right":"bottom",'"></div>')),f.append(O)),C.length&&(C[0].style.opacity=Math.max(-v,0)),O.length&&(O[0].style.opacity=Math.max(v,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -".concat(a/2,"px"),"-moz-transform-origin":"50% 50% -".concat(a/2,"px"),"-ms-transform-origin":"50% 50% -".concat(a/2,"px"),"transform-origin":"50% 50% -".concat(a/2,"px")}),u.shadow)if(c)e.transform("translate3d(0px, ".concat(i/2+u.shadowOffset,"px, ").concat(-i/2,"px) rotateX(90deg) rotateZ(0deg) scale(").concat(u.shadowScale,")"));else{var S=Math.abs(h)-90*Math.floor(Math.abs(h)/90),T=1.5-(Math.sin(2*S*Math.PI/360)/2+Math.cos(2*S*Math.PI/360)/2),w=u.shadowScale/T;e.transform("scale3d(".concat(u.shadowScale,", 1, ").concat(w,") translate3d(0px, ").concat(o/2+u.shadowOffset,"px, ").concat(-o/2/w,"px) rotateX(-90deg)"))}n.transform("translate3d(0px,0,".concat(hn.isSafari||hn.isWebView?-a/2:0,"px) rotateX(").concat(this.isHorizontal()?0:h,"deg) rotateY(").concat(this.isHorizontal()?-h:0,"deg)"))},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},xn={setTranslate:function(){for(var e=this,t=e.slides,n=e.rtlTranslate,r=0;r<t.length;r+=1){var i=t.eq(r),o=i[0].progress;e.params.flipEffect.limitRotation&&(o=Math.max(Math.min(i[0].progress,1),-1));var s=-180*o,a=0,u=-i[0].swiperSlideOffset,c=0;if(e.isHorizontal()?n&&(s=-s):(c=u,u=0,a=-s,s=0),i[0].style.zIndex=-Math.abs(Math.round(o))+t.length,e.params.flipEffect.slideShadows){var l=e.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),h=e.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===l.length&&(l=Ct('<div class="swiper-slide-shadow-'.concat(e.isHorizontal()?"left":"top",'"></div>')),i.append(l)),0===h.length&&(h=Ct('<div class="swiper-slide-shadow-'.concat(e.isHorizontal()?"right":"bottom",'"></div>')),i.append(h)),l.length&&(l[0].style.opacity=Math.max(-o,0)),h.length&&(h[0].style.opacity=Math.max(o,0))}i.transform("translate3d(".concat(u,"px, ").concat(c,"px, 0px) rotateX(").concat(a,"deg) rotateY(").concat(s,"deg)"))}},setTransition:function(e){var t=this,n=t.slides,r=t.activeIndex,i=t.$wrapperEl;if(n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var o=!1;n.eq(r).transitionEnd(function(){if(!o&&t&&!t.destroyed){o=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)i.trigger(e[n])}})}}},Ln={setTranslate:function(){for(var e=this.width,t=this.height,n=this.slides,r=this.$wrapperEl,i=this.slidesSizesGrid,o=this.params.coverflowEffect,s=this.isHorizontal(),a=this.translate,u=s?e/2-a:t/2-a,c=s?o.rotate:-o.rotate,l=o.depth,h=0,d=n.length;h<d;h+=1){var f=n.eq(h),p=i[h],_=(u-f[0].swiperSlideOffset-p/2)/p*o.modifier,g=s?c*_:0,v=s?0:c*_,m=-l*Math.abs(_),y=o.stretch;"string"==typeof y&&-1!==y.indexOf("%")&&(y=parseFloat(o.stretch)/100*p);var b=s?0:y*_,E=s?y*_:0,C=1-(1-o.scale)*Math.abs(_);if(Math.abs(E)<.001&&(E=0),Math.abs(b)<.001&&(b=0),Math.abs(m)<.001&&(m=0),Math.abs(g)<.001&&(g=0),Math.abs(v)<.001&&(v=0),Math.abs(C)<.001&&(C=0),f.transform("translate3d(".concat(E,"px,").concat(b,"px,").concat(m,"px)  rotateX(").concat(v,"deg) rotateY(").concat(g,"deg) scale(").concat(C,")")),f[0].style.zIndex=1-Math.abs(Math.round(_)),o.slideShadows){var O=f.find(s?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),S=f.find(s?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===O.length&&(O=Ct('<div class="swiper-slide-shadow-'.concat(s?"left":"top",'"></div>')),f.append(O)),0===S.length&&(S=Ct('<div class="swiper-slide-shadow-'.concat(s?"right":"bottom",'"></div>')),f.append(S)),O.length&&(O[0].style.opacity=_>0?_:0),S.length&&(S[0].style.opacity=-_>0?-_:0)}}(qt.pointerEvents||qt.prefixedPointerEvents)&&(r[0].style.perspectiveOrigin="".concat(u,"px 50%"))},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},jn={init:function(){var e=this.params.thumbs,t=this.constructor;e.swiper instanceof t?(this.thumbs.swiper=e.swiper,Ft.extend(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Ft.extend(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):Ft.isObject(e.swiper)&&(this.thumbs.swiper=new t(Ft.extend({},e.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick)},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var n=t.clickedIndex,r=t.clickedSlide;if(!(r&&Ct(r).hasClass(e.params.thumbs.slideThumbActiveClass)||null==n)){var i;if(i=t.params.loop?parseInt(Ct(t.clickedSlide).attr("data-swiper-slide-index"),10):n,e.params.loop){var o=e.activeIndex;e.slides.eq(o).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,o=e.activeIndex);var s=e.slides.eq(o).prevAll('[data-swiper-slide-index="'.concat(i,'"]')).eq(0).index(),a=e.slides.eq(o).nextAll('[data-swiper-slide-index="'.concat(i,'"]')).eq(0).index();i=void 0===s?a:void 0===a?s:a-o<o-s?a:s}e.slideTo(i)}}},update:function(e){var t=this,n=t.thumbs.swiper;if(n){var r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView,i=t.params.thumbs.autoScrollOffset,o=i&&!n.params.loop;if(t.realIndex!==n.realIndex||o){var s,a,u=n.activeIndex;if(n.params.loop){n.slides.eq(u).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,u=n.activeIndex);var c=n.slides.eq(u).prevAll('[data-swiper-slide-index="'.concat(t.realIndex,'"]')).eq(0).index(),l=n.slides.eq(u).nextAll('[data-swiper-slide-index="'.concat(t.realIndex,'"]')).eq(0).index();s=void 0===c?l:void 0===l?c:l-u==u-c?u:l-u<u-c?l:c,a=t.activeIndex>t.previousIndex?"next":"prev"}else a=(s=t.realIndex)>t.previousIndex?"next":"prev";o&&(s+="next"===a?i:-1*i),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(s)<0&&(n.params.centeredSlides?s=s>u?s-Math.floor(r/2)+1:s+Math.floor(r/2)-1:s>u&&(s=s-r+1),n.slideTo(s,e?0:void 0))}var h=1,d=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),n.slides.removeClass(d),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(var f=0;f<h;f+=1)n.$wrapperEl.children('[data-swiper-slide-index="'.concat(t.realIndex+f,'"]')).addClass(d);else for(var p=0;p<h;p+=1)n.slides.eq(t.realIndex+p).addClass(d)}}},Nn=[cn,ln,dn,fn,_n,vn,yn,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){Ft.extend(this,{mousewheel:{enabled:!1,enable:bn.enable.bind(this),disable:bn.disable.bind(this),handle:bn.handle.bind(this),handleMouseEnter:bn.handleMouseEnter.bind(this),handleMouseLeave:bn.handleMouseLeave.bind(this),animateSlider:bn.animateSlider.bind(this),releaseScroll:bn.releaseScroll.bind(this),lastScrollTime:Ft.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[]}})},on:{init:function(){!this.params.mousewheel.enabled&&this.params.cssMode&&this.mousewheel.disable(),this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.params.cssMode&&this.mousewheel.enable(),this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){Ft.extend(this,{navigation:{init:En.init.bind(this),update:En.update.bind(this),destroy:En.destroy.bind(this),onNextClick:En.onNextClick.bind(this),onPrevClick:En.onPrevClick.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(e){var t,n=this,r=n.navigation,i=r.$nextEl,o=r.$prevEl;!n.params.navigation.hideOnClick||Ct(e.target).is(o)||Ct(e.target).is(i)||(i?t=i.hasClass(n.params.navigation.hiddenClass):o&&(t=o.hasClass(n.params.navigation.hiddenClass)),n.emit(!0===t?"navigationShow":"navigationHide",n),i&&i.toggleClass(n.params.navigation.hiddenClass),o&&o.toggleClass(n.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){Ft.extend(this,{pagination:{init:Cn.init.bind(this),render:Cn.render.bind(this),update:Cn.update.bind(this),destroy:Cn.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){(this.params.loop||void 0===this.snapIndex)&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(e){var t=this;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&t.pagination.$el.length>0&&!Ct(e.target).hasClass(t.params.pagination.bulletClass)){var n=t.pagination.$el.hasClass(t.params.pagination.hiddenClass);t.emit(!0===n?"paginationShow":"paginationHide",t),t.pagination.$el.toggleClass(t.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){Ft.extend(this,{scrollbar:{init:On.init.bind(this),destroy:On.destroy.bind(this),updateSize:On.updateSize.bind(this),setTranslate:On.setTranslate.bind(this),setTransition:On.setTransition.bind(this),enableDraggable:On.enableDraggable.bind(this),disableDraggable:On.disableDraggable.bind(this),setDragPosition:On.setDragPosition.bind(this),getPointerPosition:On.getPointerPosition.bind(this),onDragStart:On.onDragStart.bind(this),onDragMove:On.onDragMove.bind(this),onDragEnd:On.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(e){this.scrollbar.setTransition(e)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){Ft.extend(this,{parallax:{setTransform:Sn.setTransform.bind(this),setTranslate:Sn.setTranslate.bind(this),setTransition:Sn.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(e){this.params.parallax.enabled&&this.parallax.setTransition(e)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(n){t[n]=Tn[n].bind(e)}),Ft.extend(e,{zoom:t});var n=1;Object.defineProperty(e.zoom,"scale",{get:function(){return n},set:function(t){n!==t&&e.emit("zoomChange",t,e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0),n=t}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},touchEnd:function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},doubleTap:function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()},slideChange:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.params.cssMode&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){Ft.extend(this,{lazy:{initialImageLoaded:!1,load:wn.load.bind(this),loadInSlide:wn.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()},slideChange:function(){this.params.lazy.enabled&&this.params.cssMode&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){Ft.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:Dn.getInterpolateFunction.bind(this),setTranslate:Dn.setTranslate.bind(this),setTransition:Dn.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},setTransition:function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var e=this;Ft.extend(e,{a11y:{liveRegion:Ct('<span class="'.concat(e.params.a11y.notificationClass,'" aria-live="assertive" aria-atomic="true"></span>'))}}),Object.keys(Pn).forEach(function(t){e.a11y[t]=Pn[t].bind(e)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){Ft.extend(this,{history:{init:kn.init.bind(this),setHistory:kn.setHistory.bind(this),setHistoryPopState:kn.setHistoryPopState.bind(this),scrollToSlide:kn.scrollToSlide.bind(this),destroy:kn.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)},slideChange:function(){this.history.initialized&&this.params.cssMode&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){Ft.extend(this,{hashNavigation:{initialized:!1,init:An.init.bind(this),destroy:An.destroy.bind(this),setHash:An.setHash.bind(this),onHashCange:An.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()},slideChange:function(){this.hashNavigation.initialized&&this.params.cssMode&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var e=this;Ft.extend(e,{autoplay:{running:!1,paused:!1,run:In.run.bind(e),start:In.start.bind(e),stop:In.stop.bind(e),pause:In.pause.bind(e),onVisibilityChange:function(){"hidden"===document.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===document.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd),e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&(this.autoplay.start(),document.addEventListener("visibilitychange",this.autoplay.onVisibilityChange))},beforeTransitionStart:function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},touchEnd:function(){this.params.cssMode&&this.autoplay.paused&&!this.params.autoplay.disableOnInteraction&&this.autoplay.run()},destroy:function(){this.autoplay.running&&this.autoplay.stop(),document.removeEventListener("visibilitychange",this.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){Ft.extend(this,{fadeEffect:{setTranslate:Mn.setTranslate.bind(this),setTransition:Mn.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push("".concat(this.params.containerModifierClass,"fade"));var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};Ft.extend(this.params,e),Ft.extend(this.originalParams,e)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(e){"fade"===this.params.effect&&this.fadeEffect.setTransition(e)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){Ft.extend(this,{cubeEffect:{setTranslate:Rn.setTranslate.bind(this),setTransition:Rn.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push("".concat(this.params.containerModifierClass,"cube")),this.classNames.push("".concat(this.params.containerModifierClass,"3d"));var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};Ft.extend(this.params,e),Ft.extend(this.originalParams,e)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(e){"cube"===this.params.effect&&this.cubeEffect.setTransition(e)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){Ft.extend(this,{flipEffect:{setTranslate:xn.setTranslate.bind(this),setTransition:xn.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push("".concat(this.params.containerModifierClass,"flip")),this.classNames.push("".concat(this.params.containerModifierClass,"3d"));var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};Ft.extend(this.params,e),Ft.extend(this.originalParams,e)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(e){"flip"===this.params.effect&&this.flipEffect.setTransition(e)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){Ft.extend(this,{coverflowEffect:{setTranslate:Ln.setTranslate.bind(this),setTransition:Ln.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push("".concat(this.params.containerModifierClass,"coverflow")),this.classNames.push("".concat(this.params.containerModifierClass,"3d")),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(e){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(e)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){Ft.extend(this,{thumbs:{swiper:null,init:jn.init.bind(this),update:jn.update.bind(this),onThumbClick:jn.onThumbClick.bind(this)}})},on:{beforeInit:function(){var e=this.params.thumbs;e&&e.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(e){var t=this.thumbs.swiper;t&&t.setTransition(e)},beforeDestroy:function(){var e=this.thumbs.swiper;e&&this.thumbs.swiperCreated&&e&&e.destroy()}}}];void 0===un.use&&(un.use=un.Class.use,un.installModule=un.Class.installModule),un.use(Nn);var Un,Bn,Fn,qn,Vn=un,Wn=function(e){return{"swiper-container":e}},Gn=["*"],Kn=((Bn=function(){function e(t,n){_classCallCheck(this,e),this.elementRef=t,this.changeDetectorRef=n,this.slideCount=0,this.initialized=!1,this.shouldInitialize=!0}return _createClass(e,[{key:"initialize",set:function(e){this.shouldInitialize=!this.initialized&&e}},{key:"ngAfterViewInit",value:function(){this.shouldInitialize&&this.setup()}},{key:"setup",value:function(){this.swiper||(this.elementRef.nativeElement.querySelector&&(this.swiperWrapper=this.elementRef.nativeElement.querySelector(".swiper-wrapper"),this.slideCount=this.swiperWrapper.childElementCount,this.swiper=new Vn(this.elementRef.nativeElement.querySelector("swiper > div"),this.config),this.changeDetectorRef.detectChanges()),this.shouldInitialize=!1)}},{key:"ngAfterViewChecked",value:function(){this.shouldInitialize&&this.setup(),this.swiperWrapper&&this.slideCount!==this.swiperWrapper.childElementCount&&(this.slideCount=this.swiperWrapper.childElementCount,this.swiper.update())}},{key:"ngOnDestroy",value:function(){this.swiper.destroy(!0,!0)}}]),e}()).\u0275fac=function(e){return new(e||Bn)(s.Qb(s.l),s.Qb(s.h))},Bn.\u0275cmp=s.Kb({type:Bn,selectors:[["swiper"]],inputs:{initialize:"initialize",config:"config"},ngContentSelectors:Gn,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(e,t){1&e&&(s.nc(),s.Vb(0,"div",0),s.mc(1),s.Ub()),2&e&&s.oc("ngClass",s.sc(1,Wn,void 0===(null==t.config?null:t.config.containerModifierClass)))},directives:[a.j],styles:["[_nghost-%COMP%]{display:block}.swiper-container[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),Bn),zn=((Un=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Un)},Un.\u0275mod=s.Ob({type:Un}),Un.\u0275inj=s.Nb({imports:[[a.b]]}),Un),Hn=["frameElement"],$n=["panElement"],Qn=["zoomElement"],Yn=["panzoomOverlay"],Xn=["*"],Zn=((qn=function(){function e(t){var n=this;_classCallCheck(this,e),this.zone=t,this.isDragging=!1,this.lastTick=0,this.isChrome=!1,this.willChangeNextFrame=!0,this.isMobile=!1,this.isFirstSync=!0,this.zoomLevelIsChanging=!1,this.dragFinishing=!1,this.onMouseWheel=function(e){if(e&&e.pageX&&e.pageY){var t=e.deltaY;if(n.config.zoomOnMouseWheel){if(n.animationParams)return;n.config.invertMouseWheel||(t=-t);var r=n.getFrameElementOffset(),i={x:e.pageX-r.left,y:e.pageY-r.top};n.lastClickPoint=i,n.config.freeMouseWheel?n.freeZoom(i,t):t<0?n.zoomInToPoint(i):t>0&&n.zoomOutFromPoint(i)}}},this.onMousedown=function(e){if(!n.config.noDragFromElementClass||!n.isParentElement(n.config.noDragFromElementClass,e.srcElement))return e.button===n.dragMouseButton||"touchstart"===e.type?("touchstart"!==e.type&&e.preventDefault(),n.dragFinishing=!1,n.panVelocity=void 0,n.config.panOnClickDrag&&(n.previousPosition={x:e.pageX,y:e.pageY},n.lastMouseEventTime=e.timeStamp,n.isDragging=!0,n.model.isPanning=!1,n.isMobile?(n.zone.runOutsideAngular(function(){return document.addEventListener("touchend",n.onTouchEnd,!1)}),n.zone.runOutsideAngular(function(){return document.addEventListener("touchmove",n.onTouchMove,{passive:!0,capture:!1})})):(n.zone.runOutsideAngular(function(){return document.addEventListener("mousemove",n.onMouseMove,{passive:!0,capture:!1})}),n.zone.runOutsideAngular(function(){return document.addEventListener("mouseup",n.onMouseUp)}))),!1):void 0},this.onTouchStart=function(e){if(1!==e.touches.length){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;n.previousPosition={length:t*t+r*r}}n.onMousedown(e)},this.onMouseMove=function(e){var t;if(e&&e.pageX&&e.pageY)t=e;else{if("touchmove"!==e.type||!e.touches[0].pageX||!e.touches[0].pageY)return;t={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY}}var r=e.timeStamp,i=(r-n.lastMouseEventTime)/1e3;n.lastMouseEventTime=r;var o={x:t.pageX-n.previousPosition.x,y:t.pageY-n.previousPosition.y};if(n.config.keepInBounds){var s=n.getViewPosition({x:0,y:0}),a=n.getViewPosition({x:n.contentWidth,y:n.contentHeight});s.x>0&&o.x>0&&(o.x*=Math.min(1,Math.pow(s.x,-n.config.keepInBoundsDragPullback))),s.y>0&&o.y>0&&(o.y*=Math.min(1,Math.pow(s.y,-n.config.keepInBoundsDragPullback))),a.x<n.contentWidth&&o.x<0&&(o.x*=Math.min(1,Math.pow(n.contentWidth-a.x,-n.config.keepInBoundsDragPullback))),a.y<n.contentHeight&&o.y<0&&(o.y*=Math.min(1,Math.pow(n.contentHeight-a.y,-n.config.keepInBoundsDragPullback)))}var u=o.y||0;n.model.pan.x+=o.x||0,n.model.pan.y+=u,n.syncBaseToModel(),n.animationTick(),n.model.isPanning||(n.panzoomOverlayRef.nativeElement.style.display="block"),n.model.isPanning=!0;var c=o.x/i,l=o.y/i;n.panVelocity={x:Number.isFinite(c)?c:0,y:Number.isFinite(l)?l:0},n.previousPosition={x:t.pageX,y:t.pageY}},this.onTouchMove=function(e){if(1===e.touches.length)n.onMouseMove(e);else{var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=t*t+r*r,o=i-n.previousPosition.length;if(Math.abs(o)<100)return;var s=e.touches[1].pageX+t/2,a=e.touches[1].pageY+r/2,u=n.getFrameElementOffset(),c={x:s-u.left,y:a-u.top};n.lastClickPoint=c,n.changeZoomLevel(n.base.zoomLevel+1e-4*o,c),n.previousPosition={length:i}}},this.onMouseUp=function(e){if(e.button===n.dragMouseButton||"touchend"===e.type){"touchend"!==e.type&&e.preventDefault();var t=(e.timeStamp-n.lastMouseEventTime)/1e3;if(!n.panVelocity||0===n.panVelocity.x&&0===n.panVelocity.y)n.panVelocity=void 0,n.dragFinishing=!1,n.model.isPanning=!1,n.config.modelChanged.next(n.model),n.syncBaseToModel();else{var r=Math.max(0,-.2+Math.pow(t+1,-4));n.panVelocity.x*=r,n.panVelocity.y*=r,n.dragFinishing=!0,n.zone.runOutsideAngular(function(){return n.animationId=n.animationFrameFunc(n.animationTick)})}n.isDragging=!1,n.isMobile?(n.zone.runOutsideAngular(function(){return document.removeEventListener("touchend",n.onTouchEnd)}),n.zone.runOutsideAngular(function(){return document.removeEventListener("touchmove",n.onTouchMove,{passive:!0,capture:!1})})):(n.zone.runOutsideAngular(function(){return document.removeEventListener("mousemove",n.onMouseMove,{passive:!0,capture:!1})}),n.zone.runOutsideAngular(function(){return document.removeEventListener("mouseup",n.onMouseUp,{passive:!0})})),n.panzoomOverlayRef.nativeElement.style.display="none"}},this.onTouchEnd=function(e){n.onMouseUp(e)},this.onDblClick=function(e){if(e.preventDefault(),n.config.zoomOnDoubleClick){var t=n.getFrameElementOffset(),r={x:e.pageX-t.left,y:e.pageY-t.top};n.lastClickPoint=r,n.zoomInToPoint(r)}},this.preventDefault=function(e){e.preventDefault()},this.animationTick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),t=0;if(0!==n.lastTick&&(t=e-n.lastTick),n.lastTick=e,n.animationParams&&(n.animationParams.progress+=Math.abs(t/n.animationParams.duration),n.animationParams.progress>=1&&(n.animationParams.progress=1,n.updateDOM(),n.animationParams=void 0)),n.panVelocity&&n.dragFinishing)for(t>0&&(t/=1e3);t>0;){var r=Math.min(.02,t);if(t-=r,n.model.pan.x=n.model.pan.x+n.panVelocity.x*r,n.panVelocity.x=n.panVelocity.x*(1-n.config.friction*r),n.model.pan.y=n.model.pan.y+n.panVelocity.y*r,n.panVelocity.y=n.panVelocity.y*(1-n.config.friction*r),n.length(n.panVelocity)<=n.config.haltSpeed){n.panVelocity=void 0,n.dragFinishing=!1;break}}if(n.config.keepInBounds||n.dragFinishing){var i=n.getViewPosition({x:0,y:0}),o=n.getViewPosition({x:n.contentWidth,y:n.contentHeight});i.x>0&&(n.base.pan.x-=n.config.keepInBoundsRestoreForce*i.x),i.y>0&&(n.base.pan.y-=n.config.keepInBoundsRestoreForce*i.y),o.x<n.contentWidth&&(n.base.pan.x-=n.config.keepInBoundsRestoreForce*(o.x-n.contentWidth)),o.y<n.contentHeight&&(n.base.pan.y-=n.config.keepInBoundsRestoreForce*(o.y-n.contentHeight))}if(n.updateDOM(),n.config.modelChanged.next(n.model),n.animationParams||n.panVelocity&&n.dragFinishing)n.isChrome&&n.zoomLevelIsChanging&&(n.zoomElementRef.nativeElement.style.willChange=n.willChangeNextFrame?"auto":"transform",n.willChangeNextFrame=!n.willChangeNextFrame),n.animationFrameFunc(n.animationTick);else{if(n.panVelocity&&!n.dragFinishing)return;n.model.isPanning&&(n.model.isPanning=!1),n.syncBaseToModel(),n.config.modelChanged.next(n.model),n.scale=n.getCssScale(n.base.zoomLevel),n.willChangeNextFrame=!0,n.zoomElementRef.nativeElement.style.willChange="transform",n.zoomLevelIsChanging=!1,n.lastTick=0}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;switch(this.base=this.config.initialZoomToFit?this.calcZoomToFit(this.config.initialZoomToFit):{zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}},this.model={zoomLevel:this.base.zoomLevel,isPanning:!1,pan:{x:this.base.pan.x,y:this.base.pan.y}},this.config.modelChanged.next(this.model),this.api={model:this.model,config:this.config,changeZoomLevel:this.zoomToLevelAndPoint.bind(this),zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),zoomToFit:this.zoomToFit.bind(this),resetView:this.resetView.bind(this),getViewPosition:this.getViewPosition.bind(this),getModelPosition:this.getModelPosition.bind(this),panToPoint:this.panToPoint.bind(this),panDelta:this.panDelta.bind(this),panDeltaPercent:this.panDeltaPercent.bind(this),panDeltaAbsolute:this.panDeltaAbsolute.bind(this),centerContent:this.centerContent.bind(this),centerX:this.centerX.bind(this),centerY:this.centerY.bind(this),centerTopLeft:this.centerTopLeftCorner.bind(this),centerBottomLeft:this.centerBottomLeftCorner.bind(this),centerTopRight:this.centerTopRightCorner.bind(this),centerBottomRight:this.centerBottomRightCorner.bind(this),updateContentDimensions:this.updateContentDimensions.bind(this),detectContentDimensions:this.detectContentDimensions.bind(this)},this.config.api.next(this.api),this.config.freeMouseWheel&&(this.scale=this.getCssScale(this.config.initialZoomLevel),this.maxScale=this.getCssScale(this.config.zoomLevels-1),this.minScale=this.getCssScale(0)),this.minimumAllowedZoomLevel=0,this.config.keepInBounds&&(this.minimumAllowedZoomLevel=this.config.neutralZoomLevel,this.minScale=this.getCssScale(this.config.neutralZoomLevel)),this.zoomElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.zoomElementRef.nativeElement.style.transform="translateZ(0)"),this.config.acceleratePan&&(this.panElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.panElementRef.nativeElement.style.transform="translateZ(0)")),this.animationTick(),this.scale=this.getCssScale(this.base.zoomLevel),this.isFirstSync=!1,this.config.dragMouseButton){case"left":this.dragMouseButton=0;break;case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(function(){return e.frameElementRef.nativeElement.addEventListener("auxclick",e.preventDefault)});break;case"right":this.zone.runOutsideAngular(function(){return document.addEventListener("contextmenu",e.preventDefault)}),this.dragMouseButton=2;break;default:this.dragMouseButton=0}}},{key:"ngAfterViewInit",value:function(){var e=this;this.detectContentDimensions();var t=getComputedStyle(this.frameElementRef.nativeElement);this.frameHeight=parseInt(t.getPropertyValue("height").split("px")[0]),this.frameWidth=parseInt(t.getPropertyValue("width").split("px")[0]),this.zone.runOutsideAngular(function(){return e.animationFrameFunc=window.requestAnimationFrame}),this.config.dynamicContentDimensions&&(window.ResizeObserver?(this.resizeObserver=new window.ResizeObserver(function(t){return e.onContentDimensionsChangeDetected(t)}),this.zone.runOutsideAngular(function(){return e.resizeObserver.observe(e.zoomElementRef.nativeElement)})):console.error("ResizeObserver API is not supported by this browser.  See https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver for info on browser compatibility.")),this.isMobileDevice()?(this.isMobile=!0,this.zone.runOutsideAngular(function(){return e.frameElementRef.nativeElement.addEventListener("touchstart",e.onTouchStart)})):this.zone.runOutsideAngular(function(){e.frameElementRef.nativeElement.addEventListener("mousedown",e.onMousedown),e.frameElementRef.nativeElement.addEventListener("dblclick",e.onDblClick),e.frameElementRef.nativeElement.addEventListener("wheel",function(t){return e.animationFrameFunc(function(){return e.onMouseWheel(t)})},{passive:!0})})}},{key:"ngOnDestroy",value:function(){var e=this;switch(this.isMobile?this.frameElementRef.nativeElement.removeEventListener("touchstart",this.onTouchStart):(this.frameElementRef.nativeElement.removeEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.removeEventListener("wheel",function(t){return e.animationFrameFunc(function(){return e.onMouseWheel(t)})},{passive:!0}),this.frameElementRef.nativeElement.removeEventListener("dblclick",this.onDblClick)),this.animationFrameFunc&&this.animationId&&window.cancelAnimationFrame(this.animationId),this.resizeObserver&&this.resizeObserver.disconnect(),this.config.dragMouseButton){case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(function(){return e.frameElementRef.nativeElement.removeEventListener("auxclick",e.preventDefault)});break;case"right":this.zone.runOutsideAngular(function(){return document.removeEventListener("contextmenu",e.preventDefault)}),this.dragMouseButton=2}}},{key:"isParentElement",value:function(e,t){for(var n=t.parentNode;null!==n;){if(n.classList&&n.classList.contains(e))return!0;n=n.parentNode}return!1}},{key:"updateDOM",value:function(){if(this.animationParams){this.model.zoomLevel=this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress;var e=this.animationParams.panStepFunc(this.model.zoomLevel);if(this.model.pan.x=this.base.pan.x+e.x,this.model.pan.y=this.base.pan.y+e.y,this.config.keepInBounds){var t=this.getViewPosition({x:0,y:0}),n=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});t.x>0&&(this.model.pan.x=0),t.y>0&&(this.model.pan.y=0),n.x<this.contentWidth&&(this.model.pan.x-=n.x-this.contentWidth),n.y<this.contentHeight&&(this.model.pan.y-=n.y-this.contentHeight)}}if(this.animationParams||this.isFirstSync){var r=this.getCssScale(this.model.zoomLevel);this.zoomElementRef.nativeElement.setAttribute("style","transform-origin: 0 0; transform: scale(".concat(r,");"))}this.panElementRef.nativeElement.style.transform="translate3d(".concat(this.model.pan.x,"px, ").concat(this.model.pan.y,"px, 0)")}},{key:"freeZoom",value:function(e,t){if(!this.isDragging){this.animationParams&&(this.animationParams=void 0),this.panVelocity&&(this.dragFinishing=!1,this.panVelocity=void 0);var n=this.model.pan.x,r=this.model.pan.y,i=this.scale,o=this.scale+t*this.config.freeMouseWheelFactor*this.scale;o=Math.max(this.minScale,Math.min(this.maxScale,o)),this.scale=o;var s={x:e.x-o/i*(e.x-n),y:e.y-o/i*(e.y-r)};this.panElementRef.nativeElement.style.transform="translate3d(".concat(s.x,"px, ").concat(s.y,"px, 0)");var a="transform-origin: 0 0; transform: scale(".concat(this.scale,");");this.isChrome&&(a+=this.willChangeNextFrame?" will-change: auto;":" will-change: transform;",this.willChangeNextFrame=!this.willChangeNextFrame),this.zoomElementRef.nativeElement.setAttribute("style",a),this.model.pan.x=s.x,this.model.pan.y=s.y,this.model.zoomLevel=this.getZoomLevel(this.scale),this.config.modelChanged.next(this.model),this.syncBaseToModel()}}},{key:"isMobileDevice",value:function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},{key:"syncBaseToModel",value:function(){this.base.pan.x=this.model.pan.x,this.base.pan.y=this.model.pan.y,this.base.zoomLevel=this.model.zoomLevel}},{key:"length",value:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"getCentrePoint",value:function(){return{x:this.frameElementRef.nativeElement.offsetWidth/2,y:this.frameElementRef.nativeElement.offsetHeight/2}}},{key:"getCssScale",value:function(e){return Math.pow(this.config.scalePerZoomLevel,e-this.config.neutralZoomLevel)}},{key:"getZoomLevel",value:function(e){return Math.log10(e)/Math.log10(this.config.scalePerZoomLevel)+this.config.neutralZoomLevel}},{key:"calcZoomToFit",value:function(e){var t=this.frameElementRef.nativeElement.offsetWidth,n=this.frameElementRef.nativeElement.offsetHeight,r=e.width,i=e.height,o=Math.min(t/r,n/i),s=this.getZoomLevel(o)*this.config.zoomToFitZoomLevelFactor,a=this.getCssScale(s);return{zoomLevel:s,pan:{x:-e.x*a+(t-r*a)/2,y:-e.y*a+(n-i*a)/2}}}},{key:"zoomToFitModel",value:function(e,t){this.model.isPanning=!0,this.animateToTarget(e,t)}},{key:"zoomToLevelAndPoint",value:function(e,t){this.changeZoomLevel(e,t)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lastPoint";"lastPoint"===e?this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===e&&this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.getCentrePoint())}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lastPoint";"lastPoint"===e?this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===e&&this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.getCentrePoint())}},{key:"startAnimation",value:function(){var e=this;this.lastTick=performance.now(),this.zone.runOutsideAngular(function(){return e.animationId=e.animationFrameFunc(e.animationTick)})}},{key:"getFrameElementOffset",value:function(){var e=this.frameElementRef.nativeElement.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX}}},{key:"onContentDimensionsChangeDetected",value:function(e){this.contentHeight=e[0].contentRect.height,this.contentWidth=e[0].contentRect.width}},{key:"getViewPosition",value:function(e){var t,n;if(this.animationParams){t=this.getCssScale(this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress);var r=this.animationParams.panStepFunc(this.model.zoomLevel);n={x:this.base.pan.x+r.x,y:this.base.pan.y+r.y}}else t=this.getCssScale(this.base.zoomLevel),n=this.base.pan;return{x:e.x*t+n.x,y:e.y*t+n.y}}},{key:"getModelPosition",value:function(e){var t=e,n=this.getCssScale(this.base.zoomLevel),r=this.base.pan;return{x:1/n*(t.x-r.x),y:1/n*(t.y-r.y)}}},{key:"resetView",value:function(){this.config.initialZoomToFit?this.zoomToFit(this.config.initialZoomToFit):void 0!==this.config.initialPanX&&void 0!==this.config.initialPanY&&void 0!==this.config.initialZoomLevel?this.zoomToFitModel({zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}}):(console.error("PanZoomComponent: resetView() could not reset view as some vars were not set.  The culprits are either config.initialZoomLevel, config.initialPanX, or config.initialPanY.  Or just set panzoomConfig.initialZoomToFit"),console.log("config.initialZoomLevel: "+this.config.initialZoomLevel),console.log("config.initialPanX: "+this.config.initialPanX),console.log("config.initialPanY: "+this.config.initialPanY))}},{key:"zoomToFit",value:function(e,t){var n=this.calcZoomToFit(e);this.model.isPanning=!0,this.animateToTarget(n,t)}},{key:"zoomInToPoint",value:function(e){this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,e)}},{key:"zoomOutFromPoint",value:function(e){this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,e)}},{key:"panToPoint",value:function(e,t){var n={pan:{x:this.frameWidth/2-e.x*this.scale,y:this.frameHeight/2-e.y*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(n,t)}},{key:"panToPointCurrentScale",value:function(e,t){var n={pan:{x:this.frameWidth/2-e.x,y:this.frameHeight/2-e.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(n,t)}},{key:"panDelta",value:function(e,t){var n={pan:{x:this.base.pan.x-this.scale*e.x,y:this.base.pan.y-this.scale*e.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(n,t)}},{key:"panDeltaAbsolute",value:function(e,t){var n={pan:{x:this.base.pan.x-e.x,y:this.base.pan.y-e.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(n,t)}},{key:"panDeltaPercent",value:function(e,t){var n=0,r=0;0!==e.x&&(n=this.contentWidth*(e.x/100)*this.scale),0!==e.y&&(r=this.contentHeight*(e.y/100)*this.scale);var i={pan:{x:this.base.pan.x-n,y:this.base.pan.y-r},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(i,t)}},{key:"centerContent",value:function(e){this.panToPoint({x:this.contentWidth/2,y:this.contentHeight/2},e)}},{key:"centerX",value:function(e){var t={pan:{x:this.frameWidth/2-this.contentWidth/2*this.scale,y:this.base.pan.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(t,e)}},{key:"centerY",value:function(e){var t={pan:{x:this.base.pan.x,y:this.frameHeight/2-this.contentHeight/2*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(t,e)}},{key:"centerTopLeftCorner",value:function(e){this.panToPoint({x:0,y:0},e)}},{key:"centerBottomLeftCorner",value:function(e){this.panToPoint({x:0,y:this.contentHeight},e)}},{key:"centerTopRightCorner",value:function(e){this.panToPoint({x:this.contentWidth,y:0},e)}},{key:"centerBottomRightCorner",value:function(e){this.panToPoint({x:this.contentWidth,y:this.contentHeight},e)}},{key:"updateContentDimensions",value:function(e,t){void 0!==t&&(this.contentHeight=t),void 0!==e&&(this.contentWidth=e)}},{key:"detectContentDimensions",value:function(){var e=getComputedStyle(this.zoomElementRef.nativeElement);this.contentHeight=parseInt(e.getPropertyValue("height").split("px")[0]),this.contentWidth=parseInt(e.getPropertyValue("width").split("px")[0])}},{key:"animateToTarget",value:function(e,t){var n=this;if(!this.animationParams){this.zoomLevelIsChanging=!1,this.base.zoomLevel!==e.zoomLevel&&(this.zoomLevelIsChanging=!0);var r=e.zoomLevel-this.base.zoomLevel,i=this.base.pan.x,o=this.base.pan.y;this.model.pan.x=this.base.pan.x,this.model.pan.y=this.base.pan.y,this.animationParams={deltaZoomLevel:r,panStepFunc:function(t){return{x:-(i-e.pan.x)*n.animationParams.progress,y:-(o-e.pan.y)*n.animationParams.progress}},duration:t=t?1e3*t:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}}},{key:"changeZoomLevel",value:function(e,t){var n=this;if(!this.animationParams){this.zoomLevelIsChanging=!0,e=Math.max(this.minimumAllowedZoomLevel,e);var r=(e=Math.min(this.config.zoomLevels-1,e))-this.base.zoomLevel;if(r){var i=this.base.pan.x,o=this.base.pan.y,s=this.scale,a=t||this.getCentrePoint();this.animationParams={deltaZoomLevel:r,panStepFunc:function(e){var t=n.getCssScale(e);return{x:a.x-t/s*(a.x-i)-i,y:a.y-t/s*(a.y-o)-o}},duration:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}}}}]),e}()).\u0275fac=function(e){return new(e||qn)(s.Qb(s.A))},qn.\u0275cmp=s.Kb({type:qn,selectors:[["pan-zoom"]],viewQuery:function(e,t){var n;1&e&&(s.Mc(Hn,3),s.Mc($n,3),s.Mc(Qn,3),s.Mc(Yn,3)),2&e&&(s.zc(n=s.gc())&&(t.frameElementRef=n.first),s.zc(n=s.gc())&&(t.panElementRef=n.first),s.zc(n=s.gc())&&(t.zoomElementRef=n.first),s.zc(n=s.gc())&&(t.panzoomOverlayRef=n.first))},inputs:{config:"config"},ngContentSelectors:Xn,decls:9,vars:0,consts:[[1,"pan-zoom-frame"],["frameElement",""],[1,"pan-element"],["panElement",""],[1,"zoom-element"],["zoomElement",""],[1,"pan-zoom-overlay"],["panzoomOverlay",""]],template:function(e,t){1&e&&(s.nc(),s.Vb(0,"div",0,1),s.Vb(2,"div",2,3),s.Vb(4,"div",4,5),s.mc(6),s.Ub(),s.Ub(),s.Ub(),s.Rb(7,"div",6,7))},styles:[".pan-zoom-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.pan-element[_ngcontent-%COMP%], .pan-zoom-overlay[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.pan-zoom-overlay[_ngcontent-%COMP%]{display:none;right:0;bottom:0;opacity:0;pointer-events:none}"]}),qn),Jn=((Fn=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Fn)},Fn.\u0275mod=s.Ob({type:Fn}),Fn.\u0275inj=s.Nb({providers:[],imports:[[]]}),Fn),er=_createClass(function e(t){_classCallCheck(this,e),this.zoomLevels=5,this.neutralZoomLevel=2,this.scalePerZoomLevel=2,this.initialZoomLevel=this.neutralZoomLevel,this.friction=10,this.haltSpeed=100,this.initialPanX=0,this.initialPanY=0,this.keepInBounds=!1,this.keepInBoundsDragPullback=.7,this.keepInBoundsRestoreForce=.5,this.panOnClickDrag=!0,this.dragMouseButton="left",this.zoomButtonIncrement=1,this.zoomOnDoubleClick=!0,this.zoomOnMouseWheel=!0,this.invertMouseWheel=!1,this.zoomStepDuration=.2,this.zoomToFitZoomLevelFactor=.95,this.freeMouseWheel=!0,this.freeMouseWheelFactor=.08,this.modelChanged=new g.a({isPanning:null,zoomLevel:null,pan:{x:null,y:null}}),this.api=new g.a({model:null,config:null,changeZoomLevel:null,zoomIn:null,zoomOut:null,zoomToFit:null,getViewPosition:null,getModelPosition:null,resetView:null,panToPoint:null,panDelta:null,panDeltaPercent:null,panDeltaAbsolute:null,centerContent:null,centerX:null,centerY:null,centerTopLeft:null,centerTopRight:null,centerBottomLeft:null,centerBottomRight:null,updateContentDimensions:null,detectContentDimensions:null}),this.acceleratePan=!0,this.dynamicContentDimensions=!1,void 0!==t&&("zoomLevels"in t&&(this.zoomLevels=t.zoomLevels),"neutralZoomLevel"in t&&(this.neutralZoomLevel=t.neutralZoomLevel),"scalePerZoomLevel"in t&&(this.scalePerZoomLevel=t.scalePerZoomLevel),"initialZoomLevel"in t&&(this.initialZoomLevel=t.initialZoomLevel),"friction"in t&&(this.friction=t.friction),"haltSpeed"in t&&(this.haltSpeed=t.haltSpeed),"initialPanX"in t&&(this.initialPanX=t.initialPanX),"initialPanY"in t&&(this.initialPanY=t.initialPanY),"initialZoomToFit"in t&&(this.initialZoomToFit=t.initialZoomToFit),"keepInBounds"in t&&(this.keepInBounds=t.keepInBounds),"keepInBoundsDragPullback"in t&&(this.keepInBoundsDragPullback=t.keepInBoundsDragPullback),"keepInBoundsRestoreForce"in t&&(this.keepInBoundsRestoreForce=t.keepInBoundsRestoreForce),"panOnClickDrag"in t&&(this.panOnClickDrag=t.panOnClickDrag),"dragMouseButton"in t&&(this.dragMouseButton=t.dragMouseButton),"zoomButtonIncrement"in t&&(this.zoomButtonIncrement=t.zoomButtonIncrement),"zoomOnDoubleClick"in t&&(this.zoomOnDoubleClick=t.zoomOnDoubleClick),"zoomOnMouseWheel"in t&&(this.zoomOnMouseWheel=t.zoomOnMouseWheel),"invertMouseWheel"in t&&(this.invertMouseWheel=t.invertMouseWheel),"zoomStepDuration"in t&&(this.zoomStepDuration=t.zoomStepDuration),"zoomToFitZoomLevelFactor"in t&&(this.zoomToFitZoomLevelFactor=t.zoomToFitZoomLevelFactor),"freeMouseWheel"in t&&(this.freeMouseWheel=t.freeMouseWheel),"freeMouseWheelFactor"in t&&(this.freeMouseWheelFactor=t.freeMouseWheelFactor),this.keepInBounds&&0!==this.neutralZoomLevel&&console.warn("You have set keepInBounds to true and neutralZoomLevel to "+this.neutralZoomLevel+". Be aware that the zoom level cannot go below "+this.neutralZoomLevel),"noDragFromElementClass"in t&&(this.noDragFromElementClass=t.noDragFromElementClass),"acceleratePan"in t&&(this.acceleratePan=t.acceleratePan),"dynamicContentDimensions"in t&&(this.dynamicContentDimensions=t.dynamicContentDimensions))}),tr=n("KDNa"),nr=n("nYR2"),rr=["pic"];function ir(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Vb(1,"img",2,3),s.fc("load",function(){return s.Bc(n),s.jc().onImgLoad()}),s.Ub(),s.Sb()}if(2&e){var r=s.jc();s.Db(1),s.oc("src",r.assetData.data,s.Ec)}}function or(e,t){1&e&&(s.Vb(0,"div",4),s.Jc(1,"\xa0"),s.Ub())}var sr,ar,ur,cr,lr,hr,dr,fr,pr=((ur=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.sanitizer=n}return _createClass(e,[{key:"getAsset",value:function(e){var t=this,n=e.split("."),r=w(n).last();return this.http.get(e,{responseType:"blob"}).pipe(Object(y.a)(function(e){return t.parseBytype(r,e)}),Object(E.a)(function(e){console.log("SecureAssetsPipe -> constructor -> val",e)}),Object(C.a)(function(e){return Object(_.a)(e.message)}))}},{key:"parseBytype",value:function(e,t){return this.isImage(e)?{type:"image",data:this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(t))}:this.isSvg(e)?{type:"svg",data:this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(new Blob([t],{type:"image/svg+xml"})))}:void 0}},{key:"isImage",value:function(e){return!!/(jpe?g|png|gif|bmp)$/i.test(e)}},{key:"isSvg",value:function(e){return!!/(svg)$/i.test(e)}}]),e}()).\u0275fac=function(e){return new(e||ur)(s.cc(m.b),s.cc(o.b))},ur.\u0275prov=s.Mb({token:ur,factory:ur.\u0275fac}),ur),_r=((ar=function(){function e(t,n){_classCallCheck(this,e),this.afsLibSecureAssetService=t,this.cdRef=n,this.loader=!0,this.load=new s.n}return _createClass(e,[{key:"url",get:function(){return this._url},set:function(e){this._url=e,this.init()}},{key:"ngOnInit",value:function(){}},{key:"init",value:function(){var e=this;this.afsLibSecureAssetService.getAsset(this.url).pipe(Object(le.a)(1),Object(nr.a)(function(){console.log("finally"),e.loader=!1,e.cdRef.detectChanges()})).subscribe(function(t){e.assetData=t},function(e){console.log("Image loading failed!")})}},{key:"onImgLoad",value:function(){this.load.emit(this.pic.nativeElement.width/this.pic.nativeElement.naturalWidth*100<=50)}}]),e}()).\u0275fac=function(e){return new(e||ar)(s.Qb(pr),s.Qb(s.h))},ar.\u0275cmp=s.Kb({type:ar,selectors:[["nx-afs-lib-secure-asset"]],viewQuery:function(e,t){var n;1&e&&s.Mc(rr,1),2&e&&s.zc(n=s.gc())&&(t.pic=n.first)},inputs:{url:"url"},outputs:{load:"load"},features:[s.Cb([pr])],decls:2,vars:2,consts:[[4,"ngIf"],["class","status",4,"ngIf"],[3,"src","load"],["pic",""],[1,"status"]],template:function(e,t){1&e&&(s.Hc(0,ir,3,1,"ng-container",0),s.Hc(1,or,2,0,"div",1)),2&e&&(s.oc("ngIf",t.assetData),s.Db(1),s.oc("ngIf",t.loader))},directives:[a.l],styles:[".status[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/niklausgerber/PreLoadMe/master/img/status.gif);background-repeat:no-repeat;background-position:50%;width:30px;height:30px;margin:auto}"]}),ar),gr=((sr=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||sr)},sr.\u0275mod=s.Ob({type:sr}),sr.\u0275inj=s.Nb({imports:[[a.b]]}),sr),vr=n("Cfvw"),mr=n("jtHE"),yr=n("oB13"),br=n("x+ZX"),Er=["container"],Cr=new s.r("LottieOptions"),Or=new s.r("AnimationCache"),Sr=((lr=function(){function e(t,n,r,i){var o,s,a;_classCallCheck(this,e),this.ngZone=t,this.platformId=n,this.options=r,this.animationCache=i,this.player$=(o=this.options.player,(a=o())instanceof Promise?Object(vr.a)(a).pipe(Object(y.a)(function(e){return e.default||e}),(s=new mr.a(1,void 0,void 0),function(e){return Object(yr.a)(function(){return s},void 0)(e)}),Object(br.a)()):Object(M.a)(a))}return _createClass(e,[{key:"resolveLoaderAndLoadAnimation",value:function(e,t,n,r,i,o){var s=this;Object(a.B)(this.platformId)||this.player$.pipe(Object(O.a)(o)).subscribe(function(o){var a=function(e,t,n){var r=Object.assign({container:t,renderer:"svg",loop:!0,autoplay:!0},e);return null!==n?n.transformOptions(r):r}(e,t,s.animationCache);s.loadAnimation(o,a,n,r,i)})}},{key:"loadAnimation",value:function(e,t,n,r,i){var o=this.ngZone.runOutsideAngular(function(){return e.loadAnimation(t)});!function(e,t,n){null!==e&&n.addEventListener("config_ready",function(){e.set(t,n)})}(this.animationCache,t,o),r.emit(o),n.addEventListeners(i,o)}}]),e}()).\u0275fac=function(e){return new(e||lr)(s.cc(s.A),s.cc(s.C),s.cc(Cr),s.cc(Or))},lr.\u0275prov=s.Mb({token:lr,factory:lr.\u0275fac}),lr),Tr=((cr=function(){function e(t,n){_classCallCheck(this,e),this.platformId=t,this.animationLoader=n,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=new s.n,this.complete=new s.n,this.loopComplete=new s.n,this.enterFrame=new s.n,this.segmentStart=new s.n,this.configReady=new s.n,this.dataReady=new s.n,this.domLoaded=new s.n,this.destroy=new s.n,this.error=new s.n,this.destroy$=new v.a}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"loadAnimation",value:function(e,t,n,r){!Object(a.B)(this.platformId)&&e.options&&(n.destroyAnimation(),this.animationLoader.resolveLoaderAndLoadAnimation(e.options.currentValue,t,n,this.animationCreated,r,this.destroy$))}}]),e}()).\u0275fac=function(e){return new(e||cr)(s.Qb(s.C),s.Qb(Sr))},cr.\u0275dir=s.Lb({type:cr,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),cr),wr=function(){function e(){_classCallCheck(this,e),this.cache=new Map}return _createClass(e,[{key:"transformOptions",value:function(e){var t=e.path;return t&&this.cache.has(t)&&(delete e.path,e.animationData=this.cache.get(t)),e}},{key:"set",value:function(e,t){e.animationData||this.cache.set(e.path,t.animationData)}}],[{key:"create",value:function(t){return t.useCache?new e:null}}]),e}(),Dr=((fr=function(){function e(t,n){_classCallCheck(this,e),this.ngZone=t,this.platformId=n,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.destroyAnimation()}},{key:"addEventListeners",value:function(e,t){var n=this;this.animationItem=t,this.ngZone.runOutsideAngular(function(){return n.addEventListenersToObservedEventEmitters(e)})}},{key:"destroyAnimation",value:function(){Object(a.B)(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)}},{key:"addEventListenersToObservedEventEmitters",value:function(e){var t,n=this,r=_createForOfIteratorHelper(function(e,t){return Object.keys(e).map(function(t){return[t,e[t]]}).filter(function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];return i instanceof s.n&&i.observers.length>0&&t.hasOwnProperty(r)}).map(function(e){var n=_slicedToArray(e,2),r=n[0];return{eventEmitter:n[1],name:t[r]}})}(e,this.eventsMap));try{var i=function(){var e=t.value,r=e.name,i=e.eventEmitter;n.animationItem.addEventListener(r,function(e){i.emit(e)})};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}}]),e}()).\u0275fac=function(e){return new(e||fr)(s.cc(s.A),s.cc(s.C))},fr.\u0275prov=s.Mb({token:fr,factory:fr.\u0275fac}),fr),Pr=((dr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).eventsFacade=r,o.width=null,o.height=null,o.container=null,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){_get(_getPrototypeOf(n.prototype),"loadAnimation",this).call(this,e,this.container.nativeElement,this.eventsFacade,this)}}]),n}(Tr)).\u0275fac=function(e){return new(e||dr)(s.Qb(s.C),s.Qb(Dr,2),s.Qb(Sr))},dr.\u0275cmp=s.Kb({type:dr,selectors:[["ng-lottie"]],viewQuery:function(e,t){var n;1&e&&s.Mc(Er,3),2&e&&s.zc(n=s.gc())&&(t.container=n.first)},inputs:{width:"width",height:"height"},features:[s.Cb([Dr]),s.Ab,s.Bb],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(e,t){1&e&&s.Rb(0,"div",0,1),2&e&&(s.Gc("width",t.width||"100%")("height",t.height||"100%"),s.oc("ngStyle",t.styles)("ngClass",t.containerClass))},directives:[a.m,a.j],encapsulation:2,changeDetection:0}),dr),kr=((hr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[Sr,{provide:Cr,useValue:t},{provide:Or,useFactory:wr.create,deps:[Cr]}]}}}]),e}()).\u0275fac=function(e){return new(e||hr)},hr.\u0275mod=s.Ob({type:hr}),hr.\u0275inj=s.Nb({imports:[[a.b]]}),hr),Ar=n("lPHp"),Ir=n.n(Ar);function Mr(e,t){if(1&e&&s.Rb(0,"nx-afs-image-viewer",23),2&e){var n=s.jc().$implicit;s.oc("attachment",n.media)}}function Rr(e,t){if(1&e&&s.Rb(0,"nx-afs-video-viewer",23),2&e){var n=s.jc().$implicit;s.oc("attachment",n.media)}}function xr(e,t){if(1&e&&s.Rb(0,"nx-afs-pdf-viewer",23),2&e){var n=s.jc().$implicit;s.oc("attachment",n.media)}}function Lr(e,t){if(1&e&&(s.Vb(0,"div"),s.Vb(1,"h6"),s.Jc(2),s.Ub(),s.Rb(3,"tce-quiz-quill-view",21),s.Vb(4,"div"),s.Hc(5,Mr,1,1,"nx-afs-image-viewer",22),s.Hc(6,Rr,1,1,"nx-afs-video-viewer",22),s.Hc(7,xr,1,1,"nx-afs-pdf-viewer",22),s.Ub(),s.Ub()),2&e){var n=t.$implicit,r=t.index,i=s.jc(2);s.Db(2),s.Lc("Step",r+1,""),s.Db(1),s.oc("content",n.text),s.Db(2),s.oc("ngIf",i.utility.checkImageAvailability(n.media)),s.Db(1),s.oc("ngIf",i.utility.checkVideoAvailability(n.media)),s.Db(1),s.oc("ngIf",i.utility.checkPdfAvailability(n.media))}}function jr(e,t){if(1&e&&(s.Vb(0,"div"),s.Hc(1,Lr,8,5,"div",20),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("ngForOf",n.solutionData.data)}}function Nr(e,t){if(1&e&&s.Rb(0,"nx-afs-image-viewer",23),2&e){var n=s.jc().$implicit;s.oc("attachment",n.media)}}function Ur(e,t){if(1&e&&s.Rb(0,"nx-afs-video-viewer",23),2&e){var n=s.jc().$implicit;s.oc("attachment",n.media)}}function Br(e,t){if(1&e&&s.Rb(0,"nx-afs-pdf-viewer",23),2&e){var n=s.jc().$implicit;s.oc("attachment",n.media)}}function Fr(e,t){if(1&e&&(s.Vb(0,"div",29),s.Vb(1,"h6"),s.Jc(2),s.Ub(),s.Rb(3,"tce-quiz-quill-view",21),s.Vb(4,"div"),s.Hc(5,Nr,1,1,"nx-afs-image-viewer",22),s.Hc(6,Ur,1,1,"nx-afs-video-viewer",22),s.Hc(7,Br,1,1,"nx-afs-pdf-viewer",22),s.Ub(),s.Ub()),2&e){var n=t.$implicit,r=t.index,i=s.jc(2);s.Db(2),s.Lc("Step",r+1,""),s.Db(1),s.oc("content",n.text),s.Db(2),s.oc("ngIf",i.utility.checkImageAvailability(n.media)),s.Db(1),s.oc("ngIf",i.utility.checkVideoAvailability(n.media)),s.Db(1),s.oc("ngIf",i.utility.checkPdfAvailability(n.media))}}function qr(e,t){if(1&e&&(s.Vb(0,"div"),s.Vb(1,"div",24),s.Rb(2,"div",25),s.Vb(3,"swiper",26),s.Vb(4,"div",27),s.Hc(5,Fr,8,5,"div",28),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){var n=s.jc();s.Db(3),s.oc("config",n.config),s.Db(2),s.oc("ngForOf",n.solutionData.data)}}function Vr(e,t){if(1&e&&s.Rb(0,"nx-afs-lib-secure-asset",32,33),2&e){var n=s.jc().$implicit,r=s.jc(2);s.oc("url",r.questionCtrl.getBasePath()+n.media)}}function Wr(e,t){if(1&e&&(s.Tb(0),s.Rb(1,"tce-quiz-quill-view",21),s.Hc(2,Vr,2,1,"nx-afs-lib-secure-asset",31),s.Sb()),2&e){var n=t.$implicit,r=s.jc(2);s.Db(1),s.oc("content",n.text),s.Db(1),s.oc("ngIf",r.utility.checkImageAvailability(n.media))}}function Gr(e,t){if(1&e&&(s.Vb(0,"div",30),s.Hc(1,Wr,3,2,"ng-container",20),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("ngForOf",n.solutionData.answer)}}function Kr(e,t){if(1&e&&(s.Vb(0,"div",34),s.Rb(1,"tce-quiz-quill-view",21),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("content",n.solutionData.answer)}}function zr(e,t){if(1&e&&s.Rb(0,"nx-afs-image-viewer",10),2&e){var n=s.jc();s.oc("attachment",n.attachmentForOther)}}function Hr(e,t){if(1&e&&s.Rb(0,"nx-afs-video-viewer",10),2&e){var n=s.jc();s.oc("attachment",n.attachmentForOther)}}function $r(e,t){if(1&e&&s.Rb(0,"nx-afs-pdf-viewer",10),2&e){var n=s.jc();s.oc("attachment",n.attachmentForOther)}}function Qr(e,t){if(1&e&&s.Rb(0,"nx-afs-text-viewer",10),2&e){var n=s.jc();s.oc("attachment",n.attachmentForOther)}}function Yr(e,t){if(1&e&&s.Rb(0,"nx-afs-external-link",10),2&e){var n=s.jc();s.oc("attachment",n.attachmentForOther)}}function Xr(e,t){if(1&e&&s.Rb(0,"nx-afs-notes-viewer",10),2&e){var n=s.jc();s.oc("attachment",n.attachmentNote)}}function Zr(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",24),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"button",25),s.Vb(2,"span",26),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub()}}function Jr(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",27),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}var ei=function(e){return{intructionStyle:"",data:e}};function ti(e,t){if(1&e&&(s.Vb(0,"div",28),s.Vb(1,"div",29),s.Rb(2,"tce-instructions",30),s.Ub(),s.Ub()),2&e){var n=s.jc(2);s.Db(2),s.oc("instructionData",s.sc(1,ei,n.questionCtrl.pendingAttempt))}}function ni(e,t){if(1&e&&s.Rb(0,"nx-afs-lib-secure-asset",31,32),2&e){var n=s.jc(2);s.oc("url",n.questionCtrl.getBasePath()+n.questionCtrl.configData.qStyle.bg)}}var ri=function(e,t,n,r,i,o){return[e,t,n,r,i,o]};function ii(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-option",33),s.fc("stateChange",function(e){s.Bc(n);var r=t.index;return s.jc(2).onStateChange(e,r)}),s.Ub()}if(2&e){var r=t.$implicit,i=t.index,o=s.jc(2);s.oc("option",r)("index",i)("$resetScreen",o.$resetScreen)("configData",o.questionCtrl.configData)("ngClass",s.xc(6,ri,r.isSelected?"selectedOtp":"",1===r.isCorrect&&r.isSelected?"correct":"",0===r.isCorrect&&r.isSelected?"incorrect":"",1===r.isCorrect?"tick":"",1===r.isCorrect&&!r.isSelected&&o.getMissed()?"missed":"",o.questionCtrl.configData.userInteraction.styleOpt?o.questionCtrl.configData.userInteraction.styleOpt:""))("index",i)}}function oi(e,t){if(1&e&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Rb(14,"tce-question",13),s.Ub(),s.Hc(15,Zr,4,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",15),s.Vb(17,"div",16),s.Vb(18,"div",9),s.Hc(19,Jr,1,2,"tce-question-feedback",17),s.Rb(20,"tce-instructions",18),s.Hc(21,ti,3,3,"div",19),s.Ub(),s.Ub(),s.Vb(22,"div",20),s.Vb(23,"div",9),s.Vb(24,"div",21),s.Hc(25,ni,2,1,"nx-afs-lib-secure-asset",22),s.Hc(26,ii,1,13,"tce-option",23),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.questionCtrl.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(4),s.oc("quizData",n.quizData),s.Db(1),s.oc("ngIf",n.attachment),s.Db(4),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("instructionData",s.sc(10,ei,n.questionCtrl.getInstruction(n.quizData,1))),s.Db(1),s.oc("ngIf",n.questionCtrl.isPendingAttempt),s.Db(4),s.oc("ngIf",n.questionCtrl.configData.qStyle.bg&&""!==n.questionCtrl.configData.qStyle.bg),s.Db(1),s.oc("ngForOf",n.quizData[0].data.options)}}function si(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",31),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"button",32),s.Vb(2,"span",33),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub()}}function ai(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",34),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)}}function ui(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-solutions",35),s.fc("closeModel",function(){return s.Bc(n),s.jc(2).onSolutionClose()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("solutionData",r.solution)}}function ci(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",31),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"button",32),s.Vb(2,"span",33),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub()}}function li(e,t){if(1&e&&s.Rb(0,"tce-solution-strategies",36),2&e){var n=s.jc(2);s.oc("solutionStrtegiesData",n.solutionStrtegiesData)}}var hi=function(e,t){return{"composite-nav-disable":e,active:t}};function di(e,t){if(1&e){var n=s.Wb();s.Vb(0,"li",38),s.fc("click",function(){s.Bc(n);var e=s.jc().index;return s.jc(2).loadQuestion(e)}),s.Jc(1),s.Ub()}if(2&e){var r=s.jc().index,i=s.jc(2);s.oc("ngClass",s.tc(2,hi,!(null!=i.quizData[r-1].attemptedOptions&&i.quizData[r-1].attemptedOptions.length)&&1!==r,r===i.qCounter)),s.Db(1),s.Lc(" ",r," ")}}function fi(e,t){if(1&e&&(s.Tb(0),s.Hc(1,di,2,5,"li",37),s.Sb()),2&e){var n=t.index;s.Db(1),s.oc("ngIf",0!==n)}}function pi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-scq",39),s.fc("questAttempted",function(e){return s.Bc(n),s.jc(2).attemptedQuest(e)})("questLoad",function(e){return s.Bc(n),s.jc(2).questLoaded(e)})("attempted",function(e){return s.Bc(n),s.jc(2).onAttempt(e)}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("quizData",r.que)("attemptedOps",r.attemptedOption)("configData",r.questionCtrl.configData)("mode",r.mode)}}function _i(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-mcq",39),s.fc("questAttempted",function(e){return s.Bc(n),s.jc(2).attemptedQuest(e)})("questLoad",function(e){return s.Bc(n),s.jc(2).questLoaded(e)})("attempted",function(e){return s.Bc(n),s.jc(2).onAttempt(e)}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("quizData",r.que)("attemptedOps",r.attemptedOption)("configData",r.questionCtrl.configData)("mode",r.mode)}}function gi(e,t){if(1&e&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Rb(14,"tce-question",13),s.Ub(),s.Hc(15,si,4,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",15),s.Vb(17,"div",16),s.Vb(18,"div",9),s.Hc(19,ai,1,1,"tce-question-feedback",17),s.Hc(20,ui,1,1,"tce-solutions",18),s.Hc(21,ci,4,0,"div",14),s.Vb(22,"div",19),s.Hc(23,li,1,1,"tce-solution-strategies",20),s.Ub(),s.Rb(24,"tce-instructions",21),s.Vb(25,"div",22),s.Vb(26,"div",23),s.Rb(27,"tce-instructions",24),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(28,"div",25),s.Vb(29,"div",9),s.Vb(30,"div",26),s.Vb(31,"ul"),s.Hc(32,fi,2,1,"ng-container",27),s.Ub(),s.Ub(),s.Vb(33,"div",28),s.Vb(34,"div",29),s.Hc(35,pi,1,7,"tce-scq",30),s.Hc(36,_i,1,7,"tce-mcq",30),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(4),s.oc("quizData",n.quizData),s.Db(1),s.oc("ngIf",n.attachment),s.Db(4),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("ngIf",n.isSolution),s.Db(1),s.oc("ngIf",n.attachment),s.Db(2),s.oc("ngIf",""!==(null==n.solutionStrtegiesData?null:n.solutionStrtegiesData.data)),s.Db(1),s.oc("instructionData",s.sc(14,ei,n.questionCtrl.getInstruction(n.quizData,""))),s.Db(3),s.oc("instructionData",s.sc(16,ei,n.questionCtrl.pendingAttempt)),s.Db(5),s.oc("ngForOf",n.quizData),s.Db(3),s.oc("ngIf","SCQ"===n.que[0].data.type),s.Db(1),s.oc("ngIf","MCQ"===n.que[0].data.type)}}var vi=function(e,t,n,r){return[e,t,n,r]};function mi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-option",34),s.fc("onClickEvent",function(e){return s.Bc(n),s.jc(3).getEventOption(e)})("stateChange",function(e){return s.Bc(n),s.jc(3).onStateChange(e)}),s.Ub()}if(2&e){var r=t.$implicit,i=s.jc().index,o=s.jc(2);s.oc("option",r)("configData",o.questionCtrl.configData)("ngClass",s.vc(4,vi,r.isSelected?"selectedOtp":"",r.index==i&&1===r.isCorrect?"correct":"incorrect",1===r.isCorrect?"tick":"",1!==r.isCorrect||r.isSelected?"":"missed"))("index",i)}}function yi(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Vb(1,"div"),s.Rb(2,"tce-quiz-quill-view",30),s.Ub(),s.Rb(3,"tce-instructions",19),s.Rb(4,"tce-instructions",31),s.Vb(5,"div",32),s.fc("click",function(){s.Bc(n);var e=t.index;return s.jc(2).openComponent(e)}),s.Hc(6,mi,1,9,"tce-option",33),s.Ub(),s.Sb()}if(2&e){var r=t.$implicit,i=s.jc(2);s.Db(2),s.oc("content",r.questions),s.Db(1),s.oc("instructionData",s.sc(4,ei,i.questionCtrl.pendingAttempt)),s.Db(1),s.oc("instructionData",s.sc(6,ei,i.questionCtrl.getInstruction(i.quizData,i.quizData.length-1))),s.Db(2),s.oc("ngForOf",r.attemptedOptions)}}function bi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",35),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"span",36),s.Jc(2,"Attachment"),s.Ub(),s.Ub()}}function Ei(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",37),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function Ci(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-scq",38),s.fc("attempted",function(e){return s.Bc(n),s.jc(2).optionClickEvent(e)}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("quizData",r.modifiedDataStructure)("attemptedOps",r.attemptedOption)("configData",r.questionCtrl.configData)("mode",r.mode)("$resetScreen",r.$resetScreen)("$showCorrectAns",r.$showCorrectAns)("$iDontknw",r.$iDontknw)}}function Oi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-subjective",39),s.fc("attempted",function(e){return s.Bc(n),s.jc(2).optionClickEvent(e)})("change",function(e){return s.Bc(n),s.jc(2).onchange(e)}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("quizData",r.modifiedDataStructure)("configData",r.questionCtrl.configData)("mode",r.mode)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("$showCorrectAns",r.$showCorrectAns)}}function Si(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",40),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)}}function Ti(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-solutions",41),s.fc("closeModel",function(){return s.Bc(n),s.jc(2).onSolutionClose()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("solutionData",r.solution)}}function wi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-attachment",42),s.fc("closeModel",function(){return s.Bc(n),s.jc(2).cloasemodal()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("attachment",r.attachment)}}var Di=function(){return{intructionStyle:"",data:"Select the correct answer for each blank."}};function Pi(e,t){if(1&e&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Vb(14,"div",13),s.Hc(15,yi,7,8,"ng-container",14),s.Ub(),s.Hc(16,bi,3,0,"div",15),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",16),s.Vb(18,"div",17),s.Vb(19,"div",9),s.Hc(20,Ei,1,2,"tce-question-feedback",18),s.Rb(21,"tce-instructions",19),s.Rb(22,"tce-instructions",20),s.Vb(23,"div",21),s.Vb(24,"div",22),s.Rb(25,"tce-instructions",23),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(26,"div",24),s.Vb(27,"div",9),s.Hc(28,Ci,1,7,"tce-scq",25),s.Hc(29,Oi,1,6,"tce-subjective",26),s.Hc(30,Si,1,1,"tce-question-feedback",27),s.Hc(31,Ti,1,1,"tce-solutions",28),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Hc(32,wi,1,1,"nx-afs-attachment",29),s.Ub(),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.questionCtrl.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(5),s.oc("ngForOf",n.question),s.Db(1),s.oc("ngIf",n.attachment),s.Db(4),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("instructionData",s.sc(14,ei,n.questionCtrl.pendingAttempt)),s.Db(1),s.oc("instructionData",s.rc(16,Di)),s.Db(3),s.oc("instructionData",s.sc(17,ei,n.questionCtrl.pendingAttempt)),s.Db(3),s.oc("ngIf","SCQ"===n.currQuestion.type),s.Db(1),s.oc("ngIf","SUBJECTIVE"===n.currQuestion.type),s.Db(1),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("ngIf",n.isSolution),s.Db(1),s.oc("ngIf",n.showattachment)}}function ki(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",25),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"span",26),s.Jc(2,"Attachment"),s.Ub(),s.Ub()}}function Ai(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",27),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function Ii(e,t){if(1&e&&(s.Vb(0,"div",28),s.Vb(1,"div",29),s.Rb(2,"tce-instructions",30),s.Ub(),s.Ub()),2&e){var n=s.jc(2);s.Db(2),s.oc("instructionData",s.sc(1,ei,n.questionCtrl.pendingAttempt))}}function Mi(e,t){1&e&&s.Rb(0,"tce-quiz-quill-view",33),2&e&&s.oc("content",t.$implicit)}function Ri(e,t){if(1&e&&(s.Vb(0,"option",42),s.Jc(1),s.Ub()),2&e){var n=t.$implicit,r=s.jc(5);s.oc("ngValue",n),s.Db(1),s.Lc("",r.getLabel(n.label)," ")}}function xi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"select",40),s.fc("ngModelChange",function(e){s.Bc(n);var t=s.jc(2).index;return s.jc(2).quizData[t+1].atempted=e})("ngModelChange",function(){s.Bc(n);var e=s.jc(2).index;return s.jc(2).onAttempt(e)}),s.Hc(1,Ri,2,2,"option",41),s.Ub()}if(2&e){var r=s.jc(2).index,i=s.jc(2);s.oc("ngModel",i.quizData[r+1].atempted),s.Db(1),s.oc("ngForOf",i.quizData[r+1].data.options)}}function Li(e,t){if(1&e&&(s.Vb(0,"option",45),s.Jc(1),s.Ub()),2&e){var n=t.$implicit,r=s.jc(5);s.oc("ngValue",n)("selected",1===n.isCorrect),s.Db(1),s.Lc("",r.getLabel(n.label)," ")}}function ji(e,t){if(1&e&&(s.Vb(0,"select",43),s.Hc(1,Li,2,3,"option",44),s.Ub()),2&e){var n=s.jc(2).index,r=s.jc(2);s.Db(1),s.oc("ngForOf",r.quizData[n+1].data.options)}}function Ni(e,t){if(1&e&&s.Rb(0,"span",46),2&e){var n=s.jc(2).index,r=s.jc(2);s.oc("innerHTML",r.fibOptionFeedBack(r.quizData[n+1].data.options),s.Cc)}}var Ui=function(e,t,n){return[e,t,n]};function Bi(e,t){if(1&e&&(s.Vb(0,"span",34),s.Hc(1,xi,2,2,"select",35),s.Hc(2,ji,2,1,"ng-template",null,36,s.Ic),s.Vb(4,"div",37),s.Rb(5,"span",38),s.Hc(6,Ni,1,1,"span",39),s.Ub(),s.Ub()),2&e){var n=s.Ac(3),r=s.jc().index,i=s.jc(2);s.oc("ngClass",s.uc(4,Ui,1===(null==i.quizData[r+1]||null==i.quizData[r+1].atempted?null:i.quizData[r+1].atempted.isCorrect)?"correct":"",0===(null==i.quizData[r+1]||null==i.quizData[r+1].atempted?null:i.quizData[r+1].atempted.isCorrect)?"incorrect":"",null!=i.quizData[r+1]&&i.quizData[r+1].atempted||!i.getMissed()?"":"missed")),s.Db(1),s.oc("ngIf",i.setValueInOpt(i.quizData[r+1]))("ngIfElse",n),s.Db(5),s.oc("ngIf",0===(null==i.quizData[r+1]||null==i.quizData[r+1].atempted?null:i.quizData[r+1].atempted.isCorrect))}}function Fi(e,t){if(1&e&&(s.Tb(0),s.Hc(1,Mi,1,1,"tce-quiz-quill-view",31),s.Hc(2,Bi,7,8,"span",32),s.Sb()),2&e){var n=t.$implicit,r=t.index,i=s.jc(2);s.Db(1),s.oc("ngForOf",i.splitQuestion(n.questions)),s.Db(1),s.oc("ngIf",i.quizData[r+1])}}function qi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-solutions",47),s.fc("closeModel",function(){return s.Bc(n),s.jc(2).onSolutionClose()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("solutionData",r.solution)}}function Vi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-attachment",48),s.fc("closeModel",function(){return s.Bc(n),s.jc(2).cloasemodal()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("attachment",r.attachment)}}function Wi(e,t){if(1&e&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Vb(14,"div",12),s.Rb(15,"tce-question",13),s.Ub(),s.Hc(16,ki,3,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",15),s.Vb(18,"div",16),s.Vb(19,"div",9),s.Hc(20,Ai,1,2,"tce-question-feedback",17),s.Rb(21,"tce-instructions",18),s.Hc(22,Ii,3,3,"div",19),s.Ub(),s.Ub(),s.Vb(23,"div",20),s.Vb(24,"div",9),s.Vb(25,"div",21),s.Hc(26,Fi,3,2,"ng-container",22),s.Ub(),s.Hc(27,qi,1,1,"tce-solutions",23),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Hc(28,Vi,1,1,"nx-afs-attachment",24),s.Ub(),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.questionCtrl.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(5),s.oc("quizData",n.quizData),s.Db(1),s.oc("ngIf",n.attachment),s.Db(4),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("instructionData",s.sc(11,ei,n.questionCtrl.getInstruction(n.quizData,n.quizData.length-1))),s.Db(1),s.oc("ngIf",n.questionCtrl.isPendingAttempt),s.Db(4),s.oc("ngForOf",n.question),s.Db(1),s.oc("ngIf",n.isSolution),s.Db(1),s.oc("ngIf",n.showattachment)}}function Gi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",7),s.fc("click",function(){return s.Bc(n),s.jc().showAttachment()}),s.Vb(1,"span",8),s.Jc(2,"Attachment"),s.Ub(),s.Ub()}}function Ki(e,t){if(1&e&&s.Rb(0,"img",16),2&e){var n=s.jc(2);s.oc("src",n.questionCtrl.configData.qStyle.bg,s.Ec)}}function zi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-option",22),s.fc("onClickEvent",function(e){return s.Bc(n),s.jc(3).getEventOption(e)})("stateChange",function(e){return s.Bc(n),s.jc(3).onStateChange(e)})("dndMoved",function(){s.Bc(n);var e=t.$implicit,r=s.jc(3);return r.onDragged(e,r.optionHolder)}),s.Ub()}if(2&e){var r=t.$implicit,i=s.jc().index,o=s.jc(2);s.oc("option",r)("configData",o.questionCtrl.configData)("ngClass",s.vc(6,vi,r.isSelected?"selectedOtp":"",r.index==i&&r.isSelected?"correct":"incorrect",1===r.isCorrect?"tick":"",1!==r.isCorrect||r.isSelected?"":"missed"))("index",i)("dndDraggable",r)("dndType",r)}}function Hi(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Rb(1,"tce-quiz-quill-view",17),s.Rb(2,"tce-instructions",18),s.Rb(3,"tce-instructions",19),s.Vb(4,"div",20),s.fc("click",function(){s.Bc(n);var e=t.$implicit;return s.jc(2).onDrop1(e.attemptedOptions)})("dndDrop",function(e){s.Bc(n);var r=t.$implicit;return s.jc(2).onDrop(e,r.attemptedOptions)}),s.Hc(5,zi,1,11,"tce-option",21),s.Ub(),s.Sb()}if(2&e){var r=t.$implicit,i=s.jc(2);s.Db(1),s.oc("content",r.questions),s.Db(1),s.oc("instructionData",s.sc(4,ei,i.questionCtrl.pendingAttempt)),s.Db(1),s.oc("instructionData",s.sc(6,ei,i.questionCtrl.getInstruction(i.quizData,i.quizData.length-1))),s.Db(2),s.oc("ngForOf",r.attemptedOptions)}}var $i=function(e,t,n,r,i){return[e,t,n,r,i]};function Qi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-option",23),s.fc("click",function(){s.Bc(n);var e=t.$implicit;return s.jc(2).setDragMode(e)})("dndMoved",function(){s.Bc(n);var e=t.$implicit,r=s.jc(2);return r.onDragged(e,r.optionHolder)}),s.Ub()}if(2&e){var r=t.$implicit,i=s.jc(2);s.oc("option",r)("configData",i.questionCtrl.configData)("ngClass",s.wc(5,$i,r.isSelected?"selectedOtp":"",1===r.isCorrect&&r.isSelected?"correct":"",0===r.isCorrect&&r.isSelected?"incorrect":"",1===r.isCorrect?"tick":"",1!==r.isCorrect||r.isSelected?"":"missed"))("dndDraggable",r)("dndType",r)}}function Yi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",24),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function Xi(e,t){if(1&e&&(s.Vb(0,"div",9),s.Hc(1,Ki,1,1,"img",10),s.Vb(2,"div",11),s.Hc(3,Hi,6,8,"ng-container",12),s.Ub(),s.Vb(4,"div",13),s.Hc(5,Qi,1,11,"tce-option",14),s.Ub(),s.Hc(6,Yi,1,2,"tce-question-feedback",15),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("ngIf",n.questionCtrl.configData.qStyle.bg&&""!==n.questionCtrl.configData.qStyle.bg),s.Db(2),s.oc("ngForOf",n.question),s.Db(2),s.oc("ngForOf",n.optionHolder),s.Db(1),s.oc("ngIf",n.questionCtrl.questFeedback)}}function Zi(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-solutions",25),s.fc("closeModel",function(){return s.Bc(n),s.jc().onSolutionClose()}),s.Ub()}if(2&e){var r=s.jc();s.oc("solutionData",r.solution)}}function Ji(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-attachment",26),s.fc("closeModel",function(){return s.Bc(n),s.jc().cloasemodal()}),s.Ub()}if(2&e){var r=s.jc();s.oc("attachment",r.attachment)}}function eo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",23),s.fc("click",function(){return s.Bc(n),s.jc().showAttachment()}),s.Vb(1,"button",24),s.Vb(2,"span",25),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub()}}function to(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",26),s.fc("showSolution",function(){return s.Bc(n),s.jc().onShowSolution()}),s.Ub()}if(2&e){var r=s.jc();s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function no(e,t){if(1&e&&s.Rb(0,"img",33),2&e){var n=s.jc(2);s.oc("src",n.questionCtrl.configData.qStyle.bg,s.Ec)}}function ro(e,t){if(1&e&&(s.Vb(0,"div",34),s.Rb(1,"tce-question",12),s.Ub()),2&e){var n=t.$implicit;s.Db(1),s.oc("quizData",n)}}function io(e,t){if(1&e&&(s.Vb(0,"div",35),s.Rb(1,"tce-option",36),s.Ub()),2&e){var n=t.$implicit,r=s.jc(2);s.oc("ngClass",s.vc(3,vi,""!==n.status?"selectedOtp":"",1===n.status?"correct":"",0===n.status?"incorrect":"",1===n.status?"tick":"")),s.Db(1),s.oc("option",n)("configData",r.questionCtrl.configData)}}function oo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",27),s.Hc(1,no,1,1,"img",28),s.Vb(2,"div",29),s.Hc(3,ro,2,1,"div",30),s.Ub(),s.Vb(4,"div",31),s.fc("cdkDropListDropped",function(e){return s.Bc(n),s.jc().drop(e)}),s.Hc(5,io,2,8,"div",32),s.Ub(),s.Ub()}if(2&e){var r=s.jc();s.Db(1),s.oc("ngIf",r.questionCtrl.configData.qStyle.bg&&""!==r.questionCtrl.configData.qStyle.bg),s.Db(2),s.oc("ngForOf",r.quizData[0].data.column),s.Db(2),s.oc("ngForOf",r.optionHolder)}}function so(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-solutions",37),s.fc("closeModel",function(){return s.Bc(n),s.jc().onSolutionClose()}),s.Ub()}if(2&e){var r=s.jc();s.oc("solutionData",r.solution)}}function ao(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-attachment",38),s.fc("closeModel",function(){return s.Bc(n),s.jc().cloasemodal()}),s.Ub()}if(2&e){var r=s.jc();s.oc("attachment",r.attachment)}}function uo(e,t){if(1&e&&s.Rb(0,"tce-question",24),2&e){var n=s.jc(2);s.oc("quizData",n.quizData)}}function co(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",25),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"button",26),s.Vb(2,"span",27),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub()}}function lo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",28),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function ho(e,t){if(1&e&&(s.Vb(0,"div",29),s.Vb(1,"div",30),s.Rb(2,"tce-instructions",31),s.Ub(),s.Ub()),2&e){var n=s.jc(2);s.Db(2),s.oc("instructionData",s.sc(1,ei,n.questionCtrl.pendingAttempt))}}function fo(e,t){if(1&e&&s.Rb(0,"nx-afs-lib-secure-asset",32,33),2&e){var n=s.jc(2);s.oc("url",n.questionCtrl.getBasePath()+n.questionCtrl.configData.qStyle.bg)}}function po(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-option",34),s.fc("stateChange",function(e){s.Bc(n);var r=t.index;return s.jc(2).onStateChange(e,r)}),s.Ub()}if(2&e){var r=t.$implicit,i=t.index,o=s.jc(2);s.oc("option",r)("configData",o.questionCtrl.configData)("ngClass",s.xc(6,ri,r.isSelected?"selectedOtp":"",1===r.isCorrect&&r.isSelected?"correct":"",0===r.isCorrect&&r.isSelected?"incorrect":"",1===r.isCorrect?"tick":"",1===r.isCorrect&&!r.isSelected&&o.getMissed()?"missed":"",o.questionCtrl.configData.userInteraction.styleOpt?o.questionCtrl.configData.userInteraction.styleOpt:""))("index",i)("$otherOptChange",o.otherOptChange.asObservable())("$resetOverFlow",o.$resetScreen)}}function _o(e,t){if(1&e&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Hc(14,uo,1,1,"tce-question",13),s.Ub(),s.Hc(15,co,4,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",15),s.Vb(17,"div",16),s.Vb(18,"div",9),s.Hc(19,lo,1,2,"tce-question-feedback",17),s.Rb(20,"tce-instructions",18),s.Hc(21,ho,3,3,"div",19),s.Ub(),s.Ub(),s.Vb(22,"div",20),s.Vb(23,"div",9),s.Vb(24,"div",21),s.Hc(25,fo,2,1,"nx-afs-lib-secure-asset",22),s.Hc(26,po,1,13,"tce-option",23),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.questionCtrl.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(4),s.oc("ngIf",n.quizData),s.Db(1),s.oc("ngIf",n.attachment),s.Db(4),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("instructionData",s.sc(10,ei,n.questionCtrl.getInstruction(n.quizData,1))),s.Db(1),s.oc("ngIf",n.questionCtrl.isPendingAttempt),s.Db(4),s.oc("ngIf",n.questionCtrl.configData.qStyle.bg&&""!==n.questionCtrl.configData.qStyle.bg),s.Db(1),s.oc("ngForOf",n.quizData[0].data.options)}}function go(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",23),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"button",24),s.Vb(2,"span",25),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub()}}function vo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",26),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function mo(e,t){if(1&e&&(s.Vb(0,"div",27),s.Vb(1,"div",28),s.Rb(2,"tce-instructions",29),s.Ub(),s.Ub()),2&e){var n=s.jc(2);s.Db(2),s.oc("instructionData",s.sc(1,ei,n.questionCtrl.pendingAttempt))}}function yo(e,t){if(1&e&&s.Rb(0,"nx-afs-lib-secure-asset",37,38),2&e){var n=s.jc(3);s.oc("url",n.questionCtrl.getBasePath()+n.questionCtrl.configData.qStyle.bg)}}function bo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-sorting-option",44),s.fc("click",function(e){s.Bc(n);var r=t.$implicit;return s.jc(4).setMoveOption(r,e,!0)}),s.Ub()}if(2&e){var r=t.$implicit,i=s.jc().index,o=s.jc(3);s.oc("option",r)("configData",o.questionCtrl.configData)("ngClass",s.wc(4,$i,r.isSelected?"selectedOtp":"",r.index==i&&r.isSelected?"correct":"",r.index!=i&&r.isSelected?"incorrect":"",1===r.isCorrect?"tick":"",1===r.isCorrect&&!r.isSelected&&o.getMissed()?"missed":""))("cdkDragData",r)}}var Eo=function(e,t){return[e,t]};function Co(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",39),s.Vb(1,"div",40),s.Jc(2),s.Ub(),s.Vb(3,"div",41,42),s.fc("click",function(){s.Bc(n);var e=t.$implicit;return s.jc(3).onDropClick(e)})("cdkDropListDropped",function(e){s.Bc(n);var r=t.$implicit;return s.jc(3).onDrop(e,r)}),s.Hc(5,bo,1,10,"tce-sorting-option",43),s.Ub(),s.Ub()}if(2&e){var r=t.$implicit,i=t.index,o=s.Ac(4);s.jc();var a=s.Ac(5),u=s.jc(2);s.Db(2),s.Kc(r.column_title),s.Db(1),s.oc("ngStyle",u.gatCategoryStyle(i))("cdkDropListData",r.attemptedOptions)("cdkDropListConnectedTo",s.tc(5,Eo,a,o)),s.Db(2),s.oc("ngForOf",r.attemptedOptions)}}function Oo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-sorting-option",45),s.fc("cdkDragStarted",function(e){s.Bc(n);var r=t.$implicit;return s.jc(3).setDragMode(r,e,!1)})("click",function(e){s.Bc(n);var r=t.$implicit;return s.jc(3).setDragMode(r,e,!0)}),s.Ub()}if(2&e){var r=t.$implicit,i=s.jc(3);s.oc("option",r)("configData",i.questionCtrl.configData)("ngClass",s.tc(4,Eo,r.isSelected?"selectedOtp":"",i.utility.checkImageAvailability(r.media)?"sorting-media":""))("cdkDragData",r)}}var So=function(e){return[e]};function To(e,t){if(1&e&&(s.Vb(0,"div",30),s.Hc(1,yo,2,1,"nx-afs-lib-secure-asset",31),s.Vb(2,"div",32),s.Hc(3,Co,6,8,"div",33),s.Ub(),s.Vb(4,"div",34,35),s.Hc(6,Oo,1,7,"tce-sorting-option",36),s.Ub(),s.Ub()),2&e){var n=s.jc(2);s.Db(1),s.oc("ngIf",n.questionCtrl.configData.qStyle.bg&&""!==n.questionCtrl.configData.qStyle.bg),s.Db(2),s.oc("ngForOf",n.quizData[0].data.column),s.Db(1),s.oc("cdkDropListData",n.optionHolder)("cdkDropListConnectedTo",s.sc(5,So,n.doneList)),s.Db(2),s.oc("ngForOf",n.optionHolder)}}function wo(e,t){if(1&e&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Rb(14,"tce-question",13),s.Ub(),s.Hc(15,go,4,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",15),s.Vb(17,"div",16),s.Vb(18,"div",9),s.Hc(19,vo,1,2,"tce-question-feedback",17),s.Rb(20,"tce-instructions",18),s.Rb(21,"tce-instructions",19),s.Hc(22,mo,3,3,"div",20),s.Ub(),s.Ub(),s.Vb(23,"div",21),s.Vb(24,"div",9),s.Hc(25,To,7,7,"div",22),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.questionCtrl.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(4),s.oc("quizData",n.quizData),s.Db(1),s.oc("ngIf",n.attachment),s.Db(4),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("instructionData",s.sc(10,ei,n.questionCtrl.pendingAttempt)),s.Db(1),s.oc("instructionData",s.sc(12,ei,n.questionCtrl.getInstruction(n.quizData,1))),s.Db(1),s.oc("ngIf",n.questionCtrl.isPendingAttempt),s.Db(3),s.oc("ngIf",n.questionCtrl.configData)}}var Do=["subjectiveWrapper"];function Po(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",28),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"span",29),s.Jc(2,"Attachment"),s.Ub(),s.Ub()}}function ko(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",30),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function Ao(e,t){if(1&e&&s.Rb(0,"tce-instructions",31),2&e){var n=s.jc(2);s.oc("instructionData",s.sc(1,ei,n.questionCtrl.getInstruction(n.quizData,1)))}}function Io(e,t){if(1&e&&s.Rb(0,"nx-afs-lib-secure-asset",34,35),2&e){var n=s.jc(3);s.oc("url",n.questionCtrl.configData.qStyle.bg)}}function Mo(e,t){if(1&e&&(s.Vb(0,"div",32),s.Hc(1,Io,2,1,"nx-afs-lib-secure-asset",33),s.Ub()),2&e){var n=s.jc(2);s.Db(1),s.oc("ngIf",n.questionCtrl.configData.qStyle.bg&&""!==n.questionCtrl.configData.qStyle.bg)}}function Ro(e,t){if(1&e&&s.Rb(0,"nx-afs-image-zoom",41,35),2&e){var n=s.jc().$implicit;s.oc("imgSrc",n.media)}}function xo(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Vb(1,"tce-quiz-quill-view",39),s.fc("equationRendered",function(){return s.Bc(n),s.jc(3).checkForZoom()}),s.Ub(),s.Hc(2,Ro,2,1,"nx-afs-image-zoom",40),s.Sb()}if(2&e){var r=t.$implicit,i=s.jc(3);s.Db(1),s.oc("content",r.text),s.Db(1),s.oc("ngIf",i.utility.checkImageAvailability(r.media))}}function Lo(e,t){if(1&e&&(s.Vb(0,"div",36,37),s.Hc(2,xo,3,2,"ng-container",38),s.Ub()),2&e){var n=s.jc(2);s.Db(2),s.oc("ngForOf",n.solution)}}function jo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",36,37),s.Vb(2,"tce-quiz-quill-view",39),s.fc("equationRendered",function(){return s.Bc(n),s.jc(2).checkForZoom()}),s.Ub(),s.Ub()}if(2&e){var r=s.jc(2);s.Db(2),s.oc("content",r.solution)}}function No(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",42),s.Vb(1,"button",43),s.fc("click",function(){return s.Bc(n),s.jc(2).showAnswer()}),s.Jc(2," Show Answer "),s.Ub(),s.Ub()}}var Uo=function(e){return{active:e}};function Bo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",44),s.Vb(1,"div",45),s.Vb(2,"h4",46),s.Jc(3,"Did you get it right?"),s.Ub(),s.Ub(),s.Vb(4,"div",47),s.Vb(5,"button",48),s.fc("click",function(){return s.Bc(n),s.jc(2).updateAttempt(2)}),s.Vb(6,"span"),s.Jc(7," Correct"),s.Ub(),s.Vb(8,"span",49),s.ic(),s.Vb(9,"svg",50),s.Vb(10,"g",51),s.Vb(11,"g",52),s.Vb(12,"g",53),s.Vb(13,"g",54),s.Vb(14,"g",55),s.Vb(15,"g",56),s.Rb(16,"circle",57),s.Rb(17,"circle",58),s.Rb(18,"circle",59),s.Vb(19,"g",60),s.Rb(20,"path",61),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.hc(),s.Vb(21,"div",47),s.Vb(22,"button",62),s.fc("click",function(){return s.Bc(n),s.jc(2).updateAttempt(1)}),s.Vb(23,"span"),s.Jc(24," Partially correct "),s.Ub(),s.Vb(25,"span",49),s.ic(),s.Vb(26,"svg",50),s.Rb(27,"title"),s.Vb(28,"g",51),s.Vb(29,"g",63),s.Vb(30,"g",53),s.Vb(31,"g",54),s.Vb(32,"g",64),s.Vb(33,"g",65),s.Rb(34,"circle",66),s.Rb(35,"circle",67),s.Rb(36,"circle",68),s.Rb(37,"ellipse",69),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.hc(),s.Vb(38,"div",47),s.Vb(39,"button",70),s.fc("click",function(){return s.Bc(n),s.jc(2).updateAttempt(0)}),s.Vb(40,"span"),s.Jc(41," Incorrect "),s.Ub(),s.Vb(42,"span",49),s.ic(),s.Vb(43,"svg",50),s.Vb(44,"g",51),s.Vb(45,"g",71),s.Vb(46,"g",53),s.Vb(47,"g",54),s.Vb(48,"g",72),s.Vb(49,"g",73),s.Rb(50,"circle",74),s.Rb(51,"circle",58),s.Rb(52,"circle",59),s.Rb(53,"path",75),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){var r=s.jc(2);s.Db(5),s.oc("ngClass",s.sc(3,Uo,2===r.userInput)),s.Db(17),s.oc("ngClass",s.sc(5,Uo,1===r.userInput)),s.Db(17),s.oc("ngClass",s.sc(7,Uo,0===r.userInput))}}function Fo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Rb(14,"tce-question",13),s.Ub(),s.Hc(15,Po,3,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",15),s.Vb(17,"div",16),s.Vb(18,"div",9),s.Hc(19,ko,1,2,"tce-question-feedback",17),s.Hc(20,Ao,1,3,"tce-instructions",18),s.Vb(21,"div",19),s.Vb(22,"div",20),s.Rb(23,"tce-instructions",21),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(24,"div",22),s.Vb(25,"div",9),s.Hc(26,Mo,2,1,"div",23),s.Vb(27,"div",24),s.fc("click",function(){return s.Bc(n),s.jc().onTouchEnter()})("mouseenter",function(){return s.Bc(n),s.jc().onMouseEnter()})("mouseleave",function(){return s.Bc(n),s.jc().onMouseLeave()}),s.Hc(28,Lo,3,1,"div",25),s.Hc(29,jo,3,1,"div",25),s.Ub(),s.Hc(30,No,3,0,"div",26),s.Hc(31,Bo,54,9,"div",27),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){var r=s.jc();s.oc("ngClass",r.questionCtrl.configData.userInteraction[r.questionCtrl.getClass(r.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",r.questionCtrl.bonusStr),s.Db(4),s.oc("quizData",r.quizData),s.Db(1),s.oc("ngIf",r.attachment),s.Db(4),s.oc("ngIf",r.questionCtrl.questFeedback),s.Db(1),s.oc("ngIf",r.quizData[0].instuctions&&""!=r.quizData[0].instuctions),s.Db(3),s.oc("instructionData",s.sc(13,ei,r.questionCtrl.pendingAttempt)),s.Db(3),s.oc("ngIf",r.questionCtrl.configData),s.Db(2),s.oc("ngIf",r.isShowAnswer&&r.isArray(r.solution)),s.Db(1),s.oc("ngIf",r.isShowAnswer&&!r.isArray(r.solution)),s.Db(1),s.oc("ngIf",r.solution&&""!=r.solution&&!r.isShowAnswer),s.Db(1),s.oc("ngIf",r.isShowAnswer)}}var qo=["container"],Vo=["line"],Wo=["imgG"],Go=["circleG"],Ko=["polygonG"],zo=["numberG"];function Ho(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",25),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"button",26),s.Vb(2,"span",27),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub()}}function $o(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",28),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function Qo(e,t){if(1&e&&(s.Vb(0,"div",13),s.Vb(1,"div",14),s.Vb(2,"div",15),s.Rb(3,"lib-difficulty-level",16),s.Rb(4,"lib-flag"),s.Ub(),s.Ub(),s.Vb(5,"div",17),s.Rb(6,"lib-bonus",18),s.Ub(),s.Vb(7,"div",19),s.Rb(8,"tce-question",20),s.Ub(),s.Hc(9,Ho,4,0,"div",21),s.Rb(10,"tce-instructions",22),s.Rb(11,"tce-instructions",23),s.Hc(12,$o,1,2,"tce-question-feedback",24),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.questionCtrl.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(3),s.oc("difficultyType","difficul"),s.Db(3),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(2),s.oc("quizData",n.quizData),s.Db(1),s.oc("ngIf",n.attachment),s.Db(1),s.oc("instructionData",s.sc(8,ei,n.questionCtrl.pendingAttempt)),s.Db(1),s.oc("instructionData",s.sc(10,ei,n.questionCtrl.getInstruction(n.quizData,"Select the correct answer"))),s.Db(1),s.oc("ngIf",n.questionCtrl.questFeedback)}}function Yo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-solutions",29),s.fc("closeModel",function(){return s.Bc(n),s.jc().onSolutionClose()}),s.Ub()}if(2&e){var r=s.jc();s.oc("solutionData",r.solution)}}function Xo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-attachment",30),s.fc("closeModel",function(){return s.Bc(n),s.jc().cloasemodal()}),s.Ub()}if(2&e){var r=s.jc();s.oc("attachment",r.attachment)}}var Zo=["dynamic"];function Jo(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-mcq",16),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questAttempted",function(e){return s.Bc(n),s.jc().attemptedQuest(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("quizData",r.qData)("attemptedOps",r.attemptedOps)("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("configData",r.configData)("mode",r.mode)}}function es(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-scq",17),s.fc("questAttempted",function(e){return s.Bc(n),s.jc().attemptedQuest(e)})("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("quizData",r.qData)("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("configData",r.configData)("mode",r.mode)("attemptedOps",r.attemptedOps)}}function ts(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-sorting",18),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("quizData",r.qData)("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("configData",r.configData)("mode",r.mode)("attemptedOps",r.attemptedOps)}}function ns(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-sorting",18),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("quizData",r.qData)("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("configData",r.configData)("mode",r.mode)("attemptedOps",r.attemptedOps)}}function rs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-subjective",19),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("attemptedOps",r.attemptedOps)("quizData",r.qData)("configData",r.configData)("mode",r.mode)("$iDontknw",r.$iDontknw)}}function is(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-composite-steps",20),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questAttempted",function(e){return s.Bc(n),s.jc().attemptedQuest(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("attemptedOps",r.attemptedOps)("$resetScreen",r.$resetScreen)("quizData",r.qData)("mode",r.mode)("$iDontknw",r.$iDontknw)("$nextSubQ",r.$nextSubQ)("$iDontknw",r.$iDontknw)}}function os(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-composite-steps",21),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)})("questAttempted",function(e){return s.Bc(n),s.jc().attemptedQuest(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("attemptedOps",r.attemptedOps)("$resetScreen",r.$resetScreen)("quizData",r.qData)("mode",r.mode)("$iDontknw",r.$iDontknw)("$nextSubQ",r.$nextSubQ)("$iDontknw",r.$iDontknw)}}function ss(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-match",22),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("quizData",r.qData)("$iDontknw",r.$iDontknw)("configData",r.configData)("mode",r.mode)("$iDontknw",r.$iDontknw)}}function as(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-match",23),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("quizData",r.qData)("$iDontknw",r.$iDontknw)("configData",r.configData)("mode",r.mode)("attemptedOps",r.attemptedOps)("$iDontknw",r.$iDontknw)}}function us(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-fib",24),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("attemptedOps",r.attemptedOps)("$resetScreen",r.$resetScreen)("quizData",r.qData)("configData",r.configData)("mode",r.mode)("$iDontknw",r.$iDontknw)}}function cs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-fib-drop-down",25),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("mode",r.mode)("attemptedOps",r.attemptedOps)("$resetScreen",r.$resetScreen)("quizData",r.qData)("configData",r.configData)("$iDontknw",r.$iDontknw)}}function ls(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-fib-select",24),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("attemptedOps",r.attemptedOps)("$resetScreen",r.$resetScreen)("quizData",r.qData)("configData",r.configData)("mode",r.mode)("$iDontknw",r.$iDontknw)}}function hs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-fib-dnd",26),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("quizData",r.qData)("configData",r.configData)("mode",r.mode)("attemptedOps",r.attemptedOps)("$iDontknw",r.$iDontknw)}}function ds(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-hotspot",26),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("quizData",r.qData)("configData",r.configData)("mode",r.mode)("attemptedOps",r.attemptedOps)("$iDontknw",r.$iDontknw)}}function fs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-world-select",27),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questAttempted",function(e){return s.Bc(n),s.jc().attemptedQuest(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("quizData",r.qData)("mode",r.mode)("attemptedOps",r.attemptedOps)("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("configData",r.configData)}}function ps(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-word-select-v2",27),s.fc("attempted",function(e){return s.Bc(n),s.jc().optionClickEvent(e)})("questAttempted",function(e){return s.Bc(n),s.jc().attemptedQuest(e)})("questLoad",function(e){return s.Bc(n),s.jc().questLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.theme),s.oc("quizData",r.qData)("mode",r.mode)("attemptedOps",r.attemptedOps)("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw)("configData",r.configData)}}var _s=["feedbackWrapper"];function gs(e,t){if(1&e&&s.Rb(0,"nx-afs-image-zoom",6),2&e){var n=s.jc();s.oc("imgSrc",n.feedback.feedback[0].media)}}function vs(e,t){if(1&e&&s.Rb(0,"video",7),2&e){var n=s.jc();s.oc("src",n.feedback.feedback[0].media,s.Ec)}}function ms(e,t){if(1&e&&s.Rb(0,"audio",7),2&e){var n=s.jc();s.oc("src",n.feedback.feedback[0].media,s.Ec)}}var ys=["optionWrapper"];function bs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",13),s.Vb(1,"div",14),s.Vb(2,"ng-lottie",15),s.fc("animationCreated",function(e){return s.Bc(n),s.jc().animationCreated(e)})("dataReady",function(e){return s.Bc(n),s.jc().onAnimationReady(e)}),s.Ub(),s.Ub(),s.Ub()}if(2&e){var r=s.jc();s.Db(2),s.oc("options",r.pathConfig)}}function Es(e,t){if(1&e&&s.Rb(0,"nx-afs-image-zoom",16),2&e){var n=s.jc();s.oc("imgSrc",n.option.media)}}function Cs(e,t){if(1&e&&s.Rb(0,"video",17),2&e){var n=s.jc();s.oc("src",n.option.media,s.Ec)}}function Os(e,t){if(1&e&&s.Rb(0,"audio",17),2&e){var n=s.jc();s.oc("src",n.option.media,s.Ec)}}function Ss(e,t){if(1&e&&(s.Vb(0,"div",18),s.Rb(1,"tce-question-feedback",19),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("message",n.optMsg)}}function Ts(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",20),s.Vb(1,"tce-feedback",21),s.fc("widthExceedClass",function(){return s.Bc(n),s.jc().onWidthExceedClass()}),s.Ub(),s.Rb(2,"span",22),s.Ub()}if(2&e){var r=s.jc();s.Db(1),s.oc("feedback",r.option)("$resetOverFlow",r.$resetOverFlow)}}var ws=function(e,t,n,r,i,o,s){return[e,t,n,r,i,o,s]};function Ds(e,t){if(1&e&&(s.Vb(0,"div",6),s.Rb(1,"tce-quiz-quill-view",7),s.Vb(2,"p",8),s.Jc(3),s.Ub(),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("content",null==n.quizData[0]?null:n.quizData[0].data.stimulus),s.Db(2),s.Lc("(",n.quizData[0].maxScore,")")}}function Ps(e,t){if(1&e&&(s.Vb(0,"div",6),s.Rb(1,"tce-quiz-quill-view",7),s.Vb(2,"p",8),s.Jc(3),s.Ub(),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("content",null==n.quizData?null:n.quizData.column_title),s.Db(2),s.Lc("(",null==n.quizData[0]?null:n.quizData[0].maxScore,")")}}function ks(e,t){if(1&e&&s.Rb(0,"nx-afs-image-zoom",9),2&e){var n=s.jc();s.oc("imgSrc",null==n.quizData[0]?null:n.quizData[0].data.stimulus_media)}}function As(e,t){if(1&e&&s.Rb(0,"video",10),2&e){var n=s.jc();s.oc("src",n.quizData[0].data.stimulus_media,s.Ec)}}function Is(e,t){if(1&e&&s.Rb(0,"audio",10),2&e){var n=s.jc();s.oc("src",n.quizData[0].data.stimulus_media,s.Ec)}}var Ms=function(e){return{textSizeExtended:e}};function Rs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",3),s.fc("click",function(){return s.Bc(n),s.jc().onColutionClicked()}),s.Rb(1,"span",4),s.Ub()}}function xs(e,t){1&e&&(s.Vb(0,"div"),s.ic(),s.Vb(1,"svg",1),s.Rb(2,"path",2),s.Ub(),s.Ub())}function Ls(e,t){1&e&&(s.Vb(0,"div"),s.ic(),s.Vb(1,"svg",1),s.Rb(2,"path",3),s.Ub(),s.Ub())}function js(e,t){1&e&&(s.Vb(0,"div"),s.ic(),s.Vb(1,"svg",1),s.Rb(2,"path",4),s.Ub(),s.Ub())}var Ns=["pic"];function Us(e,t){if(1&e){var n=s.Wb();s.Vb(0,"img",5),s.fc("click",function(e){s.Bc(n);var t=s.jc(),r=s.Ac(5);return t.openZoom(r,e)})("mousedown",function(e){return s.Bc(n),s.jc().stopIt(e)})("mousemove",function(e){return s.Bc(n),s.jc().stopIt(e)})("touchmove",function(e){return s.Bc(n),s.jc().stopIt(e)})("touch",function(e){return s.Bc(n),s.jc().stopIt(e)})("pan",function(e){return s.Bc(n),s.jc().stopIt(e)})("touchstart",function(e){return s.Bc(n),s.jc().stopIt(e)}),s.Ub()}}function Bs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",6),s.Vb(1,"h4",7),s.Jc(2,"Zoom View"),s.Ub(),s.Vb(3,"button",8),s.fc("click",function(){return t.$implicit.dismiss("Cross click")}),s.ic(),s.Vb(4,"svg",9),s.Rb(5,"circle",10),s.Vb(6,"g",11),s.Rb(7,"line",12),s.Rb(8,"line",13),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.hc(),s.Vb(9,"div",14),s.Vb(10,"div",15),s.Vb(11,"pan-zoom",16),s.Vb(12,"div",17),s.Rb(13,"nx-afs-lib-secure-asset",18,1),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(15,"div",19),s.Vb(16,"a",20),s.fc("click",function(){return s.Bc(n),s.jc().resetZoom()}),s.Vb(17,"span",21),s.Jc(18,"Reset"),s.Ub(),s.Ub(),s.Vb(19,"a",22),s.fc("click",function(){return s.Bc(n),s.jc().zoomIn()}),s.Vb(20,"span",21),s.Jc(21,"Zoom In"),s.Ub(),s.Ub(),s.Vb(22,"a",22),s.fc("click",function(){return s.Bc(n),s.jc().zoomOut()}),s.Vb(23,"span",21),s.Jc(24,"Zoom Out"),s.Ub(),s.Ub(),s.Ub()}if(2&e){var r=s.jc();s.Db(11),s.oc("config",r.panZoomConfig),s.Db(2),s.oc("url",r.questionCtrl.getBasePath()+r.imgSrc)}}function Fs(e,t){1&e&&(s.Vb(0,"div",24),s.Vb(1,"button",25),s.Vb(2,"span",26),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub())}function qs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",27),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function Vs(e,t){if(1&e&&(s.Vb(0,"div",28),s.Vb(1,"div",29),s.Rb(2,"tce-instructions",30),s.Ub(),s.Ub()),2&e){var n=s.jc(2);s.Db(2),s.oc("instructionData",s.sc(1,ei,n.questionCtrl.pendingAttempt))}}function Ws(e,t){if(1&e&&(s.Vb(0,"div",39),s.Rb(1,"tce-question-feedback",40),s.Ub()),2&e){var n=s.jc().$implicit;s.Db(1),s.oc("message",n.msg)}}function Gs(e,t){if(1&e&&s.Rb(0,"tce-feedback",41),2&e){var n=s.jc().$implicit;s.oc("feedback",n)}}function Ks(e,t){if(1&e&&(s.Vb(0,"div",33),s.Vb(1,"div",34),s.Vb(2,"p"),s.Jc(3),s.Ub(),s.Ub(),s.Hc(4,Ws,2,1,"div",35),s.Vb(5,"div",36),s.Hc(6,Gs,1,1,"tce-feedback",37),s.Rb(7,"span",38),s.Ub(),s.Ub()),2&e){var n=t.$implicit,r=s.jc(3);s.oc("ngClass",s.tc(4,Eo,1===n.isCorrect?"correct":"",0===n.isCorrect?"incorrect":"")),s.Db(3),s.Kc(n.word),s.Db(1),s.oc("ngIf",r.questionCtrl.isActiveInstandFeed()),s.Db(2),s.oc("ngIf",null==n?null:n.feedback)}}function zs(e,t){if(1&e&&(s.Vb(0,"div",31),s.Hc(1,Ks,8,7,"div",32),s.Ub()),2&e){var n=s.jc(2);s.Db(1),s.oc("ngForOf",n.selectedWord)}}function Hs(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Rb(14,"tce-question",13),s.Ub(),s.Hc(15,Fs,4,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",15),s.Vb(17,"div",16),s.Vb(18,"div",9),s.Hc(19,qs,1,2,"tce-question-feedback",17),s.Rb(20,"tce-instructions",18),s.Hc(21,Vs,3,3,"div",19),s.Ub(),s.Ub(),s.Vb(22,"div",20),s.Vb(23,"div",9),s.Vb(24,"div",21),s.Vb(25,"nx-afs-word",22),s.fc("selectedWord",function(e){return s.Bc(n),s.jc().selectWord(e)})("dataLoaded",function(e){return s.Bc(n),s.jc().onDataLoad(e)})("dataArrCreated",function(e){return s.Bc(n),s.jc().getCorrectOptionCount(e)}),s.Ub(),s.Hc(26,zs,2,1,"div",23),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){var r=s.jc();s.oc("ngClass",r.questionCtrl.configData.userInteraction[r.questionCtrl.getClass(r.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",r.questionCtrl.bonusStr),s.Db(4),s.oc("quizData",r.quizData),s.Db(1),s.oc("ngIf",r.attachment),s.Db(4),s.oc("ngIf",r.questionCtrl.questFeedback),s.Db(1),s.oc("instructionData",s.sc(15,ei,r.questionCtrl.getInstruction(r.quizData,r.quizData[0].data.options.length))),s.Db(1),s.oc("ngIf",r.questionCtrl.isPendingAttempt),s.Db(4),s.oc("options",r.quizData[0].data.options)("sentence",r.quizData[0].data.questionData)("selectedWords",r.selectedWord)("$showCorrectAns",r.$showCorrectAns)("$resetScreen",r.$resetScreen)("$iDontknw",r.$iDontknw),s.Db(1),s.oc("ngIf",r.selectedWord.length>0)}}var $s=["wsv2QuizWrapper"];function Qs(e,t){1&e&&(s.Vb(0,"div",25),s.Vb(1,"button",26),s.Vb(2,"span",27),s.Jc(3,"Attachment"),s.Ub(),s.Ub(),s.Ub())}function Ys(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",28),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function Xs(e,t){if(1&e&&(s.Vb(0,"div",29),s.Vb(1,"div",30),s.Rb(2,"tce-instructions",31),s.Ub(),s.Ub()),2&e){var n=s.jc(2);s.Db(2),s.oc("instructionData",s.sc(1,ei,n.questionCtrl.pendingAttempt))}}function Zs(e,t){if(1&e&&(s.Vb(0,"div",40),s.Rb(1,"tce-question-feedback",41),s.Ub()),2&e){var n=s.jc().$implicit;s.Db(1),s.oc("message",n.msg)}}function Js(e,t){if(1&e&&s.Rb(0,"tce-feedback",42),2&e){var n=s.jc().$implicit;s.oc("feedback",n)}}function ea(e,t){if(1&e&&(s.Vb(0,"div",34),s.Vb(1,"div",35),s.Vb(2,"p"),s.Jc(3),s.Ub(),s.Ub(),s.Hc(4,Zs,2,1,"div",36),s.Vb(5,"div",37),s.Hc(6,Js,1,1,"tce-feedback",38),s.Rb(7,"span",39),s.Ub(),s.Ub()),2&e){var n=t.$implicit,r=s.jc(3);s.oc("ngClass",s.tc(4,Eo,1===n.state?"correct":"",0===n.state?"incorrect":"")),s.Db(3),s.Kc(n.word),s.Db(1),s.oc("ngIf",r.questionCtrl.isActiveInstandFeed()),s.Db(2),s.oc("ngIf",null==n?null:n.feedback)}}function ta(e,t){if(1&e&&(s.Vb(0,"div",32),s.Hc(1,ea,8,7,"div",33),s.Ub()),2&e){var n=s.jc(2);s.Db(1),s.oc("ngForOf",n.selectedWord)}}function na(e,t){if(1&e&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Rb(14,"tce-question",13),s.Ub(),s.Hc(15,Qs,4,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",15),s.Vb(17,"div",16),s.Vb(18,"div",9),s.Hc(19,Ys,1,2,"tce-question-feedback",17),s.Rb(20,"tce-instructions",18),s.Hc(21,Xs,3,3,"div",19),s.Ub(),s.Ub(),s.Vb(22,"div",20),s.Vb(23,"div",9),s.Vb(24,"div",21),s.Rb(25,"div",22,23),s.Hc(27,ta,2,1,"div",24),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.questionCtrl.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(4),s.oc("quizData",n.quizData),s.Db(1),s.oc("ngIf",n.attachment),s.Db(4),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("instructionData",s.sc(9,ei,n.questionCtrl.getInstruction(n.quizData,n.quizData[0].data.options.length))),s.Db(1),s.oc("ngIf",n.questionCtrl.isPendingAttempt),s.Db(6),s.oc("ngIf",n.selectedWord.length>0)}}function ra(e,t){if(1&e){var n=s.Wb();s.Vb(0,"p",2),s.fc("click",function(){s.Bc(n);var e=t.$implicit;return s.jc().selectWord(e)}),s.Vb(1,"span",3),s.Jc(2),s.Ub(),s.Ub()}if(2&e){var r=t.$implicit,i=s.jc();s.oc("ngClass",s.sc(3,So,i.punctuation.indexOf(r.word)>-1?"punctuation":"")),s.Db(1),s.oc("ngClass",s.uc(5,Ui,1!==r.isCorrect||!0!==(null==r?null:r.isSelected)&&1!==r.isSelected?"":"wordColor correct",0!==r.isCorrect||!0!==(null==r?null:r.isSelected)&&1!==r.isSelected?"":"wordColor incorrect",1!==r.isCorrect||!1!==(null==r?null:r.isSelected)&&0!==r.isSelected||!i.getMissed()?"":"wordColor missed")),s.Db(1),s.Kc(r.word)}}function ia(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",25),s.fc("click",function(){return s.Bc(n),s.jc(2).showAttachment()}),s.Vb(1,"span",26),s.Jc(2,"Attachment"),s.Ub(),s.Ub()}}function oa(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-question-feedback",27),s.fc("showSolution",function(){return s.Bc(n),s.jc(2).onShowSolution()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("message",r.questionCtrl.questFeedback)("solutionData",r.quizData[0].solution)}}function sa(e,t){if(1&e&&(s.Vb(0,"div",28),s.Vb(1,"div",29),s.Rb(2,"tce-instructions",30),s.Ub(),s.Ub()),2&e){var n=s.jc(2);s.Db(2),s.oc("instructionData",s.sc(1,ei,n.questionCtrl.pendingAttempt))}}function aa(e,t){if(1&e&&(s.Vb(0,"option",38),s.Jc(1),s.Ub()),2&e){var n=t.$implicit,r=s.jc(3);s.oc("ngValue",n)("disabled",r.isDisable(n)),s.Db(1),s.Lc("",n.label," ")}}function ua(e,t){if(1&e&&(s.Vb(0,"span",39),s.Jc(1),s.Ub()),2&e){var n=s.jc().index,r=s.jc(2);s.Db(1),s.Kc(r.fibOptionFeedBack[n])}}function ca(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Rb(1,"tce-quiz-quill-view",31),s.Vb(2,"span",32),s.Vb(3,"select",33),s.fc("ngModelChange",function(e){s.Bc(n);var r=t.index;return s.jc(2).atempted[r]=e})("ngModelChange",function(){s.Bc(n);var e=t.index;return s.jc(2).onAttempt(e)}),s.Hc(4,aa,2,3,"option",34),s.Ub(),s.Vb(5,"div",35),s.Rb(6,"span",36),s.Hc(7,ua,2,1,"span",37),s.Ub(),s.Ub(),s.Sb()}if(2&e){var r=t.$implicit,i=t.index,o=s.jc(2);s.Db(1),s.oc("content",r.questions),s.Db(1),s.oc("ngClass",s.tc(5,Eo,1===(null==o.fibAttemptedOpt[i]?null:o.fibAttemptedOpt[i].isCorrect)?"correct":"",0===(null==o.fibAttemptedOpt[i]?null:o.fibAttemptedOpt[i].isCorrect)?"incorrect":"")),s.Db(1),s.oc("ngModel",o.atempted[i]),s.Db(1),s.oc("ngForOf",o.fibOption),s.Db(3),s.oc("ngIf",0===(null==o.fibAttemptedOpt[i]?null:o.fibAttemptedOpt[i].isCorrect))}}function la(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-solutions",40),s.fc("closeModel",function(){return s.Bc(n),s.jc(2).onSolutionClose()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("solutionData",r.solution)}}function ha(e,t){if(1&e){var n=s.Wb();s.Vb(0,"nx-afs-attachment",41),s.fc("closeModel",function(){return s.Bc(n),s.jc(2).cloasemodal()}),s.Ub()}if(2&e){var r=s.jc(2);s.oc("attachment",r.attachment)}}function da(e,t){if(1&e&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"div",3),s.Vb(3,"div",4),s.Vb(4,"div",5),s.Vb(5,"div",6),s.Rb(6,"lib-difficulty-level",7),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",8),s.Vb(9,"div",9),s.Rb(10,"lib-bonus",10),s.Ub(),s.Ub(),s.Vb(11,"div",11),s.Vb(12,"div",9),s.Vb(13,"div",12),s.Vb(14,"div",12),s.Rb(15,"tce-question",13),s.Ub(),s.Hc(16,ia,3,0,"div",14),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"div",15),s.Vb(18,"div",16),s.Vb(19,"div",9),s.Hc(20,oa,1,2,"tce-question-feedback",17),s.Rb(21,"tce-instructions",18),s.Hc(22,sa,3,3,"div",19),s.Ub(),s.Ub(),s.Vb(23,"div",20),s.Vb(24,"div",9),s.Vb(25,"div",21),s.Hc(26,ca,8,8,"ng-container",22),s.Ub(),s.Hc(27,la,1,1,"tce-solutions",23),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Hc(28,ha,1,1,"nx-afs-attachment",24),s.Ub(),s.Ub()),2&e){var n=s.jc();s.oc("ngClass",n.questionCtrl.configData.userInteraction[n.questionCtrl.getClass(n.mode)]),s.Db(6),s.oc("difficultyType","difficul"),s.Db(4),s.oc("bonusStr",n.questionCtrl.bonusStr),s.Db(5),s.oc("quizData",n.quizData),s.Db(1),s.oc("ngIf",n.attachment),s.Db(4),s.oc("ngIf",n.questionCtrl.questFeedback),s.Db(1),s.oc("instructionData",s.sc(11,ei,n.questionCtrl.getInstruction(n.quizData,n.quizData.length-1))),s.Db(1),s.oc("ngIf",n.questionCtrl.isPendingAttempt),s.Db(4),s.oc("ngForOf",n.question),s.Db(1),s.oc("ngIf",n.isSolution),s.Db(1),s.oc("ngIf",n.showattachment)}}var fa=["quillViewLable"];function pa(e,t){1&e&&s.Rb(0,"div",4)}var _a=function(e){return{opacity:e}};function ga(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",12),s.Vb(1,"div",13),s.Vb(2,"ng-lottie",14),s.fc("animationCreated",function(e){return s.Bc(n),s.jc().animationCreated(e)})("dataReady",function(e){return s.Bc(n),s.jc().onAnimationReady(e)}),s.Ub(),s.Ub(),s.Ub()}if(2&e){var r=s.jc();s.Db(2),s.oc("options",r.pathConfig)}}function va(e,t){if(1&e&&s.Rb(0,"nx-afs-image-zoom",15),2&e){var n=s.jc();s.oc("imgSrc",n.option.media)}}function ma(e,t){if(1&e&&s.Rb(0,"video",16),2&e){var n=s.jc();s.oc("src",n.option.media,s.Ec)}}function ya(e,t){if(1&e&&s.Rb(0,"audio",16),2&e){var n=s.jc();s.oc("src",n.option.media,s.Ec)}}function ba(e,t){if(1&e&&(s.Vb(0,"div",17),s.Rb(1,"tce-question-feedback",18),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("message",n.optMsg)}}function Ea(e,t){if(1&e&&(s.Vb(0,"div",19),s.Rb(1,"tce-feedback",20),s.Rb(2,"span",21),s.Ub()),2&e){var n=s.jc();s.Db(1),s.oc("feedback",n.option)}}var Ca,Oa,Sa,Ta,wa,Da,Pa,ka,Aa,Ia,Ma,Ra,xa,La,ja,Na,Ua,Ba,Fa,qa,Va,Wa,Ga,Ka,za,Ha,$a,Qa,Ya,Xa,Za,Ja,eu,tu,nu,ru,iu,ou,su,au,uu,cu,lu,hu=".pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:-2px}.optionBox[_ngcontent-%COMP%]   .pretty[_ngcontent-%COMP%]{display:block}.feedbackBox[_ngcontent-%COMP%]{display:none}.optMediaWrapper[_ngcontent-%COMP%]{max-width:100%}.optMediaWrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.optMediaWrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;position:relative;z-index:5}.mcqIndex[_ngcontent-%COMP%], .scqInput[_ngcontent-%COMP%]{display:none}.pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after, .pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{top:4px;border-width:2px}.pretty.p-icon[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:4px}.pretty[_ngcontent-%COMP%]{padding-left:25px}",du=((au=function(){function e(t){_classCallCheck(this,e),this.http=t,this.dataUrlToObs=function(e){return new p.a(function(t){var n=new FileReader;return n.readAsDataURL(e),n.onload=function(){console.log("SecureImageService -> reader.onload ->  reader.result as string",n.result),t.next("data:audio/mpeg;base64,"+n.result.split(",")[1]),t.complete()},n.onerror=function(){return t.error(n.error)},function(){return n.abort()}})}}return _createClass(e,[{key:"getConfigFile",value:function(e){return this.serviceCall(e)}},{key:"serviceCall",value:function(e){return this.http.get(e).pipe(Object(y.a)(function(e){return e}))}},{key:"audioServiceCall",value:function(e){var t=this;return this.http.get(e,{responseType:"blob"}).pipe(Object(b.a)(function(e){return t.dataUrlToObs(e)}),Object(y.a)(function(e){return e}),Object(E.a)(function(e){console.log("ApiManagerService -> audioServiceCall -> val",e)}),Object(C.a)(function(e){return Object(_.a)(e.message)}))}}]),e}()).\u0275fac=function(e){return new(e||au)(s.cc(m.b))},au.\u0275prov=Object(s.Mb)({factory:function(){return new au(Object(s.cc)(m.b))},token:au,providedIn:"root"}),au),fu=((su=function(){function e(t){_classCallCheck(this,e),this.api=t,this.confidence=0,this._duration=0,this.attempt_count=0,this.questionState=0,this.pending=0,this._marks=0,this.attemptedOps=[],this.correctOptIds=[],this._parentsQstate=0,this.dictQuestFeedback=Object(),this.processDic={},this.bonusStr="Bonus text will come here",this.basePath="",this.pendingAttempt="You have one attempt left",this.isPendingAttempt=!1,this.obtainScore=0,this.currentQuestFeedback=0,this.optionDictPrefix=[],this.optionKey=[],this.spendTime=0,this.persist_max_attempt=0,this._isAnimation=!1,this._idle_time=0,this.instructions={SCQ:"Select the correct answer.",MCQ:"Select the correct answers.",SORTING:"Drag and drop each option into the correct column.",WS:"Select the correct answer.",WS2:"Select the correct answers.",WSV2:"Select the correct answer.",WSV22:"Select the correct answers.",COMPOSITE:"",FIBSCQ:"Select the correct answer.",FIBSCQ2:"Select the correct answer for each blank.",SUBJECTIVE:"Write the answer in the space provided."},this.attemptCountEvent=new g.a(null),this.dictQuestFeedback[0]='You are <span class="redFont">incorrect!</span>',this.dictQuestFeedback[1]='You are <span class="redFont">partially correct!</span>',this.dictQuestFeedback[2]='You are <span class="greenFont">correct!</span> Well done!',this.randomNum=Math.random()}return _createClass(e,[{key:"questionLevelFeedbackWithAttemptCount",value:function(e,t){var n=this,r="",i="Q_"+e+"_"+this.attempt_count+"_"+this.quizRule.parameters.maxAttempt;console.log("isCorrect "+e,"\nthis.attempt_count "+this.attempt_count+"\nthis.quizRule.parameters.maxAttempt "+this.quizRule.parameters.maxAttempt),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 81 ~ QuestionCntrlService ~ questionLevelFeedbackWithAttemptCount ~ optionsState",i);var o=this.quizRule.msgRule.find(function(e){return e.rule===i});if(o){var s=o.value.sort(function(){return.5-n.randomNum})[0];r=this.getMessageKey(s)}return r}},{key:"getMessageKey",value:function(e){return this.optionDictPrefix.find(function(t){return t.key===e}).msg}},{key:"getOptionPrefixFeedback",value:function(e,t,n,r){var i=this,o="";void 0!==n&&void 0!==r&&(e=n===r?1:0);var s=e+"_"+(t?1:0)+"_"+this.attempt_count,a=this.quizRule.msgRule.find(function(e){return e.rule===s});if(a){var u=Math.floor(Math.random()*a.value.length),c=a.value.sort(function(){return.5-i.randomNum})[u];o=this.optionDictPrefix.find(function(e){return e.key===c}).msg}return o}},{key:"getCofigData",value:function(){return this.configData}},{key:"setConfigData",value:function(e){this.configData=e}},{key:"setcurrentQuestFeedback",value:function(e){this.currentQuestFeedback=e}},{key:"getcurrentQuestFeedback",value:function(){return this.currentQuestFeedback}},{key:"ngOnInit",value:function(){this.optionDictPrefix=[],this.optionKey=[]}},{key:"executeAction",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];"applyClass"===n.type?this.applyClass(n.value,n.data):"removeClass"===n.type?this.removeClass(n.value,n.data):"execute"===n.type&&this.showPrefix(n.data)}}},{key:"attemptCountAsbroadcaster",value:function(e){this.attemptCountEvent.next(e)}},{key:"attemptCountAsSubscriber",value:function(){return this.attemptCountEvent.asObservable()}},{key:"showPrefix",value:function(e){this.questFeedback=this.getMessageKey(e)}},{key:"isActiveInstandFeed",value:function(){return-1!==this.configData.userInteraction[this.getClass(this.mode)].indexOf("instantFeedback")}},{key:"setObtainScore",value:function(e){void 0!==e&&NaN!==e||(e=0),this.obtainScore=e}},{key:"getObtainScore",value:function(){return this.obtainScore}},{key:"setBasePath",value:function(e){this.basePath=e}},{key:"getBasePath",value:function(){return this.basePath}},{key:"resetBasePath",value:function(){this.basePath=""}},{key:"getInstruction",value:function(e,t){return e[0].instructions&&""!==e[0].instructions?e[0].instructions:this.instructions[e[0].data.type+(t>1?"2":"")]}},{key:"setVersionNumber",value:function(e){this.version=e}},{key:"getVersionNumber",value:function(){return this.version}},{key:"isFeedBackAnimation",value:function(){return-1!==this.configData.userInteraction.styleAttempt.indexOf("showthemeAnimation")}},{key:"initialise",value:function(e,t,n){this.configData=e,this.quizRule=t,this.persist_max_attempt=t.parameters.maxAttempt,this.mode=n,this._viewState=2,this.reset()}},{key:"attmptViewState",value:function(){this._viewState=1}},{key:"setAttemptedOptions",value:function(e){var t;this.attemptedOps=JSON.parse(JSON.stringify(e)),this._viewState=this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0?1:2}},{key:"getAttemptedOptions",value:function(){return this.attemptedOps}},{key:"setCorrectOptions",value:function(e){this.correctOptIds=JSON.parse(JSON.stringify(e))}},{key:"getCorrectOptions",value:function(){return this.correctOptIds}},{key:"setDuration",value:function(e){this._duration=e}},{key:"getDuration",value:function(){return this._duration}},{key:"setMarks",value:function(e){this._marks=e}},{key:"getMarks",value:function(){return this._marks}},{key:"getMaxTextLength",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.label&&i.label.length>0&&n.push(i.label.length)}}catch(o){r.e(o)}finally{r.f()}this.maxTextLength=Math.max.apply(null,n),this.getSubTextMaxLength(e)}},{key:"getSubTextMaxLength",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.label&&i.label.length>0){var o,s=_createForOfIteratorHelper(i.label.replace(/(<([^>]+)>)/gi,"").split(" "));try{for(s.s();!(o=s.n()).done;){var a=o.value;n.push(a.length)}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){r.e(u)}finally{r.f()}this.maxSubTextLength=Math.max.apply(null,n)}},{key:"onTemplateInit",value:function(e){this.quizRule&&0===this.quizRule.parameters.maxAttempt&&(this.quizRule.parameters.maxAttempt=e-1)}},{key:"changeMaxAttempt",value:function(e){this.quizRule.parameters.maxAttempt>e&&(this.quizRule.parameters.maxAttempt=e)}},{key:"applyClass",value:function(e,t){var n=this.configData.userInteraction[e].split(" ");n.push(t),this.configData.userInteraction[e]=n.join(" ")}},{key:"onEventTrgger",value:function(e){if(console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 346 ~ QuestionCntrlService ~ onEventTrgger ~ this.quizRule",this.quizRule),this.quizRule){var t=this.quizRule.event[e];console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 349 ~ QuestionCntrlService ~ onEventTrgger ~ obj",t),void 0!==t&&this.executeAction(t.actions)}}},{key:"setQueState",value:function(e){this.setMsgState(e),this.questionState=e}},{key:"setMsgState",value:function(e){this.questFeedback=this.questionLevelFeedbackWithAttemptCount(e,this.attempt_count),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 378 ~ QuestionCntrlService ~ setMsgState ~ this.questFeedback",this.questFeedback)}},{key:"getQuestState",value:function(){return this.questionState}},{key:"setParentsQState",value:function(e){this._parentsQstate=e}},{key:"getParentsQState",value:function(){return this._parentsQstate}},{key:"getEventAction",value:function(e){var t=this.quizRule.event[e];if(void 0!==t)return t.actions}},{key:"reset",value:function(){this.questionState=0,this.confidence=0,this.timeTaken=0,this.obtainScore=0,this.pending=0,this.attemptedOps=[],this.resetTime()}},{key:"resetTime",value:function(){this.timeStamp=(new Date).getTime(),this.reSetIdeaTimeStemp()}},{key:"reSetIdeaTimeStemp",value:function(){this._idle_time=0}},{key:"resetMAXAttempt",value:function(){this.quizRule.parameters.maxAttempt=this.persist_max_attempt}},{key:"getAttemptCount",value:function(){return this.attempt_count}},{key:"validateQuestion",value:function(){return Object(u.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attempt_count++,this.attemptCountAsbroadcaster(this.attempt_count),this.computationConfidenc(),e.next=5,new Promise(function(e){setTimeout(function(){t={attemptCount:n.attempt_count,confidence:n.confidence},n.getValidationState()?(n.onEventTrgger("correctAttemptFb"),t.event="correctAttemptFb",e(t)):n.attempt_count>=n.quizRule.parameters.maxAttempt?(n.onEventTrgger("maxAttemptFb"),t.event="maxAttemptFb",e(t)):(n.onEventTrgger("attemptFb"),t.event="attemptFb",e(t))},10)});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))}},{key:"computeConfidenceMatrix",value:function(){var e=this.timeSpend(this.timeStamp);e>1?(this.timeTaken=e+this.spendTime+this._idle_time,this._idle_time=0):this.timeTaken=this.spendTime,console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 457 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ this._idle_time",this._idle_time),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 455 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ timeDiff",e),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 458 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ this.spendTime",this.spendTime),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 457 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ this.timeTaken",this.timeTaken),this.timeStamp=(new Date).getTime(),console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 451 ~ QuestionCntrlService ~ computeConfidenceMatrix ~ this.timeStamp",this.timeStamp),this.computationConfidenc()}},{key:"computationConfidenc",value:function(){var e={};e.attemptState=this.questionState/2,e.attemptCnt=1/Math.pow(2,this.attempt_count-1),e.timeTaken=this.timeTaken<=60?1:.5,this.confidence=e.attemptState*e.attemptCnt*e.timeTaken}},{key:"timeSpend",value:function(e){console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 476 ~ QuestionCntrlService ~ timeSpend ~ startTime",e);var t=e-(new Date).getTime();return console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 466 ~ QuestionCntrlService ~ timeSpend ~ diff",Math.abs(t/1e3)),Math.abs(t/1e3)}},{key:"getValidationState",value:function(){return 2===this.questionState}},{key:"idleTimeValidation",value:function(){console.log("\ud83d\ude80 ~ file: question-cntrl.service.ts ~ line 510 ~ QuestionCntrlService ~ idleTimeValidation ~ this._idle_time",this._idle_time),this._idle_time+=this.timeSpend(this.timeStamp)}},{key:"getIdleTime",value:function(){return this._idle_time}},{key:"removeClass",value:function(e,t){var n=this.configData.userInteraction[e].split(" ");n=n.filter(function(e){return e!==t}),this.configData.userInteraction[e]=n.join(" ")}},{key:"getQAttemptType",value:function(){return this.quizRule.parameters.allOption}},{key:"getClass",value:function(e){return"style"+e.charAt(0).toUpperCase()+e.slice(1)}}]),e}()).\u0275fac=function(e){return new(e||su)(s.cc(du))},su.\u0275prov=Object(s.Mb)({factory:function(){return new su(Object(s.cc)(du))},token:su,providedIn:"root"}),su),pu=((ou=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"checkDataAvailability",value:function(e){return!(!e||""===e.trim()||"null"===e||"NA"===e||"na"===e||"undefined"===e)}},{key:"checkImageAvailability",value:function(e){return!!e&&null!=e.match(/\.(jpeg|jpg|gif|png|svg|JPEG|JPG|GIF|PNG|SVG)$/)}},{key:"checkVideoAvailability",value:function(e){return!!e&&null!=e.match(/\.(mp4|m4v|f4v|m4b|ogg|mov|wmv|webm|flv|PM4|M4V|F4V|M4B|OGG|MOV|WMV|WEBM|FLV)$/)}},{key:"checkPdfAvailability",value:function(e){return!!e&&null!=e.match(/\.(pdf)$/)}},{key:"checkLinkAvailability",value:function(e){return!!e&&null!=e.match(/\.(com|in|org|html|php)$/)}},{key:"checkAudioAvailability",value:function(e){return!!e&&null!=e.match(/\.(wav|mp3|mov|WAV|MP3|MOV)$/)}},{key:"isMediaAvailable",value:function(e){return!!(this.checkAudioAvailability(e)||this.checkVideoAvailability(e)||this.checkImageAvailability(e)||this.checkPdfAvailability(e)||this.checkLinkAvailability(e))}},{key:"shuffle",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}}]),e}()).\u0275fac=function(e){return new(e||ou)},ou.\u0275prov=Object(s.Mb)({factory:function(){return new ou},token:ou,providedIn:"root"}),ou),_u=((iu=function(){function e(t,n,r){_classCallCheck(this,e),this.utility=t,this.modalService=n,this.questionCtrl=r,this.closeModel=new s.n,this.config={pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1.1,spaceBetween:0}}return _createClass(e,[{key:"ngOnInit",value:function(){console.log("SolutionsComponent -> ngOnInit -> this.solutionData",this.solutionData)}},{key:"onClose",value:function(e){console.log("SolutionsComponent -> onClose -> e",e),this.closeModel.emit()}},{key:"isArray",value:function(e){return Array.isArray(e)}}]),e}()).\u0275fac=function(e){return new(e||iu)(s.Qb(pu),s.Qb(T.b),s.Qb(fu))},iu.\u0275cmp=s.Kb({type:iu,selectors:[["tce-solutions"]],inputs:{solutionData:"solutionData"},outputs:{closeModel:"closeModel"},features:[s.Cb([T.a])],decls:24,vars:5,consts:[["solutionModal",""],[1,"modal-header"],[1,"modal-title"],[1,"icon","icon-solution","d-block","mr-2"],["type","button","aria-label","Close",1,"btn","btn-icon","close","close-icon",3,"click"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","40px","height","40px","viewBox","0 0 40 40","version","1.1"],["id","Quiz-Solution-AFS-2250","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","AFS-2288-01","transform","translate(-304.000000, -217.000000)"],["id","Compounds/Notifications/Toast/Solution","transform","translate(16.000000, 217.000000)"],["id","Elements/CTAs/IconBased/CR-Copy","transform","translate(288.000000, 0.000000)"],["id","Close/White","transform","translate(8.000000, 8.000000)"],["id","Oval","fill-opacity","0.06","fill","#1268B3","cx","12","cy","12","r","12"],["id","Group","transform","translate(7.000000, 7.000000)","stroke","#0069B9"],["x1","0.550252532","y1","9.55025253","x2","9.55025253","y2","0.550252532","id","Path-5"],["x1","0.550252532","y1","9.55025253","x2","9.55025253","y2","0.550252532","id","Path-5","transform","translate(5.050253, 5.050253) scale(-1, 1) translate(-5.050253, -5.050253) "],[1,"modal-body"],[4,"ngIf"],["class","solutionAnsView","style"," padding: 10px 0px;",4,"ngIf"],["class","solutionAnsView","style"," padding: 10px;",4,"ngIf"],[1,"modal-footer"],[4,"ngFor","ngForOf"],[1,"tce-quill-view",3,"content"],[3,"attachment",4,"ngIf"],[3,"attachment"],[1,"subQWrapper"],[1,"swiper-pagination"],[3,"config"],[1,"swiper-wrapper"],["class","swiper-slide",4,"ngFor","ngForOf"],[1,"swiper-slide"],[1,"solutionAnsView",2,"padding","10px 0px"],[3,"url",4,"ngIf"],[3,"url"],["pic",""],[1,"solutionAnsView",2,"padding","10px"]],template:function(e,t){1&e&&(s.Vb(0,"div",null,0),s.Vb(2,"div",1),s.Vb(3,"h5",2),s.Rb(4,"span",3),s.Jc(5),s.Ub(),s.Vb(6,"button",4),s.fc("click",function(){return t.modalService.dismissAll("Cross click")}),s.ic(),s.Vb(7,"svg",5),s.Rb(8,"title"),s.Vb(9,"g",6),s.Vb(10,"g",7),s.Vb(11,"g",8),s.Vb(12,"g",9),s.Vb(13,"g",10),s.Rb(14,"circle",11),s.Vb(15,"g",12),s.Rb(16,"line",13),s.Rb(17,"line",14),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.hc(),s.Vb(18,"div",15),s.Hc(19,jr,2,1,"div",16),s.Hc(20,qr,6,2,"div",16),s.Hc(21,Gr,2,1,"div",17),s.Hc(22,Kr,2,1,"div",18),s.Ub(),s.Rb(23,"div",19),s.Ub()),2&e&&(s.Db(5),s.Lc(" ",t.solutionData.type,""),s.Db(14),s.oc("ngIf",!t.solutionData.step_nav),s.Db(1),s.oc("ngIf",t.solutionData.step_nav),s.Db(1),s.oc("ngIf",t.isArray(t.solutionData.answer)),s.Db(1),s.oc("ngIf",!t.isArray(t.solutionData.answer)))},directives:function(){return[a.l,a.k,Yu,ju,Nu,Uu,Kn,_r]},styles:["[_nghost-%COMP%]    .subQWrapper{position:relative}[_nghost-%COMP%]    .subQWrapper .swiper-pagination{position:relative;margin:10px}[_nghost-%COMP%]    .subQWrapper .swiper-pagination .swiper-pagination-bullet{background-color:#3fcaaa;margin:2px;padding:2px;width:12px;height:12px}header#modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}header#modal-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}[_nghost-%COMP%]     .solutions{font-size:14px;border:1px solid #cdcdcd}[_nghost-%COMP%]     .solutions #modal-body div div h6, [_nghost-%COMP%]     .solutions .ql-editor{padding:10px}[_nghost-%COMP%]     .solutions header{padding:10px;background-color:#cdcdcd}.modal-backdrop.fade[_ngcontent-%COMP%]{opacity:.5}.modal-open[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{opacity:1}.solutionAnsView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}  .solutionAnsView .ql-editor{background-color:transparent;padding:0}  .solutionAnsView .ql-editor p{font-size:15px;letter-spacing:0;line-height:20px}  .modal-dialog-scrollable .modal-body{max-height:calc(100vh - 210px)}"]}),iu),gu=((ru=function(){function e(t,n){_classCallCheck(this,e),this.utility=t,this.activeModal=n,this.closeModel=new s.n}return _createClass(e,[{key:"ngOnInit",value:function(){Array.isArray(this.attachment)?this.attachmentNote=this.attachment:this.attachmentForOther=this.attachment}},{key:"onClose",value:function(){this.closeModel.emit()}}]),e}()).\u0275fac=function(e){return new(e||ru)(s.Qb(pu),s.Qb(T.a))},ru.\u0275cmp=s.Kb({type:ru,selectors:[["nx-afs-attachment"]],inputs:{attachment:"attachment"},outputs:{closeModel:"closeModel"},decls:16,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn","btn-icon","close","close-icon",3,"click"],["width","24px","height","24px","viewBox","0 0 24 24","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Oval","fill-opacity","0.06","fill","#1268B3","cx","12","cy","12","r","12"],["x1","7.55025253","y1","16.5502525","x2","16.5502525","y2","7.55025253","id","Path-5","stroke","#000"],["x1","7.55025253","y1","16.5502525","x2","16.5502525","y2","7.55025253","id","Path-5","stroke","#000","transform","translate(12.050253, 12.050253) scale(-1, 1) translate(-12.050253, -12.050253) "],[1,"modal-body"],[3,"attachment",4,"ngIf"],[1,"modal-footer"],[3,"attachment"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"h5",1),s.Jc(2,"Attachment"),s.Ub(),s.Vb(3,"button",2),s.fc("click",function(){return t.activeModal.dismiss("Cross click")}),s.ic(),s.Vb(4,"svg",3),s.Rb(5,"circle",4),s.Rb(6,"line",5),s.Rb(7,"line",6),s.Ub(),s.Ub(),s.Ub(),s.hc(),s.Vb(8,"div",7),s.Hc(9,zr,1,1,"nx-afs-image-viewer",8),s.Hc(10,Hr,1,1,"nx-afs-video-viewer",8),s.Hc(11,$r,1,1,"nx-afs-pdf-viewer",8),s.Hc(12,Qr,1,1,"nx-afs-text-viewer",8),s.Hc(13,Yr,1,1,"nx-afs-external-link",8),s.Hc(14,Xr,1,1,"nx-afs-notes-viewer",8),s.Ub(),s.Rb(15,"div",9)),2&e&&(s.Db(9),s.oc("ngIf",t.utility.checkImageAvailability(t.attachmentForOther)),s.Db(1),s.oc("ngIf",t.utility.checkVideoAvailability(t.attachmentForOther)),s.Db(1),s.oc("ngIf",t.utility.checkPdfAvailability(t.attachmentForOther)),s.Db(1),s.oc("ngIf",!(t.utility.checkImageAvailability(t.attachmentForOther)||t.utility.checkVideoAvailability(t.attachmentForOther)||t.utility.checkPdfAvailability(t.attachmentForOther)||t.utility.checkLinkAvailability(t.attachmentForOther))),s.Db(1),s.oc("ngIf",t.utility.checkLinkAvailability(t.attachmentForOther)),s.Db(1),s.oc("ngIf",t.attachmentNote))},directives:function(){return[a.l,ju,Nu,Uu,Bu,Fu,Wu]},styles:[""]}),ru),vu=((nu=function(){function e(t,n,r,i){_classCallCheck(this,e),this.questionCtrl=t,this.utility=n,this.zone=r,this.modalService=i,this.attempted=new s.n,this.submited=new s.n,this.questAttempted=new s.n,this.$onOptClick=new g.a(null),this.destroy$=new v.a,this.isSolution=!1,this.showattachment=!1,this.attemptedOption=[],this.optDisplayPos=[],this.animationFlag=!1,this.totalCorrectOptionCount=-1,this.selectOptionCounter=0,this.resetFlag=!1,this.selectedOptionEvent=new s.n,this.userAttempt=new s.n,this.questLoad=new s.n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),this.animationFlag=!0,this.solution=this.quizData[0].solution,this.initEvent(),this.zone.run(function(){e.toggelSelection("review"===e.mode)}),this.checkAttempted(),this.questionCtrl.pending=this.quizData.length}},{key:"quizData",get:function(){return this._quizData},set:function(e){this._quizData=Object(w.cloneDeep)(e),this.questionCtrl.getMaxTextLength(this.quizData[0].data.options),this.changeAttemptCount(this.quizData[0].data.options),this.totalCorrectOptionCount=-1,this.selectOptionCounter=0,this.setTotalCorrectOptionCount(this.getCorrectOptionCount(this.quizData[0].data.options)),this.questionCtrl._isAnimation=!0,this.$onOptClick.next(null),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.checkShuffle()}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e,this.checkAttempted()}},{key:"checkAttempted",value:function(){var e;this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?(this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOps)),this.updateAttemptedOption(),this.questionCtrl.setQueState(this.getQValidate("checkAttempted")),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.setSelectOptionCounter(this.attemptedOption[0].options.length),this.updateOptState()):this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}],this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted")),this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState)}},{key:"checkShuffle",value:function(){this.quizData[0].data.metadata&&this.quizData[0].data.metadata.shuffle&&this.shuffleOptions()}},{key:"shuffleOptions",value:function(){this.utility.shuffle(this.quizData[0].data.options)}},{key:"updateAttemptedOption",value:function(){var e,t=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=_createForOfIteratorHelper(this.attemptedOption[0].options);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.value===o&&(r.isSelected=!0,this.questionAttempted(r))}}catch(s){i.e(s)}finally{i.f()}}}catch(s){t.e(s)}finally{t.f()}}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset(),e.attemptedOption=[{qid:e.quizData[0].questionID,options:[]}]}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()}),this.$iDontknw.subscribe(function(t){e.questionCtrl.onEventTrgger("iDontKnow")}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(O.a)(this.destroy$)).subscribe(function(t){if(null!==t){var n=JSON.parse(JSON.stringify(e.attemptedOption));n=e.chnageAttemptObj(n)}})}},{key:"showAnswer",value:function(){var e,t=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(t.s();!(e=t.n()).done;){var n=e.value;1===n.isCorrect&&(n.isSelected=!0)}}catch(r){t.e(r)}finally{t.f()}}},{key:"reset",value:function(){var e=this;this.zone.run(function(){e.quizData[0].data.options.map(function(e){return e.isSelected=!1})})}},{key:"toggelSelection",value:function(e){var t,n=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(n.s();!(t=n.n()).done;)t.value.isSelected=e}catch(r){n.e(r)}finally{n.f()}}},{key:"doSomething",value:function(e){this.configData=e}},{key:"questionAttempted",value:function(e){var t=this.manipulation(e),n=JSON.parse(JSON.stringify(this.attemptedOption));n=this.attemptedOption[0].options.length>0?this.chnageAttemptObj(n):[],this.setSelectOptionCounter(this.attemptedOption[0].options.length),this.updateOptState();var r={event:"onOptClick",attemptedOption:n,marksObtained:t,qState:this.questionCtrl.getQuestState()};this.questAttempted.emit(this.getDispatchObj(r))}},{key:"getCorrectOptionCount",value:function(e){var t,n=0,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;1===o.isCorrect&&(n++,r.push(o.value))}}catch(s){i.e(s)}finally{i.f()}return this.questionCtrl.setCorrectOptions(r),n}},{key:"manipulation",value:function(e){return this.updateUserAttempted(e),this.selectedOption=e,this.questionCtrl.setcurrentQuestFeedback(e.isCorrect),this.questionCtrl.setQueState(this.getQValidate("onStateChange")),this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted")),this.computeAttemptedMarks()}},{key:"onStateChange",value:function(e,t){this.optDisplayPos.includes(t)?this.optDisplayPos.splice(this.optDisplayPos.indexOf(t),1):this.optDisplayPos.push(t);var n=this.manipulation(e),r=JSON.parse(JSON.stringify(this.attemptedOption));r=this.attemptedOption[0].options.length>0?this.chnageAttemptObj(r):[],this.setSelectOptionCounter(this.attemptedOption[0].options.length),this.updateOptState();var i={event:"onOptClick",attemptedOption:r,marksObtained:n,qState:this.questionCtrl.getQuestState()};this.attempted.emit(this.getDispatchObj(i)),this.$onOptClick.next(!0)}},{key:"chnageAttemptObj",value:function(e){var t=this;return e.forEach(function(e){e.qState=t.questionCtrl.getQuestState(),e.correctOptId=t.questionCtrl.getCorrectOptions(),e.optDisplayPos=JSON.parse(JSON.stringify(t.optDisplayPos)),e.parentsQstate=t.questionCtrl.getParentsQState(),e.attemptCount=t.questionCtrl.getAttemptCount(),e.pending=t.questionCtrl.pending,e.confidence=t.questionCtrl.confidence,e.duration=t.questionCtrl.getDuration(),e.timeTaken=t.questionCtrl.timeTaken,e.version=t.questionCtrl.getVersionNumber(),e.marks=t.questionCtrl.getMarks(),e.obtainMarks=t.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(e),e}},{key:"updateOptState",value:function(){this.isOptionRestrict()?this.questionCtrl.onEventTrgger("optionRestriction"):this.questionCtrl.onEventTrgger("optionActivation")}},{key:"getMissed",value:function(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}},{key:"updateUserAttempted",value:function(e){e.isSelected?this.addAttemtedOption(e):this.removeAttemtedOption(e),this.questionCtrl.setAttemptedOptions(this.attemptedOption)}},{key:"computeAttemptedMarks",value:function(){var e=this,t=this.attemptedOption[0].options.length>0?this.attemptedOption[0].options.map(function(t){return e.getOptionById(t)}).reduce(function(e,t){return e+t}):0;return this.questionCtrl.setObtainScore(t),t}},{key:"getOptionById",value:function(e){var t,n=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r.value)return r.score}}catch(i){n.e(i)}finally{n.f()}return 0}},{key:"changeAttemptCount",value:function(e){2===e.length&&this.questionCtrl.changeMaxAttempt(1)}},{key:"addAttemtedOption",value:function(e){this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOption)),this.addAttemptedOptionNoCommon(e)}},{key:"addAttemptedOptionNoCommon",value:function(e){-1===this.attemptedOption[0].options.indexOf(e.value)&&this.attemptedOption[0].options.push(e.value)}},{key:"removeAttemtedOption",value:function(e){this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOption));var t=this.attemptedOption[0].options.indexOf(e.value);this.attemptedOption[0].options.splice(t,1)}},{key:"getQValidate",value:function(e){for(var t=[],n=this.getValidationArr(this.quizData[0].data),r=n.reduce(function(e,t){return e+t},0),i=n.length-r,o=0;o<this.attemptedOption[0].options.length;o++){var s=this.getIndexByOption(this.attemptedOption[0].options[o]);t.push(1===n[s]?i+1:-1)}var a=t.reduce(function(e,t){return e+t},0),u=r*(i+1),c=Math.ceil(a/u);return c<0&&(c=0),(Math.floor(a/u)+1)*c}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"getIndexByOption",value:function(e){return this.quizData[0].data.options.findIndex(function(t){return t.value===e})}},{key:"getValidationArr",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e.options);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.isCorrect)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"subscribeEvent",value:function(){}},{key:"onOptionAttempted",value:function(e){this.attempted.emit(e)}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"cloasemodal",value:function(){this.showattachment=!1}},{key:"showAttachment",value:function(){this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"setTotalCorrectOptionCount",value:function(e){this.totalCorrectOptionCount=e}},{key:"setSelectOptionCounter",value:function(e){this.selectOptionCounter=e}},{key:"isOptionRestrict",value:function(){return this.totalCorrectOptionCount<=this.selectOptionCounter}},{key:"getDispatchObj",value:function(e){var t=this;return e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.timeTaken=this.questionCtrl.timeTaken,e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore(),e.attemptedOption.forEach(function(n){n.timeTaken=Object(w.cloneDeep)(e.timeTaken),n.idleTime=Object(w.cloneDeep)(t.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",e.attemptedOption),e}},{key:"ngOnDestroy",value:function(){try{this.eventsSubscription.unsubscribe(),this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null),this.$onOptClick.next(null)}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||nu)(s.Qb(fu),s.Qb(pu),s.Qb(s.A),s.Qb(T.b))},nu.\u0275cmp=s.Kb({type:nu,selectors:[["tce-mcq"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questAttempted:"questAttempted",selectedOptionEvent:"selectedOptionEvent",userAttempt:"userAttempt",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"mainOptionBox"],[3,"url",4,"ngIf"],[3,"option","index","$resetScreen","configData","ngClass","stateChange",4,"ngFor","ngForOf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[3,"url"],["pic",""],[3,"option","index","$resetScreen","configData","ngClass","stateChange"]],template:function(e,t){1&e&&s.Hc(0,oi,27,12,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,Mu,Ru,a.k,Lu,_r,Iu]},styles:[".mainOptionBox[_ngcontent-%COMP%]{position:relative}.mainOptionBox[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;display:none}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .mcq .mcqInput, [_nghost-%COMP%]     .showFeedback .feedbackBox{display:block}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}"]}),nu),mu=((tu=function(){function e(t,n){_classCallCheck(this,e),this.resolver=t,this.rendererFactory=n,this.renderer=this.rendererFactory.createRenderer(null,null)}return _createClass(e,[{key:"createComponent",value:function(e,t,n,r,i,o,s){this.entryContainer=e;var a=this.resolver.resolveComponentFactory(r);this.componentRef=this.entryContainer.createComponent(a),this.componentRef.instance.quizData=t,this.componentRef.instance.configData=n,this.componentRef.instance.mode=i,this.componentRef.instance.$showCorrectAns=o,this.componentRef.instance.$resetScreen=s}},{key:"getComponentRef",get:function(){return this.componentRef}},{key:"clear",value:function(){this.entryContainer.clear()}},{key:"destroyComponent",value:function(){this.componentRef.destroy()}}]),e}()).\u0275fac=function(e){return new(e||tu)(s.cc(s.j),s.cc(s.F))},tu.\u0275prov=Object(s.Mb)({factory:function(){return new tu(Object(s.cc)(s.j),Object(s.cc)(s.F))},token:tu,providedIn:"root"}),tu),yu=((eu=function(){function e(t,n){_classCallCheck(this,e),this.questionCtrl=t,this.modalService=n,this.attempted=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.questAttempted=new s.n,this.check=!1,this.config={pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1.1,spaceBetween:0},this.que=[],this.qCounter=1,this.attemp=!1,this.hideContinue=!0,this.showattachment=!1,this.isSolution=!1,this.configData={},this._marksObtained=[],this.userAttempted=[],this._attemptedOps=[],this.destroy$=new v.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.intializeEvent()}},{key:"quizData",get:function(){return this._quizData},set:function(e){console.log("\ud83d\ude80 ~ file: composite-steps.component.ts ~ line 75 ~ CompositeStepsComponent ~ @Input ~ value",JSON.parse(JSON.stringify(e))),this._quizData=e,this.intiQuizData()}},{key:"intiQuizData",value:function(){this.qCounter=1,this.questionCtrl.pending=this.quizData.length-this.qCounter,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:this.qCounter,totalSubQ:this.quizData.length-1,marks:this.questionCtrl.getMarks()}),this.configData=this.quizData[0].style,this.que=[this.quizData[this.qCounter]],this.questionCtrl.setConfigData(this.que[0].style),this.check=!0,this.que[0].attachment&&(this.attachment=this.que[0].attachment.data),this.instructionData={data:"Let\u2019s break this question into smaller steps.",intructionStyle:""},this.solutionStrtegiesData={data:this.quizData[0].solutionStrategies}}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e,this.userAttempted=Object(w.cloneDeep)(this.attemptedOps),this.getCurrentAttemptedQ()}},{key:"getCurrentAttemptedQ",value:function(){var e;this.questionCtrl.timeStamp=(new Date).getTime();var t=this.getCurrSubQ();return null!==t&&(null==t?void 0:t.options.length)>0?(this.attemptedOption=null!=t?[t]:[],this.questionCtrl.spendTime=null!=t?null!==(e=t.timeTaken)&&void 0!==e?e:t.timeTaken=0:0,console.log("attemptedOption",this.attemptedOption)):(this.attemptedOption=[],this.questionCtrl.spendTime=0),this.attemptedOption}},{key:"getCurrSubQ",value:function(){var e=null;return this.attemptedOps&&this.attemptedOps.length>0&&(e=this.attemptedOps[this.qCounter-1]),e}},{key:"setQuestionIndex",value:function(){}},{key:"createNotAttemptedOptionStructure",value:function(){for(var e=0,t=0;t<this.userAttempted.length;t++)this.userAttempted[t]?(void 0===this.userAttempted[t].marksObtained&&(this.userAttempted[t].marksObtained=0),e+=this.userAttempted[t].marksObtained):this.userAttempted[t]={qid:this.quizData[this.qCounter-1].questionID,options:[]};this.questionCtrl.setObtainScore(e)}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"intializeEvent",value:function(){var e=this;this.$nextSubQ&&this.$nextSubQ.subscribe(function(t){t?e.previousSate(t):e.continue()})}},{key:"attemptCountAsSubscriber",value:function(){var e=this;this.questionCtrl.attemptCountAsbroadcaster(null),Object(w.delay)(function(){e.questionCtrl.attemptCountAsSubscriber().pipe(Object(O.a)(e.destroy$)).subscribe(function(t){console.log("CompositeStepsComponent -> intializeEvent -> val",t),null!==t&&e.userAttempted.length>0&&(e.userAttempted=Object(w.cloneDeep)(e.userAttempted),e.userAttempted[e.qCounter-1].attemptCount=e.questionCtrl.attempt_count,console.log("CompositeStepsComponent -> intializeEvent -> this.userAttempted",e.userAttempted),e.questionCtrl.setAttemptedOptions(e.userAttempted))})},20)}},{key:"continue",value:function(){this.attemp=!1,this.check=!1,this.qCounter++,this.qCounter<this.quizData.length&&(this.questionCtrl.onEventTrgger("nextQuest"),this.resetParam(),this.getCurrentAttemptedQ(),console.log(" totalSubQ:this.quizData.length-1",this.quizData.length-1,this.attemptedOps),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:this.qCounter,totalSubQ:this.quizData.length-1,marks:this.questionCtrl.getMarks()}),this.que=[Object(w.cloneDeep)(this.quizData[this.qCounter])],this.reset(),this.questionCtrl.setConfigData(this.que[0].style),this.que[0].nextState=!0,this.que[0].attachment&&(this.attachment=this.que[0].attachment.data),this.instructionData={data:"Let\u2019s break this question into smaller steps.",intructionStyle:""})}},{key:"loadQuestion",value:function(e){}},{key:"questLoaded",value:function(e){console.log("CompositeStepsComponent -> questLoaded -> event",e),console.log(" totalSubQ:this.quizData.length-1",this.quizData.length-1),this.triggerPrefix(),this.attemptCountAsSubscriber()}},{key:"triggerPrefix",value:function(){var e=this.getCurrentAttemptedQ();console.log("CompositeStepsComponent -> triggerPrefix -> attemptedCurOpt",e),(0===e.length||0==e[0].options.length)&&this.questionCtrl.onEventTrgger("mode_"+this.mode+"_-1")}},{key:"getQData",value:function(e){var t=[];return t.push(e),t}},{key:"resetParam",value:function(){this.questionCtrl.pending=this.quizData.length-this.qCounter,this.hideContinue=!1,this.questionCtrl.attempt_count=0,this.questionCtrl.questionState=0,this.questionCtrl.resetMAXAttempt(),this.questionCtrl.resetTime()}},{key:"onAttempt",value:function(e){this.attemp=!0;var t=Object(w.cloneDeep)(e);this.questionCtrl.setQueState(t.qState),t.attemptedOption.length>0?(this._attemptedOps=Object(w.cloneDeep)(this._attemptedOps),this._attemptedOps[this.qCounter-1]=t.attemptedOption[0],this.userAttempted=Object(w.cloneDeep)(this.userAttempted),this.userAttempted[this.qCounter-1]=t.attemptedOption[0],this.userAttempted[this.qCounter-1].version=this.questionCtrl.getVersionNumber(),this.userAttempted[this.qCounter-1].attemptCount=this.questionCtrl.getAttemptCount(),this.userAttempted[this.qCounter-1].pending=this.questionCtrl.pending,this.userAttempted[this.qCounter-1].status=this.questionCtrl.getQuestState(),this.userAttempted[this.qCounter-1].marksObtained=t.marksObtained,console.log("CompositeStepsComponent -> onAttempt -> userAttempted",this.userAttempted)):(this.userAttempted=Object(w.cloneDeep)(this.userAttempted),this._attemptedOps=Object(w.cloneDeep)(this._attemptedOps),this.userAttempted[this.qCounter-1].options=[],this.userAttempted[this.qCounter-1].status=this.questionCtrl.getQuestState(),this.userAttempted[this.qCounter-1].marksObtained=t.marksObtained,this._attemptedOps[this.qCounter-1]=this.userAttempted[this.qCounter-1]),this.createNotAttemptedOptionStructure(),console.log("CompositeStepsComponent -> onAttempt -> attempOpt",t),this.questionCtrl.setParentsQState(this.getQValidate()),this.questionCtrl.setAttemptedOptions(this.userAttempted),this.attempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:this.userAttempted}))}},{key:"reset",value:function(){var e,t=_createForOfIteratorHelper(this.que[0].data.options);try{for(t.s();!(e=t.n()).done;)e.value.isSelected=!1}catch(n){t.e(n)}finally{t.f()}}},{key:"attemptedQuest",value:function(e){var t=Object(w.cloneDeep)(e);t.attemptedOption.length>0?(this.attemptedOps[this.qCounter-1]=t.attemptedOption[0],this.userAttempted=Object(w.cloneDeep)(this.userAttempted),this.userAttempted[this.qCounter-1]=t.attemptedOption[0],this.userAttempted[this.qCounter-1].version=this.questionCtrl.getVersionNumber(),this.userAttempted[this.qCounter-1].attemptCount=this.questionCtrl.getAttemptCount(),this.userAttempted[this.qCounter-1].pending=this.questionCtrl.pending,this.userAttempted[this.qCounter-1].status=this.questionCtrl.getQuestState(),this.userAttempted[this.qCounter-1].marksObtained=t.marksObtained,console.log("CompositeStepsComponent -> onAttempt -> userAttempted",this.userAttempted)):(this.userAttempted=Object(w.cloneDeep)(this.userAttempted),this.userAttempted[this.qCounter-1].options=[],this.userAttempted[this.qCounter-1].status=this.questionCtrl.getQuestState(),this.userAttempted[this.qCounter-1].marksObtained=t.marksObtained),this.createNotAttemptedOptionStructure(),this.questionCtrl.setQueState(t.qState),console.log("CompositeStepsComponent -> onAttempt -> attempOpt",t),this.questionCtrl.setParentsQState(this.getQValidate()),this.questionCtrl.setAttemptedOptions(this.userAttempted),this.questAttempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:this.userAttempted}))}},{key:"getQValidate",value:function(){var e=0;console.log("CompositeStepsComponent -> getQValidate -> this.userAttempted",this.userAttempted);var t,n=_createForOfIteratorHelper(this.userAttempted);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.status&&(e+=r.status)}}catch(o){n.e(o)}finally{n.f()}var i=e/(2*(this.quizData.length-1));return 1===i?2:0===i?0:1}},{key:"updateState",value:function(e){this.quizData[this.qCounter].questionState=this.questionCtrl.questionState}},{key:"cloasemodal",value:function(){this.showattachment=!1}},{key:"showAttachment",value:function(){this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"previousSate",value:function(e){this.qCounter=e,this.qCounter<this.quizData.length&&(this.resetParam(),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:this.qCounter,totalSubQ:this.quizData.length-1,marks:this.questionCtrl.getMarks()}),this.que=[Object(w.cloneDeep)(this.quizData[this.qCounter])],this.reset(),this.que[0].nextState=!0,this.questionCtrl.setConfigData(this.que[0].style),this.getCurrentAttemptedQ(),this.que[0].attachment&&(this.attachment=this.que[0].attachment.data),this.instructionData={data:"Let\u2019s break this question into smaller steps.",intructionStyle:""})}},{key:"getDispatchObj",value:function(e){e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore();var t=e.attemptedOption[this.qCounter-1];return t.timeTaken=Object(w.cloneDeep)(this.questionCtrl.timeTaken),t.idleTime=Object(w.cloneDeep)(this.questionCtrl.getIdleTime()),e.timeTaken=e.attemptedOption.map(function(e){return e.timeTaken}).reduce(function(e,t){return e+t},0),console.log("\ud83d\ude80 ~ file: composite-steps.component.ts ~ line 439 ~ CompositeStepsComponent ~ getDispatchObj ~ obj.timeTaken",e.timeTaken),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",e),e}},{key:"ngOnDestroy",value:function(){try{this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null)}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||eu)(s.Qb(fu),s.Qb(T.b))},eu.\u0275cmp=s.Kb({type:eu,selectors:[["tce-composite-steps"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$nextSubQ:"$nextSubQ",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad",questAttempted:"questAttempted"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox","questionBoxTop"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],["class","d-none",3,"message","showSolution",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[1,"tce-solution-strategies"],["class","tce-instructions instruction-attempnt text-center qsn-instructions",3,"solutionStrtegiesData",4,"ngIf"],[1,"tce-instructions","instruction-attempnt","text-center","qsn-instructions","quest-intro",3,"instructionData"],[1,"instruction-attempnt","text-center","pendingAttemptMsgBox"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"qsn-opsns-box"],[1,"navigation"],[4,"ngFor","ngForOf"],[1,"swiper-wrapper"],[1,"swiper-slide"],["class","comp-sub-qsn",3,"$showCorrectAns","$resetScreen","$iDontknw","quizData","attemptedOps","configData","mode","questAttempted","questLoad","attempted",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[1,"d-none",3,"message","showSolution"],[3,"solutionData","closeModel"],[1,"tce-instructions","instruction-attempnt","text-center","qsn-instructions",3,"solutionStrtegiesData"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],[1,"comp-sub-qsn",3,"$showCorrectAns","$resetScreen","$iDontknw","quizData","attemptedOps","configData","mode","questAttempted","questLoad","attempted"]],template:function(e,t){1&e&&s.Hc(0,gi,37,18,"div",0),2&e&&s.oc("ngIf",t.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,Mu,Ru,a.k,Lu,_u,xu,Su,vu]},styles:['[_nghost-%COMP%]     .composite tce-instructions>div{font-style:italic;padding:10px 0;font-weight:700}[_nghost-%COMP%]     .composite tce-instructions .ql-editor{padding:0}[_nghost-%COMP%]     .composite tce-solution-strategies div{background-color:#dcdcdc;padding:10px}[_nghost-%COMP%]     .composite tce-solution-strategies div li{margin-bottom:10px}[_nghost-%COMP%]     .composite tce-solution-strategies div li:last-child{margin-bottom:0}[_nghost-%COMP%]     .composite tce-solution-strategies .ql-editor{padding:0}[_nghost-%COMP%]     .composite tce-scq .pretty.p-curve .state label:after, [_nghost-%COMP%]     .composite tce-scq .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .composite tce-scq .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .composite .subQWrapper{position:relative}[_nghost-%COMP%]     .composite .subQWrapper .swiper-pagination{position:relative;margin:10px}[_nghost-%COMP%]     .composite .subQWrapper .swiper-pagination .swiper-pagination-bullet{background-color:#3fcaaa;margin:2px;padding:2px;width:12px;height:12px}.composite-nav-disable[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;list-style:none}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:25px;width:25px;border:2px solid #989898;border-radius:50px;margin:0 5px}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#1268b3;border-color:#1268b3}[_nghost-%COMP%]    .print .swiper-pagination{display:none}[_nghost-%COMP%]    .print .swiper-container{pointer-events:none}[_nghost-%COMP%]    .print .swiper-container .swiper-wrapper{display:block}[_nghost-%COMP%]    .print .swiper-container .swiper-wrapper .swiper-slide{width:100%;margin-right:0;margin-bottom:20px}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}.BigIdea[_ngcontent-%COMP%]   .continueBt[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.BigIdea[_ngcontent-%COMP%]   .masterQFeed[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center}tce-quest-feedback[_ngcontent-%COMP%]{display:none}']}),eu),bu=((Ja=function(){function e(t,n){_classCallCheck(this,e),this.questionCtrl=t,this.modalService=n,this.attempted=new s.n,this.change=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.question=[],this.optionHolder=[],this.currQuestion=[],this.isSolution=!1,this.attachment="",this.showattachment=!1,this.draggable={data:"myDragData",effectAllowed:"all",disable:!1,handle:!1},this.fibAttemptesOpt=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.solution=this.quizData[0].solution,this.attachment=this.quizData[0].attachment.data;var t=this.quizData[0].data.stimulus.split("####");this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this.quizData.length}),t.pop(),t.forEach(function(t){e.question.push({questions:t})}),this.userAttempted=JSON.parse(JSON.stringify(this.attemptedOps)),this.checkAttemptedOps()}},{key:"checkAttemptedOps",value:function(){var e;console.log("attemptedOps",this.attemptedOps),this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?this.updateAttemptedOption():this.attemptedOption=[]}},{key:"updateAttemptedOption",value:function(){for(var e=this,t=function(t){var n=e.quizData[0].data.blanks[t];console.log("currQ",n);for(var r=function(r){n.options.forEach(function(n){n.value==e.attemptedOps[r].options[0]&&(n.isSelected=!0,e.question[t].attemptedOptions=[],e.question[t].attemptedOptions.push(n))})},i=0;i<e.attemptedOps.length;i++)r(i)},n=0;n<this.question.length;n++)t(n)}},{key:"getCurrentAttemptedQ",value:function(e){var t;if(this.attemptedOps&&this.attemptedOps.length>0&&(null===(t=this.attemptedOps[0])||void 0===t?void 0:t.options.length)>0){var n=this.attemptedOps[e];this.attemptedOption=null!=n?[n]:[]}else this.attemptedOption=[]}},{key:"onStateChange",value:function(e){console.log(e)}},{key:"getQValidate",value:function(){for(var e=[],t=this.getValidationArr(this.quizData[0].data),n=0;n<this.quizData[0].data.options.length;n++)e.push(this.quizData[0].data.options[n].isSelected&&1===t[n]?1:0);var r=e.reduce(function(e,t){return e+t},0),i=t.reduce(function(e,t){return e+t},0),o=Math.ceil(r/i);return(Math.floor(r/i)+1)*o}},{key:"getValidationArr",value:function(e){var t=[];console.log(e);var n,r=_createForOfIteratorHelper(e.options);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(i.isCorrect)}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"updateAttempt",value:function(e){console.log("opt",e);var t=this.quizData[0].attemptedOptions.indexOf(e);-1===t?this.quizData[0].attemptedOptions.push(e):this.quizData[0].attemptedOptions.splice(t,1)}},{key:"onShowSolution",value:function(){this.isSolution=!0}},{key:"openComponent",value:function(e){this.currentindex=e,console.log("cuu--",this.currQuestion.options),this.currQuestion=this.quizData[0].data.blanks[e],this.metadata=this.quizData[0].metadata,console.log(this.currQuestion),this.modifiedDataStructure=[{questionID:this.currQuestion.blankId,data:{options:this.currQuestion.options},metadata:this.metadata}],this.getCurrentAttemptedQ(e),console.log("modified",this.modifiedDataStructure)}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"onchange",value:function(){}},{key:"optionClickEvent",value:function(e){this.userAttempted=JSON.parse(JSON.stringify(this.userAttempted)),this.userAttempted[this.currentindex]=e.attemptedOption[0],this.markFibOpt(e.attemptedOption[0].options[0]),this.attempted.emit({event:"onOptClick",attemptedOption:this.userAttempted})}},{key:"getEventOption",value:function(){}},{key:"markFibOpt",value:function(e){var t=this;this.currQuestion.options.forEach(function(n){n.value==e&&(t.question[t.currentindex].attemptedOptions=[],t.question[t.currentindex].attemptedOptions.push(n))})}},{key:"cloasemodal",value:function(){console.log("ds"),this.showattachment=!1}},{key:"showAttachment",value:function(){console.log(this.solution),this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"ngOnDestroy",value:function(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe()}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||Ja)(s.Qb(fu),s.Qb(T.b))},Ja.\u0275cmp=s.Kb({type:Ja,selectors:[["tce-fib"]],inputs:{quizData:"quizData",configData:"configData",mode:"mode",attemptedOps:"attemptedOps",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",change:"change",submited:"submited",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","mainOptionBox"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[1,"fibWrapper"],[4,"ngFor","ngForOf"],["class","vjs-notes-btn",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"qsn-instructions",3,"instructionData"],[1,"instruction-attempnt","text-center","pendingAttemptMsgBox"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"qsn-opsns-box"],[3,"quizData","attemptedOps","configData","mode","$resetScreen","$showCorrectAns","$iDontknw","attempted",4,"ngIf"],[3,"quizData","configData","mode","$resetScreen","$iDontknw","$showCorrectAns","attempted","change",4,"ngIf"],[3,"message","showSolution",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"tce-quill-view",3,"content"],[1,"tce-instructions","quest-intro",3,"instructionData"],[1,"bucket",3,"click"],[3,"option","configData","ngClass","index","onClickEvent","stateChange",4,"ngFor","ngForOf"],[3,"option","configData","ngClass","index","onClickEvent","stateChange"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[3,"message","solutionData","showSolution"],[3,"quizData","attemptedOps","configData","mode","$resetScreen","$showCorrectAns","$iDontknw","attempted"],[3,"quizData","configData","mode","$resetScreen","$iDontknw","$showCorrectAns","attempted","change"],[3,"message","showSolution"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(e,t){1&e&&s.Hc(0,Pi,33,19,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,a.k,Ru,Yu,Iu,Lu,Su,wu,_u,gu]},styles:['[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .fib tce-scq .questionFeedback, [_nghost-%COMP%]     .fib tce-subjective .questionFeedback{display:none}[_nghost-%COMP%]     .fib .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper{border:none!important;margin:0;padding:0 5px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .optionBox{margin-top:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .state.p-primary-o{display:none}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .pretty{margin-right:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox{position:absolute;padding:10px;background-position:0 0;background-size:25px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox .tce-quill-view{display:none}.fibWrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.bucket[_ngcontent-%COMP%]{border-bottom:1px dashed #000;min-width:50px;cursor:pointer;min-height:25px}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}[_nghost-%COMP%]     .horizontal .pendingAttemptMsgBox{display:none}']}),Ja),Eu=((Za=function(){function e(t,n,r){_classCallCheck(this,e),this.questionCtrl=t,this.modalService=n,this.utility=r,this.attempted=new s.n,this.change=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.question=[],this.isSolution=!1,this.attachment="",this.showattachment=!1,this.destroy$=new v.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.initEvent()}},{key:"quizData",get:function(){return this._quizData},set:function(e){this._quizData=e,this.getCorrectOptionCount(this.quizData),this.blankGenerator(),this.checkShuffle()}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e}},{key:"getCorrectOptionCount",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i,o=_createForOfIteratorHelper(t.value.data.options);try{for(o.s();!(i=o.n()).done;){var s=i.value;1===s.isCorrect&&s.value&&n.push(s.value)}}catch(a){o.e(a)}finally{o.f()}}}catch(a){r.e(a)}finally{r.f()}this.questionCtrl.setCorrectOptions(n)}},{key:"blankGenerator",value:function(){var e,t=this;this.question=[],this.solution=this.quizData[0].solution,this.attachment=this.quizData[0].attachment.data;var n=this.ExtractElementByIdFromString(this.quizData[0].data.questionData).split("####");this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:1,marks:this.questionCtrl.getMarks()}),this.changeAttemptCount(this.quizData)," "!==n[n.length-1]&&""!==n[n.length-1]||n.pop(),n.forEach(function(e){t.question.push({questions:e})}),this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0&&(this.attemptedOption=this.attemptedOps,this.checkAttempted())}},{key:"setValueInOpt",value:function(e){if(e.atempted||"preview"!==this.mode&&!this.getMissed())return!0;e.data.options.forEach(function(e){if(1===e.isCorrect)return!1})}},{key:"checkAttempted",value:function(){for(var e,t=0;t<this.quizData.length;t++){var n,r=this.quizData[t],i=_createForOfIteratorHelper(this.attemptedOps);try{for(i.s();!(n=i.n()).done;){var o=n.value;this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),r.questionID==o.qid&&this.fetchAttempted(t,o)}}catch(s){i.e(s)}finally{i.f()}}this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0&&this.validationBlank(),this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState)}},{key:"fetchAttempted",value:function(e,t){for(var n=0;n<this.quizData[e].data.options.length;n++){var r,i=this.quizData[e].data.options[n],o=_createForOfIteratorHelper(t.options);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.value==s&&(this.quizData[e].atempted=this.quizData[e].data.options[n])}}catch(a){o.e(a)}finally{o.f()}}}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset()}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()}),this.$iDontknw.subscribe(function(t){e.questionCtrl.onEventTrgger("iDontKnow"),e.showAnswer()}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(O.a)(this.destroy$)).subscribe(function(t){if(console.log("ScqComponent -> initEvent -> val",t),null!==t&&e.attemptedOption){var n=JSON.parse(JSON.stringify(e.attemptedOption));n=e.chnageAttemptObj(n)}})}},{key:"getLabel",value:function(e){return e.replace(/(<([^>]+)>)/gi,"")}},{key:"reset",value:function(){var e,t=_createForOfIteratorHelper(this.quizData);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.atempted&&delete n.atempted,n.data.options){var r,i=_createForOfIteratorHelper(n.data.options);try{for(i.s();!(r=i.n()).done;)r.value.isSelected=!1}catch(o){i.e(o)}finally{i.f()}}}}catch(o){t.e(o)}finally{t.f()}}},{key:"changeAttemptCount",value:function(e){this.questionCtrl.changeMaxAttempt(1)}},{key:"checkShuffle",value:function(){this.quizData[0].data.metadata&&this.quizData[0].data.metadata.shuffle&&this.shuffleOptions()}},{key:"shuffleOptions",value:function(){for(var e=1;e<this.quizData.length;e++)this.utility.shuffle(this.quizData[e].data.options)}},{key:"showAnswer",value:function(){var e,t=0,n=_createForOfIteratorHelper(this.quizData);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.data.options){var i,o=_createForOfIteratorHelper(r.data.options);try{for(o.s();!(i=o.n()).done;){var s=i.value;1==s.isCorrect&&(this.quizData[t].atempted=s)}}catch(a){o.e(a)}finally{o.f()}}t++}}catch(a){n.e(a)}finally{n.f()}}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"cloasemodal",value:function(){this.showattachment=!1}},{key:"splitQuestion",value:function(e){var t=e.split(" ");return t=t.filter(function(e){return""!==e})}},{key:"showAttachment",value:function(){this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"onAttempt",value:function(e){var t,n=[],r=0,i=_createForOfIteratorHelper(this.quizData);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.atempted&&(n.push({qid:o.questionID,options:[o.atempted.value],correctOptId:this.questionCtrl.getCorrectOptions()[o.questionID],optDisplayPos:[o.data.options.indexOf(o.atempted)]}),r+=o.atempted.score)}}catch(a){i.e(a)}finally{i.f()}this.questionCtrl.setObtainScore(r),this.attemptedOption=n,this.validationBlank();var s=JSON.parse(JSON.stringify(this.attemptedOption));s=this.chnageAttemptObj(s),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 279 ~ FibDropDownComponent ~ onAttempt ~ obj",s),this.attempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:s}))}},{key:"validationBlank",value:function(){var e,t=[],n=_createForOfIteratorHelper(this.quizData);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.data.options&&r.atempted){var i=this.getQValidate(r.data);t.push(i)}}}catch(a){n.e(a)}finally{n.f()}var o=t.reduce(function(e,t){return e+t},0),s=o/(this.quizData.length-1);s>0&&s<1&&(s=1),this.questionCtrl.setQueState(Math.floor(s)),this.questionCtrl.setParentsQState(Math.floor(s)),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 314 ~ FibDropDownComponent ~ validationBlank ~ this.quizData.length - 1",this.quizData.length-1),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 313 ~ FibDropDownComponent ~ totalCorrect ~ totalCorrect",o),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 314 ~ FibDropDownComponent ~ validationBlank ~ isCorrect",s),console.log("\ud83d\ude80 ~ file: fib-drop-down.component.ts ~ line 304 ~ FibDropDownComponent ~ validationBlank ~ confidenceValue",t)}},{key:"getQValidate",value:function(e){for(var t=[],n=this.getValidationArr(e),r=n.reduce(function(e,t){return e+t},0),i=n.length-r,o=0;o<this.attemptedOption.length;o++){var s=this.getIndexByOption(e,this.attemptedOption[o]);t.push(1===n[s]?i+1:0)}var a=t.reduce(function(e,t){return e+t},0),u=r*(i+1),c=Math.ceil(a/u);return c<0&&(c=0),(Math.floor(a/u)+1)*c}},{key:"getMissed",value:function(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}},{key:"getIndexByOption",value:function(e,t){return e.options.findIndex(function(e){return e.value===t.options[0]})}},{key:"fibOptionFeedBack",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(1===r.isCorrect)return r.label}}catch(i){n.e(i)}finally{n.f()}}},{key:"getValidationArr",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e.options);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.isCorrect)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"ExtractElementByIdFromString",value:function(e){var t=document.createElement("div");t.innerHTML=e;var n,r=t.innerHTML,i=_createForOfIteratorHelper(t.getElementsByClassName("fibBlank"));try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.replace(o.outerHTML,"####")}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"chnageAttemptObj",value:function(e){var t=this;return e.forEach(function(e){e.qState=t.questionCtrl.getQuestState(),e.correctOptId=t.questionCtrl.getCorrectOptions(),e.parentsQstate=t.questionCtrl.getParentsQState(),e.attemptCount=t.questionCtrl.getAttemptCount(),e.pending=t.questionCtrl.pending,e.confidence=t.questionCtrl.confidence,e.duration=t.questionCtrl.getDuration(),e.timeTaken=t.questionCtrl.timeTaken,e.version=t.questionCtrl.getVersionNumber(),e.marks=t.questionCtrl.getMarks(),e.obtainMarks=t.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(e),e}},{key:"getDispatchObj",value:function(e){var t=this,n=this.questionCtrl.timeTaken;return e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.timeTaken=n+this.questionCtrl.timeTaken,e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore(),e.attemptedOption.forEach(function(n){n.timeTaken=Object(w.cloneDeep)(e.timeTaken),n.idleTime=Object(w.cloneDeep)(t.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",e.attemptedOption),e}},{key:"ngOnDestroy",value:function(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||Za)(s.Qb(fu),s.Qb(T.b),s.Qb(pu))},Za.\u0275cmp=s.Kb({type:Za,selectors:[["nx-afs-fib-drop-down"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",change:"change",submited:"submited",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box","mainOptionBox"],[1,"fibWrapper"],[4,"ngFor","ngForOf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],["class","tce-quill-view",3,"content",4,"ngFor","ngForOf"],["class","optionSelection",3,"ngClass",4,"ngIf"],[1,"tce-quill-view",3,"content"],[1,"optionSelection",3,"ngClass"],["class","custom-select",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["other_content",""],[1,"feedbackBox"],[1,"tick-icon"],["class","feedbackText",3,"innerHTML",4,"ngIf"],[1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"custom-select"],[3,"ngValue","selected",4,"ngFor","ngForOf"],[3,"ngValue","selected"],[1,"feedbackText",3,"innerHTML"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(e,t){1&e&&s.Hc(0,Wi,29,13,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,Mu,Ru,a.k,Lu,Yu,c.i,c.f,c.g,c.h,c.j,_u,gu]},styles:['[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .fib tce-scq .questionFeedback, [_nghost-%COMP%]     .fib tce-subjective .questionFeedback{display:none}[_nghost-%COMP%]     .fib .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper{border:none!important;margin:0;padding:0 5px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .optionBox{margin-top:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .state.p-primary-o{display:none}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .pretty{margin-right:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox{position:absolute;padding:10px;background-position:0 0;background-size:25px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox tce-quiz-quill-view{display:none}.fibWrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.fibWrapper[_ngcontent-%COMP%]   tce-quiz-quill-view[_ngcontent-%COMP%]{margin-right:4px}.fibWrapper[_ngcontent-%COMP%]   .questBox[_ngcontent-%COMP%]{display:flex;align-items:center}.bucket[_ngcontent-%COMP%]{border-bottom:1px dashed #000;min-width:50px;cursor:pointer;min-height:25px}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}[_nghost-%COMP%]     .horizontal .pendingAttemptMsgBox{display:none}.optionSelection[_ngcontent-%COMP%]{min-width:90px;width:auto;margin:5px 5px 5px 0;min-height:36px;border:2px solid #cbcbcb;border-radius:1.6rem;background-color:#fff;box-shadow:0 2px 6px 0 hsla(0,0%,86.7%,.8);color:#232323;position:relative;display:flex;align-items:center}.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{background-color:transparent;border:none}.instantFeedback[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]{position:relative}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]{border-color:#f93eba;background-color:#ffe5ec;color:#f93eba;border-radius:0;pointer-events:none}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#f93eba;background-image:none;padding-right:6px;text-decoration:line-through}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}.instantFeedback[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]   .feedbackText[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:700}.instantFeedback[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{position:relative}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]{border-color:#07d600;background-color:#d9f4e7;color:#07d600;opacity:1;pointer-events:none;border-radius:0}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#07d600;background-image:none;padding-right:6px}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}.missed[_ngcontent-%COMP%]{position:relative}.missed.optionSelection[_ngcontent-%COMP%]{border-color:#fc0;background-color:#fff8d9;color:#fc0;opacity:1;pointer-events:none;border-radius:0}.missed.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#fc0;background-image:none;padding-right:6px}.missed.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}.feedbackText[_ngcontent-%COMP%]{display:none}']}),Za),Cu=((Xa=function(){function e(t,n,r){_classCallCheck(this,e),this.questionCtrl=t,this.utility=n,this.modalService=r,this.attempted=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.question=[],this.optionHolder=[],this.isSolution=!1,this.showattachment=!1,this.draggable={data:"myDragData",effectAllowed:"all",disable:!1,handle:!1}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;Object(D.polyfill)({dragImageTranslateOverride:P.scrollBehaviourDragImageTranslateOverride});try{window.addEventListener("touchmove",function(){},{passive:!1})}catch(n){}console.log("atatat",this.attemptedOps),console.log("configData",this.configData),this.solution=this.quizData[0].solution,console.log("quizData",this.quizData),this.attachment=this.quizData[0].attachment.data,this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this.quizData.length}),this.initEvent();var t=this.quizData[0].data.stimulus.split("####");t.pop(),t.forEach(function(t){e.question.push({questions:t,attemptedOptions:[]})}),console.log(this.question),this.getOptions(),this.checkShuffle(),this.checkAttemptedOps()}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"onShowSolution",value:function(){console.log(this.solution),this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"checkShuffle",value:function(){this.quizData[0].metadata.shuffle&&this.shuffleOptions()}},{key:"shuffleOptions",value:function(){this.utility.shuffle(this.optionHolder),console.log("this.quizData[0].data.options",this.quizData[0].data.options)}},{key:"onStateChange",value:function(e){console.log(e),this.questionCtrl.setQueState(this.getQValidate()),this.updateAttempt(e),this.selectedOption=e,this.attempted.emit({event:"onOptClick",data:e})}},{key:"updateAttempt",value:function(e){console.log("opt",e);var t=this.quizData[0].attemptedOptions.indexOf(e);-1===t?this.quizData[0].attemptedOptions.push(e):this.quizData[0].attemptedOptions.splice(t,1)}},{key:"checkAttemptedOps",value:function(){var e;console.log("attemptedOps",this.attemptedOps),this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0&&(console.log("q="),this.updateAttemptedOption())}},{key:"updateAttemptedOption",value:function(){console.log("optt=",this.optionHolder);for(var e=0;e<this.question.length;e++)for(var t=this.attemptedOps[0].options[e],n=0;n<this.optionHolder.length;n++)this.optionHolder[n].value==t&&(this.optionHolder[n].isSelected=!0,this.question[e].attemptedOptions.push(this.optionHolder[n]),this.optionHolder.splice(n,1))}},{key:"setDragMode",value:function(e){this.clickedOpt="",this.clickedOpt=e}},{key:"getQValidate",value:function(){for(var e=[],t=this.getValidationArr(this.quizData[0].data),n=0;n<this.quizData[0].data.options.length;n++)e.push(this.quizData[0].data.options[n].isSelected&&1===t[n]?1:0);var r=e.reduce(function(e,t){return e+t},0),i=t.reduce(function(e,t){return e+t},0),o=Math.ceil(r/i);return(Math.floor(r/i)+1)*o}},{key:"getOptions",value:function(){this.optionHolder=[];for(var e=0;e<this.quizData[0].data.blanks.length;e++){var t=this.quizData[0].data.blanks[e];console.log(t);var n,r=_createForOfIteratorHelper(t.options);try{for(r.s();!(n=r.n()).done;){var i=n.value;console.log(i),i.isSelected=!1,i.index=e,this.optionHolder.push(i)}}catch(o){r.e(o)}finally{r.f()}}this.questionCtrl.getMaxTextLength(this.optionHolder)}},{key:"getValidationArr",value:function(e){var t=[];console.log(e);var n,r=_createForOfIteratorHelper(e.options);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(i.isCorrect)}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"initEvent",value:function(){var e=this;this.$resetScreen&&this.$resetScreen.subscribe(function(t){e.reset()}),this.$showCorrectAns&&this.$showCorrectAns.subscribe(function(t){e.showAnswer()})}},{key:"showAnswer",value:function(){for(var e=0;e<this.quizData[0].data.blanks.length;e++){var t=this.quizData[0].data.blanks[e];console.log(t);var n,r=_createForOfIteratorHelper(t.options);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.index=e,i.isSelected=!0,this.question[e].attemptedOptions.push(i)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"reset",value:function(){this.getOptions();var e,t=_createForOfIteratorHelper(this.question);try{for(t.s();!(e=t.n()).done;)e.value.attemptedOptions=[]}catch(n){t.e(n)}finally{t.f()}}},{key:"onDragged",value:function(e,t){console.log("item onDragged",e);var n=t.indexOf(e);t.splice(n,1)}},{key:"onDrop",value:function(e,t){e.data.isSelected=!0,t.push(e.data),console.log("list",t),console.log("this.quizData",this.quizData),this.attempted.emit({event:"onOptClick"})}},{key:"onDrop1",value:function(e){this.clickedOpt.isSelected=!0,e.push(this.clickedOpt),console.log("list",e),console.log("this.quizData",this.quizData);var t=this.optionHolder.indexOf(this.clickedOpt);this.optionHolder.splice(t,1)}},{key:"getEventOption",value:function(e){console.log("getEventOption:-",e)}},{key:"cloasemodal",value:function(){console.log("ds"),this.showattachment=!1}},{key:"showAttachment",value:function(){console.log(this.solution),this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"ngOnDestroy",value:function(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe()}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||Xa)(s.Qb(fu),s.Qb(pu),s.Qb(T.b))},Xa.\u0275cmp=s.Kb({type:Xa,selectors:[["nx-afs-fib-dnd"]],inputs:{quizData:"quizData",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw",attemptedOps:"attemptedOps"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad"},decls:8,vars:7,consts:[[1,"mainWrapper",3,"ngClass"],[3,"difficultyType"],[3,"bonusStr"],["class","vjs-notes-btn",3,"click",4,"ngIf"],["class","mainOptionBox",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[1,"mainOptionBox"],["alt","",3,"src",4,"ngIf"],[1,"fibWrapper"],[4,"ngFor","ngForOf"],[1,"Options"],["dndEffectAllowed","move",3,"option","configData","ngClass","dndDraggable","dndType","click","dndMoved",4,"ngFor","ngForOf"],[3,"message","solutionData","showSolution",4,"ngIf"],["alt","",3,"src"],[1,"tce-quill-view",3,"content"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"tce-instructions","quest-intro",3,"instructionData"],["dndDropzone","","dndEffectAllowed","move",1,"bucket",3,"click","dndDrop"],["dndEffectAllowed","move",3,"option","configData","ngClass","index","dndDraggable","dndType","onClickEvent","stateChange","dndMoved",4,"ngFor","ngForOf"],["dndEffectAllowed","move",3,"option","configData","ngClass","index","dndDraggable","dndType","onClickEvent","stateChange","dndMoved"],["dndEffectAllowed","move",3,"option","configData","ngClass","dndDraggable","dndType","click","dndMoved"],[3,"message","solutionData","showSolution"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Rb(1,"lib-difficulty-level",1),s.Rb(2,"lib-flag"),s.Rb(3,"lib-bonus",2),s.Hc(4,Gi,3,0,"div",3),s.Hc(5,Xi,7,4,"div",4),s.Hc(6,Zi,1,1,"tce-solutions",5),s.Hc(7,Ji,1,1,"nx-afs-attachment",6),s.Ub()),2&e&&(s.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),s.Db(1),s.oc("difficultyType","medium"),s.Db(2),s.oc("bonusStr",t.questionCtrl.bonusStr),s.Db(1),s.oc("ngIf",t.attachment),s.Db(1),s.oc("ngIf",t.questionCtrl.configData),s.Db(1),s.oc("ngIf",t.isSolution),s.Db(1),s.oc("ngIf",t.showattachment))},directives:function(){return[a.j,Vu,qu,Gu,a.l,a.k,Yu,Ru,Iu,Lu,_u,gu]},styles:['[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .fib .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper{border:none!important;margin:0;padding:0 5px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .optionBox{margin-top:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .state.p-primary-o{display:none}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .pretty{margin-right:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox{position:absolute;padding:10px;background-position:0 0;background-size:25px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox .tce-quill-view{display:none}[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:0;border:none;background-image:url(http://image.flaticon.com/icons/png/512/13/13155.png);background-size:cover;background-repeat:no-repeat}[_nghost-%COMP%]     .fib .mdi-check, [_nghost-%COMP%]     .print label:before{display:none}.fibWrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.fibWrapper[_ngcontent-%COMP%]   .questBox[_ngcontent-%COMP%]   .ql-container[_ngcontent-%COMP%]{font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.bucket[_ngcontent-%COMP%]{padding-left:30px}.sortingBox[_ngcontent-%COMP%]{min-height:50px;display:flex;width:100%;margin-top:10px}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]{width:calc(100% / 2);border:1px solid #cdcdcd;position:relative}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .categoryHeader[_ngcontent-%COMP%]{text-align:center;padding:10px;border-bottom:1px solid #cdcdcd}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]{width:100%;min-height:150px;position:relative}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]   .placeHolder[_ngcontent-%COMP%]{display:none}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]{position:absolute;top:0;margin:0;height:100%}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .categoryHeader[_ngcontent-%COMP%]{display:none}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]{height:100%;position:absolute}.freeFlow[_ngcontent-%COMP%]   .sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]   .placeHolder[_ngcontent-%COMP%]{border-radius:3px;background-color:hsla(0,0%,100%,.6784313725490196);border-bottom:2px dashed #220d0a;position:absolute;pointer-events:all}.bucket[_ngcontent-%COMP%]{border-bottom:1px dashed #000;min-width:50px;cursor:pointer;min-height:25px}.Options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:50px}.Options[_ngcontent-%COMP%]   tce-option[_ngcontent-%COMP%]{margin-right:10px}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}']}),Xa),Ou=((Ya=function(){function e(t,n,r){_classCallCheck(this,e),this.questionCtrl=t,this.utility=n,this.modalService=r,this.attempted=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.optionHolder=[],this.correctSequence=[],this.newquestion=[],this.corectshuffle=[],this.isSolution=!1,this.showattachment=!1,this.counter=0}return _createClass(e,[{key:"ngOnInit",value:function(){Object(D.polyfill)({dragImageTranslateOverride:P.scrollBehaviourDragImageTranslateOverride});try{window.addEventListener("touchmove",function(){},{passive:!1})}catch(e){}this.checkIsSolution(),this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this.quizData.length}),this.initEvent()}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"quizData",get:function(){return this._quizData},set:function(e){this._quizData=e}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e,this.initMatch(),this.checkAttempted()}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset()}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()})}},{key:"drop",value:function(e){var t=this.optionHolder[e.previousIndex];if(t.status=t.value===e.currentIndex?1:0,this.checkIsSelected()==this.optionHolder.length-1)for(var n=0;n<this.optionHolder.length;n++)""===this.optionHolder[n].status&&(this.optionHolder[n].status=this.optionHolder[n].value==n?1:0);this.updateUserAttempted(t,e.currentIndex),this.questionCtrl.setQueState(this.getQValidate());var r=JSON.parse(JSON.stringify(this.attemptedOption));this.attempted.emit({event:"onOptClick",attemptedOption:r}),Le(this.optionHolder,e.previousIndex,e.currentIndex)}},{key:"checkAttempted",value:function(){var e;if(this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0)this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOps)),this.updateAttemptedOption(),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED");else{this.attemptedOption=[];for(var t=0;t<this.quizData[0].data.column.length;t++)this.attemptedOption.push({qid:this.quizData[0].data.column[t].columnId,options:[]})}}},{key:"updateAttemptedOption",value:function(){for(var e=0;e<this.attemptedOption.length;e++)for(var t=0;t<this.optionHolder.length;t++)if(this.attemptedOption[e].qid===this.optionHolder[t].index){var n=this.attemptedOption[e];this.optionHolder[t].status=0==n.options.length?"":n.qid===n.options[0]?1:0}}},{key:"getQValidate",value:function(){for(var e=0,t=0;t<this.attemptedOption.length;t++){var n=this.attemptedOption[t];n.qid===n.options[0]&&e++}return e===this.attemptedOption.length?2:e>0&&e<this.attemptedOption.length?1:0}},{key:"updateUserAttempted",value:function(e,t){this.addAttemtedOption(e,t),this.questionCtrl.setAttemptedOptions(this.attemptedOption)}},{key:"addAttemtedOption",value:function(e,t){for(var n=0;n<this.attemptedOption.length;n++)this.attemptedOption[n].qid===e.index&&(this.attemptedOption[n].options[0]=t)}},{key:"showAnswer",value:function(){var e,t=_createForOfIteratorHelper(this.optionHolder);try{for(t.s();!(e=t.n()).done;){var n=e.value;1===n.isCorrect&&(n.status=1)}}catch(r){t.e(r)}finally{t.f()}}},{key:"reset",value:function(){var e,t=_createForOfIteratorHelper(this.optionHolder);try{for(t.s();!(e=t.n()).done;)e.value.status=""}catch(n){t.e(n)}finally{t.f()}}},{key:"initMatch",value:function(){for(var e=0;e<this.quizData[0].data.column.length;e++){var t,n=_createForOfIteratorHelper(this.quizData[0].data.column[e].options);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.index=e,r.status="",this.optionHolder.push(r)}}catch(u){n.e(u)}finally{n.f()}}this.optionHolder=this.utility.shuffle(this.optionHolder);for(var i=0;i<this.quizData[0].data.column.length;i++){var o,s=_createForOfIteratorHelper(this.quizData[0].data.column[i].options);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.index=i,this.correctSequence.push(a)}}catch(u){s.e(u)}finally{s.f()}}this.verifyshuffle(),this.questionCtrl.getMaxTextLength(this.optionHolder)}},{key:"verifyshuffle",value:function(){var e=this.getwrongshuffle();if(e.wrong.length>1)this.counter<2&&this.reshuffle(e.wrong);else if(1===e.wrong.length){var t=e.wrong[0],n=e.correct[0];this.optionHolder[t.index]=n.value,this.optionHolder[n.index]=t.value}}},{key:"getwrongshuffle",value:function(){for(var e=[],t=[],n=0;n<this.optionHolder.length;n++)this.optionHolder[n].index===n?e.push({index:n,value:this.optionHolder[n]}):t.push({index:n,value:this.optionHolder[n]});return{wrong:e,correct:t}}},{key:"reshuffle",value:function(e){this.counter++;for(var t=this.utility.shuffle(e),n=0;n<t.length;n++)this.optionHolder[e[n].index]=t[n].value;this.verifyshuffle()}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"checkIsSelected",value:function(){for(var e=0,t=0;t<this.optionHolder.length;t++)""!==this.optionHolder[t].status&&e++;return e}},{key:"listOrderChanged",value:function(e){}},{key:"cloasemodal",value:function(){this.showattachment=!1}},{key:"showAttachment",value:function(){this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"ngOnDestroy",value:function(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe()}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||Ya)(s.Qb(fu),s.Qb(pu),s.Qb(T.b))},Ya.\u0275cmp=s.Kb({type:Ya,selectors:[["tce-match"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad"},decls:27,vars:15,consts:[[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"tce-instructions","quest-intro","qsn-instructions",3,"instructionData"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-opsns-box"],["class","mainOptionBox",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"mainOptionBox"],["alt","",3,"src",4,"ngIf"],[1,"matching"],["class","categoryWrapper",4,"ngFor","ngForOf"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],["alt","",3,"src"],[1,"categoryWrapper"],["cdkDrag","",1,"example-box",3,"ngClass"],[3,"option","configData"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"div",4),s.Vb(5,"div",5),s.Rb(6,"lib-difficulty-level",6),s.Rb(7,"lib-flag"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"div",7),s.Vb(9,"div",8),s.Rb(10,"lib-bonus",9),s.Ub(),s.Ub(),s.Vb(11,"div",10),s.Vb(12,"div",8),s.Vb(13,"div",11),s.Rb(14,"tce-question",12),s.Ub(),s.Hc(15,eo,4,0,"div",13),s.Ub(),s.Ub(),s.Ub(),s.Vb(16,"div",14),s.Vb(17,"div",15),s.Vb(18,"div",8),s.Rb(19,"tce-instructions",16),s.Rb(20,"tce-instructions",17),s.Hc(21,to,1,2,"tce-question-feedback",18),s.Ub(),s.Ub(),s.Vb(22,"div",19),s.Vb(23,"div",8),s.Hc(24,oo,6,3,"div",20),s.Ub(),s.Ub(),s.Hc(25,so,1,1,"tce-solutions",21),s.Hc(26,ao,1,1,"nx-afs-attachment",22),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.oc("ngClass",t.questionCtrl.configData.userInteraction[t.questionCtrl.getClass(t.mode)]),s.Db(6),s.oc("difficultyType","medium"),s.Db(4),s.oc("bonusStr",t.questionCtrl.bonusStr),s.Db(4),s.oc("quizData",t.quizData),s.Db(1),s.oc("ngIf",t.attachment),s.Db(4),s.oc("instructionData",s.sc(11,ei,t.questionCtrl.pendingAttempt)),s.Db(1),s.oc("instructionData",s.sc(13,ei,t.questionCtrl.getInstruction(t.quizData,"Rearrange answers next to its respective questions"))),s.Db(1),s.oc("ngIf",t.questionCtrl.questFeedback),s.Db(3),s.oc("ngIf",t.questionCtrl.configData),s.Db(1),s.oc("ngIf",t.isSolution),s.Db(1),s.oc("ngIf",t.showattachment))},directives:function(){return[a.j,Vu,qu,Gu,Mu,a.l,Ru,Lu,a.k,it,ut,Iu,_u,gu]},styles:["[_nghost-%COMP%]     .match .pretty.p-curve .state{opacity:1;position:absolute;left:-31px;top:17px}[_nghost-%COMP%]     .match .freeFlow .instantFeedback .selectedOtp.correct .optionWrapper{background-color:transparent}[_nghost-%COMP%]     .match .pretty.p-curve .state label:after, [_nghost-%COMP%]     .match .pretty.p-curve .state label:before{border-radius:0;border:none;background-image:url(https://www.pngkey.com/png/full/79-797206_double-arrow-vertical-symbol-icon-move-up-down.png);background-size:contain;background-repeat:no-repeat;top:0;background-position:50%;margin:auto;bottom:0;left:2px}[_nghost-%COMP%]     .match .mdi-check{display:none}[_nghost-%COMP%]     .match .mainOptionBox{display:flex;justify-content:space-between;margin:0 -5px}[_nghost-%COMP%]     .match .mainOptionBox .matching{min-width:50%;padding:0 5px}[_nghost-%COMP%]     .match .mainOptionBox .matching .categoryWrapper{max-width:200px;width:100%;padding:8px 10px;border-radius:5px;overflow:hidden;margin:0 0 10px;position:relative;left:0;top:0;transition:all .5s;border:2px solid #cbcbcb;border-radius:24px;background-color:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,.32);color:#232323}[_nghost-%COMP%]     .match .mainOptionBox .matching .categoryWrapper .questBox{font-size:16px}[_nghost-%COMP%]     .match .mainOptionBox .matching .categoryWrapper .questionWrapper{margin:0}[_nghost-%COMP%]     .match .mainOptionBox .example-list{min-width:50%;padding:0 5px}[_nghost-%COMP%]     .match .mainOptionBox .optionWrapper{max-width:200px;width:100%;border-radius:5px;margin:0 0 10px;overflow:hidden;border:2px solid #cdcdcd;border-radius:20px}[_nghost-%COMP%]     .match .mainOptionBox .optionWrapper .optionBox{margin-top:0;font-size:16px}[_nghost-%COMP%]     .match .mainOptionBox .optionWrapper .pretty{padding:10px 8px 10px 25px}[_nghost-%COMP%]     .match .mainOptionBox .optionWrapper .pretty .state label{margin:0}[_nghost-%COMP%]     .match .optMediaWrapper img, [_nghost-%COMP%]     .match .optMediaWrapper video, [_nghost-%COMP%]     .match .questMediaWrapper img, [_nghost-%COMP%]     .match .questMediaWrapper video{width:100%}[_nghost-%COMP%]     .print label:after, [_nghost-%COMP%]     .print label:before{display:none}[_nghost-%COMP%]     .print .mainOptionBox .optionWrapper .pretty{padding:10px 8px}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.dndPlaceholder[_ngcontent-%COMP%]{height:45px;border:1px dashed #cdcdcd!important}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}"]}),Ya),Su=((Qa=function(){function e(t,n,r){_classCallCheck(this,e),this.questionCtrl=t,this.utility=n,this.modalService=r,this.otherOptChange=new v.a,this.attempted=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.questAttempted=new s.n,this.showattachment=!1,this.isSolution=!1,this.optDisplayPos=[],this.attemptedOption=[],this._quizData=[],this._attemptedOps=[],this.destroy$=new v.a,this.$onOptClick=new g.a(null)}return _createClass(e,[{key:"ngOnInit",value:function(){this.solution=this.quizData[0].solution,this.quizData[0].data.attemptedOptions=[],this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),this.initEvent(),this.toggelSelection("review"===this.mode),this.checkAttempted(),this.questionCtrl.pending=this.quizData.length}},{key:"checkShuffle",value:function(){this.quizData[0].data.metadata&&this.quizData[0].data.metadata.shuffle&&this.shuffleOptions()}},{key:"shuffleOptions",value:function(){this.utility.shuffle(this.quizData[0].data.options),console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 77 ~ ScqComponent ~ shuffleOptions ~ this.quizData[0].data.options",this.quizData[0].data.options)}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"quizData",get:function(){return this._quizData},set:function(e){this._quizData=e,this.questionCtrl._isAnimation=!0,this.$onOptClick.next(null),console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 96 ~ ScqComponent ~ @Input ~ this.quizData",this.quizData),this.questionCtrl.getMaxTextLength(this.quizData[0].data.options),this.changeAttemptCount(this.quizData[0].data.options),this.getCorrectOptionCount(this.quizData[0].data.options),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.checkShuffle()}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e,this.checkAttempted()}},{key:"checkAttempted",value:function(){var e;this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?(this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOps)),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.updateAttemptedOption()):this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}],this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState)}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"updateAttemptedOption",value:function(){var e=this;this.attemptedOption.filter(function(t){return t.qid==e.quizData[0].questionID});var t,n=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value;console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 151 ~ ScqComponent ~ updateAttemptedOption ~ this.quizData[0].data.options",this.quizData[0].data.options);var i,o=_createForOfIteratorHelper(this.attemptedOption[0].options);try{for(o.s();!(i=o.n()).done;){var s=i.value;r.value===s&&(r.isSelected=!0,this.questionAttempted(r))}}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset(),e.attemptedOption=[{qid:e.quizData[0].questionID,options:[]}]}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()}),this.$iDontknw.subscribe(function(t){e.questionCtrl.onEventTrgger("iDontKnow")}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(O.a)(this.destroy$)).subscribe(function(t){if(null!==t){var n=JSON.parse(JSON.stringify(e.attemptedOption));n=e.chnageAttemptObj(n)}})}},{key:"showAnswer",value:function(){var e,t=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 193 ~ ScqComponent ~ showAnswer ~ this.quizData[0].data.options",this.quizData[0].data.options),1===n.isCorrect&&(n.isSelected=!0)}}catch(r){t.e(r)}finally{t.f()}}},{key:"reset",value:function(){var e,t=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 202 ~ ScqComponent ~ reset ~ this.quizData[0].data.options",this.quizData[0].data.options),n.isSelected=!1}}catch(r){t.e(r)}finally{t.f()}}},{key:"toggelSelection",value:function(e){var t,n=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value;console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 209 ~ ScqComponent ~ toggelSelection ~ this.quizData[0].data.options",this.quizData[0].data.options),r.isSelected=e}}catch(i){n.e(i)}finally{n.f()}}},{key:"changeAttemptCount",value:function(e){2===e.length&&this.questionCtrl.changeMaxAttempt(1)}},{key:"updateUserAttempted",value:function(e){e.isSelected?this.addAttemtedOption(e):this.removeAttemtedOption(e),this.questionCtrl.setAttemptedOptions(this.attemptedOption)}},{key:"addAttemtedOption",value:function(e){this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOption)),this.attemptedOption[0].options.length>0&&!this.getValidationMode()&&this.attemptedOption[0].options.pop(),this.addAttemptedOptionNoCommon(e)}},{key:"addAttemptedOptionNoCommon",value:function(e){-1===this.attemptedOption[0].options.indexOf(e.value)&&this.attemptedOption[0].options.push(e.value)}},{key:"removeAttemtedOption",value:function(e){this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOption));var t=this.attemptedOption[0].options.indexOf(e.value);this.attemptedOption[0].options.splice(t,1)}},{key:"onStateChange",value:function(e,t){this.optDisplayPos=[t];var n=this.manipulation(e),r=JSON.parse(JSON.stringify(this.attemptedOption)),i={event:"onOptClick",attemptedOption:r=this.attemptedOption[0].options.length>0?this.chnageAttemptObj(r):[],marksObtained:n,score:n,qState:this.questionCtrl.getQuestState()};this.attempted.emit(this.getDispatchObj(i)),this.$onOptClick.next(!0),this.otherOptChange.next()}},{key:"chnageAttemptObj",value:function(e){var t=this;return e.forEach(function(e){e.qState=t.questionCtrl.getQuestState(),e.correctOptId=t.questionCtrl.getCorrectOptions(),e.optDisplayPos=JSON.parse(JSON.stringify(t.optDisplayPos)),e.parentsQstate=t.questionCtrl.getParentsQState(),e.attemptCount=t.questionCtrl.getAttemptCount(),e.pending=t.questionCtrl.pending,e.confidence=t.questionCtrl.confidence,e.duration=t.questionCtrl.getDuration(),e.timeTaken=t.questionCtrl.timeTaken,e.version=t.questionCtrl.getVersionNumber(),e.marks=t.questionCtrl.getMarks(),e.obtainMarks=t.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(e),e}},{key:"questionAttempted",value:function(e){var t=this.manipulation(e),n=JSON.parse(JSON.stringify(this.attemptedOption)),r={event:"onOptClick",attemptedOption:n=this.chnageAttemptObj(n),marksObtained:t,score:t,qState:this.questionCtrl.getQuestState()};this.questAttempted.emit(this.getDispatchObj(r))}},{key:"getCorrectOptionCount",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;1===i.isCorrect&&n.push(i.value)}}catch(o){r.e(o)}finally{r.f()}this.questionCtrl.setCorrectOptions(n)}},{key:"manipulation",value:function(e){return this.questionCtrl.setcurrentQuestFeedback(e.isCorrect),1===e.isCorrect&&e.isSelected?(this.questionCtrl.setQueState(2),this.questionCtrl.setParentsQState(2)):(this.questionCtrl.setQueState(0),this.questionCtrl.setParentsQState(0)),this.updateUserAttempted(e),this.refresh(e),this.computeAttemptedMarks()}},{key:"computeAttemptedMarks",value:function(){var e=this,t=this.attemptedOption[0].options.length>0?this.attemptedOption[0].options.map(function(t){return e.getOptionById(t)}).reduce(function(e,t){return e+t}):0;return this.questionCtrl.setObtainScore(t),t}},{key:"getOptionById",value:function(e){var t,n=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 355 ~ ScqComponent ~ getOptionById ~ this.quizData[0].data.options",this.quizData[0].data.options),e===r.value)return r.score}}catch(i){n.e(i)}finally{n.f()}return 0}},{key:"getValidationMode",value:function(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("instantFeedback")}},{key:"getMissed",value:function(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}},{key:"refresh",value:function(e){this.getValidationMode()&&e.isSelected&&(e.active=!1);var t,n=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value;console.log("\ud83d\ude80 ~ file: scq.component.ts ~ line 381 ~ ScqComponent ~ refresh ~ this.quizData[0].data.options",this.quizData[0].data.options),r.value!==e.value&&!1!==e.active&&(r.isSelected=!1)}}catch(i){n.e(i)}finally{n.f()}}},{key:"onOptionAttempted",value:function(e){}},{key:"cloasemodal",value:function(){this.showattachment=!1}},{key:"showAttachment",value:function(){this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"getDispatchObj",value:function(e){var t=this;return e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.timeTaken=this.questionCtrl.timeTaken,e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore(),e.attemptedOption.forEach(function(n){n.timeTaken=Object(w.cloneDeep)(e.timeTaken),n.idleTime=Object(w.cloneDeep)(t.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",e.attemptedOption),e}},{key:"ngOnDestroy",value:function(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null),this.$onOptClick.next(null)}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||Qa)(s.Qb(fu),s.Qb(pu),s.Qb(T.b))},Qa.\u0275cmp=s.Kb({type:Qa,selectors:[["tce-scq"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad",questAttempted:"questAttempted"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData",4,"ngIf"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"mainOptionBox"],[3,"url",4,"ngIf"],[3,"option","configData","ngClass","index","$otherOptChange","$resetOverFlow","stateChange",4,"ngFor","ngForOf"],[3,"quizData"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[3,"url"],["pic",""],[3,"option","configData","ngClass","index","$otherOptChange","$resetOverFlow","stateChange"]],template:function(e,t){1&e&&s.Hc(0,_o,27,12,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,Ru,a.k,Mu,Lu,_r,Iu]},styles:['[_nghost-%COMP%]     .scq .pretty.p-curve .state label:after, [_nghost-%COMP%]     .scq .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .scq .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}']}),Qa),Tu=(($a=function(){function e(t,n,r,i){_classCallCheck(this,e),this.questionCtrl=t,this.utility=n,this.modalService=r,this.cdRef=i,this.attempted=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.isSolution=!1,this.optionCount=0,this.showattachment=!1,this.draggable={data:"myDragData",effectAllowed:"all",disable:!1,handle:!1},this.optionHolder=[],this.attemptedOption=[],this.destroy$=new v.a}return _createClass(e,[{key:"ngOnInit",value:function(){Object(D.polyfill)({dragImageTranslateOverride:P.scrollBehaviourDragImageTranslateOverride});try{window.addEventListener("touchmove",function(){},{passive:!1})}catch(e){}this.checkAttechment(),this.checkSolution(),this.initEvent(),this.questionCtrl.pending=this.quizData.length}},{key:"ngAfterViewChecked",value:function(){this.cdRef.detectChanges()}},{key:"quizData",get:function(){return this._quizData},set:function(e){this._quizData=e,this.getCorrectOptionCount(this.quizData[0].data.column),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.initSorting()}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e,this.checkAttempted()}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"getCorrectOptionCount",value:function(e){var t,n=Object(),r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.columnId]=[];var o,s=_createForOfIteratorHelper(i.options);try{for(s.s();!(o=s.n()).done;){var a=o.value;1===a.isCorrect&&n[i.columnId].push(a.value)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){r.e(u)}finally{r.f()}this.questionCtrl.setCorrectOptions(n)}},{key:"checkAttechment",value:function(){this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data)}},{key:"checkSolution",value:function(){this.quizData[0].solution&&(this.solution=this.quizData[0].solution)}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset(),e.setAttemptedState()}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()}),this.$iDontknw.subscribe(function(t){e.questionCtrl.onEventTrgger("iDontKnow"),e.showiDontKnowAnswer()}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(O.a)(this.destroy$)).subscribe(function(t){if(null!==t){var n=JSON.parse(JSON.stringify(e.attemptedOption));n=e.changeAttemptObj(n,t),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 164 ~ SortingComponent ~ this.questionCtrl.attemptCountAsSubscriber ~ obj",n)}})}},{key:"checkShuffle",value:function(){this.quizData[0].data.metadata.shuffle&&this.shuffleOptions()}},{key:"shuffleOptions",value:function(){this.utility.shuffle(this.optionHolder),this.optionHolder.forEach(function(e,t){e.position=t})}},{key:"showAnswer",value:function(){this.optionHolder=[];var e,t=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.attemptedOptions=[];var r,i=_createForOfIteratorHelper(n.options);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.isSelected=!0,n.attemptedOptions.push(o)}}catch(s){i.e(s)}finally{i.f()}}}catch(s){t.e(s)}finally{t.f()}}},{key:"showiDontKnowAnswer",value:function(){this.optionHolder=[];var e,t=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.attemptedOptions=[];var r,i=_createForOfIteratorHelper(n.options);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.isSelected=o.curColl===o.index,n.attemptedOptions.push(o)}}catch(s){i.e(s)}finally{i.f()}}}catch(s){t.e(s)}finally{t.f()}}},{key:"checkAttempted",value:function(){var e;this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?(this.updateAttemptedOption(),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.attemptedOption=this.attemptedOps,this.questionCtrl.setQueState(this.validateQuest())):this.setAttemptedState(),this.updatePreviewMode()}},{key:"updatePreviewMode",value:function(){if("preview"===this.mode){this.showMissedAnswer(),this.questionCtrl.setParentsQState(this.validateQuest());var e="mode_"+this.mode+"_"+this.validateQuest();this.questionCtrl.onEventTrgger(e)}}},{key:"computeAttemptedMarks",value:function(){var e=this.getOptionById();this.questionCtrl.setObtainScore(e)}},{key:"getOptionById",value:function(){for(var e=0,t=0;t<this.quizData[0].data.column.length;t++){var n=this.quizData[0].data.column[t];if(n.columnId===t){var r,i=_createForOfIteratorHelper(n.attemptedOptions);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.index===t&&o.isSelected&&(e+=o.score)}}catch(s){i.e(s)}finally{i.f()}}}return e}},{key:"showMissedAnswer",value:function(){for(var e=Object.assign([],this.optionHolder),t=0;t<e.length;t++){var n=e[t],r=this.getColumnByOptionIndex(n.value);null!=r&&(this.removeOptionFrnOptionHolder(n),r.attemptedOptions.push(n))}}},{key:"setAttemptedState",value:function(){var e,t=0,n=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.attemptedOption[t]={qid:r.columnId,options:[],optDisplayPos:[]},t++}}catch(i){n.e(i)}finally{n.f()}}},{key:"getCategoryWidth",value:function(e){return 100/e.length+"%"}},{key:"updateAttemptedOption",value:function(){var e,t=_createForOfIteratorHelper(this.attemptedOps);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=this.getColumnById(n.qid);null!==r&&this.updateOptionForAttemp(n.options,r)}}catch(i){t.e(i)}finally{t.f()}}},{key:"getColumnByOptionIndex",value:function(e){var t,n=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=_createForOfIteratorHelper(i.options);try{for(o.s();!(r=o.n()).done;)if(e===r.value.value)return i}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}return null}},{key:"getColumnById",value:function(e){var t,n=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e==r.columnId)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"updateOptionForAttemp",value:function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getOptionByValue(i);this.removeOptionFrnOptionHolder(o),null!==o&&(o.isSelected=!0,o.curColl=t.columnId,t.attemptedOptions.push(o))}}catch(s){r.e(s)}finally{r.f()}}},{key:"getOptionByValue",value:function(e){var t,n=_createForOfIteratorHelper(this.optionHolder);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r.value)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"removeOptionFrnOptionHolder",value:function(e){var t=this.optionHolder.indexOf(e);this.optionHolder.splice(t,1)}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"cloasemodal",value:function(){this.showattachment=!1}},{key:"showAttachment",value:function(){this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"reset",value:function(){this.optionHolder=[],this.attemptedOption=[];var e,t=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=_createForOfIteratorHelper(r.options);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.questionText=r.questionText,o.isSelected=!1,this.optionHolder.push(o),r.attemptedOptions=[]}}catch(s){i.e(s)}finally{i.f()}}}catch(s){t.e(s)}finally{t.f()}}},{key:"initSorting",value:function(){this.optionHolder=[],this.optionCount=0;for(var e=0;e<this.quizData[0].data.column.length;e++){this.quizData[0].data.column[e].attemptedOptions=[];var t,n=_createForOfIteratorHelper(this.quizData[0].data.column[e].options);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.index=e,this.optionHolder.push(r)}}catch(i){n.e(i)}finally{n.f()}}this.optionCount=this.optionHolder.length,this.checkShuffle(),this.questionCtrl.getMaxTextLength(this.optionHolder),this.changeAttemptCount(this.optionHolder)}},{key:"getTotalOption",value:function(){var e,t=0,n=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(n.s();!(e=n.n()).done;)t+=e.value.options.length}catch(r){n.e(r)}finally{n.f()}return t}},{key:"opAppemtHolder",value:function(e,t){}},{key:"onDragged",value:function(e,t){console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 372 ~ SortingComponent ~ onDragged ~ list",t),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 372 ~ SortingComponent ~ onDragged ~ item",e),this.removeSelection(e)}},{key:"dispatchOption",value:function(){this.computeAttemptedMarks();var e=JSON.parse(JSON.stringify(this.attemptedOption));e=this.attemptedOption.length>0?this.changeAttemptObj(e,this.questionCtrl.attempt_count):[],this.attempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:e}))}},{key:"changeAttemptObj",value:function(e,t){var n=this,r=Object(w.cloneDeep)(this.questionCtrl.attempt_count);console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 405 ~ SortingComponent ~ changeAttemptObj ~ attemptCount",r);var i=Object(w.cloneDeep)(e),o=Object(w.map)(i,function(e){return e.qState=n.questionCtrl.getQuestState(),e.correctOptId=n.questionCtrl.getCorrectOptions()[e.qid],e.parentsQstate=n.questionCtrl.getParentsQState(),e.attemptCount=n.questionCtrl.getAttemptCount(),e.pending=n.questionCtrl.pending,e.confidence=n.questionCtrl.confidence,e.duration=n.questionCtrl.getDuration(),e.timeTaken=n.questionCtrl.timeTaken,e.version=n.questionCtrl.getVersionNumber(),e.marks=n.questionCtrl.getMarks(),e.obtainMarks=n.questionCtrl.getObtainScore(),e});return e=JSON.parse(JSON.stringify(o)),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 434 ~ SortingComponent ~ changeAttemptObj ~ updatedState",o),this.questionCtrl.setAttemptedOptions(o),o}},{key:"addAttemptedOption",value:function(e,t){for(var n=0;n<this.attemptedOption.length;n++)if(this.attemptedOption[n].qid===t.columnId)this.attemptedOption[n].options.push(e.value),this.attemptedOption[n].optDisplayPos.push(e.position);else{var r=this.attemptedOption[n].options.findIndex(function(t){return t===e.value});r>-1&&(this.attemptedOption[n].options.splice(r,1),this.attemptedOption[n].optDisplayPos.splice(r,1))}}},{key:"onDrop",value:function(e,t){this.clickedOpt=e.item.data,console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 457 ~ SortingComponent ~ onDrop ~ event",e),e.previousContainer===e.container?Le(e.container.data,e.previousIndex,e.currentIndex):this.onDropClick(t),this.removeSelection(e)}},{key:"setDragMode",value:function(e,t,n){console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 490 ~ SortingComponent ~ setDragMode ~ opt",e),e.isSelected=!e.isSelected,n&&t.stopPropagation(),e.isSelected?(this.clickedOpt="",this.clickedOpt=e):(this.clickedOpt="",this.resetAllOpt()),this.removeSelection(e)}},{key:"setMoveOption",value:function(e,t,n){t.stopPropagation(),this.clickedOpt="",this.clickedOpt=e,this.resetAllOpt()}},{key:"removeSelection",value:function(e){var t,n=_createForOfIteratorHelper(this.optionHolder);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.value!==e.value&&(r.isSelected=!1)}}catch(i){n.e(i)}finally{n.f()}}},{key:"resetAllOpt",value:function(){var e,t=_createForOfIteratorHelper(this.optionHolder);try{for(t.s();!(e=t.n()).done;)e.value.isSelected=!1}catch(n){t.e(n)}finally{t.f()}}},{key:"changeAttemptCount",value:function(e){2===e.length&&this.questionCtrl.changeMaxAttempt(1)}},{key:"onDropClick",value:function(e){""!=this.clickedOpt&&this.onOptDrop(e)}},{key:"onOptDrop",value:function(e){var t=this;if(console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 505 ~ SortingComponent ~ onOptDrop ~ subQ",e),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 505 ~ SortingComponent ~ onOptDrop ~ this.clickedOpt",this.clickedOpt),this.clickedOpt.isSelected=!0,this.clickedOpt.curColl=e.columnId,this.isPresentSameCol(e)){this.addAttemptedOption(this.clickedOpt,e),e.attemptedOptions.push(this.clickedOpt);var n=this.optionHolder.find(function(e){return e.value===t.clickedOpt.value});n&&(n.curColl=e.columnId);var r=this.optionHolder.findIndex(function(e){return e.value===t.clickedOpt.value});-1!=r&&this.optionHolder.splice(r,1),this.removeFromBucket(e),this.questionCtrl.setQueState(this.validateQuest()),this.questionCtrl.setParentsQState(this.validateQuest()),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 529 ~ SortingComponent ~ onOptDrop ~ this.questionCtrl.getQAttemptType()",this.questionCtrl.getQAttemptType()),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 533 ~ SortingComponent ~ onOptDrop ~ this.optionHolder.length",this.optionHolder.length),(0===this.questionCtrl.getQAttemptType()||0===this.optionHolder.length)&&this.dispatchOption()}this.clickedOpt=""}},{key:"isPresentSameCol",value:function(e){var t=this;console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 543 ~ SortingComponent ~ isPresentSameCol ~ subQ",JSON.parse(JSON.stringify(e))),console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 546 ~ SortingComponent ~ isPresentSameCol ~ this.clickedOpt",JSON.parse(JSON.stringify(this.clickedOpt)));var n=e.attemptedOptions.findIndex(function(e){return e.value===t.clickedOpt.value});return console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 550 ~ SortingComponent ~ isPresentSameCol ~ presentValue",n),-1===n}},{key:"removeFromBucket",value:function(e){var t,n=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.columnId!==e.columnId)for(var i=0;i<r.attemptedOptions.length;i++)r.attemptedOptions[i].value===this.clickedOpt.value&&r.attemptedOptions.splice(i,1)}}catch(o){n.e(o)}finally{n.f()}}},{key:"validateQuest",value:function(){var e,t=0,n=_createForOfIteratorHelper(this.quizData[0].data.column);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=_createForOfIteratorHelper(i.attemptedOptions);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.index===i.columnId&&s.isSelected&&t++}}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}return t===this.getTotalOption()?2:t>0?1:0}},{key:"getEventOption",value:function(e){}},{key:"gatCategoryStyle",value:function(e){if(this.questionCtrl.configData.userInteraction.position&&this.questionCtrl.configData.userInteraction.position[e]){var t=this.questionCtrl.configData.userInteraction.position[e];return{height:t.height+"%",width:t.width+"%",left:t.x+"%",top:t.y+"%"}}return{}}},{key:"getSubQPos",value:function(e){Object();var t,n=_createForOfIteratorHelper(this.configData.userInteraction.subQuestions);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.qntId===r.qntId)return{height:r.height+"%",width:r.width+"%",left:r.x+"%",top:r.y+"%"}}}catch(i){n.e(i)}finally{n.f()}return{}}},{key:"getMissed",value:function(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}},{key:"getDispatchObj",value:function(e){var t=this;return console.log("\ud83d\ude80 ~ file: sorting.component.ts ~ line 640 ~ SortingComponent ~ getDispatchObj ~ obj",e),e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.timeTaken=this.questionCtrl.timeTaken,e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore(),e.attemptedOption.forEach(function(n){n.timeTaken=Object(w.cloneDeep)(e.timeTaken),n.idleTime=Object(w.cloneDeep)(t.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",e.attemptedOption),e}},{key:"ngOnDestroy",value:function(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null)}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||$a)(s.Qb(fu),s.Qb(pu),s.Qb(T.b),s.Qb(s.h))},$a.\u0275cmp=s.Kb({type:$a,selectors:[["tce-sorting"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],["class","mainOptionBox","cdkDropListGroup","",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],["cdkDropListGroup","",1,"mainOptionBox"],[3,"url",4,"ngIf"],[1,"sortingBox"],["class","categoryWrapper",4,"ngFor","ngForOf"],["cdkDropList","",1,"Options","example-list",3,"cdkDropListData","cdkDropListConnectedTo"],["todoList","cdkDropList"],["class","example-box","cdkDrag","",3,"option","configData","ngClass","cdkDragData","cdkDragStarted","click",4,"ngFor","ngForOf"],[3,"url"],["pic",""],[1,"categoryWrapper"],[1,"categoryHeader"],["cdkDropList","",1,"bucket","example-list",3,"ngStyle","cdkDropListData","cdkDropListConnectedTo","click","cdkDropListDropped"],["doneList","cdkDropList"],["cdkDrag","",3,"option","configData","ngClass","cdkDragData","click",4,"ngFor","ngForOf"],["cdkDrag","",3,"option","configData","ngClass","cdkDragData","click"],["cdkDrag","",1,"example-box",3,"option","configData","ngClass","cdkDragData","cdkDragStarted","click"]],template:function(e,t){1&e&&s.Hc(0,wo,26,14,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,Mu,Ru,Lu,et,a.k,it,_r,a.m,Xu,ut]},styles:["[_nghost-%COMP%]     .sorting .pretty.p-curve .state label:after, [_nghost-%COMP%]     .sorting .pretty.p-curve .state label:before{border-radius:0;border:none;background-image:url(http://image.flaticon.com/icons/png/512/13/13155.png);background-size:cover;background-repeat:no-repeat}[_nghost-%COMP%]     .print label:before, [_nghost-%COMP%]     .sorting .mdi-check{display:none}.sortingBox[_ngcontent-%COMP%]{min-height:50px;display:flex;width:100%;margin-top:10px;padding:0 0 5px;flex-wrap:wrap}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]{width:calc(100% / 2 - 4px);border:1px solid #cdcdcd;position:relative;border-radius:20px;margin:0 2px 5px}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .categoryHeader[_ngcontent-%COMP%]{text-align:center;padding:10px;border-bottom:1px solid #cdcdcd}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]{width:100%;min-height:150px;position:relative;padding-bottom:30px;height:calc(100% - 40px);padding-top:10px}.sortingBox[_ngcontent-%COMP%]   .categoryWrapper[_ngcontent-%COMP%]   .bucket[_ngcontent-%COMP%]   .placeHolder[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .freeFlow .mainOptionBox{position:relative}[_nghost-%COMP%]     .freeFlow .sortingBox{position:absolute;top:0;margin:0;height:100%}[_nghost-%COMP%]     .freeFlow .sortingBox .categoryWrapper{position:absolute;left:0;top:0;width:100%;height:100%;border:unset;border-radius:0;margin:0;pointer-events:none}[_nghost-%COMP%]     .freeFlow .sortingBox .categoryWrapper .categoryHeader{display:none}[_nghost-%COMP%]     .freeFlow .sortingBox .categoryWrapper .bucket{position:absolute!important;min-height:1%!important;pointer-events:all;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .freeFlow .sortingBox .categoryWrapper .bucket .placeHolder{height:100%;width:100%}[_nghost-%COMP%]     .freeFlow.hilightHover .bucket:hover{border:2px solid #ffc400}.Options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -5px}.Options[_ngcontent-%COMP%]   .sorting-media[_ngcontent-%COMP%]{max-width:calc(50% - 10px);margin-right:10px}.Options[_ngcontent-%COMP%]   tce-option[_ngcontent-%COMP%]{padding:0 5px;max-width:calc(50%)}.pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),$a),wu=((Ha=function(){function e(t,n,r,i){_classCallCheck(this,e),this.questionCtrl=t,this.modalService=n,this.utility=r,this.renderer=i,this.isZoom=!1,this.attempted=new s.n,this.submited=new s.n,this.change=new s.n,this.questLoad=new s.n,this.attemptedOption=[],this.showattachment=!1,this.isShowAnswer=!1,this.isSolution=!1,this.isShowAnswerHide=!1,this.isText=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.solution=this.quizData[0].solution.answer,this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),this.questionCtrl.pending=this.quizData.length,this.initEvent()}},{key:"quizData",get:function(){return this._quizData},set:function(e){this._quizData=e,this.reset(),this.userInput="",this.checkAttempted(),this.solutionShow(),this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()})}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e,this.checkAttempted()}},{key:"setting",value:function(){}},{key:"checkAttempted",value:function(){var e;this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?(this.attemptedOption=this.attemptedOps,this.updateAttemptedOption()):this.quizData&&this.quizData[0]&&(this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}])}},{key:"solutionShow",value:function(){this.quizData[0].solution.answer&&(this.solution=this.quizData[0].solution.answer)}},{key:"updateAttemptedOption",value:function(){this.userInput=this.attemptedOps[0].options[0],console.log("updateAttemptedOption",this.userInput)}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset(),e.attemptedOption=[{qid:e.quizData[0].questionID,options:[]}]}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()})}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"reset",value:function(){this.isShowAnswer=!1}},{key:"onFocus",value:function(){}},{key:"onContentChanged",value:function(e){e!==this.userInput?(this.updateAttempt(e),this.change.emit(e)):this.updateAttempt(e)}},{key:"updateAttempt",value:function(e){this.questionCtrl.setQueState(e),this.questionCtrl.setParentsQState(e),this.userInput=e,this.attemptedOption[0].options=[e];var t=this.chnageAttemptObj(JSON.parse(JSON.stringify(this.attemptedOption)));this.computeAttemptedMarks(e);var n=this.questionCtrl.getMarks(),r={event:"onOptClick",attemptedOption:t,marksObtained:n,score:n,qState:this.questionCtrl.getQuestState()};this.attempted.emit(this.getDispatchObj(r))}},{key:"chnageAttemptObj",value:function(e){var t=this;return e.forEach(function(e){e.qState=t.questionCtrl.getQuestState(),e.correctOptId=t.questionCtrl.getCorrectOptions(),e.parentsQstate=t.questionCtrl.getParentsQState(),e.attemptCount=t.questionCtrl.getAttemptCount(),e.pending=t.questionCtrl.pending,e.confidence=t.questionCtrl.confidence,e.duration=t.questionCtrl.getDuration(),e.timeTaken=t.questionCtrl.timeTaken,e.version=t.questionCtrl.getVersionNumber(),e.marks=t.questionCtrl.getMarks(),e.obtainMarks=t.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(e),e}},{key:"getDispatchObj",value:function(e){var t=this;return e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.timeTaken=this.questionCtrl.timeTaken,e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore(),e.attemptedOption.forEach(function(n){n.timeTaken=Object(w.cloneDeep)(e.timeTaken),n.idleTime=Object(w.cloneDeep)(t.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",e.attemptedOption),e}},{key:"computeAttemptedMarks",value:function(e){var t=2===e?this.questionCtrl.getMarks():0;this.questionCtrl.setObtainScore(t)}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.quizData[0].solution}},{key:"showAnswer",value:function(){this.isShowAnswer=!0}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"getEventOption",value:function(e){}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"cloasemodal",value:function(){this.showattachment=!1}},{key:"showAttachment",value:function(){this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"checkForZoom",value:function(){if(this.subjectiveWrapper){var e=[].slice.call(this.subjectiveWrapper.nativeElement.querySelectorAll("span")),t=[].slice.call(this.subjectiveWrapper.nativeElement.querySelectorAll("img")),n=Math.max.apply(Math,_toConsumableArray(e.concat(t).map(function(e){return e.offsetWidth>300&&console.log("\ud83d\ude80 ~ file: subjective.component.ts ~ line 269 ~ SubjectiveComponent ~ maxWidth ~ o",e),e.offsetWidth})));console.log("\ud83d\ude80 ~ file: subjective.component.ts ~ line 267 ~ SubjectiveComponent ~ checkForZoom ~ maxWidth",n),console.log("\ud83d\ude80 ~ file: subjective.component.ts ~ line 269 ~ SubjectiveComponent ~ checkForZoom ~ this.subjectiveWrapper.nativeElement.offsetWidth",this.subjectiveWrapper.nativeElement.offsetWidth),n>this.subjectiveWrapper.nativeElement.offsetWidth-5&&(this.renderer.addClass(this.subjectiveWrapper.nativeElement,"subjectiveWidthExceeded"),this.isZoom=!0)}}},{key:"onTouchEnter",value:function(e){this.isZoom&&this.addClass()}},{key:"onMouseEnter",value:function(e){this.isZoom&&this.addClass()}},{key:"onMouseLeave",value:function(){this.isZoom&&this.removeClass()}},{key:"addClass",value:function(){navigator.userAgent.indexOf("Mobile")>-1?this.renderer.addClass(this.subjectiveWrapper.nativeElement.parentElement,"subjectiveMobWidthExceededWrapper"):this.renderer.addClass(this.subjectiveWrapper.nativeElement.parentElement,"subjectiveWidthExceededWrapper")}},{key:"removeClass",value:function(){this.renderer.addClass(this.subjectiveWrapper.nativeElement.parentElement,"subjectiveWidthExceededWrapper"),this.renderer.addClass(this.subjectiveWrapper.nativeElement.parentElement,"subjectiveMobWidthExceededWrapper")}},{key:"ngOnDestroy",value:function(){try{this.attempted.unsubscribe(),this.submited.unsubscribe(),this.questLoad.unsubscribe()}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||Ha)(s.Qb(fu),s.Qb(T.b),s.Qb(pu),s.Qb(s.E))},Ha.\u0275cmp=s.Kb({type:Ha,selectors:[["tce-subjective"]],viewQuery:function(e,t){var n;1&e&&s.Mc(Do,1),2&e&&s.zc(n=s.gc())&&(t.subjectiveWrapper=n.first)},inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",change:"change",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],["class","pendingAttemptMsgBox",3,"instructionData",4,"ngIf"],[1,"instruction-attempnt","text-center","pendingAttemptMsgBox"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"qsn-opsns-box"],["class","mainOptionBox",4,"ngIf"],[1,"w-100","inputArea","position-relative",3,"click","mouseenter","mouseleave"],["class","w-100 outputArea",4,"ngIf"],["class","actionBox",4,"ngIf"],["class","row flex-wrap action-display",4,"ngIf"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[3,"message","solutionData","showSolution"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"mainOptionBox"],[3,"url",4,"ngIf"],[3,"url"],["pic",""],[1,"w-100","outputArea"],["subjectiveWrapper",""],[4,"ngFor","ngForOf"],[1,"tce-quill-view",3,"content","equationRendered"],[3,"imgSrc",4,"ngIf"],[3,"imgSrc"],[1,"actionBox"],[1,"btn","btn-outline-primary",3,"click"],[1,"row","flex-wrap","action-display"],[1,"col-12"],[1,"heading5","text-center","m-5"],[1,"col-12","mb-4"],[1,"btn","btn-outline-primary","d-flex","btn-sm","quiz-opt-correct","h-100","align-items-center","w-100","justify-content-center",3,"ngClass","click"],[1,"subjectiveicon"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["id","Mobile","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","D-09.4-ST-OralQuiz","transform","translate(-309.000000, -463.000000)","fill-rule","nonzero"],["id","Group","transform","translate(0.000000, 330.000000)"],["id","Interaction-Panel","transform","translate(0.000000, 80.000000)"],["id","Option-1","transform","translate(16.000000, 40.000000)"],["id","CorrectAnswer","transform","translate(293.000000, 13.000000)"],["id","Oval","stroke","#202020","stroke-width","1.3","fill","#07D600","transform","translate(12.000000, 12.000000) scale(1, -1) translate(-12.000000, -12.000000) ","cx","12","cy","12","r","11.35"],["id","Oval","fill","#202020","transform","translate(8.200000, 9.200000) scale(1, -1) translate(-8.200000, -9.200000) ","cx","8.2","cy","9.2","r","1.2"],["id","Oval","fill","#202020","transform","translate(16.200000, 9.200000) scale(1, -1) translate(-16.200000, -9.200000) ","cx","16.2","cy","9.2","r","1.2"],["id","Group","transform","translate(12.000000, 17.062500) scale(1, -1) translate(-12.000000, -17.062500) translate(6.000000, 15.062500)","fill","#202020"],["d","M11,3.5985 C10.808,3.5985 10.616,3.5255 10.47,3.3785 C9.276,2.1845 7.688,1.5265 6,1.5265 C4.312,1.5265 2.724,2.1845 1.53,3.3785 C1.237,3.6715 0.762,3.6715 0.469,3.3785 C0.176,3.0855 0.176,2.6105 0.469,2.3175 C1.947,0.8405 3.911,0.0265 6,0.0265 C8.089,0.0265 10.053,0.8395 11.53,2.3175 C11.823,2.6105 11.823,3.0855 11.53,3.3785 C11.384,3.5245 11.192,3.5985 11,3.5985 Z","id","Path"],[1,"btn","btn-outline-primary","d-flex","btn-sm","quiz-opt-partiallycorrect","h-100","align-items-center","w-100","justify-content-center",3,"ngClass","click"],["id","D-09.4-ST-OralQuiz","transform","translate(-310.000000, -528.000000)"],["id","Option-2","transform","translate(16.000000, 105.000000)"],["id","MissedAnswer","transform","translate(294.000000, 13.000000)"],["id","Oval","stroke","#202020","stroke-width","1.3","fill","#FFCC00","fill-rule","nonzero","transform","translate(12.000000, 12.000000) scale(1, -1) translate(-12.000000, -12.000000) ","cx","12","cy","12","r","11.35"],["id","Oval","fill","#202020","fill-rule","nonzero","transform","translate(8.200000, 9.200000) scale(1, -1) translate(-8.200000, -9.200000) ","cx","8.2","cy","9.2","r","1.2"],["id","Oval","fill","#202020","fill-rule","nonzero","transform","translate(16.200000, 9.200000) scale(1, -1) translate(-16.200000, -9.200000) ","cx","16.2","cy","9.2","r","1.2"],["id","Oval","stroke","#202020","stroke-width","1.25","cx","12","cy","16.5","rx","2.375","ry","2.875"],[1,"btn","btn-outline-primary","d-flex","btn-sm","quiz-opt-incorrect","h-100","align-items-center","w-100","justify-content-center",3,"ngClass","click"],["id","D-09.4-ST-OralQuiz","transform","translate(-310.000000, -593.000000)","fill-rule","nonzero"],["id","Option-3","transform","translate(16.000000, 170.000000)"],["id","Smiley-Wrong","transform","translate(294.000000, 13.000000)"],["id","Oval","stroke","#202020","stroke-width","1.3","fill","#FF3EB9","transform","translate(12.000000, 12.000000) scale(1, -1) translate(-12.000000, -12.000000) ","cx","12","cy","12","r","11.35"],["d","M17,19.036 C16.808,19.036 16.616,18.963 16.47,18.816 C15.276,17.622 13.688,16.964 12,16.964 C10.312,16.964 8.724,17.622 7.53,18.816 C7.237,19.109 6.762,19.109 6.469,18.816 C6.176,18.523 6.176,18.048 6.469,17.755 C7.947,16.278 9.911,15.464 12,15.464 C14.089,15.464 16.053,16.277 17.53,17.755 C17.823,18.048 17.823,18.523 17.53,18.816 C17.384,18.962 17.192,19.036 17,19.036 Z","id","Path","fill","#202020"]],template:function(e,t){1&e&&s.Hc(0,Fo,32,15,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,Mu,Ru,Lu,_r,a.k,Yu,Ku]},styles:["[_nghost-%COMP%]     .inputArea>.optionWrapper{min-height:120px;border:1px solid #cdcdcd;margin:0 0 10px;border-radius:10px;padding:10px}[_nghost-%COMP%]     .inputArea>.optionWrapper *{text-align:left!important}[_nghost-%COMP%]     .inputArea>.optionWrapper .ql-editor{min-height:120px}.outputArea[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:200px}[_nghost-%COMP%]     .outputArea{padding:15px 12px;margin-bottom:20px;border-radius:6px;background-color:#f6fcff;box-shadow:0 2px 4px 0 rgba(0,0,0,.15)}[_nghost-%COMP%]     .outputArea .ql-editor{color:#202020;font-size:15px;font-weight:300;letter-spacing:0;line-height:20px}[_nghost-%COMP%]     .outputArea .pretty{padding:0}[_nghost-%COMP%]     .outputArea .pretty .icon{display:none}[_nghost-%COMP%]     .outputArea .pretty span{background-color:transparent!important}[_nghost-%COMP%]     .outputArea .pretty.p-curve .state label:after, [_nghost-%COMP%]     .outputArea .pretty.p-curve .state label:before{display:none}.actionBox[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]     .print .actionBox{display:none}[_nghost-%COMP%]     .print .optionWrapper{min-height:160px}.pendingAttemptMsgBox[_ngcontent-%COMP%], [_nghost-%COMP%]     .print .optionWrapper .ql-editor{display:none}.subjectiveicon[_ngcontent-%COMP%]{font-size:20px;margin-right:5px;position:absolute;right:10px}.action-display[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{font-size:18px;font-weight:700;letter-spacing:.25px;line-height:22px;padding:13px;border:1px solid}.btn-outline-primary.quiz-opt-correct[_ngcontent-%COMP%]:hover, .quiz-opt-correct.active[_ngcontent-%COMP%]{background-color:#d9f4e7!important;color:#07d600!important;border:1px solid #07d600!important}.btn-outline-primary.quiz-opt-partiallycorrect[_ngcontent-%COMP%]:hover, .quiz-opt-partiallycorrect.active[_ngcontent-%COMP%]{background-color:#fff8d9!important;color:#fc0!important;border:1px solid #fc0!important}.btn-outline-primary.quiz-opt-incorrect[_ngcontent-%COMP%]:hover, .quiz-opt-incorrect.active[_ngcontent-%COMP%]{background-color:#ffe5ec!important;color:#f93eba!important;border:1px solid #f93eba!important}"]}),Ha),Du=((za=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.questionCtrl=t,this.utility=n,this.zone=r,this.renderer=i,this.modalService=o,this.attempted=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.isSolution=!1,this.showattachment=!1,this.saveArr=[],this.attemptedOption=[],this.selectedOptionEvent=new s.n,this.userAttempt=new s.n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;console.log("configData",this.questionCtrl.configData),console.log("quizData",this.quizData),this.image=this.questionCtrl.configData.image,this.saveArr=this.quizData[0].data.options,console.log(this.saveArr),this.quizData[0].attachment&&(this.attachment=this.quizData[0].attachment.data),console.log(this.attachment),this.solution=this.quizData[0].solution,console.log("qw---",this.solution),console.log("solution",this.solution),this.initEvent(),this.zone.run(function(){e.toggelSelection("review"===e.mode)}),this.checkAttempted(),this.checkShuffle(),this.questionCtrl.pending=this.quizData.length,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this.quizData.length}),this.questionCtrl.getMaxTextLength(this.quizData[0].data.options)}},{key:"ngAfterViewInit",value:function(){this.populateImage(this.image),this.reRenderAllPolygons()}},{key:"reRenderAllPolygons",value:function(){var e=this.saveArr.length;console.log(this.saveArr);for(var t=0;t<e;t++){console.log("json",JSON.stringify(this.saveArr[t].label));var n=this.deSerializePoints(JSON.parse(this.saveArr[t].label));console.log(n),this.createNewPolyGon(n,null,t)}}},{key:"deSerializePoints",value:function(e){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push("".concat(i.x,",").concat(i.y," "))}return n}},{key:"optionclicked",value:function(e){console.log(e),console.log(e.target.id),this.opt=this.saveArr[e.target.id],console.log(this.opt),1==this.opt.isCorrect?(this.renderer.setStyle(e.target,"fill","rgb(101, 161, 41)"),this.renderer.setStyle(e.target,"stroke","rgb(101, 161, 41)")):(this.renderer.setStyle(e.target,"fill","rgb(255,0,0)"),this.renderer.setStyle(e.target,"stroke","rgb(255,0,0)"))}},{key:"createNewPolyGon",value:function(e,t,n){var r,i=this.renderer.createElement("polygon","svg");this.renderer.appendChild(this.polygonG.nativeElement,i),r=n>-1?n:t?parseInt(t.getAttribute("id")):this.saveArr.length,this.renderer.setAttribute(i,"id","".concat(r)),this.renderer.setAttribute(i,"points","".concat(e)),this.renderer.setStyle(i,"fill","rgb(34, 176, 214)"),this.renderer.setStyle(i,"fill-opacity","0.5"),this.renderer.setStyle(i,"cursor","inherit"),this.renderer.setStyle(i,"z-index","0"),this.renderer.setStyle(i,"stroke","rgb(34, 176, 214)"),this.renderer.setStyle(i,"stroke-width","2px"),this.renderer.setStyle(i,"stroke-opacity","1"),this.renderer.setStyle(i,"stroke-dasharray","none"),this.renderer.setStyle(i,"stroke-linecap","round"),this.renderer.setStyle(i,"stroke-linejoin","round")}},{key:"populateImage",value:function(e){console.log(e),e.width=parseInt(e.width),e.height=parseInt(e.height),this.renderer.setStyle(this.container.nativeElement,"width",e.width),this.renderer.setStyle(this.container.nativeElement,"height",e.height),this.renderer.setStyle(this.imgG.nativeElement,"width",e.width),this.renderer.setStyle(this.imgG.nativeElement,"height",e.height),this.renderer.setAttribute(this.imgG.nativeElement,"href",e.src)}},{key:"checkAttempted",value:function(){var e;this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?(this.attemptedOption=this.attemptedOps,this.updateAttemptedOption(),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED")):this.attemptedOption=[{qid:this.quizData.data.questions[0].questionID,options:[]}]}},{key:"checkShuffle",value:function(){this.quizData.data.questions[0].metadata.shuffle&&this.shuffleOptions()}},{key:"shuffleOptions",value:function(){this.utility.shuffle(this.quizData.data.questions[0].data.options)}},{key:"updateAttemptedOption",value:function(){var e,t=_createForOfIteratorHelper(this.quizData.data.questions[0].data.options);try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=_createForOfIteratorHelper(this.attemptedOption[0].options);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.value===o&&(r.isSelected=!0)}}catch(s){i.e(s)}finally{i.f()}}}catch(s){t.e(s)}finally{t.f()}}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset()}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()})}},{key:"showAnswer",value:function(){var e,t=_createForOfIteratorHelper(this.quizData.data.questions);try{for(t.s();!(e=t.n()).done;){var n,r=_createForOfIteratorHelper(e.value.data.options);try{for(r.s();!(n=r.n()).done;){var i=n.value;1===i.isCorrect&&(i.isSelected=!0)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"reset",value:function(){var e,t=_createForOfIteratorHelper(this.quizData.data.questions);try{for(t.s();!(e=t.n()).done;){var n,r=_createForOfIteratorHelper(e.value.data.options);try{for(r.s();!(n=r.n()).done;)n.value.isSelected=!1}catch(i){r.e(i)}finally{r.f()}}}catch(i){t.e(i)}finally{t.f()}}},{key:"toggelSelection",value:function(e){console.log("quizData",this.configData);var t,n=_createForOfIteratorHelper(this.quizData.data.questions);try{for(n.s();!(t=n.n()).done;){var r,i=_createForOfIteratorHelper(t.value.data.options);try{for(i.s();!(r=i.n()).done;)r.value.isSelected=e}catch(o){i.e(o)}finally{i.f()}}}catch(o){n.e(o)}finally{n.f()}}},{key:"doSomething",value:function(e){console.log("event:-",e),this.configData=e}},{key:"onStateChange",value:function(e){console.log(e),this.questionCtrl.setQueState(this.getQValidate()),"MCQ"===this.quizData.data.questions[0].data.type&&this.updateAttempt(e),this.selectedOption=e,this.attempted.emit({event:"onOptClick",attemptedOption:this.attemptedOption})}},{key:"updateAttempt",value:function(e){if(e.isSelected)this.attemptedOption[0].options.push(e.value);else{var t=this.attemptedOption[0].options.indexOf(e.value);this.attemptedOption[0].options.splice(t,1)}this.questionCtrl.setAttemptedOptions(this.attemptedOption)}},{key:"getQValidate",value:function(){for(var e=[],t=this.getValidationArr(this.quizData.data.questions[0].data),n=0;n<this.quizData.data.questions[0].data.options.length;n++)e.push(this.quizData.data.questions[0].data.options[n].isSelected&&1===t[n]?1:0);var r=e.reduce(function(e,t){return e+t},0),i=t.reduce(function(e,t){return e+t},0),o=Math.ceil(r/i);return(Math.floor(r/i)+1)*o}},{key:"checkIsSolution",value:function(){return!!(this.quizData.data.questions[0].data.solution&&this.quizData.data.questions[0].data.solution.data.length>0)}},{key:"getValidationArr",value:function(e){var t=[];console.log(e);var n,r=_createForOfIteratorHelper(e.options);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(i.isCorrect)}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"subscribeEvent",value:function(){}},{key:"onOptionAttempted",value:function(e){this.attempted.emit(e)}},{key:"onShowSolution",value:function(){this.isSolution=!0,console.log(this.solution),this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"cloasemodal",value:function(){console.log("ds"),this.showattachment=!1}},{key:"showAttachment",value:function(){console.log(this.solution),this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"ngOnDestroy",value:function(){try{this.eventsSubscription.unsubscribe(),this.submited.unsubscribe(),this.attempted.unsubscribe(),this.questLoad.unsubscribe()}catch(e){}}}]),e}()).\u0275fac=function(e){return new(e||za)(s.Qb(fu),s.Qb(pu),s.Qb(s.A),s.Qb(s.E),s.Qb(T.b))},za.\u0275cmp=s.Kb({type:za,selectors:[["nx-afs-hotspot"]],viewQuery:function(e,t){var n;1&e&&(s.Mc(qo,1),s.Mc(Vo,3),s.Mc(Wo,1),s.Mc(Go,3),s.Mc(Ko,3),s.Mc(zo,3)),2&e&&(s.zc(n=s.gc())&&(t.container=n.first),s.zc(n=s.gc())&&(t.line=n.first),s.zc(n=s.gc())&&(t.imgG=n.first),s.zc(n=s.gc())&&(t.circleG=n.first),s.zc(n=s.gc())&&(t.polygonG=n.first),s.zc(n=s.gc())&&(t.numberG=n.first))},inputs:{configData:"configData",quizData:"quizData",mode:"mode",attemptedOps:"attemptedOps",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questLoad:"questLoad",selectedOptionEvent:"selectedOptionEvent",userAttempt:"userAttempt"},decls:16,vars:3,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],["container",""],["transform","rotate(0,0,0)",2,"z-index","0","cursor","inherit"],["x","0","y","0","href","",2,"opacity","1"],["imgG",""],["x1","0","y1","0","x2","0","y2","0",2,"z-index","0","cursor","inherit","stroke","black","stroke-width","2px","stroke-opacity","1","stroke-dasharray","6, 8","stroke-linecap","round","stroke-linejoin","round"],["line",""],[3,"click"],["polygonG",""],["circleG",""],["numberG",""],[1,"mainWrapper",3,"ngClass"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"sec","d-flex"],[3,"difficultyType"],[1,"qusn-bonus"],[3,"bonusStr"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",3,"click",4,"ngIf"],[1,"pendingAttemptMsgBox",3,"instructionData"],[1,"qsn-instructions","quest-intro",3,"instructionData"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec",3,"click"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(e,t){1&e&&(s.Hc(0,Qo,13,12,"div",0),s.Hc(1,Yo,1,1,"tce-solutions",1),s.Hc(2,Xo,1,1,"nx-afs-attachment",2),s.ic(),s.Vb(3,"svg",null,3),s.Vb(5,"g",4),s.Rb(6,"image",5,6),s.Ub(),s.Rb(8,"line",7,8),s.Vb(10,"g",9,10),s.fc("click",function(e){return t.optionclicked(e)}),s.Ub(),s.Rb(12,"g",null,11),s.Rb(14,"g",null,12),s.Ub()),2&e&&(s.oc("ngIf",t.questionCtrl.configData),s.Db(1),s.oc("ngIf",t.isSolution),s.Db(1),s.oc("ngIf",t.showattachment))},directives:function(){return[a.l,a.j,Vu,qu,Gu,Mu,Ru,Lu,_u,gu]},styles:[".pendingAttemptMsgBox[_ngcontent-%COMP%]{display:none}"]}),za),Pu=((Ka=function(){function e(t,n){_classCallCheck(this,e),this.api=t,this.howl=n,this.oldType=""}return _createClass(e,[{key:"getSfxFile",value:function(e){var t=this;this.api.getConfigFile("assets/static_json/big-idea/big-idea-sfx-rule.json").subscribe(function(n){console.log("SfxService -> getSfxFile -> resp",n),t.sfxData=n,_t.Howler.autoUnlock=!1,t.registerAudios(e)})}},{key:"registerAudios",value:function(e){this.backGroundSound(this.sfxData[e].bgSfx),this.correctSound(this.sfxData[e].correctSfx),this.incorrectSound(this.sfxData[e].incorrectSfx)}},{key:"backGroundSound",value:function(e){var t=this;this.api.audioServiceCall(e).subscribe(function(e){t.howl.register("bg",{src:[e],html5:!0,pool:20}).subscribe(function(e){console.log("SfxService -> registerAudios -> status",e),t.playBg()})},function(e){console.log("SfxService -> backGroundSound -> error",e)})}},{key:"correctSound",value:function(e){var t=this;this.api.audioServiceCall(e).subscribe(function(e){t.howl.register("correct",{src:[e],html5:!0,pool:20}).subscribe(function(e){console.log("SfxService -> registerAudios -> status",e)})},function(e){console.log("SfxService -> backGroundSound -> error",e)})}},{key:"incorrectSound",value:function(e){var t=this;this.api.audioServiceCall(e).subscribe(function(e){t.howl.register("incorrect",{src:[e],html5:!0,pool:20}).subscribe(function(e){console.log("SfxService -> registerAudios -> status",e)})},function(e){console.log("SfxService -> backGroundSound -> error",e)})}},{key:"play",value:function(e){this.howl&&this.howl.get(e)&&(this.howl.get(this.oldType)&&(this.howl.get(this.oldType).stop(),this.howl.get(this.oldType).unload()),this.howl.get(e).play(),this.oldType=e)}},{key:"stopAllFeedback",value:function(){this.howl&&(this.howl.get("correct").stop(),this.howl.get("incorrect").stop(),this.howl.get("correct").unload(),this.howl.get("incorrect").unload())}},{key:"playBg",value:function(){this.howl&&(this.howl.get("bg").play(),this.howl.get("bg").volume(.1),this.howl.get("bg").loop(!0))}},{key:"resumeBg",value:function(){this.howl&&this.howl.get("bg").play()}},{key:"pauseBg",value:function(){this.howl&&this.howl.get("bg").pause()}},{key:"stopBg",value:function(){this.howl&&(this.howl.get("bg").stop(),this.howl.get("bg").unload())}},{key:"isBgPlaying",value:function(){return this.howl.get("bg").playing()}},{key:"destroy",value:function(){console.log("\ud83d\ude80 ~ file: sfx.service.ts ~ line 132 ~ SfxService ~ destroy ~ this.howl",this.howl),this.howl&&(this.stopBg(),this.howl.unregister("bg"),this.howl.unregister("correct"),this.howl.unregister("incorrect"))}}]),e}()).\u0275fac=function(e){return new(e||Ka)(s.cc(du),s.cc(pt))},Ka.\u0275prov=Object(s.Mb)({factory:function(){return new Ka(Object(s.cc)(du),Object(s.cc)(pt))},token:Ka,providedIn:"root"}),Ka),ku=((Ga=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.templateLoader=t,this.questionCtrl=n,this.sanitizer=r,this.sfx=i,this.modalService=o,this.attempted=new s.n,this.submitted=new s.n,this.questLoad=new s.n,this.onIdleTime=new s.n,this.tempUrl="",this.eventConfigData=new v.a,this.libVersion="0.0.39.5",this._attemptCount=0,this.themeRelativePath="assets/quizEngine/Theme1.css",this.themeBasePath="assets/quizEngine/bigIdeaTheme/",this.componentType={},this.componentType.MCQ=vu,this.componentType.SCQ=Su,this.componentType.CATEGORY=Tu,this.componentType.SUBJECTIVE=wu,this.componentType.SERIES=yu,this.componentType.MATCH=Ou,this.componentType.FIB=bu,this.componentType.FIBDND=Cu,this.componentType.HOTSPOT=Du}return _createClass(e,[{key:"ngOnInit",value:function(){this.questionCtrl.initialise(this.qData[0].style,this.quizrules,this.mode),this.intializeEvent(),this.checkMode()}},{key:"rules",set:function(e){this.quizrules=Object(w.cloneDeep)(e),this.questionCtrl.optionKey=e.msgRule,this.updateConfigData()}},{key:"quizData",set:function(e){console.log("quizData",e);var t=JSON.stringify(e).replace(/{{{plus}}}/gi,"+");this.qData=JSON.parse(t),this.intiVariables(),this.intiThemesForBigidea(),this.quizrules&&(this.questionCtrl.onEventTrgger("resetQuestion"),this.trggerQinit(),this.questionCtrl.initialise(this.qData[0].style,this.quizrules,this.mode),this.updateConfigData())}},{key:"basePath",set:function(e){this.questionCtrl.resetBasePath(),this.questionCtrl.setBasePath(e)}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e,this.trggerQinit()}},{key:"isSound",get:function(){return this._isSound},set:function(e){this._isSound=e}},{key:"timeSpend",get:function(){return this._timeSpend},set:function(e){console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 154 ~ RendererComponent ~ @Input ~ value",e),this.questionCtrl.spendTime=e,this._timeSpend=e}},{key:"idleTime",get:function(){return this._idleTime},set:function(e){console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 154 ~ RendererComponent ~ @Input ~ value",e),this.questionCtrl._idle_time=e,this._idleTime=e}},{key:"messageOption",get:function(){return this._messageOption},set:function(e){this._messageOption=e,console.log("RendererComponent -> @Input -> value",e),this.questionCtrl.optionDictPrefix=e.messages?e.messages:[]}},{key:"attemptCount",get:function(){return this._attemptCount},set:function(e){console.log("attemptCount",e),this._attemptCount=e,this.manipulationAttemptCount(e)}},{key:"updateConfigData",value:function(){this.qData[0].style.evtCss&&(this.quizrules.event.onOptClick=this.qData[0].style.evtCss[0].onOptClick)}},{key:"intializeEvent",value:function(){var e=this;this.$validateQuestion&&(this.subscription=this.$validateQuestion.subscribe(function(t){e.questionCtrl.validateQuestion().then(function(t){console.log("RendererComponent -> intializeEvent -> validateSate",t),e.questionCtrl.onEventTrgger("qValidation"),e.questionCtrl.isPendingAttempt=!1,e.submitted.emit(t)})})),this.$resetScreen&&this.$resetScreen.subscribe(function(t){e.questionCtrl.onEventTrgger("resetQuestion"),e.questionCtrl.timeStamp=(new Date).getTime(),e.showAttemptedNotification()}),this.$bgAudio&&this.$bgAudio.subscribe(function(t){"pause"===t?e.pauseBgAudio():e.playBgAudio()}),this.$showCorrectAns&&this.$showCorrectAns.subscribe(function(t){e.questionCtrl.onEventTrgger("correctQuestion")}),this.$nextSubQ&&this.$nextSubQ.pipe(Object(S.a)(100)).subscribe(function(t){console.log("RendererComponent -> intializeEvent -> val",t),e.manipulationAttemptCount(e.attemptCount),e.questionCtrl.onEventTrgger("loadQuestion"),e.questionCtrl.theme&&e.sfx.stopAllFeedback()}),this.$nagivation&&(this.nagivation_subscription=this.$nagivation.subscribe(function(t){e.questionCtrl.idleTimeValidation();var n=e.questionCtrl.getIdleTime();console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 249 ~ RendererComponent ~ this.nagivation_subscription=this.$nagivation.subscribe ~ idelTime",n),e.onIdleTime.emit(n)}))}},{key:"intiThemesForBigidea",value:function(){if(this.questionCtrl.theme=null,console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 272 ~ RendererComponent ~ intiThemesForBigidea ~ this.qData[0].style",this.qData[0].style),this.qData[0].style.extCss){var e=this.qData[0].style.extCss===this.themeRelativePath?this.themeRelativePath:this.themeBasePath+this.qData[0].style.extCss+"/theme.css";void 0!==this.isSound&&!0!==this.isSound||this.sfx.getSfxFile(this.qData[0].style.extCss),this.questionCtrl.theme=e,console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 283 ~ RendererComponent ~ intiThemesForBigidea ~ this.questionCtrl.theme",this.questionCtrl.theme),window.document.getElementById("big-idea-theme").setAttribute("href",e)}}},{key:"intiVariables",value:function(){this.questionCtrl.setDuration(this.qData[0].data.metadata.duration?this.qData[0].data.metadata.duration:0),this.questionCtrl.setVersionNumber(this.qData[0].data.metadata.version?this.qData[0].data.metadata.version:1),this.questionCtrl.setMarks(this.computeMaxScore())}},{key:"showAttemptedNotification",value:function(){this.questionCtrl.isPendingAttempt=2!==this.questionCtrl.getQuestState()}},{key:"computeOptScore",value:function(e){var t,n=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;1===i.isCorrect&&(n+=Number(i.score))}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"computeMaxScore",value:function(){var e=0;if("SORTING"===this.qData[0].data.type){var t,n=_createForOfIteratorHelper(this.qData[0].data.column);try{for(n.s();!(t=n.n()).done;){var r=t.value;e+=this.computeOptScore(r.options)}}catch(f){n.e(f)}finally{n.f()}}else if("COMPOSITE"===this.qData[0].data.type||"FIBSCQ"===this.qData[0].data.type){var i,o=_createForOfIteratorHelper(this.qData);try{for(o.s();!(i=o.n()).done;){var s=i.value;e+=this.computeOptScore(s.data.options)}}catch(f){o.e(f)}finally{o.f()}}else if("FIB"===this.qData[0].data.type){var a,u=_createForOfIteratorHelper(this.qData[0].data.blanks);try{for(u.s();!(a=u.n()).done;){var c=a.value;e+=this.computeOptScore(c.options)}}catch(f){u.e(f)}finally{u.f()}}else if("FIBSCQ"===this.qData[0].data.type){var l,h=_createForOfIteratorHelper(this.qData);try{for(h.s();!(l=h.n()).done;){var d=l.value;d.options&&(e+=this.computeOptScore(d.options))}}catch(f){h.e(f)}finally{h.f()}}else e+=this.computeOptScore(this.qData[0].data.options);return console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 259 ~ RendererComponent ~ computeMaxScore ~ maxScore",e),e}},{key:"manipulationAttemptCount",value:function(e){this.questionCtrl.attempt_count=e,this.questionCtrl.isPendingAttempt=!1,this.questionCtrl.attempt_count>0&&(this.questionCtrl.isPendingAttempt=!0)}},{key:"trggerQinit",value:function(){console.log("RendererComponent -> trggerQinit -> trggerQinit"),"preview"===this.mode?(this.questionCtrl.onEventTrgger("qInit_preview"),this.triggerPrefix()):this.questionCtrl.onEventTrgger("qInit")}},{key:"triggerPrefix",value:function(){var e;console.log("attemptCount",this.attemptedOps),(0===this.attemptedOps.length||0===(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length))&&this.questionCtrl.onEventTrgger("mode_"+this.mode+"_-1")}},{key:"ngAfterViewInit",value:function(){this.trggerQinit()}},{key:"questLoaded",value:function(e){this.questLoad.emit(e)}},{key:"attemptedOpt",value:function(e){}},{key:"subscribeEvents",value:function(){var e=this;try{this.templateLoader.componentRef.instance.attempted.subscribe(function(t){e.optionClickEvent(t)}),this.templateLoader.componentRef.instance.onSubmit.subscribe(function(t){return e.questSubmited(t)}),this.templateLoader.componentRef.instance.selectedOptionEvent.subscribe(function(t){e.questSubmited(t)})}catch(t){}}},{key:"questAttempted",value:function(e){}},{key:"questSubmited",value:function(e){}},{key:"checkMode",value:function(){console.log("RendererComponent -> checkMode -> this.mode",this.mode),"review"===this.mode&&this.questionCtrl.setQueState(2)}},{key:"optionClickEvent",value:function(e){this.questionCtrl.onEventTrgger("onOptClick"),this.playAudio(e),this.attempted.emit(e),this.questionCtrl.timeStamp=(new Date).getTime(),console.log("RendererComponent -> optionClickEvent -> obj",e)}},{key:"playAudio",value:function(e){console.log("RendererComponent -> playAudio -> this.questionCtrl.getcurrentQuestFeedback()",this.questionCtrl.getcurrentQuestFeedback()),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 471 ~ RendererComponent ~ playAudio ~ this.questionCtrl.theme",this.questionCtrl.theme),this.questionCtrl.theme&&(1===this.questionCtrl.getcurrentQuestFeedback()?this.sfx.play("correct"):this.sfx.play("incorrect"))}},{key:"playBgAudio",value:function(){this.sfx.isBgPlaying()||this.sfx.resumeBg()}},{key:"pauseBgAudio",value:function(){this.sfx.pauseBg(),this.sfx.stopAllFeedback()}},{key:"attemptedQuest",value:function(e){console.log("RendererComponent -> attemptedQuest -> obj",e),this.attempted.emit(e)}},{key:"manipulation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,t&&this.questionCtrl.computeConfidenceMatrix(),e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore(),e.attemptedOption.forEach(function(e){}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",e.attemptedOption),e}},{key:"ngOnDestroy",value:function(){try{this.subscription.unsubscribe(),this.nagivation_subscription.unsubscribe(),this.attempted.unsubscribe(),this.submitted.unsubscribe(),this.questLoad.unsubscribe(),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 524 ~ RendererComponent ~ ngOnDestroy ~ this.questionCtrl.theme",this.questionCtrl.theme)}catch(e){}this.questionCtrl.theme&&this.sfx.destroy(),this.modalService.hasOpenModals()&&this.modalService.dismissAll()}}]),e}()).\u0275fac=function(e){return new(e||Ga)(s.Qb(mu),s.Qb(fu),s.Qb(o.b),s.Qb(Pu),s.Qb(T.b))},Ga.\u0275cmp=s.Kb({type:Ga,selectors:[["tce-renderer"]],viewQuery:function(e,t){var n;1&e&&s.Mc(Zo,1,s.R),2&e&&s.zc(n=s.gc())&&(t.widgetTargets=n.first)},inputs:{rules:"rules",quizData:"quizData",basePath:"basePath",attemptedOps:"attemptedOps",isSound:"isSound",timeSpend:"timeSpend",idleTime:"idleTime",messageOption:"messageOption",attemptCount:"attemptCount",mode:"mode",theme:"theme",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$validateQuestion:"$validateQuestion",$nextSubQ:"$nextSubQ",$iDontknw:"$iDontknw",$bgAudio:"$bgAudio",$nagivation:"$nagivation"},outputs:{attempted:"attempted",submitted:"submitted",questLoad:"questLoad",onIdleTime:"onIdleTime"},decls:20,vars:18,consts:[["id","big-idea-theme","rel","stylesheet","href",""],[2,"position","fixed","bottom","0","left","0","z-index","1","padding","1px 5px","font-size","12px","color","#757575"],[1,"space",3,"ngClass"],[3,"quizData","attemptedOps","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","class","attempted","questAttempted","questLoad",4,"ngIf"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attemptedOps","class","questAttempted","attempted","questLoad",4,"ngIf"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attemptedOps","class","attempted","questLoad",4,"ngIf"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","class","attemptedOps","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","$resetScreen","attemptedOps","quizData","configData","mode","class","$iDontknw","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","mode","$iDontknw","$nextSubQ","class","attempted","questAttempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","mode","$iDontknw","$nextSubQ","class","attempted","questLoad","questAttempted",4,"ngIf"],[3,"$showCorrectAns","$resetScreen","quizData","$iDontknw","configData","mode","class","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","$resetScreen","quizData","$iDontknw","configData","mode","attemptedOps","class","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","configData","mode","$iDontknw","class","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","mode","attemptedOps","$resetScreen","quizData","configData","$iDontknw","class","attempted","questLoad",4,"ngIf"],[3,"$showCorrectAns","$resetScreen","quizData","configData","mode","attemptedOps","$iDontknw","class","attempted","questLoad",4,"ngIf"],[3,"quizData","mode","attemptedOps","$showCorrectAns","$resetScreen","$iDontknw","configData","class","attempted","questAttempted","questLoad",4,"ngIf"],[3,"quizData","attemptedOps","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attempted","questAttempted","questLoad"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attemptedOps","questAttempted","attempted","questLoad"],[3,"quizData","$showCorrectAns","$resetScreen","$iDontknw","configData","mode","attemptedOps","attempted","questLoad"],[3,"$showCorrectAns","$resetScreen","attemptedOps","quizData","configData","mode","$iDontknw","attempted","questLoad"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","mode","$iDontknw","$nextSubQ","attempted","questAttempted","questLoad"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","mode","$iDontknw","$nextSubQ","attempted","questLoad","questAttempted"],[3,"$showCorrectAns","$resetScreen","quizData","$iDontknw","configData","mode","attempted","questLoad"],[3,"$showCorrectAns","$resetScreen","quizData","$iDontknw","configData","mode","attemptedOps","attempted","questLoad"],[3,"$showCorrectAns","attemptedOps","$resetScreen","quizData","configData","mode","$iDontknw","attempted","questLoad"],[3,"$showCorrectAns","mode","attemptedOps","$resetScreen","quizData","configData","$iDontknw","attempted","questLoad"],[3,"$showCorrectAns","$resetScreen","quizData","configData","mode","attemptedOps","$iDontknw","attempted","questLoad"],[3,"quizData","mode","attemptedOps","$showCorrectAns","$resetScreen","$iDontknw","configData","attempted","questAttempted","questLoad"]],template:function(e,t){1&e&&(s.Rb(0,"link",0),s.Vb(1,"div",1),s.Jc(2),s.Ub(),s.Vb(3,"div",2),s.Hc(4,Jo,1,10,"tce-mcq",3),s.Hc(5,es,1,10,"tce-scq",4),s.Hc(6,ts,1,10,"tce-sorting",5),s.Hc(7,ns,1,10,"tce-sorting",6),s.Hc(8,rs,1,10,"tce-subjective",7),s.Hc(9,is,1,11,"tce-composite-steps",8),s.Hc(10,os,1,11,"tce-composite-steps",9),s.Hc(11,ss,1,10,"tce-match",10),s.Hc(12,as,1,11,"tce-match",11),s.Hc(13,us,1,10,"tce-fib",12),s.Hc(14,cs,1,10,"nx-afs-fib-drop-down",13),s.Hc(15,ls,1,10,"nx-afs-fib-select",12),s.Hc(16,hs,1,10,"nx-afs-fib-dnd",14),s.Hc(17,ds,1,10,"nx-afs-hotspot",14),s.Hc(18,fs,1,10,"nx-afs-world-select",15),s.Hc(19,ps,1,10,"nx-afs-word-select-v2",15),s.Ub()),2&e&&(s.Db(2),s.Lc(" ",t.libVersion,"\n"),s.Db(1),s.oc("ngClass","quizEngine_"+t.mode),s.Db(1),s.oc("ngIf","MCQ"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","SCQ"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","SORTING"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","CATEGORY"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","SUBJECTIVE"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","SERIES"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","COMPOSITE"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","MATCHING"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","MATCH"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","FIB"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","FIBSCQ"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","FIBMCQ"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","FIBDND"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","HOTSPOT"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","WS"===t.qData[0].data.type),s.Db(1),s.oc("ngIf","WSV2"===t.qData[0].data.type))},directives:function(){return[a.j,a.l,vu,Su,Tu,wu,yu,Ou,bu,Eu,Qu,Cu,Du,zu,Hu]},styles:[""]}),Ga),Au=((Wa=function(){function e(t,n){_classCallCheck(this,e),this.utility=t,this.renderer=n,this.widthExceedClass=new s.n,this.isZoomFeed=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.$resetOverFlow&&this.$resetOverFlow.subscribe(function(t){e.removeAllClass()})}},{key:"removeAllClass",value:function(){this.renderer.removeClass(this.feedbackWrapper.nativeElement.parentElement.parentElement,"feedbackWidthExceededWrapper"),this.renderer.removeClass(this.feedbackWrapper.nativeElement,"feedbackWidthExceeded"),this.isZoomFeed=!1}},{key:"eqRendred",value:function(e){this.isZoomFeed=!1}},{key:"checkForZoom",value:function(){if(this.feedbackWrapper&&!this.isZoomFeed){var e=this.feedbackWrapper.nativeElement.querySelectorAll(".ql-editor")[0],t=[].slice.call(e.querySelectorAll("span")),n=[].slice.call(e.querySelectorAll("img"));if(Math.max.apply(Math,_toConsumableArray(t.concat(n).map(function(e){return e.offsetWidth})))-5>e.offsetWidth)return this.isZoomFeed=!0,this.renderer.addClass(this.feedbackWrapper.nativeElement.parentElement.parentElement,"feedbackWidthExceededWrapper"),this.renderer.addClass(this.feedbackWrapper.nativeElement,"feedbackWidthExceeded"),this.widthExceedClass.emit(),!0}return!1}}]),e}()).\u0275fac=function(e){return new(e||Wa)(s.Qb(pu),s.Qb(s.E))},Wa.\u0275cmp=s.Kb({type:Wa,selectors:[["tce-feedback"]],viewQuery:function(e,t){var n;1&e&&s.Mc(_s,1),2&e&&s.zc(n=s.gc())&&(t.feedbackWrapper=n.first)},inputs:{$resetOverFlow:"$resetOverFlow",feedback:"feedback"},outputs:{widthExceedClass:"widthExceedClass"},decls:7,vars:9,consts:[[1,"pb-4","text-center","justify-content-center",3,"ngClass"],["feedbackWrapper",""],[1,"tce-quill-view",3,"content","equationRendered"],[1,"optMediaWrapper"],[3,"imgSrc",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[3,"imgSrc"],["controls","",3,"src"]],template:function(e,t){1&e&&(s.Vb(0,"div",0,1),s.Vb(2,"tce-quiz-quill-view",2),s.fc("equationRendered",function(e){return t.eqRendred(e)}),s.Ub(),s.Ub(),s.Vb(3,"div",3),s.Hc(4,gs,1,1,"nx-afs-image-zoom",4),s.Hc(5,vs,1,1,"video",5),s.Hc(6,ms,1,1,"audio",5),s.Ub()),2&e&&(s.oc("ngClass",s.uc(5,Ui,t.feedback.feedback[0].text&&t.feedback.feedback[0].text.length>50&&t.feedback.feedback[0].text.length<100?"textSizeExtended":"",t.feedback.feedback[0].text&&t.feedback.feedback[0].text.length>100?"textSizeExtreme":"",(t.checkForZoom(),""))),s.Db(2),s.oc("content",t.feedback.feedback[0].text),s.Db(2),s.oc("ngIf",t.utility.checkImageAvailability(t.feedback.feedback[0].media)),s.Db(1),s.oc("ngIf",t.utility.checkVideoAvailability(t.feedback.feedback[0].media)),s.Db(1),s.oc("ngIf",t.utility.checkAudioAvailability(t.feedback.feedback[0].media)))},directives:function(){return[a.j,Yu,a.l,Ku]},styles:[""]}),Wa),Iu=((Va=function(){function e(t,n,r,i){_classCallCheck(this,e),this.utility=t,this.questCtrl=n,this.ngZone=r,this.renderer=i,this.isZoom=!1,this.isFeedZoom=!1,this.stateChange=new s.n,this.isAnimation=!0,this.optMsg=""}return _createClass(e,[{key:"option",get:function(){return this._option},set:function(e){var t,n;console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 23 ~ OptionComponent ~ @Input ~ opt",e),this._option=e,this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(n=this.option)||void 0===n?void 0:n.curColl)}},{key:"onTouchEnter",value:function(e){this.isZoom&&(this.addClass(),this.addParentClass()),console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 60 ~ OptionComponent ~ @HostListener ~ this.isFeedZoom",this.isFeedZoom),console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 54 ~ OptionComponent ~ @HostListener ~ this.isZoom",this.isZoom),this.isFeedZoom&&navigator.userAgent.indexOf("Mobile")>-1&&this.renderer.addClass(this.optionWrapper.nativeElement.parentElement,"optFeedMobWidthExceededWrapper")}},{key:"onMouseEnter",value:function(e){this.isZoom&&(this.addClass(),this.addParentClass()),this.isFeedZoom&&-1===navigator.userAgent.indexOf("Mobile")&&this.renderer.addClass(this.optionWrapper.nativeElement.parentElement,"optFeedWidthExceededWrapper")}},{key:"onMouseLeave",value:function(){this.isZoom&&(this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optionMobWrapperIncrease"),this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optionWrapperIncrease"),this.renderer.removeClass(this.optionWrapper.nativeElement,"optionMobWidthIncrease"),this.renderer.removeClass(this.optionWrapper.nativeElement,"optionWidthIncrease")),this.isFeedZoom&&(this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optFeedWidthExceededWrapper"),this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optFeedMobWidthExceededWrapper"))}},{key:"ngOnInit",value:function(){var e,t,n=this;this.isAnimation=!0,this.checkAttempt(),this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(e=this.option)||void 0===e?void 0:e.index,null===(t=this.option)||void 0===t?void 0:t.curColl),this.$resetScreen&&this.$resetScreen.subscribe(function(e){n.reset()}),this.$resetOverFlow&&this.$resetOverFlow.subscribe(function(e){n.removeFeedClasses()}),this.$otherOptChange&&this.$otherOptChange.subscribe(function(){var e,t;console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 69 ~ OptionComponent ~ this.$otherOptChange.subscribe ~ this.optMsg",n.optMsg),n.optMsg=n.getOptionPrefixFeedback(n.option.isCorrect,n.option.isSelected,null===(e=n.option)||void 0===e?void 0:e.index,null===(t=n.option)||void 0===t?void 0:t.curColl)})}},{key:"removeFeedClasses",value:function(){this.renderer.removeClass(this.optionWrapper.nativeElement.parentElement,"optFeedWidthExceededWrapper"),this.renderer.removeClass(this.optionWrapper.nativeElement,"optFeedWidthExceeded"),this.isFeedZoom=!1}},{key:"checkForZoom",value:function(){var e=this.optionWrapper.nativeElement.querySelectorAll(".ql-editor")[0],t=[].slice.call(e.querySelectorAll("span")),n=[].slice.call(e.querySelectorAll("img"));Math.max.apply(Math,_toConsumableArray(t.concat(n).map(function(e){return e.offsetWidth})))>e.offsetWidth&&(this.isZoom=!0,this.renderer.addClass(this.optionWrapper.nativeElement.parentElement.parentElement,"optionWidthExceededWrapper"),this.renderer.addClass(this.optionWrapper.nativeElement,"optionWidthExceeded"),console.log("---wider---"))}},{key:"addClass",value:function(){navigator.userAgent.indexOf("Mobile")>-1?this.renderer.addClass(this.optionWrapper.nativeElement,"optionMobWidthIncrease"):this.renderer.addClass(this.optionWrapper.nativeElement,"optionWidthIncrease")}},{key:"addParentClass",value:function(){navigator.userAgent.indexOf("Mobile")>-1?this.renderer.addClass(this.optionWrapper.nativeElement.parentElement.parentElement,"optionMobWrapperIncrease"):this.renderer.addClass(this.optionWrapper.nativeElement.parentElement.parentElement,"optionWrapperIncrease")}},{key:"onWidthExceedClass",value:function(){this.isFeedZoom=!0,this.renderer.addClass(this.optionWrapper.nativeElement,"optFeedWidthExceeded")}},{key:"reset",value:function(){var e,t;this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(e=this.option)||void 0===e?void 0:e.index,null===(t=this.option)||void 0===t?void 0:t.curColl)}},{key:"checkAttempt",value:function(){if(this.questCtrl.theme){var e=this.questCtrl.theme.replace("theme.css","");this.option.isSelected&&1===this.option.isCorrect?(this.isAnimation=!1,this.pathConfig={path:e+"correct.json",loop:!1}):this.option.isSelected&&(this.isAnimation=!1,this.pathConfig={path:e+"incorrect.json",loop:!1})}}},{key:"getOptionPrefixFeedback",value:function(e,t,n,r){return this.questCtrl.getOptionPrefixFeedback(e,t,n,r)}},{key:"getFreeStyle",value:function(){if(this.configData.userInteraction.position)for(var e=0;e<this.configData.userInteraction.position.length;e++){var t=this.configData.userInteraction.position[e];if(e===this.index)return{top:t.y+"%",left:t.x+"%",width:"calc("+t.width+"% - 12px)",height:t.height+"%"}}return{}}},{key:"onStateChange",value:function(){var e,t;0===this.option.isCorrect&&(this.option.score=0),this.isAnimation=!0,this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(e=this.option)||void 0===e?void 0:e.index,null===(t=this.option)||void 0===t?void 0:t.curColl),console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 126 ~ OptionComponent ~ onStateChange ~ this.optMsg",this.optMsg),this.stateChange.emit(this.option),this.initAnimation()}},{key:"initAnimation",value:function(){if(this.questCtrl.theme){var e=this.questCtrl.theme.replace("theme.css","");this.option.isSelected&&1===this.option.isCorrect?this.pathConfig={path:e+"correct.json",loop:!1}:this.option.isSelected&&(this.pathConfig={path:e+"incorrect.json",loop:!1})}}},{key:"animationCreated",value:function(e){this.animationItem=e}},{key:"onAnimationReady",value:function(e){var t=this;this.isAnimation||this.ngZone.runOutsideAngular(function(){return t.animationItem.goToAndStop(t.animationItem.totalFrames-1,!0)})}}]),e}()).\u0275fac=function(e){return new(e||Va)(s.Qb(pu),s.Qb(fu),s.Qb(s.A),s.Qb(s.E))},Va.\u0275cmp=s.Kb({type:Va,selectors:[["tce-option"]],viewQuery:function(e,t){var n;1&e&&s.Mc(ys,1),2&e&&s.zc(n=s.gc())&&(t.optionWrapper=n.first)},hostBindings:function(e,t){1&e&&s.fc("click",function(){return t.onTouchEnter()})("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})},inputs:{option:"option",$resetScreen:"$resetScreen",$resetOverFlow:"$resetOverFlow",configData:"configData",index:"index",$otherOptChange:"$otherOptChange"},outputs:{stateChange:"stateChange"},decls:14,vars:19,consts:[[1,"optionWrapper",3,"ngClass","ngStyle"],["optionWrapper",""],[1,"optionBox"],["class","lottieAnimationFeedback",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange","change"],["for","customCheck1",1,"custom-control-label"],[1,"optMediaWrapper"],[3,"imgSrc",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[1,"tce-quill-view",3,"content","equationRendered"],["class","feedbackPrefix",4,"ngIf"],["class","feedbackBox",4,"ngIf"],[1,"lottieAnimationFeedback"],[1,"lottieAnimationMidBox"],[1,"lottie",3,"options","animationCreated","dataReady"],[3,"imgSrc"],["controls","",3,"src"],[1,"feedbackPrefix"],[3,"message"],[1,"feedbackBox"],[3,"feedback","$resetOverFlow","widthExceedClass"],[1,"tick-icon"]],template:function(e,t){1&e&&(s.Vb(0,"div",0,1),s.Vb(2,"div",2),s.Hc(3,bs,3,1,"div",3),s.Vb(4,"div",4),s.Vb(5,"input",5),s.fc("ngModelChange",function(e){return t.option.isSelected=e})("change",function(){return t.onStateChange()}),s.Ub(),s.Vb(6,"label",6),s.Vb(7,"div",7),s.Hc(8,Es,1,1,"nx-afs-image-zoom",8),s.Hc(9,Cs,1,1,"video",9),s.Hc(10,Os,1,1,"audio",9),s.Ub(),s.Vb(11,"tce-quiz-quill-view",10),s.fc("equationRendered",function(){return t.checkForZoom()}),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Hc(12,Ss,2,1,"div",11),s.Hc(13,Ts,3,2,"div",12),s.Ub()),2&e&&(s.oc("ngClass",s.yc(11,ws,t.utility.isMediaAvailable(t.option.media)?"mediaWrapper":"",t.questCtrl.maxTextLength>25&&t.questCtrl.maxTextLength<32?"textSizeEasy":"",t.questCtrl.maxTextLength>32&&t.questCtrl.maxTextLength<64?"textSizeExtended":"",t.questCtrl.maxTextLength>64?"textSizeExtreme":"",t.questCtrl.maxSubTextLength>0&&t.questCtrl.maxSubTextLength<=3?"textStyle1":"",t.questCtrl.maxSubTextLength>3&&t.questCtrl.maxSubTextLength<=6?"textStyle2":"",t.questCtrl.maxSubTextLength>6?"textStyle3":""))("ngStyle",t.getFreeStyle()),s.Db(3),s.oc("ngIf",t.questCtrl.theme),s.Db(2),s.oc("id",t.index)("ngModel",t.option.isSelected),s.Db(3),s.oc("ngIf",t.utility.checkImageAvailability(t.option.media)),s.Db(1),s.oc("ngIf",t.utility.checkVideoAvailability(t.option.media)),s.Db(1),s.oc("ngIf",t.utility.checkAudioAvailability(t.option.media)),s.Db(1),s.oc("content",t.option.label),s.Db(1),s.oc("ngIf",t.questCtrl.isActiveInstandFeed()),s.Db(1),s.oc("ngIf",t.option.feedback))},directives:function(){return[a.j,a.m,a.l,c.a,c.f,c.g,Yu,Pr,Ku,Lu,Au]},styles:[hu]}),Va),Mu=((qa=function(){function e(t){_classCallCheck(this,e),this.utility=t}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||qa)(s.Qb(pu))},qa.\u0275cmp=s.Kb({type:qa,selectors:[["tce-question"]],inputs:{quizData:"quizData"},decls:7,vars:8,consts:[[1,"questionWrapper",3,"ngClass"],["class","questBox ",4,"ngIf"],["class","questBox",4,"ngIf"],[1,"questMediaWrapper"],[3,"imgSrc",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[1,"questBox"],[1,"tce-quill-view",3,"content"],[1,"marks"],[3,"imgSrc"],["controls","",3,"src"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Hc(1,Ds,4,2,"div",1),s.Hc(2,Ps,4,2,"div",2),s.Vb(3,"div",3),s.Hc(4,ks,1,1,"nx-afs-image-zoom",4),s.Hc(5,As,1,1,"video",5),s.Hc(6,Is,1,1,"audio",5),s.Ub(),s.Ub()),2&e&&(s.oc("ngClass",s.sc(6,Ms,(null==t.quizData[0]?null:t.quizData[0].data.stimulus)&&(null==t.quizData[0]?null:t.quizData[0].data.stimulus.length)>125)),s.Db(1),s.oc("ngIf",null==t.quizData[0]?null:t.quizData[0].data),s.Db(1),s.oc("ngIf",t.quizData.column_title),s.Db(2),s.oc("ngIf",t.utility.checkImageAvailability(null==t.quizData[0]?null:t.quizData[0].data.stimulus_media)),s.Db(1),s.oc("ngIf",t.utility.checkVideoAvailability(null==t.quizData[0]?null:t.quizData[0].data.stimulus_media)),s.Db(1),s.oc("ngIf",t.utility.checkAudioAvailability(null==t.quizData[0]?null:t.quizData[0].data.stimulus_media)))},directives:function(){return[a.j,a.l,Yu,Ku]},styles:[".questBox[_ngcontent-%COMP%]{display:flex}.marks[_ngcontent-%COMP%]{padding-top:3px;display:none}[_nghost-%COMP%]     .ql-container{font-size:inherit}"]}),qa),Ru=((Fa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Fa)},Fa.\u0275cmp=s.Kb({type:Fa,selectors:[["tce-instructions"]],inputs:{instructionData:"instructionData"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],[1,"tce-quill-view",3,"content"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Rb(1,"tce-quiz-quill-view",1),s.Ub()),2&e&&(s.oc("ngStyle",t.instructionData.intructionStyle)("ngClass",s.uc(3,Ui,t.instructionData.data.length>50&&t.instructionData.data.length<100?"textSizeEasy":"",t.instructionData.data.length>100&&t.instructionData.data.length<150?"textSizeExtended":"",t.instructionData.data.length>150?"textSizeExtreme":"")),s.Db(1),s.oc("content",t.instructionData.data))},directives:function(){return[a.m,a.j,Yu]},styles:[""]}),Fa),xu=((Ba=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ba)},Ba.\u0275cmp=s.Kb({type:Ba,selectors:[["tce-solution-strategies"]],inputs:{solutionStrtegiesData:"solutionStrtegiesData"},decls:1,vars:1,consts:[[1,"tce-quill-view",3,"content"]],template:function(e,t){1&e&&s.Rb(0,"tce-quiz-quill-view",0),2&e&&s.oc("content",t.solutionStrtegiesData.data)},directives:function(){return[Yu]},styles:[""]}),Ba),Lu=((Ua=function(){function e(){_classCallCheck(this,e),this.showSolution=new s.n}return _createClass(e,[{key:"message",get:function(){return this._message},set:function(e){this._message=e}},{key:"ngOnInit",value:function(){}},{key:"solutionData",get:function(){return this._solutionData},set:function(e){this._solutionData=e}},{key:"onColutionClicked",value:function(){this.showSolution.emit()}},{key:"isSolution",value:function(){return!!(this.solutionData&&Object.keys(this.solutionData).length>0&&Array.isArray(this.solutionData.answer)&&this.solutionData.answer.length>0&&""!==this.solutionData.answer[0].text)||!(!(this.solutionData&&Object.keys(this.solutionData).length>0)||Array.isArray(this.solutionData.answer)||""===this.solutionData.answer)||!!(this.solutionData&&Object.keys(this.solutionData).length>0&&this.solutionData.data.length>0)}}]),e}()).\u0275fac=function(e){return new(e||Ua)},Ua.\u0275cmp=s.Kb({type:Ua,selectors:[["tce-question-feedback"]],inputs:{message:"message",solutionData:"solutionData"},outputs:{showSolution:"showSolution"},decls:3,vars:2,consts:[[1,"questionFeedback","heading4","mb-3","text-center","justify-content-center"],[1,"textDisplay",3,"innerHTML"],["class","btn btn-icon justify-content-end",3,"click",4,"ngIf"],[1,"btn","btn-icon","justify-content-end",3,"click"],[1,"icon","icon-solution","d-block"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Rb(1,"div",1),s.Hc(2,Rs,2,0,"button",2),s.Ub()),2&e&&(s.Db(1),s.oc("innerHTML",t.message,s.Cc),s.Db(1),s.oc("ngIf",t.isSolution()))},directives:[a.l],styles:[".redFont[_ngcontent-%COMP%]{color:#c00000}.greenFont[_ngcontent-%COMP%]{color:#548135}.mdi-check[_ngcontent-%COMP%], .mdi-close[_ngcontent-%COMP%], .showSolutionBtn[_ngcontent-%COMP%]{display:none}.solution_button[_ngcontent-%COMP%]{position:relative;z-index:10;pointer-events:all}.questionFeedback[_ngcontent-%COMP%]{display:flex;padding:0;justify-content:center;align-items:center;position:relative}.questionFeedback[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:0}.questionFeedback[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:relative;right:0;top:0}[_nghost-%COMP%]     .feedbackPrefix .textDisplay{font-size:12px}[_nghost-%COMP%]     .feedbackPrefix .questionFeedback{padding:0}"]}),Ua),ju=((Na=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Na)},Na.\u0275cmp=s.Kb({type:Na,selectors:[["nx-afs-image-viewer"]],inputs:{attachment:"attachment"},decls:1,vars:1,consts:[[3,"imgSrc"]],template:function(e,t){1&e&&s.Rb(0,"nx-afs-image-zoom",0),2&e&&s.oc("imgSrc",t.attachment)},directives:function(){return[Ku]},styles:[""]}),Na),Nu=((ja=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ja)},ja.\u0275cmp=s.Kb({type:ja,selectors:[["nx-afs-video-viewer"]],inputs:{attachment:"attachment"},decls:4,vars:1,consts:[[1,"embed-responsive","embed-responsive-21by9"],["width","100%","height","240","controls","","autoplay","",1,"embed-responsive-item"],["type","video/mp4",3,"src"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"video",1),s.Rb(2,"source",2),s.Jc(3," Your browser does not support the video tag.\n"),s.Ub(),s.Ub()),2&e&&(s.Db(2),s.oc("src",t.attachment,s.Ec))},styles:[""]}),ja),Uu=((La=function(){function e(t){_classCallCheck(this,e),this.sanitizer=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.url=this.sanitizer.bypassSecurityTrustResourceUrl(this.attachment)}}]),e}()).\u0275fac=function(e){return new(e||La)(s.Qb(o.b))},La.\u0275cmp=s.Kb({type:La,selectors:[["nx-afs-pdf-viewer"]],inputs:{attachment:"attachment"},decls:1,vars:1,consts:[["width","100%","height","500px",3,"src"]],template:function(e,t){1&e&&s.Rb(0,"iframe",0),2&e&&s.oc("src",t.url,s.Dc)},styles:[""]}),La),Bu=((xa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||xa)},xa.\u0275cmp=s.Kb({type:xa,selectors:[["nx-afs-text-viewer"]],inputs:{attachment:"attachment"},decls:1,vars:1,consts:[[1,"tce-quill-view",3,"content"]],template:function(e,t){1&e&&s.Rb(0,"tce-quiz-quill-view",0),2&e&&s.oc("content",t.attachment)},directives:function(){return[Yu]},styles:[""]}),xa),Fu=((Ra=function(){function e(t){_classCallCheck(this,e),this.activeModal=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.openurl()}},{key:"openurl",value:function(){window.open(this.attachment,"_blank"),this.activeModal.close()}}]),e}()).\u0275fac=function(e){return new(e||Ra)(s.Qb(T.a))},Ra.\u0275cmp=s.Kb({type:Ra,selectors:[["nx-afs-external-link"]],inputs:{attachment:"attachment"},decls:1,vars:1,consts:[["_blank","",3,"href"]],template:function(e,t){1&e&&s.Rb(0,"a",0),2&e&&s.oc("href",t.attachment,s.Ec)},styles:[""]}),Ra),qu=((Ma=function(){function e(){_classCallCheck(this,e),this.status=!1}return _createClass(e,[{key:"toggleFlag",value:function(){this.status=!this.status}}]),e}()).\u0275fac=function(e){return new(e||Ma)},Ma.\u0275cmp=s.Kb({type:Ma,selectors:[["lib-flag"]],decls:13,vars:2,consts:[[1,"flag-active"],["viewBox","0 0 24 24"],["d","M15.9027,1.15353333 C15.7344,1.0857 11.7377333,-0.478866667 8.62803333,1.17003333 C6.16403333,2.47793333 1.83883333,1.49673333 0.733333333,1.21293333 L0.733333333,0.366666667 C0.733333333,0.1639 0.569433333,0 0.366666667,0 C0.1639,0 0,0.1639 0,0.366666667 L0,1.46666667 C0,1.4718 0.00256666667,1.4762 0.00293333333,1.48133333 C0.00293333333,1.48573333 0,1.4894 0,1.4938 L0,12.1 L0,12.4938 L0,21.6333333 C0,21.8361 0.1639,22 0.366666667,22 C0.569433333,22 0.733333333,21.8361 0.733333333,21.6333333 L0.733333333,12.9708333 C1.56676667,13.1787333 3.38323333,13.5692333 5.26826667,13.5692333 C6.5725,13.5692333 7.90826667,13.3818667 8.97196667,12.8179333 C11.7777,11.3289 15.5925,12.8194 15.6306333,12.8344333 C15.7439333,12.8799 15.8715333,12.8659667 15.9723667,12.7970333 C16.0728333,12.7292 16.1333333,12.6155333 16.1333333,12.4938 L16.1333333,1.4938 C16.1333333,1.34383333 16.0420333,1.20926667 15.9027,1.15353333 Z"],[1,"flag-inactive"],["d","M15.9027,1.15353333 C15.7344,1.0857 11.7377333,-0.478866667 8.62803333,1.17003333 C6.16403333,2.47793333 1.83883333,1.49673333 0.733333333,1.21293333 L0.733333333,0.366666667 C0.733333333,0.1639 0.569433333,0 0.366666667,0 C0.1639,0 0,0.1639 0,0.366666667 L0,1.46666667 C0,1.4718 0.00256666667,1.4762 0.00293333333,1.48133333 C0.00293333333,1.48573333 0,1.4894 0,1.4938 L0,12.1 L0,12.4938 L0,21.6333333 C0,21.8361 0.1639,22 0.366666667,22 C0.569433333,22 0.733333333,21.8361 0.733333333,21.6333333 L0.733333333,12.9708333 C1.56676667,13.1787333 3.38323333,13.5692333 5.26826667,13.5692333 C6.5725,13.5692333 7.90826667,13.3818667 8.97196667,12.8179333 C11.7777,11.3289 15.5925,12.8194 15.6306333,12.8344333 C15.7439333,12.8799 15.8715333,12.8659667 15.9723667,12.7970333 C16.0728333,12.7292 16.1333333,12.6155333 16.1333333,12.4938 L16.1333333,1.4938 C16.1333333,1.34383333 16.0420333,1.20926667 15.9027,1.15353333 Z M15.4,11.9771667 C14.2046667,11.5965667 11.1298,10.8419667 8.62803333,12.1696667 C6.1644,13.4772 1.84066667,12.4967333 0.733333333,12.2129333 L0.733333333,12.1 L0.733333333,1.97083333 C2.1461,2.3232 6.37303333,3.1966 8.97196667,1.81793333 C11.3795,0.540833333 14.5299,1.45676667 15.4,1.75156667 L15.4,11.9771667 Z"],[1,"flag-toggle"],[3,"ngClass","click"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.ic(),s.Vb(1,"svg",1),s.Rb(2,"path",2),s.Ub(),s.Ub(),s.hc(),s.Vb(3,"div",3),s.ic(),s.Vb(4,"svg",1),s.Rb(5,"path",4),s.Ub(),s.Ub(),s.hc(),s.Vb(6,"div",5),s.Vb(7,"div",6),s.fc("click",function(){return t.toggleFlag()}),s.ic(),s.Vb(8,"svg",1),s.Rb(9,"path",4),s.Ub(),s.Ub(),s.hc(),s.Vb(10,"div",6),s.fc("click",function(){return t.toggleFlag()}),s.ic(),s.Vb(11,"svg",1),s.Rb(12,"path",2),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Db(7),s.oc("ngClass",t.status?"":"flag-inactive"),s.Db(3),s.oc("ngClass",t.status?"flag-active":""))},directives:[a.j],styles:["div[_ngcontent-%COMP%]{height:40px;width:40px;padding:5px}.flag-active[_ngcontent-%COMP%], .flag-inactive[_ngcontent-%COMP%], .flag-toggle[_ngcontent-%COMP%]{display:none}"]}),Ma),Vu=((Ia=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||Ia)},Ia.\u0275cmp=s.Kb({type:Ia,selectors:[["lib-difficulty-level"]],inputs:{difficultyType:"difficultyType"},decls:3,vars:3,consts:[[4,"ngIf"],["viewBox","0 0 24 24"],["d","M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"],["d","M19.5,14.5A7.5,7.5 0 0,1 12,22A7.5,7.5 0 0,1 4.5,14.5C4.5,10.36 7.86,2 12,2C16.14,2 19.5,10.36 19.5,14.5Z"],["d","M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"]],template:function(e,t){1&e&&(s.Hc(0,xs,3,0,"div",0),s.Hc(1,Ls,3,0,"div",0),s.Hc(2,js,3,0,"div",0)),2&e&&(s.oc("ngIf","easy"===t.difficultyType),s.Db(1),s.oc("ngIf","difficul"===t.difficultyType),s.Db(1),s.oc("ngIf","medium"===t.difficultyType))},directives:[a.l],styles:["div[_ngcontent-%COMP%]{height:40px;width:40px;padding:5px}"]}),Ia),Wu=((Aa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.attachment.forEach(function(t){"text"===t.type&&(e.text=t.data),"image"===t.type&&(e.image=t.data)})}}]),e}()).\u0275fac=function(e){return new(e||Aa)},Aa.\u0275cmp=s.Kb({type:Aa,selectors:[["nx-afs-notes-viewer"]],inputs:{attachment:"attachment"},decls:2,vars:2,consts:[[1,"tce-quill-view",3,"content"],["width","300px",3,"src"]],template:function(e,t){1&e&&(s.Rb(0,"tce-quiz-quill-view",0),s.Rb(1,"img",1)),2&e&&(s.oc("content",t.text),s.Db(1),s.oc("src",t.image,s.Ec))},directives:function(){return[Yu]},styles:[""]}),Aa),Gu=((ka=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||ka)},ka.\u0275cmp=s.Kb({type:ka,selectors:[["lib-bonus"]],inputs:{bonusStr:"bonusStr"},decls:15,vars:1,consts:[[1,"bonusWrapper"],["width","24px","height","24px","viewBox","0 0 60 60","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","path-1","x","1","y","1","width","58","height","58","rx","10"],["id","Elements/Graphics/Style1/Bonus/Colour","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","mask-2","fill","white"],[0,"xlink","href","#path-1"],["id","Rectangle","fill","#FF6107",0,"xlink","href","#path-1"],["id","Path-2","fill-opacity","0.4","fill","#FFC107","mask","url(#mask-2)","points","0 49.7783203 42.0615234 0 60 0 60 23.6054688 0 60"],["d","M47.9061651,25.0715943 C47.6705023,24.3426327 47.0239403,23.8248887 46.2589975,23.7559477 L35.8684109,22.8124726 L31.7596933,13.1956178 C31.4567375,12.4908268 30.7667784,12.0346079 30.0001877,12.0346079 C29.2335969,12.0346079 28.5436378,12.4908268 28.240682,13.1972659 L24.1319644,22.8124726 L13.7397298,23.7559477 C12.9761603,23.8265366 12.3312463,24.3426327 12.0942102,25.0715943 C11.8571741,25.8005558 12.0760823,26.6001064 12.6537033,27.1041172 L20.5077564,33.9921725 L18.1917789,44.1940642 C18.0223105,44.944175 18.3134556,45.719555 18.9358471,46.1694567 C19.2703894,46.4111621 19.6617874,46.5342122 20.0564813,46.5342122 C20.3967916,46.5342122 20.7343552,46.442474 21.037311,46.2611949 L30.0001877,40.9043984 L38.9597684,46.2611949 C39.6153944,46.6556142 40.4418621,46.6196331 41.0628802,46.1694567 C41.6855464,45.7181817 41.9764168,44.942527 41.8069484,44.1940642 L39.4909709,33.9921725 L47.345024,27.1054905 C47.9226451,26.6001064 48.1432013,25.8019292 47.9061651,25.0715943 Z","id","Path","fill","#FFC107","fill-rule","nonzero","mask","url(#mask-2)"],["id","Rectangle-2","stroke","#FFFFFF","stroke-width","2","mask","url(#mask-2)","x","1","y","1","width","58","height","58","rx","10"],[1,"tooltip","bs-tooltip-right","position-relative","show"],[1,"arrow"],[1,"tooltip-inner"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.ic(),s.Vb(1,"svg",1),s.Vb(2,"defs"),s.Rb(3,"rect",2),s.Ub(),s.Vb(4,"g",3),s.Vb(5,"mask",4),s.Rb(6,"use",5),s.Ub(),s.Rb(7,"use",6),s.Rb(8,"polygon",7),s.Rb(9,"path",8),s.Rb(10,"rect",9),s.Ub(),s.Ub(),s.hc(),s.Vb(11,"div",10),s.Rb(12,"div",11),s.Vb(13,"div",12),s.Rb(14,"p",13),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Db(14),s.oc("innerHTML",t.bonusStr,s.Cc))},styles:[".bonusWrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;padding:0;margin:0}.bonusWrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:25px;margin:0 10px 0 0}.bonusWrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}"]}),ka),Ku=((Pa=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.modalService=t,this.questionCtrl=n,this.panZoomConfig=new er({panOnClickDrag:!1}),this.isZoom=!1,this.apiSubscription=this.panZoomConfig.api.subscribe(function(e){return r.panZoomAPI=e})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onLoad",value:function(e){console.log("ImageZoomComponent -> onLoad -> event",e),this.isZoom=!0}},{key:"openZoom",value:function(e,t){t.stopPropagation(),this.isZoom&&(this.modalRef=this.modalService.open(e,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center "+(this.questionCtrl.theme?"BigIdea-imgZoom":"")}))}},{key:"stopIt",value:function(e){e.stopPropagation()}},{key:"zoomIn",value:function(){this.panZoomAPI.zoomIn()}},{key:"zoomOut",value:function(){this.panZoomAPI.zoomOut()}},{key:"resetZoom",value:function(){this.panZoomAPI.resetView()}},{key:"close",value:function(){this.modalRef.dismiss()}},{key:"ngOnDestroy",value:function(){this.apiSubscription.unsubscribe(),this.modalRef&&this.modalRef.close()}}]),e}()).\u0275fac=function(e){return new(e||Pa)(s.Qb(T.b),s.Qb(fu))},Pa.\u0275cmp=s.Kb({type:Pa,selectors:[["nx-afs-image-zoom"]],viewQuery:function(e,t){var n;1&e&&s.Mc(Ns,1),2&e&&s.zc(n=s.gc())&&(t.pic=n.first)},inputs:{imgSrc:"imgSrc"},decls:6,vars:2,consts:[[1,"secure-asset-img",3,"url","click","load"],["pic",""],["class","imgZoomBtn","width","40px","height","40px","src","assets/images/quiz/search-black-icon.svg",3,"click","mousedown","mousemove","touchmove","touch","pan","touchstart",4,"ngIf"],["class","hello"],["zoom",""],["width","40px","height","40px","src","assets/images/quiz/search-black-icon.svg",1,"imgZoomBtn",3,"click","mousedown","mousemove","touchmove","touch","pan","touchstart"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn","btn-icon","close","close-icon",3,"click"],["width","24px","height","24px","viewBox","0 0 24 24","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Oval","fill-opacity","0.06","fill","#1268B3","cx","12","cy","12","r","12"],["id","Group","transform","translate(7.000000, 7.000000)","stroke","#0069B9"],["x1","0.550252532","y1","9.55025253","x2","9.55025253","y2","0.550252532","id","Path-5"],["x1","0.550252532","y1","9.55025253","x2","9.55025253","y2","0.550252532","id","Path-5","transform","translate(5.050253, 5.050253) scale(-1, 1) translate(-5.050253, -5.050253) "],[1,"modal-body"],[1,"zoom-view-sec"],[3,"config"],["cdkDrag","",2,"position","relative"],[3,"url"],[1,"modal-footer","justify-content-center"],[1,"btn","btn-sm","btn-link","float-left",3,"click"],[1,"bor"],[1,"btn","btn-sm","btn-link",3,"click"]],template:function(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div"),s.Vb(1,"nx-afs-lib-secure-asset",0,1),s.fc("click",function(e){s.Bc(n);var r=s.Ac(5);return t.openZoom(r,e)})("load",function(e){return t.onLoad(e)}),s.Ub(),s.Hc(3,Us,1,0,"img",2),s.Ub(),s.Hc(4,Bs,25,2,"ng-template",3,4,s.Ic)}2&e&&(s.Db(1),s.oc("url",t.questionCtrl.getBasePath()+t.imgSrc),s.Db(2),s.oc("ngIf",t.isZoom))},directives:[_r,a.l,Zn,ut],encapsulation:2}),Pa),zu=((Da=function(){function e(t,n,r,i){_classCallCheck(this,e),this.questionCtrl=t,this.utility=n,this.modalService=r,this.cdr=i,this.attempted=new s.n,this.submited=new s.n,this.questAttempted=new s.n,this.$onOptClick=new g.a(null),this.isSolution=!1,this.showattachment=!1,this.attemptedOption=[],this.attemptedOptionsObj=[],this.animationFlag=!1,this.totalCorrectOptionCount=-1,this.selectOptionCounter=0,this.selectedWord=[],this.destroy$=new v.a,this.optionCorretion={"0_0":"","1_0":"wordColor incorrect","0_1":"","1_1":"wordColor correct"},this.wordCorretion={0:"incorrect",1:"partially-correct",2:"correct"},this.selectedOptionEvent=new s.n,this.userAttempt=new s.n,this.questLoad=new s.n}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.cdr.detectChanges()}},{key:"quizData",get:function(){return this._quizData},set:function(e){this._quizData=e,this.quizData[0].data.options=this.ExtractElementByIdFromString(e[0].data.questionData,e[0].data.options),this.totalCorrectOptionCount=-1,this.selectOptionCounter=0,this.setTotalCorrectOptionCount(this.getTotalOptionCount(this.quizData[0].data.options)),this.changeAttemptCount(e[0].data.options),this.questionCtrl._isAnimation=!0,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.$onOptClick.next(null),this.solution=this.quizData[0].solution}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e}},{key:"ngOnInit",value:function(){this.initEvent()}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset()}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()}),this.$iDontknw.subscribe(function(t){e.questionCtrl.onEventTrgger("iDontKnow"),e.showAnswer()}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(O.a)(this.destroy$)).subscribe(function(t){if(null!==t){var n=JSON.parse(JSON.stringify(e.attemptedOption));n=e.changeAttemptObj(n)}})}},{key:"reset",value:function(){this.selectedWord=[],this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}],this.attemptedOptionsObj=[]}},{key:"showAnswer",value:function(){}},{key:"getTotalOptionCount",value:function(e){var t,n=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;)1===t.value.isCorrect&&n++}catch(i){r.e(i)}finally{r.f()}return n}},{key:"getCorrectOptionCount",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;1===i.isCorrect&&n.push(i.position[0])}}catch(o){r.e(o)}finally{r.f()}this.questionCtrl.setCorrectOptions(n)}},{key:"checkAttempted",value:function(){var e;this.selectedWord=[],this.attemptedOptionsObj=[],this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?(this.attemptedOption=Object(w.cloneDeep)(this.attemptedOps),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.setSelectOptionCounter(this.attemptedOption[0].options.length),this.findSelectWords(this.attemptedOption[0].options),this.updateOptState()):this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}],this.questionCtrl.onEventTrgger("mode_"+this.mode+"_"+this.questionCtrl.questionState)}},{key:"findSelectWords",value:function(e){var t=this;e.forEach(function(e){var n=Object(w.find)(t.quizData[0].data.options,function(t){return t.position[0]===e}),r=Object(w.find)(t.wordsArray,function(t){return t.position[0]===e});t.attemptedOptionsObj.push(r);var i={};(i=r).isSelected=1,1==i.isCorrect&&(i.feedback=n.feedback),t.selectedWord.push({word:i.word,position:i.position,isCorrect:i.isCorrect,isSelected:i.isSelected,feedback:i.feedback,msg:t.questionCtrl.getOptionPrefixFeedback(i.isCorrect,i.isSelected,null==i?void 0:i.index,null==i?void 0:i.curColl)})}),this.questionCtrl.setQueState(this.getQValidate("checkAttempted")),this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted"))}},{key:"onDataLoad",value:function(e){this.wordsArray=e,this.checkAttempted()}},{key:"getWordBoundsAtPosition",value:function(e,t){for(var n=function(e){return/\s/.exec(e)},r=t-1,i=t;r>=0&&!n(e[r]);)r-=1;for(r=Math.max(0,r+1);i<e.length&&!n(e[i]);)i+=1;return i=Math.max(r,i),e.substring(r,i)}},{key:"selectWord",value:function(e){var t=e.word,n=e.position;0===this.selectedWord.length||0===this.selectedWord.filter(function(e,r){return e.word===t&&Object(w.isEqual)(e.position,n)}).length?this.selectedWord.push({word:t,position:n,isCorrect:e.isCorrect,isSelected:e.isSelected,feedback:e.feedback,msg:this.questionCtrl.getOptionPrefixFeedback(e.isCorrect,e.isSelected,null==t?void 0:t.index,null==t?void 0:t.curColl)}):this.removeSelectedWord(e),this.setSelectOptionCounter(this.selectedWord.length),this.updateOptState(),this.attemptedWord(e)}},{key:"updateOptState",value:function(){this.isOptionRestrict()?this.questionCtrl.onEventTrgger("optionRestriction"):this.questionCtrl.onEventTrgger("optionActivation")}},{key:"removeSelectedWord",value:function(e){Object(w.remove)(this.selectedWord,function(t){return t.word===e.word&&Object(w.isEqual)(t.position,e.position)})}},{key:"sortSelectWordByPosition",value:function(){this.selectedWord.sort(function(e,t){var n=e.position,r=t.position;return n<r?-1:n>r?1:0})}},{key:"removeElement",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o!==t.position[0]&&r.push(o)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"removeArrElement",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o!==t&&r.push(o)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"attemptedWord",value:function(e){this.attemptedOption=Object(w.cloneDeep)(this.attemptedOption),e.isSelected?(this.attemptedOptionsObj.push(e),this.attemptedOption[0].options.push(e.position[0])):(this.attemptedOptionsObj=this.removeArrElement(this.attemptedOptionsObj,e),this.attemptedOption[0].options=this.removeElement(this.attemptedOption[0].options,e),e.isSelected=!1),this.questionCtrl.setcurrentQuestFeedback(e.isCorrect),this.questionCtrl.setQueState(this.getQValidate("onStateChange")),this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted")),this.computeAttemptedMarks();var t=Object(w.cloneDeep)(this.attemptedOption);t=this.attemptedOption[0].options.length>0?this.changeAttemptObj(t):[],this.attempted.emit(this.getDispatchObj({event:"onOptClick",attemptedOption:t}))}},{key:"changeAttemptObj",value:function(e){var t=this;return e.forEach(function(e){e.qState=t.questionCtrl.getQuestState(),e.correctOptId=t.questionCtrl.getCorrectOptions(),e.optDisplayPos=t.optDisplayPos,e.parentsQstate=t.questionCtrl.getParentsQState(),e.attemptCount=t.questionCtrl.attempt_count,e.pending=t.questionCtrl.pending,e.confidence=t.questionCtrl.confidence,e.duration=t.questionCtrl.getDuration(),e.timeTaken=t.questionCtrl.timeTaken,e.version=t.questionCtrl.getVersionNumber(),e.marks=t.questionCtrl.getMarks(),e.obtainMarks=t.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(e),e}},{key:"getQValidate",value:function(e){for(var t=[],n=this.getAttemptValidationArr(this.quizData[0].data.options,this.attemptedOptionsObj),r=n.reduce(function(e,t){return e+t},0),i=n.length-r,o=0;o<this.attemptedOption[0].options.length;o++)t.push(1===n[o]?i+n[o]:-1);var s=t.reduce(function(e,t){return e+t},0),a=r*(i+1),u=Math.ceil(s/a);return u<0&&(u=0),(Math.floor(s/a)+1)*u}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.solution}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"getIndexByOption",value:function(e){return this.quizData[0].data.options.findIndex(function(t){return t.value===e})}},{key:"getAttemptValidationArr",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o.isCorrect)}}catch(u){i.e(u)}finally{i.f()}for(var s=e.length-r.reduce(function(e,t){return e+t},0),a=0;a<s;a++)r.push(1);return r}},{key:"getValidationArr",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.isCorrect)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"computeAttemptedMarks",value:function(){var e=this,t=this.attemptedOption[0].options.length>0?this.attemptedOption[0].options.map(function(t){return e.getOptionById(t)}).reduce(function(e,t){return e+t}):0;this.questionCtrl.setObtainScore(t)}},{key:"getclickCount",value:function(){return this.getValidationArr(this.quizData[0].data.options).reduce(function(e,t){return e+t},0)}},{key:"getOptionById",value:function(e){var t,n=_createForOfIteratorHelper(this.quizData[0].data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r.position[0])return r.score}}catch(i){n.e(i)}finally{n.f()}return 0}},{key:"selectedWordColor",value:function(e,t){var n,r;r=this.quizData[0].data.options.find(function(e){if(Object(w.isEqual)(e.position,t))return e}),n=this.selectedWord.find(function(n,r){if(n.word===e&&Object(w.isEqual)(n.position,t))return n});var i=~~this.isObject(n)+"_"+~~this.isObject(r);return this.optionCorretion[i]}},{key:"isObject",value:function(e){return"object"==typeof e}},{key:"changeAttemptCount",value:function(e){1===e.length&&this.questionCtrl.changeMaxAttempt(2)}},{key:"setTotalCorrectOptionCount",value:function(e){this.totalCorrectOptionCount=e}},{key:"setSelectOptionCounter",value:function(e){this.selectOptionCounter=e}},{key:"isOptionRestrict",value:function(){return this.totalCorrectOptionCount<=this.selectOptionCounter}},{key:"questionStatus",value:function(){var e,t=this;e=this.selectedWord.filter(function(e){return t.quizData[0].data.options.find(function(t){return Object(w.isEqual)(t.position,e.position)})});var n=this.getValidation(e.length,this.selectedWord.length);return this.wordCorretion[n]}},{key:"getValidation",value:function(e,t){return this.getAbsoluteValue(e/t)}},{key:"getAbsoluteValue",value:function(e){return 0!==e?Math.floor(e)+1:e}},{key:"ExtractElementByIdFromString",value:function(e,t){this.optDisplayPos=[];var n=document.createElement("div");n.innerHTML=e;var r=0,i=e.replace(/(<([^>]+)>)/gi," ").split(" ");i=i.filter(function(e){return""!==e}).join(" "),this.wordStr=i;var o,s=_createForOfIteratorHelper(n.getElementsByClassName("fibBlank"));try{for(s.s();!(o=s.n()).done;){var a=o.value,u=Object(w.findIndex)(t,{value:parseInt(a.id)});if(u>-1){var c=a.innerText.match(/\\?.|^$/g).reduce(function(e,t){return'"'===t?e.quote^=1:e.quote||" "!==t?e.a[e.a.length-1]+=t.replace(/\\(.)/,"$1"):e.a.push(""),e},{a:[""]}).a.filter(function(e){return""!==e}).join(" ");r=i.search(new RegExp("\\b"+c+"\\b"));var l=i.indexOf(c,r);r=l+a.innerText.length,i=i.replace(new RegExp("\\b"+c+"\\b"),"####"),i=this.hasHindiCharacters(i)||c.match(/^[.,:''!?]/)?i.replace(c,"####"):i.replace(new RegExp("\\b"+c+"\\b"),"####"),t[u].position=[l],this.optDisplayPos.push(l)}}}catch(h){s.e(h)}finally{s.f()}return t}},{key:"hasHindiCharacters",value:function(e){return e.split("").filter(function(e){var t=e.charCodeAt();return t>=2309&&t<=2361}).length>0}},{key:"getDispatchObj",value:function(e){var t=this;return e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.timeTaken=this.questionCtrl.timeTaken,e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore(),e.attemptedOption.forEach(function(n){n.timeTaken=Object(w.cloneDeep)(e.timeTaken),n.idleTime=Object(w.cloneDeep)(t.questionCtrl.getIdleTime())}),console.log("\ud83d\ude80 ~ file: renderer.component.ts ~ line 506 ~ RendererComponent ~ manipulation ~ obj.attemptedOption",e.attemptedOption),e}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null)}}]),e}()).\u0275fac=function(e){return new(e||Da)(s.Qb(fu),s.Qb(pu),s.Qb(T.b),s.Qb(s.h))},Da.\u0275cmp=s.Kb({type:Da,selectors:[["nx-afs-world-select"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",submited:"submited",questAttempted:"questAttempted",selectedOptionEvent:"selectedOptionEvent",userAttempt:"userAttempt",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"mainOptionBox"],[3,"options","sentence","selectedWords","$showCorrectAns","$resetScreen","$iDontknw","selectedWord","dataLoaded","dataArrCreated"],["class","selected-option-box",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"selected-option-box"],["class","selected-option",3,"ngClass",4,"ngFor","ngForOf"],[1,"selected-option",3,"ngClass"],[1,"option-box"],["class","feedbackPrefix",4,"ngIf"],[1,"feedbackBox"],[3,"feedback",4,"ngIf"],[1,"tick-icon"],[1,"feedbackPrefix"],[3,"message"],[3,"feedback"]],template:function(e,t){1&e&&s.Hc(0,Hs,27,17,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,Mu,Ru,$u,Lu,a.k,Au]},styles:["[_nghost-%COMP%]     .wordColor{background-color:rgba(100,198,253,.04);color:#64c6fd;font-weight:700}[_nghost-%COMP%]     .selected-option-box{display:flex;flex-direction:column;align-items:center;margin-top:40px;width:100%}[_nghost-%COMP%]     .selected-option-box span{font-size:15px;padding:15px 0;color:#757575}[_nghost-%COMP%]     .selected-option-box .selected-option{border:1px solid #64c5fb;border-radius:20px;padding:10px 15px;position:relative;margin-bottom:10px;width:100%;background-color:rgba(100,198,253,.04)}[_nghost-%COMP%]     .selected-option-box .selected-option .option-box{display:flex;flex-wrap:wrap;justify-content:center}[_nghost-%COMP%]     .selected-option-box .selected-option .option-box p{padding:2px;font-size:14px;font-weight:600;line-height:21.3px;margin:0;font-family:Montserrat,sans-serif;color:#202020}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect{background-color:#ffe5ec;color:#f93eba;border-color:#f93eba;border-radius:0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .option-box p{color:#f93eba;text-decoration:line-through}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct{background-color:#d9f4e7;color:#07d600;border-color:#07d600;border-radius:0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .option-box p{color:#07d600}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct{background-color:#f4ecd9;color:#d68700;border-color:#d68700}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .option-box p{color:#d68700}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-image:url(../assets/images/quiz/partially-icon.svg);background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed{background-color:#fff8d9;color:#fc0;border-color:#fc0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .option-box p{color:#fc0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-image:url(../assets/images/quiz/partially-icon.svg);background-repeat:no-repeat}.feedbackBox[_ngcontent-%COMP%]{display:none;font-family:Montserrat,sans-serif;font-size:12px;font-weight:700;line-height:17.04px;margin:10px;color:#202020}.feedbackBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     .instantFeedback .wordColor{background-color:rgba(100,198,253,.04);color:#64c6fd;font-weight:700}[_nghost-%COMP%]     .instantFeedback .wordColor.incorrect{background-color:#ffe5ec;color:#f93eba;text-decoration:line-through}[_nghost-%COMP%]     .instantFeedback .wordColor.correct{background-color:#d9f4e7;color:#07d600}[_nghost-%COMP%]     .instantFeedback .wordColor.missed{background-color:#fff8d9;color:#fc0;border-color:#fc0}[_nghost-%COMP%]     .mainOptionBox{display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .mainOptionBox .optiontext{margin:0;padding:0 5px 5px 0}"]}),Da),Hu=((wa=function(){function e(t,n,r){_classCallCheck(this,e),this.questionCtrl=t,this.render=n,this.modalService=r,this.attempted=new s.n,this.questLoad=new s.n,this.destroy$=new v.a,this.optionCorretion={"0_0":"","1_0":"wordColor incorrect","0_1":"","1_1":"wordColor correct"},this.wordCorretion={0:"incorrect",1:"partially-correct",2:"correct"},this.selectedWord=[],this.spanCounter=0,this.punctuations=[".",",","!","?","'",'"',"\u2018","\u2019"],this.isQReady=""}return _createClass(e,[{key:"quizData",get:function(){return this._quizData},set:function(e){this.isQReady="qDataLoad",this._quizData=e,this.changeAttemptCount(e[0].data.options),this.questionCtrl._isAnimation=!0,this.questLoad.emit({pending:this.questionCtrl.pending,subIndex:1,totalSubQ:this._quizData.length,marks:this.questionCtrl.getMarks()}),this.changeQuizTextToHtmlString()}},{key:"configData",get:function(){return this._configData},set:function(e){this._configData=e}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e,this.initCheckAttempt()}},{key:"initCheckAttempt",value:function(){var e=this;"qDataReady"===this.isQReady?(console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 99 ~ WordSelectV2Component ~ initCheckAttempt ~ this.isQReady",this.isQReady),this.checkAttemptedData()):this.attemptedOps.length>0&&this.attemptedOps[0].options.length>0&&setTimeout(function(){e.initCheckAttempt()},200)}},{key:"ngAfterViewInit",value:function(){this.initEvent()}},{key:"changeQuizTextToHtmlString",value:function(){var e=this;this.qWrapper?(this.spanCounter=-1,this.generateWordsArr(this.quizData[0].data.questionData,function(t){e.questHtmlString=e.combinePunctuations(t).join(" "),e.qWrapper.nativeElement.innerHTML=e.questHtmlString,e.initAttemptEvent(),e.questionCtrl.onEventTrgger("mode_"+e.mode+"_"+e.questionCtrl.questionState),console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 124 ~ WordSelectV2Component ~ this.generateWordsArr ~ this.isQReady",e.isQReady),e.isQReady="qDataReady"})):setTimeout(function(){e.changeQuizTextToHtmlString()},100)}},{key:"combinePunctuations",value:function(e){for(var t=[],n=0;n<=e.length;n++){var r=e[n+1]?e[n+1].replace(/(<([^>]+)>)/gi," ").trim():null;r&&this.punctuations.indexOf(r)>-1?(t.push('<span class="combine">'+e[n]),t.push(e[n+1]+"</span>"),e.splice(n+1,1)):t.push(e[n])}return t}},{key:"changeAttemptCount",value:function(e){1===e.length&&this.questionCtrl.changeMaxAttempt(2)}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset()}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()}),this.$iDontknw.subscribe(function(t){e.questionCtrl.onEventTrgger("iDontKnow"),e.showAnswer()}),this.questionCtrl.attemptCountAsSubscriber().pipe(Object(O.a)(this.destroy$)).subscribe(function(t){if(null!==t){var n=JSON.parse(JSON.stringify(e.selectedWord));n=e.changeAttemptObj(n)}})}},{key:"checkAttemptedData",value:function(){var e=this;this.selectedWord=[],console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 192 ~ WordSelectV2Component ~ getElementById ~ this.qWrapper.nativeElement.querySelectorAll('span')",this.qWrapper.nativeElement),this.attemptedOps.length>0&&this.attemptedOps[0].options.length>0&&(this.attemptedOps[0].options.forEach(function(t){var n=Number(t)<0?"w"+t:t;console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 161 ~ WordSelectV2Component ~ this.attemptedOps[0].options.forEach ~ id",n),console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 177 ~ WordSelectV2Component ~ this.attemptedOps[0].options.forEach ~ document.getElementById(id.toString())",document.getElementById(n.toString()));var r=document.getElementById(n.toString());e.checkAllreadyAttemt(n.toString(),r)}),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED"),this.updateOptState(),this.questionCtrl.setQueState(this.getQValidate("checkAttempted")))}},{key:"isNegative",value:function(e){return e<0}},{key:"changeAttemptObj",value:function(e){var t=this;return e.forEach(function(e){e.qState=t.questionCtrl.getQuestState(),e.parentsQstate=t.questionCtrl.getParentsQState(),e.attemptCount=t.questionCtrl.attempt_count,e.pending=t.questionCtrl.pending,e.confidence=t.questionCtrl.confidence,e.duration=t.questionCtrl.getDuration(),e.timeTaken=t.questionCtrl.timeTaken,e.version=t.questionCtrl.getVersionNumber(),e.marks=t.questionCtrl.getMarks(),e.obtainMarks=t.questionCtrl.getObtainScore()}),this.questionCtrl.setAttemptedOptions(e),e}},{key:"getDispatchObj",value:function(e){var t=this;return e.qState=this.questionCtrl.getQuestState(),e.parentsQstate=this.questionCtrl.getParentsQState(),e.attemptCount=this.questionCtrl.attempt_count,e.pending=this.questionCtrl.pending,this.questionCtrl.computeConfidenceMatrix(),e.confidence=this.questionCtrl.confidence,e.duration=this.questionCtrl.getDuration(),e.timeTaken=this.questionCtrl.timeTaken,e.idleTime=this.questionCtrl.getIdleTime(),e.version=this.questionCtrl.getVersionNumber(),e.marks=this.questionCtrl.getMarks(),e.obtainMarks=this.questionCtrl.getObtainScore(),e.attemptedOption.forEach(function(n){n.timeTaken=Object(w.cloneDeep)(e.timeTaken),n.idleTime=Object(w.cloneDeep)(t.questionCtrl.getIdleTime())}),e}},{key:"showAnswer",value:function(){}},{key:"initAttemptEvent",value:function(){var e=this;this.qWrapper.nativeElement.querySelectorAll("span").forEach(function(t){t.addEventListener("click",function(t){e.onAttempt(t)})})}},{key:"updateOptState",value:function(){console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 268 ~ WordSelectV2Component ~ updateOptState ~ this.selectedWord.length",this.selectedWord.length),console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 268 ~ WordSelectV2Component ~ updateOptState ~ this.quizData[0].data.options.length",this.quizData[0].data.options.length),this.questionCtrl.onEventTrgger(this.quizData[0].data.options.length<=this.selectedWord.length?"optionRestriction":"optionActivation")}},{key:"onAttempt",value:function(e){e.stopPropagation(),this.checkAllreadyAttemt(e.target.id,e.target),this.updateOptState();var t,n=[{qid:this.quizData[0].questionID,options:[]}];this.selectedWord.map(function(e){var t;t=e.id.indexOf("-")>-1?"-"+e.id.split("-")[1]:e.id,n[0].options.push(Number(t))}),t=n[0].options.length>0?Object(w.cloneDeep)(n):[],t=this.changeAttemptObj(t),this.questionCtrl.setQueState(this.getQValidate("onStateChange")),this.questionCtrl.setParentsQState(this.getQValidate("checkAttempted")),this.computeAttemptedMarks();var r=Object();r.attemptedOption=t,this.attempted.emit(this.getDispatchObj(r))}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.solutionData=this.quizData[0].solution}},{key:"getQValidate",value:function(e){for(var t=[],n=this.getAttemptValidationArr(this.quizData[0].data.options,this.selectedWord),r=n.reduce(function(e,t){return e+t},0),i=n.length-r,o=0;o<this.selectedWord.length;o++)t.push(1===n[o]?i+n[o]:-1);var s=t.reduce(function(e,t){return e+t},0),a=r*(i+1),u=Math.ceil(s/a);return u<0&&(u=0),(Math.floor(s/a)+1)*u}},{key:"getAttemptValidationArr",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o.state)}}catch(u){i.e(u)}finally{i.f()}for(var s=e.length-r.reduce(function(e,t){return e+t},0),a=0;a<s;a++)r.push(1);return r}},{key:"computeAttemptedMarks",value:function(){var e=0;console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 384 ~ WordSelectV2Component ~ computeAttemptedMarks ~ this.selectedWord",this.selectedWord),this.selectedWord.length>0&&(e=this.selectedWord.map(function(e){return e.score}).reduce(function(e,t){return e+t})),this.questionCtrl.setObtainScore(e)}},{key:"checkAllreadyAttemt",value:function(e,t){this.selectedWord.filter(function(t){return t.id===e}).length>0?(this.removeAttempt(e),this.removeClass(t)):this.addAttempt(e,t)}},{key:"addAttempt",value:function(e,t){console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 356 ~ WordSelectV2Component ~ addAttempt ~ target",t),console.log("\ud83d\ude80 ~ file: word-select-v2.component.ts ~ line 356 ~ WordSelectV2Component ~ addAttempt ~ id",e);var n=0;this.validate(e)?(n=1,this.addClass(t,1),this.questionCtrl.setcurrentQuestFeedback(1)):(this.addClass(t,0),this.questionCtrl.setcurrentQuestFeedback(0)),this.selectedWord.push({id:e,word:t.innerHTML,state:n,score:this.getScore(e),feedback:this.getFeedback(e),msg:this.questionCtrl.getOptionPrefixFeedback(n,!0,void 0,void 0)})}},{key:"removeAttempt",value:function(e){var t=this.selectedWord.findIndex(function(t){return t.id.toString()===e.toString()});this.selectedWord.splice(t,1)}},{key:"validate",value:function(e){return this.quizData[0].data.options[this.quizData[0].data.options.map(function(e){return e.value.toString()}).indexOf(e.toString())]}},{key:"getFeedback",value:function(e){var t=this.quizData[0].data.options.filter(function(t){return t.value.toString()===e.toString()});return t.length>0?t[0].feedback:null}},{key:"getScore",value:function(e){var t=this.quizData[0].data.options.filter(function(t){return t.value.toString()===e.toString()});return t.length>0?t[0].score:0}},{key:"removeClass",value:function(e){this.render.removeClass(e,"wordColor"),this.render.removeClass(e,"correct"),this.render.removeClass(e,"incorrect")}},{key:"addClass",value:function(e,t){1===t?(this.render.addClass(e,"wordColor"),this.render.addClass(e,"correct")):0===t&&(this.render.addClass(e,"wordColor"),this.render.addClass(e,"incorrect"))}},{key:"generateWordsArr",value:function(e,t){for(var n=this.htmlToPhrases(e).filter(function(e){return""!==e}),r=0;r<n.length;r++){var i=n[r].replace("<p>","@@@").replace("</p>","###");i=this.htmlToPhrases(i),n[r]=this.subStrArray(i)}var o=this.flatten(n).filter(function(e){return""!==e}),s=this.punctuationBreak(o);t(this.addSpans(s))}},{key:"punctuationBreak",value:function(e){for(var t=[],n=!1,r=0;r<e.length;r++){for(var i=e[r],o=0;o<i.length;o++)if(this.punctuations.indexOf(i[o])>-1&&-1===i.indexOf("<span")){n=!0;var s=this.punctuations.indexOf(i[o]),a=e[r].split(this.punctuations[s]);t.push(a[0]),t.push(this.punctuations[s]),t.push(a[1])}n||t.push(i),n=!1}return t.filter(function(e){return""!==e})}},{key:"subStrArray",value:function(e){for(var t=[],n=0;n<e.length;n++)-1===e[n].indexOf("<")?t.push(this.checkPuntuation(e[n].trim().split(" "))):t.push([e[n].trim()]);return t}},{key:"checkPuntuation",value:function(e){var t=[];return e.map(function(e,n){t.push(e)}),t}},{key:"flatten",value:function(e){for(var t=[],n=0;n<e.length;n++)Array.isArray(e[n])?t=t.concat(this.flatten(e[n])):t.push(e[n]);return t}},{key:"addSpans",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.spanCounter--,i.indexOf("<span")>-1?n.push(this.parseHtmlForId(i)):n.push(this.checkForLineBreak(i))}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"checkForLineBreak",value:function(e){return e.indexOf("@@@")>-1?(e=e.replace("@@@",""),'<p><span id="w'.concat(this.spanCounter,'">').concat(e,"</span>")):e.indexOf("###")>-1?(e=e.replace("###",""),'<span id="w'.concat(this.spanCounter,'">').concat(e,"</span></p>")):this.punctuations.indexOf(e)>-1?'<span id="w'.concat(this.spanCounter,'" class="punctuation">').concat(e,"</span>"):'<span id="w'.concat(this.spanCounter,'">').concat(e,"</span>")}},{key:"parseHtmlForId",value:function(e){var t=(new DOMParser).parseFromString(e,"text/html");return t.getElementsByTagName("span").length>0&&""===t.getElementsByTagName("span")[0].id?(t.getElementsByTagName("span")[0].id="w"+this.spanCounter.toString(),t.getElementsByTagName("span")[0].outerHTML):t.getElementsByTagName("span")[0].outerHTML}},{key:"reset",value:function(){var e=this;this.spanCounter=-1,this.selectedWord=[],this.qWrapper.nativeElement.querySelectorAll("span").forEach(function(t){e.render.removeClass(t,"wordColor"),e.render.removeClass(t,"incorrect"),e.render.removeClass(t,"correct")})}},{key:"htmlToPhrases",value:function(e){for(var t=[];e;){if("<"!==e[0]){var n=e.indexOf("<");t.push(-1===n?e:e.substr(0,n))}else t.push(this.getFirstTag(e));e=e.substr(t[t.length-1].length)}return t}},{key:"getFirstTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.indexOf("<")+1;return n+="/"===e[r]?-1:1,t+=e.substr(0,r),e=e.substr(r),0===n?t+e.substr(0,e.indexOf(">")+1):this.getFirstTag(e,t,n)}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete(),this.questionCtrl.attemptCountAsbroadcaster(null)}}]),e}()).\u0275fac=function(e){return new(e||wa)(s.Qb(fu),s.Qb(s.E),s.Qb(T.b))},wa.\u0275cmp=s.Kb({type:wa,selectors:[["nx-afs-word-select-v2"]],viewQuery:function(e,t){var n;1&e&&s.Mc($s,1),2&e&&s.zc(n=s.gc())&&(t.qWrapper=n.first)},inputs:{quizData:"quizData",configData:"configData",attemptedOps:"attemptedOps",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container","show-qsn-results"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn attachment-sec",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"mainOptionBox"],[1,"wsv2QuizWrapper"],["wsv2QuizWrapper",""],["class","selected-option-box",4,"ngIf"],[1,"vjs-notes-btn","attachment-sec"],[1,"btn","btn-sm","btn-link"],[1,"bor"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"selected-option-box"],["class","selected-option",3,"ngClass",4,"ngFor","ngForOf"],[1,"selected-option",3,"ngClass"],[1,"option-box"],["class","feedbackPrefix",4,"ngIf"],[1,"feedbackBox"],[3,"feedback",4,"ngIf"],[1,"tick-icon"],[1,"feedbackPrefix"],[3,"message"],[3,"feedback"]],template:function(e,t){1&e&&s.Hc(0,na,28,11,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:[a.l,a.j,Vu,qu,Gu,Mu,Ru,Lu,a.k,Au],styles:["[_nghost-%COMP%]     .wordColor{background-color:rgba(100,198,253,.04);color:#64c6fd;font-weight:700}[_nghost-%COMP%]     .selected-option-box{display:flex;flex-direction:column;align-items:center;margin-top:40px;width:100%}[_nghost-%COMP%]     .selected-option-box span{font-size:15px;padding:15px 0;color:#757575}[_nghost-%COMP%]     .selected-option-box .selected-option{border:1px solid #64c5fb;border-radius:20px;padding:10px 15px;position:relative;margin-bottom:10px;width:100%;background-color:rgba(100,198,253,.04)}[_nghost-%COMP%]     .selected-option-box .selected-option .option-box{display:flex;flex-wrap:wrap;justify-content:center}[_nghost-%COMP%]     .selected-option-box .selected-option .option-box p{padding:2px;font-size:14px;font-weight:600;line-height:21.3px;margin:0;font-family:Montserrat,sans-serif;color:#202020}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect{background-color:#ffe5ec;color:#f93eba;border-color:#f93eba;border-radius:0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .option-box p{color:#f93eba;text-decoration:line-through}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.incorrect .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct{background-color:#d9f4e7;color:#07d600;border-color:#07d600;border-radius:0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .option-box p{color:#07d600}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.correct .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct{background-color:#f4ecd9;color:#d68700;border-color:#d68700}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .option-box p{color:#d68700}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.partially-correct .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-image:url(../assets/images/quiz/partially-icon.svg);background-repeat:no-repeat}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed{background-color:#fff8d9;color:#fc0;border-color:#fc0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .option-box p{color:#fc0}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .feedbackBox{display:block}[_nghost-%COMP%]  .instantFeedback .selected-option-box .selected-option.missed .feedbackBox .tick-icon{-webkit-animation:answerIcons .5s alternate;animation:answerIcons .5s alternate;background-image:url(../assets/images/quiz/partially-icon.svg);background-repeat:no-repeat}.feedbackBox[_ngcontent-%COMP%]{display:none;font-family:Montserrat,sans-serif;font-size:12px;font-weight:700;line-height:17.04px;margin:10px;color:#202020}.feedbackBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     .instantFeedback .wordColor{background-color:rgba(100,198,253,.04);color:#64c6fd;font-weight:700}[_nghost-%COMP%]     .instantFeedback .wordColor.incorrect{background-color:#ffe5ec;color:#f93eba;text-decoration:line-through}[_nghost-%COMP%]     .instantFeedback .wordColor.missed{background-color:#fff8d9;color:#fc0;border-color:#fc0}[_nghost-%COMP%]     .instantFeedback .wordColor.correct{background-color:#d9f4e7;color:#07d600}[_nghost-%COMP%]     .mainOptionBox{display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .mainOptionBox .optiontext{margin:0;padding:0 5px 5px 0}"]}),wa),$u=((Ta=function(){function e(t){_classCallCheck(this,e),this.questionCtrl=t,this.selectedWord=new s.n,this.dataLoaded=new s.n,this.dataArrCreated=new s.n,this.htmlValue="",this.punctuation="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"}return _createClass(e,[{key:"sentence",get:function(){return this._sentence},set:function(e){this._sentence=this.constructWord(e),this.dataLoaded.emit(this._sentence)}},{key:"selectedWords",get:function(){return this._selectedWords},set:function(e){this._selectedWords=e;for(var t=0;t<this.sentence.length;t++)for(var n=0;n<this._selectedWords.length;n++)if(this.sentence[t].position[0]==this._selectedWords[n].position[0]){this.sentence[t].isSelected=!0;break}}},{key:"ngOnInit",value:function(){var e=this;this.initEvent(),this.sentence.map(function(t){return e.options.map(function(e){Object(w.isEqual)(t.position,e.position)&&(t.isCorrect=1)}),t})}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset()}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()}),this.$iDontknw.subscribe(function(e){})}},{key:"reset",value:function(){var e,t=_createForOfIteratorHelper(this.sentence);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isSelected&&(n.isSelected=!1)}}catch(r){t.e(r)}finally{t.f()}}},{key:"showAnswer",value:function(){var e,t=_createForOfIteratorHelper(this.sentence);try{for(t.s();!(e=t.n()).done;){var n=e.value;1===(n=this.validationWords(n)).isCorrect&&(n.isSelected=!0)}}catch(r){t.e(r)}finally{t.f()}}},{key:"selectWord",value:function(e){(e=this.validationWords(e)).isSelected=!e.isSelected,this.selectedWord.emit(e)}},{key:"validationWords",value:function(e){var t,n=_createForOfIteratorHelper(this.options);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object(w.isEqual)(r.position,e.position)&&r.label===e.word)return e.isCorrect=1,e.value=r.value,e.score=r.score,e.feedback=r.feedback,e;e.feedback=[{text:"",media:null}]}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"constructWord",value:function(e){for(var t,n=this.ExtractElementByIdFromString(e),r=n.wordPosi,i=n.wordStr,o=[],s=-1,a=0,u=this,c=n.html.split("####"),l=0;l<c.length;l++){var h=c[l].replace(/(<([^>]+)>)/gi," ").split(" ");h=h.filter(function(e){return""!==e}),console.log("\ud83d\ude80 ~ file: word.component.ts ~ line 153 ~ WordComponent ~ constructWord ~ wordArray",JSON.parse(JSON.stringify(h))),Object(w.map)(h,function(e,n){var c=-1;t=null,e=e.match(/\\?.|^$/g).reduce(function(e,t){return'"'===t?e.quote^=1:e.quote||" "!==t?e.a[e.a.length-1]+=t.replace(/\\(.)/,"$1"):e.a.push(""),e},{a:[""]}).a.filter(function(e){return"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".indexOf(e)>-1&&(t=e),-1==="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".indexOf(e)}).join("");var l=i.indexOf(e);if(console.log("\ud83d\ude80 ~ file: word.component.ts ~ line 180 ~ WordComponent ~ _.map ~ stringPosi",l),s>=l){var h=u.getIndicesOf(e,i,!0);l=1==h.find(function(e){return e>s})?l:h.find(function(e){return e>s})}c=l;var d=r.findIndex(function(e){return e.index===l});d>-1&&!r[d].isUsed&&(c=r[d].index,r[d].isUsed=!0,a=r[d].index),s=l,o.push(t?{word:t,isCorrect:0,isSelected:!1,position:[c+1]}:{word:e,isCorrect:0,isSelected:!1,position:[c+a]})}),r.length>l&&o.push({word:r[l].word,isCorrect:1,isSelected:!1,position:[r[l].index]})}return console.log("\ud83d\ude80 ~ file: word.component.ts ~ line 228 ~ WordComponent ~ constructWord ~ wordObjArray",o),this.dataArrCreated.emit(o),o}},{key:"getMissed",value:function(){return-1!==this.questionCtrl.configData.userInteraction.styleAttempt.indexOf("missed")}},{key:"ExtractElementByIdFromString",value:function(e){var t=[],n=document.createElement("div");n.innerHTML=e;var r,i=0,o=e.replace(/(<([^>]+)>)/gi," ").split(" "),s=o=o.filter(function(e){return""!==e}).join(" "),a=_createForOfIteratorHelper(n.getElementsByClassName("fibBlank"));try{for(a.s();!(r=a.n()).done;){var u=r.value,c=u.innerText.match(/\\?.|^$/g).reduce(function(e,t){return'"'===t?e.quote^=1:e.quote||" "!==t?e.a[e.a.length-1]+=t.replace(/\\(.)/,"$1"):e.a.push(""),e},{a:[""]}).a.filter(function(e){return""!==e}).join(" ");i=o.search(new RegExp("\\b"+c+"\\b"));var l=o.indexOf(c,i);i=l+u.innerText.length,o=o.replace(new RegExp("\\b"+c+"\\b"),"####"),o=this.hasHindiCharacters(o)||c.match(/^[.,:''!?]/)?o.replace(c,"####"):o.replace(new RegExp("\\b"+c+"\\b"),"####"),this.htmlValue=o,t.push({index:l,isUsed:!1,word:c})}}catch(h){a.e(h)}finally{a.f()}return console.log("\ud83d\ude80 ~ file: word.component.ts ~ line 273 ~ WordComponent ~ ExtractElementByIdFromString ~ { wordPosi: wordPosi, html: html, wordStr:coreHtml }",JSON.stringify({wordPosi:t,html:o,wordStr:s})),{wordPosi:t,html:o,wordStr:s}}},{key:"hasHindiCharacters",value:function(e){return e.split("").filter(function(e){var t=e.charCodeAt();return t>=2309&&t<=2361}).length>0}},{key:"getIndicesOf",value:function(e,t,n){var r=e.length;if(0==r)return[];for(var i,o=0,s=[];(i=t.indexOf(e,o))>-1;)s.push(i),o=i+r;return s}}]),e}()).\u0275fac=function(e){return new(e||Ta)(s.Qb(fu))},Ta.\u0275cmp=s.Kb({type:Ta,selectors:[["nx-afs-word"]],inputs:{sentence:"sentence",selectedWords:"selectedWords",options:"options",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{selectedWord:"selectedWord",dataLoaded:"dataLoaded",dataArrCreated:"dataArrCreated"},decls:2,vars:1,consts:[[1,"mainOptionBox"],["class","optiontext",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"optiontext",3,"ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Hc(1,ra,3,9,"p",1),s.Ub()),2&e&&(s.Db(1),s.oc("ngForOf",t.sentence))},directives:[a.k,a.j],styles:[".punctuation[_ngcontent-%COMP%]{margin-left:-4px!important;pointer-events:none}"]}),Ta),Qu=((Sa=function(){function e(t,n){_classCallCheck(this,e),this.questionCtrl=t,this.modalService=n,this.attempted=new s.n,this.change=new s.n,this.submited=new s.n,this.questLoad=new s.n,this.question=[],this.isSolution=!1,this.atempted=[],this.attachment="",this.showattachment=!1,this.blankIndex=[],this.fibOptionFeedBack=[],this.fibOption=[],this.fibAttemptedOpt=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.initEvent(),this.checkAttempted()}},{key:"quizData",get:function(){return this._quizData},set:function(e){this._quizData=e,this.blankGenerator(e[0].data.questionData,e[0].data.options)}},{key:"attemptedOps",get:function(){return this._attemptedOps},set:function(e){this._attemptedOps=e}},{key:"checkAttempted",value:function(){var e;this.attemptedOps&&this.attemptedOps.length>0&&(null===(e=this.attemptedOps[0])||void 0===e?void 0:e.options.length)>0?(this.attemptedOption=JSON.parse(JSON.stringify(this.attemptedOps)),this.questionCtrl.onEventTrgger("USER_ATTEMPT_UPDATED")):this.attemptedOption=[{qid:this.quizData[0].questionID,options:[]}]}},{key:"blankGenerator",value:function(e,t){var n=this,r=this.constructorBlankWithOpt(e,t).split("####");r.pop(),console.log("FibSelectComponent -> @Input -> ques",r),r.forEach(function(e){n.question.push({questions:e})})}},{key:"showAttachment",value:function(){console.log(this.solution),this.modalService.open(gu,{size:"lg",centered:!0,scrollable:!0,windowClass:"mobile-center"}).componentInstance.attachment=this.attachment}},{key:"onShowSolution",value:function(){this.modalService.open(_u,{size:"lg",centered:!0,scrollable:!0}).componentInstance.solutionData=this.solution}},{key:"onAttempt",value:function(e){console.log("FibSelectComponent -> onAttempt -> i",e,this.atempted),this.fibAttemptedOpt[e]=Object(w.cloneDeep)(this.atempted[e]),this.fibAttemptedOpt[e].position=this.blankIndex[e],this.fibAttemptedOpt[e]=this.validationWords(this.fibAttemptedOpt[e]),this.computeAttemptedMarks(),this.questionCtrl.setQueState(this.getQValidate("onStateChange")),this.AttemptedOptEmitter(this.fibAttemptedOpt),console.log("FibSelectComponent -> onAttempt -> i",e,this.fibAttemptedOpt[e])}},{key:"initEvent",value:function(){var e=this;this.$resetScreen.subscribe(function(t){e.reset()}),this.$showCorrectAns.subscribe(function(t){e.showAnswer()}),this.$iDontknw.subscribe(function(t){e.questionCtrl.onEventTrgger("iDontKnow"),e.showAnswer()})}},{key:"reset",value:function(){this.fibAttemptedOpt=[],this.atempted=[]}},{key:"showAnswer",value:function(){this.atempted=this.fibOption,this.fibAttemptedOpt=Object(w.cloneDeep)(this.atempted);var e,t=_createForOfIteratorHelper(this.fibAttemptedOpt);try{for(t.s();!(e=t.n()).done;)e.value.isSeleted=!0}catch(n){t.e(n)}finally{t.f()}this.fibAttemptedOpt=Object(w.cloneDeep)(this.atempted)}},{key:"onSolutionClose",value:function(){this.isSolution=!1}},{key:"constructorBlankWithOpt",value:function(e,t){var n=this;this.ExtractElementByIdFromString(e,t);var r=e.replace(/(<([^>]+)>)/gi," ").split(" ");return r=r.filter(function(e){return""!==e}),Object(w.map)(r,function(e,i){e=e.replace(/[^A-Za-z0-9\s]/g,"").replace(/\s{2,}/g," ");var o=r.join(" ").indexOf(e),s=n.findOpt(t,o);return s&&(e=n.FibOptionBuilder(s,e)?"####":""),e}).join(" ")}},{key:"setOptionwordOpsition",value:function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;)n.value}catch(i){r.e(i)}finally{r.f()}}},{key:"findOpt",value:function(e,t){return Object(w.find)(e,function(e){if(e.position){var n,r=_createForOfIteratorHelper(e.position);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i==t)return i==t}}catch(o){r.e(o)}finally{r.f()}}})}},{key:"checkIsSolution",value:function(){return!!(this.quizData[0].solution&&this.quizData[0].solution.data.length>0)}},{key:"cloasemodal",value:function(){console.log("ds"),this.showattachment=!1}},{key:"validationWords",value:function(e){var t=Object(w.cloneDeep)(this.quizData[0].data.options);e.isCorrect=0,console.log("FibSelectComponent -> validationWords -> options",t);var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;Object(w.isEqual)(i.position,e.position)&&i.value===e.value&&(e.isCorrect=1)}}catch(o){r.e(o)}finally{r.f()}return e}},{key:"FibOptionBuilder",value:function(e,t){var n=!0,r=Object(w.findIndex)(this.fibOption,function(t){return t.value===e.value});return r>-1?(this.fibOption[r].label+=" "+t,n=!1):(e.label=t,this.fibOption.push(e),this.blankIndex.push(e.position),this.fibOptionFeedBack.push(e.label)),console.log("FibSelectComponent -> FibOptionBuilder ->  this.fibOption",this.fibOption),n}},{key:"isDisable",value:function(e){var t,n=!1,r=_createForOfIteratorHelper(this.fibAttemptedOpt);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null==e?void 0:e.value)===(null==i?void 0:i.value)&&(n=!0)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"computeAttemptedMarks",value:function(){var e,t=0,n=_createForOfIteratorHelper(this.fibAttemptedOpt);try{for(n.s();!(e=n.n()).done;){var r=e.value;1===(null==r?void 0:r.isCorrect)&&(t+=r.score)}}catch(i){n.e(i)}finally{n.f()}console.log("computeAttemptedMarks==>",t),this.questionCtrl.setObtainScore(t)}},{key:"AttemptedOptEmitter",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i&&n.push(i.value)}}catch(o){r.e(o)}finally{r.f()}this.attemptedOption[0].options=n,this.attempted.emit({attemptedOption:this.attemptedOption})}},{key:"getQValidate",value:function(e){var t,n=[],r=this.getValidationArr(this.quizData[0].data.options).reduce(function(e,t){return e+t},0),i=_createForOfIteratorHelper(this.fibAttemptedOpt);try{for(i.s();!(t=i.n()).done;){var o=t.value;o&&n.push(o.isCorrect)}}catch(c){i.e(c)}finally{i.f()}var s=n.reduce(function(e,t){return e+t},0),a=r,u=Math.ceil(s/a);return u<0&&(u=0),(Math.floor(s/a)+1)*u}},{key:"getValidationArr",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.isCorrect)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"findPositionIndex",value:function(e,t){console.log("FibSelectComponent -> findPositionIndex -> str",this.getArrayTagsHtmlString(e));var n=this.getArrayTagsHtmlString(e);n.forEach(function(e,r){if(e.includes("span")){n[r]=e.replace(/(<([^>]+)>)/gi,"").replace(/[^A-Za-z0-9\s]/g,"").replace(/\s{2,}/g,"");var i=Object(w.findIndex)(t,{label:n[r]});i>-1&&(t[i].position=[r])}}),console.log("FibSelectComponent -> findPositionIndex -> options",t)}},{key:"getArrayTagsHtmlString",value:function(e){var t=e.split(" "),n=[];return t.forEach(function(e,r){var i="";e.includes("span")?(i=e+t[r+1],t.splice(r+1,1)):i=e,n.push(i)}),n}},{key:"ExtractElementByIdFromString",value:function(e,t){var n=document.createElement("div");n.innerHTML=e;var r=0,i=e.replace(/(<([^>]+)>)/gi," ").split(" ");i=i.filter(function(e){return""!==e}).join(" ");var o,s=_createForOfIteratorHelper(n.getElementsByClassName("fibBlank"));try{for(s.s();!(o=s.n()).done;){var a=o.value,u=Object(w.findIndex)(t,{value:parseInt(a.id)});if(u>-1){var c=a.innerText.split(" ").filter(function(e){return""!==e}).join(" "),l=i.indexOf(c,r);r=l+a.innerText.length,i=i.replace(c,"####"),t[u].position=[l]}}}catch(h){s.e(h)}finally{s.f()}return console.log("FibSelectComponent -> ExtractElementByIdFromString -> options",t),t}}]),e}()).\u0275fac=function(e){return new(e||Sa)(s.Qb(fu),s.Qb(T.b))},Sa.\u0275cmp=s.Kb({type:Sa,selectors:[["nx-afs-fib-select"]],inputs:{quizData:"quizData",attemptedOps:"attemptedOps",configData:"configData",mode:"mode",$resetScreen:"$resetScreen",$showCorrectAns:"$showCorrectAns",$iDontknw:"$iDontknw"},outputs:{attempted:"attempted",change:"change",submited:"submited",questLoad:"questLoad"},decls:1,vars:1,consts:[["class","mainWrapper",3,"ngClass",4,"ngIf"],[1,"mainWrapper",3,"ngClass"],[1,"qsn-main-container"],[1,"qsn-top-sec"],[1,"actions"],[1,"qusn-top-actions","d-flex","justify-content-end"],[1,"right-icons","d-flex"],[3,"difficultyType"],[1,"lib-bonus"],[1,"mid-container"],[1,"",3,"bonusStr"],[1,"qsn-sec"],[1,"questionBox"],[3,"quizData"],["class","vjs-notes-btn",3,"click",4,"ngIf"],[1,"qsn-opsn-and-result-holder"],[1,"result-top"],[3,"message","solutionData","showSolution",4,"ngIf"],[1,"qsn-instructions","quest-intro",3,"instructionData"],["class","instruction-attempnt text-center",4,"ngIf"],[1,"qsn-opsns-box"],[1,"fibWrapper"],[4,"ngFor","ngForOf"],[3,"solutionData","closeModel",4,"ngIf"],[3,"attachment","closeModel",4,"ngIf"],[1,"vjs-notes-btn",3,"click"],[2,"color","blue"],[3,"message","solutionData","showSolution"],[1,"instruction-attempnt","text-center"],[1,"badge","badge-primary"],[3,"instructionData"],[1,"tce-quill-view",3,"content"],[1,"optionSelection",3,"ngClass"],[1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"feedbackBox"],[1,"tick-icon"],["class","feedbackText",4,"ngIf"],[3,"ngValue","disabled"],[1,"feedbackText"],[3,"solutionData","closeModel"],[3,"attachment","closeModel"]],template:function(e,t){1&e&&s.Hc(0,da,29,13,"div",0),2&e&&s.oc("ngIf",t.questionCtrl.configData)},directives:function(){return[a.l,a.j,Vu,qu,Gu,Mu,Ru,a.k,Lu,Yu,c.i,c.f,c.g,c.h,c.j,_u,gu]},styles:['[_nghost-%COMP%]     .fib .pretty.p-curve .state label:after, [_nghost-%COMP%]     .fib .pretty.p-curve .state label:before{border-radius:50%}[_nghost-%COMP%]     .fib tce-scq .questionFeedback, [_nghost-%COMP%]     .fib tce-subjective .questionFeedback{display:none}[_nghost-%COMP%]     .fib .mdi-check:before{content:"";background-color:#458dcb;transform:scale(.5);border-radius:50%}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper{border:none!important;margin:0;padding:0 5px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .optionBox{margin-top:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .state.p-primary-o{display:none}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .pretty{margin-right:0}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox{position:absolute;padding:10px;background-position:0 0;background-size:25px}[_nghost-%COMP%]     .fib .fibWrapper .optionWrapper .feedbackBox .tce-quill-view{display:none}.fibWrapper[_ngcontent-%COMP%]{flex-wrap:wrap}.fibWrapper[_ngcontent-%COMP%], .fibWrapper[_ngcontent-%COMP%]   .questBox[_ngcontent-%COMP%]{display:flex;align-items:center}.bucket[_ngcontent-%COMP%]{border-bottom:1px dashed #000;min-width:50px;cursor:pointer;min-height:25px}[_nghost-%COMP%]     .freeFlow .optionWrapper{position:absolute}[_nghost-%COMP%]     .freeFlow .optionBox{height:100%;width:100%;display:block;margin-top:6px}[_nghost-%COMP%]     .freeFlow .optionBox .pretty{height:100%;width:100%;display:block}[_nghost-%COMP%]     .freeFlow .feedbackBox{position:absolute;top:0;left:0;right:0;margin:auto;height:100%;background-image:none!important}[_nghost-%COMP%]     .freeFlow .optMediaWrapper{height:100%;position:absolute;top:0;width:100%;text-align:center}[_nghost-%COMP%]     .freeFlow .optMediaWrapper img{height:inherit}[_nghost-%COMP%]     .freeFlow .pretty .state{opacity:0}[_nghost-%COMP%]     .freeFlow .mainOptionBox>img{display:block}[_nghost-%COMP%]     .freeFlow.highlight .optionWrapper:hover{border:2px solid #ffd000;border-right-width:10px}[_nghost-%COMP%]     .horizontal .optionBox{width:25%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .horizontal .feedbackBox{width:25%}[_nghost-%COMP%]     .horizontal .pendingAttemptMsgBox{display:none}.optionSelection[_ngcontent-%COMP%]{min-width:90px;width:auto;margin:5px;min-height:36px;border:2px solid #cbcbcb;border-radius:1.6rem;background-color:#fff;box-shadow:0 2px 6px 0 hsla(0,0%,86.7%,.8);color:#232323;position:relative;display:flex;align-items:center}.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{background-color:transparent;border:none}.feedbackText[_ngcontent-%COMP%]{display:none}.instantFeedback[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]{position:relative}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]{border-color:#f93eba;background-color:#ffe5ec;color:#f93eba;border-radius:0;pointer-events:none}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#f93eba;background-image:none;padding-right:6px;text-decoration:line-through}.instantFeedback[_ngcontent-%COMP%]   .incorrect.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}.instantFeedback[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]   .feedbackText[_ngcontent-%COMP%]{display:block}.instantFeedback[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{position:relative}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]{border-color:#07d600;background-color:#d9f4e7;color:#07d600;opacity:1;pointer-events:none;border-radius:0}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:#07d600;background-image:none;padding-right:6px}.instantFeedback[_ngcontent-%COMP%]   .correct.optionSelection[_ngcontent-%COMP%]   .feedbackBox[_ngcontent-%COMP%]{margin-right:10px}']}),Sa),Yu=((Oa=function(){function e(t,n){_classCallCheck(this,e),this.utility=t,this.ngZone=n,this.isVisible=!1,this.equationRendered=new s.n}return _createClass(e,[{key:"content",get:function(){return this._content},set:function(e){this._content=e,""!==e&&null!==e?this.loadData():this.isVisible=!0}},{key:"loadData",value:function(){var e=this;this.quillViewLable?-1===this.content.indexOf("\xabmath")&&this.content.indexOf("<math")>-1?(this.quillViewLable.nativeElement.innerHTML=this.content,window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub],function(){e.ngZone.run(function(){e.isVisible=!0,e.equationRendered.emit()})})):this.ngZone.run(function(){e.quillViewLable.nativeElement.innerHTML=e.content,e.equationRendered.emit(),e.isVisible=!0}):setTimeout(function(){e.loadData()},10)}},{key:"ngAfterViewInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Oa)(s.Qb(pu),s.Qb(s.A))},Oa.\u0275cmp=s.Kb({type:Oa,selectors:[["tce-quiz-quill-view"]],viewQuery:function(e,t){var n;1&e&&s.Mc(fa,1),2&e&&s.zc(n=s.gc())&&(t.quillViewLable=n.first)},inputs:{content:"content"},outputs:{equationRendered:"equationRendered"},decls:4,vars:4,consts:[[1,"ql-container","ql-snow","htmlQuilView",2,"border-width","0"],["class","proccecing",4,"ngIf"],[1,"ql-editor",3,"ngStyle"],["quillViewLable",""],[1,"proccecing"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Hc(1,pa,1,0,"div",1),s.Rb(2,"div",2,3),s.Ub()),2&e&&(s.Db(1),s.oc("ngIf",!t.isVisible),s.Db(1),s.oc("ngStyle",s.sc(2,_a,t.isVisible?1:0)))},directives:[a.l,a.m],styles:[".proccecing[_ngcontent-%COMP%]:empty{margin:auto;width:100%;height:18px;background-image:linear-gradient(100deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.5) 100%,hsla(0,0%,100%,0) 0),linear-gradient(#d3d3d3 20px,transparent 0);background-repeat:repeat-y;background-size:20px 100%,100% 200px,100% 200px,100% 0,100% 30px;background-position:100% 0,100% 0,0 30px,100% 80px,100% 10px;-webkit-animation:shine 1s infinite;animation:shine 1s infinite}@-webkit-keyframes shine{to{background-position:0 0,0 0,0 30px,0 70px,0 120px}}@keyframes shine{to{background-position:0 0,0 0,0 30px,0 70px,0 120px}}"]}),Oa),Xu=((Ca=function(){function e(t,n,r){_classCallCheck(this,e),this.utility=t,this.questCtrl=n,this.ngZone=r,this.stateChange=new s.n,this.isAnimation=!0,this.optMsg=""}return _createClass(e,[{key:"option",get:function(){return this._option},set:function(e){var t,n;this._option=e,this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(t=this.option)||void 0===t?void 0:t.index,null===(n=this.option)||void 0===n?void 0:n.curColl)}},{key:"ngOnInit",value:function(){var e,t,n=this;this.isAnimation=!0,this.checkAttempt(),this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(e=this.option)||void 0===e?void 0:e.index,null===(t=this.option)||void 0===t?void 0:t.curColl),this.$resetScreen&&this.$resetScreen.subscribe(function(e){n.reset()}),this.$otherOptChange&&this.$otherOptChange.subscribe(function(){var e,t;console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 69 ~ OptionComponent ~ this.$otherOptChange.subscribe ~ this.optMsg",n.optMsg),n.optMsg=n.getOptionPrefixFeedback(n.option.isCorrect,n.option.isSelected,null===(e=n.option)||void 0===e?void 0:e.index,null===(t=n.option)||void 0===t?void 0:t.curColl)})}},{key:"reset",value:function(){var e,t;this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(e=this.option)||void 0===e?void 0:e.index,null===(t=this.option)||void 0===t?void 0:t.curColl)}},{key:"checkAttempt",value:function(){if(this.questCtrl.theme){var e=this.questCtrl.theme.replace("theme.css","");this.option.isSelected&&1===this.option.isCorrect?(this.isAnimation=!1,this.pathConfig={path:e+"correct.json",loop:!1}):this.option.isSelected&&(this.isAnimation=!1,this.pathConfig={path:e+"incorrect.json",loop:!1})}}},{key:"getOptionPrefixFeedback",value:function(e,t,n,r){return this.questCtrl.getOptionPrefixFeedback(e,t,n,r)}},{key:"getFreeStyle",value:function(){if(this.configData.userInteraction.position)for(var e=0;e<this.configData.userInteraction.position.length;e++){var t=this.configData.userInteraction.position[e];if(e===this.index)return{top:t.y+"%",left:t.x+"%",width:"calc("+t.width+"% - 12px)",height:t.height+"%"}}return{}}},{key:"onStateChange",value:function(){var e,t;0===this.option.isCorrect&&(this.option.score=0),this.isAnimation=!0,this.optMsg=this.getOptionPrefixFeedback(this.option.isCorrect,this.option.isSelected,null===(e=this.option)||void 0===e?void 0:e.index,null===(t=this.option)||void 0===t?void 0:t.curColl),console.log("\ud83d\ude80 ~ file: option.component.ts ~ line 126 ~ OptionComponent ~ onStateChange ~ this.optMsg",this.optMsg),this.stateChange.emit(this.option),this.initAnimation()}},{key:"initAnimation",value:function(){if(this.questCtrl.theme){var e=this.questCtrl.theme.replace("theme.css","");this.option.isSelected&&1===this.option.isCorrect?this.pathConfig={path:e+"correct.json",loop:!1}:this.option.isSelected&&(this.pathConfig={path:e+"incorrect.json",loop:!1})}}},{key:"animationCreated",value:function(e){this.animationItem=e}},{key:"onAnimationReady",value:function(e){var t=this;this.isAnimation||this.ngZone.runOutsideAngular(function(){return t.animationItem.goToAndStop(t.animationItem.totalFrames-1,!0)})}}]),e}()).\u0275fac=function(e){return new(e||Ca)(s.Qb(pu),s.Qb(fu),s.Qb(s.A))},Ca.\u0275cmp=s.Kb({type:Ca,selectors:[["tce-sorting-option"]],inputs:{option:"option",configData:"configData",index:"index",$resetScreen:"$resetScreen",$otherOptChange:"$otherOptChange"},outputs:{stateChange:"stateChange"},decls:13,vars:18,consts:[[1,"optionWrapper",3,"ngClass","ngStyle"],[1,"optionBox"],["class","lottieAnimationFeedback",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],["for","customCheck1",1,"custom-control-label"],[1,"optMediaWrapper"],[3,"imgSrc",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[1,"tce-quill-view",3,"content"],["class","feedbackPrefix",4,"ngIf"],["class","feedbackBox",4,"ngIf"],[1,"lottieAnimationFeedback"],[1,"lottieAnimationMidBox"],[1,"lottie",3,"options","animationCreated","dataReady"],[3,"imgSrc"],["controls","",3,"src"],[1,"feedbackPrefix"],[3,"message"],[1,"feedbackBox"],[3,"feedback"],[1,"tick-icon"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Hc(2,ga,3,1,"div",2),s.Vb(3,"div",3),s.Vb(4,"input",4),s.fc("change",function(){return t.onStateChange()}),s.Ub(),s.Vb(5,"label",5),s.Vb(6,"div",6),s.Hc(7,va,1,1,"nx-afs-image-zoom",7),s.Hc(8,ma,1,1,"video",8),s.Hc(9,ya,1,1,"audio",8),s.Ub(),s.Rb(10,"tce-quiz-quill-view",9),s.Ub(),s.Ub(),s.Ub(),s.Hc(11,ba,2,1,"div",10),s.Hc(12,Ea,3,1,"div",11),s.Ub()),2&e&&(s.oc("ngClass",s.yc(10,ws,t.utility.isMediaAvailable(t.option.media)?"mediaWrapper":"",t.questCtrl.maxTextLength>25&&t.questCtrl.maxTextLength<32?"textSizeEasy":"",t.questCtrl.maxTextLength>32&&t.questCtrl.maxTextLength<64?"textSizeExtended":"",t.questCtrl.maxTextLength>64?"textSizeExtreme":"",t.questCtrl.maxSubTextLength>0&&t.questCtrl.maxSubTextLength<=3?"textStyle1":"",t.questCtrl.maxSubTextLength>3&&t.questCtrl.maxSubTextLength<=6?"textStyle2":"",t.questCtrl.maxSubTextLength>6?"textStyle3":""))("ngStyle",t.getFreeStyle()),s.Db(2),s.oc("ngIf",t.questCtrl.theme),s.Db(2),s.oc("id",t.index),s.Db(3),s.oc("ngIf",t.utility.checkImageAvailability(t.option.media)),s.Db(1),s.oc("ngIf",t.utility.checkVideoAvailability(t.option.media)),s.Db(1),s.oc("ngIf",t.utility.checkAudioAvailability(t.option.media)),s.Db(1),s.oc("content",t.option.label),s.Db(1),s.oc("ngIf",t.questCtrl.isActiveInstandFeed()),s.Db(1),s.oc("ngIf",t.option.feedback))},directives:[a.j,a.m,a.l,Yu,Pr,Ku,Lu,Au],styles:[hu]}),Ca),Zu=kr.forRoot({player:function(){return Ir.a}}),Ju=((lu=_createClass(function e(t){_classCallCheck(this,e),t.loadScript("https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js")})).\u0275fac=function(e){return new(e||lu)(s.cc(pt))},lu.\u0275mod=s.Ob({type:lu}),lu.\u0275inj=s.Nb({providers:[pt,Pu],imports:[[a.b,c.c,dt,f,zn,Jn,gr,Zu]]}),lu),ec=((cu=function(){function e(){_classCallCheck(this,e),this.apiObservableObj={}}return _createClass(e,[{key:"getDeviceType",value:function(){return localStorage.getItem("deviceType")}},{key:"getWebviewHeight",value:function(){var e=document.documentElement&&document.documentElement.getBoundingClientRect()?document.documentElement.getBoundingClientRect().height:0,t=document.body&&document.body.getBoundingClientRect()?document.body.getBoundingClientRect().height:0;return Math.ceil(Math.max(e,t))}},{key:"passWebviewHeightToNative",value:function(){var e=this;setTimeout(function(){console.log("passWebviewHeightToNative call",e.getDeviceType());var t=e.getWebviewHeight();e.getDeviceType("passQuizControlSateToNative 2")==tr.b.flutter?window.flutter_inappwebview.callHandler("webviewHeight",t):e.getDeviceType()==tr.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.webviewHeight.postMessage(t),console.log("ios webviewHeight state",t)):window.androidApp&&window.androidApp.webviewHeight&&(window.androidApp.webviewHeight(t),console.log("androidApp webviewHeight state",t))},1)}},{key:"passWebviewHeightToNative1",value:function(){var e=this;setTimeout(function(){console.log("passWebviewHeightToNative call",e.getDeviceType());var t=e.getWebviewHeight();e.getDeviceType("passQuizControlSateToNative 2")==tr.b.flutter?window.flutter_inappwebview.callHandler("webviewHeight1",t):e.getDeviceType()==tr.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.webviewHeight1.postMessage(t),console.log("ios webviewHeight state",t)):window.androidApp&&window.androidApp.webviewHeight1&&(window.androidApp.webviewHeight1(t),console.log("androidApp webviewHeight state",t))},1)}},{key:"passAttemptDataToNative",value:function(e){this.getDeviceType("passQuizControlSateToNative 2")==tr.b.flutter?window.flutter_inappwebview.callHandler("onAttempt",e):this.getDeviceType()==tr.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.onAttempt.postMessage(e),console.log("ios onAttempt state",e)):window.androidApp&&window.androidApp.onAttempt&&(window.androidApp.onAttempt(e),console.log("androidApp onAttempt state",e))}},{key:"questionLoadedDataToNative",value:function(e){this.getDeviceType("passQuizControlSateToNative 2")==tr.b.flutter?window.flutter_inappwebview.callHandler("questionLoaded",e):this.getDeviceType()==tr.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.questionLoaded.postMessage(e),console.log("ios questionLoaded state",e)):window.androidApp&&window.androidApp.questionLoaded&&(window.androidApp.questionLoaded(e),console.log("androidApp questionLoaded state",e))}},{key:"passQuizControlSateToNative",value:function(e){console.log("passQuizControlSateToNative call",this.getDeviceType()),this.getDeviceType("passQuizControlSateToNative 2")==tr.b.flutter?window.flutter_inappwebview.callHandler("quizControlState",e):this.getDeviceType()==tr.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.quizControlState.postMessage(e),console.log("ios quizControlState state",e)):window.androidApp&&window.androidApp.quizControlState&&(window.androidApp.quizControlState(e),console.log("androidApp quizControlState state",e))}},{key:"updateSubResourceDataToNative",value:function(e){console.log("\ud83d\ude80 ~ file: webview-to-native-interface.ts ~ line 112 ~ WebviewToNativeInterface ~ updateSubResourceDataToNative ~ subResourceData",e),this.getDeviceType("passQuizControlSateToNative 2")==tr.b.flutter?window.flutter_inappwebview.callHandler("updateSubResourceData",e):this.getDeviceType()==tr.b.ios?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.updateSubResourceData.postMessage(JSON.stringify(e)),console.log("ios updateSubResourceDataToNative state")):window.androidApp&&window.androidApp.updateSubResourceData&&(window.androidApp.updateSubResourceData(JSON.stringify(e)),console.log("androidApp updateSubResourceDataToNative state"))}},{key:"nativeHandleError",value:function(e){this.getDeviceType("passQuizControlSateToNative 2")==tr.b.flutter?window.flutter_inappwebview.callHandler("handleError",e):"ios"==this.getDeviceType()?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.handleError.postMessage(e),console.log("nativeHandleError",e)):window.androidApp&&window.androidApp.handleError&&(window.androidApp.handleError(e),console.log("nativeHandleError",e))}},{key:"passApiRequestToNative",value:function(e){e=JSON.stringify(e),console.log("proxyApiRequest state"+e),"flutter"==this.getDeviceType("passApiRequestToNative 2")?window.flutter_inappwebview.callHandler("proxyApiRequest",e):"ios"==this.getDeviceType()?window.webkit&&window.webkit.messageHandlers&&(window.webkit.messageHandlers.proxyApiRequest.postMessage(e),console.log("ios proxyApiRequest state"+e)):window.androidApp&&window.androidApp.proxyApiRequest&&(window.androidApp.proxyApiRequest(e),console.log("androidApp proxyApiRequest state"+e))}}]),e}()).\u0275fac=function(e){return new(e||cu)},cu.\u0275prov=s.Mb({token:cu,factory:cu.\u0275fac}),cu),tc=((uu=function(){function e(){_classCallCheck(this,e),this.qStatus={0:2,1:3,2:1,3:0,4:4}}return _createClass(e,[{key:"dataStructure",value:function(e,t){return console.log("\ud83d\ude80 ~ file: analytics.ts ~ line 18 ~ Analytics ~ dataStructure ~ questionData",t),console.log("\ud83d\ude80 ~ file: analytics.ts ~ line 18 ~ Analytics ~ dataStructure ~ eventData",e),{sessionId:"",lessonType:null,lessonId:"",section:1,event:2,questionId:t[0].questionID,tqId:null,version:1,type:t[0].data.type,info:{appVer:null,event:e.event,attempted:this.changeAttemptedOption(e.attemptedOption)},attemptCount:e.attemptCount,pending:e.pending,status:0==this.changeAttemptedOption(e.attemptedOption).length?0:this.qStatus[e.parentsQstate],timeSpent:e.timeTaken,duration:t[0].duration,confidence:e.confidence.toFixed(1),score:e.obtainMarks}}},{key:"changeAttemptedOption",value:function(e){var t=this;return e.map(function(e){var n=Object.assign({},e);return n.key=e.qid,n.qState=t.qStatus[e.qState],delete n.qid,n})}}]),e}()).\u0275fac=function(e){return new(e||uu)},uu.\u0275prov=s.Mb({token:uu,factory:uu.\u0275fac}),uu),nc=function(e){return{showCorrect:e}};function rc(e,t){if(1&e){var n=s.Wb();s.Vb(0,"tce-renderer",3),s.fc("attempted",function(e){return s.Bc(n),s.jc().onAttempt(e)})("submitted",function(e){return s.Bc(n),s.jc().onSubmit(e)})("questLoad",function(e){return s.Bc(n),s.jc().questionLoaded(e)}),s.Ub()}if(2&e){var r=s.jc();s.Fb(r.player_class),s.oc("isSound",r.isSoundEnabled)("quizData",r.subResourceData)("attemptCount",r.attempt_count)("rules",r.quizRules)("mode",r.mode)("theme",r.subjectTheme)("basePath",r.basePathMedia)("attemptedOps",r.selectedOptions)("timeSpend",r.spendTime)("$nextSubQ",r.nextSubQ.asObservable())("$resetScreen",r.reset.asObservable())("$bgAudio",r.bgAudio.asObservable())("$validateQuestion",r.validation.asObservable())("$showCorrectAns",r.correctAns.asObservable())("$iDontknw",r.onIDontKnw.asObservable())("messageOption",r.messageRule)("ngClass",s.sc(20,nc,r.showCorrectAnswerOralTest))}}var ic,oc,sc,ac,uc,cc,lc=((cc=function(){function e(t,r,i,o,s,a){var c=this;_classCallCheck(this,e),this._zone=t,this._libConfigService=r,this._httpClient=i,this._nativeInterface=o,this.analytics=s,this.modalService=a,this.title="webview-quiz",this.reset=new v.a,this.validation=new v.a,this.correctAns=new v.a,this.nextSubQ=new v.a,this.bgAudio=new v.a,this.onIDontKnw=new v.a,this.destroy$=new v.a,this.selectedOptions=[],this.stateObj={},this.mode="attempt",this.pending=0,this.attempt_count=0,this.totalSubQ=0,this.subCounter=1,this.apiVersion=1,this.isSoundEnabled=!0,this.instructions={SCQ:"The correct answer is",MCQ:"The correct answers are",SORTING:"The correct answers are",SUBJECTIVE:"The correct answer is",WS:"The correct answer is",WSs:"The correct answers are",WSV2:"The correct answer is",WSV2s:"The correct answers are",FIBSCQ:"The correct answer is",FIBSCQs:"The correct answers are",COMPOSITE:""},this.basePathMedia="",this.subjectTheme="quiz-default-theme",this.quiz_player_class="revise-quiz-player-page",this.messageRule=[],this.showCorrectAnswerOralTest=!1,this.spendTime=0,Object(u.__awaiter)(c,void 0,void 0,regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("loading ResizeObserver!"),"ResizeObserver"in window!=0){e.next=6;break}return console.log("using polyfill ResizeObserver!"),e.next=4,n.e(5).then(n.bind(null,"HR/i"));case 4:t=e.sent,window.ResizeObserver=t.ResizeObserver;case 6:new ResizeObserver(function(e,t){console.log("Something has resized!"),r._nativeInterface.passWebviewHeightToNative()}).observe(document.body);case 7:case"end":return e.stop()}},e)}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;window.angularReference={zone:this._zone,passQuizDataFromNative:function(t,n,r){return e.setQuizData(t,n,r)},passQuizDataFromNativeJson:function(t,n,r){return e.setQuizDataJson(t,n,r)},resetQuizFromNative:function(){return e.resetQuiz()},showAnswerFromNative:function(){return e.showAnswer()},validateQuizFromNative:function(){return e.validateQuestion()},nextSubQuizFromNative:function(){return e.nextSubQuestion()},prevSubQuizFromNative:function(){return e.prevSubQuestion()},playBgAudioFromNative:function(){return e.playBgAudio()},pauseBgAudioFromNative:function(){return e.pauseBgAudio()},iDontKnowFromNative:function(){return e.iDontKnow()},apiDataFromNative:function(t,n,r){return e.apiDataFromNative(t,n,r)},component:this};var t=localStorage.getItem("subjectId");t&&(this.subjectTheme="quiz-"+this._libConfigService.getSubjectTheme(t)),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 91 ~ AppComponent ~ ngOnInit ~ window",window)}},{key:"setQuizData",value:function(e,t,n){console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 119 ~ AppComponent ~ setQuizData ~ subResourceDataStr",e),this.subResourceData=null,console.log("1. setQuizData",e),this.subResourceData=JSON.parse(e),this._nativeInterface.passQuizControlSateToNative(tr.d.onQLoad),this.setQuizDataJson(JSON.parse(e),t,n)}},{key:"setQuizDataJson",value:function(e,t,n){var r=this;this.mode=t,console.log("1. setQuizDataJson",e),this.subResourceData=null,this.messageRule.length||this.getRulesJson(n),console.log("isSoundEnabled",this._nativeInterface.getDeviceType(),this.isSoundEnabled),setTimeout(function(){if(r.subResource=e,r.subResourceData=e.data,r.subResource.state){var i=JSON.parse(JSON.stringify(r.subResource.state));"practice_player"!==n?(r.spendTime=i.timeTaken,r.selectedOptions=JSON.parse(JSON.stringify(i.attemptedOption)),r.setAttemptCount(r.subResource),console.log("AppComponent -> setQuizDataJson -> this.selectedOptions",r.selectedOptions)):(r.setAttemptCount(r.subResource),r.spendTime=0,r.selectedOptions=[])}else r.selectedOptions=[],r.spendTime=0,r.attempt_count=0;console.log("3. setQuizDataJson"),r.player_class=n,console.log("4. setQuizDataJson",r.player_class,t),r.setBasePath(e.tqId,e.subResourceId),r._nativeInterface.passQuizControlSateToNative(tr.d.onQLoad),r.quiz_player_class="test_player"==r.player_class||"oral_player"==r.player_class?"test-quiz-player-page":"practice-quiz-player-page","oral_player"==r.player_class&&r.changeInstruction()},50)}},{key:"getRulesJson",value:function(e){var t=this;this._httpClient.get("assets/static_json/lesson-player/rules/message-rule.json").subscribe(function(e){console.log("1. messageRule",e),t.messageRule=e});var n="bigIdea"==localStorage.getItem("lessonType")?"big-idea-rule.json":"revise-rule.json";switch(e){case"oral_player":n="oral-test-rule.json";break;case"practice_player":n="practise-rule.json";break;case"test_player":n="test-rule.json"}this._httpClient.get("assets/static_json/lesson-player/rules/".concat(n)).subscribe(function(e){console.log("2. setQuizDataJson",n,e),t.quizRules=e})}},{key:"setAttemptCount",value:function(e){var t=this;console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 223 ~ AppComponent ~ setAttemptCount ~ subResource",e),e.state&&e.state.attemptedOption&&e.state.attemptedOption.length>0?(this.selectedOptions=e.state.attemptedOption,w.delay(function(){for(var n=0;n<e.state.attemptedOption.length;n++){var r=e.state.attemptedOption[n].attemptCount;t.spendTime=e.state.timeTaken;var i=e.state.attemptedOption[n].qState;0==r||2!==r&&2!==i||"preview"==t.mode?t.attempt_count=r:(t.nextSubQ.next(),t.attempt_count=0)}},1)):(this.spendTime=0,this.attempt_count=0,this.selectedOptions=[])}},{key:"changeInstruction",value:function(){this.subResourceData[0].data.instructions="";var e,t=_createForOfIteratorHelper(this.subResourceData);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.instructions=this.instructions[this.getRightAnswer(n)]}}catch(r){t.e(r)}finally{t.f()}}},{key:"getRightAnswer",value:function(e){var t=0;switch(e.data.type){case"SCQ":case"MCQ":case"SORTING":t=1;break;case"WS":case"WSV2":t=w.without(w.map(this.subResourceData[0].data.options,function(e){if(1===e.isCorrect)return e.value}),void 0).length;break;case"FIBSCQ":t=this.subResourceData.length-1;break;case"SUBJECTIVE":case"COMPOSITE":t=1}return t>1?e.data.type+"s":e.data.type}},{key:"apiDataFromNative",value:function(e,t,n){if(console.log("in Quiz AppComponent => "+JSON.stringify(e)+" || "+JSON.stringify(t)),"success"==n){var r=new m.g({body:t,status:200,url:e.url});this._nativeInterface.apiObservableObj[e.method+e.url+e.timestamp].next(r)}else{var i=new m.d({status:500,error:t,url:e.url});this._nativeInterface.apiObservableObj[e.method+e.url+e.timestamp].error(i)}this._nativeInterface.apiObservableObj[e.method+e.url+e.timestamp].complete(),delete this._nativeInterface.apiObservableObj[e.method+e.url+e.timestamp]}},{key:"resetQuiz",value:function(){console.log("reset quiz"),this.reset.next(),this.showCorrectAnswerOralTest=!1,this._nativeInterface.passQuizControlSateToNative(tr.d.onQLoad)}},{key:"showAnswer",value:function(){console.log("show answer",this.player_class,"oral_player"==this.player_class),this.correctAns.next(),this.showCorrectAnswerOralTest="oral_player"==this.player_class,this._nativeInterface.passQuizControlSateToNative(tr.d.onQRetry)}},{key:"setBasePath",value:function(e,t){var n=localStorage.getItem("bookId"),r=localStorage.getItem("lessonType");this.basePathMedia=this.getBaseUrl(n,e,"quiz",r)+t+"/",console.log("basePathMedia:",this.basePathMedia)}},{key:"getBaseUrl",value:function(e,t,n,r){var i;return console.log("playerType",r,n,"res"),i=r&&"practice"===r?"content/1/res/v".concat(this.apiVersion,"/library/").concat(e,"/practice/concept/").concat(t):!r||"test"!==r&&"digital_test"!==r?"content/1/res/v".concat(this.apiVersion,"/library/").concat(e,"/revise/concept/").concat(t):"content/1/res/v".concat(this.apiVersion,"/library/").concat(e,"/test/concept/").concat(t),{video:"".concat(i,"/assets/"),quiz:"".concat(i,"/question/"),summary:"".concat(i,"/notes/")}[n]}},{key:"questionLoaded",value:function(e){console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 359 ~ AppComponent ~ questionLoaded ~ event",e),console.log("questionLoaded: "+JSON.stringify(e)),this._nativeInterface.questionLoadedDataToNative(JSON.stringify(e)),this.pending=e.pending,this.totalSubQ=e.totalSubQ,this.subCounter=e.subIndex}},{key:"nextSubQuestion",value:function(){console.log("next nextSubQ quiz"),this.nextSubQ.next(),this.attempt_count=0,this._nativeInterface.passQuizControlSateToNative(tr.d.onQLoad),this.hidePopup()}},{key:"prevSubQuestion",value:function(){console.log("prev SubQ quiz"),this.isPrevSubQuestion()&&(this.nextSubQ.next(this.subCounter-1),this._nativeInterface.passQuizControlSateToNative(tr.d.onQLoad)),this.hidePopup()}},{key:"hidePopup",value:function(){this.modalService.hasOpenModals()&&this.modalService.dismissAll()}},{key:"playBgAudio",value:function(){console.log("prev SubQ quiz"),this.bgAudio.next("play")}},{key:"pauseBgAudio",value:function(){console.log("prev SubQ quiz"),this.bgAudio.next("pause")}},{key:"validateQuestion",value:function(){console.log("validation quiz"),this.validation.next()}},{key:"iDontKnow",value:function(){console.log("onIDontKnw quiz"),this.subResource.state.attemptedOption[this.subCounter-1]&&(this.subResource.state.attemptedOption[this.subCounter-1].attemptCount=2),this.onIDontKnw.next(),this._nativeInterface.passQuizControlSateToNative(tr.d.onFinal),this._nativeInterface.updateSubResourceDataToNative(this.subResource)}},{key:"isNextSubQuestion",value:function(){return this.subCounter===this.totalSubQ}},{key:"isPrevSubQuestion",value:function(){return 1!==this.subCounter}},{key:"onAttempt",value:function(e){return console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 424 ~ AppComponent ~ onAttempt ~ event",e),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 427 ~ AppComponent ~ onAttempt ~ this.player_class",this.player_class),e=this.checkParentQState(e),"revise_player"==this.player_class||"test_player"==this.player_class?(console.log("onAttempt call in if"),this.isNextSubQuestion()?(console.log("onAttempt call in onAttempt"),this._nativeInterface.passQuizControlSateToNative(tr.d.onAttempt)):(console.log("onAttempt call in nextSubQ"),this._nativeInterface.passQuizControlSateToNative(tr.d.nextSubQ)),this.setAttemptedData(e),this.passDataToNative(this.subResource.state),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 445 ~ AppComponent ~ onAttempt ~ this.subResource",this.subResource),void console.log("onAttempt call passed data to native")):(this.setAttemptedData(e),console.log("onAttempt call else"),this.checkAttempted(e)?this._nativeInterface.passQuizControlSateToNative(e.attemptedOption.length>0?tr.d.onAttempt:tr.d.onQLoad):this._nativeInterface.passQuizControlSateToNative(tr.d.onQLoad),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 473 ~ AppComponent ~ onAttempt ~ this.subResource",this.subResource),this.subResource)}},{key:"checkAttempted",value:function(e){return 1===this.totalSubQ&&e.attemptedOption.length>0||!!(this.totalSubQ>1&&e.attemptedOption[this.subCounter-1].options.length>0||e.attemptedOption[this.subCounter-1]&&e.attemptedOption[this.subCounter-1].options.length>0)}},{key:"setAttemptedData",value:function(e){return console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 478 ~ AppComponent ~ setAttemptedData ~ event",e),this.subResource=w.cloneDeep(this.subResource),console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 480 ~ AppComponent ~ setAttemptedData ~ this.subResource",this.subResource),1==this.totalSubQ?this.subResource.state=e:this.subResource.state&&this.subResource.state.attemptedOption?(this.subResource.state.attemptedOption[this.subCounter-1]=e.attemptedOption[this.subCounter-1],e.attemptedOption=this.subResource.state.attemptedOption,this.subResource.state=e):this.subResource.state=e,console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 496 ~ AppComponent ~ setAttemptedData ~ this.subResource",this.subResource),this.subResource.ledger=this.analytics.dataStructure(this.subResource.state,this.subResource.data),"revise_player"!=this.player_class&&"test_player"!=this.player_class||(this.selectedOptions=this.subResource.state.attemptedOption),this.subResource}},{key:"checkParentQState",value:function(e){if(1===this.totalSubQ&&0===e.attemptedOption.length)e.parentsQstate=3;else if(this.totalSubQ>1){var t=e.parentsQstate;e.parentsQstate=3,e.attemptedOption.forEach(function(n){n.options.length>0&&(e.parentsQstate=t)})}return console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 562 ~ AppComponent ~ checkParentQState ~ event",e),e}},{key:"passDataToNative",value:function(e){console.log("AppComponent -> passDataToNative -> event",e);var t=w.cloneDeep(this.subResource);t.state=Object.assign(Object.assign({},t.state),e),this._nativeInterface.updateSubResourceDataToNative(t),console.log("onAttempt quiz",t)}},{key:"onSubmit",value:function(e){console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 506 ~ AppComponent ~ onSubmit ~ obj",e);var t=Object();(t=w.cloneDeep(this.subResource.state)).attemptedOption[this.subCounter-1].attemptCount=e.attemptCount,t.attemptedOption[this.subCounter-1].confidence=e.confidence,t.attemptCount=e.attemptCount,t.confidence=e.confidence,t.event=e.event,t=this.setAttemptedData(t).state,console.log("\ud83d\ude80 ~ file: app.component.ts ~ line 509 ~ AppComponent ~ onSubmit ~ obj",e),"attemptFb"==e.event?(this.stateObj=e,this._nativeInterface.passQuizControlSateToNative(tr.d.onQRetry)):this.isNextSubQuestion()?this._nativeInterface.passQuizControlSateToNative(tr.d.onFinal):this._nativeInterface.passQuizControlSateToNative(tr.d.nextSubQ);var n=w.cloneDeep(this.subResource);n.state=Object.assign(Object.assign({},n.state),t),this._nativeInterface.updateSubResourceDataToNative(n)}}]),e}()).\u0275fac=function(e){return new(e||cc)(s.Qb(s.A),s.Qb(tr.c),s.Qb(m.b),s.Qb(ec),s.Qb(tc),s.Qb(T.b))},cc.\u0275cmp=s.Kb({type:cc,selectors:[["nx-afs-root"]],decls:4,vars:4,consts:[[1,"container"],[1,"quiz-player-container","box-shadow-view"],[3,"isSound","quizData","attemptCount","rules","mode","theme","basePath","attemptedOps","timeSpend","$nextSubQ","$resetScreen","$bgAudio","$validateQuestion","$showCorrectAns","$iDontknw","messageOption","class","ngClass","attempted","submitted","questLoad",4,"ngIf"],[3,"isSound","quizData","attemptCount","rules","mode","theme","basePath","attemptedOps","timeSpend","$nextSubQ","$resetScreen","$bgAudio","$validateQuestion","$showCorrectAns","$iDontknw","messageOption","ngClass","attempted","submitted","questLoad"]],template:function(e,t){1&e&&(s.Vb(0,"div"),s.Vb(1,"div",0),s.Vb(2,"div",1),s.Hc(3,rc,1,22,"tce-renderer",2),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Gb("quiz-player-page ",t.quiz_player_class,""),s.Db(3),s.oc("ngIf",t.subResourceData&&t.quizRules))},directives:[a.l,ku,a.j],styles:[""]}),cc),hc=((uc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"gotoQuiz",value:function(){var e=window.location.search;if(e&&e.indexOf("token")){var t=e.split("&"),n="",r="",i="revise";t&&t.length&&(t.forEach(function(e){-1!==e.indexOf("deviceType")&&localStorage.setItem("deviceType",e.split("=")[1]),-1!==e.indexOf("token")&&(n=e.split("=")[1],localStorage.setItem("authtoken",n)),-1!==e.indexOf("bookId")&&(n=e.split("=")[1],localStorage.setItem("bookId",n)),-1!==e.indexOf("subjectId")&&(n=e.split("=")[1],localStorage.setItem("subjectId",n)),-1!==e.indexOf("apiurl")&&(r=e.split("=")[1]),-1!==e.indexOf("lessonType")&&(i=e.split("=")[1])}),localStorage.setItem("apiurl",r),localStorage.setItem("lessonType",i))}}}]),e}()).\u0275fac=function(e){return new(e||uc)},uc.\u0275prov=s.Mb({token:uc,factory:uc.\u0275fac,providedIn:"root"}),uc),dc=((ac=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAccessToken",value:function(){return localStorage.getItem("authtoken")}},{key:"addAuthenticationToken",value:function(e){var t={};t.Authorization="Bearer ".concat(this.getAccessToken()),t["Content-Type"]="application/json";var n,r=_createForOfIteratorHelper(e.headers.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;t[i]=e.headers.getAll(i)}}catch(o){r.e(o)}finally{r.f()}return e.url.includes("attachment")&&delete t["Content-Type"],e.clone({setHeaders:t,withCredentials:!0})}}]),e}()).\u0275fac=function(e){return new(e||ac)},ac.\u0275prov=s.Mb({token:ac,factory:ac.\u0275fac}),ac),fc=((sc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"intercept",value:function(e,t){if(e.headers.has("noAuth")){var n=e.headers.delete("noAuth");e=e.clone({headers:n,withCredentials:!0})}else e=this.addAuthenticationToken(e);return t.handle(e)}}]),n}(dc)).\u0275fac=function(e){return new(e||sc)},sc.\u0275prov=s.Mb({token:sc,factory:sc.\u0275fac}),sc),pc=((oc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getApiUrl",value:function(){return localStorage.getItem("apiurl")}},{key:"intercept",value:function(e,t){var n=e.url.split("/");return e=n.includes("static_json")&&n.includes("big-idea")?e.clone({url:"".concat(e.url)}):(n.includes("tce-resources.s3.ap-south-1.amazonaws.com"),e.clone({url:e.url})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||oc)},oc.\u0275prov=s.Mb({token:oc,factory:oc.\u0275fac}),oc),_c=((ic=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).nativeService=e,r}return _createClass(n,[{key:"intercept",value:function(e,t){var n=this;console.log("RefreshTokenInterceptor",e);var r={url:e.url,method:e.method,body:e.body,timestamp:(new Date).getTime(),responseType:"JSON"};if(null!=e.url.match(/\.(jpeg|jpg|gif|png|svg|mp3|JPEG|JPG|GIF|PNG|SVG|MP3)$/)){r={url:e.url,method:e.method,body:e.body,timestamp:(new Date).getTime(),responseType:"blob"};var i=new ft;return this.nativeService.apiObservableObj[r.method+r.url+r.timestamp]=i,this.nativeService.passApiRequestToNative(r),i.asObservable()}return t.handle(e).pipe(Object(C.a)(function(e){return n.nativeService.nativeHandleError(e),Object(_.a)(e)}))}}]),n}(dc)).\u0275fac=function(e){return new(e||ic)(s.cc(ec))},ic.\u0275prov=s.Mb({token:ic,factory:ic.\u0275fac}),ic);function gc(e){return function(){return e.gotoQuiz()}}var vc,mc=((vc=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||vc)},vc.\u0275mod=s.Ob({type:vc,bootstrap:[lc]}),vc.\u0275inj=s.Nb({providers:[ec,tc,{provide:s.d,useFactory:gc,deps:[hc],multi:!0},{provide:m.a,useClass:pc,multi:!0},{provide:m.a,useClass:fc,multi:!0},{provide:m.a,useClass:_c,multi:!0}],imports:[[o.a,m.c,f.forRoot(),tr.a,Ju]]}),vc);Object(s.U)(),o.f().bootstrapModule(mc).catch(function(e){return console.error(e)})},qgXg:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(n("IjjT").a))(r)},quSY:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i,o=n("DH7j"),s=n("XoHu"),a=n("n6bG"),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=((i=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(a.a)(r))try{r.call(this)}catch(p){t=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,d=i.length;++h<d;){var f=i[h];if(Object(s.a)(f))try{f.unsubscribe()}catch(p){t=t||[],p instanceof u?t=t.concat(l(p.errors)):t.push(p)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((r=new i).closed=!0,r),i);function l(e){return e.reduce(function(e,t){return e.concat(t instanceof u?t.errors:t)},[])}},sVev:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},sYmb:function(e,t,n){"use strict";n.d(t,"a",function(){return x}),n.d(t,"b",function(){return R});var r=n("fXoL"),i=n("LRne"),o=n("7+OI"),s=n("cp0P"),a=n("GyhO"),u=n("NXyV"),c=n("IzEk"),l=n("UXun"),h=n("lJxs"),d=n("bOdf"),f=n("eIep"),p=_createClass(function e(){_classCallCheck(this,e)}),_=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTranslation",value:function(e){return Object(i.a)({})}}]),n}(p);return e.\u0275fac=function(t){return g(t||e)},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),g=r.Xb(_),v=_createClass(function e(){_classCallCheck(this,e)}),m=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"handle",value:function(e){return e.key}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}();function y(e){return null!=e}function b(e){return e&&"object"==typeof e&&!Array.isArray(e)}function E(e,t){var n=Object.assign({},e);return b(e)&&b(t)&&Object.keys(t).forEach(function(r){b(t[r])&&r in e?n[r]=E(e[r],t[r]):Object.assign(n,_defineProperty({},r,t[r]))}),n}var C=_createClass(function e(){_classCallCheck(this,e)}),O=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return _createClass(n,[{key:"interpolate",value:function(e,t){return"string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e}},{key:"getValue",value:function(e,t){var n="string"==typeof t?t.split("."):[t];t="";do{t+=n.shift(),!y(e)||!y(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t="")}while(n.length);return e}},{key:"interpolateFunction",value:function(e,t){return e(t)}},{key:"interpolateString",value:function(e,t){var n=this;return t?e.replace(this.templateMatcher,function(e,r){var i=n.getValue(t,r);return y(i)?i:e}):e}}]),n}(C);return e.\u0275fac=function(t){return S(t||e)},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),S=r.Xb(O),T=_createClass(function e(){_classCallCheck(this,e)}),w=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"compile",value:function(e,t){return e}},{key:"compileTranslations",value:function(e,t){return e}}]),n}(T);return e.\u0275fac=function(t){return D(t||e)},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),D=r.Xb(w),P=_createClass(function e(){_classCallCheck(this,e),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.n,this.onLangChange=new r.n,this.onDefaultLangChange=new r.n}),k=new r.r("USE_STORE"),A=new r.r("USE_DEFAULT_LANG"),I=new r.r("DEFAULT_LANGUAGE"),M=new r.r("USE_EXTEND"),R=function(){var e=function(){function e(t,n,i,o,s){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;_classCallCheck(this,e),this.store=t,this.currentLoader=n,this.compiler=i,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=u,this.extend=c,this.pending=!1,this._onTranslationChange=new r.n,this._onLangChange=new r.n,this._onDefaultLangChange=new r.n,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}return _createClass(e,[{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(e){this.isolate?this._currentLang=e:this.store.currentLang=e}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(e){this.isolate?this._langs=e:this.store.langs=e}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(e){this.isolate?this._translations=e:this.store.translations=e}},{key:"setDefaultLang",value:function(e){var t=this;if(e!==this.defaultLang){var n=this.retrieveTranslations(e);void 0!==n?(null==this.defaultLang&&(this.defaultLang=e),n.pipe(Object(c.a)(1)).subscribe(function(n){t.changeDefaultLang(e)})):this.changeDefaultLang(e)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(e){var t=this;if(e===this.currentLang)return Object(i.a)(this.translations[e]);var n=this.retrieveTranslations(e);return void 0!==n?(this.currentLang||(this.currentLang=e),n.pipe(Object(c.a)(1)).subscribe(function(n){t.changeLang(e)}),n):(this.changeLang(e),Object(i.a)(this.translations[e]))}},{key:"retrieveTranslations",value:function(e){var t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}},{key:"getTranslation",value:function(e){var t=this;this.pending=!0;var n=this.currentLoader.getTranslation(e).pipe(Object(l.a)(1),Object(c.a)(1));return this.loadingTranslations=n.pipe(Object(h.a)(function(n){return t.compiler.compileTranslations(n,e)}),Object(l.a)(1),Object(c.a)(1)),this.loadingTranslations.subscribe({next:function(n){t.translations[e]=t.extend&&t.translations[e]?Object.assign(Object.assign({},n),t.translations[e]):n,t.updateLangs(),t.pending=!1},error:function(e){t.pending=!1}}),n}},{key:"setTranslation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=this.compiler.compileTranslations(t,e),this.translations[e]=(n||this.extend)&&this.translations[e]?E(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(e){var t=this;e.forEach(function(e){-1===t.langs.indexOf(e)&&t.langs.push(e)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(e,t,n){var r;if(t instanceof Array){var a,u={},c=!1,l=_createForOfIteratorHelper(t);try{for(l.s();!(a=l.n()).done;){var d=a.value;u[d]=this.getParsedResult(e,d,n),Object(o.a)(u[d])&&(c=!0)}}catch(_){l.e(_)}finally{l.f()}if(c){var f=t.map(function(e){return Object(o.a)(u[e])?u[e]:Object(i.a)(u[e])});return Object(s.a)(f).pipe(Object(h.a)(function(e){var n={};return e.forEach(function(e,r){n[t[r]]=e}),n}))}return u}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,t),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),n)),void 0===r){var p={key:t,translateService:this};void 0!==n&&(p.interpolateParams=n),r=this.missingTranslationHandler.handle(p)}return void 0!==r?r:t}},{key:"get",value:function(e,t){var n=this;if(!y(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Object(d.a)(function(r){return r=n.getParsedResult(r,e,t),Object(o.a)(r)?r:Object(i.a)(r)}));var r=this.getParsedResult(this.translations[this.currentLang],e,t);return Object(o.a)(r)?r:Object(i.a)(r)}},{key:"getStreamOnTranslationChange",value:function(e,t){var n=this;if(!y(e)||!e.length)throw new Error('Parameter "key" required');return Object(a.a)(Object(u.a)(function(){return n.get(e,t)}),this.onTranslationChange.pipe(Object(f.a)(function(r){var o=n.getParsedResult(r.translations,e,t);return"function"==typeof o.subscribe?o:Object(i.a)(o)})))}},{key:"stream",value:function(e,t){var n=this;if(!y(e)||!e.length)throw new Error('Parameter "key" required');return Object(a.a)(Object(u.a)(function(){return n.get(e,t)}),this.onLangChange.pipe(Object(f.a)(function(r){var s=n.getParsedResult(r.translations,e,t);return Object(o.a)(s)?s:Object(i.a)(s)})))}},{key:"instant",value:function(e,t){if(!y(e)||!e.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],e,t);if(Object(o.a)(n)){if(e instanceof Array){var r={};return e.forEach(function(t,n){r[e[n]]=e[n]}),r}return e}return n}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}},{key:"changeDefaultLang",value:function(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}},{key:"reloadLang",value:function(e){return this.resetLang(e),this.getTranslation(e)}},{key:"resetLang",value:function(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(P),r.cc(p),r.cc(T),r.cc(C),r.cc(v),r.cc(A),r.cc(k),r.cc(M),r.cc(I))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),x=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:p,useClass:_},t.compiler||{provide:T,useClass:w},t.parser||{provide:C,useClass:O},t.missingTranslationHandler||{provide:v,useClass:m},P,{provide:k,useValue:t.isolate},{provide:A,useValue:t.useDefaultLang},{provide:M,useValue:t.extend},{provide:I,useValue:t.defaultLanguage},R]}}},{key:"forChild",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:p,useClass:_},t.compiler||{provide:T,useClass:w},t.parser||{provide:C,useClass:O},t.missingTranslationHandler||{provide:v,useClass:m},{provide:k,useValue:t.isolate},{provide:A,useValue:t.useDefaultLang},{provide:M,useValue:t.extend},{provide:I,useValue:t.defaultLanguage},R]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({}),e}()},spgP:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return y}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return S}),n.d(t,"g",function(){return E}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return C});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule(function(t){var n=this;r.runGuarded(function(){e.apply(n,[t])})},t,n)}}]),e}(),d=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)}),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout(function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)},10)}}]),e}(),f=_createClass(function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular(function(){return new h(Zone.current)}),this.insideAngular=t.run(function(){return new h(Zone.current,i.a)})});function p(e){return function(t){return(t=t.lift(new d(e.ngZone))).pipe(Object(s.a)(e.outsideAngular),Object(a.b)(e.insideAngular))}}var _=["ngOnDestroy"],g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,o){return n.runOutsideAngular(function(){var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(_.indexOf(o)>-1)return function(){};var s=t.toPromise().then(function(e){var t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then(function(e){return n.run(function(){return e})}):n.run(function(){return t})});return new Proxy(function(){},{get:function(e,t){return s[t]},apply:function(e,t,n){return s.then(function(e){var t,i=e&&e.apply(void 0,_toConsumableArray(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i})}})})}})},v=function(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype||t).forEach(function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})},m=new u.r("angularfire2.app.options"),y=new u.r("angularfire2.app.nameOrConfig"),b=_createClass(function e(){_classCallCheck(this,e)});function E(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter(function(e){return e&&e.name===i.name})[0]||n.runOutsideAngular(function(){return c.a.initializeApp(t,i)});try{JSON.stringify(t)!==JSON.stringify(o.options)&&O("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(s){}return o}new u.Q("6.1.5");var C=function(){O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.X)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function S(t,n,r,i,o){var s=_toArray(globalThis.\u0275AngularfireInstanceCache.get(t)||[]),a=s[0],u=s.slice(1);if(a){try{o.some(function(e,t){var n=u[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n})&&O("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return a}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map),new u.B}).call(this,n("3UD+")(e))},t6oF:function(e,t,n){"use strict";var r=n("zIRd");(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var s=n.setTimeout;r.prototype.c=function(e){s(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,s=new t(function(e,t){i=e,o=t});return this.Ra(r(e,i),r(n,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=o(e),s=r.next();!s.done;s=r.next())i(s.value).Ra(t,n)})},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t(function(e,t){function o(t){return function(n){s[t]=n,0==--a&&e(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Ra(o(s.length-1),t),r=n.next()}while(!r.done)})},t});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==d(e)}function _(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++m)}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function C(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var O=Date.now;function S(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function w(e,t,n){this.code=k+e,this.message=t||A[e]||"",this.a=n||null}function D(e){var t=e&&e.code;return t?new w(t.substring(k.length),e.message,e.serverResponse):null}S(w,Error),w.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},w.prototype.toJSON=function(){return this.w()};var P,k="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},I={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function M(e){for(var t in I)if(I[t].id===e)return{firebaseEndpoint:(e=I[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function x(e){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");x.call(this,n+e[r])}function j(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function N(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function B(){this.b=this.a=null}P=M("__EID__")?"__EID__":void 0,S(x,Error),x.prototype.name="CustomError",S(L,x),L.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var F=new N(function(){return new V},function(e){e.reset()});function q(){var e=mt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}B.prototype.add=function(e,t){var n=F.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},G=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,s=0;s<n;s++)if(s in o){var a=o[s];t.call(void 0,a,s,e)&&(r[i++]=a)}return r},z=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},H=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function $(e,t){return 0<=W(e,t)}function Q(e,t){var n;return(n=0<=(t=W(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)})}function X(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var J,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,se=/\x00/g,ae=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=a.navigator;if(le){var he=le.userAgent;if(he){J=he;break e}}J=""}function de(e){return ue(J,e)}function fe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function _e(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function me(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(s){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(_(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ye(e,t){this.a=e===Oe&&t||"",this.b=Ce}function be(e){return e instanceof ye&&e.constructor===ye&&e.b===Ce?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}ye.prototype.ta=!0,ye.prototype.sa=function(){return this.a},ye.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Ce={},Oe={};function Se(){if(void 0===Ee){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){a.console&&a.console.error(n.message)}Ee=e}else Ee=e}return Ee}function Te(e,t){this.a=t===Ae?e:""}function we(e){return e instanceof Te&&e.constructor===Te?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function De(e,t){var n=be(e);if(!ke.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Se();return new Te(e=t?t.createScriptURL(e):e,Ae)}(e=n.replace(Pe,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof ye?be(e):encodeURIComponent(String(e))}))}Te.prototype.ta=!0,Te.prototype.sa=function(){return this.a.toString()},Te.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pe=/%{(\w+)}/g,ke=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function Ie(e,t){this.a=t===Ue?e:""}function Me(e){return e instanceof Ie&&e.constructor===Ie?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Ie.prototype.ta=!0,Ie.prototype.sa=function(){return this.a.toString()},Ie.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function je(e){if(e instanceof Ie)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new Ie(e,Ue);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(xe);e=t&&Re.test(t[1])?new Ie(e,Ue):null}return e}function Ne(e){return e instanceof Ie?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Ie(e,Ue))}var Ue={},Be=new Ie("about:invalid#zClosurez",Ue);function Fe(e,t,n){this.a=n===qe?e:""}Fe.prototype.ta=!0,Fe.prototype.sa=function(){return this.a.toString()},Fe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qe={};function Ve(e,t,n,r){return e=e instanceof Ie?e:Ne(e),t=t||a,n=n instanceof ye?be(n):n||"",t.open(Me(e),n,r,void 0)}function We(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ge(e){return ae.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function Ke(e){return Ke[" "](e),e}Ke[" "]=h;var ze,He,$e=de("Opera"),Qe=de("Trident")||de("MSIE"),Ye=de("Edge"),Xe=Ye||Qe,Ze=de("Gecko")&&!(ue(J.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Je=ue(J.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=a.document;return e?e.documentMode:void 0}e:{var tt="",nt=(He=J,Ze?/rv:([^\);]+)(\)|;)/.exec(He):Ye?/Edge\/([\d\.]+)/.exec(He):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(He):Je?/WebKit\/(\S+)/.exec(He):$e?/(?:Version)[ \/]?(\S+)/.exec(He):void 0);if(nt&&(tt=nt?nt[1]:""),Qe){var rt=et();if(null!=rt&&rt>parseFloat(tt)){ze=String(rt);break e}}ze=tt}var it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,function(){for(var t=0,n=ee(String(ze)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=ce(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ce(0==s[2].length,0==a[2].length)||ce(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t})}var st=a.document&&Qe&&(et()||parseInt(ze,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(He){}var at=!Qe||9<=Number(st);function ut(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ct(e,t){fe(t,function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var lt,ht,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ft(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||_(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(_(o)){var s="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){s="function"==typeof o.item;break e}}s=!1}G(s?Z(o):o,r)}}}function pt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function _t(e){a.setTimeout(function(){throw e},0)}function gt(e,t){ht||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);ht=function(){e.then(yt)}}else ht=function(){var e=yt;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!de("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(lt||(lt=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=pt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){a.setTimeout(e,0)}}()),lt(e)):a.setImmediate(e)}}(),vt||(ht(),vt=!0),mt.add(e,t)}var vt=!1,mt=new B;function yt(){for(var e;e=q();){try{e.a.call(e.b)}catch(t){_t(t)}U(F,e)}vt=!1}function bt(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,function(e){xt(n,Ct,e)},function(e){if(!(e instanceof qt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}xt(n,Ot,e)})}catch(r){xt(this,Ot,r)}}var Et=0,Ct=2,Ot=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tt=new N(function(){return new St},function(e){e.reset()});function wt(e,t,n){var r=Tt.get();return r.g=e,r.b=t,r.f=n,r}function Dt(e){if(e instanceof bt)return e;var t=new bt(h);return xt(t,Ct,e),t}function Pt(e){return new bt(function(t,n){n(e)})}function kt(e,t,n){Lt(e,t,n,null)||gt(C(t,e))}function At(e){return new bt(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)kt(e[o],C(i,o,!0),C(i,o,!1));else t(r)})}function It(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==e&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Et&&1==r?It(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Nt(n),Ut(n,i,Ot,t)))}e.c=null}else xt(e,Ot,t)}function Mt(e,t){e.b||e.a!=Ct&&e.a!=Ot||jt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Rt(e,t,n,r){var i=wt(null,null,null);return i.a=new bt(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(s){o(s)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof qt?o(t):e(i)}catch(s){o(s)}}:o}),i.a.c=e,Mt(e,i),i.a}function xt(e,t,n){e.a==Et&&(e===n&&(t=Ot,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,jt(e),t!=Ot||n instanceof qt||function(e,t){e.g=!0,gt(function(){e.g&&Ft.call(null,t)})}(e,n)))}function Lt(e,t,n,r){if(e instanceof bt)return Mt(e,wt(t||h,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(_(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}var s=!1;try{t.call(e,function(e){s||(s=!0,n.call(i,e))},o)}catch(a){o(a)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function jt(e){e.h||(e.h=!0,gt(e.gc,e))}function Nt(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Ot&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Bt(t,n,r);else try{t.c?t.g.call(t.f):Bt(t,n,r)}catch(i){Ft.call(null,i)}U(Tt,t)}function Bt(e,t,n){t==Ct?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}bt.prototype.then=function(e,t,n){return Rt(this,p(e)?e:null,p(t)?t:null,n)},bt.prototype.$goog_Thenable=!0,(e=bt.prototype).oa=function(e,t){return(e=wt(e,e,t)).c=!0,Mt(this,e),this},e.o=function(e,t){return Rt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new qt(e);gt(function(){It(this,t)},this)}},e.$c=function(e){this.a=Et,xt(this,Ct,e)},e.ad=function(e){this.a=Et,xt(this,Ot,e)},e.gc=function(){for(var e;e=Nt(this);)Ut(this,e,this.a,this.i);this.h=!1};var Ft=_t;function qt(e){x.call(this,e)}function Vt(){0!=Wt&&(Gt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}S(qt,x),qt.prototype.name="cancel";var Wt=0,Gt={};function Kt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=g(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}Vt.prototype.ya=!1,Vt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var zt=Object.freeze||function(e){return e},Ht=!Qe||9<=Number(st),$t=Qe&&!ot("9"),Qt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",h,t),a.removeEventListener("test",h,t)}catch(n){}return e}();function Yt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Xt(e,t){if(Yt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{Ke(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Yt.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Xt,Yt);var Zt=zt({2:"touch",3:"pen",4:"mouse"});Xt.prototype.preventDefault=function(){Xt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Xt.prototype.g=function(){return this.a};var Jt="closure_listenable_"+(1e6*Math.random()|0),en=0;function tn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++en,this.wa=this.Qa=!1}function nn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function rn(e){this.src=e,this.a={},this.b=0}function on(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(nn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=sn(e,t,r,i);return-1<s?(t=e[s],n||(t.Qa=!1)):((t=new tn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(e,t,n,r,i){if(r&&r.once)hn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=bn(n),e&&e[Jt]?Cn(e,t,n,_(r)?!!r.capture:!!r,i):ln(e,t,n,!1,r,i)}function ln(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=_(i)?!!i.capture:!!i,a=mn(e);if(a||(e[an]=a=new rn(e)),!(n=a.add(t,n,r,s,o)).proxy)if(r=function(){var e=vn,t=Ht?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qt||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=bn(n),e&&e[Jt]?On(e,t,n,_(r)?!!r.capture:!!r,i):ln(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=_(r)?!!r.capture:!!r,n=bn(n),e&&e[Jt]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=sn(o=e.a[t],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=mn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&fn(n))}function fn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[Jt])on(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=mn(t))?(on(n,e),0==n.b&&(n.src=null,t[an]=null)):nn(e)}}}function pn(e){return e in un?un[e]:un[e]="on"+e}function _n(e,t,n,r){var i=!0;if((e=mn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&fn(e),n.call(r,t)}function vn(e,t){if(e.wa)return!0;if(!Ht){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Xt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=_n(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=_n(r[i],e,!1,t),n=n&&o}return n}return gn(e,new Xt(t,this))}function mn(e){return(e=e[an])instanceof rn?e:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(e){return p(e)?e:(e[yn]||(e[yn]=function(t){return e.handleEvent(t)}),e[yn])}function En(){Vt.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function Cn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function On(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&on(e.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(e,t,n){if(p(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function wn(e){var t=null;return new bt(function(n,r){-1==(t=Tn(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw a.clearTimeout(t),e})}function Dn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Pn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function kn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function An(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];In(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)In(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function In(e,t){return Object.prototype.hasOwnProperty.call(e,t)}S(En,Vt),En.prototype[Jt]=!0,En.prototype.addEventListener=function(e,t,n,r){cn(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Yt(e,n);else if(e instanceof Yt)e.target=e.target||n;else{var i=e;ve(e=new Yt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.b=t[o];i=Sn(s,r,!0,e)&&i}if(i=Sn(s=e.b=n,r,!0,e)&&i,i=Sn(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Sn(s=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)nn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=kn.prototype).X=function(){An(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return An(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return In(this.b,e)?this.b[e]:t},e.set=function(e,t){In(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Rn?(this.i=void 0!==t?t:e.i,xn(this,e.c),this.l=e.l,this.a=e.a,Ln(this,e.g),this.f=e.f,jn(this,tr(e.b)),this.h=e.h):e&&(n=String(e).match(Mn))?(this.i=!!t,xn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Ln(this,n[4]),this.f=qn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!t,this.b=new Qn(null,this.i))}function xn(e,t,n){e.c=n?qn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function jn(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&(Yn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),er(this,n,e))},e)),e.f=t}(e.b,e.i)):(n||(t=Vn(t,Hn)),e.b=new Qn(t,e.i))}function Nn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Bn(e){return e instanceof Rn?new Rn(e):new Rn(e,void 0)}function Fn(e,t,n,r){var i=new Rn(null,void 0);return e&&xn(i,e),t&&(i.a=t),n&&Ln(i,n),r&&(i.f=r),i}function qn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Vn(t,Gn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Vn(t,Gn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vn(n,"/"==n.charAt(0)?zn:Kn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Vn(n,$n)),e.join("")},Rn.prototype.resolve=function(e){var t=new Rn(this),n=!!e.c;n?xn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Ln(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?jn(t,tr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Gn=/[#\/\?@]/g,Kn=/[#\?:]/g,zn=/[#\?]/g,Hn=/[#\?@]/g,$n=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yn(e){e.a||(e.a=new kn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Xn(e){var t=Pn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=Dn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?er(n,i,o):n.add(i,o)}return n}function Zn(e,t){Yn(e),t=nr(e,t),In(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,In((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&An(e)))}function Jn(e,t){return Yn(e),t=nr(e,t),In(e.a.b,t)}function er(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(nr(e,t),Z(n)),e.b+=n.length)}function tr(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new kn(e.a),t.b=e.b),t}function nr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function rr(e){var t=[];return or(new ir,e,t),t.join("")}function ir(){}function or(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),or(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),ur(r,n),n.push(":"),or(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":ur(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Qn.prototype).add=function(e,t){Yn(this),this.c=null,e=nr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Yn(this),this.a.forEach(function(n,r){G(n,function(n){e.call(t,n,r,this)},this)},this)},e.Y=function(){Yn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Yn(this);var t=[];if("string"==typeof e)Jn(this,e)&&(t=X(t,this.a.get(nr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Yn(this),this.c=null,Jn(this,e=nr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(e,t){t.push('"',e.replace(ar,function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t}),'"')}function cr(){var e=Pr();return Qe&&!!st&&11==st||/Edge\/\d+/.test(e)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(e,t){t=t||a.window;var n="about:blank";e&&(n=Me(je(e)||Be)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function fr(e){return!!((e=(e||Pr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function pr(e){e=e||a.window;try{e.close()}catch(t){}}function _r(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Tr(Pr())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ie?n:je(void 0!==n.href?n.href:String(n))||Be,n=e.target||n.target,i=[],e)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(e[s]?1:0))}var s=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(me(s=pt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ie?t:Ne(t),s.href=Me(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=Ve("",r,n,s),e=Me(t),s&&(Xe&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ge(e)+'">',e=new Fe(e=(r=Se())?r.createHTML(e):e,null,qe),r=s.document)&&(r.write(function(e){return e instanceof Fe&&e.constructor===Fe?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(s=Ve(t,r,n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function mr(){var e=null;return new bt(function(t){"complete"==a.document.readyState?t():(e=function(){t()},hn(window,"load",e))}).o(function(t){throw dn(window,"load",e),t})}function yr(e){return e=e||Pr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var e=a.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Er(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Cr(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Or(){var e=Cr();return"ReactNative"===e||"Node"===e}var Sr="Firefox";function Tr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Sr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var wr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Dr(e,t){t=t||[];var n,r=[],i={};for(n in wr)i[wr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Tr(i=Pr()):"Worker"===r&&(r=Tr(i=Pr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Pr(){return a.navigator&&a.navigator.userAgent||""}function kr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ar(){try{var e=a.localStorage,t=Ur();if(e)return e.setItem(t,"1"),e.removeItem(t),!cr()||!!a.indexedDB}catch(n){return Er()&&!!a.indexedDB}return!1}function Ir(){return(Mr()||"chrome-extension:"===Rr()||yr())&&!Or()&&Ar()&&!Er()}function Mr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function xr(e){return!fr(e=e||Pr())&&Tr(e)!=Sr}function Lr(e){return void 0===e?null:rr(e)}function jr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Nr(e){if(null!==e)return JSON.parse(e)}function Ur(e){return e||Math.floor(1e9*Math.random()).toString()}function Br(e){return"Safari"!=Tr(e=e||Pr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function qr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Pr(),t=Cr(),this.b=fr(e)||"ReactNative"===t}function Vr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Wr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Gr(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}qr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Mr()&&"chrome-extension:"!==Rr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,zr={};function Hr(e){zr[e]||(zr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==$r.abcd}catch(He){Kr=!1}function Qr(e,t,n){Kr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Yr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Qr(e,n,t[n])}function Xr(e){var t={};return Yr(t,e),t}function Zr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Qr(t,n,Zr(e[n]));return t}function Jr(e){var t=e&&(e[ii]?"phone":null);if(!(t&&e&&e[ri]))throw new w("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",e[ri]),Qr(this,"displayName",e[ti]||null);var n=null;e[ni]&&(n=new Date(e[ni]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",t)}function ei(e){try{var t=new oi(e)}catch(n){t=null}return t}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(e){Jr.call(this,e),Qr(this,"phoneNumber",e[ii])}function si(e){var t={},n=e[li],r=e[di],i=e[fi];if(e=ei(e[hi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==ai&&!e)throw Error("Invalid checkActionCode response!");i==ci?(t[_i]=n||null,t[vi]=n||null,t[pi]=r):(t[_i]=r||null,t[vi]=r||null,t[pi]=n||null),t[gi]=e||null,Qr(this,yi,i),Qr(this,mi,Zr(t))}S(oi,Jr),oi.prototype.w=function(){var e=oi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ai="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",hi="mfaInfo",di="newEmail",fi="requestType",pi="email",_i="fromEmail",gi="multiFactorInfo",vi="previousEmail",mi="data",yi="operation";function bi(e){var t=Un(e=Bn(e),Ei)||null,n=Un(e,Ci)||null,r=Un(e,Ti)||null;if(r=r&&Di[r]||null,!t||!n||!r)throw new w("argument-error",Ei+", "+Ci+"and "+Ti+" are required in a valid action code URL.");Yr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Oi)||null,languageCode:Un(e,Si)||null,tenantId:Un(e,wi)||null})}var Ei="apiKey",Ci="oobCode",Oi="continueUrl",Si="languageCode",Ti="mode",wi="tenantId",Di={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Pi(e){try{return new bi(e)}catch(t){return null}}function ki(e){var t=e[xi];if(void 0===t)throw new w("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new w("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ai];if(n&&"object"==typeof n){t=n[Ni];var r=n[Li];if(n=n[ji],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new w("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new w("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new w("argument-error",Ni+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new w("missing-android-pkg-name")}}else if(void 0!==n)throw new w("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(t=e[Ri])&&"object"==typeof t){if("string"==typeof(t=t[Ui])&&t.length)this.f=t;else if(void 0!==t)throw new w("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==t)throw new w("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(t=e[Mi])&&"boolean"!=typeof t)throw new w("argument-error",Mi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ii])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new w("argument-error",Ii+" property must be a non empty string when specified.");this.i=e||null}var Ai="android",Ii="dynamicLinkDomain",Mi="handleCodeInApp",Ri="iOS",xi="url",Li="installApp",ji="minimumVersion",Ni="packageName",Ui="bundleId";function Bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Fi=null;function qi(e){var t=Wi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Vi(e){try{return new qi(e)}catch(t){return null}}function Wi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Fi){Fi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;t(i<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,function(e){t.push(e)}),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var s=r[t++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))}else o=r[t++],s=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(e.join(""))}catch(u){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],zi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ki},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ki},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ki},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Gi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Hi(e){for(var t in zi)if(zi[t].fa==e)return zi[t];return null}function $i(e){var t={};t["facebook.com"]=Ji,t["google.com"]=to,t["github.com"]=eo,t["twitter.com"]=no;var n=e&&e[Yi];try{if(n)return t[n]?new t[n](e):new Zi(e);if(void 0!==e[Qi])return new Xi(e)}catch(r){}return null}var Qi="idToken",Yi="providerId";function Xi(e){var t=e[Yi];if(!t&&e[Qi]){var n=Vi(e[Qi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Qr(this,"providerId",t),Qr(this,"isNewUser",n)}function Zi(e){Xi.call(this,e),Qr(this,"profile",Zr((e=Nr(e.rawUserInfo||"{}"))||{}))}function Ji(e){if(Zi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(e){if(Zi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function to(e){if(Zi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(Zi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",e.screenName||null)}function ro(e){var t=Bn(e),n=Un(t,"link"),r=Un(Bn(n),"link");return t=Un(t,"deep_link_id"),Un(Bn(t),"link")||t||r||n||e}function io(e,t){if(!e&&!t)throw new w("internal-error","Internal assert: no raw session string available");if(e&&t)throw new w("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?oo:so}S(Zi,Xi),S(Ji,Zi),S(eo,Zi),S(to,Zi),S(no,Zi);var oo="enroll",so="signin";function ao(){}function uo(e,t){return e.then(function(e){if(e[Qs]){var n=Vi(e[Qs]);if(!n||t!=n.i)throw new w("user-mismatch");return e}throw new w("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==k+"user-not-found"?new w("user-mismatch"):e})}function co(e,t){if(!t)throw new w("internal-error","failed to construct a credential");this.a=t,Qr(this,"providerId",e),Qr(this,"signInMethod",e)}function lo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ho(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new co(e.providerId,e.pendingToken)}catch(t){}return null}function fo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Qr(this,"idToken",t.idToken),t.accessToken&&Qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new w("internal-error","failed to construct a credential");Qr(this,"accessToken",t.oauthToken),Qr(this,"secret",t.oauthTokenSecret)}Qr(this,"providerId",e),Qr(this,"signInMethod",n)}function po(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Xn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function _o(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new fo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function go(e,t){this.Qc=t||[],Yr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Hi(e)||{}).Ja||null,this.pb=null}function vo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new w("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,e,[])}function mo(e){go.call(this,e,Ki),this.a=[]}function yo(){mo.call(this,"facebook.com")}function bo(e){if(!e)throw new w("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return _(e)&&(t=e.accessToken),(new yo).credential({accessToken:t})}function Eo(){mo.call(this,"github.com")}function Co(e){if(!e)throw new w("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return _(e)&&(t=e.accessToken),(new Eo).credential({accessToken:t})}function Oo(){mo.call(this,"google.com"),this.Ca("profile")}function So(e,t){var n=e;return _(e)&&(n=e.idToken,t=e.accessToken),(new Oo).credential({idToken:n,accessToken:t})}function To(){go.call(this,"twitter.com",Gi)}function wo(e,t){var n=e;if(_(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new w("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Do(e,t,n){this.a=e,this.f=t,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(e){return e&&e.email&&e.password?new Do(e.email,e.password,e.signInMethod):null}function ko(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(e,t){if(!(t=Io(t)))throw new w("argument-error","Invalid email link!");return new Do(e,t.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function Io(e){return(e=Pi(e=ro(e)))&&e.operation===ui?e:null}function Mo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new w("internal-error");this.a=e,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Ro(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new Mo(t)}return null}function xo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Lo(e){try{this.a=e||r.default.auth()}catch(t){throw new w("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function jo(e,t){if(!e)throw new w("missing-verification-id");if(!t)throw new w("missing-verification-code");return new Mo({fb:e,eb:t})}function No(e){if(e.temporaryProof&&e.phoneNumber)return new Mo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return So(o,n);case"facebook.com":return bo(n);case"github.com":return Co(n);case"twitter.com":return wo(n,r);default:return n||r||o||s?s?0==t.indexOf("saml.")?new co(t,s):new fo(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new mo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(e){if(!e.isOAuthProvider)throw new w("invalid-oauth-provider")}function Bo(e,t,n,r,i,o,s){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new w("invalid-auth-event");if(this.g&&this.a)throw new w("invalid-auth-event");if(this.g&&!this.f)throw new w("invalid-auth-event")}function Fo(e){return(e=e||{}).type?new Bo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&D(e.error),e.postBody,e.tenantId):null}function qo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return Dt(this.a?this.a:this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ka=function(e){return ga(e,lo(this))},co.prototype.b=function(e,t){var n=lo(this);return n.idToken=t,va(e,n)},co.prototype.c=function(e,t){return uo(ma(e,lo(this)),t)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(e){return ga(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,va(e,n)},fo.prototype.c=function(e,t){return uo(ma(e,po(this)),t)},fo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},go.prototype.Ka=function(e){return this.Jb=_e(e),this},S(vo,go),S(mo,go),mo.prototype.Ca=function(e){return $(this.a,e)||this.a.push(e),this},mo.prototype.Rb=function(){return Z(this.a)},mo.prototype.credential=function(e,t){var n;if(!(n=_(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new w("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},S(yo,mo),Qr(yo,"PROVIDER_ID","facebook.com"),Qr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(Eo,mo),Qr(Eo,"PROVIDER_ID","github.com"),Qr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),S(Oo,mo),Qr(Oo,"PROVIDER_ID","google.com"),Qr(Oo,"GOOGLE_SIGN_IN_METHOD","google.com"),S(To,go),Qr(To,"PROVIDER_ID","twitter.com"),Qr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Do.prototype.ka=function(e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Ja(e,wa,{email:this.a,oobCode:this.f}):Ja(e,$a,{email:this.a,password:this.f})},Do.prototype.b=function(e,t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Ja(e,Da,{idToken:t,email:this.a,oobCode:this.f}):Ja(e,Fa,{idToken:t,email:this.a,password:this.f})},Do.prototype.c=function(e,t){return uo(this.ka(e),t)},Do.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(ko,{PROVIDER_ID:"password"}),Yr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mo.prototype.ka=function(e){return e.gb(xo(this))},Mo.prototype.b=function(e,t){var n=xo(this);return n.idToken=t,Ja(e,Ya,n)},Mo.prototype.c=function(e,t){var n=xo(this);return n.operation="REAUTH",uo(e=Ja(e,Xa,n),t)},Mo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Lo.prototype.gb=function(e,t){var n=this.a.a;return Dt(t.verify()).then(function(r){if("string"!=typeof r)throw new w("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=_(e)?e.session:null,o=_(e)?e.phoneNumber:e;return(i&&i.type==oo?i.Ha().then(function(e){return function(e,t){return Ja(e,Va,t).then(function(e){return e.phoneSessionInfo.sessionInfo})}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==so?i.Ha().then(function(t){return function(e,t){return Ja(e,Wa,t).then(function(e){return e.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(e,t){return Ja(e,Ua,t)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new w("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yr(Lo,{PROVIDER_ID:"phone"}),Yr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Wo=null;function Go(e){var t="unauthorized-domain",n=void 0,r=Bn(e);e=r.a,"chrome-extension"==(r=r.c)?n=We("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=We("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",w.call(this,t,n)}function Ko(e,t,n){w.call(this,e,n),(e=t||{}).Kb&&Qr(this,"email",e.Kb),e.ea&&Qr(this,"phoneNumber",e.ea),e.credential&&Qr(this,"credential",e.credential),e.$b&&Qr(this,"tenantId",e.$b)}function zo(e){if(e.code){var t=e.code||"";0==t.indexOf(k)&&(t=t.substring(k.length));var n={credential:No(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new w(t,e.message||void 0);return new Ko(t,n,e.message)}return null}function Ho(){}function $o(){}function Qo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Yo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function Zo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Jo(e,t,n){this.reset(e,t,n,void 0,void 0)}function es(e){this.f=e,this.b=this.c=this.a=null}function ts(e,t){this.name=e,this.value=t}S(Go,w),S(Ko,w),Ko.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ve(e,t),e},Ko.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,S($o,Ho),$o.prototype.a=function(){var e=Qo(this);return e?new ActiveXObject(e):new XMLHttpRequest},$o.prototype.b=function(){var e={};return Qo(this)&&(e[0]=!0,e[1]=!0),e},Vo=new $o,S(Yo,Ho),Yo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(e=Xo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Zo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(e,t,n,r,i){r||O(),delete this.a},ts.prototype.toString=function(){return this.name};var ns=new ts("SEVERE",1e3),rs=new ts("WARNING",900),is=new ts("CONFIG",700),os=new ts("FINE",500);function ss(e){return e.c?e.c:e.a?ss(e.a):(j("Root logger has no level set."),null)}es.prototype.log=function(e,t,n){if(e.value>=ss(this).value)for(p(t)&&(t=t()),e=new Jo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var as={},us=null;function cs(e){var t;if(us||(us=new es(""),as[""]=us,us.c=is),!(t=as[e])){t=new es(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=cs(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,as[e]=t}return t}function ls(e,t){e&&e.log(os,t,void 0)}function hs(e){this.f=e}function ds(e){En.call(this),this.u=e,this.h=void 0,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(hs,Ho),hs.prototype.a=function(){return new ds(this.f)},hs.prototype.b=function(e){return function(){return e}}({}),S(ds,En);var fs=0;function ps(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function _s(e){e.readyState=4,e.g=null,e.c=null,e.m=null,gs(e)}function gs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function vs(e){En.call(this),this.headers=new kn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ms,this.u=this.S=!1}(e=ds.prototype).open=function(e,t){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,gs(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_s(this)),this.readyState=fs},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ps(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?_s(this):gs(this),3==this.readyState&&ps(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,_s(this))},e.sc=function(e){this.a&&(this.response=e,_s(this))},e.Va=function(e){var t=this.i;t&&t.log(rs,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&_s(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(rs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),S(vs,En);var ms="";vs.prototype.b=cs("goog.net.XhrIo");var ys=/^https?$/i,bs=["POST","PUT"];function Es(e){return"content-type"==e.toLowerCase()}function Cs(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Os(e),Ts(e)}function Os(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ss(e){if(e.c&&void 0!==s)if(e.C[1]&&4==Ds(e)&&2==Ps(e))ls(e.b,ks(e,"Local request error detected and ignored"));else if(e.i&&4==Ds(e))Tn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ds(e)){ls(e.b,ks(e,"Request complete")),e.c=!1;try{var t,n=Ps(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Mn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!ys.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ds(e)?e.a.statusText:""}catch(l){ls(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Ps(e)+"]",Os(e)}}finally{Ts(e)}}}function Ts(e,t){if(e.a){ws(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(ns,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ws(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function Ds(e){return e.a?e.a.readyState:0}function Ps(e){try{return 2<Ds(e)?e.a.status:-1}catch(t){return-1}}function ks(e,t){return t+" ["+e.P+" "+e.l+" "+Ps(e)+"]"}function As(e){var t=qs;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Is(e,t,n){e.a=!0,e.c=n,e.f=!t,Ls(e)}function Ms(e){if(e.a){if(!e.v)throw new js(e);e.v=!1}}function Rs(e,t,n,r){e.g.push([t,n,r]),e.a&&Ls(e)}function xs(e){return H(e.g,function(e){return p(e[1])})}function Ls(e){if(e.h&&e.a&&xs(e)){var t=e.h,n=Bs[t];n&&(a.clearTimeout(n.a),delete Bs[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,xs(e)||(n=!0)}}e.c=t,r&&(u=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof As?(Rs(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Us(t),Bs[t.a]=t,e.h=t.a)}function js(){x.call(this)}function Ns(){x.call(this)}function Us(e){this.a=a.setTimeout(E(this.c,this),0),this.b=e}(e=vs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,ks(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ls(this.b,ks(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ts(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ts(this,!0)),vs.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ss(this):this.Jc())},e.Jc=function(){Ss(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ms:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ls(this.b,"Can not get response: "+t.message),null}},As.prototype.cancel=function(e){if(this.a)this.c instanceof As&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ns(this),Ms(this),Is(this,!1,e))}},As.prototype.m=function(e,t){this.i=!1,Is(this,e,t)},As.prototype.then=function(e,t,n){var r,i,o=new bt(function(e,t){r=e,i=t});return Rs(this,r,function(e){e instanceof Ns?o.cancel():i(e)}),o.then(e,t,n)},As.prototype.$goog_Thenable=!0,S(js,x),js.prototype.message="Deferred has already fired",js.prototype.name="AlreadyCalledError",S(Ns,x),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Bs[this.a],this.b};var Bs={};function Fs(e){var t={},n=t.document||document,r=we(e).toString(),i=pt(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new As(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Vs(i,!0);var e=new Ks(Gs,"Timeout reached for loading script "+r);Ms(s),Is(s,!1,e)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Vs(i,t.xd||!1,u),Ms(s),Is(s,!0,null))},i.onerror=function(){Vs(i,!0,u);var e=new Ks(Ws,"Error while loading script "+r);Ms(s),Is(s,!1,e)},ve(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ct(i,o),function(e,t){me(e,"HTMLScriptElement"),e.src=we(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=a?t=l(t.document):(null===c&&(c=l(a.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function qs(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Vs(e,!0,this.Ma)}}function Vs(e,t,n){null!=n&&a.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Ws=0,Gs=1;function Ks(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),x.call(this,n),this.code=e}function zs(e){this.f=e}function Hs(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ys,this.g=_e(e.secureTokenHeaders||Xs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Zs,this.a=_e(e.firebaseHeaders||Js),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Cr(),!(n=a.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!Er())throw new w("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Er()?new hs(self):Or()?new zs(n):new Yo,this.b=null}S(Ks,x),S(zs,Ho),zs.prototype.a=function(){return new this.f},zs.prototype.b=function(){return{}};var $s,Qs="idToken",Ys=new qr(3e4,6e4),Xs={"Content-Type":"application/x-www-form-urlencoded"},Zs=new qr(3e4,6e4),Js={"Content-Type":"application/json"};function ea(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ta(e,t){t&&(e.l=na("https://securetoken.googleapis.com/v1/token",t),e.h=na("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=na("https://identitytoolkit.googleapis.com/v2/",t))}function na(e,t){return e=Bn(e),t=Bn(t.url),e.f=e.a+e.f,xn(e,t.c),e.a=t.a,Ln(e,t.g),e.toString()}function ra(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ia(e,t,n,r,i,o,s){(function(){var e=Pr();return!((e="Chrome"!=Tr(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Qe&&st&&!(9<st))})()||Er()?e=E(e.u,e):($s||($s=new bt(function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(a[sa]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Rs(e,null,t,void 0)}(Fs(De(oa,{onload:sa})),function(){t(Error("CORS_UNSUPPORTED"))}))}(e,t)})),e=E(e.s,e)),e(t,n,r,i,o,s)}Hs.prototype.T=function(){return this.b},Hs.prototype.u=function(e,t,n,r,i,o){if(Er()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new w("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new vs(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}Cn(s,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ls(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)}),On(s,"ready",function(){u&&clearTimeout(u),Kt(this)}),On(s,"timeout",function(){u&&clearTimeout(u),Kt(this),t&&t(null)}),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Vo.a(),e.C=function(e){return e.c||(e.c=e.b())}(e.D?e.D:Vo),e.a.onreadystatechange=E(e.Wb,e);try{ls(e.b,ks(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(s){return ls(e.b,ks(e,"Error opening Xhr: "+s.message)),void Cs(e,s)}t=r||"";var o=new kn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)G(e,t,void 0);else for(var n=Pn(e),r=Dn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,function(e,t){o.set(t,e)}),i=function(e){e:{for(var t=Es,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=a.FormData&&t instanceof a.FormData,!$(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{ws(e),0<e.g&&(e.u=function(e){return Qe&&ot(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),ls(e.b,ks(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),ls(e.b,ks(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){ls(e.b,ks(e,"Send error: "+s.message)),Cs(e,s)}}(s,e,n,r,i)};var oa=new ye(Oe,"https://apis.google.com/js/client.js?onload=%{onload}"),sa="__fcb"+Math.floor(1e6*Math.random()).toString();function aa(e){if("string"!=typeof(e=e.email)||!vr.test(e))throw new w("invalid-email")}function ua(e){"email"in e&&aa(e)}function ca(e){if(!e[Qs]){if(e.mfaPendingCredential)throw new w("multi-factor-auth-required",null,_e(e));throw new w("internal-error")}}function la(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new w("internal-error")}else{if(!e.sessionInfo)throw new w("missing-verification-id");if(!e.code)throw new w("missing-verification-code")}}Hs.prototype.s=function(e,t,n,r,i){var o=this;$s.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Hs.prototype.Ab=function(){return Ja(this,qa,{})},Hs.prototype.Cb=function(e,t){return Ja(this,Ba,{idToken:e,email:t})},Hs.prototype.Db=function(e,t){return Ja(this,Fa,{idToken:e,password:t})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(e){if(!e.phoneVerificationInfo)throw new w("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new w("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new w("missing-verification-code")}function fa(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new w("internal-error")}function pa(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Jn(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function _a(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=zo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=zo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=zo(e)):e.errorMessage&&(t=eu(e.errorMessage)),t)throw t;ca(e)}function ga(e,t){return t.returnIdpCredential=!0,Ja(e,Ga,t)}function va(e,t){return t.returnIdpCredential=!0,Ja(e,za,t)}function ma(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ja(e,Ka,t)}function ya(e){if(!e.oobCode)throw new w("invalid-action-code")}(e=Hs.prototype).Eb=function(e,t){var n={idToken:e},r=[];return fe(ha,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Ja(this,Ba,n)},e.wb=function(e,t){return ve(e={requestType:"PASSWORD_RESET",email:e},t),Ja(this,xa,e)},e.xb=function(e,t){return ve(e={requestType:"EMAIL_SIGNIN",email:e},t),Ja(this,Ia,e)},e.vb=function(e,t){return ve(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ja(this,Ma,e)},e.Fb=function(e,t,n){return ve(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ja(this,Ra,e)},e.gb=function(e){return Ja(this,Qa,e)},e.ob=function(e,t){return Ja(this,Na,{oobCode:e,newPassword:t})},e.Sa=function(e){return Ja(this,Ea,{oobCode:e})},e.kb=function(e){return Ja(this,ba,{oobCode:e})};var ba={endpoint:"setAccountInfo",A:ya,Z:"email",B:!0},Ea={endpoint:"resetPassword",A:ya,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new w("internal-error")},B:!0},Ca={endpoint:"signupNewUser",A:function(e){if(aa(e),!e.password)throw new w("weak-password")},G:ca,V:!0,B:!0},Oa={endpoint:"createAuthUri",B:!0},Sa={endpoint:"deleteAccount",O:["idToken"]},Ta={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new w("internal-error")}},wa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:aa,G:ca,V:!0,B:!0},Da={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:aa,G:ca,V:!0},Pa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:da,G:ca,B:!0,Na:!0},ka={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:ca,B:!0,Na:!0},Aa={endpoint:"getAccountInfo"},Ia={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new w("internal-error");aa(e)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new w("internal-error")},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new w("internal-error")},Z:"email",B:!0},xa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new w("internal-error");aa(e)},Z:"email",B:!0},La={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ja={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new w("internal-error")}},Na={endpoint:"resetPassword",A:ya,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ba={endpoint:"setAccountInfo",O:["idToken"],A:ua,V:!0},Fa={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ua(e),!e.password)throw new w("weak-password")},G:ca,V:!0},qa={endpoint:"signupNewUser",G:ca,V:!0,B:!0},Va={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new w("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new w("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new w("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new w("internal-error")},B:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new w("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new w("internal-error")},B:!0,Na:!0},Ga={endpoint:"verifyAssertion",A:fa,Za:pa,G:_a,V:!0,B:!0},Ka={endpoint:"verifyAssertion",A:fa,Za:pa,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new w("user-not-found");if(e.errorMessage)throw eu(e.errorMessage);ca(e)},V:!0,B:!0},za={endpoint:"verifyAssertion",A:function(e){if(fa(e),!e.idToken)throw new w("internal-error")},Za:pa,G:_a,V:!0},Ha={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new w("invalid-custom-token")},G:ca,V:!0,B:!0},$a={endpoint:"verifyPassword",A:function(e){if(aa(e),!e.password)throw new w("wrong-password")},G:ca,V:!0,B:!0},Qa={endpoint:"verifyPhoneNumber",A:la,G:ca,B:!0},Ya={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new w("internal-error");la(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",zo(e);ca(e)}},Xa={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:la,G:ca,B:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Qs]^!!e.refreshToken)throw new w("internal-error")},B:!0,Na:!0};function Ja(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return Pt(new w("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Dt(n).then(t.A).then(function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,s){var a=Bn(t+n);Nn(a,"key",e.c),s&&Nn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Nn(a,c,i[c]);return new bt(function(t,n){ia(e,a.toString(),function(e){e?e.error?n(tu(e,o||{})):t(e):n(new w("network-request-failed"))},r,u?void 0:rr(jr(i)),e.a,e.v.get())})}(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)}).then(function(e){return r=e,t.Za?t.Za(n,r):r}).then(t.G).then(function(){if(!t.Z)return r;if(!(t.Z in r))throw new w("internal-error");return r[t.Z]})}function eu(e){return tu({error:{errors:[{message:e}],code:400,message:e}})}function tu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new w(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ve(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new w(r[i],t);return!t&&e&&(t=Lr(e)),new w("internal-error",t)}function nu(e){this.b=e,this.a=null,this.sb=function(e){return(su||(su=new bt(function(e,t){function n(){Fr(),kr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Fr(),t(Error("Network Error"))},timeout:iu.get()})}if(kr("gapi.iframes.Iframe"))e();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():t(Error("Network Error"))},Dt(Fs(r=De(ru,{onload:r}))).o(function(){t(Error("Network Error"))})}}).o(function(e){throw su=null,e}))).then(function(){return new bt(function(t,n){kr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ou.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ru=new ye(Oe,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new qr(3e4,6e4),ou=new qr(5e3,15e3),su=null;function au(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Fn((e=Bn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=e,Nn(this.a,"apiKey",this.h),Nn(this.a,"appName",this.i),this.b=null,this.c=[]}function uu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cu(e){try{return r.default.app(e).auth().Ga()}catch(t){return[]}}function lu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hu(e){var t=lr();return function(e){return Ja(e,La,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=Bn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Bn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new Go(lr())})}function du(e){return e.m||(e.m=mr().then(function(){if(!e.u){var t=e.c,n=e.i,r=cu(e.b),i=new au(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new nu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then(function(){e.a.register("authEvent",t,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Fo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Dt(n)}return n.status="ERROR",Dt(n)})}(e)})),e.m}function fu(e){return e.l||(e.C=e.c?Dr(e.c,cu(e.b)):null,e.l=new Hs(e.g,M(e.i),e.C),e.f&&ta(e.l,e.f)),e.l}function pu(e,t,n,r,i,o,s,a,u,c,l,h){return(e=new uu(e,t,n,r,i,h)).l=o,e.g=s,e.i=a,e.b=_e(u||null),e.f=c,e.zb(l).toString()}function _u(e){if(this.a=e||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new w("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function gu(e){this.b=e,this.a={},this.f=E(this.c,this)}au.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Nn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},uu.prototype.zb=function(e){return this.h=e,this},uu.prototype.toString=function(){if(this.v){var e=Bn(this.v.url);e=Fn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Fn("https",this.u,null,"/__/auth/handler");if(Nn(e,"apiKey",this.s),Nn(e,"appName",this.c),Nn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.default.app(this.c).auth().la()}catch(u){n=null}for(var i in t.pb=n,Nn(e,"providerId",this.a.providerId),t=jr((n=this.a).Jb))t[i]=t[i].toString();i=n.Qc,t=_e(t);for(var o=0;o<i.length;o++){var s=i[o];s in t&&delete t[s]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Nn(e,"customParameters",Lr(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Nn(e,"scopes",n.join(",")),this.l?Nn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?Nn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?Nn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&Nn(e,a,this.b[a]);return this.h?Nn(e,"tid",this.h):Zn(e.b,"tid"),this.f?Nn(e,"eid",this.f):Zn(e.b,"eid"),(a=cu(this.c)).length&&Nn(e,"fw",a.join(",")),e.toString()},(e=lu.prototype).Pb=function(e,t,n){var r=new w("popup-closed-by-user"),i=new w("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(e){var t={type:"webStorageSupport"};return du(e).then(function(){return function(e,t){return e.sb.then(function(){return new bt(function(n){e.a.send(t.type,t,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.v,t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&pr(e),t(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(e){return new bt(function(t){return function n(){wn(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!s)return wn(n).then(function(){t(r)})})},e.Yb=function(){var e=Pr();return!xr(e)&&!Br(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,s,a){if(!e)return Pt(new w("popup-blocked"));if(s&&!xr())return this.ma().o(function(t){pr(e),i(t)}),r(),Dt();this.a||(this.a=hu(fu(this)));var u=this;return this.a.then(function(){var t=u.ma().o(function(t){throw pr(e),i(t),t});return r(),t}).then(function(){Uo(n),s||hr(pu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,a,u.f),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},e.Ob=function(e,t,n,r){this.a||(this.a=hu(fu(this)));var i=this;return this.a.then(function(){Uo(t),hr(pu(i.s,i.g,i.b,e,t,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},e.ma=function(){var e=this;return du(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new w("network-request-failed")})},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,function(t){return t==e})},(e=_u.prototype).get=function(e){return Dt(this.a.getItem(e)).then(function(e){return e&&Nr(e)})},e.set=function(e,t){return Dt(this.a.setItem(e,Lr(t)))},e.U=function(e){return Dt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var vu,mu=[];function yu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function bu(e){this.a=e}function Eu(e){this.c=e,this.b=!1,this.a=[]}function Cu(e,t,n,r){var i,o,s,a,u=n||{},c=null;if(e.b)return Pt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),e.a.push(c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(a),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(t){return Ou(e,c),t}).o(function(t){throw Ou(e,c),t})}function Ou(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),Y(e.a,function(e){return e==t})}}function Su(){if(!Pu())throw new w("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(G(mu,function(n){n.b==e&&(t=n)}),!t){var t=new gu(e);mu.push(t)}return t}(),yu(this.v,"keyChanged",function(t,n){return Ru(e).then(function(t){return 0<t.length&&G(e.a,function(e){e(t)}),{keyProcessed:$(t,n.key)}})}),yu(this.v,"ping",function(){return Dt(["keyChanged"])})):function(){var e=a.navigator;return e&&e.serviceWorker?Dt().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):Dt(null)}().then(function(t){(e.h=t)&&(e.g=new Eu(new bu(t)),Cu(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function Tu(e){return new bt(function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new bt(function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return Tu(e)}).then(function(e){t(e)}).o(function(e){n(e)})}})}function wu(e){return e.i||(e.i=Tu(e)),e.i}function Du(e,t){var n=0;return new bt(function r(i,o){wu(e).then(t).then(i).o(function(t){if(!(3<++n))return wu(e).then(function(t){return t.close(),e.i=void 0,r(i,o)}).o(function(e){o(e)});o(t)})})}function Pu(){try{return!!a.indexedDB}catch(He){return!1}}function ku(e){return e.objectStore("firebaseLocalStorage")}function Au(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Iu(e){return new bt(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Mu(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Cu(e.g,"keyChanged",{key:t},e.s).then(function(){}).o(function(){}):Dt()}function Ru(e){return wu(e).then(function(e){var t=ku(Au(e,!1));return t.getAll?Iu(t.getAll()):new bt(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r})}function xu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Lu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Dt().then(function(){if(Pu()){var e=Ur(),r="__sak"+e;return vu||(vu=new Su),(n=vu).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.ca(function(e){G(t.a,function(t){t(e)})}),e})}function ju(){this.a={},this.type="inMemory"}function Nu(){if(!function(){var e="Node"==Cr();if(!(e=Uu()||e&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Cr())throw new w("internal-error","The LocalStorage compatibility library was not found.");throw new w("web-storage-unsupported")}this.a=Uu()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var e=a.localStorage,t=Ur();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Bu(){this.type="nullStorage"}function Fu(){if(!function(){var e="Node"==Cr();if(!(e=qu()||e&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Cr())throw new w("internal-error","The SessionStorage compatibility library was not found.");throw new w("web-storage-unsupported")}this.a=qu()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qu(){try{var e=a.sessionStorage,t=Ur();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Vu(){var e={};e.Browser=Ku,e.Node=zu,e.ReactNative=Hu,e.Worker=$u,this.a=e[Cr()]}gu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];G(r,function(t){i.push(Dt().then(function(){return t(e.origin,e.data.data)}))}),At(i).then(function(r){var i=[];G(r,function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})}),G(i,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},bu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Eu.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(e=Su.prototype).set=function(e,t){var n=this,r=!1;return Du(this,function(t){return Iu((t=ku(Au(t,!0))).get(e))}).then(function(i){return Du(n,function(o){if(o=ku(Au(o,!0)),i)return i.value=t,Iu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=e,s.value=t,Iu(o.add(s))})}).then(function(){return n.c[e]=t,Mu(n,e)}).oa(function(){r&&n.b--})},e.get=function(e){return Du(this,function(t){return Iu(ku(Au(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.U=function(e){var t=this,n=!1;return Du(this,function(r){return n=!0,t.b++,Iu(ku(Au(r,!0)).delete(e))}).then(function(){return delete t.c[e],Mu(t,e)}).oa(function(){n&&t.b--})},e.ca=function(e){0==this.a.length&&function(e){xu(e),function t(){e.f=setTimeout(function(){e.l=Ru(e).then(function(t){0<t.length&&G(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,function(t){return t==e}),0==this.a.length&&xu(this)},(e=Lu.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.U=function(e){return this.b.then(function(t){return t.U(e)})},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,function(t){return t==e})},(e=ju.prototype).get=function(e){return Dt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Dt()},e.U=function(e){return delete this.a[e],Dt()},e.ca=function(){},e.ia=function(){},(e=Nu.prototype).get=function(e){var t=this;return Dt().then(function(){return Nr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Dt().then(function(){var r=Lr(t);null===r?n.U(e):n.a.setItem(e,r)})},e.U=function(e){var t=this;return Dt().then(function(){t.a.removeItem(e)})},e.ca=function(e){a.window&&cn(a.window,"storage",e)},e.ia=function(e){a.window&&dn(a.window,"storage",e)},(e=Bu.prototype).get=function(){return Dt(null)},e.set=function(){return Dt()},e.U=function(){return Dt()},e.ca=function(){},e.ia=function(){},(e=Fu.prototype).get=function(e){var t=this;return Dt().then(function(){return Nr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Dt().then(function(){var r=Lr(t);null===r?n.U(e):n.a.setItem(e,r)})},e.U=function(e){var t=this;return Dt().then(function(){t.a.removeItem(e)})},e.ca=function(){},e.ia=function(){};var Wu,Gu,Ku={F:Nu,cb:Fu},zu={F:Nu,cb:Fu},Hu={F:_u,cb:Bu},$u={F:Nu,cb:Bu},Qu={rd:"local",NONE:"none",td:"session"};function Yu(){var e=!(Br(Pr())||!br()),t=xr(),n=Ar();this.m=e,this.h=t,this.l=n,this.a={},Wu||(Wu=new Vu),e=Wu;try{this.g=!cr()&&Gr()||!a.indexedDB?new e.a.F:new Lu(Er()?new ju:new e.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new ju}this.v=new ju,this.f=E(this.Zb,this),this.b={}}function Xu(){return Gu||(Gu=new Yu),Gu}function Zu(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Ju(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ec(e,t,n){return n=Ju(t,n),"local"==t.F&&(e.b[n]=null),Zu(e,t.F).U(n)}function tc(e){e.c&&(clearInterval(e.c),e.c=null)}function nc(e){this.a=e,this.b=Xu()}(e=Yu.prototype).get=function(e,t){return Zu(this,e.F).get(Ju(e,t))},e.set=function(e,t,n){var r=Ju(e,n),i=this,o=Zu(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},e.addListener=function(e,t,n){e=Ju(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),pe(this.a)&&(Zu(this,"local").ca(this.f),this.h||(cr()||!Gr())&&a.indexedDB||!this.l||function(e){tc(e),e.c=setInterval(function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Xt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Ju(e,t),this.a[e]&&(Y(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(Zu(this,"local").ia(this.f),tc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Zu(this,"local").ia(this.f):tc(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))},Qe&&st&&10==st&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else G(e,E(this.nb,this))},e.nb=function(e){this.a[e]&&G(this.a[e],function(e){e()})};var rc,ic={name:"authEvent",F:"local"};function oc(){this.a=Xu()}function sc(e,t){this.b=ac,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===rc&&(rc=a.Int32Array?new Int32Array(pc):pc),this.reset()}S(sc,function(){this.b=-1});for(var ac=64,uc=ac-1,cc=[],lc=0;lc<uc;lc++)cc[lc]=0;var hc=X(128,cc);function dc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+s|0}r=0|e.a[0],i=0|e.a[1];var a=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|rc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function fc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(dc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(dc(e),i=0)}}e.c=i,e.g+=n}sc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Z(this.h)};var pc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _c(){sc.call(this,8,gc)}S(_c,sc);var gc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new oc,this.g=new nc(this.h),this.f=null,this.b=[],this.a=this.c=null}function mc(e){return new w("invalid-cordova-configuration",e)}function yc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function bc(e){return e.f||(e.f=e.ma().then(function(){return new bt(function(t){e.Ea(function n(r){return t(r),e.Ta(n),!1}),function(e){function t(t){r=!0,i&&i.cancel(),Ec(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ro(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Nr(Un(o=Bn(i),"firebaseError")||null))?D(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}yc(e,i)})}var n=new Bo("unknown",null,null,null,new w("no-auth-event")),r=!1,i=wn(500).then(function(){return Ec(e).then(function(){r||yc(e,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Wo||(Wo=new qo),function(e){var t=Wo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=kr("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)})})),e.f}function Ec(e){var t=null;return function(e){return e.b.get(ic,e.a).then(function(e){return Fo(e)})}(e.g).then(function(n){return t=n,ec((n=e.g).b,ic,n.a)}).then(function(){return t})}function Cc(e){this.a=e,this.b=Xu()}(e=vc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?mr().then(function(){return new bt(function(e,t){var n=a.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):Pt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw mc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw mc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw mc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw mc("cordova-plugin-inappbrowser is not installed")},function(){throw new w("cordova-not-ready")})},e.Pb=function(e,t){return t(new w("operation-not-supported-in-this-environment")),Dt()},e.Nb=function(){return Pt(new w("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Pt(new w("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Dt().then(function(){return Uo(t),bc(i)}).then(function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Bo(t,r,null,o,new w("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new w("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),l={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Pr().toLowerCase().match(/android/))return Pt(new w("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new _c;fc(t,e),e=[];var n=8*t.g;fc(t,hc,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(dc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return z(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}(o),l.sessionId=o;var h=pu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then(function(){var t=e.h;return e.C.a.set(ic,s.w(),t)}).then(function(){var t=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new w("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new w("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new w("invalid-cordova-configuration");t=Pr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,e,t,n,r)}).then(function(){return new bt(function(e,t){u=function(){var t=kr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Vr()&&c()},o.addEventListener("resume",c=function(){s||(s=wn(2e3).then(function(){t(new w("redirect-cancelled-by-user"))}))},!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(e){return Ec(i).then(function(){throw e})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null})},e.Ea=function(e){this.b.push(e),bc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Bo("unknown",null,null,null,new w("no-auth-event")),e(t))})},e.Ta=function(e){Y(this.b,function(t){return t==e})};var Oc={name:"pendingRedirect",F:"session"};function Sc(e){return ec(e.b,Oc,e.a)}function Tc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Fc,this.C=new Kc,this.g=new Cc(Uc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wc(this.D,this.v,this.m,P,this.J)}function wc(e,t,n,i,o){var s=r.default.SDK_VERSION||null;return yr()?new vc(e,t,n,s,i,o):new lu(e,t,n,s,i,o)}function Dc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o(function(n){throw e.a==t&&e.reset(),n})}function Pc(e){e.a.Yb()&&Dc(e).o(function(t){var n=new Bo("unknown",null,null,null,new w("operation-not-supported-in-this-environment"));xc(t)&&e.s(n)}),e.a.Ub()||qc(e.b)}function kc(e,t){$(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Oc,e.a).then(function(e){return"pending"==e})}(e.g).then(function(t){t?Sc(e.g).then(function(){Dc(e).o(function(t){var n=new Bo("unknown",null,null,null,new w("operation-not-supported-in-this-environment"));xc(t)&&e.s(n)})}):Pc(e)}).o(function(){Pc(e)})}function Ac(e,t){Y(e.h,function(e){return e==t})}Tc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=wc(this.D,this.v,this.m,null,this.J),this.i={}},Tc.prototype.s=function(e){if(!e)throw new w("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return qc(this.b),t};var Ic=new qr(2e3,1e4),Mc=new qr(3e4,6e4);function Rc(e,t,n,r,i,o,s){return e.a.Nb(t,n,r,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},i,o,s)}function xc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Lc(e,t,n,r,i){var o;return function(e){return e.b.set(Oc,"pending",e.a)}(e.g).then(function(){return e.a.Ob(t,n,r,i).o(function(t){if(xc(t))throw new w("operation-not-supported-in-this-environment");return o=t,Sc(e.g).then(function(){throw o})}).then(function(){return e.a.ac()?new bt(function(){}):Sc(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function jc(e,t,n,r,i){return e.a.Pb(r,function(e){t.na(n,null,e,i)},Ic.get())}Tc.prototype.ra=function(){return this.b.ra()};var Nc={};function Uc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Bc(e,t,n,r){var i=Uc(t,n,r);return Nc[i]||(Nc[i]=new Tc(e,t,n,r)),Nc[i]}function Fc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qc(e){e.g||(e.g=!0,Gc(e,!1,null,null))}function Vc(e){e.g&&!e.i&&Gc(e,!1,null,null)}function Wc(e,t){if(e.b=function(){return Dt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Gc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Pt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Wc(e,n):Wc(e,{user:null}),e.f=[],e.c=[]}function Kc(){}function zc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Hc(e,t){this.a=t,Qr(this,"verificationId",e)}function $c(e,t,n,r){return new Lo(e).gb(t,n).then(function(e){return new Hc(e,r)})}function Qc(e){var t=Wi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new w("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:e,expirationTime:Wr(1e3*t.exp),authTime:Wr(1e3*t.auth_time),issuedAtTime:Wr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Yc(e,t,n){var r=t&&t[Zc];if(!r)throw new w("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=_e(t),this.g=n,this.c=new io(null,r),this.b=[];var i=this;G(t[Xc]||[],function(e){(e=ei(e))&&i.b.push(e)}),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Fc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Gc(this,!0,null,e.a),Dt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,s=t.T(),a=!!t.c.match(/Redirect$/);n(r,i,s,o).then(function(t){Gc(e,a,t,null)}).o(function(t){Gc(e,a,null,t)})}(this,e,t):Pt(new w("invalid-auth-event")):(Gc(this,!1,null,null),Dt())}else Pt(new w("invalid-auth-event"))},Fc.prototype.ra=function(){var e=this;return new bt(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new w("timeout");e.a&&e.a.cancel(),e.a=wn(Mc.get()).then(function(){e.b||(e.g=!0,Gc(e,!0,null,t))})}(e))})},Kc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Dt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then(function(e){t.na(r,e,null,n)}).o(function(e){t.na(r,null,e,n)})}(e,t):Pt(new w("invalid-auth-event"))}else Pt(new w("invalid-auth-event"))},Hc.prototype.confirm=function(e){return e=jo(this.verificationId,e),this.a(e)};var Xc="mfaInfo",Zc="mfaPendingCredential";function Jc(e,t,n,r){w.call(this,"multi-factor-auth-required",r,t),this.b=new Yc(e,t,n),Qr(this,"resolver",this.b)}function el(e,t,n){if(e&&_(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Jc(t,e.serverResponse,n,e.message)}catch(r){}return null}function tl(){}function nl(e){Qr(this,"factorId",e.fa),this.a=e}function rl(e){if(nl.call(this,e),this.a.fa!=Lo.PROVIDER_ID)throw new w("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function il(e,t){for(var n in Yt.call(this,e),t)this[n]=t[n]}function ol(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&G(t.multiFactor.enrolledFactors,function(e){var t=null,r={};if(e){e.uid&&(r[ri]=e.uid),e.displayName&&(r[ti]=e.displayName),e.enrollmentTime&&(r[ni]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ii]=e.phoneNumber);try{t=new oi(r)}catch(i){}e=t}else e=null;e&&n.push(e)}),sl(this,n)}function sl(e,t){e.b=t,Qr(e,"enrolledFactors",t)}function al(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(e,t){e.stop(),e.b=wn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then(function(){return function(){var e=a.document,t=null;return Vr()||!e?Dt():new bt(function(n){t=function(){Vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}()}).then(function(){return e.h()}).then(function(){ul(e,!0)}).o(function(t){e.i(t)&&ul(e,!1)})}function cl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function ll(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function hl(e,t){e.b=Vi(t[Qs]||""),e.a=t.refreshToken,ll(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function dl(e,t){this.a=e||null,this.b=t||null,Yr(this,{lastSignInTime:Wr(t||null),creationTime:Wr(e||null)})}function fl(e,t,n,r,i,o){Yr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function pl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.default.SDK_VERSION?Dr(r.default.SDK_VERSION):null;this.a=new Hs(this.l,M(P),i),(this.u=e.emulatorConfig||null)&&ta(this.a,this.u),this.h=new cl(this.a),Ol(this,t[Qs]),hl(this.h,t),Qr(this,"refreshToken",this.h.a),wl(this,n||{}),En.call(this),this.P=!1,this.s&&Ir()&&(this.b=Bc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new al(function(){return e.I(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0})}(this),this.ba=E(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){_l(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){ml(o,e.f)},this.ja=null,this.S=new ol(this,n),Qr(this,"multiFactor",this.S)}function _l(e,t){e.u=t,ta(e.a,t),e.b&&(t=e.b,e.b=Bc(e.s,e.l,e.m,e.u),e.P&&(Ac(t,e),kc(e.b,e)))}function gl(e,t){e.qa&&dn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&cn(t,"languageCodeChanged",e.Pa)}function vl(e,t){e.$&&dn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&cn(t,"emulatorConfigChanged",e.Ba)}function ml(e,t){e.aa=t,ra(e.a,r.default.SDK_VERSION?Dr(r.default.SDK_VERSION,e.aa):null)}function yl(e,t){e.ja&&dn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&cn(t,"frameworkChanged",e.Oa)}function bl(e){try{return r.default.app(e.m).auth()}catch(t){throw new w("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function El(e){e.J||e.D.b||(e.D.start(),dn(e,"tokenChanged",e.ba),cn(e,"tokenChanged",e.ba))}function Cl(e){dn(e,"tokenChanged",e.ba),e.D.stop()}function Ol(e,t){e.Aa=t,Qr(e,"_lat",t)}function Sl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return At(t).then(function(){return e})}function Tl(e){e.b&&!e.P&&(e.P=!0,kc(e.b,e))}function wl(e,t){Yr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new dl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Dl(){}function Pl(e){return Dt().then(function(){if(e.J)throw new w("app-deleted")})}function kl(e){return z(e.providerData,function(e){return e.providerId})}function Al(e,t){t&&(Il(e,t.providerId),e.providerData.push(t))}function Il(e,t){Y(e.providerData,function(e){return e.providerId==t})}function Ml(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Qr(e,t,n)}function Rl(e,t){e!=t&&(Yr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),Qr(e,"metadata",t.metadata?function(e){return new dl(e.a,e.b)}(t.metadata):new dl),G(t.providerData,function(t){Al(e,t)}),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Qr(e,"refreshToken",e.h.a),sl(e.S,t.S.b))}function xl(e){return e.I().then(function(t){var n=e.isAnonymous;return function(e,t){return Ja(e.a,Aa,{idToken:t}).then(E(e.Kc,e))}(e,t).then(function(){return n||Ml(e,"isAnonymous",!1),t})})}function Ll(e,t){t[Qs]&&e.Aa!=t[Qs]&&(hl(e.h,t),e.dispatchEvent(new il("tokenChanged")),Ol(e,t[Qs]),Ml(e,"refreshToken",e.h.a))}function jl(e,t){return xl(e).then(function(){if($(kl(e),t))return Sl(e).then(function(){throw new w("provider-already-linked")})})}function Nl(e,t,n){return Xr({user:e,credential:No(t),additionalUserInfo:t=$i(t),operationType:n})}function Ul(e,t){return Ll(e,t),e.reload().then(function(){return e})}function Bl(e,t,n,i,o){if(!Ir())return Pt(new w("operation-not-supported-in-this-environment"));if(e.i&&!o)return Pt(e.i);var s=Hi(n.providerId),a=Ur(e.uid+":::"),u=null;(!xr()||br())&&e.s&&n.isOAuthProvider&&(u=pu(e.s,e.l,e.m,t,n,null,a,r.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=_r(u,s&&s.va,s&&s.ua);return i=i().then(function(){if(ql(e),!o)return e.I().then(function(){})}).then(function(){return Rc(e.b,c,t,n,a,!!u,e.tenantId)}).then(function(){return new bt(function(n,r){e.na(t,null,new w("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=jc(e.b,e,t,c,a)})}).then(function(e){return c&&pr(c),e?Xr(e):null}).o(function(e){throw c&&pr(c),e}),Vl(e,i,o)}function Fl(e,t,n,r,i){if(!Ir())return Pt(new w("operation-not-supported-in-this-environment"));if(e.i&&!i)return Pt(e.i);var o=null,s=Ur(e.uid+":::");return r=r().then(function(){if(ql(e),!i)return e.I().then(function(){})}).then(function(){return e.ga=s,Sl(e)}).then(function(t){return e.ha&&(t=(t=e.ha).b.set(Kl,e.w(),t.a)),t}).then(function(){return Lc(e.b,t,n,s,e.tenantId)}).o(function(t){if(o=t,e.ha)return zl(e.ha);throw o}).then(function(){if(o)throw o}),Vl(e,r,i)}function ql(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new w("internal-error");throw new w("auth-domain-config-required")}}function Vl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Pt(e.i)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new il("userInvalidated")),e.i=t),t})}(e,t,n);return e.N.push(r),r.oa(function(){Q(e.N,r)}),r.o(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=el(t.w(),bl(e),E(e.jc,e))),n||t})}function Wl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Qs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new pl(t,n,e);return e.providerData&&G(e.providerData,function(e){e&&Al(i,Xr(e))}),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Gl(e){this.a=e,this.b=Xu()}Yc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then(function(e){var n=_e(t.f);return delete n[Xc],delete n[Zc],ve(n,e),t.g(n)})},S(Jc,w),tl.prototype.tb=function(e,t,n){return t.type==oo?function(e,t,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ve(n,{phoneVerificationInfo:xo(e.a)}),Ja(t,Pa,n)})}(this,e,t,n):function(e,t,n){return n.Ha().then(function(n){return ve(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(e.a)}),Ja(t,ka,n)})}(this,e,t)},S(nl,tl),S(rl,nl),S(il,Yt),(e=ol.prototype).yc=function(e){sl(this,function(e){var t=[];return G(e.mfaInfo||[],function(e){(e=ei(e))&&t.push(e)}),t}(e.hd))},e.Sb=function(){return this.a.I().then(function(e){return new io(e,null)})},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then(function(n){return e.tb(r,n,t)}).then(function(e){return Ll(n.a,e),n.a.reload()})},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then(function(e){return Ja(r,Za,{idToken:e,mfaEnrollmentId:n})}).then(function(e){var r=K(t.b,function(e){return e.uid!=n});return sl(t,r),Ll(t.a,e),t.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},e.w=function(){return{multiFactor:{enrolledFactors:z(this.b,function(e){return e.w()})}}},al.prototype.start=function(){this.a=this.c,ul(this,!0)},al.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},cl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Pt(new w("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new bt(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ia(e,e.l+"?key="+encodeURIComponent(e.c),function(e){e?e.error?r(tu(e)):e.access_token&&e.refresh_token?n(e):r(new w("internal-error")):r(new w("network-request-failed"))},"POST",Xn(t).toString(),e.g,e.m.get()):r(new w("internal-error"))})}(e.f,t).then(function(t){return e.b=Vi(t.access_token),e.a=t.refresh_token,ll(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Dt(null):Dt({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(pl,En),pl.prototype.xa=function(e){this.za=e,ea(this.a,e)},pl.prototype.la=function(){return this.za},pl.prototype.Ga=function(){return Z(this.aa)},pl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(pl.prototype,"providerId","firebase"),(e=pl.prototype).reload=function(){var e=this;return Vl(this,Pl(this).then(function(){return xl(e).then(function(){return Sl(e)}).then(Dl)}))},e.oc=function(e){return this.I(e).then(function(e){return new Qc(e)})},e.I=function(e){var t=this;return Vl(this,Pl(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new w("internal-error");return e.accessToken!=t.Aa&&(Ol(t,e.accessToken),t.dispatchEvent(new il("tokenChanged"))),Ml(t,"refreshToken",e.refreshToken),e.accessToken}))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new w("internal-error");wl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?z(e,function(e){return new fl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)Al(this,t[n]);Ml(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new il("userReloaded",{hd:e}))},e.Lc=function(e){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Vl(this,e.c(this.a,this.uid).then(function(e){return Ll(t,e),n=Nl(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.Cc=function(e){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Vl(this,jl(this,e.providerId).then(function(){return t.I()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=Nl(t,e,"link"),Ul(t,e)}).then(function(){return n}))},e.Dc=function(e,t){var n=this;return Vl(this,jl(this,"phone").then(function(){return $c(bl(n),e,t,E(n.rb,n))}))},e.Mc=function(e,t){var n=this;return Vl(this,Dt().then(function(){return $c(bl(n),e,t,E(n.ub,n))}),!0)},e.Cb=function(e){var t=this;return Vl(this,this.I().then(function(n){return t.a.Cb(n,e)}).then(function(e){return Ll(t,e),t.reload()}))},e.ed=function(e){var t=this;return Vl(this,this.I().then(function(n){return e.b(t.a,n)}).then(function(e){return Ll(t,e),t.reload()}))},e.Db=function(e){var t=this;return Vl(this,this.I().then(function(n){return t.a.Db(n,e)}).then(function(e){return Ll(t,e),t.reload()}))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pl(this);var t=this;return Vl(this,this.I().then(function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Ll(t,e),Ml(t,"displayName",e.displayName||null),Ml(t,"photoURL",e.photoUrl||null),G(t.providerData,function(e){"password"===e.providerId&&(Qr(e,"displayName",t.displayName),Qr(e,"photoURL",t.photoURL))}),Sl(t)}).then(Dl))},e.cd=function(e){var t=this;return Vl(this,xl(this).then(function(n){return $(kl(t),e)?function(e,t,n){return Ja(e,Ta,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then(function(e){var n={};return G(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),G(kl(t),function(e){n[e]||Il(t,e)}),n[Lo.PROVIDER_ID]||Qr(t,"phoneNumber",null),Sl(t)}):Sl(t).then(function(){throw new w("no-such-provider")})}))},e.delete=function(){var e=this;return Vl(this,this.I().then(function(t){return Ja(e.a,Sa,{idToken:t})}).then(function(){e.dispatchEvent(new il("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");gl(e,null),vl(e,null),yl(e,null),e.N=[],e.J=!0,Cl(e),Qr(e,"refreshToken",null),e.b&&Ac(e.b,e)})},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Mb,this):null},e.Ec=function(e){var t=this;return Bl(this,"linkViaPopup",e,function(){return jl(t,e.providerId).then(function(){return Sl(t)})},!1)},e.Nc=function(e){return Bl(this,"reauthViaPopup",e,function(){return Dt()},!0)},e.Fc=function(e){var t=this;return Fl(this,"linkViaRedirect",e,function(){return jl(t,e.providerId)},!1)},e.Oc=function(e){return Fl(this,"reauthViaRedirect",e,function(){return Dt()},!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,this.I().then(function(n){return va(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=Nl(i,e,"link"),Ul(i,e)}).then(function(){return o}))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,Dt().then(function(){return uo(ma(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=Nl(i,e,"reauthenticate"),Ll(i,e),i.i=null,i.reload()}).then(function(){return o}),!0)},e.vb=function(e){var t=this,n=null;return Vl(this,this.I().then(function(t){return n=t,void 0===e||pe(e)?{}:Bi(new ki(e))}).then(function(e){return t.a.vb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.Fb=function(e,t){var n=this,r=null;return Vl(this,this.I().then(function(e){return r=e,void 0===t||pe(t)?{}:Bi(new ki(t))}).then(function(t){return n.a.Fb(r,e,t)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},e.jc=function(e){var t=null,n=this;return Vl(this,e=uo(Dt(e),n.uid).then(function(e){return t=Nl(n,e,"reauthenticate"),Ll(n,e),n.i=null,n.reload()}).then(function(){return t}),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ve(e,this.metadata.w()),G(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),ve(e,this.S.w()),e};var Kl={name:"redirectUser",F:"session"};function zl(e){return ec(e.b,Kl,e.a)}function Hl(e){this.a=e,this.b=Xu(),this.c=null,this.f=function(e){var t=Yl("local"),n=Yl("session"),r=Yl("none");return function(e,t,n){var r=Ju(t,n),i=Zu(e,t.F);return e.get(t,n).then(function(o){var s=null;try{s=Nr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(Ql,e.a).then(function(e){return e?Yl(e):t})})})}).then(function(t){return e.c=t,$l(e,t.F)}).o(function(){e.c||(e.c=t)})}(this),this.b.addListener(Yl("local"),this.a,E(this.g,this))}function $l(e,t){var n,r=[];for(n in Qu)Qu[n]!==t&&r.push(ec(e.b,Yl(Qu[n]),e.a));return r.push(ec(e.b,Ql,e.a)),function(e){return new bt(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},a=0;a<e.length;a++)kt(e[a],C(o,a),s);else t(i)})}(r)}Hl.prototype.g=function(){var e=this,t=Yl("local");eh(this,function(){return Dt().then(function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null}).then(function(n){if(n)return $l(e,"local").then(function(){e.c=t})})})};var Ql={name:"persistence",F:"session"};function Yl(e){return{name:"authUser",F:e}}function Xl(e,t){return eh(e,function(){return e.b.set(e.c,t.w(),e.a)})}function Zl(e){return eh(e,function(){return ec(e.b,e.c,e.a)})}function Jl(e,t,n){return eh(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Wl(e||{})})})}function eh(e,t){return e.f=e.f.then(t,t),e.f}function th(e){if(this.l=!1,Qr(this,"settings",new zc),Qr(this,"app",e),!ch(this).options||!ch(this).options.apiKey)throw new w("invalid-api-key");e=r.default.SDK_VERSION?Dr(r.default.SDK_VERSION):null,this.a=new Hs(ch(this).options&&ch(this).options.apiKey,M(P),e),this.P=[],this.s=[],this.N=[],this.Pa=r.default.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=r.default.INTERNAL.createSubscribe(E(this.Ac,this)),ah(this,null),this.i=new Hl(ch(this).options.apiKey+":"+ch(this).name),this.D=new Gl(ch(this).options.apiKey+":"+ch(this).name),this.$=fh(this,function(e){var t=ch(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Kl,e.a).then(function(e){return e&&t&&(e.authDomain=t),Wl(e||{})})}(e.D,ch(e).options.authDomain).then(function(t){return(e.m=t)&&(t.ha=e.D),zl(e.D)});return fh(e,t)}(e).then(function(){return Jl(e.i,t,e.R)}).then(function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then(function(){return Xl(e.i,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:Zl(e.i)})):null}).then(function(t){ah(e,t||null)});return fh(e,n)}(this)),this.h=fh(this,function(e){return e.$.then(function(){return sh(e)}).o(function(){}).then(function(){if(!e.l)return e.ja()}).o(function(){}).then(function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Yl("local"),t.a,e.ja)}})}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=ch(e).options.authDomain,n=ch(e).options.apiKey;t&&Ir()&&(e.Oa=e.$.then(function(){if(!e.l){if(e.b=Bc(t,n,ch(e).name,e.R),kc(e.b,e),lh(e)&&Tl(lh(e)),e.m){Tl(e.m);var r=e.m;r.xa(e.la()),gl(r,e),ml(r=e.m,e.J),yl(r,e),_l(r=e.m,e.R),vl(r,e),e.m=null}return e.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Bn(this.R.url);e=Xr({protocol:e.c,host:e.a,port:e.g,options:Xr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function nh(e){Yt.call(this,"languageCodeChanged"),this.h=e}function rh(e){Yt.call(this,"emulatorConfigChanged"),this.c=e}function ih(e){Yt.call(this,"frameworkChanged"),this.f=e}function oh(e){return e.Oa||Pt(new w("auth-domain-config-required"))}function sh(e){if(!Ir())return Pt(new w("operation-not-supported-in-this-environment"));var t=oh(e).then(function(){return e.b.ra()}).then(function(e){return e?Xr(e):null});return fh(e,t)}function ah(e,t){lh(e)&&(function(e,t){Y(e.W,function(e){return e==t})}(lh(e),e.Ba),dn(lh(e),"tokenChanged",e.qa),dn(lh(e),"userDeleted",e.za),dn(lh(e),"userInvalidated",e.Aa),Cl(lh(e))),t&&(t.W.push(e.Ba),cn(t,"tokenChanged",e.qa),cn(t,"userDeleted",e.za),cn(t,"userInvalidated",e.Aa),0<e.u&&El(t)),Qr(e,"currentUser",t),t&&(t.xa(e.la()),gl(t,e),ml(t,e.J),yl(t,e),_l(t,e.R),vl(t,e))}function uh(e,t){var n=null,r=null;return fh(e,t.then(function(t){return n=No(t),r=$i(t),function(e,t){var n={};return n.apiKey=ch(e).options.apiKey,n.authDomain=ch(e).options.authDomain,n.appName=ch(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then(function(){return function(e,t,n,r){var i=new pl(e,t);return n&&(i.ha=n),r&&ml(i,r),i.reload().then(function(){return i})}(n,t,e.D,e.Ga())}).then(function(t){return lh(e)&&t.uid==lh(e).uid?(Rl(lh(e),t),e.da(t)):(ah(e,t),Tl(t),e.da(t))}).then(function(){dh(e)})}(e,t)},function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=el(t.w(),e,E(e.kc,e))),n||t}).then(function(){return Xr({user:lh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ch(e){return e.app}function lh(e){return e.currentUser}function hh(e){return lh(e)&&lh(e)._lat||null}function dh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](hh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](hh(e))}}function fh(e,t){return e.P.push(t),t.oa(function(){Q(e.P,t)}),t}function ph(){}function _h(){this.a={},this.b=1e12}Hl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new w("invalid-persistence-type"),n=new w("unsupported-persistence-type");e:{for(r in Qu)if(Qu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Cr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Pu()&&"none"!==e)throw n;break;default:if(!Ar()&&"none"!==e)throw n}}(e),eh(this,function(){return e!=n.c.F?n.b.get(n.c,n.a).then(function(r){return t=r,$l(n,e)}).then(function(){if(n.c=Yl(e),t)return n.b.set(n.c,t,n.a)}):Dt()})},S(th,En),S(nh,Yt),S(rh,Yt),S(ih,Yt),(e=th.prototype).yb=function(e){return fh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,ea(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new w("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!e&&mr().then(function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)})})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ta(this.a,this.R),this.dispatchEvent(new rh(this.R))}},e.Gc=function(e){this.J.push(e),ra(this.a,r.default.SDK_VERSION?Dr(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},e.Ga=function(){return Z(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return uh(i,ga(i.a,o))})},e.Xc=function(e){if(!Ir())return Pt(new w("operation-not-supported-in-this-environment"));var t=this,n=Hi(e.providerId),i=Ur(),o=null;(!xr()||br())&&ch(this).options.authDomain&&e.isOAuthProvider&&(o=pu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",e,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.R));var s=_r(o,n&&n.va,n&&n.ua);return fh(this,n=oh(this).then(function(n){return Rc(n,s,"signInViaPopup",e,i,!!o,t.T())}).then(function(){return new bt(function(e,n){t.na("signInViaPopup",null,new w("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=jc(t.b,t,"signInViaPopup",s,i)})}).then(function(e){return s&&pr(s),e?Xr(e):null}).o(function(e){throw s&&pr(s),e}))},e.Yc=function(e){if(!Ir())return Pt(new w("operation-not-supported-in-this-environment"));var t=this;return fh(this,oh(this).then(function(){return function(e){return eh(e,function(){return e.b.set(Ql,e.c.F,e.a)})}(t.i)}).then(function(){return Lc(t.b,"signInViaRedirect",e,void 0,t.T())}))},e.ra=function(){var e=this;return sh(this).then(function(t){return e.b&&Vc(e.b.b),t}).o(function(t){throw e.b&&Vc(e.b.b),t})},e.dd=function(e){if(!e)return Pt(new w("null-user"));if(this.S!=e.tenantId)return Pt(new w("tenant-id-mismatch"));var t=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Qs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new pl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&ml(t,r),Rl(t,e),t}(e,n,t.D,t.Ga());return fh(this,this.h.then(function(){if(ch(t).options.apiKey!=e.l)return r.reload()}).then(function(){return lh(t)&&e.uid==lh(t).uid?(Rl(lh(t),e),t.da(e)):(ah(t,r),Tl(r),t.da(r))}).then(function(){dh(t)}))},e.Bb=function(){var e=this;return fh(this,this.h.then(function(){return e.b&&Vc(e.b.b),lh(e)?(ah(e,null),Zl(e.i).then(function(){dh(e)})):Dt()}))},e.Zc=function(){var e=this;return Jl(this.i,ch(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=lh(e)&&t){n=lh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Rl(lh(e),t),lh(e).I();(lh(e)||t)&&(ah(e,t),t&&(Tl(t),t.ha=e.D),e.b&&kc(e.b,e),dh(e))}})},e.da=function(e){return Xl(this.i,e)},e.mc=function(){dh(this),this.da(lh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then(function(){return uh(t,Dt(e))})},e.zc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(lh(t))})},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),fh(e,e.h.then(function(){!e.l&&$(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(hh(e)))}))}(this,function(){e.next(lh(t))})},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof e?e(lh(r)):"function"==typeof e.next&&e.next(lh(r))}),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof e?e(lh(r)):"function"==typeof e.next&&e.next(lh(r))}),this.ib(e,t,n)},e.nc=function(e){var t=this;return fh(this,this.h.then(function(){return lh(t)?lh(t).I(e).then(function(e){return{accessToken:e}}):null}))},e.Tc=function(e){var t=this;return this.h.then(function(){return uh(t,Ja(t.a,Ha,{token:e}))}).then(function(e){var n=e.user;return Ml(n,"isAnonymous",!1),t.da(n),e})},e.Uc=function(e,t){var n=this;return this.h.then(function(){return uh(n,Ja(n.a,$a,{email:e,password:t}))})},e.dc=function(e,t){var n=this;return this.h.then(function(){return uh(n,Ja(n.a,Ca,{email:e,password:t}))})},e.ab=function(e){var t=this;return this.h.then(function(){return uh(t,e.ka(t.a))})},e.Sc=function(e){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then(function(){var t=lh(e);if(t&&t.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(e,e.a.Ab()).then(function(t){var n=t.user;return Ml(n,"isAnonymous",!0),e.da(n),t})})},e.getUid=function(){return lh(this)&&lh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&lh(this)&&El(lh(this))},e.Pc=function(e){var t=this;G(this.s,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Cl(lh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),fh(this,this.h.then(function(){t.l||$(t.s,e)&&e(hh(t))}))},e.removeAuthTokenListener=function(e){Y(this.s,function(t){return t==e})},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(Yl("local"),e.a,this.ja),this.b&&(Ac(this.b,this),Vc(this.b.b)),Promise.resolve()},e.hc=function(e){return fh(this,function(e,t){return Ja(e,Oa,{identifier:t,continueUri:Mr()?lr():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.a,e))},e.Bc=function(e){return!!Io(e)},e.xb=function(e,t){var n=this;return fh(this,Dt().then(function(){var e=new ki(t);if(!e.c)throw new w("argument-error",Mi+" must be true when sending sign in link to email");return Bi(e)}).then(function(t){return n.a.xb(e,t)}).then(function(){}))},e.jd=function(e){return this.Sa(e).then(function(e){return e.data.email})},e.ob=function(e,t){return fh(this,this.a.ob(e,t).then(function(){}))},e.Sa=function(e){return fh(this,this.a.Sa(e).then(function(e){return new si(e)}))},e.kb=function(e){return fh(this,this.a.kb(e).then(function(){}))},e.wb=function(e,t){var n=this;return fh(this,Dt().then(function(){return void 0===t||pe(t)?{}:Bi(new ki(t))}).then(function(t){return n.a.wb(e,t)}).then(function(){}))},e.Wc=function(e,t){return fh(this,$c(this,e,t,E(this.ab,this)))},e.Vc=function(e,t){var n=this;return fh(this,Dt().then(function(){var r=t||lr(),i=Ao(e,r);if(!(r=Io(r)))throw new w("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new w("tenant-id-mismatch");return n.ab(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var gh=null;function vh(e,t){return(t=mh(t))&&e.a[t]||null}function mh(e){return(e=void 0===e?1e12:e)?e.toString():null}function yh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ut(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function bh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Eh(){}function Ch(){}_h.prototype.render=function(e,t){return this.a[this.b.toString()]=new yh(e,t),this.b++},_h.prototype.reset=function(e){var t=vh(this,e);e=mh(e),t&&e&&(t.delete(),delete this.a[e])},_h.prototype.getResponse=function(e){return(e=vh(this,e))?e.getResponse():null},_h.prototype.execute=function(e){(e=vh(this,e))&&e.execute()},yh.prototype.getResponse=function(){return bh(this),this.b},yh.prototype.execute=function(){bh(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()},6e4)},500))},yh.prototype.delete=function(){bh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qr(Eh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return gh||(gh=new _h),Dt(gh)},Ch.prototype.c=function(){};var Oh=null;function Sh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Th=new ye(Oe,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),wh=new qr(3e4,6e4);Sh.prototype.g=function(e){var t=this;return new bt(function(n,r){var i=setTimeout(function(){r(new w("network-request-failed"))},wh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new w("internal-error"));delete a[t.a]},Dt(Fs(De(Th,{onload:t.a,hl:e||""}))).o(function(){clearTimeout(i),r(new w("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Sh.prototype.c=function(){this.b--};var Dh=null;function Ph(e,t,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(Oh||(Oh=new Ch),s=Oh):(Dh||(Dh=new Sh),s=Dh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ih])throw new w("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mh],!a.document)throw new w("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ut(t)||!this.i&&ut(t).hasChildNodes())throw new w("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Hs(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[kh];this.a[kh]=function(e){if(Rh(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=kr(c,a);"function"==typeof t&&t(e)}};var l=this.a[Ah];this.a[Ah]=function(){if(Rh(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=kr(l,a);"function"==typeof e&&e()}}}var kh="callback",Ah="expired-callback",Ih="sitekey",Mh="size";function Rh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function xh(e,t){return e.h.push(t),t.oa(function(){Q(e.h,t)}),t}function Lh(e){if(e.J)throw new w("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(e,t,n){var i=!1;try{this.b=n||r.default.app()}catch(a){throw new w("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new w("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.default.SDK_VERSION?Dr(r.default.SDK_VERSION,s):null,Ph.call(this,n,e,t,function(){try{var e=o.b.auth().la()}catch(t){e=null}return e},s,M(P),i)}function Nh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<t.length;s++)if(t[s].optional)o=!0;else{if(o)throw new w("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Uh.length)throw new w("internal-error","Argument validator received an unsupported number of arguments.");n=Uh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new w("argument-error",e+" failed: "+r)}(e=Ph.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=xh(this,Dt().then(function(){if(Mr()&&!Er())return mr();throw new w("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,Ja(e.s,ja,{})}).then(function(t){e.a[Ih]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},e.render=function(){Lh(this);var e=this;return xh(this,this.Ia().then(function(){if(null===e.c){var t=e.v;if(!e.i){var n=ut(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!at&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ge(s.name),'"'),s.type){o.push(' type="',Ge(s.type),'"');var a={};ve(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pt(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ct(o,s)),2<r.length&&ft(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){Lh(this);var e=this;return xh(this,this.render().then(function(t){return new bt(function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push(function t(r){r&&(function(e,t){Y(e.l,function(e){return e==t})}(e,t),n(r))}),e.i&&e.g.execute(e.c)}})}))},e.reset=function(){Lh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Lh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ut(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},S(jh,Ph);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Fh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function qh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:_}}function Vh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Wh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Gh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){return!!t&&!(!t.ka||e&&t.providerId!==e)}}}function Kh(e,t){return _(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function zh(e){return _(e)&&"string"==typeof e.uid}function Hh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function $h(e,t){for(var n in t){var r=t[n].name;e[r]=Xh(r,e[n],t[n].j)}}function Qh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:C(function(e){return this[e]},n),set:C(function(e,t,n,r){Nh(e,[n],[r],!0),this[t]=r},r,n,t[n].lb),enumerable:!0})}}function Yh(e,t,n,r){e[t]=Xh(t,n,r)}function Xh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Nh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}$h(th.prototype,{kb:{name:"applyActionCode",j:[Bh("code")]},Sa:{name:"checkActionCode",j:[Bh("code")]},ob:{name:"confirmPasswordReset",j:[Bh("code"),Bh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bh("email"),Bh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Bh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Bh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Hh(qh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Hh(qh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Bh("email"),Hh(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Bh("email"),qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Bh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Gh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Gh()]},Tc:{name:"signInWithCustomToken",j:[Bh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Vc:{name:"signInWithEmailLink",j:[Bh("email"),Bh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Hh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof pl)}},Wh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Bh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Bh("code")]}}),Qh(th.prototype,{lc:{name:"languageCode",lb:Hh(Bh(),Wh(),"languageCode")},ti:{name:"tenantId",lb:Hh(Bh(),Wh(),"tenantId")}}),(th.Persistence=Qu).LOCAL="local",th.Persistence.SESSION="session",th.Persistence.NONE="none",$h(pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Gh()]},rb:{name:"linkWithCredential",j:[Gh()]},Dc:{name:"linkWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gh()]},ub:{name:"reauthenticateWithCredential",j:[Gh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Hh(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},cd:{name:"unlink",j:[Bh("provider")]},Cb:{name:"updateEmail",j:[Bh("email")]},Db:{name:"updatePassword",j:[Bh("password")]},ed:{name:"updatePhoneNumber",j:[Gh("phone")]},Eb:{name:"updateProfile",j:[qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Bh("email"),Hh(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),$h(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(bt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qh(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Fh("appVerificationDisabledForTesting")}}),$h(Hc.prototype,{confirm:{name:"confirm",j:[Bh("verificationCode")]}}),Yh(ao,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[_o,Po,Ro,ho],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[Hh(Bh(),qh(),"json")]),Yh(ko,"credential",function(e,t){return new Do(e,t)},[Bh("email"),Bh("password")]),$h(Do.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),$h(yo.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(yo,"credential",bo,[Hh(Bh(),qh(),"token")]),Yh(ko,"credentialWithLink",Ao,[Bh("email"),Bh("emailLink")]),$h(Eo.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(Eo,"credential",Co,[Hh(Bh(),qh(),"token")]),$h(Oo.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(Oo,"credential",So,[Hh(Bh(),Hh(qh(),Wh()),"idToken"),Hh(Bh(),Wh(),"accessToken",!0)]),$h(To.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(To,"credential",wo,[Hh(Bh(),qh(),"token"),Bh("secret",!0)]),$h(mo.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},credential:{name:"credential",j:[Hh(Bh(),Hh(qh(),Wh()),"optionsOrIdToken"),Hh(Bh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),$h(fo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),$h(co.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(Lo,"credential",jo,[Bh("verificationId"),Bh("verificationCode")]),$h(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[Hh(Bh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Kh(e.session,oo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Kh(e.session,so)&&zh(e.multiFactorHint):e.session&&e.multiFactorUid?Kh(e.session,so)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),$h(Mo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),$h(w.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),$h(Ko.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),$h(Go.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),$h(Jc.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),$h(Yc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),$h(ol.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Bh("displayName",!0)]},bd:{name:"unenroll",j:[Hh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zh},Bh(),"multiFactorInfoIdentifier")]}}),$h(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yh(bi,"parseLink",Pi,[Bh("link")]),Yh(Eh,"assertion",function(e){return new rl(e)},[Gh("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:th,AuthCredential:ao,Error:w};Yh(e,"EmailAuthProvider",ko,[]),Yh(e,"FacebookAuthProvider",yo,[]),Yh(e,"GithubAuthProvider",Eo,[]),Yh(e,"GoogleAuthProvider",Oo,[]),Yh(e,"TwitterAuthProvider",To,[]),Yh(e,"OAuthProvider",mo,[Bh("providerId")]),Yh(e,"SAMLAuthProvider",vo,[Bh("providerId")]),Yh(e,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof th)}}]),Yh(e,"RecaptchaVerifier",jh,[Hh(Bh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.default.app.App)}}]),Yh(e,"ActionCodeURL",bi,[]),Yh(e,"PhoneMultiFactorGenerator",Eh,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new th(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.8"),r.default.INTERNAL.extendNamespace({User:pl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=s,r.scheduler=a,(!Object(o.a)(s)||s<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=i.a),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(e,t))}}var u=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new s(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},"tk/3":function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return q}),n.d(t,"d",function(){return S}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return _}),n.d(t,"g",function(){return O});var r=n("fXoL"),i=n("LRne"),o=n("HDdC"),s=n("bOdf"),a=n("pLZG"),u=n("lJxs"),c=n("ofXK"),l=_createClass(function e(){_classCallCheck(this,e)}),h=_createClass(function e(){_classCallCheck(this,e)}),d=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),f=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return p(e)}},{key:"encodeValue",value:function(e){return p(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function p(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var _=function(){function e(){var t,n,r,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new f,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=o.fromString,n=this.encoder,r=new Map,t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(e){var t=e.indexOf("="),i=_slicedToArray(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),o=i[0],s=i[1],a=r.get(o)||[];a.push(s),r.set(o,a)}),r)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach(function(e){var t=o.fromObject[e];i.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}();function g(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function v(e){return"undefined"!=typeof Blob&&e instanceof Blob}function m(e){return"undefined"!=typeof FormData&&e instanceof FormData}var y=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new d),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new _,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:g(this.body)||v(this.body)||m(this.body)||"string"==typeof this.body?this.body:this.body instanceof _?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||m(this.body)?null:v(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},u)),t.setParams&&(c=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},c)),new e(n,r,o,{params:c,headers:u,reportProgress:a,responseType:i,withCredentials:s})}}]),e}(),b=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),E=_createClass(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=b.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(E),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=b.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(E),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return _createClass(n)}(E);function T(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var w=function(){var e=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r,o,c=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof y?n=e:(r=l.headers instanceof d?l.headers:new d(l.headers),l.params&&(o=l.params instanceof _?l.params:new _({fromObject:l.params})),n=new y(e,t,void 0!==l.body?l.body:null,{headers:r,params:o,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials}));var h=Object(i.a)(n).pipe(Object(s.a)(function(e){return c.handler.handle(e)}));if(e instanceof y||"events"===l.observe)return h;var f=h.pipe(Object(a.a)(function(e){return e instanceof O}));switch(l.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return f.pipe(Object(u.a)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return f.pipe(Object(u.a)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return f.pipe(Object(u.a)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return f.pipe(Object(u.a)(function(e){return e.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type ".concat(l.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new _).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,T(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,T(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,T(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(l))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),D=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),P=new r.r("HTTP_INTERCEPTORS"),k=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),A=/^\)\]\}',?\n/,I=_createClass(function e(){_classCallCheck(this,e)}),M=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),R=function(){var e=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new o.a(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=e.serializeBody(),a=null,u=function(){if(null!==a)return a;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new d(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new C({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,s=t.statusText,a=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(A,"");try{c=""!==c?JSON.parse(c):null}catch(d){c=h,l&&(l=!1,c={error:d,text:c})}}l?(n.next(new O({body:c,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new S({error:c,headers:i,status:o,statusText:s,url:a||void 0}))},l=function(e){var t=u().url,i=new S({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:b.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(e){var t={type:b.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),e.reportProgress&&(r.addEventListener("progress",f),null!==s&&r.upload&&r.upload.addEventListener("progress",p)),r.send(s),n.next({type:b.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",f),null!==s&&r.upload&&r.upload.removeEventListener("progress",p)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(I))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),x=new r.r("XSRF_COOKIE_NAME"),L=new r.r("XSRF_HEADER_NAME"),j=_createClass(function e(){_classCallCheck(this,e)}),N=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.F)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(c.c),r.cc(r.C),r.cc(x))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),U=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(j),r.cc(L))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),B=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(P,[]);this.chain=t.reduceRight(function(e,t){return new D(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(h),r.cc(r.s))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}(),F=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:U,useClass:k}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:x,useValue:t.cookieName}:[],t.headerName?{provide:L,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({providers:[U,{provide:P,useExisting:U,multi:!0},{provide:j,useClass:N},{provide:x,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),e}(),q=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({providers:[w,{provide:l,useClass:B},R,{provide:h,useExisting:R},M,{provide:I,useExisting:M}],imports:[[F.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},tyNb:function(e,t,n){"use strict";n.d(t,"a",function(){return Z}),n.d(t,"b",function(){return an}),n.d(t,"c",function(){return V}),n.d(t,"d",function(){return pt});var r=n("ofXK"),i=n("fXoL"),o=n("Cfvw"),s=n("LRne"),a=n("2Vo4"),u=n("itXk"),c=n("HDdC"),l=n("sVev"),h=n("GyhO"),d=n("NXyV"),f=n("EY2u"),p=n("EQ5u"),_=n("XNiG"),g=n("lJxs"),v=n("eIep"),m=n("IzEk"),y=n("JX91"),b=n("Kqap"),E=n("pLZG"),C=n("JIr8"),O=n("bOdf"),S=n("7o/Q"),T=n("4I5i");function w(e){return function(t){return 0===e?Object(f.b)():t.lift(new D(e))}}var D=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new T.a}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new P(e,this.total))}}]),e}(),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(S.a),k=n("XDbj"),A=n("xbPD"),I=n("SpAZ"),M=n("SxV6"),R=n("5+tZ"),x=n("vkgz"),L=n("x+ZX"),j=n("nYR2");n("bHdf");var N=_createClass(function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n}),U=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=s,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(N),B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(N),F=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(N),q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(N),V=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(N),W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(N),G=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(N),K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(N),z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(N),H=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),$=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Q=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Y=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),X=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Z=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),J=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ee(e){return new J(e)}function te(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function ne(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function re(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!ie(e[n=r[o]],t[n]))return!1;return!0}function ie(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=_toConsumableArray(e).sort(),r=_toConsumableArray(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function oe(e){return e.length>0?e[e.length-1]:null}function se(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ae(e){return Object(i.tb)(e)?e:Object(i.ub)(e)?Object(o.a)(Promise.resolve(e)):Object(s.a)(e)}function ue(e,t,n){return n?function(e,t){return re(e,t)}(e.queryParams,t.queryParams)&&ce(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return ie(e[n],t[n])})}(e.queryParams,t.queryParams)&&le(e.root,t.root)}function ce(e,t){if(!_e(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var n in t.children){if(!e.children[n])return!1;if(!ce(e.children[n],t.children[n]))return!1}return!0}function le(e,t){return he(e,t,t.segments)}function he(e,t,n){if(e.segments.length>n.length)return!!_e(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!_e(e.segments,n))return!1;for(var r in t.children){if(!e.children[r])return!1;if(!le(e.children[r],t.children[r]))return!1}return!0}var i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!_e(e.segments,i)&&!!e.children.primary&&he(e.children.primary,t,o)}var de=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ee(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return ve.serialize(this)}}]),e}(),fe=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,se(n,function(e,t){return e.parent=r})}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return me(this)}}]),e}(),pe=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ee(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Te(this)}}]),e}();function _e(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var ge=_createClass(function e(){_classCallCheck(this,e)}),ve=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Ae(e);return new de(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"/".concat(ye(e.root,!0)).concat((n=e.queryParams,r=Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?t.map(function(t){return"".concat(Ee(e),"=").concat(Ee(t))}).join("&"):"".concat(Ee(e),"=").concat(Ee(t))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}());function me(e){return e.segments.map(function(e){return Te(e)}).join("/")}function ye(e,t){if(!e.hasChildren())return me(e);if(t){var n=e.children.primary?ye(e.children.primary,!1):"",r=[];return se(e.children,function(e,t){"primary"!==t&&r.push("".concat(t,":").concat(ye(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return se(e.children,function(e,r){"primary"===r&&(n=n.concat(t(e,r)))}),se(e.children,function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return"primary"===n?[ye(e.children.primary,!1)]:["".concat(n,":").concat(ye(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(me(e),"/").concat(i[0]):"".concat(me(e),"/(").concat(i.join("//"),")")}function be(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ee(e){return be(e).replace(/%3B/gi,";")}function Ce(e){return be(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oe(e){return decodeURIComponent(e)}function Se(e){return Oe(e.replace(/\+/g,"%20"))}function Te(e){return"".concat(Ce(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(Ce(e),"=").concat(Ce(t[e]))}).join("")));var t}var we=/^[^\/()?;=#]+/;function De(e){var t=e.match(we);return t?t[0]:""}var Pe=/^[^=?&#]+/,ke=/^[^?&#]+/,Ae=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new fe(e,t)),n}},{key:"parseSegment",value:function(){var e=De(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new pe(Oe(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=De(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=De(this.remaining);r&&(n=r,this.capture(n))}e[Oe(t)]=Oe(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Pe);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(ke);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Se(t),o=Se(n);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=De(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new fe([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Ie=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Me(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=Me(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Re(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return Re(e,this._root).map(function(e){return e.value})}}]),e}();function Me(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Me(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Re(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Re(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var xe=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Le(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var je=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,Ve(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Ie);function Ne(e,t){var n=function(e,t){var n=new Fe([],{},{},"",{},"primary",t,null,e.root,-1,{});return new qe("",new xe(n,[]))}(e,t),r=new a.a([new pe("",{})]),i=new a.a({}),o=new a.a({}),s=new a.a({}),u=new a.a(""),c=new Ue(r,i,s,u,o,"primary",t,n.root);return c.snapshot=n.root,new je(new xe(c,[]),n)}var Ue=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(g.a)(function(e){return ee(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(g.a)(function(e){return ee(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Fe=function(){function e(t,n,r,i,o,s,a,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ee(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ee(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),qe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,Ve(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return We(this._root)}}]),n}(Ie);function Ve(e,t){t.value._routerState=e,t.children.forEach(function(t){return Ve(e,t)})}function We(e){var t=e.children.length>0?" { ".concat(e.children.map(We).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Ge(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,re(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),re(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!re(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),re(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ke(e,t){var n,r;return re(e.params,t.params)&&_e(n=e.url,r=t.url)&&n.every(function(e,t){return re(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Ke(e.parent,t.parent))}function ze(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=_createForOfIteratorHelper(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.shouldReuseRoute(t.value,o.value.snapshot))return ze(e,t,o)}}catch(s){i.e(s)}finally{i.f()}return ze(e,t)})}(e,t,n);return new xe(r,i)}if(e.shouldAttach(t.value)){var o=e.retrieve(t.value);if(null!==o){var s=o.route;return He(t,s),s}}var u,c=new Ue(new a.a((u=t.value).url),new a.a(u.params),new a.a(u.queryParams),new a.a(u.fragment),new a.a(u.data),u.outlet,u.component,u),l=t.children.map(function(t){return ze(e,t)});return new xe(c,l)}function He(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)He(e.children[n],t.children[n])}function $e(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Qe(e){return"object"==typeof e&&null!=e&&e.outlets}function Ye(e,t,n,r,i){var o={};return r&&se(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new de(n.root===e?t:Xe(n.root,e,t),o,i)}function Xe(e,t,n){var r={};return se(e.children,function(e,i){r[i]=e===t?n:Xe(e,t,n)}),new fe(e.segments,r)}var Ze=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&$e(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Qe);if(i&&i!==oe(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Je=_createClass(function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r});function et(e,t,n){if(e||(e=new fe([],{})),0===e.segments.length&&e.hasChildren())return tt(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var s=e.segments[i],a=n[r];if(Qe(a))break;var u="".concat(a),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ot(u,c,s))return o;r+=2}else{if(!ot(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new fe(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new fe(e.segments.slice(r.pathIndex),e.children),tt(o,0,i)}return r.match&&0===i.length?new fe(e.segments,{}):r.match&&!e.hasChildren()?nt(e,t,n):r.match?tt(e,0,i):nt(e,t,n)}function tt(e,t,n){if(0===n.length)return new fe(e.segments,{});var r=function(e){return Qe(e[0])?e[0].outlets:{primary:e}}(n),i={};return se(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=et(e.children[r],t,n))}),se(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new fe(e.segments,i)}function nt(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var o=n[i];if(Qe(o)){var s=rt(o.outlets);return new fe(r,s)}if(0===i&&$e(n[0]))r.push(new pe(e.segments[t].path,it(n[0]))),i++;else{var a=Qe(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;a&&u&&$e(u)?(r.push(new pe(a,it(u))),i+=2):(r.push(new pe(a,{})),i++)}}return new fe(r,{})}function rt(e){var t={};return se(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=nt(new fe([],{}),0,e))}),t}function it(e){var t={};return se(e,function(e,n){return t[n]="".concat(e)}),t}function ot(e,t,n){return e==n.path&&re(t,n.parameters)}var st=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Ge(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Le(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),se(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Le(e),o=0,s=Object.keys(i);o<s.length;o++){var a=s[o];this.deactivateRouteAndItsChildren(i[a],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Le(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Z(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Y(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Ge(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),at(a.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function at(e){Ge(e.value),e.children.forEach(at)}var ut=_createClass(function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n});function ct(e){return"function"==typeof e}function lt(e){return e instanceof de}var ht=Symbol("INITIAL_VALUE");function dt(){return Object(v.a)(function(e){return Object(u.a)(e.map(function(e){return e.pipe(Object(m.a)(1),Object(y.a)(ht))})).pipe(Object(b.a)(function(e,t){var n=!1;return t.reduce(function(e,r,i){if(e!==ht)return e;if(r===ht&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||lt(r))return r}return e},e)},ht),Object(E.a)(function(e){return e!==ht}),Object(g.a)(function(e){return lt(e)?e:!0===e}),Object(m.a)(1))})}var ft,pt=((ft=_createClass(function e(){_classCallCheck(this,e)})).\u0275fac=function(e){return new(e||ft)},ft.\u0275cmp=i.Kb({type:ft,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Rb(0,"router-outlet")},directives:function(){return[un]},encapsulation:2}),ft);function _t(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];gt(r,vt(t,r))}}function gt(e,t){e.children&&_t(e.children,t)}function vt(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function mt(e){var t=e.children&&e.children.map(mt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=pt),n}function yt(e){return e.outlet||"primary"}function bt(e,t){var n=e.filter(function(e){return yt(e)===t});return n.push.apply(n,_toConsumableArray(e.filter(function(e){return yt(e)!==t}))),n}var Et={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ct(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Et):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||ne)(n,e,t);if(!i)return Object.assign({},Et);var o={};se(i.posParams,function(e,t){o[t]=e.path});var s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ot(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return St(e,t,n)&&"primary"!==yt(n)})}(e,n,r)){var o=new fe(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==yt(a)){var u=new fe([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[yt(a)]=u}}}catch(c){s.e(c)}finally{s.f()}return i}(e,t,r,new fe(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return St(e,t,n)})}(e,n,r)){var s=new fe(e.segments,function(e,t,n,r,i,o){var s,a={},u=_createForOfIteratorHelper(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(St(e,n,c)&&!i[yt(c)]){var l=new fe([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,a[yt(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),a)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var a=new fe(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function St(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Tt(e,t,n,r){return!!(yt(e)===r||"primary"!==r&&St(t,n,e))&&("**"===e.path||Ct(t,e,n).matched)}function wt(e,t,n){return 0===t.length&&!e.children[n]}var Dt=_createClass(function e(t){_classCallCheck(this,e),this.segmentGroup=t||null}),Pt=_createClass(function e(t){_classCallCheck(this,e),this.urlTree=t});function kt(e){return new c.a(function(t){return t.error(new Dt(e))})}function At(e){return new c.a(function(t){return t.error(new Pt(e))})}function It(e){return new c.a(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var Mt=function(){function e(t,n,r,o,s){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.y)}return _createClass(e,[{key:"apply",value:function(){var e=this,t=Ot(this.urlTree.root,[],[],this.config).segmentGroup,n=new fe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(g.a)(function(t){return e.createUrlTree(Rt(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Object(C.a)(function(t){if(t instanceof Pt)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Dt)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(g.a)(function(n){return t.createUrlTree(Rt(n),e.queryParams,e.fragment)})).pipe(Object(C.a)(function(e){if(e instanceof Dt)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new fe([],{primary:e}):e;return new de(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(g.a)(function(e){return new fe([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],s=0,a=Object.keys(n.children);s<a.length;s++){var u=a[s];"primary"===u?i.unshift(u):i.push(u)}return Object(o.a)(i).pipe(Object(O.a)(function(i){var o=n.children[i],s=bt(t,i);return r.expandSegmentGroup(e,s,o,i).pipe(Object(g.a)(function(e){return{segment:e,outlet:i}}))}),Object(b.a)(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(E.a)(function(t,n){return e(t,n,r)}):I.a,w(1),n?Object(A.a)(t):Object(k.a)(function(){return new l.a}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,a){var u=this;return Object(o.a)(n).pipe(Object(O.a)(function(o){return u.expandSegmentAgainstRoute(e,t,n,o,r,i,a).pipe(Object(C.a)(function(e){if(e instanceof Dt)return Object(s.a)(null);throw e}))}),Object(M.a)(function(e){return!!e}),Object(C.a)(function(e,n){if(e instanceof l.a||"EmptyError"===e.name){if(wt(t,r,i))return Object(s.a)(new fe([],{}));throw new Dt(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,s){return Tt(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):kt(t):kt(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?At(o):this.lineralizeSegments(n,o).pipe(Object(R.a)(function(n){var o=new fe(n,{});return i.expandSegment(e,o,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var s=this,a=Ct(t,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return kt(t);var d=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?At(d):this.lineralizeSegments(r,d).pipe(Object(R.a)(function(r){return s.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(s.a)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(Object(g.a)(function(e){return n._loadedConfig=e,new fe(r,{})})):Object(s.a)(new fe(r,{}));var a=Ct(t,n,r),u=a.matched,c=a.consumedSegments,l=a.lastChild;if(!u)return kt(t);var h=r.slice(l);return this.getChildConfig(e,n,r).pipe(Object(R.a)(function(e){var r=e.module,a=e.routes,u=Ot(t,c,h,a),l=u.segmentGroup,d=u.slicedSegments,f=new fe(l.segments,l.children);if(0===d.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe(Object(g.a)(function(e){return new fe(c,e)}));if(0===a.length&&0===d.length)return Object(s.a)(new fe(c,{}));var p=yt(n)===i;return o.expandSegment(r,f,a,d,p?"primary":i,!0).pipe(Object(g.a)(function(e){return new fe(c.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(s.a)(new ut(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(s.a)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(Object(R.a)(function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(g.a)(function(e){return t._loadedConfig=e,e})):function(e){return new c.a(function(t){return t.error(te("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):Object(s.a)(new ut([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;if(!i||0===i.length)return Object(s.a)(!0);var o=i.map(function(r){var i,o=e.get(r);if(function(e){return e&&ct(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!ct(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return ae(i)});return Object(s.a)(o).pipe(dt(),Object(x.a)(function(e){if(lt(e)){var t=te('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),Object(g.a)(function(e){return!0===e}))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(s.a)(n);if(r.numberOfChildren>1||!r.children.primary)return It(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new de(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return se(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),s={};return se(t.children,function(t,o){s[o]=i.createSegmentGroup(e,t,n,r)}),new fe(o,s)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return e}}]),e}();function Rt(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],o=Rt(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new fe(e.segments.concat(t.segments),t.children)}return e}(new fe(e.segments,t))}var xt=_createClass(function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]}),Lt=_createClass(function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n});function jt(e,t,n){var r=e._root;return Ut(r,t?t._root:null,n,[r.value])}function Nt(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ut(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Le(t);return e.children.forEach(function(e){!function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!_e(e.url,t.url);case"pathParamsOrQueryParamsChange":return!_e(e.url,t.url)||!re(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ke(e,t)||!re(e.queryParams,t.queryParams);case"paramsChange":default:return!Ke(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xt(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ut(e,t,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lt(a.outlet.component,s))}else s&&Bt(t,a,i),i.canActivateChecks.push(new xt(r)),Ut(e,null,o.component?a?a.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),se(o,function(e,t){return Bt(e,n.getContext(t),i)}),i}function Bt(e,t,n){var r=Le(e),i=e.value;se(r,function(e,r){Bt(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Lt(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Ft=_createClass(function e(){_classCallCheck(this,e)});function qt(e){return new c.a(function(t){return t.error(e)})}var Vt=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _createClass(e,[{key:"recognize",value:function(){var e=Ot(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary");if(null===t)return null;var n=new Fe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xe(n,t),i=new qe(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Be(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var o=i[r],s=t.children[o],a=bt(e,o),u=this.processSegmentGroup(a,s,o);if(null===u)return null;n.push.apply(n,_toConsumableArray(u))}var c=Wt(n);return c.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),c}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=this.processSegmentAgainstRoute(s,t,n,r);if(null!==a)return a}}catch(u){o.e(u)}finally{o.f()}return wt(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!Tt(e,t,n,r))return null;var i,o=[],s=[];if("**"===e.path){var a=n.length>0?oe(n).parameters:{};i=new Fe(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zt(e),yt(e),e.component,e,Gt(t),Kt(t)+n.length,Ht(e))}else{var u=Ct(t,e,n);if(!u.matched)return null;o=u.consumedSegments,s=n.slice(u.lastChild),i=new Fe(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zt(e),yt(e),e.component,e,Gt(t),Kt(t)+o.length,Ht(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=Ot(t,o,s,c.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,d=l.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(c,h);return null===f?null:[new xe(i,f)]}if(0===c.length&&0===d.length)return[new xe(i,[])];var p=yt(e)===r,_=this.processSegment(c,h,d,p?"primary":r);return null===_?null:[new xe(i,_)]}}]),e}();function Wt(e){var t,n=[],r=new Set,i=_createForOfIteratorHelper(e);try{var o=function(){var e,i=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(i))return n.push(i),"continue";var o=n.find(function(e){return i.value.routeConfig===e.value.routeConfig});void 0!==o?((e=o.children).push.apply(e,_toConsumableArray(i.children)),r.add(o)):n.push(i)};for(i.s();!(t=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}var s,a=_createForOfIteratorHelper(r);try{for(a.s();!(s=a.n()).done;){var u=s.value,c=Wt(u.children);n.push(new xe(u.value,c))}}catch(l){a.e(l)}finally{a.f()}return n.filter(function(e){return!r.has(e)})}function Gt(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Kt(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function zt(e){return e.data||{}}function Ht(e){return e.resolve||{}}function $t(e){return Object(v.a)(function(t){var n=e(t);return n?Object(o.a)(n).pipe(Object(g.a)(function(){return t})):Object(s.a)(t)})}var Qt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),Yt=new i.r("ROUTES"),Xt=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe(Object(g.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var o,s=r.create(e);return new ut((o=s.injector.get(Yt,void 0,i.q.Self|i.q.Optional),Array.prototype.concat.apply([],o)).map(mt),s)}),Object(C.a)(function(e){throw t._loader$=void 0,e}));return t._loader$=new p.a(r,function(){return new _.a}).pipe(Object(L.a)()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(o.a)(this.loader.load(e)):ae(e()).pipe(Object(R.a)(function(e){return e instanceof i.w?Object(s.a)(e):Object(o.a)(t.compiler.compileModuleAsync(e))}))}}]),e}(),Zt=_createClass(function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Jt,this.attachRef=null}),Jt=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Zt,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),en=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function tn(e){throw e}function nn(e,t,n){return t.parse("/")}function rn(e,t){return Object(s.a)(null)}var on,sn,an=((sn=function(){function e(t,n,r,o,s,u,c,l){var h=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new _.a,this.errorHandler=tn,this.malformedUriErrorHandler=nn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rn,afterPreactivation:rn},this.urlHandlingStrategy=new en,this.routeReuseStrategy=new Qt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.y),this.console=s.get(i.ab);var d=s.get(i.A);this.isNgZoneEnabled=d instanceof i.A&&i.A.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new de(new fe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xt(u,c,function(e){return h.triggerEvent(new H(e))},function(e){return h.triggerEvent(new $(e))}),this.routerState=Ne(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(E.a)(function(e){return 0!==e.id}),Object(g.a)(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Object(v.a)(function(e){var r,i,a,u=!1,c=!1;return Object(s.a)(e).pipe(Object(x.a)(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(v.a)(function(e){var r,i,o,a,u=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||u)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(s.a)(e).pipe(Object(v.a)(function(e){var r=t.transitions.getValue();return n.next(new U(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?f.a:Promise.resolve(e)}),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,Object(v.a)(function(e){return function(e,t,n,r,i){return new Mt(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(Object(g.a)(function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})}))})),Object(x.a)(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,i,o){return Object(R.a)(function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Vt(e,t,n,r,i,o).recognize();return null===a?qt(new Ft):Object(s.a)(a)}catch(u){return qt(u)}}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(g.a)(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var a})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(x.a)(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects);var r=new V(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(u&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var c=e.id,l=e.extractedUrl,h=e.source,d=e.restoredState,p=e.extras,_=new U(c,t.serializeUrl(l),h,d);n.next(_);var m=Ne(l,t.rootComponentType).snapshot;return Object(s.a)(Object.assign(Object.assign({},e),{targetSnapshot:m,urlAfterRedirects:l,extras:Object.assign(Object.assign({},p),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),f.a}),$t(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})}),Object(x.a)(function(e){var n=new W(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Object(g.a)(function(e){return Object.assign(Object.assign({},e),{guards:jt(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return Object(R.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,a=n.guards,u=a.canActivateChecks,c=a.canDeactivateChecks;return 0===c.length&&0===u.length?Object(s.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(o.a)(e).pipe(Object(R.a)(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);var a=o.map(function(o){var s,a=Nt(o,t,i);if(function(e){return e&&ct(e.canDeactivate)}(a))s=ae(a.canDeactivate(e,t,n,r));else{if(!ct(a))throw new Error("Invalid CanDeactivate guard");s=ae(a(e,t,n,r))}return s.pipe(Object(M.a)())});return Object(s.a)(a).pipe(dt())}(e.component,e.route,n,t,r)}),Object(M.a)(function(e){return!0!==e},!0))}(c,r,i,e).pipe(Object(R.a)(function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(o.a)(t).pipe(Object(O.a)(function(t){return Object(h.a)(function(e,t){return null!==e&&t&&t(new Q(e)),Object(s.a)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new X(e)),Object(s.a)(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return Object(d.a)(function(){var i=t.guards.map(function(i){var o,s=Nt(i,t.node,n);if(function(e){return e&&ct(e.canActivateChild)}(s))o=ae(s.canActivateChild(r,e));else{if(!ct(s))throw new Error("Invalid CanActivateChild guard");o=ae(s(r,e))}return o.pipe(Object(M.a)())});return Object(s.a)(i).pipe(dt())})});return Object(s.a)(i).pipe(dt())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(s.a)(!0);var i=r.map(function(r){return Object(d.a)(function(){var i,o=Nt(r,t,n);if(function(e){return e&&ct(e.canActivate)}(o))i=ae(o.canActivate(t,e));else{if(!ct(o))throw new Error("Invalid CanActivate guard");i=ae(o(t,e))}return i.pipe(Object(M.a)())})});return Object(s.a)(i).pipe(dt())}(e,t.route,n))}),Object(M.a)(function(e){return!0!==e},!0))}(r,u,e,t):Object(s.a)(n)}),Object(g.a)(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),Object(x.a)(function(e){if(lt(e.guardsResult)){var n=te('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new G(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),Object(E.a)(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new F(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),$t(function(e){if(e.guards.canActivateChecks.length)return Object(s.a)(e).pipe(Object(x.a)(function(e){var n=new K(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Object(v.a)(function(e){var r,i,a=!1;return Object(s.a)(e).pipe((r=t.paramsInheritanceStrategy,i=t.ngModule.injector,Object(R.a)(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return Object(s.a)(e);var a=0;return Object(o.a)(n).pipe(Object(O.a)(function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(s.a)({});var a={};return Object(o.a)(i).pipe(Object(R.a)(function(i){return function(e,t,n,r){var i=Nt(e,t,r);return ae(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(Object(x.a)(function(e){a[i]=e}))}),w(1),Object(R.a)(function(){return Object.keys(a).length===i.length?Object(s.a)(a):f.a}))}(e._resolve,e,t,r).pipe(Object(g.a)(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Be(e,n).resolve),null}))}(e.route,t,r,i)}),Object(x.a)(function(){return a++}),w(1),Object(R.a)(function(t){return a===n.length?Object(s.a)(e):f.a}))})),Object(x.a)({next:function(){return a=!0},complete:function(){if(!a){var r=new F(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),e.resolve(!1)}}}))}),Object(x.a)(function(e){var n=new z(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),$t(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})}),Object(g.a)(function(e){var n=function(e,t,n){var r=ze(e,t._root,n?n._root:void 0);return new je(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),Object(x.a)(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(r=t.rootContexts,i=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},Object(g.a)(function(e){return new st(i,e.targetRouterState,e.currentRouterState,a).activate(r),e})),Object(x.a)({next:function(){u=!0},complete:function(){u=!0}}),Object(j.a)(function(){if(!u&&!c){t.resetUrlToCurrentUrlTree();var r=new F(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null}),Object(C.a)(function(r){if(c=!0,(a=r)&&a.ngNavigationCancelingError){var i=lt(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new F(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new q(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(u){e.reject(u)}}var a;return f.a}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var s=Object.assign({},r);delete s.navigationId,0!==Object.keys(s).length&&(o.state=s)}e.scheduleNavigation(i,t,r,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){_t(e),this.config=e.map(mt),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.queryParamsHandling,s=t.preserveFragment,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i,c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Ye(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ze(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return se(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(_toConsumableArray(e),[r])},[]);return new Ze(n,t,r)}(n);if(o.toRoot())return Ye(t.root,new fe([],{}),t,r,i);var s=function(e,t,n){if(e.isAbsolute)return new Je(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Je(r,r===t.root,0)}var i=$e(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Je(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?tt(s.segmentGroup,s.index,o.commands):et(s.segmentGroup,s.index,o.commands);return Ye(s.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=lt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(lt(e))return ue(this.currentUrlTree,e,t);var n=this.parseUrl(e);return ue(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new B(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,s,a,u=this.getTransition(),c="imperative"!==t&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise(function(e,t){o=e,s=t});var h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){return new(e||sn)(i.cc(i.O),i.cc(ge),i.cc(Jt),i.cc(r.h),i.cc(i.s),i.cc(i.x),i.cc(i.i),i.cc(void 0))},sn.\u0275prov=i.Mb({token:sn,factory:sn.\u0275fac}),sn),un=((on=function(){function e(t,n,r,o,s){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new cn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||on)(i.Qb(Jt),i.Qb(i.R),i.Qb(i.j),i.dc("name"),i.Qb(i.h))},on.\u0275dir=i.Lb({type:on,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),on),cn=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===Ue?this.route:e===Jt?this.childContexts:this.parent.get(e,t)}}]),e}()},vkgz:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(e,t,n){return function(r){return r.lift(new a(e,t,n))}}var a=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,s,a){var u;return _classCallCheck(this,n),(u=t.call(this,e))._tapNext=i.a,u._tapError=i.a,u._tapComplete=i.a,u._tapError=s||i.a,u._tapComplete=a||i.a,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.a,u._tapError=r.error||i.a,u._tapComplete=r.complete||i.a),u}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return function(e){return Object(i.a)()(Object(r.a)(s)(e))}}},"x+ZX":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(){return function(e){return e.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},x7I3:function(e,t,n){"use strict";n.d(t,"a",function(){return ar}),n.d(t,"b",function(){return cr}),n.d(t,"c",function(){return ur}),n.d(t,"d",function(){return hr}),n.d(t,"e",function(){return lr}),n.d(t,"f",function(){return dr}),n.d(t,"g",function(){return fr}),n.d(t,"h",function(){return or}),n.d(t,"i",function(){return sr});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var d="closure_uid_"+(1e9*Math.random()>>>0),f=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:_).apply(null,arguments)}function v(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function y(){this.s=this.s,this.o=this.o}var b={};y.prototype.s=!1,y.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,d)&&e[d]||(e[d]=++f)}(this);delete b[e]}},y.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var E=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},C=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function O(e){return Array.prototype.concat.apply([],arguments)}function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function T(e){return/^[\s\xa0]*$/.test(e)}var w,D=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return-1!=e.indexOf(t)}function k(e,t){return e<t?-1:e>t?1:0}e:{var A=u.navigator;if(A){var I=A.userAgent;if(I){w=I;break e}}w=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function R(e){var t={};for(var n in e)t[n]=e[n];return t}var x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<x.length;o++)n=x[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){return j[" "](e),e}j[" "]=c;var N,U,B=P(w,"Opera"),F=P(w,"Trident")||P(w,"MSIE"),q=P(w,"Edge"),V=q||F,W=P(w,"Gecko")&&!(P(w.toLowerCase(),"webkit")&&!P(w,"Edge"))&&!(P(w,"Trident")||P(w,"MSIE"))&&!P(w,"Edge"),G=P(w.toLowerCase(),"webkit")&&!P(w,"Edge");function K(){var e=u.document;return e?e.documentMode:void 0}e:{var z="",H=(U=w,W?/rv:([^\);]+)(\)|;)/.exec(U):q?/Edge\/([\d\.]+)/.exec(U):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):G?/WebKit\/(\S+)/.exec(U):B?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(H&&(z=H?H[1]:""),F){var $=K();if(null!=$&&$>parseFloat(z)){N=String($);break e}}N=z}var Q={},Y=u.document&&F&&(K()||parseInt(N,10))||void 0,X=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",c,t),u.removeEventListener("test",c,t)}catch(n){}return e}();function Z(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function J(e,t){if(Z.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(W){e:{try{j(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ee[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&J.Z.h.call(this)}}Z.prototype.h=function(){this.defaultPrevented=!0},m(J,Z);var ee={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),ne=0;function re(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ne,this.ca=this.fa=!1}function ie(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function oe(e){this.src=e,this.g={},this.h=0}function se(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=E(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ie(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ae(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}oe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=ae(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new re(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var ue="closure_lm_"+(1e6*Math.random()|0),ce={};function le(e,t,n,r,i){if(r&&r.once)return de(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)le(e,t[o],n,r,i);return null}return n=ye(n),e&&e[te]?e.N(t,n,h(r)?!!r.capture:!!r,i):he(e,t,n,!1,r,i)}function he(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=h(i)?!!i.capture:!!i,a=ve(e);if(a||(e[ue]=a=new oe(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=ge;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)X||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function de(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,i);return null}return n=ye(n),e&&e[te]?e.O(t,n,h(r)?!!r.capture:!!r,i):he(e,t,n,!0,r,i)}function fe(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fe(e,t[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=ye(n),e&&e[te]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=ae(o=e.g[t],n,r,i))&&(ie(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=ve(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ae(t,n,r,i)),(n=-1<e?t[e]:null)&&pe(n))}function pe(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[te])se(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_e(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ve(t))?(se(n,e),0==n.h&&(n.src=null,t[ue]=null)):ie(e)}}}function _e(e){return e in ce?ce[e]:ce[e]="on"+e}function ge(e,t){if(e.ca)e=!0;else{t=new J(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&pe(e),e=n.call(r,t)}return e}function ve(e){return(e=e[ue])instanceof oe?e:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(e){return"function"==typeof e?e:(e[me]||(e[me]=function(t){return e.handleEvent(t)}),e[me])}function be(){y.call(this),this.i=new oe(this),this.P=this,this.I=null}function Ee(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Z(t,e);else if(t instanceof Z)t.target=t.target||e;else{var i=t;L(t=new Z(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ce(s,r,!0,t)&&i}if(i=Ce(s=t.g=e,r,!0,t)&&i,i=Ce(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ce(s=t.g=n[o],r,!1,t)&&i}function Ce(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&se(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}m(be,y),be.prototype[te]=!0,be.prototype.removeEventListener=function(e,t,n,r){fe(this,e,t,n,r)},be.prototype.M=function(){if(be.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ie(n[r]);delete t.g[e],t.h--}}this.I=null},be.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},be.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oe=u.JSON.stringify;function Se(){var e=Me,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Te,we=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=De.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),De=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new Pe},function(e){return e.reset()}),Pe=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function ke(e){u.setTimeout(function(){throw e},0)}function Ae(e,t){Te||function(){var e=u.Promise.resolve(void 0);Te=function(){e.then(Re)}}(),Ie||(Te(),Ie=!0),Me.add(e,t)}var Ie=!1,Me=new we;function Re(){for(var e;e=Se();){try{e.h.call(e.g)}catch(n){ke(n)}var t=De;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ie=!1}function xe(e,t){be.call(this),this.h=e||1,this.g=t||u,this.j=g(this.kb,this),this.l=Date.now()}function Le(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function je(e,t,n){if("function"==typeof e)n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Ne(e){e.g=je(function(){e.g=null,e.i&&(e.i=!1,Ne(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}m(xe,be),(o=xe.prototype).da=!1,o.S=null,o.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ee(this,"tick"),this.da&&(Le(this),this.start()))}},o.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},o.M=function(){xe.Z.M.call(this),Le(this),delete this.g};var Ue=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ne(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(y);function Be(e){y.call(this),this.h=e,this.g={}}m(Be,y);var Fe=[];function qe(e,t,n,r){Array.isArray(n)||(n&&(Fe[0]=n.toString()),n=Fe);for(var i=0;i<n.length;i++){var o=le(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ve(e){M(e.g,function(e,t){this.g.hasOwnProperty(t)&&pe(e)},e),e.g={}}function We(){this.g=!0}function Ge(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Oe(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Be.prototype.M=function(){Be.Z.M.call(this),Ve(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.Aa=function(){this.g=!1},We.prototype.info=function(){};var Ke={},ze=null;function He(){return ze=ze||new be}function $e(e){Z.call(this,Ke.Ma,e)}function Qe(e){var t=He();Ee(t,new $e(t,e))}function Ye(e,t){Z.call(this,Ke.STAT_EVENT,e),this.stat=t}function Xe(e){var t=He();Ee(t,new Ye(t,e))}function Ze(e,t){Z.call(this,Ke.Na,e),this.size=t}function Je(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){e()},t)}Ke.Ma="serverreachability",m($e,Z),Ke.STAT_EVENT="statevent",m(Ye,Z),Ke.Na="timingevent",m(Ze,Z);var et={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nt(){}function rt(){}nt.prototype.h=null;var it,ot={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function st(){Z.call(this,"d")}function at(){Z.call(this,"c")}function ut(){}function ct(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Be(this),this.P=ht,this.W=new xe(e=V?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}m(st,Z),m(at,Z),m(ut,nt),ut.prototype.g=function(){return new XMLHttpRequest},ut.prototype.i=function(){return{}},it=new ut;var ht=45e3,dt={},ft={};function pt(e,t,n){e.K=1,e.v=Nt(It(t)),e.s=n,e.U=!0,_t(e,null)}function _t(e,t){e.F=Date.now(),yt(e),e.A=It(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Yt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new lt,e.g=Zn(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ue(g(e.Ia,e,e.g),e.O)),qe(e.V,e.g,"readystatechange",e.gb),t=e.H?R(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Qe(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.X,e.s)}function gt(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function vt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=mt(e,n))==ft){4==t&&(e.o=4,Xe(14),i=!1),Ge(e.j,e.m,null,"[Incomplete Response]");break}if(r==dt){e.o=4,Xe(15),Ge(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ge(e.j,e.m,r,null),St(e,r)}gt(e)&&r!=ft&&r!=dt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xe(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(t),t.L=!0,Xe(11))):(Ge(e.j,e.m,n,"[Invalid Chunked Response]"),Ot(e),Ct(e))}function mt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ft:(n=Number(t.substring(n,r)),isNaN(n)?dt:(r+=1)+n>t.length?ft:(t=t.substr(r,n),e.C=r+n,t))}function yt(e){e.Y=Date.now()+e.P,bt(e,e.P)}function bt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Je(g(e.eb,e),t)}function Et(e){e.B&&(u.clearTimeout(e.B),e.B=null)}function Ct(e){0==e.l.G||e.I||Hn(e.l,e)}function Ot(e){Et(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Le(e.W),Ve(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function St(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||rn(n.i,e)))if(n.I=e.N,!e.J&&rn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;zn(n),Ln(n)}Wn(n),Xe(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Je(g(n.ab,n),6e3));if(1>=nn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Qn(n,11)}else if((e.J||n.g==e)&&zn(n),!T(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(P(l,"spdy")||P(l,"quic")||P(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(on(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,jt(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=Xn(r,r.H?r.la:null,r.W),f.J){sn(r.i,f);var p=f,_=r.K;_&&p.setTimeout(_),p.B&&(Et(p),yt(p)),r.g=f}else Vn(r);0<n.l.length&&Un(n)}else"stop"!=o[0]&&"close"!=o[0]||Qn(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Qn(n,7):xn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Qe(4)}catch(o){}}function Tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)C(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(l(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function wt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Pt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Pt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=ct.prototype).setTimeout=function(e){this.P=e},o.gb=function(e){e=e.target;var t=this.L;t&&3==kn(e)?t.l():this.Ia(e)},o.Ia=function(e){try{if(e==this.g)e:{var t=kn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||V||this.g&&(this.h.h||this.g.ga()||An(this.g)))){this.I||4!=t||7==n||Qe(8==n||0>=r?3:2),Et(this);var i=this.g.ba();this.N=i;t:if(gt(this)){var o=An(this.g);e="";var s=o.length,a=4==kn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ot(this),Ct(this);var c="";break t}this.h.i=new u.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(l)){var d=l;break t}}d=null}if(!(i=d)){this.i=!1,this.o=3,Xe(12),Ot(this),Ct(this);break e}Ge(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,St(this,i)}this.U?(vt(this,t,c),V&&this.i&&3==t&&(qe(this.V,this.W,"tick",this.fb),this.W.start())):(Ge(this.j,this.m,c,null),St(this,c)),4==t&&Ot(this),this.i&&!this.I&&(4==t?Hn(this.l,this):(this.i=!1,yt(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,Xe(12)):(this.o=0,Xe(13)),Ot(this),Ct(this)}}}catch(t){}},o.fb=function(){if(this.g){var e=kn(this.g),t=this.g.ga();this.C<t.length&&(Et(this),vt(this,e,t),this.i&&4!=e&&yt(this))}},o.cancel=function(){this.I=!0,Ot(this)},o.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Qe(3),Xe(17)),Ot(this),this.o=2,Ct(this)):bt(this,this.Y-e)},(o=wt.prototype).R=function(){Dt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},o.T=function(){return Dt(this),this.g.concat()},o.get=function(e,t){return Pt(this.h,e)?this.h[e]:t},o.set=function(e,t){Pt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},o.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var kt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function At(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof At){this.g=void 0!==t?t:e.g,Mt(this,e.j),this.s=e.s,Rt(this,e.i),xt(this,e.m),this.l=e.l,t=e.h;var n=new zt;n.i=t.i,t.g&&(n.g=new wt(t.g),n.h=t.h),Lt(this,n),this.o=e.o}else e&&(n=String(e).match(kt))?(this.g=!!t,Mt(this,n[1]||"",!0),this.s=Ut(n[2]||""),Rt(this,n[3]||"",!0),xt(this,n[4]),this.l=Ut(n[5]||"",!0),Lt(this,n[6]||"",!0),this.o=Ut(n[7]||"")):(this.g=!!t,this.h=new zt(null,this.g))}function It(e){return new At(e)}function Mt(e,t,n){e.j=n?Ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rt(e,t,n){e.i=n?Ut(t,!0):t}function xt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lt(e,t,n){t instanceof zt?(e.h=t,function(e,t){t&&!e.j&&(Ht(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&($t(this,t),Yt(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Bt(t,Gt)),e.h=new zt(t,e.g))}function jt(e,t,n){e.h.set(t,n)}function Nt(e){return jt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}At.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bt(t,qt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bt(t,qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?Wt:Vt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bt(n,Kt)),e.join("")};var qt=/[#\/\?@]/g,Vt=/[#\?:]/g,Wt=/[#\?]/g,Gt=/[#\?@]/g,Kt=/#/g;function zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ht(e){e.g||(e.g=new wt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function $t(e,t){Ht(e),t=Xt(e,t),Pt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Pt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dt(e)))}function Qt(e,t){return Ht(e),t=Xt(e,t),Pt(e.g.h,t)}function Yt(e,t,n){$t(e,t),0<n.length&&(e.i=null,e.g.set(Xt(e,t),S(n)),e.h+=n.length)}function Xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(o=zt.prototype).add=function(e,t){Ht(this),this.i=null,e=Xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},o.forEach=function(e,t){Ht(this),this.g.forEach(function(n,r){C(n,function(n){e.call(t,n,r,this)},this)},this)},o.T=function(){Ht(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.R=function(e){Ht(this);var t=[];if("string"==typeof e)Qt(this,e)&&(t=O(t,this.g.get(Xt(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=O(t,e[n])}return t},o.set=function(e,t){return Ht(this),this.i=null,Qt(this,e=Xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},o.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var Zt=function(e,t){this.h=e,this.g=t};function Jt(e){this.l=e||en,e=u.PerformanceNavigationTiming?0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var en=10;function tn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nn(e){return e.h?1:e.g?e.g.size:0}function rn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function on(e,t){e.g?e.g.add(t):e.h=t}function sn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function an(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var o=i(e.g.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.D)}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return S(e.i)}function un(){}function cn(){this.g=new un}function ln(e,t,n){var r=n||"";try{Tt(e,function(e,n){var i=e;h(e)&&(i=Oe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function hn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function dn(e){this.l=e.$b||null,this.j=e.ib||!1}function fn(e,t){be.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=pn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jt.prototype.cancel=function(){var e,t;if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},un.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},un.prototype.parse=function(e){return u.JSON.parse(e,void 0)},m(dn,nt),dn.prototype.g=function(){return new fn(this.l,this.j)},dn.prototype.i=function(e){return function(){return e}}({}),m(fn,be);var pn=0;function _n(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function gn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vn(e)}function vn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(o=fn.prototype).open=function(e,t){if(this.readyState!=pn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vn(this)},o.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||u).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},o.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gn(this)),this.readyState=pn},o.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vn(this)),this.g&&(this.readyState=3,vn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==u.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_n(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},o.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gn(this):vn(this),3==this.readyState&&_n(this)}},o.Ua=function(e){this.g&&(this.response=this.responseText=e,gn(this))},o.Ta=function(e){this.g&&(this.response=e,gn(this))},o.ha=function(){this.g&&gn(this)},o.setRequestHeader=function(e,t){this.v.append(e,t)},o.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mn=u.JSON.parse;function yn(e){be.call(this),this.headers=new wt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bn,this.K=this.L=!1}m(yn,be);var bn="",En=/^https?$/i,Cn=["POST","PUT"];function On(e){return"content-type"==e.toLowerCase()}function Sn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tn(e),Dn(e)}function Tn(e){e.D||(e.D=!0,Ee(e,"complete"),Ee(e,"error"))}function wn(e){if(e.h&&void 0!==a&&(!e.C[1]||4!=kn(e)||2!=e.ba()))if(e.v&&4==kn(e))je(e.Fa,0,e);else if(Ee(e,"readystatechange"),4==kn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(kt)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!En.test(o?o.toLowerCase():"")}t=i}if(t)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var c=2<kn(e)?e.g.statusText:""}catch(l){c=""}e.j=c+" ["+e.ba()+"]",Tn(e)}}finally{Dn(e)}}}function Dn(e,t){if(e.g){Pn(e);var n=e.g,r=e.C[0]?c:null;e.g=null,e.C=null,t||Ee(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(u.clearTimeout(e.A),e.A=null)}function kn(e){return e.g?e.g.readyState:0}function An(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case bn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function In(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return M(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):jt(e,t,n))}function Mn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rn(e){this.za=0,this.l=[],this.h=new We,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Mn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Mn("baseRetryDelayMs",5e3,e),this.$a=Mn("retryDelaySeedMs",1e4,e),this.Ya=Mn("forwardChannelMaxRetries",2,e),this.ra=Mn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Jt(e&&e.concurrentRequestLimit),this.Ca=new cn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function xn(e){if(jn(e),3==e.G){var t=e.V++,n=It(e.F);jt(n,"SID",e.J),jt(n,"RID",t),jt(n,"TYPE","terminate"),Fn(e,n),(t=new ct(e,e.h,t,void 0)).K=2,t.v=Nt(It(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.v.toString(),"")),!n&&u.Image&&((new Image).src=t.v,n=!0),n||(t.g=Zn(t.l,null),t.g.ea(t.v)),t.F=Date.now(),yt(t)}Yn(e)}function Ln(e){e.g&&(Gn(e),e.g.cancel(),e.g=null)}function jn(e){Ln(e),e.u&&(u.clearTimeout(e.u),e.u=null),zn(e),e.i.cancel(),e.m&&("number"==typeof e.m&&u.clearTimeout(e.m),e.m=null)}function Nn(e,t){e.l.push(new Zt(e.Za++,t)),3==e.G&&Un(e)}function Un(e){tn(e.i)||e.m||(e.m=!0,Ae(e.Ha,e),e.C=0)}function Bn(e,t){var n;n=t?t.m:e.V++;var r=It(e.F);jt(r,"SID",e.J),jt(r,"RID",n),jt(r,"AID",e.U),Fn(e,r),e.o&&e.s&&In(r,e.o,e.s),n=new ct(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=qn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),on(e.i,n),pt(n,r,t)}function Fn(e,t){e.j&&Tt({},function(e,n){jt(t,n,e)})}function qn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?g(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{ln(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Vn(e){e.g||e.u||(e.Y=1,Ae(e.Ga,e),e.A=0)}function Wn(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Je(g(e.Ga,e),$n(e,e.A)),e.A++,0))}function Gn(e){null!=e.B&&(u.clearTimeout(e.B),e.B=null)}function Kn(e){e.g=new ct(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=It(e.oa);jt(t,"RID","rpc"),jt(t,"SID",e.J),jt(t,"CI",e.N?"0":"1"),jt(t,"AID",e.U),Fn(e,t),jt(t,"TYPE","xmlhttp"),e.o&&e.s&&In(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Nt(It(t)),n.s=null,n.U=!0,_t(n,e)}function zn(e){null!=e.v&&(u.clearTimeout(e.v),e.v=null)}function Hn(e,t){var n=null;if(e.g==t){zn(e),Gn(e),e.g=null;var r=2}else{if(!rn(e.i,t))return;n=t.D,sn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ee(r=He(),new Ze(r,n,t,i)),Un(e)}else Vn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(nn(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Je(g(e.Ha,e,t),$n(e,e.C)),e.C++,0)))}(e,t)||2==r&&Wn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Qn(e,5);break;case 4:Qn(e,10);break;case 3:Qn(e,6);break;default:Qn(e,2)}}function $n(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Qn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=g(e.jb,e);n||(n=new At("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Mt(n,"https"),Nt(n)),function(e,t){var n=new We;if(u.Image){var r=new Image;r.onload=v(hn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=v(hn,n,r,"TestLoadImage: error",!1,t),r.onabort=v(hn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=v(hn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xe(2);e.G=0,e.j&&e.j.va(t),Yn(e),jn(e)}function Yn(e){e.G=0,e.I=-1,e.j&&(0==an(e.i).length&&0==e.l.length||(e.i.i.length=0,S(e.l),e.l.length=0),e.j.ua())}function Xn(e,t,n){var r=function(e){return e instanceof At?It(e):new At(e,void 0)}(n);if(""!=r.i)t&&Rt(r,t+"."+r.i),xt(r,r.m);else{var i=u.location;r=function(e,t,n,r){var i=new At(null,void 0);return e&&Mt(i,e),t&&Rt(i,t),n&&xt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&M(e.aa,function(e,t){jt(r,t,e)}),n=e.sa,(t=e.D)&&n&&jt(r,t,n),jt(r,"VER",e.ma),Fn(e,r),r}function Zn(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yn(n&&e.Ba&&!e.qa?new dn({ib:!0}):e.qa)).L=e.H,t}function Jn(){}function er(){if(F&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function tr(e,t){be.call(this),this.g=new Rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!T(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new ir(this)}function nr(e){st.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function rr(){at.call(this),this.status=1}function ir(e){this.g=e}(o=yn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():it.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:it),this.g.onreadystatechange=g(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Sn(this,o)}e=n||"";var i=new wt(this.headers);r&&Tt(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=On,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=u.FormData&&e instanceof u.FormData,!(0<=E(Cn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pn(this),0<this.B&&((this.K=function(e){return F&&function(){return e=Q,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=D(String(N)).split("."),n=D("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=k(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||k(0==o[2].length,0==s[2].length)||k(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=g(this.pa,this)):this.A=je(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Sn(this,o)}},o.pa=function(){void 0!==a&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))},o.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),Dn(this))},o.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dn(this,!0)),yn.Z.M.call(this)},o.Fa=function(){this.s||(this.F||this.v||this.l?wn(this):this.cb())},o.cb=function(){wn(this)},o.ba=function(){try{return 2<kn(this)?this.g.status:-1}catch(U){return-1}},o.ga=function(){try{return this.g?this.g.responseText:""}catch(U){return""}},o.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mn(t)}},o.Da=function(){return this.m},o.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(o=Rn.prototype).ma=8,o.G=1,o.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},o.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ct(this,this.h,e,void 0),n=this.s;if(this.P&&(n?L(n=R(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=qn(this,t,r),jt(i=It(this.F),"RID",e),jt(i,"CVER",22),this.D&&jt(i,"X-HTTP-Session-Id",this.D),Fn(this,i),this.o&&n&&In(i,this.o,n),on(this.i,t),this.Ra&&jt(i,"TYPE","init"),this.ja?(jt(i,"$req",r),jt(i,"SID","null"),t.$=!0,pt(t,i,null)):pt(t,i,r),this.G=2}}else 3==this.G&&(e?Bn(this,e):0==this.l.length||tn(this.i)||Bn(this))},o.Ga=function(){if(this.u=null,Kn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Je(g(this.bb,this),e)}},o.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xe(10),Ln(this),Kn(this))},o.ab=function(){null!=this.v&&(this.v=null,Ln(this),Wn(this),Xe(19))},o.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Xe(2)):(this.h.info("Failed to ping google.com"),Xe(1))},(o=Jn.prototype).xa=function(){},o.wa=function(){},o.va=function(){},o.ua=function(){},o.Oa=function(){},er.prototype.g=function(e,t){return new tr(e,t)},m(tr,be),tr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ae(g(e.hb,e,t))),Xe(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Xn(e,null,e.W),Un(e)},tr.prototype.close=function(){xn(this.g)},tr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Nn(this.g,t)}else this.v?((t={}).__data__=Oe(e),Nn(this.g,t)):Nn(this.g,e)},tr.prototype.M=function(){this.g.j=null,delete this.j,xn(this.g),delete this.g,tr.Z.M.call(this)},m(nr,st),m(rr,at),m(ir,Jn),ir.prototype.xa=function(){Ee(this.g,"a")},ir.prototype.wa=function(e){Ee(this.g,new nr(e))},ir.prototype.va=function(e){Ee(this.g,new rr(e))},ir.prototype.ua=function(){Ee(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,tr.prototype.send=tr.prototype.u,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,tt.COMPLETE="complete",rt.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",be.prototype.listen=be.prototype.N,yn.prototype.listenOnce=yn.prototype.O,yn.prototype.getLastError=yn.prototype.La,yn.prototype.getLastErrorCode=yn.prototype.Da,yn.prototype.getStatus=yn.prototype.ba,yn.prototype.getResponseJson=yn.prototype.Qa,yn.prototype.getResponseText=yn.prototype.ga,yn.prototype.send=yn.prototype.ea;var or=function(){return new er},sr=function(){return He()},ar=et,ur=tt,cr=Ke,lr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hr=dn,dr=rt,fr=yn},xbPD:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.defaultValue))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(r.a)},xgIS:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("HDdC"),i=n("DH7j"),o=n("n6bG"),s=n("lJxs");function a(e,t,n,c){return Object(o.a)(n)&&(c=n,n=void 0),c?a(e,t,n).pipe(Object(s.a)(function(e){return Object(i.a)(e)?c.apply(void 0,_toConsumableArray(e)):c(e)})):new r.a(function(r){u(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function u(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),o=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)u(e[l],t,n,r,i)}r.add(o)}},xo5E:function(e,t,n){"use strict";var r,i=n("zIRd"),o=n("pqa8"),s=n("/6Yf"),a=(n("qOnz"),n("q/0M"),n("x7I3"),{Firestore:o.f,GeoPoint:o.a,Timestamp:o.c,Blob:o.j,Transaction:o.l,WriteBatch:o.g,DocumentReference:o.t,DocumentSnapshot:o.h,Query:o.r,QueryDocumentSnapshot:o.i,QuerySnapshot:o.m,CollectionReference:o.q,FieldPath:o.p,FieldValue:o.n,setLogLevel:o.d,CACHE_SIZE_UNLIMITED:o.b});(function(e,t){e.INTERNAL.registerComponent(new s.Component("firestore",function(e){return function(e,t){return new o.f(e,new o.e(e,t),new o.o)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},a)))})(r=i.default),r.registerVersion("@firebase/firestore","2.4.0")},yCtX:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",function(){return r})},z6cu:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},zIRd:function(e,t,n){"use strict";n.r(t),n.d(t,"firebase",function(){return m});var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),f=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(s.deepCopy)(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.contains)(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),u=t.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new a.Component(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");Object(u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(s.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Object(s.deepExtend)(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}(f);return t.INTERNAL=Object(o.__assign)(Object(o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.deepExtend)(t,e)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}(),_=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if(Object(s.isBrowser)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s.isNode)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,e)};var m=p;!function(e,t){e.INTERNAL.registerComponent(new a.Component("platform-logger",function(e){return new _(e)},"PRIVATE")),e.registerVersion("@firebase/app","0.6.30",void 0),e.registerVersion("fire-js","")}(m),t.default=m},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zp1y:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("l7GE"),i=n("ZUHj");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new s(t,n))}}var s=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.observables,this.project))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).observables=r,s.project=o,s.toRespond=[];var a=r.length;s.values=new Array(a);for(var u=0;u<a;u++)s.toRespond.push(u);for(var c=0;c<a;c++){var l=r[c];s.add(Object(i.a)(_assertThisInitialized(s),l,l,c))}return s}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},zzrz:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("Aqzh"),i=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/,o=function(e,t){return"string"==typeof t&&i.test(t)?new Date(t):t},s=function(e,t){return t};function a(e,t){return t.reduce(function(t,n){if("string"==typeof n||"number"==typeof n){var r=null==e?void 0:e[n];void 0!==r&&(t[n]=r)}else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=a(e[i],n[i]));return t},{})}var u=function(e,t,n,r,i,o){if(o)try{if(!0!==o(e))return}catch(s){if(s instanceof TypeError)return;throw s}t.forEach(function(t){var o,u,c,l=e[t];if("object"==typeof t){var h=Object.keys(t)[0];if(void 0!==(l=e[h])&&t[h]){var d;if(t[h].serialize)l=t[h].serialize(l);else t[h].reduce?d=t[h]:t[h].filter&&(d=t[h].filter),d&&(l=a(l,d)),t[h].encrypt&&t[h].decrypt?"function"==typeof t[h].encrypt&&(c=t[h].encrypt):(t[h].encrypt||t[h].decrypt)&&console.error("Either encrypt or decrypt function is not present on '".concat(t[h],"' key object."));o=t[h].replacer,u=t[h].space}t=h}if(void 0!==l&&void 0!==n)try{c&&(l=c("string"==typeof l?l:JSON.stringify(l,o,u))),n.setItem(r(t),"string"==typeof l?l:JSON.stringify(l,o,u))}catch(s){console.warn("Unable to save state to localStorage:",s)}else if(void 0===l&&i)try{n.removeItem(r(t))}catch(s){console.warn("Exception on removing/cleaning undefined '".concat(t,"' state"),s)}})},c=function(e,t,n){return"@ngrx/store/init"!==n.type&&"@ngrx/store/update-reducers"!==n.type||!t||(e=r(e,t,{arrayMerge:function(e,t,n){return t}})),e},l=function(e){return function(t){(void 0===e.storage&&!e.checkStorageAvailability||e.checkStorageAvailability&&"undefined"!=typeof window)&&(e.storage=localStorage||window.localStorage),void 0===e.storageKeySerializer&&(e.storageKeySerializer=function(e){return e}),void 0===e.restoreDates&&(e.restoreDates=!0);var n=e.mergeReducer;void 0!==n&&"function"==typeof n||(n=c);var r,i,a,l=e.keys.map(function(e){var t=e;if("object"==typeof e&&(t=Object.keys(e)[0]),"string"!=typeof t)throw new TypeError("localStorageSync Unknown Parameter Type: Expected type of string, got "+typeof t);return e}),h=e.rehydrate?(r=e.storage,i=e.storageKeySerializer,a=e.restoreDates,l.reduce(function(e,t){var n,u,c=t,l=a?o:s;if("object"==typeof c&&("function"==typeof t[c=Object.keys(c)[0]]?l=t[c]:(t[c].reviver&&(l=t[c].reviver),t[c].deserialize&&(n=t[c].deserialize)),t[c].encrypt&&t[c].decrypt?"function"==typeof t[c].encrypt&&"function"==typeof t[c].decrypt?u=t[c].decrypt:console.error("Either encrypt or decrypt is not a function on '".concat(t[c],"' key object.")):(t[c].encrypt||t[c].decrypt)&&console.error("Either encrypt or decrypt function is not present on '".concat(t[c],"' key object."))),void 0!==r){var h=r.getItem(i(c));if(h){u&&(h=u(h));var d=new RegExp("{|\\["),f=h;return("null"===h||"true"===h||"false"===h||d.test(h.charAt(0)))&&(f=JSON.parse(h,l)),Object.assign({},e,_defineProperty({},c,n?n(f):f))}}return e},{})):void 0;return function(r,i){var o;return o="@ngrx/store/init"!==i.type||r?Object.assign({},r):t(r,i),o=n(o,h,i),o=t(o,i),"@ngrx/store/init"!==i.type&&u(o,l,e.storage,e.storageKeySerializer,e.removeOnUndefined,e.syncCondition),o}}}}},[[0,0]]])})();